{"version":3,"file":"static/js/361.db3848a2.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/PayRoll/PayRollPage.jsx"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect , useContext} from 'react';\r\nimport { Context } from '../HrmsContext';\r\nimport axios from 'axios';\r\n import jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\nimport { useNavigate} from 'react-router-dom';\r\n\r\n// API Service Functions - Updated with correct endpoints\r\n\r\nconst API_BASE_URL = 'http://localhost:8087/api/payroll';\r\n\r\nconst token=localStorage.getItem(\"accessToken\");\r\n\r\n\r\n\r\nconst payrollApi = {\r\n  // Add new employee\r\n  addEmployee: async (employeeData) => {\r\n    const response = await fetch(`${API_BASE_URL}/create`, {\r\n      method: 'POST',\r\n      headers: {\r\n         Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(employeeData),\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.message || 'Failed to add employee');\r\n    }\r\n    \r\n    return response.json();\r\n  },\r\n\r\n  // Add attendance\r\n  addAttendance: async (attendanceData) => {\r\n    const response = await fetch(`${API_BASE_URL}/attendance`, {\r\n      method: 'POST',\r\n      headers: {\r\n         Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(attendanceData),\r\n    });\r\n    if (!response.ok) throw new Error('Failed to add attendance');\r\n    return response.json();\r\n  },\r\n \r\n\r\n  // Calculate payroll\r\n  calculatePayroll: async (calculationData) => {\r\n    const response = await fetch(`${API_BASE_URL}/payroll/calculate`, {\r\n      method: 'POST',\r\n      headers: {\r\n         Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(calculationData),\r\n    });\r\n    if (!response.ok) throw new Error('Failed to calculate payroll');\r\n    return response.json();\r\n  },\r\n\r\n \r\n  getPayrollByEmployeeAndMonth: async (employeeId, month, year) => {\r\n    const response = await axios.get(`${API_BASE_URL}/employees/${employeeId}/salary/${month}/${year}`,\r\n      {\r\n        headers : {Authorization : `Bearer ${token}`}\r\n      }\r\n    );\r\n    return response.data.data; \r\n  },\r\n\r\n  updatePayrollComponents: async (payrollId, updateData) => {\r\n    const response = await axios.put(\r\n      `${API_BASE_URL}/admin/payroll/${payrollId}/update`,\r\n      updateData,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  \r\n  recalculateSalary: async (payrollId) => {\r\n    const response = await axios.post(\r\n      `${API_BASE_URL}/payroll/recalculate/${payrollId}`,\r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n\r\n  getEmployeeSalaryByMonth: async (employeeId, month, year) => {\r\n    const response = await axios.get(\r\n      `${API_BASE_URL}/employees/${employeeId}/salary/${month}/${year}`,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n\r\n    const data = response.data?.data;\r\n    if (Array.isArray(data)) return data;\r\n    if (data) return [data];\r\n    return [];\r\n  },\r\n\r\n  \r\n  getEmployeeFullData: async (employeeId) => {\r\n    const response = await axios.get(\r\n      `${API_BASE_URL}/employees/fulldata/${employeeId}`,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n    return response.data?.data || {};\r\n  },\r\n\r\n  \r\n  getAllEmployees: async () => {\r\n    const response = await axios.get(`${API_BASE_URL}/employee`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const data = response.data?.data;\r\n    return Array.isArray(data) ? data : [];\r\n  },\r\n\r\n  \r\n  updateEmployee: async (employeeId, employeeData) => {\r\n    const response = await axios.put(\r\n      `${API_BASE_URL}/employee/${employeeId}`,\r\n      employeeData,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  \r\n  updatePayrollWithBonus: async (payrollId, bonusData) => {\r\n    const response = await axios.put(\r\n      `${API_BASE_URL}/admin/payroll/${payrollId}/update`,\r\n      bonusData,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    return response.data?.data || response.data;\r\n  },\r\n\r\n  \r\n  deleteEmployee: async (employeeId) => {\r\n    const response = await axios.delete(`${API_BASE_URL}/employee/${employeeId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return response.data;\r\n  },\r\n};\r\n\r\n\r\n// Helper function to convert month name to number\r\nconst getMonthNumber = (monthName) => {\r\n  const months = {\r\n    'January': 1, 'February': 2, 'March': 3, 'April': 4, 'May': 5, 'June': 6,\r\n    'July': 7, 'August': 8, 'September': 9, 'October': 10, 'November': 11, 'December': 12\r\n  };\r\n  return months[monthName];\r\n};\r\n\r\n  \r\n\r\n// Helper function to transform frontend employee data to backend format\r\nconst transformEmployeeToBackend = (frontendData) => {\r\n  return {\r\n    employeeId: frontendData.employeeId,\r\n    empName: frontendData.employeeName,\r\n    email: frontendData.email,\r\n    phoneNumber: frontendData.phoneNumber,\r\n    annualSalary: frontendData.annualSalary,\r\n    accountNumber: frontendData.accountNumber,\r\n    ifsccode: frontendData.ifsccode,\r\n    bankName: frontendData.bankName,\r\n    pfnum: frontendData.pfnum,\r\n    panNumber: frontendData.panNumber,\r\n    aadharNumber: frontendData.aadharNumber,\r\n    uanNumber: frontendData.uanNumber,\r\n    department: frontendData.department,\r\n    designation: frontendData.designation\r\n  };\r\n};\r\n\r\n\r\n// Helper function to transform backend employee data to frontend format\r\nconst transformEmployeeToFrontend = (backendData) => {\r\n  if (!backendData) {\r\n    return getDefaultEmployeeData();\r\n  }\r\n\r\n  console.log('Transform function input:', backendData);\r\n\r\n  // Determine if this is payroll data or employee data\r\n  const isPayrollData = backendData.payrollId !== undefined;\r\n  const payrollData = isPayrollData ? backendData : null;\r\n  const employeeData = backendData.employee || backendData;\r\n\r\n  // Calculate default values based on annual salary\r\n  const annualSalary = employeeData.annualSalary || 0;\r\n  const monthlySalary = annualSalary ? (annualSalary * 100000 / 12) : 0;\r\n\r\n  // Use payroll data if available, otherwise calculate defaults\r\n  const grossEarnings = payrollData?.grossEarnings || (monthlySalary > 0 ? monthlySalary : 0);\r\n  const totalDeductions = payrollData?.totalDeductions || (monthlySalary > 0 ? Math.round(monthlySalary * 0.12) + 200 : 0);\r\n  const netSalary = payrollData?.netSalary || (grossEarnings - totalDeductions);\r\n  const bonusAmount = payrollData?.bonusAmount || 0;\r\n  const hikePercentage = payrollData?.hikePercentage || 0;\r\n\r\n   \r\n\r\n  // console.log('Calculated values:', {\r\n  //   annualSalary,\r\n  //   monthlySalary,\r\n  //   grossEarnings,\r\n  //   totalDeductions,\r\n  //   netSalary,\r\n  //   isPayrollData: !!payrollData\r\n  // });\r\n  \r\n\r\n  return {\r\n    id: employeeData.id || employeeData.employeeId,\r\n    employeeId: employeeData.employeeId,\r\n    employeeName: employeeData.empName || employeeData.employeeName,\r\n    email: employeeData.email || '',\r\n    phoneNumber: employeeData.phoneNumber || '',\r\n    annualSalary: annualSalary,\r\n    accountNumber: employeeData.accountNumber || '',\r\n    ifsccode: employeeData.IFSCcode || employeeData.ifsccode || '',\r\n    bankName: employeeData.bankName || '',\r\n    pfnum: employeeData.PFnum || employeeData.pfnum || '',\r\n    panNumber: employeeData.panNumber || '',\r\n    aadharNumber: employeeData.aadharNumber || '',\r\n    uanNumber: employeeData.uanNumber || '',\r\n    department: employeeData.department || '',\r\n    designation: employeeData.designation || '',\r\n    \r\n    // Payroll specific fields\r\n    bankAccountName: employeeData.empName || employeeData.employeeName,\r\n    phoneNo: employeeData.phoneNumber || '',\r\n    panNo: employeeData.panNumber || '',\r\n   // pfnum: employeeData.PFnum || employeeData.pfnum || '',\r\n    \r\n\r\nstandardDays: Number(payrollData?.standardDays) || \r\n              Number(payrollData?.totalWorkingDays) || \r\n              Number(payrollData?.workingDays) ||\r\n              Number(payrollData?.attendance?.standardDays) || \r\n              26,\r\npayableDays: Number(payrollData?.payableDays) || \r\n             Number(payrollData?.paidDays) || \r\n             Number(payrollData?.attendance?.payableDays) || \r\n             26,\r\nlossOfPayDays: Number(payrollData?.lossOfPayDays) || \r\n               Number(payrollData?.lopDays) ||\r\n               Number(payrollData?.attendance?.lossOfPayDays) || \r\n               0,\r\nlopReversalDays: Number(payrollData?.lopReversalDays) || \r\n                 Number(payrollData?.attendance?.lopReversalDays) || \r\n                 0,\r\narrearDays: Number(payrollData?.arrearDays) || \r\n            Number(payrollData?.attendance?.arrearDays) || \r\n            0,\r\n    // Bonus and hike\r\n    bonus: bonusAmount,\r\n    hike: hikePercentage,\r\n    \r\n    // Earnings - use payroll data or calculate defaults\r\n    earnings: payrollData ? [\r\n      { \r\n        name: 'BASIC', \r\n        monthlyRate: payrollData.basicSalary || 0, \r\n        currentMonth: payrollData.basicSalary || 0, \r\n        arrear: 0, \r\n        total: payrollData.basicSalary || 0 \r\n      },\r\n      { \r\n        name: 'HRA', \r\n        monthlyRate: payrollData.hraAmount || 0, \r\n        currentMonth: payrollData.hraAmount || 0, \r\n        arrear: 0, \r\n        total: payrollData.hraAmount || 0 \r\n      },\r\n      { \r\n        name: 'CONVEYANCE', \r\n        monthlyRate: payrollData.conveyanceAllowance || 0, \r\n        currentMonth: payrollData.conveyanceAllowance || 0, \r\n        arrear: 0, \r\n        total: payrollData.conveyanceAllowance || 0 \r\n      },\r\n      { \r\n        name: 'MEDICAL', \r\n        monthlyRate: payrollData.medicalAllowance || 0, \r\n        currentMonth: payrollData.medicalAllowance || 0, \r\n        arrear: 0, \r\n        total: payrollData.medicalAllowance || 0 \r\n      },\r\n      { \r\n        name: 'SPECIAL ALLOWANCE', \r\n        monthlyRate: payrollData.specialAllowance || 0, \r\n        currentMonth: payrollData.specialAllowance || 0, \r\n        arrear: 0, \r\n        total: payrollData.specialAllowance || 0 \r\n      }\r\n    ] : (monthlySalary > 0 ? [\r\n      { \r\n        name: 'BASIC', \r\n        monthlyRate: Math.round(monthlySalary * 0.5), \r\n        currentMonth: Math.round(monthlySalary * 0.5), \r\n        arrear: 0, \r\n        total: Math.round(monthlySalary * 0.5) \r\n      },\r\n      { \r\n        name: 'HRA', \r\n        monthlyRate: Math.round(monthlySalary * 0.4), \r\n        currentMonth: Math.round(monthlySalary * 0.4), \r\n        arrear: 0, \r\n        total: Math.round(monthlySalary * 0.4) \r\n      },\r\n      { \r\n        name: 'SPECIAL ALLOWANCE', \r\n        monthlyRate: Math.round(monthlySalary * 0.1), \r\n        currentMonth: Math.round(monthlySalary * 0.1), \r\n        arrear: 0, \r\n        total: Math.round(monthlySalary * 0.1) \r\n      }\r\n    ] : []),\r\n    \r\n    // Deductions - use payroll data or calculate defaults\r\n    deductions: payrollData ? [\r\n      { name: 'PROVIDENT FUND', amount: payrollData.providentFund || 0 },\r\n      { name: 'PROFESSIONAL TAX', amount: payrollData.professionalTax || 0 },\r\n      { name: 'INCOME TAX', amount: payrollData.incomeTax || 0 }\r\n    ] : (monthlySalary > 0 ? [\r\n      { name: 'PROVIDENT FUND', amount: Math.round(monthlySalary * 0.12) },\r\n      { name: 'PROFESSIONAL TAX', amount: 200 }\r\n    ] : []),\r\n    \r\n    // Use calculated/actual values\r\n    grossEarnings: grossEarnings,\r\n    totalDeductions: totalDeductions,\r\n    netSalary: netSalary,\r\n    \r\n    // Include payroll ID for updates\r\n    payrollId: payrollData?.payrollId\r\n  };\r\n};\r\n\r\n// Helper function for default employee data\r\nconst getDefaultEmployeeData = () => {\r\n  return {\r\n    id: 'unknown',\r\n    employeeId: 'unknown',\r\n    employeeName: 'Unknown Employee',\r\n    email: '',\r\n    phoneNumber: '',\r\n    annualSalary: 0,\r\n    accountNumber: '',\r\n    ifsccode: '',\r\n    bankName: '',\r\n    pfnum: '',\r\n    panNumber: '',\r\n    aadharNumber: '',\r\n    uanNumber: '',\r\n    department: '',\r\n    designation: '',\r\n    bankAccountName: 'Unknown Employee',\r\n    phoneNo: '',\r\n    panNo: '',\r\n    pfNo: '',\r\n    standardDays: 26,\r\n    payableDays: 26,\r\n    lossOfPayDays: 0,\r\n    lopReversalDays: 0,\r\n    arrearDays: 0,\r\n    bonus: 0,\r\n    hike: 0,\r\n    earnings: [],\r\n    deductions: [],\r\n    grossEarnings: 0,\r\n    totalDeductions: 0,\r\n    netSalary: 0\r\n  };\r\n};\r\n\r\n// Helper function for default earnings calculation\r\nconst getDefaultEarnings = (annualSalary) => {\r\n  const monthlySalary = annualSalary ? (annualSalary * 100000 / 12) : 0;\r\n  return [\r\n    { \r\n      name: 'BASIC', \r\n      monthlyRate: Math.round(monthlySalary * 0.5), \r\n      currentMonth: Math.round(monthlySalary * 0.5), \r\n      arrear: 0, \r\n      total: Math.round(monthlySalary * 0.5) \r\n    },\r\n    { \r\n      name: 'HRA', \r\n      monthlyRate: Math.round(monthlySalary * 0.4), \r\n      currentMonth: Math.round(monthlySalary * 0.4), \r\n      arrear: 0, \r\n      total: Math.round(monthlySalary * 0.4) \r\n    },\r\n    { \r\n      name: 'SPECIAL ALLOWANCE', \r\n      monthlyRate: Math.round(monthlySalary * 0.1), \r\n      currentMonth: Math.round(monthlySalary * 0.1), \r\n      arrear: 0, \r\n      total: Math.round(monthlySalary * 0.1) \r\n    }\r\n  ];\r\n};\r\n\r\n// Helper function for default deductions calculation\r\nconst getDefaultDeductions = (annualSalary) => {\r\n  const monthlySalary = annualSalary ? (annualSalary * 100000 / 12) : 0;\r\n   \r\n  return [\r\n    { name: 'PROVIDENT FUND', amount: Math.round(monthlySalary * 0.12) },\r\n    { name: 'PROFESSIONAL TAX', amount: 200 }\r\n  ];\r\n};\r\n// Access Denied Component\r\nconst AccessDenied = () => {\r\n  const { theme } = useContext(Context); // âœ… Move this INSIDE the component\r\n  const isDark = theme === \"dark\";\r\n\r\n  return (\r\n    <div className={`min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center p-6 ${\r\n      isDark ? 'bg-gray-800' : 'bg-white'\r\n    }`}>\r\n      <div className=\"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center\">\r\n        <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n          <svg className=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n          </svg>\r\n        </div>\r\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Access Denied</h2>\r\n        <p className=\"text-gray-600 mb-6\">\r\n          You don't have permission to access the payroll management system. \r\n          This page is restricted to ADMIN users only.\r\n        </p>\r\n        <button \r\n          onClick={() => window.history.back()}\r\n          className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\"\r\n        >\r\n          Go Back\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Loading Component\r\nconst LoadingSpinner = () => (\r\n  <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center\">\r\n    <div className=\"text-center\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n      <p className=\"mt-4 text-gray-600\">Loading payroll system...</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// const AddEmployeeForm = ({ isAdding, newEmployee, onEmployeeChange, onSave, onCancel, loading }) => { \r\n//   const { theme } = useContext(Context);\r\n//   const isDark = theme === \"dark\";\r\n\r\n//   if (!isAdding) return null;\r\n\r\n//   return (\r\n//     <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\r\n//       <div className={`rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto ${\r\n//         isDark ? 'bg-gray-800' : 'bg-white'\r\n//       }`}>\r\n//         <div className=\"bg-gradient-to-r from-green-600 to-emerald-600 text-white p-6\">\r\n//           <h2 className=\"text-2xl font-bold\">Add New Employee</h2>\r\n//           <p className=\"opacity-90\">Fill in the employee details below</p>\r\n//         </div>\r\n        \r\n//         <div className=\"p-6\">\r\n//           <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n//             {/* Personal Information */}\r\n//             <div className=\"md:col-span-2\">\r\n//               <h3 className={`text-lg font-semibold mb-4 border-l-4 border-green-500 pl-3 ${\r\n//                 isDark ? 'text-white' : 'text-gray-800'\r\n//               }`}>Personal Information</h3>\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>Employee ID *</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEmployee.employeeId}\r\n//                 onChange={(e) => onEmployeeChange('employeeId', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"e.g., ACS00000001\"\r\n//               />\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>Employee Name *</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEmployee.employeeName}\r\n//                 onChange={(e) => onEmployeeChange('employeeName', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"Full name\"\r\n//               />\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>Email *</label>\r\n//               <input\r\n//                 type=\"email\"\r\n//                 value={newEmployee.email}\r\n//                 onChange={(e) => onEmployeeChange('email', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"email@company.com\"\r\n//               />\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>Phone Number</label>\r\n//               <input\r\n//                 type=\"tel\"\r\n//                 value={newEmployee.phoneNumber}\r\n//                 onChange={(e) => onEmployeeChange('phoneNumber', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"9876543210\"\r\n//               />\r\n//             </div>\r\n\r\n//             <div>\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>Designation</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEmployee.designation}\r\n//                 onChange={(e) => onEmployeeChange('designation', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"e.g., Software Engineer\"\r\n//               />\r\n//             </div>\r\n\r\n//             <div>\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>Department</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEmployee.department}\r\n//                 onChange={(e) => onEmployeeChange('department', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"e.g., Engineering\"\r\n//               />\r\n//             </div>\r\n\r\n//             {/* Salary Information */}\r\n//             <div className=\"md:col-span-2\">\r\n//               <h3 className={`text-lg font-semibold mb-4 border-l-4 border-green-500 pl-3 ${\r\n//                 isDark ? 'text-white' : 'text-gray-800'\r\n//               }`}>Salary Information</h3>\r\n//             </div>\r\n            \r\n//             <div className=\"md:col-span-2\">\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>Annual Salary (LPA)</label>\r\n//               <input\r\n//                 type=\"number\"\r\n//                 value={newEmployee.annualSalary}\r\n//                 onChange={(e) => onEmployeeChange('annualSalary', e.target.value === '' ? '' : Number(e.target.value))}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"6.0\"\r\n//                 step=\"0.1\"\r\n//                 min=\"0\"\r\n//               />\r\n//             </div>\r\n\r\n//             {/* Bank Details */}\r\n//             <div className=\"md:col-span-2\">\r\n//               <h3 className={`text-lg font-semibold mb-4 border-l-4 border-green-500 pl-3 ${\r\n//                 isDark ? 'text-white' : 'text-gray-800'\r\n//               }`}>Bank Details</h3>\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>Account Number</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEmployee.accountNumber}\r\n//                 onChange={(e) => onEmployeeChange('accountNumber', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"9861376290\"\r\n//               />\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>IFSC Code</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEmployee.ifsccode}\r\n//                 onChange={(e) => onEmployeeChange('ifsccode', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"SBIN0001234\"\r\n//               />\r\n//             </div>\r\n            \r\n//             <div className=\"md:col-span-2\">\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>Bank Name</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEmployee.bankName}\r\n//                 onChange={(e) => onEmployeeChange('bankName', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"State Bank of India\"\r\n//               />\r\n//             </div>\r\n\r\n//             {/* Government Identifiers */}\r\n//             <div className=\"md:col-span-2\">\r\n//               <h3 className={`text-lg font-semibold mb-4 border-l-4 border-green-500 pl-3 ${\r\n//                 isDark ? 'text-white' : 'text-gray-800'\r\n//               }`}>Government Identifiers</h3>\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>PF Number</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEmployee.pfnum}\r\n//                 onChange={(e) => onEmployeeChange('pfnum', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"PF123456\"\r\n//               />\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>PAN Number</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEmployee.panNumber}\r\n//                 onChange={(e) => onEmployeeChange('panNumber', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"ABCDE1234F\"\r\n//               />\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>Aadhar Number</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEmployee.aadharNumber}\r\n//                 onChange={(e) => onEmployeeChange('aadharNumber', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"123412341234\"\r\n//               />\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className={`block text-sm font-medium mb-2 ${\r\n//                 isDark ? 'text-gray-300' : 'text-gray-700'\r\n//               }`}>UAN Number</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEmployee.uanNumber}\r\n//                 onChange={(e) => onEmployeeChange('uanNumber', e.target.value)}\r\n//                 className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors ${\r\n//                   isDark \r\n//                     ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n//                     : 'bg-white border-gray-300 text-gray-800'\r\n//                 }`}\r\n//                 placeholder=\"UAN123456789\"\r\n//               />\r\n//             </div>\r\n//           </div>\r\n\r\n//           {/* Action Buttons */}\r\n//           <div className={`flex gap-4 justify-end pt-6 mt-6 border-t ${\r\n//             isDark ? 'border-gray-700' : 'border-gray-200'\r\n//           }`}>\r\n//             <button\r\n//               onClick={onCancel}\r\n//               disabled={loading}\r\n//               className={`px-6 py-2 border rounded-lg transition-colors font-medium disabled:opacity-50 ${\r\n//                 isDark \r\n//                   ? 'border-gray-600 text-gray-300 hover:bg-gray-700' \r\n//                   : 'border-gray-300 text-gray-700 hover:bg-gray-50'\r\n//               }`}\r\n//             >\r\n//               Cancel\r\n//             </button>\r\n//             <button\r\n//               onClick={onSave}\r\n//               disabled={loading}\r\n//               className=\"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 flex items-center gap-2\"\r\n//             >\r\n//               {loading ? (\r\n//                 <>\r\n//                   <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n//                   Adding...\r\n//                 </>\r\n//               ) : (\r\n//                 'Add Employee'\r\n//               )}\r\n//             </button>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// Edit Form Component\r\nconst EditEmployeeForm = ({ editingEmployee, onInputChange, onSaveEdit, onCancelEdit, loading }) => {\r\n  const { theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n  if (!editingEmployee) return null;\r\n\r\n  return (\r\n   <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\r\n      <div className={`rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto ${\r\n        isDark ? 'bg-gray-800' : 'bg-white'\r\n      }`}>\r\n        <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6\">\r\n          <h2 className=\"text-2xl font-bold\">Edit Employee - {editingEmployee.employeeName}</h2>\r\n          <p className=\"opacity-90\">Update employee details, bonus, and hike information</p>\r\n        </div>\r\n        \r\n        <div className=\"p-6\">\r\n          {/* Personal Information */}\r\n          <div className=\"mb-6\">\r\n            <h3 className={`text-lg font-semibold mb-4 ${\r\n              isDark ? 'text-white' : 'text-gray-800'\r\n            }`}>Personal Information</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>Employee Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.employeeName}\r\n                  onChange={(e) => onInputChange('employeeName', e.target.value)}\r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>Employee ID</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.employeeId}\r\n                  readOnly\r\n                  className={`w-full border rounded-lg px-4 py-2 ${\r\n                    isDark \r\n                      ? 'bg-gray-600 border-gray-600 text-gray-400' \r\n                      : 'bg-gray-100 border-gray-300 text-gray-600'\r\n                  }`}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={editingEmployee.email}\r\n                  onChange={(e) => onInputChange('email', e.target.value)}\r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>Phone Number</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  value={editingEmployee.phoneNo}\r\n                  onChange={(e) => onInputChange('phoneNo', e.target.value)}\r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Financial Information */}\r\n          <div className=\"mb-6\">\r\n            <h3 className={`text-lg font-semibold mb-4 ${\r\n              isDark ? 'text-white' : 'text-gray-800'\r\n            }`}>Financial Information</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>Annual Salary (LPA)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.1\"\r\n                  value={editingEmployee.annualSalary}\r\n                  onChange={(e) => onInputChange('annualSalary', parseFloat(e.target.value))}\r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>Bonus Amount (â‚¹)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={editingEmployee.bonus || 0}\r\n                  onChange={(e) => onInputChange('bonus', Number(e.target.value))}\r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                  placeholder=\"Enter bonus amount\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>Hike Percentage (%)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.1\"\r\n                  value={editingEmployee.hike || 0}\r\n                  onChange={(e) => onInputChange('hike', Number(e.target.value))}\r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                  placeholder=\"Enter hike percentage\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Bank Details */}\r\n          <div className=\"mb-6\">\r\n            <h3 className={`text-lg font-semibold mb-4 ${\r\n              isDark ? 'text-white' : 'text-gray-800'\r\n            }`}>Bank Details</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>Account Number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.accountNumber}\r\n                  onChange={(e) => onInputChange('accountNumber', e.target.value)}\r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>IFSC Code</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.ifsccode} \r\n                  onChange={(e) => onInputChange('ifsccode', e.target.value)} \r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>Bank Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.bankName}\r\n                  onChange={(e) => onInputChange('bankName', e.target.value)}\r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Government Identifiers */}\r\n          <div className=\"mb-6\">\r\n            <h3 className={`text-lg font-semibold mb-4 ${\r\n              isDark ? 'text-white' : 'text-gray-800'\r\n            }`}>Government Identifiers</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>PF Number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.pfnum} \r\n                  onChange={(e) => onInputChange('pfnum', e.target.value)} \r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>PAN Number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.panNumber}\r\n                  onChange={(e) => onInputChange('panNumber', e.target.value)}\r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>Aadhar Number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.aadharNumber}\r\n                  onChange={(e) => onInputChange('aadharNumber', e.target.value)}\r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className={`block text-sm font-medium mb-2 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>UAN Number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.uanNumber}\r\n                  onChange={(e) => onInputChange('uanNumber', e.target.value)}\r\n                  className={`w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${\r\n                    isDark \r\n                      ? 'bg-gray-700 border-gray-600 text-white' \r\n                      : 'bg-white border-gray-300 text-gray-800'\r\n                  }`}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className={`flex gap-4 justify-end pt-4 border-t ${\r\n            isDark ? 'border-gray-700' : 'border-gray-200'\r\n          }`}>\r\n            <button\r\n              onClick={onCancelEdit}\r\n              className={`px-6 py-2 border rounded-lg transition-colors font-medium ${\r\n                isDark \r\n                  ? 'border-gray-600 text-gray-300 hover:bg-gray-700' \r\n                  : 'border-gray-300 text-gray-700 hover:bg-gray-50'\r\n              }`}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={onSaveEdit}\r\n              disabled={loading}\r\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 flex items-center gap-2\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                  Saving...\r\n                </>\r\n              ) : (\r\n                'Save Changes'\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PayRollPage = () => {\r\n  const [selectedMonth, setSelectedMonth] = useState('April');\r\n  const [selectedYear, setSelectedYear] = useState('2025');\r\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\r\n  const [editingEmployee, setEditingEmployee] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const { userData } = useContext(Context);\r\n  const [isAdding, setIsAdding] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [apiLoading, setApiLoading] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n     const [employees, setEmployees] = useState([]);\r\n     const navigate=useNavigate();\r\n     const { theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n    \r\nconst [newEmployee, setNewEmployee] = useState({\r\n  employeeId: '',\r\n  employeeName: '',\r\n  email: '',\r\n  phoneNumber: '',\r\n  designation: '',        \r\n  department: '',         \r\n  annualSalary: 0,\r\n  accountNumber: '',\r\n  ifsccode: '',           \r\n  bankName: '',\r\n  pfnum: '',           \r\n  panNumber: '',\r\n  aadharNumber: '',\r\n  uanNumber: ''\r\n});\r\n\r\n  const [employeesData, setEmployeesData] = useState([]);\r\n  const paySlipRef = useRef(null);\r\n\r\n  const months = ['January', 'February', 'March', 'April', 'May', 'June', \r\n                  'July', 'August', 'September', 'October', 'November', 'December'];\r\n  const years = ['2023', '2024', '2025'];\r\n\r\n\r\n\r\n\r\n\r\n  // Move useCallback to the top\r\n  const handleNewEmployeeChange = useCallback((field, value) => {\r\n    setNewEmployee(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  }, []);\r\n\r\n  const handleInputChange = useCallback((field, value) => {\r\n    setEditingEmployee(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  }, []);\r\n\r\n  // Role-based access control\r\n  const hasAdminAccess = () => {\r\n    if (!userData) return false;\r\n    \r\n    if (Array.isArray(userData.roles)) {\r\n      return userData.roles.includes('ADMIN');\r\n    }\r\n    \r\n    return userData.roles === 'ADMIN';\r\n  };\r\n\r\n  // Load employees data on component mount and when month/year changes\r\n  useEffect(() => {\r\n    fetchEmployeesData();\r\n  }, [selectedMonth, selectedYear]);\r\n\r\n const fetchEmployeesData = async () => {\r\n  try {\r\n    setApiLoading(true);\r\n    const employees = await payrollApi.getAllEmployees();\r\n    \r\n    console.log('Raw employees from API:', employees);\r\n\r\n    const employeesArray = Array.isArray(employees) ? employees : [];\r\n    \r\n    const employeesWithPayroll = await Promise.all(\r\n      employeesArray.map(async (employee) => {\r\n        try {\r\n          const monthNumber = getMonthNumber(selectedMonth);\r\n          \r\n          console.log(`Fetching payroll for ${employee.employeeId}, ${monthNumber}, ${selectedYear}`);\r\n          \r\n          const payrollResponse = await payrollApi.getPayrollByEmployeeAndMonth(\r\n            employee.employeeId, \r\n            monthNumber, \r\n            parseInt(selectedYear)\r\n          );\r\n          \r\n          console.log(`Payroll API response for ${employee.employeeId}:`, payrollResponse);\r\n          \r\n          // Check if payroll response has data and merge properly\r\n          if (payrollResponse && payrollResponse.payrollId) {\r\n            console.log(`Merging payroll data for ${employee.employeeId}`);\r\n            \r\n            // Create base employee data\r\n            const baseEmployeeData = transformEmployeeToFrontend(employee);\r\n            \r\n            // Create payroll data with employee info included\r\n            const payrollWithEmployee = {\r\n              ...payrollResponse,\r\n              employee: {\r\n                ...employee,\r\n                ...baseEmployeeData\r\n              }\r\n            };\r\n            \r\n            // Transform the combined data\r\n            const attendanceData = transformEmployeeToFrontend(payrollWithEmployee);\r\n            \r\n            console.log(`Combined data for ${employee.employeeId}:`, attendanceData);\r\n            return attendanceData;\r\n          } else {\r\n           \r\n            console.log(`No payroll data for ${employee.employeeId}, using employee data only`);\r\n            return transformEmployeeToFrontend(employee);\r\n          }\r\n          \r\n        } catch (error) {\r\n          console.warn(`No payroll data found for ${employee.employeeId}:`, error.message);\r\n          \r\n          const employeeData = transformEmployeeToFrontend(employee);\r\n          console.log(`Employee data without payroll for ${employee.employeeId}:`, employeeData);\r\n          return employeeData;\r\n        }\r\n      })\r\n    );\r\n    \r\n    console.log('Final employees data to set:', employeesWithPayroll);\r\n    setEmployeesData(employeesWithPayroll);\r\n    setApiLoading(false);\r\n  } catch (error) {\r\n    console.error('Error fetching employees:', error);\r\n    setEmployeesData([]);\r\n    setApiLoading(false);\r\n    alert('Failed to load employee data. Please try again.');\r\n  }\r\n};\r\n\r\n  \r\n  if (!userData) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  \r\n  if (!hasAdminAccess()) {\r\n    return <AccessDenied />;\r\n  }\r\n\r\n  const handleAddEmployee = () => {\r\n    setIsAdding(true);\r\n  };\r\n\r\n  const handleCancelAdd = () => {\r\n    setIsAdding(false);\r\n    setNewEmployee({\r\n      employeeId: '',\r\n      employeeName: '', \r\n      email: '',\r\n      phoneNumber: '',\r\n      designation: '',\r\n      department: '',\r\n      annualSalary: 0,\r\n      accountNumber: '',\r\n      ifsccode: '', \r\n      bankName: '',\r\n      pfnum: '', \r\n      panNumber: '',\r\n      aadharNumber: '',\r\n      uanNumber: ''\r\n    });\r\n  };\r\n\r\n  const handleSaveNewEmployee = async () => {\r\n    if (!newEmployee.employeeId || !newEmployee.employeeName || !newEmployee.email) {\r\n      alert('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Transform data to backend format\r\n      const backendEmployeeData = transformEmployeeToBackend(newEmployee);\r\n      \r\n      console.log('Sending data to backend:', backendEmployeeData);\r\n      \r\n      // Call the API to add employee\r\n      const response = await payrollApi.addEmployee(backendEmployeeData);\r\n      console.log('Response from backend:', response);\r\n      \r\n      // After successful addition, calculate payroll for current month\r\n      const monthNumber = getMonthNumber(selectedMonth);\r\n      try {\r\n        await payrollApi.calculatePayroll({\r\n          employeeId: newEmployee.employeeId,\r\n          month: monthNumber,\r\n          year: parseInt(selectedYear)\r\n        });\r\n      } catch (calcError) {\r\n        console.warn('Payroll calculation failed:', calcError);\r\n        // Continue even if payroll calculation fails\r\n      }\r\n\r\n      // Refresh the employees list\r\n      await fetchEmployeesData();\r\n      \r\n      setIsAdding(false);\r\n      setNewEmployee({\r\n        employeeId: '',\r\n        employeeName: '',\r\n        email: '',\r\n        phoneNumber: '',\r\n        designation: '',\r\n        department: '',\r\n        annualSalary: 0,\r\n        accountNumber: '',\r\n        ifsccode: '',\r\n        bankName: '',\r\n        pfnum: '',\r\n        panNumber: '',\r\n        aadharNumber: '',\r\n        uanNumber: ''\r\n      });\r\n      \r\n      alert('Employee added successfully!');\r\n    } catch (error) {\r\n      console.error('Error adding employee:', error);\r\n      console.error('Error details:', error.message); \r\n      alert(`Failed to add employee: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\nconst handleDownloadPayslip = async (employee, data = {}) => {\r\n  try {\r\n    console.log('Starting payslip download for:', employee.employeeId);\r\n    \r\n    // Fetch the latest payroll data for the selected month/year\r\n    const monthNumber = getMonthNumber(selectedMonth);\r\n    let payrollData;\r\n    let employeeData = employee;\r\n\r\n    try {\r\n      payrollData = await payrollApi.getPayrollByEmployeeAndMonth(\r\n        employee.employeeId, \r\n        monthNumber, \r\n        parseInt(selectedYear)\r\n      );\r\n      console.log('Payroll API response:', payrollData);\r\n    } catch (error) {\r\n      console.warn('No payroll data found, using employee data only:', error.message);\r\n      payrollData = null;\r\n    }\r\n\r\n    // Use payroll data if available, otherwise use employee data with calculations\r\n    const finalData = payrollData ? {\r\n      ...employee,\r\n      ...payrollData\r\n    } : employee;\r\n\r\n    console.log('Final data for payslip:', finalData);\r\n\r\n   \r\n    const basicSalary = finalData.basicSalary || 0;\r\n    const hraAmount = finalData.hraAmount || finalData.hra || 0;\r\n    const conveyanceAllowance = finalData.conveyanceAllowance || 0;\r\n    const medicalAllowance = finalData.medicalAllowance || 0;\r\n    const specialAllowance = finalData.specialAllowance || 0;\r\n    \r\n    const providentFund = finalData.providentFund || 0;\r\n    const professionalTax = finalData.professionalTax || 0;\r\n    const incomeTax = finalData.incomeTax || 0;\r\n\r\n    const bonusAmount = finalData.bonusAmount || finalData.bonus || 0;\r\n    const hikePercentage = finalData.hikePercentage || finalData.hike || 0;\r\n\r\n    // Attendance data\r\n    const totalWorkingDays = finalData.totalWorkingDays || finalData.standardDays || 23;\r\n    const daysPresent = finalData.daysPresent || finalData.payableDays || 20;\r\n    const paidDays = finalData.paidDays || finalData.payableDays || 20;\r\n    const lossOfPayDays = finalData.lossOfPayDays || finalData.lopDays || 2;\r\n\r\n    // Calculate totals\r\n    const grossEarnings = basicSalary + hraAmount + conveyanceAllowance + medicalAllowance + specialAllowance + bonusAmount;\r\n    const totalDeductions = providentFund + professionalTax + incomeTax;\r\n    const netSalary = grossEarnings - totalDeductions;\r\n\r\n    console.log('Calculated values for PDF:', {\r\n      basicSalary, hraAmount, conveyanceAllowance, medicalAllowance, specialAllowance,\r\n      providentFund, professionalTax, incomeTax, bonusAmount, grossEarnings, totalDeductions, netSalary\r\n    });\r\n\r\n    // Helper function for pay period formatting\r\n    const formatPayPeriod = () => {\r\n      return `${selectedMonth} ${selectedYear}`;\r\n    };\r\n\r\n    // Create a temporary div to render the payslip HTML for PDF conversion\r\n    const payslipElement = document.createElement('div');\r\n    payslipElement.style.position = 'absolute';\r\n    payslipElement.style.left = '-9999px';\r\n    payslipElement.style.width = '800px';\r\n    payslipElement.style.padding = '20px';\r\n    payslipElement.style.backgroundColor = 'white';\r\n    payslipElement.style.fontFamily = 'Segoe UI, Tahoma, Geneva, Verdana, sans-serif';\r\n\r\n    // Use your EXACT styling template\r\n    payslipElement.innerHTML = `\r\n      <div style=\"font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 800px; margin: 0 auto; color: #333; line-height: 1.3; font-size: 20px;\">\r\n        <!-- Company Header -->\r\n        <div style=\"border-bottom: 2px solid #2c5aa0; padding: 20px 0 10px 0; margin-bottom: 20px;\">\r\n          <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;\">\r\n            <div>\r\n              <div style=\"font-size: 20px; font-weight: 600; color: #2c5aa0; letter-spacing: 0.5px;\">ANASOL CONSULTANCY SERVICES PVT LTD</div>\r\n              <div style=\"font-size: 12px; color: #666; margin-top: 3px;\">\r\n                #1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039\r\n              </div>\r\n            </div>\r\n            <div style=\"text-align: right;\">\r\n              <div style=\"font-size: 10px; font-weight: 600; color: #2c5aa0; margin-bottom: 3px;\">SALARY SLIP</div>\r\n              <div style=\"font-size: 12px; color: #d9534f; font-weight: 500; background: #f8f9fa; padding: 3px 10px; border-radius: 3px; display: inline-block;\">\r\n                ${formatPayPeriod()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Employee Information -->\r\n        <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;\">\r\n          <div>\r\n            <div style=\"font-size: 14px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid #e0e0e0;\">EMPLOYEE DETAILS</div>\r\n            <table style=\"width: 100%; border-collapse: collapse; font-size: 12px;\">\r\n              <tr>\r\n                <td style=\"padding: 6px 0; font-weight: 500; color: #555; width: 40%;\">Employee Name:</td>\r\n                <td style=\"padding: 6px 0; font-weight: 600;\">${finalData.employeeName || finalData.empName || ''}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style=\"padding: 6px 0; font-weight: 500; color: #555;\">Employee ID:</td>\r\n                <td style=\"padding: 6px 0;\">${finalData.employeeId || ''}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style=\"padding: 6px 0; font-weight: 500; color: #555;\">Designation:</td>\r\n                <td style=\"padding: 6px 0;\">${finalData.designation || 'N/A'}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style=\"padding: 6px 0; font-weight: 500; color: #555;\">Department:</td>\r\n                <td style=\"padding: 6px 0;\">${finalData.department || 'N/A'}</td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n\r\n          <div>\r\n            <div style=\"font-size: 14px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid #e0e0e0;\">BANK & STATUTORY DETAILS</div>\r\n            <table style=\"width: 100%; border-collapse: collapse; font-size: 12px;\">\r\n              <tr>\r\n                <td style=\"padding: 6px 0; font-weight: 500; color: #555; width: 40%;\">Bank A/C Name:</td>\r\n                <td style=\"padding: 6px 0;\">${finalData.employeeName || finalData.empName || ''}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style=\"padding: 6px 0; font-weight: 500; color: #555;\">PAN No:</td>\r\n                <td style=\"padding: 6px 0;\">${finalData.panNumber || finalData.panNo || 'N/A'}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style=\"padding: 6px 0; font-weight: 500; color: #555;\">PF No:</td>\r\n                <td style=\"padding: 6px 0;\">${finalData.pfnum || finalData.pfNo || 'N/A'}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style=\"padding: 6px 0; font-weight: 500; color: #555;\">IFSC Code:</td>\r\n                <td style=\"padding: 6px 0;\">${finalData.ifsccode || 'N/A'}</td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Attendance Information -->\r\n        <div style=\"margin: 20px 0;\">\r\n          <div style=\"font-size: 14px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid #e0e0e0;\">ATTENDANCE SUMMARY</div>\r\n          <table style=\"width: 100%; border-collapse: collapse; background: #f8f9fa; border-radius: 4px; overflow: hidden; font-size: 12px;\">\r\n            <thead>\r\n              <tr style=\"background: #2c5aa0; color: white;\">\r\n                <th style=\"padding: 10px; text-align: center; font-weight: 600;\">Total Working Days</th>\r\n                <th style=\"padding: 10px; text-align: center; font-weight: 600;\">Days Present</th>\r\n                <th style=\"padding: 10px; text-align: center; font-weight: 600;\">Paid Days</th>\r\n                <th style=\"padding: 10px; text-align: center; font-weight: 600;\">Loss of Pay Days</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td style=\"padding: 10px; text-align: center; background: white; border: 1px solid #e0e0e0;\">${formatNumber(totalWorkingDays)}</td>\r\n                <td style=\"padding: 10px; text-align: center; background: white; border: 1px solid #e0e0e0;\">${formatNumber(daysPresent)}</td>\r\n                <td style=\"padding: 10px; text-align: center; background: white; border: 1px solid #e0e0e0;\">${formatNumber(paidDays)}</td>\r\n                <td style=\"padding: 10px; text-align: center; background: white; border: 1px solid #e0e0e0;\">${formatNumber(lossOfPayDays)}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <!-- Bonus Information - Only show if bonus exists -->\r\n        ${bonusAmount > 0 ? `\r\n        <div style=\"margin: 12px 0;\">\r\n          <div style=\"font-size: 14px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid #e0e0e0;\">ADDITIONAL COMPENSATION</div>\r\n          <table style=\"width: 100%; border-collapse: collapse; background: #f8f9fa; border-radius: 4px; overflow: hidden; font-size: 12px;\">\r\n            <thead>\r\n              <tr style=\"background: #28a745; color: white;\">\r\n                <th style=\"padding: 10px; text-align: center; font-weight: 600;\">Bonus Amount</th>\r\n                <th style=\"padding: 10px; text-align: center; font-weight: 600;\">Hike Percentage</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td style=\"padding: 10px; text-align: center; background: white; border: 1px solid #e0e0e0; font-weight: 600; color: #28a745;\">${formatCurrency(bonusAmount)}</td>\r\n                <td style=\"padding: 10px; text-align: center; background: white; border: 1px solid #e0e0e0; font-weight: 600; color: #28a745;\">${hikePercentage}%</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        ` : ''}\r\n\r\n        <!-- Salary Details -->\r\n        <div style=\"margin: 20px 0;\">\r\n          <div style=\"font-size: 14px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid #e0e0e0;\">SALARY BREAKUP</div>\r\n          \r\n          <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px;\">\r\n            <!-- Earnings -->\r\n            <div>\r\n              <div style=\"font-size: 20px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; background: #f8f9fa; padding: 6px 10px; border-radius: 3px;\">EARNINGS</div>\r\n              <table style=\"width: 100%; border-collapse: collapse; border: 1px solid #e0e0e0; font-size: 12px;\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Basic Salary</td>\r\n                    <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(basicSalary)}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">HRA</td>\r\n                    <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(hraAmount)}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Conveyance Allowance</td>\r\n                    <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(conveyanceAllowance)}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Medical Allowance</td>\r\n                    <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(medicalAllowance)}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Special Allowance</td>\r\n                    <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(specialAllowance)}</td>\r\n                  </tr>\r\n                  ${bonusAmount > 0 ? `\r\n                  <tr>\r\n                    <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Bonus</td>\r\n                    <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(bonusAmount)}</td>\r\n                  </tr>\r\n                  ` : ''}\r\n                  <tr style=\"background: #e9ecef; font-weight: 600;\">\r\n                    <td style=\"padding: 10px;\">Gross Earnings</td>\r\n                    <td style=\"padding: 10px; text-align: right;\">${formatCurrency(grossEarnings)}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <!-- Deductions -->\r\n            <div>\r\n              <div style=\"font-size: 20px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; background: #f8f9fa; padding: 6px 10px; border-radius: 3px;\">DEDUCTIONS</div>\r\n              <table style=\"width: 100%; border-collapse: collapse; border: 1px solid #e0e0e0; font-size: 12px;\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Provident Fund</td>\r\n                    <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(providentFund)}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Professional Tax</td>\r\n                    <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(professionalTax)}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Income Tax</td>\r\n                    <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(incomeTax)}</td>\r\n                  </tr>\r\n                  <tr style=\"background: #e9ecef; font-weight: 600;\">\r\n                    <td style=\"padding: 10px;\">Total Deductions</td>\r\n                    <td style=\"padding: 10px; text-align: right;\">${formatCurrency(totalDeductions)}</td>\r\n                  </tr>\r\n                  <tr style=\"background: #d4edda; font-weight: 700; color: #155724; border: 2px solid #c3e6cb;\">\r\n                    <td style=\"padding: 12px 10px; font-size: 20px;\">NET SALARY PAYABLE</td>\r\n                    <td style=\"padding: 12px 10px; text-align: right; font-size: 20px;\">${formatCurrency(netSalary)}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Footer -->\r\n        <div style=\"margin-top: 20px; padding-top: 20px; border-top: 1px solid #e0e0e0; text-align: center; color: #666; font-size: 11px;\">\r\n          <div style=\"margin-bottom: 5px;\">\r\n            <strong>ANASOL CONSULTANCY SERVICES PVT LTD</strong> | \r\n            #1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039 |\r\n            Ph: 9632091726 | Email: hr@anasolconsultancy.com | www.anasol.com\r\n          </div>\r\n          <div style=\"color: #999; font-style: italic;\">\r\n            This is a system generated document and does not require signature\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    // Add to document\r\n    document.body.appendChild(payslipElement);\r\n\r\n    // Convert to PDF\r\n    const canvas = await html2canvas(payslipElement, {\r\n      scale: 2, // Higher quality\r\n      useCORS: true,\r\n      logging: false,\r\n      width: payslipElement.offsetWidth,\r\n      height: payslipElement.offsetHeight\r\n    });\r\n\r\n    // Remove temporary element\r\n    document.body.removeChild(payslipElement);\r\n\r\n    const imgData = canvas.toDataURL('image/png');\r\n    \r\n    // Create PDF\r\n    const pdf = new jsPDF('p', 'mm', 'a4');\r\n    const imgWidth = 210; \r\n    const pageHeight = 297;\r\n    const imgHeight = (canvas.height * imgWidth) / canvas.width;\r\n    \r\n    let heightLeft = imgHeight;\r\n    let position = 0;\r\n\r\n    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\r\n    heightLeft -= pageHeight;\r\n\r\n    // Add new pages if needed\r\n    while (heightLeft >= 0) {\r\n      position = heightLeft - imgHeight;\r\n      pdf.addPage();\r\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\r\n      heightLeft -= pageHeight;\r\n    }\r\n\r\n    // Save PDF\r\n    const fileName = `Payslip_${finalData.employeeName || finalData.empName}_${selectedMonth}_${selectedYear}.pdf`;\r\n    pdf.save(fileName);\r\n    \r\n    console.log('PDF payslip downloaded successfully:', fileName);\r\n    \r\n  } catch (error) {\r\n    console.error('Error downloading payslip:', error);\r\n    console.error('Error details:', error.message);\r\n    alert('Failed to download payslip: ' + error.message);\r\n  }\r\n};\r\n\r\n\r\n// Helper function to format numbers with optional decimals\r\nconst formatNumber = (value, decimals = 1) => {\r\n  const num = Number(value);\r\n  return isNaN(num) ? '0.0' : num.toFixed(decimals);\r\n};\r\n\r\n\r\n\r\n// Currency formatting function with proper Indian formatting\r\nconst formatCurrency = (amount) => {\r\n  const num = Number(amount);\r\n  if (isNaN(num)) return '0.00';\r\n  \r\n  return new Intl.NumberFormat('en-IN', {\r\n    minimumFractionDigits: 2,\r\n    maximumFractionDigits: 2\r\n  }).format(num);\r\n};\r\n\r\n\r\n\r\n// Helper function to generate HTML content\r\nconst generatePayslipHTML = (data, options) => {\r\n  const { selectedMonth, selectedYear, grossEarnings, totalDeductions, bonusAmount, netSalary } = options;\r\n  \r\n  return `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <title>Pay Slip - ${data.employeeName}</title>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\r\n    \r\n    body { \r\n      font-family: 'Inter', sans-serif; \r\n      margin: 0; \r\n      padding: 20px;\r\n      background-color: white;\r\n    }\r\n    .container { \r\n      max-width: 800px; \r\n      margin: 0 auto; \r\n      background: white;\r\n      border-radius: 16px;\r\n      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\r\n      overflow: hidden;\r\n      border: 1px solid #e0e6ff;\r\n    }\r\n    .company-header { \r\n      background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);\r\n      color: white; \r\n      padding: 30px;\r\n      position: relative;\r\n    }\r\n    .header-content {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n    }\r\n    .company-info {\r\n      flex: 1;\r\n    }\r\n    .company-name { \r\n      font-size: 28px; \r\n      font-weight: 700; \r\n      margin-bottom: 8px;\r\n      letter-spacing: -0.5px;\r\n    }\r\n    .salary-slip-title { \r\n      font-size: 24px; \r\n      font-weight: 600;\r\n      opacity: 0.9;\r\n    }\r\n    .month-badge {\r\n      background: rgba(255, 255, 255, 0.2);\r\n      padding: 8px 16px;\r\n      border-radius: 20px;\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      margin-top: 10px;\r\n      display: inline-block;\r\n    }\r\n    .employee-info { \r\n      display: grid; \r\n      grid-template-columns: 1fr 1fr; \r\n      gap: 25px; \r\n      padding: 30px; \r\n      background: #f8faff;\r\n    }\r\n    .info-card {\r\n      background: white;\r\n      padding: 20px;\r\n      border-radius: 12px;\r\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n      border: 1px solid #e0e6ff;\r\n    }\r\n    .info-row { \r\n      margin-bottom: 12px; \r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 8px 0;\r\n      border-bottom: 1px solid #f1f5f9;\r\n    }\r\n    .info-row:last-child {\r\n      border-bottom: none;\r\n    }\r\n    .info-label { \r\n      font-weight: 600; \r\n      color: #475569;\r\n      font-size: 14px;\r\n    }\r\n    .info-value { \r\n      font-weight: 500;\r\n      color: #1e293b;\r\n      text-align: right;\r\n    }\r\n    .section-title {\r\n      font-size: 20px;\r\n      font-weight: 700;\r\n      margin-bottom: 20px;\r\n      color: #1e293b;\r\n      padding: 0 30px;\r\n      position: relative;\r\n    }\r\n    .section-title::after {\r\n      content: '';\r\n      position: absolute;\r\n      bottom: -8px;\r\n      left: 30px;\r\n      width: 50px;\r\n      height: 3px;\r\n      background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);\r\n      border-radius: 2px;\r\n    }\r\n    .attendance-table, .earnings-table, .deductions-table, .bonus-table { \r\n      width: 100%; \r\n      border-collapse: collapse; \r\n      margin: 20px 0; \r\n      border-radius: 12px;\r\n      overflow: hidden;\r\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n    }\r\n    .attendance-table th, .attendance-table td, \r\n    .earnings-table th, .earnings-table td,\r\n    .deductions-table th, .deductions-table td,\r\n    .bonus-table th, .bonus-table td { \r\n      border: 1px solid #e2e8f0; \r\n      padding: 16px; \r\n      text-align: center; \r\n    }\r\n    .attendance-table th, .earnings-table th, .deductions-table th, .bonus-table th { \r\n      background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);\r\n      color: white; \r\n      font-weight: 600;\r\n      font-size: 14px;\r\n      border: none;\r\n    }\r\n    .attendance-table td, .earnings-table td, .deductions-table td, .bonus-table td {\r\n      background: white;\r\n      font-weight: 500;\r\n      color: #475569;\r\n    }\r\n    .earnings-section { \r\n      padding: 0 30px;\r\n      margin-bottom: 30px;\r\n    }\r\n    .salary-details-grid {\r\n      display: grid;\r\n      grid-template-columns: 2fr 1fr;\r\n      gap: 30px;\r\n    }\r\n    .subsection-title {\r\n      font-weight: 700;\r\n      margin-bottom: 16px;\r\n      color: #1e293b;\r\n      font-size: 16px;\r\n      padding-left: 8px;\r\n      border-left: 4px solid #1e40af;\r\n    }\r\n    .bg-blue-50 {\r\n      background: #dbeafe;\r\n    }\r\n    .bg-green-50 {\r\n      background: #dcfce7;\r\n    }\r\n    .bg-yellow-50 {\r\n      background: #fef9c3;\r\n    }\r\n    .font-semibold {\r\n      font-weight: 600;\r\n    }\r\n    .font-bold {\r\n      font-weight: 700;\r\n    }\r\n    .text-right {\r\n      text-align: right;\r\n    }\r\n    .text-center {\r\n      text-align: center;\r\n    }\r\n    .highlight-row {\r\n      font-size: 15px;\r\n      color: #1e293b;\r\n    }\r\n    .net-salary-row {\r\n      font-size: 16px;\r\n      color: #065f46;\r\n    }\r\n    .footer { \r\n      text-align: center; \r\n      padding: 25px; \r\n      background: #f8fafc;\r\n      margin-top: 30px;\r\n      border-top: 1px solid #e2e8f0;\r\n      color: #64748b;\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n    }\r\n    .footer p {\r\n      margin: 4px 0;\r\n    }\r\n    .watermark {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%) rotate(-45deg);\r\n      font-size: 80px;\r\n      font-weight: 900;\r\n      color: rgba(30, 64, 175, 0.03);\r\n      pointer-events: none;\r\n      z-index: 0;\r\n    }\r\n    @media print {\r\n      body { \r\n        background-color: white;\r\n        margin: 0;\r\n        padding: 0;\r\n      }\r\n      .container {\r\n        box-shadow: none;\r\n        margin: 0;\r\n        max-width: none;\r\n        border: none;\r\n      }\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <div class=\"container\">\r\n    <!-- Watermark -->\r\n    <div class=\"watermark\">ANASOL</div>\r\n    \r\n    <!-- Company Header -->\r\n    <div class=\"company-header\">\r\n      <div class=\"header-content\">\r\n        <div class=\"company-info\">\r\n          <div class=\"company-name\">ANASOL CONSULTANCY SERVICES PVT LTD</div>\r\n          <div class=\"salary-slip-title\">SALARY SLIP</div>\r\n          <div class=\"month-badge\">${selectedMonth} ${selectedYear}</div>\r\n        </div>\r\n        <div class=\"logo-container\">\r\n          <!-- Logo placeholder -->\r\n          <div style=\"width: 100px; height: 100px; background: rgba(255,255,255,0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;\">LOGO</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Employee Information -->\r\n    <div class=\"employee-info\">\r\n      <div class=\"info-card\">\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Employee Name:</span>\r\n          <span class=\"info-value\">${data.employeeName || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Employee ID:</span>\r\n          <span class=\"info-value\">${data.employeeId || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Designation:</span>\r\n          <span class=\"info-value\">${data.designation || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Department:</span>\r\n          <span class=\"info-value\">${data.department || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Phone No:</span>\r\n          <span class=\"info-value\">${data.phoneNo || data.phoneNumber || 'N/A'}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"info-card\">\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Bank A/C Name:</span>\r\n          <span class=\"info-value\">${data.bankAccountName || data.employeeName || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">PAN No:</span>\r\n          <span class=\"info-value\">${data.panNo || data.panNumber || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">PF No:</span>\r\n          <span class=\"info-value\">${data.pfNo || data.pfnum || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">IFSC Code:</span>\r\n          <span class=\"info-value\">${data.ifsccode || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Email:</span>\r\n          <span class=\"info-value\">${data.email || 'N/A'}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Attendance Information -->\r\n    <div class=\"section-title\">Attendance Information</div>\r\n    <div style=\"padding: 0 30px;\">\r\n      <table class=\"attendance-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Standard Days</th>\r\n            <th>Payable Days</th>\r\n            <th>Loss of Pay Days</th>\r\n            <th>LOP Reversal Days</th>\r\n            <th>Arrear Days</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>${data.standardDays || 0}</td>\r\n            <td>${data.payableDays || 0}</td>\r\n            <td>${data.lossOfPayDays || 0}</td>\r\n            <td>${data.lopReversalDays || 0}</td>\r\n            <td>${data.arrearDays || 0}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <!-- Bonus Information -->\r\n    ${bonusAmount > 0 ? `\r\n    <div class=\"section-title\">Additional Compensation</div>\r\n    <div style=\"padding: 0 30px;\">\r\n      <table class=\"bonus-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Bonus Amount</th>\r\n            <th>Hike Percentage</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>â‚¹${bonusAmount.toLocaleString()}</td>\r\n            <td>${data.hike || 0}%</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    ` : ''}\r\n\r\n    <!-- Salary Details -->\r\n    <div class=\"section-title\">Salary Details</div>\r\n    <div class=\"earnings-section\">\r\n      <div class=\"salary-details-grid\">\r\n        <!-- Earnings -->\r\n        <div>\r\n          <div class=\"subsection-title\">EARNINGS</div>\r\n          <table class=\"earnings-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Description</th>\r\n                <th>Monthly Rate</th>\r\n                <th>Current Month</th>\r\n                <th>Arrear (+/-)</th>\r\n                <th>Total</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              ${(data.earnings || []).map(earning => `\r\n                <tr>\r\n                  <td>${earning.name || 'N/A'}</td>\r\n                  <td class=\"text-right\">â‚¹${(earning.monthlyRate || 0).toLocaleString()}</td>\r\n                  <td class=\"text-right\">â‚¹${(earning.currentMonth || 0).toLocaleString()}</td>\r\n                  <td class=\"text-right\">${earning.arrear || 0}</td>\r\n                  <td class=\"text-right\">â‚¹${(earning.total || 0).toLocaleString()}</td>\r\n                </tr>\r\n              `).join('')}\r\n              ${bonusAmount > 0 ? `\r\n                <tr class=\"bg-yellow-50\">\r\n                  <td>BONUS</td>\r\n                  <td class=\"text-right\">-</td>\r\n                  <td class=\"text-right\">-</td>\r\n                  <td class=\"text-right\">-</td>\r\n                  <td class=\"text-right\">â‚¹${bonusAmount.toLocaleString()}</td>\r\n                </tr>\r\n              ` : ''}\r\n              <tr class=\"bg-blue-50 font-semibold highlight-row\">\r\n                <td colspan=\"4\">GROSS EARNINGS</td>\r\n                <td class=\"text-right\">â‚¹${grossEarnings.toLocaleString()}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <!-- Deductions -->\r\n        <div>\r\n          <div class=\"subsection-title\">DEDUCTIONS</div>\r\n          <table class=\"deductions-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Description</th>\r\n                <th>Amount</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              ${(data.deductions || []).map(deduction => `\r\n                <tr>\r\n                  <td>${deduction.name || 'N/A'}</td>\r\n                  <td class=\"text-right\">â‚¹${(deduction.amount || 0).toLocaleString()}</td>\r\n                </tr>\r\n              `).join('')}\r\n              <tr class=\"bg-blue-50 font-semibold highlight-row\">\r\n                <td>TOTAL DEDUCTIONS</td>\r\n                <td class=\"text-right\">â‚¹${totalDeductions.toLocaleString()}</td>\r\n              </tr>\r\n              ${bonusAmount > 0 ? `\r\n                <tr class=\"bg-yellow-50 font-semibold\">\r\n                  <td>BONUS ADDED</td>\r\n                  <td class=\"text-right\">+ â‚¹${bonusAmount.toLocaleString()}</td>\r\n                </tr>\r\n              ` : ''}\r\n              <tr class=\"bg-green-50 font-bold net-salary-row\">\r\n                <td>NET SALARY</td>\r\n                <td class=\"text-right\">â‚¹${netSalary.toLocaleString()}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Footer -->\r\n    <div class=\"footer\">\r\n      <p>#1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039</p>\r\n      <p>Ph: 9632091726 | Email: info@anasol.com | www.anasol.com</p>\r\n      <p style=\"margin-top: 10px; font-size: 12px; color: #94a3b8;\">\r\n        This is a computer-generated document and does not require a signature\r\n      </p>\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>`;\r\n};\r\n\r\n  const handleDownloadExcel = async () => {\r\n    try {\r\n      // Create CSV content from actual data\r\n      const headers = ['Employee ID', 'Employee Name', 'Designation', 'Department', 'Gross Earnings', 'Bonus', 'Total Deductions', 'Net Salary'];\r\n      \r\n      const csvContent = [\r\n        headers.join(','),\r\n        ...employeesWithSalary.map(employee => [\r\n          employee.employeeId,\r\n          `\"${employee.employeeName}\"`,\r\n          `\"${employee.designation}\"`,\r\n          `\"${employee.department}\"`,\r\n          employee.grossEarnings,\r\n          employee.bonusAmount,\r\n          employee.totalDeductions,\r\n          employee.netSalary\r\n        ].join(','))\r\n      ].join('\\n');\r\n\r\n      const BOM = '\\uFEFF';\r\n      const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `Employee_Salary_Summary_${selectedMonth}_${selectedYear}.csv`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error('Error downloading Excel:', error);\r\n      alert('Failed to download Excel sheet. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleView = async (employee) => {\r\n  try {\r\n    \r\n    const monthNumber = getMonthNumber(selectedMonth);\r\n    const year = parseInt(selectedYear);\r\n    \r\n    let payrollData;\r\n    try {\r\n      payrollData = await payrollApi.getPayrollByEmployeeAndMonth(\r\n        employee.employeeId, \r\n        monthNumber, \r\n        year\r\n      );\r\n      console.log('Payroll data found:', payrollData);\r\n    } catch (payrollError) {\r\n      console.warn('No payroll data found, using employee data only:', payrollError.message);\r\n      payrollData = null;\r\n    }\r\n\r\n    // Combine employee data with payroll data\r\n    let fullEmployeeData;\r\n    \r\n    if (payrollData && payrollData.payrollId) {\r\n     \r\n      fullEmployeeData = {\r\n        ...employee,\r\n        ...transformEmployeeToFrontend({\r\n          ...payrollData,\r\n          employee: employee\r\n        })\r\n      };\r\n      console.log('Merged data with payroll:', fullEmployeeData);\r\n    } else {\r\n      // If no payroll data, use the employee data with calculated values\r\n      fullEmployeeData = transformEmployeeToFrontend(employee);\r\n      console.log('Using employee data with calculations:', fullEmployeeData);\r\n    }\r\n\r\n    setSelectedEmployee(fullEmployeeData);\r\n    \r\n  } catch (error) {\r\n    console.error('Error fetching employee details:', error);\r\n    // Fallback to basic employee data with transformations\r\n    const fallbackData = transformEmployeeToFrontend(employee);\r\n    setSelectedEmployee(fallbackData);\r\n  }\r\n};\r\n\r\n  const handleBackToList = () => {\r\n    setSelectedEmployee(null);\r\n    setIsEditing(false);\r\n    setEditingEmployee(null);\r\n  };\r\n\r\n  const handleEdit = (employee) => {\r\n    setEditingEmployee({...employee});\r\n    setIsEditing(true);\r\n  };\r\n  \r\n\r\nconst handleSaveEdit = async () => {\r\n  if (editingEmployee) {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const monthNumber = getMonthNumber(selectedMonth);\r\n      const year = parseInt(selectedYear);\r\n      \r\n      console.log(`Fetching payroll for: ${editingEmployee.employeeId}, ${monthNumber}, ${year}`);\r\n      \r\n      let payrollData;\r\n      try {\r\n        payrollData = await payrollApi.getPayrollByEmployeeAndMonth(\r\n          editingEmployee.employeeId, \r\n          monthNumber, \r\n          year\r\n        );\r\n        \r\n        console.log('Full payroll response:', payrollData);\r\n        \r\n      } catch (error) {\r\n        console.error('Error fetching payroll:', error);\r\n        alert('No payroll record found. Please generate payroll for this employee first.');\r\n        return;\r\n      }\r\n      \r\n      const payrollId = payrollData.payrollId;\r\n      console.log('Extracted payroll ID:', payrollId);\r\n      \r\n      if (!payrollId) {\r\n        console.error('No payroll ID found in response. Available keys:', Object.keys(payrollData));\r\n        alert('Could not find payroll ID. Please check the payroll data.');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // USE THE CORRECT UPDATE ENDPOINT\r\n        await payrollApi.updatePayrollComponents(payrollId, {\r\n           bonusAmount: editingEmployee.bonus || 0,\r\n          hikePercentage: editingEmployee.hike || 0,\r\n          basicSalary: editingEmployee.basicSalary,\r\n          hraAmount: editingEmployee.hra,\r\n          conveyanceAllowance: editingEmployee.conveyanceAllowance,\r\n          medicalAllowance: editingEmployee.medicalAllowance,\r\n          specialAllowance: editingEmployee.specialAllowance,\r\n          otherAllowances: editingEmployee.otherAllowances,\r\n          providentFund: editingEmployee.providentFund,\r\n          professionalTax: editingEmployee.professionalTax,\r\n          incomeTax: editingEmployee.incomeTax,\r\n          otherDeductions: editingEmployee.otherDeductions\r\n        });\r\n\r\n        // Refresh data\r\n        setTimeout(async () => {\r\n          await fetchEmployeesData();\r\n        }, 500);\r\n        \r\n        setIsEditing(false);\r\n        setEditingEmployee(null);\r\n        alert('Employee payroll updated successfully!');\r\n        \r\n      } catch (updateError) {\r\n        console.error('Error updating payroll:', updateError);\r\n        console.error('Error response:', updateError.response?.data);\r\n        alert('Failed to update payroll. Please try again.');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Error in handleSaveEdit:', error);\r\n      alert('Failed to update employee. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n};\r\n\r\n  const handleCancelEdit = () => {\r\n    setIsEditing(false);\r\n    setEditingEmployee(null);\r\n  };\r\n\r\n  // Fix the employeesWithSalary calculation with safe defaults\r\n  // Fix the employeesWithSalary calculation with safe defaults\r\nconst employeesWithSalary = (employeesData || []).map((employee, index) => {\r\n  // Use actual backend data if available, otherwise calculate\r\n  const grossEarnings = employee.grossEarnings || \r\n                       employee.earnings?.reduce((sum, item) => sum + (item?.total || 0), 0) || 0;\r\n  \r\n  const totalDeductions = employee.totalDeductions || \r\n                         employee.deductions?.reduce((sum, item) => sum + (item?.amount || 0), 0) || 0;\r\n  \r\n  const bonusAmount = employee.bonus || 0;\r\n  const netSalary = employee.netSalary || (grossEarnings - totalDeductions + bonusAmount);\r\n  \r\n  return {\r\n    id: employee?.id || employee?.employeeId || `emp-${index}`,\r\n    employeeId: employee?.employeeId || `unknown-${index}`,\r\n    employeeName: employee?.employeeName || 'Unknown Employee',\r\n    designation: employee?.designation || '-',\r\n    department: employee?.department || '-',\r\n    email: employee?.email || '-',\r\n    phoneNumber: employee?.phoneNumber || '-',\r\n    annualSalary: employee?.annualSalary || 0,\r\n    // Include all other employee properties\r\n    ...employee,\r\n    grossEarnings,\r\n    totalDeductions,\r\n    bonusAmount,\r\n    netSalary,\r\n    // Ensure earnings and deductions are always arrays\r\n    earnings: employee.earnings || [],\r\n    deductions: employee.deductions || []\r\n  };\r\n});\r\n\r\nconst filteredEmployeesWithSalary = employeesWithSalary.filter(employee => {\r\n  if (!searchTerm.trim()) return true; \r\n  const searchLower = searchTerm.toLowerCase().trim();\r\n  \r\n  return (\r\n    (employee.employeeName?.toLowerCase().includes(searchLower) || false) ||\r\n    (employee.designation?.toLowerCase().includes(searchLower) || false) ||\r\n    (employee.employeeId?.toLowerCase().includes(searchLower) || false) ||\r\n    (employee.email?.toLowerCase().includes(searchLower) || false) ||\r\n    (employee.department?.toLowerCase().includes(searchLower) || false)\r\n  );\r\n});\r\n\r\n  // If an employee is selected, show their payslip\r\n  if (selectedEmployee && !isEditing) {\r\n    const paySlipData = selectedEmployee;\r\n    const grossEarnings = paySlipData.grossEarnings || 0;\r\n    const totalDeductions = paySlipData.totalDeductions || 0;\r\n    const bonusAmount = paySlipData.bonusAmount || 0;\r\n    const netSalary = paySlipData.netSalary || 0;\r\n\r\n    \r\n\r\n    return (\r\n        <div className={`min-h-screen p-6 ${\r\n        isDark ? 'bg-gray-900' : 'bg-gradient-to-br from-blue-50 to-purple-50'\r\n      }`}>\r\n        <div className={`max-w-4xl mx-auto rounded-2xl shadow-2xl overflow-hidden border ${\r\n          isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-blue-100'\r\n        }`}>\r\n          {/* Header */}\r\n          <div className=\"bg-gradient-to-r from-blue-800 to-purple-800 text-white p-8\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold\">ANASOL CONSULTANCY SERVICES PVT LTD</h1>\r\n                <h2 className=\"text-xl mt-2 opacity-90\">SALARY SLIP</h2>\r\n                <div className=\"mt-3 bg-white/20 px-4 py-1 rounded-full inline-block text-sm\">\r\n                  {selectedMonth} {selectedYear}\r\n                </div>\r\n              </div>\r\n              <div className=\"w-24 h-24 bg-white/20 rounded-xl flex items-center justify-center\">\r\n                <img \r\n                  src=\"/assets/anasol-logo.png\" \r\n                  alt=\"Anasol Logo\" \r\n                  className=\"w-20 h-20 object-contain\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action buttons */}\r\n          <div className={`p-4 border-b flex justify-between items-center ${\r\n            isDark ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'\r\n          }`}>\r\n            <button \r\n              onClick={handleBackToList}\r\n              className=\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium\"\r\n            >\r\n              â† Back to Employee List\r\n            </button>\r\n            <button \r\n              onClick={() => handleEdit(selectedEmployee)}\r\n              className=\"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium\"\r\n            >\r\n              Edit Salary\r\n            </button>\r\n          </div>\r\n\r\n          {/* Pay Slip Content */}\r\n          <div ref={paySlipRef} className=\"p-8\">\r\n            {/* Employee Information */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n              <div className={`p-6 rounded-xl shadow-sm border ${\r\n                isDark ? 'bg-gray-700 border-gray-600' : 'bg-white border-blue-100'\r\n              }`}>\r\n                <h3 className={`text-lg font-semibold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>Personal Information</h3>\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                    <span className={`font-medium ${\r\n                      isDark ? 'text-gray-300' : 'text-gray-600'\r\n                    }`}>Employee Name:</span>\r\n                    <span className={`font-semibold ${\r\n                      isDark ? 'text-white' : 'text-gray-800'\r\n                    }`}>{paySlipData.employeeName}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                    <span className={`font-medium ${\r\n                      isDark ? 'text-gray-300' : 'text-gray-600'\r\n                    }`}>Employee ID:</span>\r\n                    <span className={`font-semibold ${\r\n                      isDark ? 'text-white' : 'text-gray-800'\r\n                    }`}>{paySlipData.employeeId}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                    <span className={`font-medium ${\r\n                      isDark ? 'text-gray-300' : 'text-gray-600'\r\n                    }`}>Designation:</span>\r\n                    <span className={`font-semibold ${\r\n                      isDark ? 'text-white' : 'text-gray-800'\r\n                    }`}>{paySlipData.designation}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                    <span className={`font-medium ${\r\n                      isDark ? 'text-gray-300' : 'text-gray-600'\r\n                    }`}>Department:</span>\r\n                    <span className={`font-semibold ${\r\n                      isDark ? 'text-white' : 'text-gray-800'\r\n                    }`}>{paySlipData.department}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className={`font-medium ${\r\n                      isDark ? 'text-gray-300' : 'text-gray-600'\r\n                    }`}>Phone No:</span>\r\n                    <span className={`font-semibold ${\r\n                      isDark ? 'text-white' : 'text-gray-800'\r\n                    }`}>{paySlipData.phoneNo}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n             <div className={`p-6 rounded-xl shadow-sm border ${\r\n  isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-blue-100'\r\n}`}>\r\n  <h3 className={`text-lg font-semibold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n    isDark ? 'text-gray-200' : 'text-gray-800'\r\n  }`}>Bank & Tax Information</h3>\r\n  <div className=\"space-y-3\">\r\n    <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n      <span className={`font-medium ${\r\n        isDark ? 'text-gray-300' : 'text-gray-600'\r\n      }`}>Bank A/C Name:</span>\r\n      <span className={`font-semibold ${\r\n        isDark ? 'text-white' : 'text-gray-800'\r\n      }`}>{paySlipData.bankAccountName}</span>\r\n    </div>\r\n    <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n      <span className={`font-medium ${\r\n        isDark ? 'text-gray-300' : 'text-gray-600'\r\n      }`}>PAN No:</span>\r\n      <span className={`font-semibold ${\r\n        isDark ? 'text-white' : 'text-gray-800'\r\n      }`}>{paySlipData.panNo}</span>\r\n    </div>\r\n    <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n      <span className={`font-medium ${\r\n        isDark ? 'text-gray-300' : 'text-gray-600'\r\n      }`}>PF No:</span>\r\n      <span className={`font-semibold ${\r\n        isDark ? 'text-white' : 'text-gray-800'\r\n      }`}>{paySlipData.pfNo}</span>\r\n    </div>\r\n    <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n      <span className={`font-medium ${\r\n        isDark ? 'text-gray-300' : 'text-gray-600'\r\n      }`}>IFSC Code:</span>\r\n      <span className={`font-semibold ${\r\n        isDark ? 'text-white' : 'text-gray-800'\r\n      }`}>{paySlipData.ifsccode}</span>\r\n    </div>\r\n    <div className=\"flex justify-between items-center\">\r\n      <span className={`font-medium ${\r\n        isDark ? 'text-gray-300' : 'text-gray-600'\r\n      }`}>Email:</span>\r\n      <span className={`font-semibold ${\r\n        isDark ? 'text-white' : 'text-gray-800'\r\n      }`}>{paySlipData.email}</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n\r\n            {/* Attendance Information */}\r\n            <div className=\"mb-8\">\r\n  <h3 className={`text-xl font-bold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n    isDark ? 'text-gray-200' : 'text-gray-800'\r\n  }`}>Attendance Information</h3>\r\n  <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n    isDark ? 'border-gray-600' : 'border-gray-200'\r\n  }`}>\r\n    <table className={`min-w-full ${\r\n      isDark ? 'bg-gray-800' : 'bg-white'\r\n    }`}>\r\n      <thead>\r\n        <tr className={`${\r\n          isDark \r\n            ? 'bg-gradient-to-r from-gray-700 to-gray-600' \r\n            : 'bg-gradient-to-r from-gray-50 to-blue-50'\r\n        }`}>\r\n          <th className={`border-b px-6 py-4 font-semibold ${\r\n            isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n          }`}>Standard Days</th>\r\n          <th className={`border-b px-6 py-4 font-semibold ${\r\n            isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n          }`}>Payable Days</th>\r\n          <th className={`border-b px-6 py-4 font-semibold ${\r\n            isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n          }`}>Loss of Pay Days</th>\r\n          <th className={`border-b px-6 py-4 font-semibold ${\r\n            isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n          }`}>LOP Reversal Days</th>\r\n          <th className={`border-b px-6 py-4 font-semibold ${\r\n            isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n          }`}>Arrear Days</th>\r\n        </tr>\r\n      </thead>\r\n     \r\n<tbody>\r\n  <tr>\r\n    <td className={`border-b px-6 py-4 text-center font-medium ${\r\n      isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n    }`}>{formatNumber(paySlipData.standardDays)}</td>\r\n    <td className={`border-b px-6 py-4 text-center font-medium ${\r\n      isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n    }`}>{formatNumber(paySlipData.payableDays)}</td>\r\n    <td className={`border-b px-6 py-4 text-center font-medium ${\r\n      isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n    }`}>{formatNumber(paySlipData.lossOfPayDays)}</td>\r\n    <td className={`border-b px-6 py-4 text-center font-medium ${\r\n      isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n    }`}>{formatNumber(paySlipData.lopReversalDays)}</td>\r\n    <td className={`border-b px-6 py-4 text-center font-medium ${\r\n      isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n    }`}>{formatNumber(paySlipData.arrearDays)}</td>\r\n  </tr>\r\n</tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n\r\n\r\n            {/* Bonus Information */}\r\n            {bonusAmount > 0 && (\r\n  <div className=\"mb-8\">\r\n    <h3 className={`text-xl font-bold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n      isDark ? 'text-gray-200' : 'text-gray-800'\r\n    }`}>Additional Compensation</h3>\r\n    <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n      isDark ? 'border-gray-600' : 'border-gray-200'\r\n    }`}>\r\n      <table className={`min-w-full ${\r\n        isDark ? 'bg-gray-800' : 'bg-white'\r\n      }`}>\r\n        <thead>\r\n          <tr className={`${\r\n            isDark \r\n              ? 'bg-gradient-to-r from-yellow-900 to-orange-900' \r\n              : 'bg-gradient-to-r from-yellow-50 to-orange-50'\r\n          }`}>\r\n            <th className={`border-b px-6 py-4 font-semibold ${\r\n              isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n            }`}>Bonus Amount</th>\r\n            <th className={`border-b px-6 py-4 font-semibold ${\r\n              isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n            }`}>Hike Percentage</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td className={`border-b px-6 py-4 text-center font-bold ${\r\n              isDark ? 'border-gray-700 text-yellow-400' : 'border-gray-100 text-yellow-700'\r\n            }`}>â‚¹{bonusAmount.toLocaleString()}</td>\r\n            <td className={`border-b px-6 py-4 text-center font-medium ${\r\n              isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n            }`}>{paySlipData.hike || 0}%</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n)}\r\n\r\n\r\n            {/* Salary Details */}\r\n          <div className=\"mb-8\">\r\n  <h3 className={`text-xl font-bold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n    isDark ? 'text-gray-200' : 'text-gray-800'\r\n  }`}>Salary Details</h3>\r\n  <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n    {/* Earnings */}\r\n    <div className=\"lg:col-span-2\">\r\n      <h4 className={`font-semibold mb-3 ${\r\n        isDark ? 'text-gray-300' : 'text-gray-700'\r\n      }`}>EARNINGS</h4>\r\n      <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n        isDark ? 'border-gray-600' : 'border-gray-200'\r\n      }`}>\r\n        <table className={`min-w-full ${\r\n          isDark ? 'bg-gray-800' : 'bg-white'\r\n        }`}>\r\n          <thead>\r\n            <tr className={`${\r\n              isDark \r\n                ? 'bg-gradient-to-r from-gray-700 to-gray-600' \r\n                : 'bg-gradient-to-r from-gray-50 to-blue-50'\r\n            }`}>\r\n              <th className={`border-b px-4 py-3 font-semibold ${\r\n                isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n              }`}>Description</th>\r\n              <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n              }`}>Monthly Rate</th>\r\n              <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n              }`}>Current Month</th>\r\n              <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n              }`}>Arrear (+/-)</th>\r\n              <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n              }`}>Total</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {(paySlipData.earnings || []).map((earning, index) => (\r\n              <tr key={index} className={isDark ? 'hover:bg-gray-700' : 'hover:bg-gray-50'}>\r\n                <td className={`border-b px-4 py-3 ${\r\n                  isDark ? 'border-gray-700 text-gray-300' : 'border-gray-100 text-gray-700'\r\n                }`}>{earning.name}</td>\r\n                <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                  isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                }`}>â‚¹{(earning.monthlyRate || 0).toLocaleString()}</td>\r\n                <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                  isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                }`}>â‚¹{(earning.currentMonth || 0).toLocaleString()}</td>\r\n                <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                  isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                }`}>{earning.arrear || 0}</td>\r\n                <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                  isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                }`}>â‚¹{(earning.total || 0).toLocaleString()}</td>\r\n              </tr>\r\n            ))}\r\n            {bonusAmount > 0 && (\r\n              <tr className={isDark ? 'bg-yellow-900 hover:bg-yellow-800' : 'bg-yellow-50 hover:bg-yellow-100'}>\r\n                <td className={`border-b px-4 py-3 font-semibold ${\r\n                  isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                }`}>BONUS</td>\r\n                <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                  isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                }`}>-</td>\r\n                <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                  isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                }`}>-</td>\r\n                <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                  isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                }`}>-</td>\r\n                <td className={`border-b px-4 py-3 text-right font-bold ${\r\n                  isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                }`}>â‚¹{bonusAmount.toLocaleString()}</td>\r\n              </tr>\r\n            )}\r\n            <tr className={isDark ? 'bg-blue-900' : 'bg-blue-50'}>\r\n              <td className={`border-b px-4 py-3 font-semibold ${\r\n                isDark ? 'border-gray-600 text-gray-200' : 'border-gray-200 text-gray-800'\r\n              }`} colSpan=\"4\">GROSS EARNINGS</td>\r\n              <td className={`border-b px-4 py-3 text-right font-semibold ${\r\n                isDark ? 'border-gray-600 text-blue-300' : 'border-gray-200 text-blue-800'\r\n              }`}>â‚¹{grossEarnings.toLocaleString()}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n                {/* Deductions */}\r\n                <div>\r\n      <h4 className={`font-semibold mb-3 ${\r\n        isDark ? 'text-gray-300' : 'text-gray-700'\r\n      }`}>DEDUCTIONS</h4>\r\n      <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n        isDark ? 'border-gray-600' : 'border-gray-200'\r\n      }`}>\r\n        <table className={`min-w-full ${\r\n          isDark ? 'bg-gray-800' : 'bg-white'\r\n        }`}>\r\n          <thead>\r\n            <tr className={`${\r\n              isDark \r\n                ? 'bg-gradient-to-r from-gray-700 to-gray-600' \r\n                : 'bg-gradient-to-r from-gray-50 to-blue-50'\r\n            }`}>\r\n              <th className={`border-b px-4 py-3 font-semibold ${\r\n                isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n              }`}>Description</th>\r\n              <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n              }`}>Amount</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {(paySlipData.deductions || []).map((deduction, index) => (\r\n              <tr key={index} className={isDark ? 'hover:bg-gray-700' : 'hover:bg-gray-50'}>\r\n                <td className={`border-b px-4 py-3 ${\r\n                  isDark ? 'border-gray-700 text-gray-300' : 'border-gray-100 text-gray-700'\r\n                }`}>{deduction.name}</td>\r\n                <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                  isDark ? 'border-gray-700 text-red-400' : 'border-gray-100 text-red-600'\r\n                }`}>â‚¹{(deduction.amount || 0).toLocaleString()}</td>\r\n              </tr>\r\n            ))}\r\n            <tr className={isDark ? 'bg-blue-900' : 'bg-blue-50'}>\r\n              <td className={`border-b px-4 py-3 font-semibold ${\r\n                isDark ? 'border-gray-600 text-gray-200' : 'border-gray-200 text-gray-800'\r\n              }`}>TOTAL DEDUCTIONS</td>\r\n              <td className={`border-b px-4 py-3 text-right font-semibold ${\r\n                isDark ? 'border-gray-600 text-red-400' : 'border-gray-200 text-red-700'\r\n              }`}>â‚¹{totalDeductions.toLocaleString()}</td>\r\n            </tr>\r\n            {bonusAmount > 0 && (\r\n              <tr className={isDark ? 'bg-yellow-900' : 'bg-yellow-50'}>\r\n                <td className={`border-b px-4 py-3 font-semibold ${\r\n                  isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-200 text-yellow-800'\r\n                }`}>BONUS ADDED</td>\r\n                <td className={`border-b px-4 py-3 text-right font-semibold ${\r\n                  isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-200 text-yellow-800'\r\n                }`}>+ â‚¹{bonusAmount.toLocaleString()}</td>\r\n              </tr>\r\n            )}\r\n            <tr className={isDark ? 'bg-green-900' : 'bg-green-50'}>\r\n              <td className={`border-b px-4 py-3 font-bold ${\r\n                isDark ? 'border-gray-600 text-green-300' : 'border-gray-200 text-green-800'\r\n              }`}>NET SALARY</td>\r\n              <td className={`border-b px-4 py-3 text-right font-bold ${\r\n                isDark ? 'border-gray-600 text-green-300' : 'border-gray-200 text-green-800'\r\n              }`}>â‚¹{netSalary.toLocaleString()}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n            {/* Footer */}\r\n           <div className={`mt-8 pt-6 border-t text-center text-sm ${\r\n  isDark ? 'border-gray-600 text-gray-400' : 'border-gray-300 text-gray-600'\r\n}`}>\r\n              <p>#1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039 | Ph: 9632091726</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-6\">\r\n      {/* Add Employee Form Modal */}\r\n      {/* <AddEmployeeForm\r\n        isAdding={isAdding}\r\n        newEmployee={newEmployee}\r\n        onEmployeeChange={handleNewEmployeeChange}\r\n        onSave={handleSaveNewEmployee}\r\n        onCancel={handleCancelAdd}\r\n        loading={loading}\r\n      /> */}\r\n      \r\n      {/* Edit Form Modal */}\r\n      {isEditing && (\r\n        <EditEmployeeForm\r\n          editingEmployee={editingEmployee}\r\n          onInputChange={handleInputChange}\r\n          onSaveEdit={handleSaveEdit}\r\n          onCancelEdit={handleCancelEdit}\r\n          loading={loading}\r\n        />\r\n      )}\r\n      <div className={`max-w-7xl mx-auto rounded-2xl shadow-xl overflow-hidden border ${\r\n  isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-blue-100'\r\n}`}>\r\n  <div className=\"container mx-auto px-4 pt-6\">\r\n      <button\r\n        onClick={() => window.history.back()}\r\n        className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${\r\n          isDark \r\n            ? 'bg-gray-700 text-gray-200 hover:bg-gray-600' \r\n            : 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-200'\r\n        }`}\r\n      >\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n        </svg>\r\n        <span>Back</span>\r\n      </button>\r\n    </div>\r\n\r\n        {/* <div className=\"bg-gradient-to-r from-blue-800 to-indigo-800 text-white p-8\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold mb-2\">ANASOL CONSULTANCY SERVICES PVT LTD</h1>\r\n              <p className=\"text-blue-100\">Admin Payroll Management</p>\r\n            </div>\r\n            <div className=\"w-20 h-20 bg-white/20 rounded-xl flex items-center justify-center\">\r\n              <img \r\n                src=\"/assets/anasol-logo.png\" \r\n                alt=\"Anasol Logo\" \r\n                className=\"w-16 h-16 object-contain\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n\r\n        {/* Filters and Action Buttons */}\r\n      <div className={`p-6 border-b ${\r\n  isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n}`}>\r\n  <div className=\"flex flex-wrap gap-4 items-center justify-between\">\r\n    <div className=\"flex flex-wrap gap-4\">\r\n      <div>\r\n        <label className={`block text-sm font-medium mb-2 ${\r\n          isDark ? 'text-gray-300' : 'text-gray-700'\r\n        }`}>Month</label>\r\n        <select \r\n          value={selectedMonth}\r\n          onChange={(e) => setSelectedMonth(e.target.value)}\r\n          className={`border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\r\n            isDark \r\n              ? 'bg-gray-700 border-gray-600 text-white' \r\n              : 'border-gray-300 text-gray-900'\r\n          }`}\r\n        >\r\n          {months.map(month => (\r\n            <option key={month} value={month}>{month}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label className={`block text-sm font-medium mb-2 ${\r\n          isDark ? 'text-gray-300' : 'text-gray-700'\r\n        }`}>Year</label>\r\n        <select \r\n          value={selectedYear}\r\n          onChange={(e) => setSelectedYear(e.target.value)}\r\n          className={`border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\r\n            isDark \r\n              ? 'bg-gray-700 border-gray-600 text-white' \r\n              : 'border-gray-300 text-gray-900'\r\n          }`}\r\n        >\r\n          {years.map(year => (\r\n            <option key={year} value={year}>{year}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"flex-1\">\r\n        <label htmlFor=\"search-input\" className={`block text-sm font-medium mb-2 ${\r\n          isDark ? 'text-gray-300' : 'text-gray-700'\r\n        }`}>\r\n          Search Employees\r\n        </label>\r\n        <input\r\n          id=\"search-input\"\r\n          type=\"text\"\r\n          placeholder=\"Search by name, role, or employee ID\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${\r\n            isDark \r\n              ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n              : 'border-gray-300 text-gray-900'\r\n          }`}\r\n        />\r\n      </div>\r\n    </div>\r\n    <div className=\"flex gap-4\">\r\n      {/* <button \r\n        onClick={handleAddEmployee}\r\n        className=\"px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg font-medium flex items-center gap-2\"\r\n      >\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n        </svg>\r\n        Add Employee\r\n      </button> */}\r\n      <button \r\n        onClick={handleDownloadExcel}\r\n        className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg font-medium\"\r\n      >\r\n        Download Excel Sheet\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n        {/* Employee Salary Table */}\r\n       <div className={`p-6 ${\r\n  isDark ? 'bg-gray-800' : 'bg-white'\r\n}`}>\r\n  <h3 className={`text-2xl font-bold mb-6 ${\r\n    isDark ? 'text-gray-200' : 'text-gray-800'\r\n  }`}>Employee Salary Summary - {selectedMonth} {selectedYear}</h3>\r\n  \r\n  {apiLoading ? (\r\n    <div className=\"flex justify-center items-center py-12\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      <span className={`ml-4 ${isDark ? 'text-gray-400' : 'text-gray-600'}`}>Loading employee data...</span>\r\n    </div>\r\n  ) : (\r\n    <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n      isDark ? 'border-gray-600' : 'border-gray-200'\r\n    }`}>\r\n      <table className={`min-w-full ${\r\n        isDark ? 'bg-gray-800' : 'bg-white'\r\n      }`}>\r\n        <thead>\r\n          <tr className={`${\r\n            isDark \r\n              ? 'bg-gradient-to-r from-gray-700 to-gray-600' \r\n              : 'bg-gradient-to-r from-gray-50 to-blue-50'\r\n          }`}>\r\n            <th className={`border-b px-6 py-4 text-left font-semibold ${\r\n              isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n            }`}>Employee ID</th>\r\n            <th className={`border-b px-6 py-4 text-left font-semibold ${\r\n              isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n            }`}>Employee Name</th>\r\n            <th className={`border-b px-6 py-4 text-left font-semibold ${\r\n              isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n            }`}>Designation</th>\r\n            <th className={`border-b px-6 py-4 text-left font-semibold ${\r\n              isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n            }`}>Department</th>\r\n            <th className={`border-b px-6 py-4 text-right font-semibold ${\r\n              isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n            }`}>Gross Earnings</th>\r\n            <th className={`border-b px-6 py-4 text-right font-semibold ${\r\n              isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n            }`}>Bonus</th>\r\n            <th className={`border-b px-6 py-4 text-right font-semibold ${\r\n              isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n            }`}>Deductions</th>\r\n            <th className={`border-b px-6 py-4 text-right font-semibold ${\r\n              isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n            }`}>Net Salary</th>\r\n            <th className={`border-b px-6 py-4 text-center font-semibold ${\r\n              isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n            }`}>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredEmployeesWithSalary.length > 0 ? (\r\n    filteredEmployeesWithSalary.map(employee => (\r\n              <tr key={employee.id} className={`transition-colors ${\r\n                isDark ? 'hover:bg-gray-700' : 'hover:bg-blue-50'\r\n              }`}>\r\n                <td className={`border-b px-6 py-4 font-medium ${\r\n                  isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                }`}>{employee.employeeId}</td>\r\n                <td className={`border-b px-6 py-4 font-semibold ${\r\n                  isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-800'\r\n                }`}>{employee.employeeName}</td>\r\n                <td className={`border-b px-6 py-4 ${\r\n                  isDark ? 'border-gray-700 text-gray-300' : 'border-gray-100 text-gray-700'\r\n                }`}>{employee.designation}</td>\r\n                <td className={`border-b px-6 py-4 ${\r\n                  isDark ? 'border-gray-700 text-gray-300' : 'border-gray-100 text-gray-700'\r\n                }`}>{employee.department}</td>\r\n                <td className={`border-b px-6 py-4 text-right font-medium ${\r\n                  isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                }`}>\r\n                  â‚¹{employee.grossEarnings.toLocaleString()}\r\n                </td>\r\n                <td className={`border-b px-6 py-4 text-right font-medium ${\r\n                  isDark ? 'border-gray-700 text-yellow-400' : 'border-gray-100 text-yellow-600'\r\n                }`}>\r\n                  {employee.bonusAmount > 0 ? `â‚¹${employee.bonusAmount.toLocaleString()}` : '-'}\r\n                </td>\r\n                <td className={`border-b px-6 py-4 text-right font-medium ${\r\n                  isDark ? 'border-gray-700 text-red-400' : 'border-gray-100 text-red-600'\r\n                }`}>\r\n                  â‚¹{employee.totalDeductions.toLocaleString()}\r\n                </td>\r\n                <td className={`border-b px-6 py-4 text-right font-bold ${\r\n                  isDark ? 'border-gray-700 text-green-400' : 'border-gray-100 text-green-700'\r\n                }`}>\r\n                  â‚¹{employee.netSalary.toLocaleString()}\r\n                </td>\r\n                <td className={`border-b px-6 py-4 ${\r\n                  isDark ? 'border-gray-700' : 'border-gray-100'\r\n                }`}>\r\n                  <div className=\"flex gap-2 justify-center\">\r\n                    <button \r\n                      onClick={() => handleView(employee)}\r\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm\"\r\n                    >\r\n                      View\r\n                    </button>\r\n                     \r\n                    <button \r\n                      onClick={() => handleEdit(employee)}\r\n                      className=\"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium text-sm\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                     \r\n                    <button \r\n                      onClick={() => handleDownloadPayslip(employee)}\r\n                      className=\"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-colors font-medium text-sm\"\r\n                    >\r\n                      Download\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n             <tr>\r\n      <td colSpan=\"9\" className={`px-6 py-8 text-center ${\r\n        isDark ? 'text-gray-400' : 'text-gray-500'\r\n      }`}>\r\n        {searchTerm ? `No employees found matching \"${searchTerm}\"` : 'No employees found. Add some employees to get started.'}\r\n      </td>\r\n    </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PayRollPage;"],"names":["API_BASE_URL","token","localStorage","getItem","payrollApi","async","employeeId","month","year","axios","get","concat","headers","Authorization","data","payrollId","updateData","put","_response$data3","Array","isArray","getMonthNumber","monthName","transformEmployeeToFrontend","backendData","_payrollData$attendan","_payrollData$attendan2","_payrollData$attendan3","_payrollData$attendan4","_payrollData$attendan5","getDefaultEmployeeData","console","log","payrollData","undefined","employeeData","employee","annualSalary","monthlySalary","grossEarnings","totalDeductions","Math","round","netSalary","bonusAmount","hikePercentage","id","employeeName","empName","email","phoneNumber","accountNumber","ifsccode","IFSCcode","bankName","pfnum","PFnum","panNumber","aadharNumber","uanNumber","department","designation","bankAccountName","phoneNo","panNo","standardDays","Number","totalWorkingDays","workingDays","attendance","payableDays","paidDays","lossOfPayDays","lopDays","lopReversalDays","arrearDays","bonus","hike","earnings","name","monthlyRate","basicSalary","currentMonth","arrear","total","hraAmount","conveyanceAllowance","medicalAllowance","specialAllowance","deductions","amount","providentFund","professionalTax","incomeTax","pfNo","AccessDenied","theme","useContext","Context","isDark","_jsx","className","children","_jsxs","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","window","history","back","LoadingSpinner","EditEmployeeForm","_ref","editingEmployee","onInputChange","onSaveEdit","onCancelEdit","loading","type","value","onChange","e","target","readOnly","step","parseFloat","placeholder","disabled","_Fragment","PayRollPage","selectedMonth","setSelectedMonth","useState","selectedYear","setSelectedYear","selectedEmployee","setSelectedEmployee","setEditingEmployee","isEditing","setIsEditing","userData","isAdding","setIsAdding","setLoading","apiLoading","setApiLoading","searchTerm","setSearchTerm","employees","setEmployees","useNavigate","newEmployee","setNewEmployee","employeesData","setEmployeesData","paySlipRef","useRef","handleInputChange","useCallback","field","prev","_objectSpread","useEffect","fetchEmployeesData","employeesArray","employeesWithPayroll","Promise","all","map","monthNumber","payrollResponse","parseInt","baseEmployeeData","payrollWithEmployee","attendanceData","error","warn","message","alert","roles","includes","formatNumber","decimals","arguments","length","num","isNaN","toFixed","formatCurrency","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","handleBackToList","handleEdit","employeesWithSalary","index","_employee$earnings","_employee$deductions","reduce","sum","item","filteredEmployeesWithSalary","filter","_employee$employeeNam","_employee$designation","_employee$employeeId","_employee$email","_employee$department","trim","searchLower","toLowerCase","paySlipData","src","alt","ref","toLocaleString","earning","colSpan","deduction","Object","keys","hra","otherAllowances","otherDeductions","setTimeout","updateError","_updateError$response","response","handleCancelEdit","htmlFor","csvContent","join","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","fullEmployeeData","payrollError","fallbackData","handleView","finalData","daysPresent","formatPayPeriod","payslipElement","style","position","left","width","padding","backgroundColor","fontFamily","innerHTML","canvas","html2canvas","scale","useCORS","logging","offsetWidth","height","offsetHeight","imgData","toDataURL","pdf","jsPDF","imgWidth","pageHeight","imgHeight","heightLeft","addImage","addPage","fileName","save","handleDownloadPayslip"],"sourceRoot":""}