{"version":3,"file":"static/js/416.cc34649a.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/PayRoll/EmployeePayRoll.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Context } from '../HrmsContext';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\n import jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\n\r\nconst EmployeePayRoll = () => {\r\n  const { empId } = useParams();\r\n  \r\n  // Use 'empId' to match your route parameter\r\n  \r\n  console.log('Employee ID from URL (empId):', empId);\r\n\r\n  const [filters, setFilters] = useState({\r\n    month: '',\r\n    year: ''\r\n  });\r\n  const [selectedPayslip, setSelectedPayslip] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [payrollData, setPayrollData] = useState([]);\r\n  const [employee, setEmployee] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editFormData, setEditFormData] = useState({});\r\n  const [saveLoading, setSaveLoading] = useState(false);\r\n\r\n  const token=localStorage.getItem(\"accessToken\");\r\n\r\n  const months = [\r\n    'January', 'February', 'March', 'April', 'May', 'June',\r\n    'July', 'August', 'September', 'October', 'November', 'December'\r\n  ];\r\n\r\n  const currentYear = new Date().getFullYear();\r\n  const years = Array.from({ length: 5 }, (_, i) => currentYear - i);\r\n\r\n  // Fetch payroll data from backend\r\n  useEffect(() => {\r\n    const fetchPayrollData = async () => {\r\n      if (!token ||!empId) {\r\n        console.error('No empId found in URL');\r\n        setError('Employee ID not found in URL.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setLoading(true);\r\n        console.log('Fetching data for employee ID:', empId);\r\n        \r\n        // Fetch payroll data for the specific employee from URL\r\n        const payrollResponse = await axios.get(`https://hrms.anasolconsultancyservices.com/api/payroll/employee/${empId}`,\r\n          {\r\n            headers :  { Authorization: `Bearer ${token}` }\r\n          }\r\n        );\r\n        \r\n        \r\n        if (payrollResponse.data && payrollResponse.data.success) {\r\n          setPayrollData(payrollResponse.data.data || []);\r\n        } else {\r\n          setPayrollData([]);\r\n        }\r\n\r\n        // Fetch employee details for the specific employee from URL\r\n        await fetchEmployeeDetails();\r\n\r\n      } catch (err) {\r\n        console.error('Error fetching data:', err);\r\n        setError(`Failed to fetch data: ${err.response?.data?.message || err.message}`);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPayrollData();\r\n  }, [empId]); // Use empId as dependency\r\n\r\n  // Fetch employee details for the specific employee\r\n  const fetchEmployeeDetails = async () => {\r\n    try {\r\n     \r\n      const employeeResponse = await axios.get(`https://hrms.anasolconsultancyservices.com/api/payroll/employee/${empId}`,\r\n        {\r\n           headers :  { Authorization: `Bearer ${token}` }\r\n        }\r\n      );\r\n      console.log('Employee details for', empId, ':', employeeResponse.data);\r\n      \r\n      if (employeeResponse.data && employeeResponse.data.success) {\r\n        console.log('Setting employee data for:', employeeResponse.data.data.empName);\r\n        setEmployee(employeeResponse.data.data);\r\n        setEditFormData(employeeResponse.data.data);\r\n      } else {\r\n        console.log('No employee data found for ID:', empId);\r\n        setEmployee(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching employee details:', err);\r\n      setError(`Failed to fetch employee details: ${err.response?.data?.message || err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (newFilters) => {\r\n    setFilters(newFilters);\r\n  };\r\n\r\n  const handleViewPayslip = (payslip) => {\r\n    setSelectedPayslip(payslip);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n\r\n\r\nconst handleDownloadPayslip = async (payslip) => {\r\n  try {\r\n    if (!employee) {\r\n      alert('Employee data not available');\r\n      return;\r\n    }\r\n\r\n    \r\n    const payslipElement = document.createElement('div');\r\n    payslipElement.style.position = 'absolute';\r\n    payslipElement.style.left = '-9999px';\r\n    payslipElement.style.width = '800px';\r\n    payslipElement.style.padding = '10px'; \r\n    payslipElement.style.backgroundColor = 'white';\r\n    \r\n    \r\n    const grossEarnings = (payslip.basicSalary || 0) + \r\n                         (payslip.hraAmount || 0) + \r\n                         (payslip.conveyanceAllowance || 0) +\r\n                         (payslip.medicalAllowance || 0) +\r\n                         (payslip.specialAllowance || 0) +\r\n                         (payslip.bonusAmount || 0);\r\n\r\n    const totalDeductions = (payslip.providentFund || 0) + \r\n                           (payslip.professionalTax || 0) +\r\n                           (payslip.incomeTax || 0);\r\n\r\n    const netSalary = payslip.netSalary || (grossEarnings - totalDeductions);\r\n\r\n  \r\n    payslipElement.innerHTML = `\r\n      <div style=\"font-family: 'Arial', sans-serif; max-width: 800px; margin: 0 auto;\">\r\n        <!-- Company Header - Reduced top padding -->\r\n        <div style=\"background: linear-gradient(135deg, #1e40af, #3730a3); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; text-align: center;\">\r\n          <div style=\"font-size: 28px; font-weight: bold; margin-bottom: 8px;\">ANASOL CONSULTANCY SERVICES PVT LTD</div>\r\n          <div style=\"font-size: 22px; opacity: 0.9; margin-bottom: 12px;\">SALARY SLIP</div>\r\n          <div style=\"background: rgba(255,255,255,0.2); padding: 8px 20px; border-radius: 20px; display: inline-block; font-weight: bold;\">\r\n            ${formatPayPeriod(payslip)}\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Employee Information - Reduced margin bottom -->\r\n        <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;\">\r\n          <div style=\"background: #f8fafc; padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;\">\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Employee Name:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${employee.empName}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Employee ID:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${employee.employeeId}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Designation:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${employee.designation || 'N/A'}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Department:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${employee.department || 'N/A'}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Phone No:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${employee.phoneNumber || 'N/A'}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div style=\"background: #f8fafc; padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;\">\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Bank A/C Name:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${employee.empName}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">PAN No:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${employee.panNumber || 'N/A'}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">PF No:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${employee.pfnum || 'N/A'}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">IFSC Code:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${employee.ifsccode || 'N/A'}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Email:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${employee.email || 'N/A'}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Salary Details - Reduced margin -->\r\n        <div style=\"margin: 20px 0;\">\r\n          <div style=\"font-size: 18px; font-weight: bold; color: #1e40af; margin-bottom: 12px; border-left: 4px solid #1e40af; padding-left: 10px;\">SALARY DETAILS</div>\r\n          \r\n          <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px;\">\r\n            <!-- Earnings -->\r\n            <div>\r\n              <div style=\"font-size: 16px; font-weight: bold; color: #1e40af; margin-bottom: 8px; border-left: 4px solid #1e40af; padding-left: 10px;\">EARNINGS</div>\r\n              <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 15px;\">\r\n                <thead>\r\n                  <tr style=\"background: linear-gradient(135deg, #1e40af, #3730a3); color: white;\">\r\n                    <th style=\"padding: 12px; text-align: left; font-weight: 600;\">Description</th>\r\n                    <th style=\"padding: 12px; text-align: right; font-weight: 600;\">Amount (₹)</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Basic Salary</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.basicSalary || 0)}</td>\r\n                  </tr>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">HRA</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.hraAmount || 0)}</td>\r\n                  </tr>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Conveyance Allowance</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.conveyanceAllowance || 0)}</td>\r\n                  </tr>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Medical Allowance</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.medicalAllowance || 0)}</td>\r\n                  </tr>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Special Allowance</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.specialAllowance || 0)}</td>\r\n                  </tr>\r\n                  ${payslip.bonusAmount > 0 ? `\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Bonus</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.bonusAmount || 0)}</td>\r\n                  </tr>\r\n                  ` : ''}\r\n                  <tr style=\"background: #dbeafe; font-weight: bold;\">\r\n                    <td style=\"padding: 12px;\"><strong>GROSS EARNINGS</strong></td>\r\n                    <td style=\"padding: 12px; text-align: right;\"><strong>${formatCurrency(grossEarnings)}</strong></td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <!-- Deductions -->\r\n            <div>\r\n              <div style=\"font-size: 16px; font-weight: bold; color: #1e40af; margin-bottom: 8px; border-left: 4px solid #1e40af; padding-left: 10px;\">DEDUCTIONS</div>\r\n              <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 15px;\">\r\n                <thead>\r\n                  <tr style=\"background: linear-gradient(135deg, #1e40af, #3730a3); color: white;\">\r\n                    <th style=\"padding: 12px; text-align: left; font-weight: 600;\">Description</th>\r\n                    <th style=\"padding: 12px; text-align: right; font-weight: 600;\">Amount (₹)</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Provident Fund</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.providentFund || 0)}</td>\r\n                  </tr>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Professional Tax</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.professionalTax || 0)}</td>\r\n                  </tr>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Income Tax</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.incomeTax || 0)}</td>\r\n                  </tr>\r\n                  <tr style=\"background: #dbeafe; font-weight: bold;\">\r\n                    <td style=\"padding: 12px;\"><strong>TOTAL DEDUCTIONS</strong></td>\r\n                    <td style=\"padding: 12px; text-align: right;\"><strong>${formatCurrency(totalDeductions)}</strong></td>\r\n                  </tr>\r\n                  <tr style=\"background: #dcfce7; font-weight: bold; color: #166534; font-size: 18px;\">\r\n                    <td style=\"padding: 12px;\"><strong>NET SALARY</strong></td>\r\n                    <td style=\"padding: 12px; text-align: right;\"><strong>${formatCurrency(netSalary)}</strong></td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Footer - Reduced top margin -->\r\n        <div style=\"text-align: center; margin-top: 25px; padding-top: 15px; border-top: 2px solid #e5e7eb; color: #6b7280; font-size: 14px;\">\r\n          <p>#1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039</p>\r\n          <p>Ph: 9632091726 | Email: hr@anasolconsultancy.com | www.anasol.com</p>\r\n          <p style=\"margin-top: 8px; color: #9ca3af; font-style: italic;\">\r\n            This is a computer-generated document and does not require a signature\r\n          </p>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    // Add to document\r\n    document.body.appendChild(payslipElement);\r\n\r\n    // Convert to PDF\r\n    const canvas = await html2canvas(payslipElement, {\r\n      scale: 2, // Higher quality\r\n      useCORS: true,\r\n      logging: false\r\n    });\r\n\r\n    // Remove temporary element\r\n    document.body.removeChild(payslipElement);\r\n\r\n    const imgData = canvas.toDataURL('image/png');\r\n    \r\n   \r\n    const pdf = new jsPDF('p', 'mm', 'a4');\r\n    const imgWidth = 210; \r\n    const imgHeight = (canvas.height * imgWidth) / canvas.width;\r\n    \r\n    \r\n    pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);\r\n\r\n    \r\n    const monthName = months[payslip.month - 1];\r\n    const fileName = `Payslip_${employee.empName}_${monthName}_${payslip.year}.pdf`;\r\n    \r\n    pdf.save(fileName);\r\n    \r\n \r\n    \r\n  } catch (err) {\r\n    \r\n    alert(`Failed to generate PDF payslip: ${err.message}`);\r\n  }\r\n};\r\n \r\n  const handleViewDetails = async () => {\r\n    setShowDetails(true);\r\n    if (!employee) {\r\n      await fetchEmployeeDetails();\r\n    }\r\n  };\r\n\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n  };\r\n\r\n  // Handle form input changes\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setEditFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n \r\n  const handleSave = async () => {\r\n    try {\r\n      setSaveLoading(true);\r\n      \r\n     \r\n      const updateData = {\r\n        empName: editFormData.empName,\r\n        email: editFormData.email,\r\n        phoneNumber: editFormData.phoneNumber,\r\n        accountNumber: editFormData.accountNumber,\r\n        bankName: editFormData.bankName,\r\n        panNumber: editFormData.panNumber,\r\n        aadharNumber: editFormData.aadharNumber,\r\n        ifsccode: editFormData.ifsccode,\r\n        pfnum: editFormData.pfnum,\r\n        uanNumber: editFormData.uanNumber,\r\n        department: editFormData.department,\r\n        designation: editFormData.designation\r\n      };\r\n\r\n      console.log('Updating employee data:', updateData);\r\n\r\n      const response = await axios.put(\r\n        `https://hrms.anasolconsultancyservices.com/api/payroll/employee/${empId}/update`,\r\n        updateData,\r\n        {\r\n          \r\n             headers :  { Authorization: `Bearer ${token}` }\r\n          \r\n        }\r\n      );\r\n\r\n      if (response.data && response.data.success) {\r\n        // Update local employee state\r\n        setEmployee(editFormData);\r\n        setIsEditing(false);\r\n        alert('Employee details updated successfully!');\r\n      } else {\r\n        alert('Failed to update employee details');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating employee details:', err);\r\n      alert(`Failed to update employee details: ${err.message}`);\r\n    } finally {\r\n      setSaveLoading(false);\r\n    }\r\n  };\r\n\r\n   const handleCancel = () => {\r\n    setIsEditing(false);\r\n    setEditFormData(employee); \r\n    //setSaveMessage('');\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    if (!amount) return '₹0';\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatPayPeriod = (payrollItem) => {\r\n    if (!payrollItem) return 'N/A';\r\n    const month = payrollItem.month;\r\n    const year = payrollItem.year;\r\n    return `${months[month - 1]} ${year}`;\r\n  };\r\n\r\n  const getMonthFromPayroll = (payrollItem) => {\r\n    if (!payrollItem) return '';\r\n    return months[payrollItem.month - 1];\r\n  };\r\n\r\n  const getYearFromPayroll = (payrollItem) => {\r\n    if (!payrollItem) return '';\r\n    return payrollItem.year.toString();\r\n  };\r\n\r\n  const filteredData = payrollData.filter(item => {\r\n    const itemMonth = getMonthFromPayroll(item);\r\n    const itemYear = getYearFromPayroll(item);\r\n\r\n    if (filters.month && itemMonth !== months[parseInt(filters.month) - 1]) return false;\r\n    if (filters.year && itemYear !== filters.year) return false;\r\n    return true;\r\n  });\r\n\r\n  // Employee Details Component\r\n  const EmployeeDetails = () => {\r\n    if (!employee) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          <div className=\"text-center py-8 text-gray-500\">\r\n            No employee details found.\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h2 className=\"text-xl font-bold text-gray-800\">My Details</h2>\r\n          <div className=\"flex space-x-3\">\r\n            {!isEditing ? (\r\n              <button\r\n                onClick={handleEdit}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                Edit Details\r\n              </button>\r\n            ) : (\r\n              <>\r\n                <button\r\n                  onClick={handleSave}\r\n                  disabled={saveLoading}\r\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50\"\r\n                >\r\n                  {saveLoading ? 'Saving...' : 'Save Changes'}\r\n                </button>\r\n                <button\r\n                  onClick={handleCancel}\r\n                  className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </>\r\n            )}\r\n            <button\r\n              onClick={() => setShowDetails(false)}\r\n              className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {/* Personal Information */}\r\n          <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\r\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4 border-b pb-2\">Personal Information</h3>\r\n            <div className=\"space-y-3\">\r\n              <DetailField \r\n                label=\"Employee ID\" \r\n                value={employee.employeeId} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                label=\"Full Name\" \r\n                name=\"empName\"\r\n                value={isEditing ? editFormData.empName : employee.empName} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                label=\"Email\" \r\n                name=\"email\"\r\n                value={isEditing ? editFormData.email : employee.email} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                type=\"email\"\r\n              />\r\n              <DetailField \r\n                label=\"Phone Number\" \r\n                name=\"phoneNumber\"\r\n                value={isEditing ? editFormData.phoneNumber : employee.phoneNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                type=\"tel\"\r\n              />\r\n              <DetailField \r\n                label=\"Aadhar Number\" \r\n                name=\"aadharNumber\"\r\n                value={isEditing ? editFormData.aadharNumber : employee.aadharNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                type=\"number\"\r\n              />\r\n              <DetailField \r\n                label=\"PAN Number\" \r\n                name=\"panNumber\"\r\n                value={isEditing ? editFormData.panNumber : employee.panNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Employment Details */}\r\n          <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\r\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4 border-b pb-2\">Employment Details</h3>\r\n            <div className=\"space-y-3\">\r\n              <DetailField \r\n                label=\"Department\" \r\n                name=\"department\"\r\n                value={isEditing ? editFormData.department : employee.department} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                label=\"Designation\" \r\n                name=\"designation\"\r\n                value={isEditing ? editFormData.designation : employee.designation} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Enter designation\"\r\n              />\r\n              <DetailField \r\n                label=\"Job Type\" \r\n                value={employee.jobType} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                label=\"Level\" \r\n                value={employee.level} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                label=\"Start Date\" \r\n                value={employee.startDate ? new Date(employee.startDate).toLocaleDateString('en-IN') : 'N/A'} \r\n                isEditing={false}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Bank & Salary Information */}\r\n          <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\r\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4 border-b pb-2\">Bank & Salary Information</h3>\r\n            <div className=\"space-y-3\">\r\n              <DetailField \r\n                label=\"Bank Name\" \r\n                name=\"bankName\"\r\n                value={isEditing ? editFormData.bankName : employee.bankName} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                label=\"Account Number\" \r\n                name=\"accountNumber\"\r\n                value={isEditing ? editFormData.accountNumber : employee.accountNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                type=\"number\"\r\n              />\r\n              <DetailField \r\n                label=\"IFSC Code\" \r\n                name=\"ifsccode\"\r\n                value={isEditing ? editFormData.ifsccode : employee.ifsccode} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                label=\"PF Number\" \r\n                name=\"pfnum\"\r\n                value={isEditing ? editFormData.pfnum : employee.pfnum} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                label=\"UAN Number\" \r\n                name=\"uanNumber\"\r\n                value={isEditing ? editFormData.uanNumber : employee.uanNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                label=\"Monthly Salary\" \r\n                value={formatCurrency(employee.monthlySalary)} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                label=\"Annual Salary\" \r\n                value={formatCurrency(employee.annualSalary)} \r\n                isEditing={false}\r\n              />LPA\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n  const DetailField = ({ label, name, value, isEditing, onChange, type = \"text\", placeholder = \"\" }) => {\r\n    return (\r\n      <div className=\"flex flex-col\">\r\n        <label className=\"text-sm font-medium text-gray-600 mb-1\">{label}</label>\r\n        {isEditing ? (\r\n          <input\r\n            type={type}\r\n            name={name}\r\n            value={value || ''}\r\n            onChange={onChange}\r\n            placeholder={placeholder}\r\n            className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n          />\r\n        ) : (\r\n          <span className=\"px-3 py-2 bg-gray-50 rounded-md text-gray-800\">\r\n            {value || 'N/A'}\r\n          </span>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Filter Section Component\r\n  const FilterSection = () => {\r\n    const handleMonthChange = (e) => {\r\n      handleFilterChange({ ...filters, month: e.target.value });\r\n    };\r\n\r\n    const handleYearChange = (e) => {\r\n      handleFilterChange({ ...filters, year: e.target.value });\r\n    };\r\n\r\n    return (\r\n      <div className=\"p-6 border-b border-gray-200\">\r\n        <div className=\"flex flex-wrap gap-4 items-center\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Month\r\n            </label>\r\n            <select \r\n              className=\"w-40 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              onChange={handleMonthChange}\r\n              value={filters.month}\r\n            >\r\n              <option value=\"\">All Months</option>\r\n              {months.map((month, index) => (\r\n                <option key={month} value={index + 1}>\r\n                  {month}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Year\r\n            </label>\r\n            <select \r\n              className=\"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              onChange={handleYearChange}\r\n              value={filters.year}\r\n            >\r\n              <option value=\"\">All Years</option>\r\n              {years.map(year => (\r\n                <option key={year} value={year}>\r\n                  {year}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"ml-auto flex space-x-3\">\r\n            <button \r\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n              onClick={handleViewDetails}\r\n            >\r\n              View My Details\r\n            </button>\r\n            <button \r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              onClick={() => handleFilterChange({ month: '', year: '' })}\r\n            >\r\n              Clear Filters\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n  const PayrollTable = () => {\r\n    if (loading) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          <div className=\"flex justify-center items-center py-12\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n            <span className=\"ml-4 text-gray-600\">Loading payroll data...</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (error) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          <div className=\"text-center py-8 text-red-600\">\r\n            {error}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!empId) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          <div className=\"text-center py-8 text-red-600\">\r\n            Employee ID not available. Please check your login.\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"p-6\">\r\n        <h2 className=\"text-xl font-bold text-gray-800 mb-4\">\r\n          Payroll History {employee && `- ${employee.empName}`}\r\n        </h2>\r\n        \r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full border-collapse\">\r\n            <thead>\r\n              <tr className=\"bg-gradient-to-r from-blue-800 to-indigo-800 text-white\">\r\n                <th className=\"px-4 py-3 text-left font-semibold\">Month</th>\r\n                <th className=\"px-4 py-3 text-left font-semibold\">Year</th>\r\n                <th className=\"px-4 py-3 text-right font-semibold\">Net Salary</th>\r\n                <th className=\"px-4 py-3 text-right font-semibold\">Bonus</th>\r\n                <th className=\"px-4 py-3 text-center font-semibold\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredData.map((item) => (\r\n                <tr key={item.payrollId} className=\"border-b border-gray-200 hover:bg-gray-50\">\r\n                  <td className=\"px-4 py-3 font-medium text-gray-700\">\r\n                    {getMonthFromPayroll(item)}\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-gray-600\">\r\n                    {getYearFromPayroll(item)}\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-right font-semibold text-green-600\">\r\n                    {formatCurrency(item.netSalary)}\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-right font-medium text-orange-600\">\r\n                    {formatCurrency(item.bonusAmount || 0)}\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    <div className=\"flex justify-center space-x-2\">\r\n                      <button\r\n                        onClick={() => handleViewPayslip(item)}\r\n                        className=\"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm\"\r\n                      >\r\n                        View\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleDownloadPayslip(item)}\r\n                        className=\"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition-colors text-sm\"\r\n                      >\r\n                        Download\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {filteredData.length === 0 && !loading && (\r\n          <div className=\"text-center py-8 text-gray-500\">\r\n            No payroll records found for the selected filters.\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n  // Payslip Modal Component\r\n  const PayslipModal = () => {\r\n    if (!selectedPayslip || !employee) return null;\r\n\r\n    \r\n    const grossEarnings = (selectedPayslip.basicSalary || 0) + \r\n                         (selectedPayslip.hraAmount || 0) + \r\n                         (selectedPayslip.conveyanceAllowance || 0) +\r\n                         (selectedPayslip.medicalAllowance || 0) +\r\n                         (selectedPayslip.specialAllowance || 0);\r\n\r\n    const totalDeductions = (selectedPayslip.providentFund || 0) + \r\n                           (selectedPayslip.professionalTax || 0) +\r\n                           (selectedPayslip.incomeTax || 0);\r\n\r\n    const earnings = [\r\n      { description: \"BASIC\", monthlyRate: formatCurrency(selectedPayslip.basicSalary), currentMonth: formatCurrency(selectedPayslip.basicSalary), arrear: \"0\", total: formatCurrency(selectedPayslip.basicSalary) },\r\n      { description: \"HRA\", monthlyRate: formatCurrency(selectedPayslip.hraAmount), currentMonth: formatCurrency(selectedPayslip.hraAmount), arrear: \"0\", total: formatCurrency(selectedPayslip.hraAmount) },\r\n      { description: \"CONVEYANCE\", monthlyRate: formatCurrency(selectedPayslip.conveyanceAllowance), currentMonth: formatCurrency(selectedPayslip.conveyanceAllowance), arrear: \"0\", total: formatCurrency(selectedPayslip.conveyanceAllowance) },\r\n      { description: \"MEDICAL\", monthlyRate: formatCurrency(selectedPayslip.medicalAllowance), currentMonth: formatCurrency(selectedPayslip.medicalAllowance), arrear: \"0\", total: formatCurrency(selectedPayslip.medicalAllowance) },\r\n      { description: \"SPECIAL ALLOWANCE\", monthlyRate: formatCurrency(selectedPayslip.specialAllowance), currentMonth: formatCurrency(selectedPayslip.specialAllowance), arrear: \"0\", total: formatCurrency(selectedPayslip.specialAllowance) }\r\n    ];\r\n\r\n    const deductions = [\r\n      { description: \"PROVIDENT FUND\", amount: formatCurrency(selectedPayslip.providentFund) },\r\n      { description: \"PROFESSIONAL TAX\", amount: formatCurrency(selectedPayslip.professionalTax) },\r\n      { description: \"INCOME TAX\", amount: formatCurrency(selectedPayslip.incomeTax) }\r\n    ];\r\n\r\n    if (selectedPayslip.bonusAmount > 0) {\r\n      earnings.push({\r\n        description: \"BONUS\",\r\n        monthlyRate: formatCurrency(selectedPayslip.bonusAmount),\r\n        currentMonth: formatCurrency(selectedPayslip.bonusAmount),\r\n        arrear: \"0\",\r\n        total: formatCurrency(selectedPayslip.bonusAmount)\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n        <div className=\"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n          <div className=\"flex justify-between items-center p-6 border-b border-gray-200\">\r\n            <h2 className=\"text-xl font-bold text-gray-800\">\r\n              Payslip - {formatPayPeriod(selectedPayslip)}\r\n            </h2>\r\n            <button\r\n              onClick={() => setIsModalOpen(false)}\r\n              className=\"text-gray-500 hover:text-gray-700 text-2xl\"\r\n            >\r\n              &times;\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"p-6\">\r\n            {/* Company Header */}\r\n            <div className=\"bg-gradient-to-r from-blue-800 to-indigo-800 text-white rounded-xl p-6 mb-6\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                  <div className=\"text-2xl font-bold\">ANASOL CONSULTANCY SERVICES PVT LTD</div>\r\n                  <div className=\"text-xl font-semibold opacity-90 mt-1\">SALARY SLIP</div>\r\n                  <div className=\"bg-white/20 px-4 py-1 rounded-full text-sm font-medium mt-2 inline-block\">\r\n                    {formatPayPeriod(selectedPayslip)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"w-20 h-20 bg-white/20 rounded-lg flex items-center justify-center text-white font-bold\">\r\n                  <img \r\n                    src=\"/assets/anasol-logo.png\" \r\n                    alt=\"Anasol Logo\" \r\n                    className=\"w-20 h-20 object-contain\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Employee Information */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n              <div className=\"bg-white p-4 rounded-lg border border-blue-100 shadow-sm\">\r\n                <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\r\n                  <span className=\"font-semibold text-gray-600\">Employee Name:</span>\r\n                  <span className=\"font-medium\">{employee.empName}</span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\r\n                  <span className=\"font-semibold text-gray-600\">Employee ID:</span>\r\n                  <span className=\"font-medium\">{employee.employeeId}</span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\r\n                  <span className=\"font-semibold text-gray-600\">Designation:</span>\r\n                  <span className=\"font-medium\">{employee.designation || 'N/A'}</span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\r\n                  <span className=\"font-semibold text-gray-600\">Department:</span>\r\n                  <span className=\"font-medium\">{employee.department || 'N/A'}</span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center py-2\">\r\n                  <span className=\"font-semibold text-gray-600\">Phone No:</span>\r\n                  <span className=\"font-medium\">{employee.phoneNumber || 'N/A'}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-4 rounded-lg border border-blue-100 shadow-sm\">\r\n                <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\r\n                  <span className=\"font-semibold text-gray-600\">Bank A/C Name:</span>\r\n                  <span className=\"font-medium\">{employee.empName}</span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\r\n                  <span className=\"font-semibold text-gray-600\">PAN No:</span>\r\n                  <span className=\"font-medium\">{employee.panNumber || 'N/A'}</span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\r\n                  <span className=\"font-semibold text-gray-600\">PF No:</span>\r\n                  <span className=\"font-medium\">{employee.pfnum || 'N/A'}</span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\r\n                  <span className=\"font-semibold text-gray-600\">IFSC Code:</span>\r\n                  <span className=\"font-medium\">{employee.ifsccode || 'N/A'}</span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center py-2\">\r\n                  <span className=\"font-semibold text-gray-600\">Email:</span>\r\n                  <span className=\"font-medium\">{employee.email || 'N/A'}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Salary Details */}\r\n            <h3 className=\"text-lg font-bold text-gray-800 mb-3\">Salary Details</h3>\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n              {/* Earnings */}\r\n              <div>\r\n                <h4 className=\"font-bold text-gray-700 mb-2 border-l-4 border-blue-600 pl-2\">EARNINGS</h4>\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"w-full border-collapse\">\r\n                    <thead>\r\n                      <tr className=\"bg-gradient-to-r from-blue-800 to-indigo-800 text-white\">\r\n                        <th className=\"px-3 py-2 font-semibold text-sm\">Description</th>\r\n                        <th className=\"px-3 py-2 font-semibold text-sm\">Monthly Rate</th>\r\n                        <th className=\"px-3 py-2 font-semibold text-sm\">Current Month</th>\r\n                        <th className=\"px-3 py-2 font-semibold text-sm\">Arrear (+/-)</th>\r\n                        <th className=\"px-3 py-2 font-semibold text-sm\">Total</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {earnings.map((earning, index) => (\r\n                        <tr key={index} className=\"border-b\">\r\n                          <td className=\"px-3 py-2 text-sm\">{earning.description}</td>\r\n                          <td className=\"px-3 py-2 text-sm text-right\">{earning.monthlyRate}</td>\r\n                          <td className=\"px-3 py-2 text-sm text-right\">{earning.currentMonth}</td>\r\n                          <td className=\"px-3 py-2 text-sm text-right\">{earning.arrear}</td>\r\n                          <td className=\"px-3 py-2 text-sm text-right font-medium\">{earning.total}</td>\r\n                        </tr>\r\n                      ))}\r\n                      <tr className=\"bg-blue-50 font-semibold\">\r\n                        <td colSpan=\"4\" className=\"px-3 py-2 text-sm\">GROSS EARNINGS</td>\r\n                        <td className=\"px-3 py-2 text-sm text-right\">{formatCurrency(grossEarnings + (selectedPayslip.bonusAmount || 0))}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Deductions */}\r\n              <div>\r\n                <h4 className=\"font-bold text-gray-700 mb-2 border-l-4 border-blue-600 pl-2\">DEDUCTIONS</h4>\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"w-full border-collapse\">\r\n                    <thead>\r\n                      <tr className=\"bg-gradient-to-r from-blue-800 to-indigo-800 text-white\">\r\n                        <th className=\"px-3 py-2 font-semibold text-sm\">Description</th>\r\n                        <th className=\"px-3 py-2 font-semibold text-sm\">Amount</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {deductions.map((deduction, index) => (\r\n                        <tr key={index} className=\"border-b\">\r\n                          <td className=\"px-3 py-2 text-sm\">{deduction.description}</td>\r\n                          <td className=\"px-3 py-2 text-sm text-right\">{deduction.amount}</td>\r\n                        </tr>\r\n                      ))}\r\n                      <tr className=\"bg-blue-50 font-semibold\">\r\n                        <td className=\"px-3 py-2 text-sm\">TOTAL DEDUCTIONS</td>\r\n                        <td className=\"px-3 py-2 text-sm text-right\">{formatCurrency(totalDeductions)}</td>\r\n                      </tr>\r\n                      <tr className=\"bg-green-50 font-bold text-green-700\">\r\n                        <td className=\"px-3 py-2\">NET SALARY</td>\r\n                        <td className=\"px-3 py-2 text-right\">{formatCurrency(selectedPayslip.netSalary)}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"mt-8 pt-6 border-t border-gray-200 text-center text-gray-600 text-sm\">\r\n              <p>#1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039</p>\r\n              <p>Ph: 9632091726 | Email: info@anasol.com | www.anasol.com</p>\r\n              <p className=\"mt-2 text-gray-400\">\r\n                This is a computer-generated document and does not require a signature\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Modal Footer */}\r\n          <div className=\"p-4 border-t border-gray-200 flex justify-end space-x-3\">\r\n            <button\r\n              onClick={() => handleDownloadPayslip(selectedPayslip)}\r\n              className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors\"\r\n            >\r\n              Download PDF\r\n            </button>\r\n            <button\r\n              onClick={() => setIsModalOpen(false)}\r\n              className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n \r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        {/* Header */}\r\n         <header className=\"bg-gradient-to-r from-blue-800 to-indigo-800 text-white rounded-t-2xl mb-8\">\r\n          <div className=\"px-6 py-4 flex justify-between items-center\">\r\n            <div>\r\n              {/* <h1 className=\"text-2xl font-bold\">ANASOL CONSULTANCY SERVICES PVT LTD</h1> */}\r\n              {employee ? (\r\n                <div className=\"mt-2\">\r\n                  <p className=\"text-blue-200 text-sm\">\r\n                    <strong> Employee:</strong> {employee.empName} | ID: {employee.employeeId}\r\n                  </p>\r\n                  <p className=\"text-blue-200 text-sm\">\r\n                    <strong>Department:</strong> {employee.department || 'N/A'} | <strong>Designation:</strong> {employee.designation || 'N/A'}\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-blue-200 text-sm mt-1\">\r\n                  Loading employee {empId} details...\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div className=\"w-16 h-16 bg-white/20 rounded-lg flex items-center justify-center text-white font-bold\">\r\n              <img \r\n                src=\"/assets/anasol-logo.png\" \r\n                alt=\"Anasol Logo\" \r\n                className=\"w-20 h-20 object-contain\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </header>\r\n        {/* Main Content */}\r\n        <div className=\"bg-white rounded-2xl shadow-lg overflow-hidden\">\r\n          {showDetails ? <EmployeeDetails /> : (\r\n            <>\r\n              <FilterSection />\r\n              <PayrollTable />\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {isModalOpen && <PayslipModal />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeePayRoll;"],"names":["EmployeePayRoll","empId","useParams","console","log","filters","setFilters","useState","month","year","selectedPayslip","setSelectedPayslip","isModalOpen","setIsModalOpen","payrollData","setPayrollData","employee","setEmployee","loading","setLoading","error","setError","showDetails","setShowDetails","isEditing","setIsEditing","editFormData","setEditFormData","saveLoading","setSaveLoading","token","localStorage","getItem","months","currentYear","Date","getFullYear","years","Array","from","length","_","i","useEffect","async","payrollResponse","axios","get","concat","headers","Authorization","data","success","fetchEmployeeDetails","err","_err$response","_err$response$data","response","message","fetchPayrollData","employeeResponse","empName","_err$response2","_err$response2$data","handleFilterChange","newFilters","handleDownloadPayslip","alert","payslipElement","document","createElement","style","position","left","width","padding","backgroundColor","grossEarnings","payslip","basicSalary","hraAmount","conveyanceAllowance","medicalAllowance","specialAllowance","bonusAmount","totalDeductions","providentFund","professionalTax","incomeTax","netSalary","innerHTML","formatPayPeriod","employeeId","designation","department","phoneNumber","panNumber","pfnum","ifsccode","email","formatCurrency","body","appendChild","canvas","html2canvas","scale","useCORS","logging","removeChild","imgData","toDataURL","pdf","jsPDF","imgWidth","imgHeight","height","addImage","monthName","fileName","save","handleViewDetails","handleEdit","handleInputChange","e","name","value","target","prev","_objectSpread","handleSave","updateData","accountNumber","bankName","aadharNumber","uanNumber","put","handleCancel","amount","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format","payrollItem","getMonthFromPayroll","getYearFromPayroll","toString","filteredData","filter","item","itemMonth","itemYear","parseInt","EmployeeDetails","_jsxs","className","children","_jsx","_Fragment","onClick","disabled","DetailField","label","onChange","type","placeholder","jobType","level","startDate","toLocaleDateString","monthlySalary","annualSalary","_ref","FilterSection","map","index","PayrollTable","payrollId","PayslipModal","earnings","description","monthlyRate","currentMonth","arrear","total","deductions","push","src","alt","earning","colSpan","deduction"],"sourceRoot":""}