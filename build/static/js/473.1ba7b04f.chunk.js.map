{"version":3,"file":"static/js/473.1ba7b04f.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Employees/EmployeeProfile.jsx","TechLife/HRMS/Components/Employees/EmployeeApp.jsx","TechLife/HRMS/Components/Employees/Employees.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  FiMail,\r\n  FiMapPin,\r\n  FiBriefcase,\r\n  FiArrowLeft,\r\n  FiPhone,\r\n  FiHash,\r\n  FiAward,\r\n} from \"react-icons/fi\";\r\nimport { publicinfoApi } from \"../../../../axiosInstance\";\r\n\r\n// Helper function to generate initials\r\nconst generateInitials = (name) => {\r\n  if (!name) return \"\";\r\n  const nameParts = name.split(\" \");\r\n  if (nameParts.length > 1) {\r\n    return (nameParts[0][0] + nameParts[nameParts.length - 1][0]).toUpperCase();\r\n  }\r\n  return nameParts[0][0].toUpperCase();\r\n};\r\n\r\nconst EmployeeProfile = () => {\r\n  const { empID, employeeID } = useParams();\r\n  const navigate = useNavigate();\r\n  const { theme } = useContext(Context);\r\n\r\n  const [employee, setEmployee] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!employeeID) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const fetchEmployee = async () => {\r\n      setLoading(true);\r\n      try {\r\n        let response = await publicinfoApi.get(\r\n          `employee/public/${employeeID}/details`\r\n        );\r\n        console.log(\"Employee details:\", response.data);\r\n        setEmployee(response.data);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch employee details:\", error);\r\n        setEmployee(null);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchEmployee();\r\n  }, [employeeID]);\r\n\r\n  // Loading state\r\n  if (loading) {\r\n    return (\r\n      <div className={`min-h-screen flex items-center justify-center px-4 ${\r\n        theme === 'dark' ? 'bg-gray-900' : 'bg-white'\r\n      }`}>\r\n        <p className={`text-base sm:text-lg md:text-xl font-mono animate-pulse text-center ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n        }`}>LOADING...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Not found state\r\n  if (!employee) {\r\n    return (\r\n      <div className={`min-h-screen flex items-center justify-center p-4 sm:p-8 ${\r\n        theme === 'dark' ? 'bg-gray-900' : 'bg-white'\r\n      }`}>\r\n        <div className=\"text-center max-w-sm sm:max-w-md\">\r\n          <h2 className={`text-xl sm:text-2xl md:text-3xl font-bold font-mono mb-4 break-words ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n          }`}>\r\n            EMPLOYEE NOT FOUND\r\n          </h2>\r\n          <p className={`mb-4 sm:mb-6 font-mono text-sm sm:text-base break-words ${\r\n            theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n          }`}>Data unavailable for this employee ID.</p>\r\n          <button\r\n            onClick={() => navigate(-1)}\r\n            className={`w-full sm:w-auto inline-flex items-center justify-center px-4 sm:px-6 py-2 sm:py-3 border-2 text-sm sm:text-base font-bold font-mono transition-colors rounded-lg ${\r\n              theme === 'dark'\r\n                ? 'border-white text-white hover:bg-white hover:text-gray-900'\r\n                : 'border-gray-900 text-gray-900 hover:bg-gray-900 hover:text-white'\r\n            }`}\r\n          >\r\n            <FiArrowLeft className=\"mr-2 w-4 h-4 sm:w-5 sm:h-5\" /> BACK TO DIRECTORY\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Employee profile view\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      className={`min-h-screen font-sans px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8 ${\r\n        theme === 'dark' ? 'bg-gray-900 text-white' : 'bg-white text-gray-900'\r\n      }`}\r\n    >\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <motion.button\r\n         onClick={() => navigate(-1)}\r\n          className={`mb-6 sm:mb-8 inline-flex items-center cursor-pointer transition-colors px-4 sm:px-0 text-sm sm:text-base ${\r\n            theme === 'dark' \r\n              ? 'text-gray-300 hover:text-white' \r\n              : 'text-gray-600 hover:text-gray-900'\r\n          }`}\r\n          whileHover={{ x: -10 }}\r\n        >\r\n          <FiArrowLeft className=\"mr-2 w-4 h-4 sm:w-5 sm:h-5\" /> BACK\r\n        </motion.button>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 md:gap-12\">\r\n          {/* Profile Section */}\r\n          <div className={`col-span-1 border-b-2 md:border-b-0 md:border-r-2 pb-6 md:pb-0 md:pr-8 lg:pr-12 ${\r\n            theme === 'dark' ? 'border-gray-600' : 'border-gray-300'\r\n          }`}>\r\n            <motion.div\r\n              initial={{ y: 20, opacity: 0 }}\r\n              animate={{ y: 0, opacity: 1 }}\r\n              transition={{ duration: 0.6 }}\r\n              className={`w-32 h-32 sm:w-36 sm:h-36 md:w-40 md:h-40 rounded-full overflow-hidden mx-auto md:mx-0 mb-4 sm:mb-6 border-4 ${\r\n                theme === 'dark' ? 'border-white' : 'border-gray-900'\r\n              }`}\r\n            >\r\n              {employee.employeeImage ? (\r\n                <img\r\n                  src={employee.employeeImage}\r\n                  alt={`${employee.displayName || employee.name}'s profile picture`}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              ) : (\r\n                <div className={`w-full h-full flex items-center justify-center text-2xl sm:text-3xl md:text-4xl font-bold ${\r\n                  theme === 'dark' \r\n                    ? 'bg-gray-700 text-white' \r\n                    : 'bg-gray-200 text-gray-900'\r\n                }`}>\r\n                  {generateInitials(employee.displayName || employee.name)}\r\n                </div>\r\n              )}\r\n            </motion.div>\r\n            <motion.div\r\n              initial={{ y: 20, opacity: 0 }}\r\n              animate={{ y: 0, opacity: 1 }}\r\n              transition={{ duration: 0.6, delay: 0.2 }}\r\n              className=\"px-4 md:px-0\"\r\n            >\r\n              <h1 className={`text-2xl sm:text-3xl md:text-4xl font-extrabold text-center md:text-left break-words ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n              }`}>\r\n                {employee.displayName || employee.name || 'N/A'}\r\n              </h1>\r\n              <p className=\"text-base sm:text-lg font-medium text-red-500 text-center md:text-left mt-2 break-words\">\r\n                {employee.jobTitlePrimary || 'N/A'}\r\n              </p>\r\n            </motion.div>\r\n          </div>\r\n\r\n          {/* Details Section */}\r\n          <div className=\"col-span-1 md:col-span-2 px-4 md:px-0\">\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6 sm:gap-8\">\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.6, delay: 0.4 }}\r\n              >\r\n                <h2 className={`text-lg sm:text-xl md:text-2xl font-bold mb-4 ${\r\n                  theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                }`}>DETAILS</h2>\r\n                <div className=\"space-y-4 sm:space-y-6\">\r\n                  <InfoItem \r\n                    icon={<FiHash />} \r\n                    label=\"Employee ID\" \r\n                    value={employee.employeeId} \r\n                    theme={theme}\r\n                  />\r\n                  <InfoItem \r\n                    icon={<FiBriefcase />} \r\n                    label=\"Department\" \r\n                    value={employee.departmentId} \r\n                    theme={theme}\r\n                  />\r\n                  <InfoItem \r\n                    icon={<FiMapPin />} \r\n                    label=\"Location\" \r\n                    value={employee.location} \r\n                    theme={theme}\r\n                  />\r\n                </div>\r\n              </motion.div>\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.6, delay: 0.6 }}\r\n              >\r\n                <h2 className={`text-lg sm:text-xl md:text-2xl font-bold mb-4 ${\r\n                  theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                }`}>CONTACT</h2>\r\n                <div className=\"space-y-4 sm:space-y-6\">\r\n                  <InfoItem \r\n                    icon={<FiMail />} \r\n                    label=\"Email\" \r\n                    value={employee.workEmail} \r\n                    isMail={true} \r\n                    theme={theme}\r\n                  />\r\n                  <InfoItem \r\n                    icon={<FiPhone />} \r\n                    label=\"Contact\" \r\n                    value={employee.contact} \r\n                    theme={theme}\r\n                  />\r\n                </div>\r\n              </motion.div>\r\n            </div>\r\n\r\n            {/* Achievements Section */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.6, delay: 0.8 }}\r\n              className={`mt-8 sm:mt-12 pt-6 sm:pt-8 border-t-2 ${\r\n                theme === 'dark' ? 'border-gray-600' : 'border-gray-300'\r\n              }`}\r\n            >\r\n              <h2 className={`text-lg sm:text-xl md:text-2xl font-bold mb-4 sm:mb-6 ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n              }`}>ACHIEVEMENTS</h2>\r\n              <div className=\"space-y-4 sm:space-y-6 max-h-80 sm:max-h-96 overflow-y-auto pr-2\">\r\n                {employee.achievements?.length > 0 ? (\r\n                  employee.achievements.map((achievement, index) => (\r\n                    <motion.div\r\n                      key={index}\r\n                      initial={{ opacity: 0, x: -20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{ delay: 0.1 * index }}\r\n                      className={`border-2 p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 rounded-lg ${\r\n                        theme === 'dark' ? 'border-gray-600' : 'border-gray-300'\r\n                      }`}\r\n                    >\r\n                      <FiAward className=\"text-lg sm:text-xl text-yellow-500 flex-shrink-0\" />\r\n                      <div className=\"min-w-0 flex-1\">\r\n                        <h3 className={`text-base sm:text-lg font-bold break-words ${\r\n                          theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                        }`}>{achievement.certificationName || 'N/A'}</h3>\r\n                        <p className={`mt-1 text-xs sm:text-sm break-words ${\r\n                          theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n                        }`}>\r\n                          <span className=\"font-semibold\">Issuing Authority:</span> {achievement.issuingAuthorityName || 'N/A'}\r\n                        </p>\r\n                      </div>\r\n                    </motion.div>\r\n                  ))\r\n                ) : (\r\n                  <p className={`italic text-sm sm:text-base ${\r\n                    theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                  }`}>No achievements available</p>\r\n                )}\r\n              </div>\r\n            </motion.div>\r\n\r\n            {/* Projects Section */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.6, delay: 1.0 }}\r\n              className={`mt-8 sm:mt-12 pt-6 sm:pt-8 border-t-2 ${\r\n                theme === 'dark' ? 'border-gray-600' : 'border-gray-300'\r\n              }`}\r\n            >\r\n              <h2 className={`text-lg sm:text-xl md:text-2xl font-bold mb-4 sm:mb-6 ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n              }`}>PROJECTS</h2>\r\n              <div className=\"space-y-4 sm:space-y-6 max-h-80 sm:max-h-96 overflow-y-auto pr-2\">\r\n                {employee.projects?.length > 0 ? (\r\n                  employee.projects.map((project, index) => (\r\n                    <motion.div\r\n                      key={index}\r\n                      initial={{ opacity: 0, x: -20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{ delay: 0.1 * index }}\r\n                      className={`border-2 p-3 sm:p-4 rounded-lg ${\r\n                        theme === 'dark' ? 'border-gray-600' : 'border-gray-300'\r\n                      }`}\r\n                    >\r\n                      <h3 className={`text-base sm:text-lg font-bold break-words ${\r\n                        theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                      }`}>{project.projectName || 'N/A'}</h3>\r\n                      <p className={`mt-2 text-xs sm:text-sm break-words ${\r\n                        theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n                      }`}>{project.projectDescription || 'N/A'}</p>\r\n                    </motion.div>\r\n                  ))\r\n                ) : (\r\n                  <p className={`italic text-sm sm:text-base ${\r\n                    theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                  }`}>No projects available</p>\r\n                )}\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nconst InfoItem = ({ icon, label, value, isMail = false, theme }) => (\r\n  <motion.div\r\n    initial={{ opacity: 0, x: -10 }}\r\n    animate={{ opacity: 1, x: 0 }}\r\n    transition={{ duration: 0.4 }}\r\n    className=\"flex items-start space-x-3 sm:space-x-4\"\r\n  >\r\n    <div className={`mt-1 text-base sm:text-lg flex-shrink-0 ${\r\n      theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n    }`}>{icon}</div>\r\n    <div className=\"flex-grow min-w-0\">\r\n      <p className={`text-xs uppercase break-words ${\r\n        theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n      }`}>{label}</p>\r\n      {isMail ? (\r\n        <a \r\n          href={`mailto:${value}`} \r\n          className={`font-semibold text-sm sm:text-base transition-colors break-words ${\r\n            theme === 'dark' \r\n              ? 'text-white hover:text-red-400' \r\n              : 'text-gray-900 hover:text-red-500'\r\n          }`}\r\n        >\r\n          {value || 'N/A'}\r\n        </a>\r\n      ) : (\r\n        <p className={`font-semibold text-sm sm:text-base break-words ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n        }`}>{value || 'N/A'}</p>\r\n      )}\r\n    </div>\r\n  </motion.div>\r\n);\r\n\r\nexport default EmployeeProfile;\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useContext,\r\n  useRef,\r\n  useCallback,\r\n} from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport {\r\n  authApi,\r\n  publicinfoApi,\r\n  payroll,\r\n  attendanceApi,\r\n} from \"../../../../axiosInstance\";\r\nimport {\r\n  IoSearchOutline,\r\n  IoLockClosed,\r\n  IoMailOutline,\r\n  IoLocationOutline,\r\n  IoBriefcaseOutline,\r\n  IoPersonOutline,\r\n  IoBusinessOutline,\r\n  IoFilterOutline,\r\n  IoChatbubbleOutline,\r\n  IoChevronDownOutline,\r\n  IoGridOutline,\r\n  IoListOutline,\r\n  IoRefreshOutline,\r\n  IoDocumentsOutline,\r\n  IoInformationCircleOutline,\r\n  IoAddCircleOutline,\r\n  IoCloseCircleOutline,\r\n  IoClose,\r\n  IoArrowBack,\r\n  IoArrowForward,\r\n  IoWarning,\r\n  IoCheckmarkCircle,\r\n  IoIdCardOutline,\r\n  IoPeopleOutline,\r\n  IoTrashOutline,\r\n  IoCloudUpload,\r\n  IoCalendarOutline,\r\n  IoFitness,\r\n  IoGlobe,\r\n  IoKeyOutline,\r\n} from \"react-icons/io5\";\r\n\r\n// --- Reusable Modal Component ---\r\nconst Modal = ({ children, onClose, title, type, theme }) => {\r\n  let titleClass = \"\";\r\n  let icon = null;\r\n\r\n  if (type === \"success\") {\r\n    titleClass = \"text-green-600\";\r\n    icon = (\r\n      <IoCheckmarkCircle className=\"h-5 w-5 sm:h-6 sm:w-6 text-green-500\" />\r\n    );\r\n  } else if (type === \"error\") {\r\n    titleClass = \"text-red-600\";\r\n    icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-red-500\" />;\r\n  } else if (type === \"confirm\") {\r\n    titleClass = \"text-yellow-600\";\r\n    icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500\" />;\r\n  } else if (type === \"default\") {\r\n    titleClass = theme === \"dark\" ? \"text-white\" : \"text-gray-900\";\r\n    icon = (\r\n      <IoInformationCircleOutline className=\"h-5 w-5 sm:h-6 sm:w-6 text-blue-500\" />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 sm:p-6 z-[1000]\">\r\n      <div\r\n        className={`w-full max-w-md rounded-2xl sm:rounded-3xl shadow-2xl ${\r\n          theme === \"dark\"\r\n            ? \"bg-gray-800 border border-gray-700\"\r\n            : \"bg-white border border-gray-200\"\r\n        }`}\r\n      >\r\n        <div className=\"p-4 sm:p-6\">\r\n          <div className=\"flex items-center space-x-3 sm:space-x-4 mb-4 sm:mb-6\">\r\n            {icon && <span className=\"mr-2 sm:mr-3\">{icon}</span>}\r\n            <h3\r\n              className={`text-lg sm:text-xl font-bold ${titleClass} ${\r\n                theme === \"dark\" ? \"text-white\" : \"text-gray-800\"\r\n              }`}\r\n            >\r\n              {title}\r\n            </h3>\r\n            {onClose && (\r\n              <button\r\n                onClick={onClose}\r\n                className={`ml-auto p-1 rounded-full ${\r\n                  theme === \"dark\"\r\n                    ? \"text-gray-400 hover:bg-gray-700\"\r\n                    : \"text-gray-500 hover:bg-gray-100\"\r\n                }`}\r\n              >\r\n                <IoClose className=\"w-5 h-5\" />\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div className=\"space-y-4 sm:space-y-6\">{children}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Reusable Input Field Component ---\r\nconst InputField = ({\r\n  name,\r\n  label,\r\n  type = \"text\",\r\n  required = false,\r\n  hint,\r\n  placeholder,\r\n  value,\r\n  onChange,\r\n  onBlur,\r\n  isError,\r\n  options = [],\r\n  multiple = false,\r\n  accept,\r\n  theme,\r\n  maxLength,\r\n  disabled = false,\r\n}) => {\r\n  const normalizedValue = value === null || value === undefined ? \"\" : value;\r\n\r\n  const baseInputClass = `w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n    isError\r\n      ? \"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20\"\r\n      : theme === \"dark\"\r\n      ? \"border-gray-600 bg-gray-700 text-white\"\r\n      : \"border-gray-200 bg-white\"\r\n  } disabled:bg-gray-100 dark:disabled:bg-gray-700 dark:disabled:text-gray-400 disabled:cursor-not-allowed`;\r\n\r\n  const textareaClass = `w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl resize-none h-24 sm:h-32 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n    isError\r\n      ? \"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20\"\r\n      : theme === \"dark\"\r\n      ? \"border-gray-600 bg-gray-700 text-white\"\r\n      : \"border-gray-200 bg-white\"\r\n  } disabled:bg-gray-100 dark:disabled:bg-gray-700 dark:disabled:text-gray-400 disabled:cursor-not-allowed`;\r\n\r\n  const selectClass = `w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl appearance-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n    isError\r\n      ? \"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20\"\r\n      : theme === \"dark\"\r\n      ? \"border-gray-600 bg-gray-700 text-white\"\r\n      : \"border-gray-200 bg-white\"\r\n  } disabled:bg-gray-100 dark:disabled:bg-gray-700 dark:disabled:text-gray-400 disabled:cursor-not-allowed`;\r\n\r\n  return (\r\n    <div className=\"group relative\" key={name}>\r\n      <label\r\n        className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ${\r\n          theme === \"dark\" ? \"text-gray-200\" : \"text-gray-800\"\r\n        }`}\r\n      >\r\n        {label}\r\n        {required && (\r\n          <span className=\"text-red-500 ml-1 text-sm sm:text-base\">*</span>\r\n        )}\r\n      </label>\r\n\r\n      {hint && (\r\n        <p\r\n          className={`text-xs mb-2 ${\r\n            theme === \"dark\" ? \"text-gray-400\" : \"text-gray-500\"\r\n          }`}\r\n        >\r\n          {hint}\r\n        </p>\r\n      )}\r\n\r\n      {type === \"select\" ? (\r\n        <div className=\"relative\">\r\n          <select\r\n            name={name}\r\n            value={normalizedValue}\r\n            onChange={onChange}\r\n            onBlur={onBlur}\r\n            className={selectClass}\r\n            required={required}\r\n            disabled={disabled}\r\n          >\r\n            <option value=\"\">Select {label.toLowerCase()}</option>\r\n            {options.map((option, index) => (\r\n              <option key={index} value={option.value || option}>\r\n                {option.label || option}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <div\r\n            className={`absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none ${\r\n              theme === \"dark\" ? \"text-gray-400\" : \"text-gray-500\"\r\n            }`}\r\n          >\r\n            <svg className=\"w-4 h-4 fill-current\" viewBox=\"0 0 20 20\">\r\n              <path d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      ) : type === \"textarea\" ? (\r\n        <textarea\r\n          name={name}\r\n          value={normalizedValue}\r\n          onChange={onChange}\r\n          onBlur={onBlur}\r\n          placeholder={placeholder}\r\n          className={textareaClass}\r\n          required={required}\r\n          rows={4}\r\n          maxLength={maxLength}\r\n          disabled={disabled}\r\n        />\r\n      ) : type === \"file\" ? (\r\n        <div\r\n          className={`relative border-2 border-dashed rounded-lg sm:rounded-xl ${\r\n            isError\r\n              ? \"border-red-300 bg-red-50\"\r\n              : theme === \"dark\"\r\n              ? \"border-gray-600 bg-gray-800\"\r\n              : \"border-gray-300 bg-gray-50\"\r\n          } ${disabled ? \"cursor-not-allowed opacity-60\" : \"cursor-pointer\"}`}\r\n        >\r\n          <input\r\n            type=\"file\"\r\n            name={name}\r\n            accept={accept}\r\n            multiple={multiple}\r\n            onChange={onChange}\r\n            className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\r\n            disabled={disabled}\r\n          />\r\n          <div className=\"px-4 sm:px-6 py-6 sm:py-8 text-center\">\r\n            <IoCloudUpload\r\n              className={`mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ${\r\n                theme === \"dark\" ? \"text-gray-500\" : \"text-gray-400\"\r\n              }`}\r\n            />\r\n            <p\r\n              className={`text-xs sm:text-sm font-medium mb-1 ${\r\n                theme === \"dark\" ? \"text-gray-300\" : \"text-gray-600\"\r\n              }`}\r\n            >\r\n              Drop your file here, or{\" \"}\r\n              <span className=\"text-blue-600\">browse</span>\r\n            </p>\r\n            <p\r\n              className={`text-xs ${\r\n                theme === \"dark\" ? \"text-gray-500\" : \"text-gray-400\"\r\n              }`}\r\n            >\r\n              {accept || \"All file types supported\"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <input\r\n          type={type}\r\n          name={name}\r\n          value={normalizedValue}\r\n          onChange={onChange}\r\n          onBlur={onBlur}\r\n          placeholder={placeholder}\r\n          className={baseInputClass}\r\n          required={required}\r\n          maxLength={maxLength}\r\n          disabled={disabled}\r\n        />\r\n      )}\r\n\r\n      {isError && (\r\n        <div className=\"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600\">\r\n          <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n          <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Field Definitions (UPDATED with Step 4) ---\r\nconst credentialsFormFields = [\r\n  {\r\n    label: \"Full Name\",\r\n    name: \"fullName\",\r\n    type: \"text\",\r\n    required: true,\r\n    hint: \"Enter the full name for the user account.\",\r\n  },\r\n  {\r\n    label: \"Username\",\r\n    name: \"username\",\r\n    type: \"text\",\r\n    required: true,\r\n    hint: \"Must start with 'ACS' and match Employee ID (8-30 chars).\",\r\n    maxLength: 30,\r\n  },\r\n  {\r\n    label: \"Password\",\r\n    name: \"password\",\r\n    type: \"password\",\r\n    required: true,\r\n    hint: \"Temporary password (8-30 characters).\",\r\n    maxLength: 30,\r\n  },\r\n  {\r\n    label: \"Role\",\r\n    name: \"role\",\r\n    type: \"select\",\r\n    required: true,\r\n    options: [\r\n      \"ROLE_HR\",\r\n      \"ROLE_MANAGER\",\r\n      \"ROLE_EMPLOYEE\",\r\n      \"ROLE_ADMIN\",\r\n      \"ROLE_TEAM_LEAD\",\r\n    ],\r\n    hint: \"Select the role for the user account.\",\r\n  },\r\n  // RE-ADDED: Email and Phone Number to Step 1\r\n  {\r\n    label: \"Email\",\r\n    name: \"email\",\r\n    type: \"email\",\r\n    required: true,\r\n    hint: \"Employee email address.\",\r\n  },\r\n  {\r\n    label: \"Phone Number\",\r\n    name: \"phoneNumber\",\r\n    type: \"text\",\r\n    required: false,\r\n    hint: \"Contact phone number.\",\r\n  },\r\n];\r\n\r\nconst employeeFormFields = [\r\n  {\r\n    label: \"Employee ID\",\r\n    name: \"employeeId\",\r\n    type: \"text\",\r\n    required: true,\r\n    hint: \"Must start with 'ACS' and match Username (8-30 chars).\",\r\n    maxLength: 30,\r\n  },\r\n  {\r\n    label: \"First Name\",\r\n    name: \"firstName\",\r\n    type: \"text\",\r\n    required: true,\r\n    hint: \"Enter employee's first name.\",\r\n  },\r\n  {\r\n    label: \"Display Name\",\r\n    name: \"displayName\",\r\n    type: \"text\",\r\n    required: false,\r\n    hint: \"Name to display in the system (optional).\",\r\n  },\r\n  {\r\n    label: \"Marital Status\",\r\n    name: \"maritalStatus\",\r\n    type: \"select\",\r\n    required: true,\r\n    options: [\"Single\", \"Married\", \"Divorced\", \"Widowed\"],\r\n    hint: \"Select employee's marital status.\",\r\n  },\r\n  {\r\n    label: \"Department ID\",\r\n    name: \"departmentId\",\r\n    type: \"department-dropdown\",\r\n    required: true,\r\n    hint: \"Select department from the list.\",\r\n  },\r\n  {\r\n    label: \"Employee Role\",\r\n    name: \"employeeRole\",\r\n    type: \"text\",\r\n    required: false,\r\n    disabled: true,\r\n    hint: \"This is set automatically from the User Credentials role.\",\r\n  },\r\n];\r\n\r\nconst payrollFormFields = [\r\n  {\r\n    label: \"Employee Name\",\r\n    name: \"empNameDisplay\",\r\n    type: \"text\",\r\n    required: true,\r\n    disabled: true,\r\n    hint: \"Auto-filled from Employee Form.\",\r\n  },\r\n  {\r\n    label: \"Employee ID\",\r\n    name: \"employeeIdDisplay\",\r\n    type: \"text\",\r\n    required: true,\r\n    disabled: true,\r\n    hint: \"Auto-filled from Employee Form.\",\r\n  },\r\n  // Email and Phone fields are disabled in Step 3 but rely on Step 1 values\r\n  {\r\n    label: \"Email\",\r\n    name: \"email\",\r\n    type: \"email\",\r\n    required: true,\r\n    disabled: true,\r\n    hint: \"Employee email address.\",\r\n  },\r\n  {\r\n    label: \"Phone Number\",\r\n    name: \"phoneNumber\",\r\n    type: \"text\",\r\n    required: false,\r\n    disabled: true,\r\n    hint: \"Contact phone number.\",\r\n  },\r\n  {\r\n    label: \"Annual Salary\",\r\n    name: \"annualSalary\",\r\n    type: \"number\",\r\n    required: true,\r\n    hint: \"Annual salary amount.\",\r\n  },\r\n  // ** ADDED STIPEND FIELD **\r\n  {\r\n    label: \"Stipend\",\r\n    name: \"stipend\",\r\n    type: \"number\",\r\n    required: false,\r\n    hint: \"Monthly stipend amount (Required for Interns).\",\r\n  },\r\n  {\r\n    label: \"Account Number\",\r\n    name: \"accountNumber\",\r\n    type: \"text\",\r\n    required: true,\r\n    hint: \"Bank account number.\",\r\n  },\r\n  {\r\n    label: \"IFSC Code\",\r\n    name: \"ifsccode\",\r\n    type: \"text\",\r\n    required: true,\r\n    hint: \"IFSC code for bank.\",\r\n  },\r\n  {\r\n    label: \"Bank Name\",\r\n    name: \"bankName\",\r\n    type: \"text\",\r\n    required: true,\r\n    hint: \"Name of the bank.\",\r\n  },\r\n  {\r\n    label: \"PF Number\",\r\n    name: \"pfnum\",\r\n    type: \"text\",\r\n    required: false,\r\n    hint: \"Provident Fund number.\",\r\n  },\r\n  {\r\n    label: \"PAN Number\",\r\n    name: \"panNumber\",\r\n    type: \"text\",\r\n    required: true,\r\n    hint: \"Permanent Account Number.\",\r\n  },\r\n  {\r\n    label: \"Aadhar Number\",\r\n    name: \"aadharNumber\",\r\n    type: \"text\",\r\n    required: true,\r\n    hint: \"Aadhar ID number.\",\r\n  },\r\n  {\r\n    label: \"UAN Number\",\r\n    name: \"uanNumber\",\r\n    type: \"text\",\r\n    required: false,\r\n    hint: \"Universal Account Number.\",\r\n  },\r\n  // CHANGED: Department is now a DepartmentDropdown (same as Step 2)\r\n  {\r\n    label: \"Department\",\r\n    name: \"department\",\r\n    type: \"department-dropdown\",\r\n    required: true,\r\n    hint: \"Select department from the list.\",\r\n  },\r\n  {\r\n    label: \"Designation\",\r\n    name: \"designation\",\r\n    type: \"text\",\r\n    required: true,\r\n    hint: \"Job designation.\",\r\n  },\r\n  // UPDATED: Added 'Intern' option and fixed name casing\r\n  {\r\n    label: \"Job Type\",\r\n    name: \"jobType\",\r\n    type: \"select\",\r\n    required: true,\r\n    options: [\"Full-time\", \"Part-time\", \"Contract\", \"Intern\"],\r\n    hint: \"Select job type.\",\r\n  },\r\n  // CHANGED: Level is now a dropdown and fixed name casing\r\n  {\r\n    label: \"Level\",\r\n    name: \"level\",\r\n    type: \"select\",\r\n    required: true,\r\n    options: [\"Senior\", \"Junior\", \"Mid-Level\", \"Lead\", \"Manager\"],\r\n    hint: \"Select job level.\",\r\n  },\r\n  {\r\n    label: \"Start Date\",\r\n    name: \"startDate\",\r\n    type: \"date\",\r\n    required: true,\r\n    hint: \"Employment start date.\",\r\n  },\r\n];\r\n\r\n// NEW: Step 4 Fields (Leaves/Attendance)\r\nconst leavesFormFields = [\r\n  {\r\n    label: \"Employee ID\",\r\n    name: \"employeeIdDisplay4\",\r\n    type: \"text\",\r\n    required: true,\r\n    disabled: true,\r\n    hint: \"Auto-filled.\",\r\n  },\r\n  // NEW: Shift Name is a dynamic dropdown\r\n  {\r\n    label: \"Shift Name\",\r\n    name: \"shiftName\",\r\n    type: \"shift-dropdown\",\r\n    required: true,\r\n    hint: \"Select the employee's shift.\",\r\n  },\r\n  {\r\n    label: \"Month\",\r\n    name: \"month\",\r\n    type: \"number\",\r\n    required: true,\r\n    hint: \"1 (Jan) to 12 (Dec).\",\r\n    min: 1,\r\n    max: 12,\r\n  },\r\n  {\r\n    label: \"Year\",\r\n    name: \"year\",\r\n    type: \"number\",\r\n    required: true,\r\n    hint: \"E.g., 2024.\",\r\n    min: 2020,\r\n  },\r\n  {\r\n    label: \"Paid Leaves\",\r\n    name: \"paid\",\r\n    type: \"number\",\r\n    required: true,\r\n    hint: \"Total paid leave days.\",\r\n    min: 0,\r\n  },\r\n  {\r\n    label: \"Sick Leaves\",\r\n    name: \"sick\",\r\n    type: \"number\",\r\n    required: true,\r\n    hint: \"Total sick leave days.\",\r\n    min: 0,\r\n  },\r\n  {\r\n    label: \"Casual Leaves\",\r\n    name: \"casual\",\r\n    type: \"number\",\r\n    required: true,\r\n    hint: \"Total casual leave days.\",\r\n    min: 0,\r\n  },\r\n  {\r\n    label: \"Unpaid Leaves\",\r\n    name: \"unpaid\",\r\n    type: \"number\",\r\n    required: true,\r\n    hint: \"Total unpaid leave days.\",\r\n    min: 0,\r\n  },\r\n  // ADDED: Visible and Disabled Geolocation fields\r\n  {\r\n    name: \"latitude\",\r\n    type: \"text\",\r\n    label: \"Latitude\",\r\n    required: true,\r\n    disabled: true,\r\n    hint: \"Auto-filled from location.\",\r\n  },\r\n  {\r\n    name: \"longitude\",\r\n    type: \"text\",\r\n    label: \"Longitude\",\r\n    required: true,\r\n    disabled: true,\r\n    hint: \"Auto-filled from location.\",\r\n  },\r\n  {\r\n    name: \"timezone\",\r\n    type: \"text\",\r\n    label: \"Timezone\",\r\n    required: true,\r\n    disabled: true,\r\n    hint: \"Auto-filled ('Asia/Kolkata').\",\r\n  },\r\n];\r\n\r\nconst generateInitials = (name) => {\r\n  if (!name) return \"\";\r\n  const nameParts = name.split(\" \");\r\n  if (nameParts.length > 1) {\r\n    return (nameParts[0][0] + nameParts[nameParts.length - 1][0]).toUpperCase();\r\n  }\r\n  return nameParts[0][0].toUpperCase();\r\n};\r\n\r\n// --- Department Dropdown Component (Needed for both Step 2 and Step 3) ---\r\nconst DepartmentDropdown = ({\r\n  value,\r\n  onChange,\r\n  theme,\r\n  isError,\r\n  hint,\r\n  name,\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [departments, setDepartments] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const dropdownRef = useRef(null);\r\n  const PAGE_SIZE = 10;\r\n\r\n  const loadDepartments = useCallback(\r\n    async (page = 0, reset = false) => {\r\n      if (loading || (!hasMore && !reset)) return;\r\n\r\n      setLoading(true);\r\n      try {\r\n        const response = await publicinfoApi.get(\r\n          `employee/${page}/${PAGE_SIZE}/departmentId/asc/all/departments`\r\n        );\r\n        const newDepartments = response.data.content || [];\r\n\r\n        setDepartments((prev) =>\r\n          reset ? newDepartments : [...prev, ...newDepartments]\r\n        );\r\n        setCurrentPage(page);\r\n        setHasMore(newDepartments.length === PAGE_SIZE);\r\n      } catch (error) {\r\n        console.error(\"Error fetching departments:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    },\r\n    [loading, hasMore]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isOpen && departments.length === 0) {\r\n      loadDepartments(0, true);\r\n    }\r\n  }, [isOpen, loadDepartments, departments.length]);\r\n\r\n  const handleScroll = (e) => {\r\n    const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n    if (scrollHeight - scrollTop <= clientHeight + 50 && hasMore && !loading) {\r\n      loadDepartments(currentPage + 1);\r\n    }\r\n  };\r\n\r\n  const filteredDepartments = departments.filter((dept) => {\r\n    if (!searchTerm) return true;\r\n    const searchLower = searchTerm.toLowerCase();\r\n    return (\r\n      dept.departmentId.toLowerCase().includes(searchLower) ||\r\n      dept.departmentName.toLowerCase().includes(searchLower)\r\n    );\r\n  });\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  const getDisplayText = () => {\r\n    if (!value) return \"Choose Department ID\";\r\n    const selectedDept = departments.find(\r\n      (dept) => dept.departmentId === value\r\n    );\r\n    return selectedDept\r\n      ? `${selectedDept.departmentId}(${selectedDept.departmentName})`\r\n      : value;\r\n  };\r\n\r\n  return (\r\n    <div className=\"group relative\" ref={dropdownRef}>\r\n      <label\r\n        className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ${\r\n          theme === \"dark\" ? \"text-gray-200\" : \"text-gray-800\"\r\n        }`}\r\n      >\r\n        Department\r\n        <span className=\"text-red-500 ml-1 text-sm sm:text-base\">*</span>\r\n      </label>\r\n\r\n      {hint && (\r\n        <p\r\n          className={`text-xs mb-2 ${\r\n            theme === \"dark\" ? \"text-gray-400\" : \"text-gray-500\"\r\n          }`}\r\n        >\r\n          {hint}\r\n        </p>\r\n      )}\r\n\r\n      <div className=\"relative\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setIsOpen(!isOpen)}\r\n          className={`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl text-left focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n                        ${\r\n                          isError\r\n                            ? \"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20\"\r\n                            : theme === \"dark\"\r\n                            ? \"border-gray-600 bg-gray-700 text-white\"\r\n                            : \"border-gray-200 bg-white\"\r\n                        }`}\r\n        >\r\n          <span className={value ? \"\" : \"text-gray-500\"}>\r\n            {getDisplayText()}\r\n          </span>\r\n        </button>\r\n\r\n        <div className=\"absolute right-4 sm:right-5 top-1/2 transform -translate-y-1/2 pointer-events-none\">\r\n          <IoChevronDownOutline\r\n            className={`w-4 h-4 sm:w-5 sm:h-5 ${isOpen ? \"rotate-180\" : \"\"} ${\r\n              theme === \"dark\" ? \"text-gray-400\" : \"text-gray-400\"\r\n            }`}\r\n          />\r\n        </div>\r\n\r\n        {isOpen && (\r\n          <div\r\n            className={`absolute z-50 w-full mt-1 border rounded-lg sm:rounded-xl shadow-lg max-h-64 ${\r\n              theme === \"dark\"\r\n                ? \"bg-gray-700 border-gray-600\"\r\n                : \"bg-white border-gray-300\"\r\n            }`}\r\n          >\r\n            <div className=\"p-2 border-b border-gray-200 dark:border-gray-600\">\r\n              <div className=\"relative\">\r\n                <IoSearchOutline\r\n                  className={`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${\r\n                    theme === \"dark\" ? \"text-gray-400\" : \"text-gray-500\"\r\n                  }`}\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search departments...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className={`w-full pl-10 pr-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n                    theme === \"dark\"\r\n                      ? \"bg-gray-600 border-gray-500 text-white placeholder-gray-400\"\r\n                      : \"bg-gray-50 border-gray-300 text-gray-800 placeholder-gray-500\"\r\n                  }`}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"overflow-y-auto max-h-48\" onScroll={handleScroll}>\r\n              {filteredDepartments.length > 0 ? (\r\n                filteredDepartments.map((dept, index) => (\r\n                  <button\r\n                    key={`${dept.departmentId}-${index}`}\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      onChange(dept.departmentId, name);\r\n                      setIsOpen(false);\r\n                    }}\r\n                    className={`w-full px-4 py-3 text-left text-sm ${\r\n                      value === dept.departmentId\r\n                        ? theme === \"dark\"\r\n                          ? \"bg-blue-700 text-white\"\r\n                          : \"bg-blue-100 text-blue-800\"\r\n                        : theme === \"dark\"\r\n                        ? \"text-gray-200\"\r\n                        : \"text-gray-800\"\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex flex-col\">\r\n                      <span className=\"font-semibold\">\r\n                        {dept.departmentId}({dept.departmentName})\r\n                      </span>\r\n                      <span\r\n                        className={`text-xs mt-1 ${\r\n                          theme === \"dark\" ? \"text-gray-400\" : \"text-gray-500\"\r\n                        }`}\r\n                      >\r\n                        {dept.departmentDescription}\r\n                      </span>\r\n                    </div>\r\n                  </button>\r\n                ))\r\n              ) : !loading ? (\r\n                <div\r\n                  className={`px-4 py-8 text-center text-sm ${\r\n                    theme === \"dark\" ? \"text-gray-400\" : \"text-gray-500\"\r\n                  }`}\r\n                >\r\n                  {searchTerm\r\n                    ? \"No departments found matching your search.\"\r\n                    : \"No departments available.\"}\r\n                </div>\r\n              ) : null}\r\n\r\n              {loading && (\r\n                <div className=\"flex justify-center items-center py-4\">\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\r\n                  <span\r\n                    className={`ml-2 text-sm ${\r\n                      theme === \"dark\" ? \"text-gray-400\" : \"text-gray-500\"\r\n                    }`}\r\n                  >\r\n                    Loading departments...\r\n                  </span>\r\n                </div>\r\n              )}\r\n\r\n              {!hasMore && departments.length > 0 && (\r\n                <div className=\"text-center py-2 text-xs text-gray-500 dark:text-gray-500\">\r\n                   End of results ({departments.length} departments) \r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {isError && (\r\n        <div className=\"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600\">\r\n          <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n          <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Shift Dropdown Component ---\r\nconst ShiftDropdown = ({ value, onChange, theme, isError, hint, name }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [shifts, setShifts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const dropdownRef = useRef(null);\r\n\r\n  const getShifts = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Hitting the required endpoint to fetch shift data\r\n      const response = await attendanceApi.get(\"/shifts\");\r\n      const shiftNames = (response.data || []).map((shift) => shift.name);\r\n      setShifts(shiftNames);\r\n    } catch (error) {\r\n      console.error(\"Error fetching shifts:\", error);\r\n      // Optionally, set an error state here if needed\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isOpen && shifts.length === 0) {\r\n      getShifts();\r\n    }\r\n  }, [isOpen, shifts.length, getShifts]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  const getDisplayText = () => {\r\n    if (!value) return \"Select Shift\";\r\n    return value;\r\n  };\r\n\r\n  return (\r\n    <div className=\"group relative\" ref={dropdownRef}>\r\n      <label\r\n        className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ${\r\n          theme === \"dark\" ? \"text-gray-200\" : \"text-gray-800\"\r\n        }`}\r\n      >\r\n        Shift Name\r\n        <span className=\"text-red-500 ml-1 text-sm sm:text-base\">*</span>\r\n      </label>\r\n\r\n      {hint && (\r\n        <p\r\n          className={`text-xs mb-2 ${\r\n            theme === \"dark\" ? \"text-gray-400\" : \"text-gray-500\"\r\n          }`}\r\n        >\r\n          {hint}\r\n        </p>\r\n      )}\r\n\r\n      <div className=\"relative\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setIsOpen(!isOpen)}\r\n          disabled={loading}\r\n          className={`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl text-left focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n                        ${\r\n                          isError\r\n                            ? \"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20\"\r\n                            : theme === \"dark\"\r\n                            ? \"border-gray-600 bg-gray-700 text-white\"\r\n                            : \"border-gray-200 bg-white\"\r\n                        } ${loading ? \"opacity-70\" : \"\"}`}\r\n        >\r\n          <span className={value ? \"\" : \"text-gray-500\"}>\r\n            {loading ? \"Loading Shifts...\" : getDisplayText()}\r\n          </span>\r\n        </button>\r\n\r\n        <div className=\"absolute right-4 sm:right-5 top-1/2 transform -translate-y-1/2 pointer-events-none\">\r\n          <IoChevronDownOutline\r\n            className={`w-4 h-4 sm:w-5 sm:h-5 ${isOpen ? \"rotate-180\" : \"\"} ${\r\n              theme === \"dark\" ? \"text-gray-400\" : \"text-gray-400\"\r\n            }`}\r\n          />\r\n        </div>\r\n\r\n        {isOpen && (\r\n          <div\r\n            className={`absolute z-50 w-full mt-1 border rounded-lg sm:rounded-xl shadow-lg max-h-64 overflow-y-auto ${\r\n              theme === \"dark\"\r\n                ? \"bg-gray-700 border-gray-600\"\r\n                : \"bg-white border-gray-300\"\r\n            }`}\r\n          >\r\n            {shifts.length > 0 ? (\r\n              shifts.map((shiftName, index) => (\r\n                <button\r\n                  key={index}\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    onChange({ target: { name: name, value: shiftName } });\r\n                    setIsOpen(false);\r\n                  }}\r\n                  className={`w-full px-4 py-3 text-left text-sm ${\r\n                    value === shiftName\r\n                      ? theme === \"dark\"\r\n                        ? \"bg-blue-700 text-white\"\r\n                        : \"bg-blue-100 text-blue-800\"\r\n                      : theme === \"dark\"\r\n                      ? \"text-gray-200\"\r\n                      : \"text-gray-800\"\r\n                  }`}\r\n                >\r\n                  {shiftName}\r\n                </button>\r\n              ))\r\n            ) : loading ? (\r\n              <div className=\"flex justify-center items-center py-4\">\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"px-4 py-3 text-sm text-gray-500\">\r\n                No shifts found.\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {isError && (\r\n        <div className=\"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600\">\r\n          <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n          <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction EmployeeApp() {\r\n  const navigate = useNavigate();\r\n  const [employeeData, setEmployeeData] = useState(null);\r\n  const [dynamicFilters, setDynamicFilters] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [viewMode, setViewMode] = useState(\"grid\");\r\n  const { userprofiledata, theme, userData } = useContext(Context);\r\n  const { empID } = useParams();\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [selectedFilters, setSelectedFilters] = useState({});\r\n  const [loggedPermissiondata, setLoggedPermissionData] = useState([]);\r\n  const [matchedArray, setMatchedArray] = useState(null);\r\n  const LoggedUserRole = userData?.roles[0]\r\n    ? `ROLE_${userData?.roles[0]}`\r\n    : null;\r\n\r\n  const [flippedCard, setFlippedCard] = useState(null);\r\n  const [contextMenu, setContextMenu] = useState({\r\n    visible: false,\r\n    x: 0,\r\n    y: 0,\r\n    employee: null,\r\n  });\r\n\r\n  const [isAddEmployeeModalOpen, setIsAddEmployeeModalOpen] = useState(false);\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const [submissionStatus, setSubmissionStatus] = useState(\"\");\r\n\r\n  // Multi-step form states\r\n  const [terminatedSearchTerm, setTerminatedSearchTerm] = useState(\"\");\r\n  const [currentStep, setCurrentStep] = useState(1); // 1: Credentials, 2: Employee, 3: Payroll, 4: Leaves (NEW)\r\n\r\n  // NEW: Function to get current location\r\n  const getCurrentLocation = useCallback(() => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const latitude = position.coords.latitude;\r\n          const longitude = position.coords.longitude;\r\n\r\n          setFormData((prev) => ({\r\n            ...prev,\r\n            // Ensure latitude and longitude are stored as strings for input value (which is expected to be a string type input)\r\n            latitude: String(latitude),\r\n            longitude: String(longitude),\r\n            timezone:\r\n              Intl.DateTimeFormat().resolvedOptions().timeZone ||\r\n              \"Asia/Kolkata\",\r\n          }));\r\n        },\r\n        (error) => {\r\n          console.error(\"Geolocation error:\", error);\r\n          // Default to 0, 0 (as strings) if permission is denied or location is unavailable\r\n          setFormData((prev) => ({ ...prev, latitude: \"0\", longitude: \"0\" }));\r\n        }\r\n      );\r\n    } else {\r\n      console.error(\"Geolocation is not supported by this browser.\");\r\n      setFormData((prev) => ({ ...prev, latitude: \"0\", longitude: \"0\" }));\r\n    }\r\n  }, []);\r\n\r\n  const initialFormData = {\r\n    // User Credentials\r\n    fullName: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    role: \"\",\r\n    email: \"\",\r\n    phoneNumber: \"\",\r\n    // Employee Information\r\n    employeeId: \"\",\r\n    firstName: \"\",\r\n    displayName: \"\",\r\n    maritalStatus: \"\",\r\n    departmentId: \"\",\r\n    employeeRole: \"\",\r\n    // Payroll/Job Details\r\n    empNameDisplay: \"\",\r\n    employeeIdDisplay: \"\",\r\n    annualSalary: \"\",\r\n    // ** ADDED STIPEND FIELD **\r\n    stipend: \"\",\r\n    accountNumber: \"\",\r\n    ifsccode: \"\",\r\n    bankName: \"\",\r\n    pfnum: \"\",\r\n    panNumber: \"\",\r\n    aadharNumber: \"\",\r\n    uanNumber: \"\",\r\n    department: \"\",\r\n    designation: \"\",\r\n    jobType: \"\", // Default to existing option\r\n    level: \"\", // Default to an option\r\n    startDate: \"\",\r\n    empName: \"\",\r\n    // NEW LEAVES FIELDS (Step 4)\r\n    employeeIdDisplay4: \"\",\r\n    month: new Date().getMonth() + 1,\r\n    year: new Date().getFullYear(),\r\n    paid: 0,\r\n    sick: 0,\r\n    casual: 0,\r\n    unpaid: 0,\r\n    shiftName: \"\",\r\n    latitude: \"0\", // DTO default\r\n    longitude: \"0\", // DTO default\r\n    timezone: \"Asia/Kolkata\", // DTO default\r\n  };\r\n\r\n  const [formData, setFormData] = useState(initialFormData);\r\n  const [formErrors, setFormErrors] = useState({});\r\n\r\n  const [popup, setPopup] = useState({ show: false, message: \"\", type: \"\" });\r\n  const [deleteConfirmation, setDeleteConfirmation] = useState({\r\n    show: false,\r\n    employee: null,\r\n  });\r\n\r\n  const [pageNumber, setPageNumber] = useState(0);\r\n  const [pageSize, setPageSize] = useState(15);\r\n  const [sortBy, setSortBy] = useState(\"employeeId\");\r\n  const [sortOrder, setSortOrder] = useState(\"asc\");\r\n\r\n  const [isTerminatedEmployeesModalOpen, setIsTerminatedEmployeesModalOpen] =\r\n    useState(false);\r\n  const [terminatedEmployeesData, setTerminatedEmployeesData] = useState([]);\r\n  const [terminatedLoading, setTerminatedLoading] = useState(false);\r\n  const [terminatedHasMore, setTerminatedHasMore] = useState(true);\r\n  const [terminatedCurrentPage, setTerminatedCurrentPage] = useState(0);\r\n  const terminatedScrollRef = useRef(null);\r\n  const [hasAccess, setHasAccess] = useState([]);\r\n\r\n  const TERMINATED_PAGE_SIZE = 15;\r\n\r\n  const userRole = userData?.roles?.[0]?.toUpperCase();\r\n  const hasManagementAccess = [\"ADMIN\", \"MANAGER\", \"HR\"].includes(userRole);\r\n\r\n  // useEffect to fetch Geolocation on mount/when modal opens\r\n  useEffect(() => {\r\n    if (isAddEmployeeModalOpen) {\r\n      getCurrentLocation();\r\n    }\r\n  }, [isAddEmployeeModalOpen, getCurrentLocation]);\r\n\r\n  useEffect(() => {\r\n    let fetchedData = async () => {\r\n      try {\r\n        let response = await authApi.get(`role-access/${LoggedUserRole}`);\r\n        setLoggedPermissionData(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching role access data:\", error);\r\n      }\r\n    };\r\n    fetchedData();\r\n  }, [LoggedUserRole]);\r\n\r\n  useEffect(() => {\r\n    if (loggedPermissiondata) {\r\n      setMatchedArray(loggedPermissiondata?.permissions);\r\n    }\r\n  }, [loggedPermissiondata]);\r\n\r\n  useEffect(() => {\r\n    setHasAccess(userData?.permissions);\r\n  }, [userData]);\r\n\r\n  useEffect(() => {\r\n    const handleOutsideClick = () => {\r\n      if (contextMenu.visible) {\r\n        setContextMenu({ ...contextMenu, visible: false });\r\n      }\r\n      if (flippedCard) {\r\n        setFlippedCard(null);\r\n      }\r\n    };\r\n    window.addEventListener(\"click\", handleOutsideClick);\r\n    return () => window.removeEventListener(\"click\", handleOutsideClick);\r\n  }, [contextMenu, flippedCard]);\r\n\r\n  const handleViewTeamsClick = (employee) => {\r\n    if (employee) {\r\n      navigate(\r\n        `/my-teams/${empID}?fromContextMenu=true&targetEmployeeId=${employee.employeeId}`\r\n      );\r\n      setContextMenu({ ...contextMenu, visible: false });\r\n      setFlippedCard(null);\r\n    }\r\n  };\r\n\r\n  const handleChatClick = async (employee) => {\r\n    if (employee) {\r\n      navigate(`/chat/${empID}/with?id=${employee.employeeId}`, {\r\n        state: {\r\n          newChatTarget: {\r\n            chatId: employee.employeeId,\r\n            name: employee.displayName,\r\n            profile: employee.employeeImage,\r\n            type: \"private\",\r\n            isOnline: null,\r\n            lastMessage: \"\",\r\n            unreadMessageCount: 0,\r\n          },\r\n        },\r\n      });\r\n      if (contextMenu.visible) {\r\n        setContextMenu({ ...contextMenu, visible: false });\r\n      }\r\n      if (flippedCard) {\r\n        setFlippedCard(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleViewProfileClick = (employee) => {\r\n    if (employee) {\r\n      navigate(`/employees/${empID}/public/${employee.employeeId}`);\r\n      setContextMenu({ ...contextMenu, visible: false });\r\n      setFlippedCard(null);\r\n    }\r\n  };\r\n\r\n  const handleDocumentsClick = (employee) => {\r\n    if (employee) {\r\n      navigate(\r\n        `/profile/${empID}/documents?fromContextMenu=true&targetEmployeeId=${employee.employeeId}`\r\n      );\r\n      setContextMenu({ ...contextMenu, visible: false });\r\n      setFlippedCard(null);\r\n    }\r\n  };\r\n\r\n  const handlePayRollClick = (employee) => {\r\n    if (employee) {\r\n      navigate(`/payroll/employee/${employee.employeeId}`);\r\n      setContextMenu({ ...contextMenu, visible: false });\r\n      setFlippedCard(null);\r\n    }\r\n  };\r\n\r\n  const handleAboutClick = (employee) => {\r\n    if (employee) {\r\n      navigate(\r\n        `/profile/${empID}/about?fromContextMenu=true&targetEmployeeId=${employee.employeeId}`\r\n      );\r\n      setContextMenu({ ...contextMenu, visible: false });\r\n      setFlippedCard(null);\r\n    }\r\n  };\r\n\r\n  const handleDeleteClick = (employee) => {\r\n    setDeleteConfirmation({ show: true, employee });\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    const { employee } = deleteConfirmation;\r\n    if (!employee) return;\r\n    const employeeIdToDelete = employee.employeeId.toLowerCase();\r\n\r\n    try {\r\n      await publicinfoApi.delete(`employee/${employee.employeeId}`);\r\n      await authApi.delete(`delete/${employeeIdToDelete}`);\r\n      await payroll.delete(`payroll/jobdetails/${employeeIdToDelete}/delete`);\r\n\r\n      setEmployeeData((prevData) =>\r\n        prevData.filter((emp) => emp.employeeId !== employee.employeeId)\r\n      );\r\n      setPopup({\r\n        show: true,\r\n        message: `Employee ${employee.displayName} and associated user credentials have been successfully deleted.`,\r\n        type: \"success\",\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Error deleting employee and user:\", err);\r\n\r\n      const errorMessage =\r\n        err.response?.data?.message ||\r\n        \"The user service may have failed to delete credentials. Please verify the backend logs.\";\r\n\r\n      setPopup({\r\n        show: true,\r\n        message: `Failed to complete full deletion. ${errorMessage}`,\r\n        type: \"error\",\r\n      });\r\n    } finally {\r\n      setDeleteConfirmation({ show: false, employee: null });\r\n      setFlippedCard(null);\r\n    }\r\n  };\r\n\r\n  const fetchAllEmployees = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await publicinfoApi.get(\r\n        `employee/${pageNumber}/${pageSize}/${sortBy}/${sortOrder}/employees`\r\n      );\r\n      setEmployeeData(response.data.content);\r\n    } catch (err) {\r\n      console.error(\"Error fetching employees:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [pageNumber, pageSize, sortBy, sortOrder]);\r\n\r\n  useEffect(() => {\r\n    fetchAllEmployees();\r\n  }, [fetchAllEmployees]);\r\n\r\n  useEffect(() => {\r\n    if (employeeData) {\r\n      const roles = [\r\n        ...new Set(employeeData.map((e) => e.jobTitlePrimary).filter(Boolean)),\r\n      ];\r\n      const departments = [\r\n        ...new Set(employeeData.map((e) => e.departmentId).filter(Boolean)),\r\n      ];\r\n      const locations = [\r\n        ...new Set(employeeData.map((e) => e.location).filter(Boolean)),\r\n      ];\r\n\r\n      const newFilters = [\r\n        {\r\n          name: \"Role\",\r\n          options: [\"All Roles\", ...roles],\r\n          icon: IoBriefcaseOutline,\r\n        },\r\n        {\r\n          name: \"Department\",\r\n          options: [\"All Departments\", ...departments],\r\n          icon: IoBusinessOutline,\r\n        },\r\n        {\r\n          name: \"Location\",\r\n          options: [\"All Locations\", ...locations],\r\n          icon: IoLocationOutline,\r\n        },\r\n      ];\r\n      setDynamicFilters(newFilters);\r\n\r\n      const initialFilters = newFilters.reduce(\r\n        (acc, filter) => ({\r\n          ...acc,\r\n          [filter.name]: filter.options[0],\r\n        }),\r\n        {}\r\n      );\r\n      setSelectedFilters(initialFilters);\r\n    }\r\n  }, [employeeData]);\r\n\r\n  const filteredEmployees = employeeData\r\n    ? employeeData.filter((employee) => {\r\n        const lowercasedSearchTerm = searchTerm.toLowerCase();\r\n        const matchesSearch =\r\n          (employee.displayName &&\r\n            employee.displayName\r\n              .toLowerCase()\r\n              .includes(lowercasedSearchTerm)) ||\r\n          (employee.workEmail &&\r\n            employee.workEmail.toLowerCase().includes(lowercasedSearchTerm)) ||\r\n          (employee.employeeId &&\r\n            employee.employeeId.toLowerCase().includes(lowercasedSearchTerm));\r\n\r\n        const matchesFilters = Object.entries(selectedFilters).every(\r\n          ([filterName, value]) => {\r\n            if (!value || value.startsWith(\"All\")) return true;\r\n            switch (filterName) {\r\n              case \"Role\":\r\n                return employee.jobTitlePrimary === value;\r\n              case \"Department\":\r\n                return employee.departmentId === value;\r\n              case \"Location\":\r\n                return employee.location === value;\r\n              default:\r\n                return true;\r\n            }\r\n          }\r\n        );\r\n\r\n        return matchesSearch && matchesFilters;\r\n      })\r\n    : [];\r\n\r\n  const clearFilters = () => {\r\n    setSearchTerm(\"\");\r\n    const clearedFilters = dynamicFilters.reduce(\r\n      (acc, filter) => ({\r\n        ...acc,\r\n        [filter.name]: filter.options[0],\r\n      }),\r\n      {}\r\n    );\r\n    setSelectedFilters(clearedFilters);\r\n  };\r\n\r\n  const handleFormChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    setFormData((prev) => {\r\n      const updatedData = { ...prev, [name]: value };\r\n\r\n      if (name === \"fullName\") {\r\n        updatedData.firstName = value.split(\" \")[0] || \"\";\r\n        updatedData.displayName = value;\r\n        updatedData.empName = value;\r\n        updatedData.empNameDisplay = value;\r\n      }\r\n\r\n      if (name === \"employeeId\") {\r\n        updatedData.employeeIdDisplay = value;\r\n        updatedData.employeeIdDisplay4 = value; // NEW: Update for step 4\r\n      }\r\n\r\n      if (name === \"role\") {\r\n        updatedData.employeeRole = value;\r\n      }\r\n\r\n      // Ensure numeric fields are stored as numbers if possible, especially for leaves\r\n      if (\r\n        [\r\n          \"month\",\r\n          \"year\",\r\n          \"paid\",\r\n          \"sick\",\r\n          \"casual\",\r\n          \"unpaid\",\r\n          \"annualSalary\",\r\n          \"stipend\",\r\n          \"latitude\",\r\n          \"longitude\",\r\n        ].includes(name)\r\n      ) {\r\n        // Parse float for all numeric fields (including the new latitude/longitude)\r\n        updatedData[name] =\r\n          value === \"\"\r\n            ? \"\"\r\n            : name === \"month\" || name === \"year\"\r\n            ? parseInt(value)\r\n            : parseFloat(value);\r\n      }\r\n\r\n      return updatedData;\r\n    });\r\n\r\n    if (formErrors[name]) {\r\n      setFormErrors((prev) => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[name];\r\n        return newErrors;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDepartmentChange = (value, name) => {\r\n    // This handler is used by the DepartmentDropdown which passes the name of the DTO field being updated.\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n\r\n    // Clear validation errors for both department fields in Step 2 and Step 3\r\n    if (formErrors.departmentId || formErrors.department) {\r\n      setFormErrors((prev) => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors.departmentId;\r\n        delete newErrors.department;\r\n        return newErrors;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBlurValidation = (e) => {\r\n    // Validation on blur is kept to provide instant feedback for the user\r\n    const { name, value } = e.target;\r\n    let error = \"\";\r\n\r\n    // Strict validation rules (kept as per previous requirement)\r\n    if (name === \"fullName\") {\r\n      if (!value.trim()) {\r\n        error = \"Full name is required.\";\r\n      } else if (value.trim().length < 2) {\r\n        error = \"Full name must be at least 2 characters.\";\r\n      } else if (!/^[a-zA-Z\\s\\'-]+$/.test(value)) {\r\n        error =\r\n          \"Full name can only contain letters, spaces, hyphens, and apostrophes.\";\r\n      }\r\n    }\r\n\r\n    if (name === \"username\" || name === \"employeeId\") {\r\n      if (value && !value.startsWith(\"ACS\")) {\r\n        error = \"Incorrect format. Must start with 'ACS'.\";\r\n      } else if (value && (value.length < 8 || value.length > 30)) {\r\n        error = \"Must be between 8 and 30 characters.\";\r\n      } else if (value && !/^[A-Z0-9_]+$/.test(value)) {\r\n        error = \"Can only contain uppercase letters, numbers, and underscores.\";\r\n      }\r\n    }\r\n\r\n    if (name === \"password\") {\r\n      if (value && (value.length < 8 || value.length > 30)) {\r\n        error = \"Password must be 8-30 characters.\";\r\n      } else if (value && !/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(value)) {\r\n        error = \"Password must contain uppercase, lowercase, and numbers.\";\r\n      }\r\n    }\r\n\r\n    if (name === \"email\") {\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      if (value && !emailRegex.test(value)) {\r\n        error = \"Invalid email format.\";\r\n      }\r\n    }\r\n\r\n    if (name === \"annualSalary\") {\r\n      if (value && (isNaN(value) || parseFloat(value) <= 0)) {\r\n        error = \"Annual salary must be a positive number.\";\r\n      }\r\n    }\r\n\r\n    if (name === \"panNumber\") {\r\n      if (value && !/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(value)) {\r\n        error = \"Invalid PAN format (e.g., ABCDE1234F).\";\r\n      }\r\n    }\r\n\r\n    if (name === \"aadharNumber\") {\r\n      if (value && !/^[0-9]{12}$/.test(value)) {\r\n        error = \"Aadhar must be 12 digits.\";\r\n      }\r\n    }\r\n\r\n    if (name === \"phoneNumber\") {\r\n      if (value && !/^[0-9]{10}$/.test(value)) {\r\n        error = \"Phone number must be 10 digits.\";\r\n      }\r\n    }\r\n\r\n    // NEW LEAVES/ATTENDANCE VALIDATION (Step 4)\r\n    if (name === \"month\") {\r\n      const month = parseInt(value);\r\n      if (value && (isNaN(month) || month < 1 || month > 12))\r\n        error = \"Month must be between 1 and 12.\";\r\n    }\r\n    if (name === \"year\") {\r\n      const year = parseInt(value);\r\n      if (\r\n        value &&\r\n        (isNaN(year) || year < 2020 || year > new Date().getFullYear() + 1)\r\n      )\r\n        error = \"Invalid year.\";\r\n    }\r\n    if ([\"paid\", \"sick\", \"casual\", \"unpaid\"].includes(name)) {\r\n      const leaves = parseFloat(value);\r\n      if (value && (isNaN(leaves) || leaves < 0))\r\n        error = \"Leave days must be zero or a positive number.\";\r\n    }\r\n\r\n    // ** VALIDATION FOR STIPEND **\r\n    if (name === \"stipend\") {\r\n      if (formData.jobType === \"Intern\") {\r\n        if (!value || parseFloat(value) <= 0)\r\n          error = \"Stipend is required for Interns.\";\r\n      }\r\n    }\r\n\r\n    setFormErrors((prev) => {\r\n      const newErrors = { ...prev };\r\n      if (error) {\r\n        newErrors[name] = error;\r\n      } else {\r\n        delete newErrors[name];\r\n      }\r\n      return newErrors;\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Executes ALL validation rules for a specific step (1, 2, or 3, 4)\r\n   */\r\n  const validateStep = (step) => {\r\n    const errors = {};\r\n    let fieldsToValidate = [];\r\n\r\n    if (step === 1) {\r\n      fieldsToValidate = [...credentialsFormFields.map((f) => f.name)];\r\n    } else if (step === 2) {\r\n      fieldsToValidate = [\r\n        ...employeeFormFields\r\n          .map((f) => f.name)\r\n          .filter((name) => name !== \"employeeRole\"),\r\n      ];\r\n    } else if (step === 3) {\r\n      fieldsToValidate = [\r\n        ...payrollFormFields\r\n          .map((f) => f.name)\r\n          .filter((name) => !name.endsWith(\"Display\")),\r\n      ];\r\n    } else if (step === 4) {\r\n      // NEW STEP 4\r\n      // FIXED: Filtering the leavesFormFields array to get non-hidden and non-display field names for validation\r\n      fieldsToValidate = leavesFormFields\r\n        .filter((f) => !f.hidden && !f.name.endsWith(\"Display4\"))\r\n        .map((f) => f.name);\r\n      // Also include the hidden fields for DTO validation if they are technically required, even if auto-filled (latitude, longitude, timezone)\r\n      // We include them here just in case validation logic needs to check their formatted (numeric/string) state.\r\n      fieldsToValidate.push(\"latitude\", \"longitude\", \"timezone\");\r\n    }\r\n\r\n    const runValidation = (name, value, required = false) => {\r\n      if (required && !value && value !== 0 && value !== \"0\") {\r\n        // Check if value is truly empty for required fields\r\n        return `${name} is required.`;\r\n      }\r\n      // All specific validation logic from handleBlurValidation is duplicated here for submission checks\r\n      if (name === \"fullName\") {\r\n        if (value && value.trim().length < 2)\r\n          return \"Full name must be at least 2 characters.\";\r\n        if (value && !/^[a-zA-Z\\s\\'-]+$/.test(value))\r\n          return \"Full name can only contain letters, spaces, hyphens, and apostrophes.\";\r\n      }\r\n      if (name === \"username\" || name === \"employeeId\") {\r\n        if (value && !value.startsWith(\"ACS\"))\r\n          return \"Incorrect format. Must start with 'ACS'.\";\r\n        if (value && (value.length < 8 || value.length > 30))\r\n          return \"Must be between 8 and 30 characters.\";\r\n        if (value && !/^[A-Z0-9_]+$/.test(value))\r\n          return \"Can only contain uppercase letters, numbers, and underscores.\";\r\n      }\r\n      if (name === \"password\") {\r\n        if (value && (value.length < 8 || value.length > 30))\r\n          return \"Password must be 8-30 characters.\";\r\n        if (value && !/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(value))\r\n          return \"Password must contain uppercase, lowercase, and numbers.\";\r\n      }\r\n      if (name === \"email\") {\r\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        if (value && !emailRegex.test(value)) return \"Invalid email format.\";\r\n      }\r\n      if (name === \"annualSalary\") {\r\n        if (value && (isNaN(parseFloat(value)) || parseFloat(value) <= 0))\r\n          return \"Annual salary must be a positive number.\";\r\n      }\r\n      if (name === \"accountNumber\") {\r\n        if (value && value.length < 10)\r\n          return \"Account number must be at least 10 digits.\";\r\n      }\r\n      if (name === \"ifsccode\") {\r\n        if (value && !/^[A-Z]{4}0[A-Z0-9]{6}$/.test(value))\r\n          return \"Invalid IFSC format.\";\r\n      }\r\n      if (name === \"panNumber\") {\r\n        if (value && !/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(value))\r\n          return \"Invalid PAN format (e.g., ABCDE1234F).\";\r\n      }\r\n      if (name === \"aadharNumber\") {\r\n        if (value && !/^[0-9]{12}$/.test(value))\r\n          return \"Aadhar must be 12 digits.\";\r\n      }\r\n      if (name === \"phoneNumber\") {\r\n        if (value && !/^[0-9]{10}$/.test(value))\r\n          return \"Phone number must be 10 digits.\";\r\n      }\r\n\r\n      // NEW LEAVES/ATTENDANCE VALIDATION (Step 4)\r\n      if (name === \"month\") {\r\n        const month = parseInt(value);\r\n        if (value && (isNaN(month) || month < 1 || month > 12))\r\n          return \"Month must be between 1 and 12.\";\r\n      }\r\n      if (name === \"year\") {\r\n        const year = parseInt(value);\r\n        if (\r\n          value &&\r\n          (isNaN(year) || year < 2020 || year > new Date().getFullYear() + 1)\r\n        )\r\n          return \"Invalid year.\";\r\n      }\r\n      if ([\"paid\", \"sick\", \"casual\", \"unpaid\"].includes(name)) {\r\n        const leaves = parseFloat(value);\r\n        if (value !== \"\" && value !== null && (isNaN(leaves) || leaves < 0))\r\n          return \"Leave days must be zero or a positive number.\";\r\n      }\r\n\r\n      if (name === \"shiftName\") {\r\n        if (!value.trim()) return \"Shift Name is required.\";\r\n      }\r\n\r\n      // Validation for Geo fields (though they are disabled/auto-filled, ensure they are present for DTO)\r\n      if (name === \"latitude\" || name === \"longitude\") {\r\n        if (value === \"\" || isNaN(parseFloat(value))) {\r\n          // Since they are auto-filled and disabled, an error here means Geolocation failed\r\n          return `${name} could not be determined. Please contact support.`;\r\n        }\r\n      }\r\n      if (name === \"timezone\" && !value) {\r\n        return \"Timezone is required (auto-filled).\";\r\n      }\r\n\r\n      // ** SUBMISSION VALIDATION FOR STIPEND **\r\n      if (name === \"stipend\" && formData.jobType === \"Intern\") {\r\n        if (!value || parseFloat(value) <= 0)\r\n          return \"Stipend is required for Interns.\";\r\n      }\r\n\r\n      return \"\";\r\n    };\r\n\r\n    const allFields = [\r\n      ...credentialsFormFields,\r\n      ...employeeFormFields,\r\n      ...payrollFormFields,\r\n      ...leavesFormFields,\r\n    ];\r\n\r\n    fieldsToValidate.forEach((name) => {\r\n      const field = allFields.find((f) => f.name === name);\r\n      // Treat auto-filled fields as required if they should be in the DTO\r\n      let requiredCheck =\r\n        field?.required || [\"latitude\", \"longitude\", \"timezone\"].includes(name);\r\n\r\n      // ** DYNAMIC REQUIRED CHECK FOR STIPEND **\r\n      if (name === \"stipend\" && formData.jobType === \"Intern\") {\r\n        requiredCheck = true;\r\n      }\r\n\r\n      const value = formData[name];\r\n      const error = runValidation(name, value, requiredCheck);\r\n      if (error) {\r\n        errors[name] = error;\r\n      }\r\n    });\r\n\r\n    // Cross-field validation (only applies if both fields are non-empty)\r\n    if (\r\n      formData.username &&\r\n      formData.employeeId &&\r\n      formData.username !== formData.employeeId\r\n    ) {\r\n      errors.employeeId = \"Employee ID must match Username from Step 1.\";\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  /**\r\n   * Handles navigation when clicking the \"Next\" button.\r\n   */\r\n  const handleNextStep = async () => {\r\n    // Auto-fill Employee ID if moving from Step 1 to Step 2\r\n    if (currentStep === 1) {\r\n      // Autopopulate Employee ID if username is filled and employeeId is empty\r\n      if (formData.username && !formData.employeeId) {\r\n        setFormData((prev) => ({\r\n          ...prev,\r\n          employeeId: prev.username,\r\n          employeeIdDisplay: prev.username,\r\n          employeeIdDisplay4: prev.username, // NEW: Update for step 4\r\n        }));\r\n      }\r\n    }\r\n\r\n    setCurrentStep((prev) => prev + 1);\r\n  };\r\n\r\n  /**\r\n   * @description Enables direct jumping to any step without validation checks on forward movement.\r\n   * @param {number} stepNumber - The target step number.\r\n   */\r\n  const handleStepClick = (stepNumber) => {\r\n    setFormErrors({});\r\n    setCurrentStep(stepNumber);\r\n\r\n    // Auto-fill Employee ID if the user jumps to step 2 or 3 or 4 while on step 1\r\n    if (\r\n      stepNumber > 1 &&\r\n      currentStep === 1 &&\r\n      formData.username &&\r\n      !formData.employeeId\r\n    ) {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        employeeId: prev.username,\r\n        employeeIdDisplay: prev.username,\r\n        employeeIdDisplay4: prev.username, // NEW: Update for step 4\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handlePreviousStep = () => {\r\n    setCurrentStep((prev) => prev - 1);\r\n    setFormErrors({});\r\n  };\r\n\r\n  const fetchTerminatedEmployeeIds = async () => {\r\n    let allIds = new Set();\r\n    let page = 0;\r\n    let hasMorePages = true;\r\n    const pageSize = 1000;\r\n\r\n    while (hasMorePages) {\r\n      try {\r\n        const response = await publicinfoApi.get(\r\n          `employee/${page}/${pageSize}/employeeId/asc/terminated/employees`\r\n        );\r\n        const newEmployees = response.data.content || [];\r\n\r\n        newEmployees.forEach((emp) => {\r\n          if (emp.employeeId) {\r\n            allIds.add(emp.employeeId);\r\n          }\r\n        });\r\n\r\n        if (newEmployees.length < pageSize || response.data.last === true) {\r\n          hasMorePages = false;\r\n        } else {\r\n          page++;\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching all terminated employee IDs:\", error);\r\n        hasMorePages = false;\r\n      }\r\n    }\r\n    return allIds;\r\n  };\r\n\r\n  /**\r\n   * Handles the final form submission. Runs validation for ALL steps.\r\n   */\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    let allErrors = {};\r\n\r\n    // Run validation for ALL four steps here\r\n    const step1Errors = validateStep(1);\r\n    const step2Errors = validateStep(2);\r\n    const step3Errors = validateStep(3);\r\n    const step4Errors = validateStep(4); // NEW STEP 4 VALIDATION\r\n\r\n    allErrors = {\r\n      ...step1Errors,\r\n      ...step2Errors,\r\n      ...step3Errors,\r\n      ...step4Errors,\r\n    }; // COMBINE ALL ERRORS\r\n\r\n    // Additional check for terminated IDs (must be done on final submit)\r\n    if (Object.keys(allErrors).length === 0) {\r\n      const terminatedIds = await fetchTerminatedEmployeeIds();\r\n      const idToCheck = formData.employeeId || formData.username;\r\n\r\n      if (terminatedIds.has(idToCheck)) {\r\n        allErrors.employeeId = \"ID already in use by a terminated employee.\";\r\n        setPopup({\r\n          show: true,\r\n          message: `Employee ID ${idToCheck} is already in use.`,\r\n          type: \"error\",\r\n        });\r\n        setCurrentStep(2); // Jump back to the affected step\r\n      }\r\n    }\r\n\r\n    if (Object.keys(allErrors).length > 0) {\r\n      setFormErrors(allErrors);\r\n      // Optional: Jump to the first step with an error for better UX\r\n      if (Object.keys(step1Errors).length > 0) setCurrentStep(1);\r\n      else if (Object.keys(step2Errors).length > 0) setCurrentStep(2);\r\n      else if (Object.keys(step3Errors).length > 0) setCurrentStep(3);\r\n      else if (Object.keys(step4Errors).length > 0) setCurrentStep(4); // NEW STEP 4 JUMP\r\n\r\n      return;\r\n    }\r\n\r\n    // --- SUBMISSION LOGIC (Only runs if NO errors found) ---\r\n    setIsUpdating(true);\r\n    setFormErrors({});\r\n    setSubmissionStatus(\"Creating User...\");\r\n\r\n    try {\r\n      // Step 1: Create User Credentials\r\n      const credentialsDto = {\r\n        fullName: formData.fullName,\r\n        username: formData.username,\r\n        password: formData.password,\r\n        role: formData.role.toUpperCase(),\r\n        email: formData.email, // Passed from Step 1\r\n        phoneNumber: formData.phoneNumber, // Passed from Step 1\r\n      };\r\n\r\n      await authApi.post(\"/register\", credentialsDto);\r\n\r\n      // Step 2: Create Employee\r\n      setSubmissionStatus(\"Creating Employee...\");\r\n      const employeeDto = {\r\n        employeeId: formData.employeeId,\r\n        firstName: formData.firstName,\r\n        displayName: formData.displayName || formData.fullName,\r\n        maritalStatus: formData.maritalStatus,\r\n        departmentId: formData.departmentId,\r\n        role: formData.role.toUpperCase(),\r\n      };\r\n\r\n      await publicinfoApi.post(\"employee\", employeeDto);\r\n\r\n      // Step 3: Create Payroll/Job Details\r\n      setSubmissionStatus(\"Creating Payroll Details...\");\r\n      // ** PAYLOAD CONSTRUCTION **\r\n      const payrollDto = {\r\n        employeeId: formData.employeeId,\r\n        empName: formData.empName,\r\n        email: formData.email, // Used from Step 1\r\n        phoneNumber: formData.phoneNumber, // Used from Step 1\r\n        annualSalary: parseFloat(formData.annualSalary),\r\n        accountNumber: formData.accountNumber,\r\n        ifsccode: formData.ifsccode,\r\n        bankName: formData.bankName,\r\n        pfnum: formData.pfnum,\r\n        panNumber: formData.panNumber,\r\n        aadharNumber: formData.aadharNumber,\r\n        uanNumber: formData.uanNumber,\r\n        department: formData.department,\r\n        designation: formData.designation,\r\n        // Passing the dropdown values directly from state\r\n        jobType: formData.jobType,\r\n        level: formData.level,\r\n        startDate: formData.startDate,\r\n        // ** ADDED STIPEND to Payload **\r\n        stipend: formData.stipend ? parseFloat(formData.stipend) : 0.0,\r\n      };\r\n\r\n      // Using payroll instance\r\n      await payroll.post(\"payroll/jobdetails/create\", payrollDto);\r\n\r\n      // Step 4: Add Personal Leave/Attendance Details (NEW)\r\n      setSubmissionStatus(\"Adding Leave/Attendance Details...\");\r\n\r\n      const leavesDto = {\r\n        employeeId: formData.employeeId,\r\n        month: parseInt(formData.month),\r\n        year: parseInt(formData.year),\r\n        paid: parseFloat(formData.paid),\r\n        sick: parseFloat(formData.sick),\r\n        casual: parseFloat(formData.casual),\r\n        unpaid: parseFloat(formData.unpaid),\r\n        shiftName: formData.shiftName,\r\n        latitude: parseFloat(formData.latitude),\r\n        longitude: parseFloat(formData.longitude),\r\n        timezone: formData.timezone,\r\n      };\r\n\r\n      // Using attendanceApi and required endpoint\r\n      await attendanceApi.post(\"personalleaves/add\", leavesDto);\r\n\r\n      setPopup({\r\n        show: true,\r\n        message: \"Employee onboarding completed successfully!\",\r\n        type: \"success\",\r\n      });\r\n      setIsAddEmployeeModalOpen(false);\r\n      setFormData(initialFormData);\r\n      setCurrentStep(1);\r\n      fetchAllEmployees();\r\n    } catch (error) {\r\n      console.error(\"Error creating employee:\", error);\r\n      const errorMessage =\r\n        error.response?.data?.message ||\r\n        \"An unexpected error occurred. Please check the data and try again.\";\r\n\r\n      setFormErrors({ general: errorMessage });\r\n      setPopup({ show: true, message: errorMessage, type: \"error\" });\r\n    } finally {\r\n      setIsUpdating(false);\r\n      setSubmissionStatus(\"\");\r\n    }\r\n  };\r\n\r\n  const handleFormClose = () => {\r\n    setIsAddEmployeeModalOpen(false);\r\n    setFormData(initialFormData);\r\n    setFormErrors({});\r\n    setCurrentStep(1);\r\n  };\r\n\r\n  /**\r\n   * New handler to print ONLY the fourth form's specific payload to the console\r\n   */\r\n  const handlePrintPayload = () => {\r\n    const payload = {\r\n      employeeId: formData.employeeId,\r\n      month: formData.month,\r\n      year: formData.year,\r\n      paid: formData.paid,\r\n      sick: formData.sick,\r\n      casual: formData.casual,\r\n      unpaid: formData.unpaid,\r\n      shiftName: formData.shiftName,\r\n      latitude: formData.latitude,\r\n      longitude: formData.longitude,\r\n      timezone: formData.timezone,\r\n    };\r\n\r\n    console.log(\"--- DEBUG: Leaves/Attendance Payload ---\");\r\n    console.log(JSON.stringify(payload, null, 2));\r\n    console.log(\"---------------------------------------------------------\");\r\n    setPopup({\r\n      show: true,\r\n      message: \"Leaves/Attendance payload printed to console for debugging.\",\r\n      type: \"default\",\r\n    });\r\n  };\r\n\r\n  const renderField = (field, currentErrors, handleChange, fieldValue) => {\r\n    const {\r\n      label,\r\n      name,\r\n      type,\r\n      required,\r\n      options = [],\r\n      hint,\r\n      maxLength,\r\n      disabled = false,\r\n      hidden = false,\r\n    } = field;\r\n    const isError = currentErrors[name];\r\n\r\n    if (hidden) return null;\r\n\r\n    // Use DepartmentDropdown component for Department fields (in Step 2 and Step 3)\r\n    if (type === \"department-dropdown\") {\r\n      const currentOnChange = (value) => handleDepartmentChange(value, name);\r\n      const departmentValue = formData[name]; // Get the value from the respective state field (departmentId or department)\r\n\r\n      return (\r\n        <DepartmentDropdown\r\n          key={name}\r\n          name={name}\r\n          value={departmentValue}\r\n          onChange={currentOnChange}\r\n          theme={theme}\r\n          isError={isError}\r\n          hint={hint}\r\n        />\r\n      );\r\n    }\r\n\r\n    // Use ShiftDropdown for shift-dropdown type\r\n    if (type === \"shift-dropdown\") {\r\n      return (\r\n        <ShiftDropdown\r\n          key={name}\r\n          name={name}\r\n          value={fieldValue}\r\n          onChange={handleChange}\r\n          theme={theme}\r\n          isError={isError}\r\n          hint={hint}\r\n        />\r\n      );\r\n    }\r\n\r\n    // ** DYNAMIC REQUIRED CHECK for Visuals **\r\n    let isFieldRequired = required;\r\n    if (name === \"stipend\" && formData.jobType === \"Intern\") {\r\n      isFieldRequired = true;\r\n    }\r\n\r\n    return (\r\n      <InputField\r\n        key={name}\r\n        name={name}\r\n        label={label}\r\n        type={type}\r\n        required={isFieldRequired} // Pass dynamic requirement\r\n        hint={hint}\r\n        placeholder={`Enter ${label.toLowerCase()}...`}\r\n        value={fieldValue}\r\n        onChange={handleFormChange}\r\n        onBlur={handleBlurValidation}\r\n        isError={isError}\r\n        options={options}\r\n        theme={theme}\r\n        maxLength={maxLength}\r\n        disabled={disabled}\r\n      />\r\n    );\r\n  };\r\n\r\n  const renderAddEmployeeModal = () => {\r\n    if (!isAddEmployeeModalOpen) return null;\r\n\r\n    const getStepTitle = (step) => {\r\n      if (step === 1) return \"User Credentials\";\r\n      if (step === 2) return \"Employee Information\";\r\n      if (step === 3) return \"Payroll & Job Details\";\r\n      if (step === 4) return \"Leave/Attendance\"; // NEW STEP 4\r\n    };\r\n\r\n    const getStepIcon = (step) => {\r\n      if (step === 1) return <IoKeyOutline className=\"w-5 h-5 mr-2\" />;\r\n      if (step === 2) return <IoPersonOutline className=\"w-5 h-5 mr-2\" />;\r\n      if (step === 3) return <IoBriefcaseOutline className=\"w-5 h-5 mr-2\" />;\r\n      if (step === 4) return <IoCalendarOutline className=\"w-5 h-5 mr-2\" />; // NEW STEP 4\r\n    };\r\n\r\n    const getStepColor = (step) => {\r\n      if (step === 1) return \"from-blue-500 to-purple-600\";\r\n      if (step === 2) return \"from-purple-500 to-pink-600\";\r\n      if (step === 3) return \"from-green-500 to-teal-600\";\r\n      if (step === 4) return \"from-cyan-500 to-blue-500\"; // NEW STEP 4\r\n    };\r\n\r\n    const steps = [1, 2, 3, 4]; // ADDED 4TH STEP\r\n\r\n    // Determine if a step is considered \"completed\" (visually, without strict validation check as requested)\r\n    const isStepVisuallyCompleted = (step) => step < currentStep;\r\n\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] p-2 sm:p-4\">\r\n        <div\r\n          className={`rounded-2xl sm:rounded-3xl w-full max-w-2xl max-h-[95vh] overflow-hidden shadow-2xl flex flex-col ${\r\n            theme === \"dark\" ? \"bg-gray-800\" : \"bg-white\"\r\n          }`}\r\n        >\r\n          {/* Header */}\r\n          <div\r\n            className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ${getStepColor(\r\n              currentStep\r\n            )} text-white flex-shrink-0`}\r\n          >\r\n            <div className=\"flex justify-between items-center\">\r\n              <div className=\"flex items-center space-x-3 min-w-0 flex-1\">\r\n                <div className=\"text-xl sm:text-2xl\">\r\n                  {getStepIcon(currentStep)}\r\n                </div>\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <h2 className=\"text-lg sm:text-xl md:text-2xl font-bold\">\r\n                    Add New Employee\r\n                  </h2>\r\n                  <p className=\"text-xs sm:text-sm opacity-90 mt-1\">\r\n                    Step {currentStep} of {steps.length}:{\" \"}\r\n                    {getStepTitle(currentStep)}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={handleFormClose}\r\n                className=\"p-2 hover:bg-white/20 rounded-lg\"\r\n              >\r\n                <IoClose className=\"w-5 h-5 sm:w-6 sm:h-6\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Step Navigation Bar (Clickable) */}\r\n          <div\r\n            className={`flex justify-between px-4 sm:px-6 md:px-8 py-3 sm:py-4 border-b ${\r\n              theme === \"dark\"\r\n                ? \"border-gray-700 bg-gray-900/40\"\r\n                : \"bg-gray-200 bg-gray-50\"\r\n            }`}\r\n          >\r\n            {steps.map((step) => {\r\n              const isCompleted = isStepVisuallyCompleted(step);\r\n\r\n              return (\r\n                <button\r\n                  key={step}\r\n                  type=\"button\"\r\n                  onClick={() => handleStepClick(step)}\r\n                  // Always enabled as requested\r\n                  className={`flex-1 p-2 mx-1 sm:mx-2 text-sm sm:text-base font-semibold transition-all duration-300 rounded-lg flex items-center justify-center space-x-2 cursor-pointer ${\r\n                    step === currentStep\r\n                      ? `text-white ${getStepColor(step)} shadow-md`\r\n                      : isCompleted\r\n                      ? \"text-green-500 hover:text-green-600 dark:text-green-400 dark:hover:text-green-300\"\r\n                      : \"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\r\n                  } hover:bg-gray-100 dark:hover:bg-gray-700`}\r\n                >\r\n                  <span\r\n                    className={`w-6 h-6 rounded-full flex items-center justify-center border-2 transition-all duration-300 ${\r\n                      step === currentStep\r\n                        ? \"border-white bg-transparent\"\r\n                        : isCompleted\r\n                        ? \"border-green-500 bg-green-500 text-white\"\r\n                        : \"border-gray-400 dark:border-gray-500\"\r\n                    }`}\r\n                  >\r\n                    {step}\r\n                  </span>\r\n                  <span className=\"hidden sm:inline\">\r\n                    {getStepTitle(step).split(\"/\")[0]}\r\n                  </span>\r\n                  {isCompleted && (\r\n                    <IoCheckmarkCircle className=\"w-4 h-4 text-white\" />\r\n                  )}\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* Form Content - Fixed Height with Scrollable Content */}\r\n          <div className=\"flex-1 overflow-hidden flex flex-col\">\r\n            <div className=\"flex-1 overflow-y-auto px-4 sm:px-6 md:px-8 py-4 sm:py-6\">\r\n              <form onSubmit={handleFormSubmit} className=\"space-y-6\">\r\n                {/* Step 1: User Credentials */}\r\n                {currentStep === 1 && (\r\n                  <div>\r\n                    <h3\r\n                      className={`text-lg font-semibold mb-4 flex items-center ${\r\n                        theme === \"dark\" ? \"text-blue-400\" : \"text-blue-600\"\r\n                      }`}\r\n                    >\r\n                      <IoKeyOutline className=\"w-5 h-5 mr-2\" />\r\n                      User Credentials\r\n                    </h3>\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8\">\r\n                      {credentialsFormFields.map((field) => (\r\n                        <div key={field.name}>\r\n                          {renderField(\r\n                            field,\r\n                            formErrors,\r\n                            handleFormChange,\r\n                            formData[field.name]\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Step 2: Employee Information */}\r\n                {currentStep === 2 && (\r\n                  <div>\r\n                    <h3\r\n                      className={`text-lg font-semibold mb-4 flex items-center ${\r\n                        theme === \"dark\" ? \"text-purple-400\" : \"text-purple-600\"\r\n                      }`}\r\n                    >\r\n                      <IoPersonOutline className=\"w-5 h-5 mr-2\" />\r\n                      Employee Information\r\n                    </h3>\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8\">\r\n                      {employeeFormFields.map((field) => (\r\n                        <div key={field.name}>\r\n                          {/* Handlers adjusted to send correct context to renderField */}\r\n                          {renderField(\r\n                            field,\r\n                            formErrors,\r\n                            field.type === \"department-dropdown\"\r\n                              ? handleDepartmentChange\r\n                              : handleFormChange,\r\n                            formData[field.name]\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Step 3: Payroll & Job Details */}\r\n                {currentStep === 3 && (\r\n                  <div className=\"p-4 sm:p-6 rounded-lg border-2 border-green-500/50 bg-green-50 dark:bg-green-900/20\">\r\n                    <h3\r\n                      className={`text-lg font-semibold mb-4 flex items-center ${\r\n                        theme === \"dark\" ? \"text-green-400\" : \"text-green-600\"\r\n                      }`}\r\n                    >\r\n                      <IoBriefcaseOutline className=\"w-5 h-5 mr-2\" />\r\n                      Payroll & Job Details\r\n                    </h3>\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8\">\r\n                      {payrollFormFields.map((field) => (\r\n                        <div key={field.name}>\r\n                          {/* Handlers adjusted to send correct context to renderField */}\r\n                          {renderField(\r\n                            field,\r\n                            formErrors,\r\n                            field.type === \"department-dropdown\"\r\n                              ? handleDepartmentChange\r\n                              : handleFormChange,\r\n                            formData[field.name]\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* NEW: Step 4: Leaves/Attendance */}\r\n                {currentStep === 4 && (\r\n                  <div className=\"p-4 sm:p-6 rounded-lg border-2 border-cyan-500/50 bg-cyan-50 dark:bg-cyan-900/20\">\r\n                    <h3\r\n                      className={`text-lg font-semibold mb-4 flex items-center ${\r\n                        theme === \"dark\" ? \"text-cyan-400\" : \"text-cyan-600\"\r\n                      }`}\r\n                    >\r\n                      <IoCalendarOutline className=\"w-5 h-5 mr-2\" />\r\n                      Leave/Attendance Details\r\n                    </h3>\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8\">\r\n                      {leavesFormFields\r\n                        .filter((f) => !f.hidden)\r\n                        .map(\r\n                          (\r\n                            field // Filter out hidden fields\r\n                          ) => (\r\n                            <div key={field.name}>\r\n                              {renderField(\r\n                                field,\r\n                                formErrors,\r\n                                handleFormChange,\r\n                                formData[field.name]\r\n                              )}\r\n                            </div>\r\n                          )\r\n                        )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {formErrors.general && (\r\n                  <div\r\n                    className={`mt-4 sm:mt-6 p-3 sm:p-4 border-l-4 border-red-400 rounded-r-lg ${\r\n                      theme === \"dark\" ? \"bg-red-900/20\" : \"bg-red-50\"\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-center\">\r\n                      <IoWarning className=\"w-4 h-4 sm:w-5 sm:h-5 text-red-400 mr-3\" />\r\n                      <p\r\n                        className={`font-medium text-sm ${\r\n                          theme === \"dark\" ? \"text-red-300\" : \"text-red-800\"\r\n                        }`}\r\n                      >\r\n                        {formErrors.general}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Footer with Action Buttons */}\r\n          <div\r\n            className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex-shrink-0 ${\r\n              theme === \"dark\"\r\n                ? \"border-gray-700 bg-gray-900/50\"\r\n                : \"bg-gray-200 bg-gray-50/50\"\r\n            } flex flex-col sm:flex-row justify-between space-y-3 sm:space-y-0 sm:space-x-4`}\r\n          >\r\n            <div className=\"flex flex-col sm:flex-row gap-2 sm:gap-3\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleFormClose}\r\n                className={`px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold text-sm ${\r\n                  theme === \"dark\"\r\n                    ? \"border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500\"\r\n                    : \"border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400\"\r\n                }`}\r\n              >\r\n                Cancel\r\n              </button>\r\n\r\n              {/* New Debug Button only visible on Step 4 */}\r\n              {currentStep === 4 && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handlePrintPayload}\r\n                  className={`px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold text-sm sm:text-base flex items-center justify-center space-x-2 ${\r\n                    theme === \"dark\"\r\n                      ? \"border-yellow-600 text-yellow-400 hover:bg-yellow-900/30\"\r\n                      : \"border-yellow-300 text-yellow-700 hover:bg-yellow-100\"\r\n                  }`}\r\n                >\r\n                  <IoInformationCircleOutline className=\"w-4 h-4\" />\r\n                  <span>Debug Payload</span>\r\n                </button>\r\n              )}\r\n\r\n              {currentStep > 1 && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handlePreviousStep}\r\n                  className={`px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold text-sm ${\r\n                    theme === \"dark\"\r\n                      ? \"border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500\"\r\n                      : \"border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400\"\r\n                  }`}\r\n                >\r\n                  <IoArrowBack className=\"w-4 h-4\" />\r\n                  <span>Previous</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex flex-col sm:flex-row gap-2 sm:gap-3\">\r\n              {currentStep < 4 ? ( // Updated step limit to 4\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleNextStep}\r\n                  className={`px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-lg sm:rounded-xl shadow-lg text-sm sm:text-base flex items-center justify-center space-x-2`}\r\n                >\r\n                  <span>Next</span>\r\n                  <IoArrowForward className=\"w-4 h-4\" />\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  type=\"submit\"\r\n                  onClick={handleFormSubmit}\r\n                  disabled={isUpdating}\r\n                  className={`px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-green-500 to-teal-600 text-white font-bold rounded-lg sm:rounded-xl shadow-lg text-sm sm:text-base flex items-center justify-center space-x-2 ${\r\n                    isUpdating ? \"cursor-not-allowed opacity-75\" : \"\"\r\n                  }`}\r\n                >\r\n                  {isUpdating ? (\r\n                    <>\r\n                      <div className=\"h-3 w-3 sm:h-4 sm:w-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                      <span>{submissionStatus || \"Creating...\"}</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <IoCheckmarkCircle className=\"w-4 h-4\" />\r\n                      <span>Create Employee</span>\r\n                    </>\r\n                  )}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const loadTerminatedEmployees = useCallback(\r\n    async (page = 0, reset = false) => {\r\n      if (terminatedLoading || (!terminatedHasMore && !reset)) return;\r\n\r\n      setTerminatedLoading(true);\r\n      try {\r\n        const response = await publicinfoApi.get(\r\n          `employee/${page}/${TERMINATED_PAGE_SIZE}/employeeId/asc/terminated/employees`\r\n        );\r\n        const newEmployees = response.data.content || [];\r\n\r\n        setTerminatedEmployeesData((prev) =>\r\n          reset ? newEmployees : [...prev, ...newEmployees]\r\n        );\r\n        setTerminatedCurrentPage(page);\r\n        setTerminatedHasMore(newEmployees.length === TERMINATED_PAGE_SIZE);\r\n      } catch (error) {\r\n        console.error(\"Error fetching terminated employees:\", error);\r\n        if (reset) {\r\n          alert(\r\n            \"Failed to fetch terminated employees. Check console for details.\"\r\n          );\r\n        }\r\n      } finally {\r\n        setTerminatedLoading(false);\r\n      }\r\n    },\r\n    [terminatedLoading, terminatedHasMore]\r\n  );\r\n\r\n  const handleTerminateEmployees = async () => {\r\n    setTerminatedEmployeesData([]);\r\n    setTerminatedCurrentPage(0);\r\n    setTerminatedHasMore(true);\r\n    setTerminatedSearchTerm(\"\"); // FIXED: Using the correct setter\r\n    setIsTerminatedEmployeesModalOpen(true);\r\n\r\n    loadTerminatedEmployees(0, true);\r\n  };\r\n\r\n  const handleTerminatedScroll = (e) => {\r\n    const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n    if (\r\n      scrollHeight - scrollTop <= clientHeight + 50 &&\r\n      terminatedHasMore &&\r\n      !terminatedLoading\r\n    ) {\r\n      loadTerminatedEmployees(terminatedCurrentPage + 1);\r\n    }\r\n  };\r\n\r\n  const filteredTerminatedEmployees = terminatedEmployeesData.filter(\r\n    (employee) => {\r\n      if (!terminatedSearchTerm) return true;\r\n      const searchLower = terminatedSearchTerm.toLowerCase();\r\n      return (\r\n        (employee.displayName &&\r\n          employee.displayName.toLowerCase().includes(searchLower)) ||\r\n        (employee.employeeId &&\r\n          employee.employeeId.toLowerCase().includes(searchLower)) ||\r\n        (employee.workEmail &&\r\n          employee.workEmail.toLowerCase().includes(searchLower))\r\n      );\r\n    }\r\n  );\r\n\r\n  const renderTerminatedEmployeesModal = () => {\r\n    if (!isTerminatedEmployeesModalOpen) return null;\r\n\r\n    const baseApiUrl = \"https://hrms.anasolconsultancyservices.com/api\";\r\n\r\n    const renderDataField = (label, value) => {\r\n      if (Array.isArray(value)) {\r\n        value = value.join(\", \");\r\n      }\r\n      return (\r\n        <div className=\"text-xs\">\r\n          <span className=\"font-semibold\">{label}:</span> {value || \"N/A\"}\r\n        </div>\r\n      );\r\n    };\r\n\r\n    const renderLink = (label, path) => {\r\n      if (!path) return null;\r\n      const fullUrl = path.startsWith(\"http\") ? path : `${baseApiUrl}/${path}`;\r\n      return (\r\n        <a\r\n          href={fullUrl}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"text-blue-500 hover:underline text-xs mt-1 inline-block\"\r\n        >\r\n          {label}\r\n        </a>\r\n      );\r\n    };\r\n\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-[200] p-2 sm:p-4\">\r\n        <div\r\n          className={`relative w-full max-w-sm sm:max-w-md lg:max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl rounded-xl sm:rounded-2xl ${\r\n            theme === \"dark\"\r\n              ? \"bg-gray-800 text-white\"\r\n              : \"bg-white text-gray-900\"\r\n          }`}\r\n        >\r\n          <div className=\"px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-red-500 to-red-700 text-white relative overflow-hidden\">\r\n            <div className=\"absolute inset-0 bg-black/10\"></div>\r\n            <div className=\"relative flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-3 min-w-0 flex-1\">\r\n                <div className=\"text-lg sm:text-2xl\">\r\n                  <IoTrashOutline />\r\n                </div>\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <h2 className=\"text-lg sm:text-xl font-bold break-words\">\r\n                    Terminated Employees\r\n                  </h2>\r\n                  <p className=\"text-white/90 text-xs sm:text-sm break-words\">\r\n                    List of employees who have left the company (\r\n                    {filteredTerminatedEmployees.length} found)\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={() => setIsTerminatedEmployeesModalOpen(false)}\r\n                className=\"p-2 hover:bg-white/20 rounded-full flex-shrink-0\"\r\n              >\r\n                <IoClose className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            className={`px-4 sm:px-6 py-3 border-b ${\r\n              theme === \"dark\" ? \"border-gray-700\" : \"border-gray-200\"\r\n            }`}\r\n          >\r\n            <div className=\"relative\">\r\n              <IoSearchOutline\r\n                className={`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${\r\n                  theme === \"dark\" ? \"text-gray-400\" : \"text-gray-500\"\r\n                }`}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search terminated employees...\"\r\n                value={terminatedSearchTerm}\r\n                onChange={(e) => setTerminatedSearchTerm(e.target.value)} // FIXED: Using the correct setter\r\n                className={`w-full pl-10 pr-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 focus:outline-none ${\r\n                  theme === \"dark\"\r\n                    ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                    : \"bg-white border-gray-300 text-gray-800 placeholder-gray-500\"\r\n                }`}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            ref={terminatedScrollRef}\r\n            className=\"overflow-y-auto max-h-[calc(95vh-180px)] p-4 sm:p-6\"\r\n            onScroll={handleTerminatedScroll}\r\n          >\r\n            {filteredTerminatedEmployees.length > 0 ? (\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {filteredTerminatedEmployees.map((employee, index) => (\r\n                  <div\r\n                    key={`${employee.employeeId}-${index}`}\r\n                    className={`p-4 rounded-lg border ${\r\n                      theme === \"dark\"\r\n                        ? \"bg-gray-700 border-gray-600\"\r\n                        : \"bg-gray-100 border-gray-300\"\r\n                    } shadow-md`}\r\n                  >\r\n                    <div className=\"flex items-center space-x-3 mb-3\">\r\n                      <div className=\"flex-shrink-0\">\r\n                        {employee.employeeImage ? (\r\n                          <img\r\n                            src={\r\n                              employee.employeeImage.startsWith(\"http\")\r\n                                ? employee.employeeImage\r\n                                : `${baseApiUrl}/${employee.employeeImage}`\r\n                            }\r\n                            alt={`${\r\n                              employee.displayName || \"Employee\"\r\n                            }'s profile`}\r\n                            className=\"h-12 w-12 rounded-full object-cover border-2 border-red-300 shadow-md\"\r\n                            onError={(e) => {\r\n                              e.target.style.display = \"none\";\r\n                              e.target.nextSibling.style.display = \"flex\";\r\n                            }}\r\n                          />\r\n                        ) : null}\r\n                        <div\r\n                          className={`h-12 w-12 rounded-full bg-gradient-to-br from-red-500 via-red-600 to-red-700 flex items-center justify-center text-white text-sm font-bold shadow-md ${\r\n                            employee.employeeImage ? \"hidden\" : \"flex\"\r\n                          }`}\r\n                        >\r\n                          {generateInitials(\r\n                            employee.displayName || employee.employeeId || \"N/A\"\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <h4 className=\"font-semibold text-sm truncate\">\r\n                          {employee.displayName || \"N/A\"}\r\n                        </h4>\r\n                        <p className=\"text-xs text-gray-500 truncate\">\r\n                          {employee.employeeId}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-1 max-h-40 overflow-y-auto\">\r\n                      {renderDataField(\"Work Email\", employee.workEmail)}\r\n                      {renderDataField(\"Work Number\", employee.workNumber)}\r\n                      {renderDataField(\"Gender\", employee.gender)}\r\n                      {renderDataField(\r\n                        \"Date of Joining\",\r\n                        employee.dateOfJoining\r\n                      )}\r\n                      {renderDataField(\r\n                        \"Date of Leaving\",\r\n                        employee.dateOfLeaving\r\n                      )}\r\n                      {renderDataField(\"Department\", employee.departmentId)}\r\n                      {renderDataField(\"Projects\", employee.projectId)}\r\n                      {renderDataField(\"Teams\", employee.teamId)}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : terminatedLoading ? (\r\n              <div className=\"flex justify-center items-center py-8\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500\"></div>\r\n                <span className=\"ml-3 text-sm\">\r\n                  Loading terminated employees...\r\n                </span>\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-center text-sm italic text-gray-500 py-8\">\r\n                {terminatedSearchTerm\r\n                  ? \"No terminated employees found matching your search.\"\r\n                  : \"No terminated employees found.\"}\r\n              </p>\r\n            )}\r\n\r\n            {terminatedLoading && terminatedEmployeesData.length > 0 && (\r\n              <div className=\"flex justify-center items-center py-4 mt-4\">\r\n                <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-red-500\"></div>\r\n                <span className=\"ml-3 text-sm\">Loading more...</span>\r\n              </div>\r\n            )}\r\n\r\n            {!terminatedHasMore && terminatedEmployeesData.length > 0 && (\r\n              <div className=\"text-center py-4 mt-4\">\r\n                <p className=\"text-sm text-gray-500 italic\">\r\n                   End of results ({terminatedEmployeesData.length} total\r\n                  employees) \r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div\r\n        className={`min-h-screen ${\r\n          theme === \"dark\"\r\n            ? \"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900\"\r\n            : \"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\"\r\n        }`}\r\n      >\r\n        <div className=\"min-h-screen flex items-center justify-center px-4\">\r\n          <div className=\"text-center\">\r\n            <div className=\"relative\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4\"></div>\r\n              <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                <IoPersonOutline className=\"w-5 h-5 sm:w-6 sm:h-6 text-blue-500\" />\r\n              </div>\r\n            </div>\r\n            <h2\r\n              className={`text-lg sm:text-xl font-bold mb-2 ${\r\n                theme === \"dark\" ? \"text-white\" : \"text-gray-800\"\r\n              }`}\r\n            >\r\n              Loading Employee Directory\r\n            </h2>\r\n            <p\r\n              className={`text-sm ${\r\n                theme === \"dark\" ? \"text-gray-300\" : \"text-gray-600\"\r\n              }`}\r\n            >\r\n              Discovering your colleagues...\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isAddEmployeeModalOpen) {\r\n    return (\r\n      <>\r\n        {renderAddEmployeeModal()}\r\n        <div\r\n          className={`min-h-screen absolute inset-0 filter blur-sm ${\r\n            theme === \"dark\"\r\n              ? \"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900\"\r\n              : \"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\"\r\n          }`}\r\n        ></div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`min-h-screen px-0 sm:px-4 lg:px-6 xl:px-8 py-4 sm:py-6 lg:py-8 ${\r\n        theme === \"dark\"\r\n          ? \"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900\"\r\n          : \"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\"\r\n      }`}\r\n    >\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Search and Filters Bar */}\r\n        <div\r\n          className={`rounded-none sm:rounded-xl md:rounded-2xl p-3 sm:p-4 md:p-5 shadow-lg border mb-4 sm:mb-6 mx-2 sm:mx-0 ${\r\n            theme === \"dark\"\r\n              ? \"bg-gray-800 border-gray-700\"\r\n              : \"bg-white border-gray-200\"\r\n          }`}\r\n        >\r\n          <div className=\"mb-3\">\r\n            <div className=\"relative group max-w-full sm:max-w-sm md:max-w-md\">\r\n              <div className=\"absolute inset-y-0 left-0 pl-2.5 flex items-center pointer-events-none\">\r\n                <IoSearchOutline\r\n                  className={`h-3.5 w-3.5 sm:h-4 sm:w-4 ${\r\n                    theme === \"dark\" ? \"text-gray-400\" : \"text-gray-400\"\r\n                  }`}\r\n                />\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                className={`w-full px-3 sm:px-4 py-2 sm:py-2.5 pl-7 sm:pl-8 border rounded-md sm:rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none placeholder-gray-500 text-xs sm:text-sm ${\r\n                  theme === \"dark\"\r\n                    ? \"bg-gray-700 border-gray-600 text-white\"\r\n                    : \"bg-gray-50 border-gray-200 text-gray-800\"\r\n                }`}\r\n                placeholder=\"Search...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-col sm:flex-row gap-2 sm:gap-3 items-stretch sm:items-center justify-between\">\r\n            <div className=\"flex flex-wrap gap-1.5 sm:gap-2\">\r\n              {dynamicFilters.map((filter) => {\r\n                const IconComponent = filter.icon;\r\n                return (\r\n                  <div\r\n                    key={filter.name}\r\n                    className=\"relative group min-w-0 flex-1 sm:flex-initial\"\r\n                  >\r\n                    <div className=\"absolute inset-y-0 left-0 pl-1.5 sm:pl-2 flex items-center pointer-events-none\">\r\n                      <IconComponent\r\n                        className={`h-2.5 w-2.5 sm:h-3 sm:w-3 ${\r\n                          theme === \"dark\" ? \"text-gray-400\" : \"text-gray-400\"\r\n                        }`}\r\n                      />\r\n                    </div>\r\n                    <select\r\n                      className={`px-3 sm:px-4 py-2 sm:py-2.5 pl-6 sm:pl-7 pr-4 sm:pr-5 border rounded-md sm:rounded-lg appearance-none cursor-pointer min-w-[100px] sm:min-w-[120px] text-xs truncate focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n                        theme === \"dark\"\r\n                          ? \"bg-gray-700 border-gray-600 text-white\"\r\n                          : \"bg-gray-50 border-gray-200 text-gray-700\"\r\n                      }`}\r\n                      value={selectedFilters[filter.name] || filter.options[0]}\r\n                      onChange={(e) =>\r\n                        setSelectedFilters({\r\n                          ...selectedFilters,\r\n                          [filter.name]: e.target.value,\r\n                        })\r\n                      }\r\n                    >\r\n                      {filter.options.map((option) => (\r\n                        <option key={option} value={option}>\r\n                          {option}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    <div className=\"absolute inset-y-0 right-0 pr-1.5 sm:pr-2 flex items-center pointer-events-none\">\r\n                      <IoChevronDownOutline\r\n                        className={`h-2.5 w-2.5 sm:h-3 sm:w-3 ${\r\n                          theme === \"dark\" ? \"text-gray-400\" : \"text-gray-400\"\r\n                        }`}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            <div className=\"flex flex-col sm:flex-row gap-1.5 sm:gap-2\">\r\n              <button\r\n                onClick={clearFilters}\r\n                className={`px-4 sm:px-5 py-1.5 sm:py-2 border rounded-md sm:rounded-lg font-medium text-xs flex items-center justify-center space-x-1.5 ${\r\n                  theme === \"dark\"\r\n                    ? \"border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500\"\r\n                    : \"border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400\"\r\n                }`}\r\n              >\r\n                <IoRefreshOutline className=\"w-2.5 h-2.5 sm:w-3 sm:h-3\" />\r\n                <span>Clear</span>\r\n              </button>\r\n\r\n              {matchedArray && matchedArray.includes(\"EMPLOYEES_ADD\") && (\r\n                <button\r\n                  onClick={() => setIsAddEmployeeModalOpen(true)}\r\n                  className=\"px-4 sm:px-5 py-1.5 sm:py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium rounded-md sm:rounded-lg shadow-md text-xs flex items-center justify-center space-x-1.5\"\r\n                >\r\n                  <IoAddCircleOutline className=\"w-2.5 h-2.5 sm:w-3 sm:h-3\" />\r\n                  <span>Add</span>\r\n                </button>\r\n              )}\r\n\r\n              {matchedArray && matchedArray.includes(\"EMPLOYEES_TERMINATE\") && (\r\n                <button\r\n                  onClick={handleTerminateEmployees}\r\n                  className=\"px-3 sm:px-4 py-1.5 sm:py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md text-xs flex items-center justify-center space-x-1.5\"\r\n                >\r\n                  <IoTrashOutline className=\"w-2.5 h-2.5 sm:w-3 sm:h-3\" />\r\n                  <span>Terminate</span>\r\n                </button>\r\n              )}\r\n\r\n              <div\r\n                className={`flex rounded-md p-0.5 ${\r\n                  theme === \"dark\" ? \"bg-gray-700\" : \"bg-gray-100\"\r\n                }`}\r\n              >\r\n                <button\r\n                  onClick={() => setViewMode(\"grid\")}\r\n                  className={`p-1 sm:p-1.5 rounded-sm ${\r\n                    viewMode === \"grid\"\r\n                      ? theme === \"dark\"\r\n                        ? \"bg-gray-600 text-blue-400 shadow-sm\"\r\n                        : \"bg-white text-blue-600 shadow-sm\"\r\n                      : theme === \"dark\"\r\n                      ? \"text-gray-400 hover:text-gray-200\"\r\n                      : \"text-gray-500 hover:text-gray-700\"\r\n                  }`}\r\n                >\r\n                  <IoGridOutline className=\"w-2.5 h-2.5 sm:w-3 sm:h-3\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => setViewMode(\"list\")}\r\n                  className={`p-1 sm:p-1.5 rounded-sm ${\r\n                    viewMode === \"list\"\r\n                      ? theme === \"dark\"\r\n                        ? \"bg-gray-600 text-blue-400 shadow-sm\"\r\n                        : \"bg-white text-blue-600 shadow-sm\"\r\n                      : theme === \"dark\"\r\n                      ? \"text-gray-400 hover:text-gray-200\"\r\n                      : \"text-gray-500 hover:text-gray-700\"\r\n                  }`}\r\n                >\r\n                  <IoListOutline className=\"w-2.5 h-2.5 sm:w-3 sm:h-3\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between mb-4 sm:mb-3 mx-4 sm:mx-0\">\r\n          <h3\r\n            className={`text-base sm:text-lg font-semibold ${\r\n              theme === \"dark\" ? \"text-white\" : \"text-gray-800\"\r\n            }`}\r\n          >\r\n            {filteredEmployees.length} Employee\r\n            {filteredEmployees.length !== 1 ? \"s\" : \"\"} Found\r\n          </h3>\r\n        </div>\r\n\r\n        {filteredEmployees.length === 0 ? (\r\n          <div className=\"text-center py-12 sm:py-16 px-4\">\r\n            <div\r\n              className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${\r\n                theme === \"dark\" ? \"bg-gray-700\" : \"bg-gray-100\"\r\n              }`}\r\n            >\r\n              <IoPersonOutline className=\"w-8 h-8 sm:w-10 sm:h-10 text-gray-400\" />\r\n            </div>\r\n            <h2\r\n              className={`text-lg sm:text-xl font-bold mb-2 ${\r\n                theme === \"dark\" ? \"text-white\" : \"text-gray-800\"\r\n              }`}\r\n            >\r\n              No Employees Found\r\n            </h2>\r\n            <p\r\n              className={`text-sm sm:text-base mb-4 ${\r\n                theme === \"dark\" ? \"text-gray-300\" : \"text-gray-600\"\r\n              }`}\r\n            >\r\n              Try adjusting your search terms or filters.\r\n            </p>\r\n            <button\r\n              onClick={clearFilters}\r\n              className=\"px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-lg sm:rounded-xl shadow-lg text-sm sm:text-base\"\r\n            >\r\n              Clear All Filters\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className={\r\n              viewMode === \"grid\"\r\n                ? \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 mx-4 sm:mx-0\"\r\n                : \"space-y-3 sm:space-y-4 mx-4 sm:mx-0\"\r\n            }\r\n          >\r\n            {filteredEmployees.map((employee, index) => {\r\n              const isOwnProfile = employee.employeeId === empID;\r\n\r\n              return (\r\n                <div key={employee.employeeId} className=\"relative\">\r\n                  {viewMode === \"grid\" ? (\r\n                    <div\r\n                      className={`w-full h-72 rounded-xl shadow-lg border cursor-pointer ${\r\n                        theme === \"dark\"\r\n                          ? \"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700\"\r\n                          : \"bg-gradient-to-br from-white to-gray-50 border-gray-200\"\r\n                      }`}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        setFlippedCard((prev) =>\r\n                          prev === employee.employeeId\r\n                            ? null\r\n                            : employee.employeeId\r\n                        );\r\n                      }}\r\n                    >\r\n                      {flippedCard === employee.employeeId ? (\r\n                        // Back Card - Scrollable Options\r\n                        <div className=\"flex flex-col h-72 p-4 sm:p-5\">\r\n                          {isOwnProfile ? (\r\n                            <div className=\"text-center space-y-4 w-full flex-1 flex flex-col items-center justify-center\">\r\n                              <IoPersonOutline\r\n                                className={`w-10 h-10 ${\r\n                                  theme === \"dark\"\r\n                                    ? \"text-green-400\"\r\n                                    : \"text-green-600\"\r\n                                }`}\r\n                              />\r\n                              <h3\r\n                                className={`text-xl sm:text-2xl font-bold ${\r\n                                  theme === \"dark\"\r\n                                    ? \"text-green-400\"\r\n                                    : \"text-green-700\"\r\n                                }`}\r\n                              >\r\n                                This is Your Profile\r\n                              </h3>\r\n                              <p\r\n                                className={`text-sm ${\r\n                                  theme === \"dark\"\r\n                                    ? \"text-gray-300\"\r\n                                    : \"text-gray-600\"\r\n                                }`}\r\n                              >\r\n                                Use the main navigation links to manage your\r\n                                information.\r\n                              </p>\r\n                            </div>\r\n                          ) : (\r\n                            <>\r\n                              <div className=\"text-center mb-3 sm:mb-4 pb-3 border-b border-gray-500/30\">\r\n                                <h3\r\n                                  className={`text-base sm:text-lg font-bold mb-1 ${\r\n                                    theme === \"dark\"\r\n                                      ? \"text-white\"\r\n                                      : \"text-gray-900\"\r\n                                  }`}\r\n                                >\r\n                                  Card Options\r\n                                </h3>\r\n                                <p\r\n                                  className={`text-xs ${\r\n                                    theme === \"dark\"\r\n                                      ? \"text-gray-400\"\r\n                                      : \"text-gray-600\"\r\n                                  }`}\r\n                                >\r\n                                  Actions for {employee.displayName}\r\n                                </p>\r\n                              </div>\r\n\r\n                              <div className=\"overflow-y-auto flex-1 space-y-1 sm:space-y-2\">\r\n                                <button\r\n                                  onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    handleChatClick(employee);\r\n                                  }}\r\n                                  className={`px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-lg text-xs sm:text-sm w-full flex items-center justify-center space-x-2`}\r\n                                >\r\n                                  <IoChatbubbleOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                  <span>Start Chat</span>\r\n                                </button>\r\n\r\n                                {matchedArray &&\r\n                                  matchedArray.includes(\"GET_PUBLIC\") && (\r\n                                    <button\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleViewProfileClick(employee);\r\n                                      }}\r\n                                      className={`px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-green-500 to-teal-600 text-white font-bold rounded-lg text-xs sm:text-sm w-full flex items-center justify-center space-x-2`}\r\n                                    >\r\n                                      <IoPersonOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                      <span>View Profile</span>\r\n                                    </button>\r\n                                  )}\r\n\r\n                                {matchedArray &&\r\n                                  matchedArray.includes(\r\n                                    \"EMPLOYEE_VIEW_DOCS\"\r\n                                  ) && (\r\n                                    <button\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleDocumentsClick(employee);\r\n                                      }}\r\n                                      className={`px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-bold rounded-lg text-xs sm:text-sm w-full flex items-center justify-center space-x-2`}\r\n                                    >\r\n                                      <IoDocumentsOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                      <span>Documents</span>\r\n                                    </button>\r\n                                  )}\r\n\r\n                                <button\r\n                                  onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    handlePayRollClick(employee);\r\n                                  }}\r\n                                  className={`px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-teal-500 to-cyan-600 text-white font-bold rounded-lg text-xs sm:text-sm w-full flex items-center justify-center space-x-2`}\r\n                                >\r\n                                  <IoPeopleOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                  <span>View Payroll</span>\r\n                                </button>\r\n\r\n                                {matchedArray.includes(\r\n                                  \"EMPLOYEES_EMPLOYEE_TERMINATE_EMPLOYEE\"\r\n                                ) && (\r\n                                  <button\r\n                                    onClick={(e) => {\r\n                                      e.stopPropagation();\r\n                                      handleDeleteClick(employee);\r\n                                    }}\r\n                                    className=\"px-4 sm:px-6 py-2 sm:py-2.5 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg text-xs sm:text-sm w-full flex items-center justify-center space-x-2\"\r\n                                  >\r\n                                    <IoTrashOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                    <span>Terminate</span>\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      ) : (\r\n                        // Front Card\r\n                        <div className=\"flex flex-col h-full p-3 sm:p-4 relative overflow-hidden\">\r\n                          <div className=\"absolute top-0 right-0 w-16 h-16 opacity-10 pointer-events-none\">\r\n                            <div\r\n                              className={`w-full h-full rounded-full ${\r\n                                theme === \"dark\" ? \"bg-blue-400\" : \"bg-blue-500\"\r\n                              } transform translate-x-8 -translate-y-8`}\r\n                            ></div>\r\n                          </div>\r\n\r\n                          <div className=\"flex flex-col items-center text-center mb-3 z-10\">\r\n                            <div className=\"relative mb-2\">\r\n                              {employee.employeeImage ? (\r\n                                <div className=\"relative\">\r\n                                  <img\r\n                                    src={employee.employeeImage}\r\n                                    alt={`${employee.displayName}'s profile picture`}\r\n                                    className=\"h-14 w-14 sm:h-16 sm:w-16 rounded-xl object-cover border-3 border-blue-400 shadow-lg\"\r\n                                  />\r\n                                  <div className=\"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white shadow-sm\"></div>\r\n                                </div>\r\n                              ) : (\r\n                                <div className=\"relative\">\r\n                                  <div className=\"h-14 w-14 sm:h-16 sm:w-16 rounded-xl bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 flex items-center justify-center text-white text-sm sm:text-lg font-bold shadow-lg\">\r\n                                    {generateInitials(employee.displayName)}\r\n                                  </div>\r\n                                  <div className=\"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white shadow-sm\"></div>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n\r\n                            <div className=\"w-full px-1\">\r\n                              <h3\r\n                                className={`text-sm sm:text-base font-bold mb-1 truncate ${\r\n                                  theme === \"dark\"\r\n                                    ? \"text-white\"\r\n                                    : \"text-gray-900\"\r\n                                }`}\r\n                              >\r\n                                {employee.displayName}\r\n                              </h3>\r\n                              <p\r\n                                className={`text-xs font-semibold px-2 py-0.5 rounded-full truncate ${\r\n                                  theme === \"dark\"\r\n                                    ? \"text-blue-300 bg-blue-900/40\"\r\n                                    : \"text-blue-700 bg-blue-100\"\r\n                                }`}\r\n                              >\r\n                                {employee.jobTitlePrimary ||\r\n                                  \"Not Updated Job Title\"}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"flex-1 flex flex-col justify-end min-h-0\">\r\n                            <div className=\"space-y-1 px-1\">\r\n                              <div\r\n                                className={`flex items-center space-x-2 p-1.5 rounded-lg overflow-hidden ${\r\n                                  theme === \"dark\"\r\n                                    ? \"bg-gray-700/50 text-gray-300\"\r\n                                    : \"bg-gray-100/50 text-gray-600\"\r\n                                }`}\r\n                              >\r\n                                <IoIdCardOutline\r\n                                  className={`w-3 h-3 flex-shrink-0 ${\r\n                                    theme === \"dark\"\r\n                                      ? \"text-orange-400\"\r\n                                      : \"text-orange-500\"\r\n                                  }`}\r\n                                />\r\n                                <span className=\"truncate font-mono text-xs min-w-0\">\r\n                                  {employee.employeeId}\r\n                                </span>\r\n                              </div>\r\n\r\n                              <div\r\n                                className={`flex items-center space-x-2 p-1.5 rounded-lg overflow-hidden ${\r\n                                  theme === \"dark\"\r\n                                    ? \"bg-gray-700/50 text-gray-300\"\r\n                                    : \"bg-gray-100/50 text-gray-600\"\r\n                                }`}\r\n                              >\r\n                                <IoBriefcaseOutline\r\n                                  className={`w-3 h-3 flex-shrink-0 ${\r\n                                    theme === \"dark\"\r\n                                      ? \"text-blue-400\"\r\n                                      : \"text-blue-500\"\r\n                                  }`}\r\n                                />\r\n                                <span className=\"truncate text-xs min-w-0\">\r\n                                  {employee.departmentId || \"N/A\"}\r\n                                </span>\r\n                              </div>\r\n\r\n                              <div\r\n                                className={`flex items-center space-x-2 p-1.5 rounded-lg overflow-hidden ${\r\n                                  theme === \"dark\"\r\n                                    ? \"bg-gray-700/50 text-gray-300\"\r\n                                    : \"bg-gray-100/50 text-gray-600\"\r\n                                }`}\r\n                              >\r\n                                <IoLocationOutline\r\n                                  className={`w-3 h-3 flex-shrink-0 ${\r\n                                    theme === \"dark\"\r\n                                      ? \"text-green-400\"\r\n                                      : \"text-green-500\"\r\n                                  }`}\r\n                                />\r\n                                <span className=\"truncate text-xs min-w-0\">\r\n                                  {employee.location || \"N/A\"}\r\n                                </span>\r\n                              </div>\r\n\r\n                              <div\r\n                                className={`flex items-center space-x-2 p-1.5 rounded-lg overflow-hidden ${\r\n                                  theme === \"dark\"\r\n                                    ? \"bg-gray-700/50 text-gray-300\"\r\n                                    : \"bg-gray-100/50 text-gray-600\"\r\n                                }`}\r\n                              >\r\n                                <IoMailOutline\r\n                                  className={`w-3 h-3 flex-shrink-0 ${\r\n                                    theme === \"dark\"\r\n                                      ? \"text-purple-400\"\r\n                                      : \"text-purple-500\"\r\n                                  }`}\r\n                                />\r\n                                <span\r\n                                  className=\"truncate text-xs min-w-0\"\r\n                                  title={employee.workEmail || \"N/A\"}\r\n                                >\r\n                                  {employee.workEmail || \"N/A\"}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    // List View Item\r\n                    <div\r\n                      className={`rounded-xl p-3 sm:p-4 shadow-lg border cursor-pointer ${\r\n                        isOwnProfile\r\n                          ? \"border-green-500 ring-2 ring-green-500/50\"\r\n                          : theme === \"dark\"\r\n                          ? \"bg-gradient-to-r from-gray-800 to-gray-900 border-gray-700\"\r\n                          : \"bg-gradient-to-r from-white to-gray-50 border-gray-200\"\r\n                      }`}\r\n                      onClick={() =>\r\n                        navigate(\r\n                          `/employees/${empID}/public/${employee.employeeId}`\r\n                        )\r\n                      }\r\n                    >\r\n                      <div className=\"flex items-center space-x-3 sm:space-x-4 relative overflow-hidden\">\r\n                        <div className=\"absolute top-0 right-0 w-16 sm:w-20 h-16 sm:h-20 opacity-10 pointer-events-none\">\r\n                          <div\r\n                            className={`w-full h-full rounded-full ${\r\n                              theme === \"dark\" ? \"bg-blue-400\" : \"bg-blue-500\"\r\n                            } transform translate-x-8 sm:translate-x-10 -translate-y-8 sm:-translate-y-10`}\r\n                          ></div>\r\n                        </div>\r\n\r\n                        <div className=\"flex-shrink-0 relative z-10\">\r\n                          {employee.employeeImage ? (\r\n                            <div className=\"relative\">\r\n                              <img\r\n                                src={employee.employeeImage}\r\n                                alt={`${employee.displayName}'s profile picture`}\r\n                                className=\"h-10 w-10 sm:h-12 sm:w-12 rounded-xl object-cover border-4 border-blue-200 shadow-lg\"\r\n                              />\r\n                              <div className=\"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white\"></div>\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"relative\">\r\n                              <div className=\"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs sm:text-sm font-bold shadow-lg\">\r\n                                {generateInitials(employee.displayName)}\r\n                              </div>\r\n                              <div className=\"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white\"></div>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n\r\n                        <div className=\"flex-1 min-w-0 z-10\">\r\n                          <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between\">\r\n                            <div className=\"min-w-0 flex-1 mb-2 sm:mb-0\">\r\n                              <h3\r\n                                className={`text-sm sm:text-lg font-bold truncate mb-1 ${\r\n                                  theme === \"dark\"\r\n                                    ? \"text-white\"\r\n                                    : \"text-gray-900\"\r\n                                }`}\r\n                              >\r\n                                {employee.displayName}\r\n                                {isOwnProfile && (\r\n                                  <span\r\n                                    className={`ml-2 text-xs font-bold ${\r\n                                      theme === \"dark\"\r\n                                        ? \"text-green-400\"\r\n                                        : \"text-green-600\"\r\n                                    }`}\r\n                                  >\r\n                                    (Your Profile)\r\n                                  </span>\r\n                                )}\r\n                              </h3>\r\n                              <p\r\n                                className={`text-xs font-semibold px-2 py-1 rounded-full w-fit ${\r\n                                  theme === \"dark\"\r\n                                    ? \"text-blue-300 bg-blue-900/40\"\r\n                                    : \"text-blue-700 bg-blue-100\"\r\n                                }`}\r\n                              >\r\n                                {employee.jobTitlePrimary || \"Not Updated\"}\r\n                              </p>\r\n                            </div>\r\n\r\n                            {!isOwnProfile && (\r\n                              <div className=\"flex items-center space-x-1 sm:space-x-2\">\r\n                                <button\r\n                                  onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    handleChatClick(employee);\r\n                                  }}\r\n                                  className={`p-1.5 sm:p-2 rounded-lg ${\r\n                                    theme === \"dark\"\r\n                                      ? \"bg-blue-600 hover:bg-blue-700\"\r\n                                      : \"bg-blue-500 hover:bg-blue-600\"\r\n                                  } text-white shadow-md`}\r\n                                >\r\n                                  <IoChatbubbleOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                </button>\r\n\r\n                                {matchedArray &&\r\n                                  matchedArray.includes(\"GET_PUBLIC\") && (\r\n                                    <button\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleViewProfileClick(employee);\r\n                                      }}\r\n                                      className={`p-1.5 sm:p-2 rounded-lg ${\r\n                                        theme === \"dark\"\r\n                                          ? \"bg-green-600 hover:bg-green-700\"\r\n                                          : \"bg-green-500 hover:bg-green-600\"\r\n                                      } text-white shadow-md`}\r\n                                    >\r\n                                      <IoPersonOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                    </button>\r\n                                  )}\r\n\r\n                                {matchedArray &&\r\n                                  matchedArray.includes(\r\n                                    \"EMPLOYEE_VIEW_DOCS\"\r\n                                  ) && (\r\n                                    <button\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleDocumentsClick(employee);\r\n                                      }}\r\n                                      className={`p-1.5 sm:p-2 rounded-lg ${\r\n                                        theme === \"dark\"\r\n                                          ? \"bg-yellow-600 hover:bg-yellow-700\"\r\n                                          : \"bg-yellow-500 hover:bg-yellow-600\"\r\n                                      } text-white shadow-md`}\r\n                                    >\r\n                                      <IoDocumentsOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                    </button>\r\n                                  )}\r\n\r\n                                {matchedArray.includes(\r\n                                  \"EMPLOYEES_EMPLOYEE_TERMINATE_EMPLOYEE\"\r\n                                ) && (\r\n                                  <button\r\n                                    onClick={(e) => {\r\n                                      e.stopPropagation();\r\n                                      handleDeleteClick(employee);\r\n                                    }}\r\n                                    disabled={isOwnProfile}\r\n                                    className={`p-1.5 sm:p-2 rounded-lg text-white shadow-md ${\r\n                                      isOwnProfile\r\n                                        ? \"opacity-50 cursor-not-allowed\"\r\n                                        : \"bg-red-600 hover:bg-red-700\"\r\n                                    }`}\r\n                                  >\r\n                                    <IoTrashOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n\r\n                          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-1 sm:gap-2 text-xs mt-2\">\r\n                            <div\r\n                              className={`flex items-center space-x-1 p-1 sm:p-1.5 rounded-md overflow-hidden ${\r\n                                theme === \"dark\"\r\n                                  ? \"bg-gray-700/50 text-gray-300\"\r\n                                  : \"bg-gray-100 text-gray-600\"\r\n                              }`}\r\n                            >\r\n                              <IoIdCardOutline\r\n                                className={`w-3 h-3 flex-shrink-0 ${\r\n                                  theme === \"dark\"\r\n                                    ? \"text-orange-400\"\r\n                                    : \"text-orange-500\"\r\n                                }`}\r\n                              />\r\n                              <span className=\"truncate font-mono text-xs\">\r\n                                {employee.employeeId}\r\n                              </span>\r\n                            </div>\r\n                            <div\r\n                              className={`flex items-center space-x-1 p-1 sm:p-1.5 rounded-md overflow-hidden ${\r\n                                theme === \"dark\"\r\n                                  ? \"bg-gray-700/50 text-gray-300\"\r\n                                  : \"bg-gray-100 text-gray-600\"\r\n                              }`}\r\n                            >\r\n                              <IoBriefcaseOutline\r\n                                className={`w-3 h-3 flex-shrink-0 ${\r\n                                  theme === \"dark\"\r\n                                    ? \"text-blue-400\"\r\n                                    : \"text-blue-500\"\r\n                                }`}\r\n                              />\r\n                              <span className=\"truncate\">\r\n                                {employee.departmentId || \"N/A\"}\r\n                              </span>\r\n                            </div>\r\n                            <div\r\n                              className={`flex items-center space-x-1 p-1 sm:p-1.5 rounded-md overflow-hidden ${\r\n                                theme === \"dark\"\r\n                                  ? \"bg-gray-700/50 text-gray-300\"\r\n                                  : \"bg-gray-100 text-gray-600\"\r\n                              }`}\r\n                            >\r\n                              <IoLocationOutline\r\n                                className={`w-3 h-3 flex-shrink-0 ${\r\n                                  theme === \"dark\"\r\n                                    ? \"text-green-400\"\r\n                                    : \"text-green-500\"\r\n                                }`}\r\n                              />\r\n                              <span className=\"truncate\">\r\n                                {employee.location || \"N/A\"}\r\n                              </span>\r\n                            </div>\r\n                            <div\r\n                              className={`flex items-center space-x-1 p-1 sm:p-1.5 rounded-md overflow-hidden ${\r\n                                theme === \"dark\"\r\n                                  ? \"bg-gray-700/50 text-gray-300\"\r\n                                  : \"bg-gray-100 text-gray-600\"\r\n                              }`}\r\n                            >\r\n                              <IoMailOutline\r\n                                className={`w-3 h-3 flex-shrink-0 ${\r\n                                  theme === \"dark\"\r\n                                    ? \"text-purple-400\"\r\n                                    : \"text-purple-500\"\r\n                                }`}\r\n                              />\r\n                              <span\r\n                                className=\"truncate text-xs\"\r\n                                title={employee.workEmail || \"N/A\"}\r\n                              >\r\n                                {employee.workEmail || \"N/A\"}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex flex-col sm:flex-row justify-between items-center mt-6 sm:mt-8 gap-4 mx-4 sm:mx-0\">\r\n          <button\r\n            onClick={() => setPageNumber((prev) => Math.max(0, prev - 1))}\r\n            disabled={pageNumber === 0}\r\n            className={`flex items-center space-x-2 px-6 sm:px-8 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-sm ${\r\n              theme === \"dark\"\r\n                ? \"bg-gray-700 text-gray-300 hover:bg-gray-600\"\r\n                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n            } disabled:opacity-50 disabled:cursor-not-allowed`}\r\n          >\r\n            <IoArrowBack className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n            <span>Previous</span>\r\n          </button>\r\n\r\n          <div className=\"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4\">\r\n            <span\r\n              className={`text-xs sm:text-sm ${\r\n                theme === \"dark\" ? \"text-gray-300\" : \"text-gray-700\"\r\n              }`}\r\n            >\r\n              Page {pageNumber + 1}\r\n            </span>\r\n            <select\r\n              value={pageSize}\r\n              onChange={(e) => {\r\n                setPageSize(parseInt(e.target.value));\r\n                setPageNumber(0);\r\n              }}\r\n              className={`px-3 sm:px-4 py-2 sm:py-3 border-2 rounded-lg text-xs sm:text-sm ${\r\n                theme === \"dark\"\r\n                  ? \"bg-gray-700 text-white border-gray-600\"\r\n                  : \"bg-gray-100 text-gray-800 border-gray-300\"\r\n              }`}\r\n            >\r\n              <option value=\"15\">15 per page</option>\r\n              <option value=\"30\">30 per page</option>\r\n              <option value=\"50\">50 per page</option>\r\n            </select>\r\n          </div>\r\n\r\n          <button\r\n            onClick={() => setPageNumber((prev) => prev + 1)}\r\n            disabled={filteredEmployees.length < pageSize}\r\n            className={`flex items-center space-x-2 px-6 sm:px-8 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-sm ${\r\n              theme === \"dark\"\r\n                ? \"bg-gray-700 text-gray-300 hover:bg-gray-600\"\r\n                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n            } disabled:opacity-50 disabled:cursor-not-allowed`}\r\n          >\r\n            <span>\r\n              {filteredEmployees.length < pageSize ? \"Last Page\" : \"Next\"}\r\n            </span>\r\n            {filteredEmployees.length < pageSize ? (\r\n              <IoLockClosed className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n            ) : (\r\n              <IoArrowForward className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modals */}\r\n      {isTerminatedEmployeesModalOpen && renderTerminatedEmployeesModal()}\r\n\r\n      {popup.show && (\r\n        <Modal\r\n          onClose={() => setPopup({ show: false, message: \"\", type: \"\" })}\r\n          title={\r\n            popup.type === \"success\"\r\n              ? \"Success\"\r\n              : popup.type === \"default\"\r\n              ? \"Information\"\r\n              : \"Error\"\r\n          }\r\n          type={popup.type}\r\n          theme={theme}\r\n        >\r\n          <p\r\n            className={`mb-4 sm:mb-6 text-sm ${\r\n              theme === \"dark\" ? \"text-gray-300\" : \"text-gray-700\"\r\n            }`}\r\n          >\r\n            {popup.message}\r\n          </p>\r\n          <div className=\"flex justify-end\">\r\n            <button\r\n              onClick={() => setPopup({ show: false, message: \"\", type: \"\" })}\r\n              className={`${\r\n                popup.type === \"success\"\r\n                  ? \"bg-green-600 hover:bg-green-700\"\r\n                  : popup.type === \"default\"\r\n                  ? \"bg-blue-600 hover:bg-blue-700\"\r\n                  : \"bg-red-600 hover:bg-red-700\"\r\n              } text-white font-semibold py-2 px-6 rounded-lg text-sm`}\r\n            >\r\n              OK\r\n            </button>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n\r\n      {deleteConfirmation.show && (\r\n        <Modal\r\n          onClose={() => setDeleteConfirmation({ show: false, employee: null })}\r\n          title=\"Confirm Termination\"\r\n          type=\"confirm\"\r\n          theme={theme}\r\n        >\r\n          <p\r\n            className={`mb-4 sm:mb-6 text-sm ${\r\n              theme === \"dark\" ? \"text-gray-300\" : \"text-gray-700\"\r\n            }`}\r\n          >\r\n            Are you sure you want to Terminate employee{\" \"}\r\n            <strong>{deleteConfirmation.employee?.displayName}</strong>? This\r\n            action cannot be undone.\r\n          </p>\r\n          <div className=\"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3\">\r\n            <button\r\n              onClick={() =>\r\n                setDeleteConfirmation({ show: false, employee: null })\r\n              }\r\n              className={`w-full sm:w-auto px-6 py-2 rounded-lg font-semibold text-sm ${\r\n                theme === \"dark\"\r\n                  ? \"bg-gray-600 hover:bg-gray-500 text-white\"\r\n                  : \"bg-gray-200 hover:bg-gray-300 text-gray-800\"\r\n              }`}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={confirmDelete}\r\n              className=\"w-full sm:w-auto px-6 py-2 rounded-lg font-semibold text-white bg-red-600 hover:bg-red-700 text-sm\"\r\n            >\r\n              Terminate\r\n            </button>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmployeeApp;\r\n","import React from \"react\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport EmployeeApp from \"./EmployeeApp\"; // Assuming this is the correct path\r\nimport EmployeeProfile from \"./EmployeeProfile\"; // Assuming this is the correct path\r\n\r\nconst Employees = () => {\r\n  return (\r\n    <Routes>\r\n      {/* FIX: 'index' specifies that EmployeeApp is the default component for the '/employees' route */}\r\n      <Route index element={<EmployeeApp />} />\r\n      {/* FIX: The path is now relative to '/employees', creating the full path '/employees/employee/:id' */}\r\n      <Route path=\"employee/:id\" element={<EmployeeProfile />} />\r\n    </Routes>\r\n  );\r\n};\r\n\r\nexport default Employees;"],"names":["generateInitials","name","nameParts","split","length","toUpperCase","InfoItem","_ref","icon","label","value","isMail","theme","_jsxs","motion","div","initial","opacity","x","animate","transition","duration","className","children","_jsx","concat","href","EmployeeProfile","_employee$achievement","_employee$projects","empID","employeeID","useParams","navigate","useNavigate","useContext","Context","employee","setEmployee","useState","loading","setLoading","useEffect","async","response","publicinfoApi","get","console","log","data","error","fetchEmployee","exit","button","onClick","whileHover","FiArrowLeft","y","employeeImage","src","alt","displayName","delay","jobTitlePrimary","FiHash","employeeId","FiBriefcase","departmentId","FiMapPin","location","FiMail","workEmail","FiPhone","contact","achievements","map","achievement","index","FiAward","certificationName","issuingAuthorityName","projects","project","projectName","projectDescription","Modal","onClose","title","type","titleClass","IoCheckmarkCircle","IoWarning","IoInformationCircleOutline","IoClose","InputField","_ref2","required","hint","placeholder","onChange","onBlur","isError","options","multiple","accept","maxLength","disabled","normalizedValue","undefined","baseInputClass","textareaClass","selectClass","toLowerCase","option","viewBox","d","rows","IoCloudUpload","credentialsFormFields","employeeFormFields","payrollFormFields","leavesFormFields","min","max","DepartmentDropdown","_ref3","isOpen","setIsOpen","departments","setDepartments","hasMore","setHasMore","currentPage","setCurrentPage","searchTerm","setSearchTerm","dropdownRef","useRef","loadDepartments","useCallback","page","arguments","reset","newDepartments","content","prev","filteredDepartments","filter","dept","searchLower","includes","departmentName","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","ref","getDisplayText","selectedDept","find","IoChevronDownOutline","IoSearchOutline","e","onScroll","scrollTop","scrollHeight","clientHeight","departmentDescription","ShiftDropdown","_ref4","shifts","setShifts","getShifts","shiftNames","attendanceApi","shift","shiftName","_userData$roles","_userData$roles$","_deleteConfirmation$e","employeeData","setEmployeeData","dynamicFilters","setDynamicFilters","viewMode","setViewMode","userprofiledata","userData","selectedFilters","setSelectedFilters","loggedPermissiondata","setLoggedPermissionData","matchedArray","setMatchedArray","LoggedUserRole","roles","flippedCard","setFlippedCard","contextMenu","setContextMenu","visible","isAddEmployeeModalOpen","setIsAddEmployeeModalOpen","isUpdating","setIsUpdating","submissionStatus","setSubmissionStatus","terminatedSearchTerm","setTerminatedSearchTerm","currentStep","setCurrentStep","getCurrentLocation","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","setFormData","_objectSpread","String","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","initialFormData","fullName","username","password","role","email","phoneNumber","firstName","maritalStatus","employeeRole","empNameDisplay","employeeIdDisplay","annualSalary","stipend","accountNumber","ifsccode","bankName","pfnum","panNumber","aadharNumber","uanNumber","department","designation","jobType","level","startDate","empName","employeeIdDisplay4","month","Date","getMonth","year","getFullYear","paid","sick","casual","unpaid","formData","formErrors","setFormErrors","popup","setPopup","show","message","deleteConfirmation","setDeleteConfirmation","pageNumber","setPageNumber","pageSize","setPageSize","sortBy","setSortBy","sortOrder","setSortOrder","isTerminatedEmployeesModalOpen","setIsTerminatedEmployeesModalOpen","terminatedEmployeesData","setTerminatedEmployeesData","terminatedLoading","setTerminatedLoading","terminatedHasMore","setTerminatedHasMore","terminatedCurrentPage","setTerminatedCurrentPage","terminatedScrollRef","hasAccess","setHasAccess","userRole","authApi","fetchedData","permissions","handleOutsideClick","window","handleChatClick","state","newChatTarget","chatId","profile","isOnline","lastMessage","unreadMessageCount","handleViewProfileClick","handleDocumentsClick","handleDeleteClick","fetchAllEmployees","err","Set","Boolean","locations","newFilters","IoBriefcaseOutline","IoBusinessOutline","IoLocationOutline","initialFilters","reduce","acc","filteredEmployees","lowercasedSearchTerm","matchesSearch","matchesFilters","Object","entries","every","_ref5","filterName","startsWith","clearFilters","clearedFilters","handleFormChange","updatedData","parseInt","parseFloat","newErrors","handleDepartmentChange","handleBlurValidation","trim","test","isNaN","leaves","validateStep","step","errors","fieldsToValidate","f","endsWith","hidden","push","allFields","forEach","field","requiredCheck","runValidation","handleNextStep","handlePreviousStep","handleFormSubmit","preventDefault","allErrors","step1Errors","step2Errors","step3Errors","step4Errors","keys","terminatedIds","allIds","hasMorePages","newEmployees","emp","add","last","fetchTerminatedEmployeeIds","idToCheck","has","credentialsDto","post","employeeDto","payrollDto","payroll","leavesDto","_error$response","_error$response$data","errorMessage","general","handleFormClose","handlePrintPayload","payload","JSON","stringify","renderField","currentErrors","handleChange","fieldValue","currentOnChange","departmentValue","isFieldRequired","renderAddEmployeeModal","getStepTitle","getStepColor","steps","IoKeyOutline","IoPersonOutline","IoCalendarOutline","isCompleted","isStepVisuallyCompleted","handleStepClick","stepNumber","onSubmit","IoArrowBack","IoArrowForward","_Fragment","loadTerminatedEmployees","alert","handleTerminatedScroll","filteredTerminatedEmployees","IconComponent","IoRefreshOutline","IoAddCircleOutline","IoTrashOutline","IoGridOutline","IoListOutline","isOwnProfile","stopPropagation","IoChatbubbleOutline","IoDocumentsOutline","handlePayRollClick","IoPeopleOutline","IoIdCardOutline","IoMailOutline","Math","IoLockClosed","renderTerminatedEmployeesModal","baseApiUrl","renderDataField","Array","isArray","join","onError","style","display","nextSibling","workNumber","gender","dateOfJoining","dateOfLeaving","projectId","teamId","employeeIdToDelete","delete","prevData","_err$response","_err$response$data","Employees","Routes","Route","element","EmployeeApp","path"],"sourceRoot":""}