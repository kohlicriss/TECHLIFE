"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[492],{492:(e,t,a)=>{a.r(t),a.d(t,{default:()=>U});var r=a(9379),s=a(5043),l=a(7234),o=a(1357),n=a(5394),i=a(2397),c=a(579);const d={text:"",isEditing:!1},m=()=>{const{theme:e,userData:t,matchedArray:a}=(0,s.useContext)(l.ob),{empID:m}=(0,o.g)(),x=(0,o.zy)(),u=new URLSearchParams(x.search),p="true"===u.get("fromContextMenu"),g=u.get("targetEmployeeId"),h=p&&g?g:m,b=String(null===t||void 0===t?void 0:t.employeeId)===String(h),y=p||!b,f=null===a||void 0===a?void 0:a.includes("EDIT_PER"),v=b||p&&f,[j,N]=(0,s.useState)({about:d,jobLove:d,hobbies:d}),[w,k]=(0,s.useState)({about:"",jobLove:"",hobbies:""}),[C,A]=(0,s.useState)(!1),[E,D]=(0,s.useState)(!0),[S,I]=(0,s.useState)(!1),[P,O]=(0,s.useState)(null),q=(0,s.useCallback)((e,t,a)=>{N(e),k(t?a=>(0,r.A)((0,r.A)({},a),{},{[t]:e[t].text}):{about:e.about.text,jobLove:e.jobLove.text,hobbies:e.hobbies.text}),O(a)},[]),T=(0,s.useCallback)(async()=>{if(h){D(!0),O(null);try{const e=(await i.yE.get("employee/about/".concat(h))).data||{};N({about:{text:e.about||"",isEditing:!1},jobLove:{text:e.jobLove||"",isEditing:!1},hobbies:{text:e.hobbies||"",isEditing:!1}}),k({about:e.about||"",jobLove:e.jobLove||"",hobbies:e.hobbies||""}),A(!!(e.about||e.jobLove||e.hobbies))}catch(e){e.response&&404===e.response.status?A(!1):O("Failed to load profile data.")}finally{D(!1)}}else D(!1)},[h]);(0,s.useEffect)(()=>{T()},[T]);const B=e=>{v&&(N(t=>(0,r.A)((0,r.A)({},t),{},{[e]:(0,r.A)((0,r.A)({},t[e]),{},{isEditing:!0})})),k(t=>(0,r.A)((0,r.A)({},t),{},{[e]:j[e].text})))},L=async e=>{if(S||!v)return;const t=j;N(t=>(0,r.A)((0,r.A)({},t),{},{[e]:{text:"",isEditing:!1}})),k(t=>(0,r.A)((0,r.A)({},t),{},{[e]:""})),I(!0),O(null);try{const a={employeeId:h,about:"about"===e?"":t.about.text,jobLove:"jobLove"===e?"":t.jobLove.text,hobbies:"hobbies"===e?"":t.hobbies.text},r=!a.about.trim()&&!a.jobLove.trim()&&!a.hobbies.trim(),s="employee/".concat(h,"/").concat(C?"updateAbout":"createAbout");await i.yE[C?"put":"post"](s,a),r?A(!1):C||A(!0)}catch(a){q(t,e,"Failed to delete ".concat(e,". Please try again."))}finally{I(!1)}},F=t=>{let{onClick:a,disabled:r}=t;return(0,c.jsx)("button",{onClick:a,disabled:r,className:"px-2 py-0.5 border shadow-sm text-xs sm:text-xs transition ".concat("dark"===e?"bg-gray-700 border-gray-600 text-gray-300 hover:text-gray-100 hover:border-gray-500":"bg-white border-gray-200 text-gray-600 hover:text-gray-800 hover:border-gray-300"," disabled:opacity-50 disabled:cursor-not-allowed"),"aria-label":"Edit section",children:"Edit"})},M=(t,a)=>{const{text:s,isEditing:l}=j[t];return E?(0,c.jsx)("div",{className:"h-20 w-full ".concat("dark"===e?"bg-gray-800":"bg-gray-100"," rounded-md animate-pulse")}):s||l?l?(0,c.jsxs)("div",{className:"space-y-1 sm:space-y-2 w-full",children:[(0,c.jsx)("textarea",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 transition-colors duration-200 text-xs sm:text-sm ".concat("dark"===e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"),rows:"about"===t?5:3,value:w[t],onChange:e=>((e,t)=>k(a=>(0,r.A)((0,r.A)({},a),{},{[e]:t})))(t,e.target.value),placeholder:"Tell us about your ".concat(a.toLowerCase(),"..."),disabled:!v||S,style:{minHeight:"48px",resize:"vertical"}}),(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row-reverse justify-end space-y-2 sm:space-y-0 sm:space-x-2 w-full",children:[(0,c.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,c.jsx)("button",{onClick:()=>(e=>{N(t=>(0,r.A)((0,r.A)({},t),{},{[e]:(0,r.A)((0,r.A)({},t[e]),{},{isEditing:!1})})),k(t=>(0,r.A)((0,r.A)({},t),{},{[e]:j[e].text}))})(t),disabled:S,className:"w-full sm:w-auto px-2 py-1 rounded-md text-xs disabled:opacity-50 disabled:cursor-not-allowed ".concat("dark"===e?"text-gray-300 border border-gray-600 hover:bg-gray-700":"text-gray-600 border border-gray-300 hover:bg-gray-100"),children:"Cancel"}),(0,c.jsx)("button",{onClick:()=>(async e=>{if(!v)return;const t=w[e].trim();if(!t)return void L(e);I(!0),O(null);const a=j;N(a=>(0,r.A)((0,r.A)({},a),{},{[e]:{text:t,isEditing:!1}}));const s={employeeId:h,about:"about"===e?t:a.about.text,jobLove:"jobLove"===e?t:a.jobLove.text,hobbies:"hobbies"===e?t:a.hobbies.text};try{const e="employee/".concat(h,"/").concat(C?"updateAbout":"createAbout");C?await i.yE.put(e,s):(await i.yE.post(e,s),A(!0))}catch(l){if(l.response&&(500===l.response.status||409===l.response.status||400===l.response.status&&JSON.stringify(l.response.data).toLowerCase().includes("already recorded"))&&!C)try{await i.yE.put("employee/".concat(h,"/updateAbout"),s),A(!0)}catch(o){return void q(a,e,"Failed to save ".concat(e,". Try again."))}else q(a,e,"Failed to save ".concat(e,". Please try again."))}finally{I(!1)}})(t),disabled:!w[t].trim()||S,className:"w-full sm:w-auto px-2 py-1 rounded-md text-xs disabled:opacity-50 disabled:cursor-not-allowed ".concat("bg-purple-600 text-white hover:bg-purple-700"),children:S?"Saving...":"Save"})]}),j[t].text&&(0,c.jsx)("button",{onClick:()=>L(t),disabled:S,className:"w-full sm:w-auto px-2 py-1 rounded-md text-xs disabled:opacity-50 disabled:cursor-not-allowed ".concat("dark"===e?"text-red-400 border border-red-400 hover:bg-red-900/20":"text-red-600 border border-red-600 hover:bg-red-50"),children:"Delete"})]})]}):(0,c.jsxs)("div",{className:"p-3 rounded-md w-full relative group transition-colors duration-200 ".concat("dark"===e?"bg-gray-800 border border-gray-700":"bg-gray-50 border border-gray-200"),children:[v&&(0,c.jsxs)("div",{className:"absolute top-1 right-1 flex",children:[(0,c.jsx)("div",{className:"sm:hidden",children:(0,c.jsx)(F,{onClick:()=>B(t),disabled:S})}),(0,c.jsx)("div",{className:"hidden sm:block opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:(0,c.jsx)(F,{onClick:()=>B(t),disabled:S})})]}),(0,c.jsx)("p",{className:"whitespace-pre-wrap text-xs sm:text-sm break-words ".concat("dark"===e?"text-gray-200":"text-gray-700"),children:s})]}):(0,c.jsx)("button",{onClick:()=>B(t),disabled:!v,className:"w-full border rounded-md px-2 py-2 text-xs sm:text-sm transition-colors duration-200 ".concat(v?"dark"===e?"text-purple-400 border-purple-400 hover:bg-purple-900/20":"text-purple-600 border-purple-600 hover:bg-purple-50":"dark"===e?"text-gray-500 border-gray-600 cursor-not-allowed":"text-gray-400 border-gray-300 cursor-not-allowed"),"aria-label":v?"Add your ".concat(a):"No ".concat(a," added"),children:v?"Add your ".concat(a):"No ".concat(a," added")})};return(0,c.jsxs)("div",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 transition-colors duration-200 min-h-screen w-full ".concat("dark"===e?"bg-gray-900":"bg-white"),children:[(p||!b)&&(0,c.jsx)("div",{className:"mb-3 sm:mb-5 p-2 sm:p-3 mx-2 sm:mx-0 rounded-md border-l-4 border-blue-500 shadow-sm ".concat("dark"===e?"bg-blue-900/20 border-blue-400":"bg-blue-50 border-blue-500"),children:(0,c.jsxs)("div",{className:"flex items-center space-x-2 w-full",children:[(0,c.jsx)(n.GNz,{className:"w-4 h-4 flex-shrink-0 ".concat("dark"===e?"text-blue-400":"text-blue-600")}),(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsx)("p",{className:"font-semibold text-xs sm:text-sm ".concat("dark"===e?"text-blue-400":"text-blue-800"),children:b?"Your Profile":"Viewing Employee About Details"}),(0,c.jsxs)("p",{className:"text-[10px] sm:text-xs break-words ".concat("dark"===e?"text-blue-300":"text-blue-700"),children:["Employee ID: ",h,y&&" \u2022 Read-only access"]})]})]})}),P&&(0,c.jsx)("div",{className:"mb-3 sm:mb-5 p-2 sm:p-3 mx-2 sm:mx-0 rounded-md text-xs font-medium ".concat("dark"===e?"bg-red-900/40 text-red-300":"bg-red-100 text-red-700"),children:P}),(0,c.jsxs)("div",{className:"space-y-3 sm:space-y-4 mx-1 sm:mx-0",children:[(0,c.jsx)("h2",{className:"text-base sm:text-lg md:text-xl font-semibold ".concat("dark"===e?"text-white":"text-gray-900"),children:"Description"}),(0,c.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-sm sm:text-base font-medium mb-2 sm:mb-3 break-words ".concat("dark"===e?"text-gray-200":"text-gray-900"),children:"About"}),M("about","About Me")]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-sm sm:text-base font-medium mb-2 sm:mb-3 break-words ".concat("dark"===e?"text-gray-200":"text-gray-900"),children:"What I love about my job?"}),M("jobLove","Job Love")]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-sm sm:text-base font-medium mb-2 sm:mb-3 break-words ".concat("dark"===e?"text-gray-200":"text-gray-900"),children:"My hobbies"}),M("hobbies","Hobbies")]})]})]})]})},x=e=>{let{children:t,onClose:a,title:r,type:s,theme:l}=e,o="",i=null;return"success"===s?(o="text-green-600",i=(0,c.jsx)(n.G3G,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-500"})):"error"===s?(o="text-red-600",i=(0,c.jsx)(n.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-500"})):"confirm"===s&&(o="text-yellow-600",i=(0,c.jsx)(n.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500"})),(0,c.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-[250]",children:(0,c.jsxs)("div",{className:"p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-md m-4 border ".concat("dark"===l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,c.jsxs)("div",{className:"flex items-center mb-4",children:[i&&(0,c.jsx)("span",{className:"mr-3",children:i}),(0,c.jsx)("h3",{className:"text-lg sm:text-xl font-bold ".concat(o),children:r})]}),t]})})},u={primaryDetails:[{label:"First Name",name:"firstName",type:"text",required:!0,hint:"Enter your first name (up to 50 characters)"},{label:"Middle Name",name:"middleName",type:"text",hint:"Enter your middle name if applicable (up to 50 characters)"},{label:"Last Name",name:"lastName",type:"text",required:!0,hint:"Enter your last name (up to 50 characters)"},{label:"Display Name",name:"displayName",type:"text",required:!0,hint:"Name to display in system (up to 100 characters)"},{label:"Gender",name:"gender",type:"select",required:!0,options:["Male","Female","Other"],hint:"Select your gender"},{label:"Date of Birth",name:"dateOfBirth",type:"date",required:!0,hint:"Select your birth date (must be in the past)"},{label:"Marital Status",name:"maritalStatus",type:"select",required:!0,options:["Single","Married","Divorced","Widowed"],hint:"Select your current marital status"},{label:"Blood Group",name:"bloodGroup",type:"select",required:!0,options:["A+","A-","B+","B-","AB+","AB-","O+","O-"],hint:"Select your blood group"},{label:"Physically Handicapped",name:"physicallyHandicapped",type:"select",required:!0,options:["Yes","No"],hint:"Indicate if you have any physical disabilities"},{label:"Nationality",name:"nationality",type:"select",required:!0,options:["Indian","American","British","Canadian","Australian","German","French","Japanese","Chinese","Brazilian","Mexican","Italian","Spanish","Russian","South Korean","Indonesian","Saudi Arabian","Turkish","Argentine","Other"],hint:"Select your nationality"}],contactDetails:[{label:"Work Email",name:"workEmail",type:"email",required:!0,hint:"Enter your official work email address"},{label:"Personal Email",name:"personalEmail",type:"email",hint:"Enter your personal email address"},{label:"Mobile Number",name:"mobileNumber",type:"text",required:!0,hint:"Enter 10-digit Indian mobile number starting with 6-9"},{label:"Work Number",name:"workNumber",type:"text",hint:"Enter work phone number (3-15 digits)"}],address:[{label:"Street",name:"street",type:"text",required:!0,hint:"Enter street address (up to 100 characters)"},{label:"City",name:"city",type:"text",required:!0,hint:"Enter city name (up to 50 characters)"},{label:"State",name:"state",type:"text",required:!0,hint:"Enter state name (up to 50 characters)"},{label:"Zip",name:"zip",type:"text",required:!0,hint:"Enter 6-digit Indian ZIP code"},{label:"Country",name:"country",type:"text",required:!0,hint:"Enter country name (up to 50 characters)"},{label:"District",name:"district",type:"text",required:!0,hint:"Enter district name (up to 50 characters)"}],education:[{label:"Degree Type",name:"degreeType",type:"text",required:!0,hint:"Enter degree name (up to 100 characters)"},{label:"Institution",name:"universityOrCollege",type:"text",required:!0,hint:"Enter university/college name (up to 200 characters)"},{label:"Specialization",name:"branchOrSpecialization",type:"text",required:!0,hint:"Enter branch or specialization (up to 100 characters)"},{label:"Start Month",name:"startMonth",type:"select",required:!0,options:["January","February","March","April","May","June","July","August","September","October","November","December"],hint:"Select the starting month"},{label:"Start Year",name:"startYear",type:"text",required:!0,hint:"Enter year between 1900-2099"},{label:"End Month",name:"endMonth",type:"select",required:!0,options:["January","February","March","April","May","June","July","August","September","October","November","December"],hint:"Select the ending month"},{label:"End Year",name:"endYear",type:"text",required:!0,hint:"Enter year between 1900-2099"},{label:"CGPA/Percentage",name:"cgpaOrPercentage",type:"text",required:!0,hint:"Enter CGPA or percentage (0-100)"},{label:"Degree Certificate",name:"addFiles",type:"file",required:!0,hint:"Upload degree certificate (JPG, PNG, PDF)"}],experience:[{label:"Company Name",name:"companyName",type:"text",required:!0,hint:"Enter company name (2-100 characters)"},{label:"Job Title",name:"jobTitle",type:"text",required:!0,hint:"Enter job title/position (2-100 characters)"},{label:"Location",name:"location",type:"text",required:!0,hint:"Enter work location/city"},{label:"Description",name:"description",type:"textarea",hint:"Describe your role and responsibilities (up to 1000 characters)"},{label:"Start Month",name:"startMonth",type:"select",required:!0,options:["January","February","March","April","May","June","July","August","September","October","November","December"],hint:"Select the starting month"},{label:"Start Year",name:"startYear",type:"text",required:!0,hint:"Enter 4-digit year (e.g., 2020)"},{label:"End Month",name:"endMonth",type:"select",required:!0,options:["January","February","March","April","May","June","July","August","September","October","November","December"],hint:"Select the ending month"},{label:"End Year",name:"endYear",type:"text",required:!0,hint:"Enter 4-digit year (e.g., 2023)"}]},p={primaryDetails:{icon:n.SNd,color:"from-blue-500 to-blue-700",bgColor:"bg-blue-50",darkBgColor:"bg-blue-900/20",borderColor:"border-blue-200",darkBorderColor:"border-blue-700",textColor:"text-blue-700",darkTextColor:"text-blue-400",title:"Primary Details",description:"Personal information and basic details"},contactDetails:{icon:n.SOx,color:"from-green-500 to-green-700",bgColor:"bg-green-50",darkBgColor:"bg-green-900/20",borderColor:"border-green-200",darkBorderColor:"border-green-700",textColor:"text-green-700",darkTextColor:"text-green-400",title:"Contact Details",description:"Email addresses and phone numbers"},address:{icon:n.o9J,color:"from-orange-500 to-orange-700",bgColor:"bg-orange-50",darkBgColor:"bg-orange-900/20",borderColor:"border-orange-200",darkBorderColor:"border-orange-700",textColor:"text-orange-700",darkTextColor:"text-orange-400",title:"Address Information",description:"Current residential address"},education:{icon:n.tY3,color:"from-yellow-500 to-amber-700",bgColor:"bg-yellow-50",darkBgColor:"bg-yellow-900/20",borderColor:"border-yellow-200",darkBorderColor:"border-yellow-700",textColor:"text-yellow-700",darkTextColor:"text-yellow-400",title:"Education Details",description:"Academic qualifications and achievements"},experience:{icon:n.ZDc,color:"from-indigo-500 to-indigo-700",bgColor:"bg-indigo-50",darkBgColor:"bg-indigo-900/20",borderColor:"border-indigo-200",darkBorderColor:"border-indigo-700",textColor:"text-indigo-700",darkTextColor:"text-indigo-400",title:"Previous Experience",description:"Professional work history"}},g=(e,t)=>{if(!e)return!1;if(Array.isArray(e))return e.length>0;const a=u[t];return!!a&&a.some(t=>{const a=e[t.name];return a&&""!==a&&null!==a&&void 0!==a})},h=()=>{const e=new Date,t=e.getFullYear()-18;return new Date(t,e.getMonth(),e.getDate()).toISOString().split("T")[0]},b=(e,t,a,r)=>{if(!t||""===t.trim())return null;const s=t.trim();switch(e){case"firstName":case"middleName":case"lastName":case"city":case"state":case"country":case"district":if(s.length>50)return"".concat(e," must not exceed 50 characters");if(!/^[A-Za-z\s]+$/.test(s))return"".concat(e," must contain only letters and spaces");break;case"displayName":if(s.length>100)return"Display name must not exceed 100 characters";break;case"nationality":if(s.length>50)return"Nationality must not exceed 50 characters";if(!/^[A-Za-z\s]+$/.test(s))return"Nationality must contain only letters and spaces";break;case"dateOfBirth":if(new Date(s)>=new Date)return"Date of birth must be in the past";if(!(e=>{if(!e)return!0;const t=new Date(e),a=new Date;return t<=new Date(a.getFullYear()-18,a.getMonth(),a.getDate())})(s))return"You must be at least 18 years old.";break;case"workEmail":case"personalEmail":if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))return"Please enter a valid email address";break;case"mobileNumber":const t=s.replace(/\D/g,"");if(10!==t.length)return"Mobile number must be exactly 10 digits";if(!/^[6-9]/.test(t))return"Indian mobile number must start with 6, 7, 8, or 9";break;case"workNumber":const a=s.replace(/\D/g,"");if(a.length<3||a.length>15)return"Work number must be between 3-15 digits";break;case"street":if(s.length>100)return"Street address must not exceed 100 characters";break;case"zip":if(6!==s.replace(/\D/g,"").length)return"ZIP code must be exactly 6 digits";break;case"degreeType":if(s.length>100)return"Degree type must not exceed 100 characters";break;case"universityOrCollege":if(s.length>200)return"Institution name must not exceed 200 characters";break;case"branchOrSpecialization":if(s.length>100)return"Specialization must not exceed 100 characters";break;case"startYear":case"endYear":const r=parseInt(s);if(isNaN(r)||r<1900||r>2099)return"Year must be between 1900-2099";break;case"cgpaOrPercentage":const l=parseFloat(s);if(isNaN(l)||l<0||l>100)return"CGPA/Percentage must be between 0-100";break;case"companyName":case"jobTitle":if(s.length<2||s.length>100)return"".concat(e," must be between 2-100 characters");break;case"description":if(s.length>1e3)return"Description must not exceed 1000 characters"}return null},y=e=>{var t;if(!navigator.onLine)return"No internet connection. Please check your network and try again.";if("NETWORK_ERROR"===e.code||"Network Error"===e.message)return"Network error occurred. Please check your internet connection and try again.";if("ECONNABORTED"===e.code||e.message.includes("timeout"))return"Request timed out. Please check your connection and try again.";if(!e.response)return e.request?"Unable to connect to the server. Please check your internet connection.":"An unexpected error occurred. Please try again.";switch(e.response.status){case 400:return(null===(t=e.response.data)||void 0===t?void 0:t.message)||"Invalid data provided. Please check all fields.";case 401:return"Session expired. Please log in again.";case 403:return"You do not have permission to perform this action.";case 404:return"Resource not found. Please refresh the page and try again.";case 500:return"Server error occurred. Please try again later.";case 502:case 503:case 504:return"Service temporarily unavailable. Please try again in a few moments.";default:return"An unexpected error occurred. Please try again."}};const f=function(){var e,t;const[a,d]=(0,s.useState)(null),[m,f]=(0,s.useState)(null),[v,j]=(0,s.useState)(null),[N,w]=(0,s.useState)(null),[k,C]=(0,s.useState)([]),[A,E]=(0,s.useState)([]),{theme:D,userData:S,matchedArray:I}=(0,s.useContext)(l.ob),[P,O]=(0,s.useState)({}),{empID:q}=(0,o.g)(),T=(0,o.zy)(),[B,L]=(0,s.useState)(!0),[F,M]=(0,s.useState)(!1),[Y,R]=(0,s.useState)({}),[z,G]=(0,s.useState)({completed:0,total:5}),[U,_]=(0,s.useState)(null),[J,V]=(0,s.useState)({}),[H,W]=(0,s.useState)({show:!1,section:null,onContinue:null}),[K,Z]=(0,s.useState)(null),[$,Q]=(0,s.useState)({show:!1,message:"",type:""}),X=new URLSearchParams(T.search),ee="true"===X.get("fromContextMenu"),te=X.get("targetEmployeeId"),ae=ee&&te?te:q,re=null===S||void 0===S?void 0:S.employeeId,se=String(re)===String(ae),le=null===I||void 0===I?void 0:I.includes("EDIT_PER"),oe=!se&&(!ee||ee&&!le);null===S||void 0===S||null===(e=S.roles)||void 0===e||null===(t=e[0])||void 0===t||t.toUpperCase(),(0,s.useEffect)(()=>{a&&localStorage.setItem("profile-editing-".concat(a.section),JSON.stringify(P))},[P,a]),(0,s.useEffect)(()=>{ee&&te&&console.log("Viewing profile from context menu for employee:",te);ae&&(async()=>{try{const[e,t,a,r,s]=await Promise.all([i.yE.get("employee/".concat(ae,"/primary/details")).catch(e=>({data:null})),i.yE.get("employee/".concat(ae,"/contact")).catch(e=>({data:null})),i.yE.get("employee/".concat(ae,"/address")).catch(e=>({data:null})),i.yE.get("employee/".concat(ae,"/degreeDetails")).catch(e=>({data:[]})),i.yE.get("employee/".concat(ae,"/previousExperience")).catch(e=>({data:[]}))]);f(e.data),j(t.data),w(a.data),C(r.data),E(s.data);const l=[g(e.data,"primaryDetails"),g(t.data,"contactDetails"),g(a.data,"address"),g(r.data,"education"),g(s.data,"experience")].filter(Boolean).length;G({completed:l,total:5})}catch(e){console.error("Failed to fetch data:",e)}finally{L(!1)}})()},[ae,ee,te]);const ne=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(oe)return void Q({show:!0,message:"You can only view this employee's profile. Editing is not allowed.",type:"error"});R({}),Z(null);const r=localStorage.getItem("profile-editing-".concat(e));if(!r||t||a){let r={};"primaryDetails"===e?r=m:"contactDetails"===e?r=v:"address"===e?r=N:"education"===e?r=t||(a||k&&0===k.length?{}:k[0]):"experience"===e&&(r=t||(a||A&&0===A.length?{}:A[0]));const s=r||{};O(s),V(s)}else{const e=JSON.parse(r);O(e),V(e)}_(null),d({section:e,isAdd:a||!t})},ie=(e,t)=>{var s;O(a=>(0,r.A)((0,r.A)({},a),{},{[e]:t})),Z(null),Y[e]&&R(t=>{const a=(0,r.A)({},t);return delete a[e],a});const l=null===(s=u[null===a||void 0===a?void 0:a.section])||void 0===s?void 0:s.find(t=>t.name===e);if(l){const a=b(e,t,l.hint,l.type);a&&R(t=>(0,r.A)((0,r.A)({},t),{},{[e]:a}))}},ce=async e=>{Z(null);const t={};if((u[e]||[]).forEach(e=>{const a=P[e.name];if(e.required&&(!a||"string"===typeof a&&""===a.trim()))"file"===e.type&&(P[e.name]||U)||(t[e.name]="".concat(e.label," is required"));else if(a&&"string"===typeof a&&""!==a.trim()){const r=b(e.name,a,e.hint,e.type);r&&(t[e.name]=r)}}),Object.keys(t).length>0)return void R(t);const a=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return!0;const a=e=>null===e||void 0===e?"":String(e).trim(),r=Object.keys(e||{}),s=Object.keys(t||{});if(r.length!==s.length)return!0;for(const l of r)if(a(e[l])!==a(t[l]))return!0;return!1}(P,J,U);a?de(e):W({show:!0,section:e,onContinue:()=>{W({show:!1,section:null,onContinue:null}),de(e)}})},de=async e=>{M(!0);let t=!1;try{switch(e){case"primaryDetails":t=await(async()=>{Z(null);try{const e="/employee/".concat(ae,"/primary/details");await i.yE.put(e,P);const t=await i.yE.get(e);f(t.data);const a=[g(t.data,"primaryDetails"),g(v,"contactDetails"),g(N,"address"),g(k,"education"),g(A,"experience")];return G({completed:a.filter(Boolean).length,total:5}),!0}catch(e){if(console.error("Failed to update primary details:",e),e.response&&400===e.response.status)R(e.response.data);else{const t=y(e);Z(t)}return!1}})();break;case"contactDetails":t=await(async()=>{Z(null);try{const e="/employee/".concat(ae,"/contact");await i.yE.put(e,P);const t=await i.yE.get(e);j(t.data);const a=[g(m,"primaryDetails"),g(t.data,"contactDetails"),g(N,"address"),g(k,"education"),g(A,"experience")];return G({completed:a.filter(Boolean).length,total:5}),!0}catch(e){if(console.error("Failed to update contact details:",e),e.response&&400===e.response.status)R(e.response.data);else{const t=y(e);Z(t)}return!1}})();break;case"address":t=await(async()=>{Z(null);try{const e="/employee/".concat(ae,"/address");await i.yE.put(e,P);const t=await i.yE.get(e);w(t.data);const a=[g(m,"primaryDetails"),g(v,"contactDetails"),g(t.data,"address"),g(k,"education"),g(A,"experience")];return G({completed:a.filter(Boolean).length,total:5}),!0}catch(e){if(console.error("Failed to update address:",e),e.response&&400===e.response.status)R(e.response.data);else{const t=y(e);Z(t)}return!1}})();break;case"education":t=await(async()=>{Z(null);try{const e=!(!P||!P.id),t=e?"put":"post",a=e?"/employee/".concat(ae,"/degreeDetails/").concat(P.id):"/employee/".concat(ae,"/degreeDetails"),r=new FormData;U&&r.append("addFiles",U),r.append("degree",new Blob([JSON.stringify(P)],{type:"application/json"})),await i.yE[t](a,r,{headers:{"Content-Type":"multipart/form-data"}});const s=await i.yE.get("employee/".concat(ae,"/degreeDetails"));C(s.data);const l=[g(m,"primaryDetails"),g(v,"contactDetails"),g(N,"address"),g(s.data,"education"),g(A,"experience")];return G({completed:l.filter(Boolean).length,total:5}),!0}catch(e){if(console.error("Failed to update education details:",e),e.response&&400===e.response.status)R(e.response.data);else{const t=y(e);Z(t)}return!1}})();break;case"experience":t=await(async()=>{Z(null);try{const e=!(!P||!P.id),t="/employee/".concat(ae,"/previousExperience/").concat(P.id);e?await i.yE.put(t,P):await i.yE.post("/employee/".concat(ae,"/previousExperience"),P);const a=await i.yE.get("employee/".concat(ae,"/previousExperience"));E(a.data);const r=[g(m,"primaryDetails"),g(v,"contactDetails"),g(N,"address"),g(k,"education"),g(a.data,"experience")];return G({completed:r.filter(Boolean).length,total:5}),!0}catch(e){if(console.error("Failed to update experience details:",e),e.response&&400===e.response.status)R(e.response.data);else{const t=y(e);Z(t)}return!1}})();break;default:console.error("Unknown section:",e),R({general:"Unknown section selected for update."})}}finally{M(!1)}t&&(d(null),R({}),Z(null),localStorage.removeItem("profile-editing-".concat(e)),Q({show:!0,message:"Profile section updated successfully!",type:"success"}))},me=()=>{a&&localStorage.removeItem("profile-editing-".concat(a.section)),d(null),Z(null)},xe=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";const o=Y[t],i=P[t]||"";return"file"===a?(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ".concat("dark"===D?"text-gray-200":"text-gray-800"),children:[e,r&&(0,c.jsx)("span",{className:"text-red-500 ml-1 text-sm sm:text-base",children:"*"})]}),l&&(0,c.jsx)("p",{className:"text-xs mb-2 ".concat("dark"===D?"text-gray-400":"text-gray-500"),children:l}),(0,c.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg sm:rounded-xl\n            ".concat(o?"border-red-300 bg-red-50":"dark"===D?"border-gray-600 bg-gray-800":"border-gray-300 bg-gray-50"),children:[(0,c.jsx)("input",{type:"file",onChange:e=>{var t,a;return a=null===(t=e.target.files)||void 0===t?void 0:t[0],void _(a)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:".jpg,.jpeg,.png,.pdf"}),(0,c.jsxs)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center",children:[(0,c.jsx)(n.xvb,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ".concat("dark"===D?"text-gray-500":"text-gray-400")}),(0,c.jsxs)("p",{className:"text-xs sm:text-sm font-medium mb-1 ".concat("dark"===D?"text-gray-300":"text-gray-700"),children:["Drop your file here, or ",(0,c.jsx)("span",{className:"text-blue-600",children:"browse"})]}),(0,c.jsx)("p",{className:"text-xs ".concat("text-gray-500"),children:"PNG, JPG, PDF up to 10MB"}),U&&(0,c.jsxs)("p",{className:"mt-2 text-xs sm:text-sm font-medium ".concat("dark"===D?"text-green-400":"text-green-600"),children:["Selected: ",U.name]})]})]}),o&&(0,c.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600",children:[(0,c.jsx)(n.tr_,{className:"w-4 h-4 flex-shrink-0"}),(0,c.jsx)("p",{className:"text-xs sm:text-sm font-medium",children:o})]})]},t):(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ".concat("dark"===D?"text-gray-200":"text-gray-800"),children:[e,r&&(0,c.jsx)("span",{className:"text-red-500 ml-1 text-sm sm:text-base",children:"*"})]}),l&&(0,c.jsx)("p",{className:"text-xs mb-2 ".concat("dark"===D?"text-gray-400":"text-gray-500"),children:l}),"select"===a?(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("select",{value:i,onChange:e=>ie(t,e.target.value),className:"w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl appearance-none text-sm\n                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\n                ".concat(o?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===D?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white"),children:[(0,c.jsxs)("option",{value:"",children:["Choose ",e]}),s.map(e=>(0,c.jsx)("option",{value:e,children:e},e))]}),(0,c.jsx)("div",{className:"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,c.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 ".concat("text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}):"date"===a?(0,c.jsx)("input",{type:"date",value:i,onChange:e=>ie(t,e.target.value),max:"dateOfBirth"===t?h():void 0,className:"w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl text-sm\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\n              ".concat(o?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===D?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white")}):"textarea"===a?(0,c.jsx)("textarea",{value:i,onChange:e=>ie(t,e.target.value),className:"w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl text-sm resize-none h-24 sm:h-32\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\n              ".concat(o?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===D?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white"),placeholder:"Enter ".concat(e.toLowerCase(),"..."),required:r}):(0,c.jsx)("input",{type:a,value:i,onChange:e=>ie(t,e.target.value),className:"w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl text-sm\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\n              ".concat(o?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===D?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white"),placeholder:"Enter ".concat(e.toLowerCase(),"..."),required:r}),o&&(0,c.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600",children:[(0,c.jsx)(n.tr_,{className:"w-4 h-4 flex-shrink-0"}),(0,c.jsx)("p",{className:"text-xs sm:text-sm font-medium",children:o})]})]},t)},ue=e=>{let{label:t,value:a}=e;return(0,c.jsx)("div",{className:"p-3 sm:p-4 rounded-lg sm:rounded-xl border ".concat("dark"===D?"bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100"),children:(0,c.jsx)("div",{className:"flex items-start justify-between",children:(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 ".concat("dark"===D?"text-gray-400":"text-gray-500"),children:t}),(0,c.jsx)("p",{className:"text-xs sm:text-sm font-semibold leading-relaxed break-words ".concat("dark"===D?"text-white":"text-gray-900"),children:a||(0,c.jsx)("span",{className:"italic ".concat("dark"===D?"text-gray-500":"text-gray-400"),children:"Not provided"})})]})})})},pe=e=>{let{type:t,item:a,index:r,onEdit:s}=e;const l=p[t],o=l.icon;return(0,c.jsxs)("div",{className:"col-span-full border-2 rounded-lg sm:rounded-xl p-4 sm:p-6 ".concat("dark"===D?"bg-gray-700 ".concat(l.darkBorderColor):"bg-gray-50 ".concat(l.borderColor)),children:[(0,c.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)("div",{className:"p-2 rounded-lg ".concat("dark"===D?"bg-gray-600":"bg-white"),children:(0,c.jsx)(o,{className:"w-5 h-5 ".concat("dark"===D?l.darkTextColor:l.textColor)})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-bold text-sm sm:text-base ".concat("dark"===D?"text-white":"text-gray-900"),children:"education"===t?a.degreeType:a.companyName}),(0,c.jsx)("p",{className:"text-xs sm:text-sm ".concat("dark"===D?"text-gray-400":"text-gray-600"),children:"education"===t?a.universityOrCollege:a.jobTitle})]})]}),!oe&&(0,c.jsx)("div",{className:"flex items-center space-x-2",children:(0,c.jsx)("button",{onClick:()=>s(a),className:"p-2 rounded-lg ".concat("dark"===D?"bg-blue-600 text-white":"bg-blue-500 text-white"),title:"Edit",children:(0,c.jsx)(n.BKi,{className:"w-4 h-4"})})})]}),(0,c.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:"education"===t?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ue,{label:"Specialization",value:a.branchOrSpecialization}),(0,c.jsx)(ue,{label:"Years",value:"".concat(a.startYear," - ").concat(a.endYear)}),(0,c.jsx)(ue,{label:"CGPA/Percentage",value:a.cgpaOrPercentage}),a.addFiles&&(0,c.jsx)("div",{className:"col-span-full",children:(0,c.jsxs)("a",{href:a.addFiles,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 p-2 sm:p-3 rounded-lg border ".concat("dark"===D?"bg-gray-600 border-gray-500 text-white":"bg-white border-gray-200 text-gray-900"),children:[(0,c.jsx)(n.G3G,{className:"w-4 h-4 text-green-500"}),(0,c.jsx)("span",{className:"font-semibold text-xs sm:text-sm",children:"View Certificate"})]})})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ue,{label:"Location",value:a.location}),(0,c.jsx)(ue,{label:"Duration",value:"".concat(a.startMonth," ").concat(a.startYear," - ").concat(a.endMonth?a.endMonth+" "+a.endYear:"Present")}),(0,c.jsx)(ue,{label:"Description",value:a.description})]})})]})},ge=e=>{let{sectionKey:t,title:a,children:r,data:s}=e;const l=p[t],o=l.icon,i=g(s,t);return(0,c.jsxs)("div",{className:"border-2 rounded-none sm:rounded-2xl shadow-lg\n                         overflow-hidden mb-6 sm:mb-8 ".concat("dark"===D?"bg-gray-800 ".concat(l.darkBorderColor):"bg-white ".concat(l.borderColor)),children:[(0,c.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b-2 relative overflow-hidden ".concat("dark"===D?"".concat(l.darkBgColor," ").concat(l.darkBorderColor):"".concat(l.bgColor," ").concat(l.borderColor)),children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/30"}),(0,c.jsxs)("div",{className:"relative flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,c.jsx)("div",{className:"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl shadow-md flex-shrink-0 ".concat("dark"===D?"bg-gray-700":"bg-white"),children:(0,c.jsx)(o,{className:"w-6 h-6 sm:w-8 sm:h-8 ".concat("dark"===D?l.darkTextColor:l.textColor)})}),(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsxs)("h4",{className:"font-bold text-lg sm:text-xl flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 ".concat("dark"===D?l.darkTextColor:l.textColor),children:[(0,c.jsx)("span",{className:"break-words",children:a}),i&&(0,c.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,c.jsx)(n.G3G,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"}),(0,c.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Complete"})]})]}),(0,c.jsx)("p",{className:"text-xs sm:text-sm mt-1 break-words ".concat("dark"===D?"text-gray-400":"text-gray-600"),children:l.description})]})]}),(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[("education"===t||"experience"===t)&&!oe&&(0,c.jsxs)("button",{onClick:()=>ne(t,null,!0),className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-lg sm:rounded-xl shadow-lg text-sm",children:[(0,c.jsx)(n.YHj,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,c.jsxs)("span",{className:"hidden sm:inline",children:["Add ","education"===t?"Education":"Experience"]}),(0,c.jsx)("span",{className:"sm:hidden",children:"Add"})]}),!oe&&!["education","experience"].includes(t)&&(0,c.jsx)("button",{onClick:()=>ne(t),className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 cursor-pointer rounded-lg sm:rounded-xl font-semibold\n                                 focus:ring-4 focus:ring-blue-500/20 shadow-md text-sm\n                                 ".concat(i?"dark"===D?"".concat(l.darkTextColor," bg-gray-700 border-2 ").concat(l.darkBorderColor):"".concat(l.textColor," bg-white border-2 ").concat(l.borderColor):"bg-gradient-to-r from-blue-500 to-indigo-600 text-white"),children:i?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.BKi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,c.jsx)("span",{className:"hidden sm:inline",children:"Edit Details"}),(0,c.jsx)("span",{className:"sm:hidden",children:"Edit"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.YHj,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,c.jsx)("span",{className:"hidden sm:inline",children:"Add Information"}),(0,c.jsx)("span",{className:"sm:hidden",children:"Add"})]})}),oe&&(0,c.jsxs)("div",{className:"px-4 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-sm ".concat("dark"===D?"bg-gray-700 text-gray-400 border-2 border-gray-600":"bg-gray-100 text-gray-500 border-2 border-gray-300"),children:[(0,c.jsx)(n.GNz,{className:"w-3 h-3 sm:w-4 sm:h-4 inline mr-2"}),(0,c.jsx)("span",{children:"View Only"})]})]})]})]}),(0,c.jsx)("div",{className:"p-4 sm:p-6 md:p-8",children:i?(0,c.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:r}):(0,c.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,c.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ".concat("dark"===D?l.darkBgColor:l.bgColor),children:(0,c.jsx)(o,{className:"w-8 h-8 sm:w-10 sm:h-10 opacity-50 ".concat("dark"===D?l.darkTextColor:l.textColor)})}),(0,c.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-2 ".concat("dark"===D?"text-white":"text-gray-800"),children:["No ",a," Added"]}),(0,c.jsx)("p",{className:"text-sm mb-4 sm:mb-6 max-w-sm mx-auto px-4 ".concat("dark"===D?"text-gray-400":"text-gray-500"),children:oe?"This employee hasn't added their ".concat(a.toLowerCase()," information yet."):"Add your ".concat(a.toLowerCase()," to complete your profile information.")}),!oe&&(0,c.jsxs)("button",{onClick:()=>ne(t,null,!0),className:"inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600\r text-white font-semibold rounded-lg sm:rounded-xl shadow-lg text-sm",children:[(0,c.jsx)(n.YHj,{className:"w-4 h-4"}),(0,c.jsxs)("span",{children:["Add ",a]})]})]})})]})},he=()=>{const e=[g(m,"primaryDetails"),g(v,"contactDetails"),g(N,"address"),g(k,"education"),g(A,"experience")],t=e.filter(Boolean).length,a=e.length,r=a>0?t/a*100:0;return(0,c.jsxs)("div",{className:"rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border ".concat("dark"===D?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,c.jsx)("h3",{className:"text-base sm:text-lg font-bold ".concat("dark"===D?"text-white":"text-gray-800"),children:oe?"Profile Status":"Profile Completion"}),(0,c.jsxs)("span",{className:"text-sm font-medium ".concat("dark"===D?"text-gray-400":"text-gray-600"),children:[t,"/",a," Sections"]})]}),(0,c.jsx)("div",{className:"w-full rounded-full h-2 sm:h-3 mb-3 sm:mb-4 overflow-hidden ".concat("dark"===D?"bg-gray-700":"bg-gray-200"),children:(0,c.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 sm:h-3 rounded-full",style:{width:"".concat(r,"%")}})}),(0,c.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,c.jsxs)("span",{className:"".concat("dark"===D?"text-gray-400":"text-gray-600"),children:[r.toFixed(0),"% Complete"]}),100===r&&(0,c.jsxs)("span",{className:"text-green-600 font-semibold flex items-center",children:[(0,c.jsx)(n.G3G,{className:"w-4 h-4 mr-1"}),"All Set!"]})]})]})};return B?(0,c.jsx)("div",{className:"min-h-screen ".concat("dark"===D?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:"rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6"}),(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsx)(n.SNd,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-500"})})]}),(0,c.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 ".concat("dark"===D?"text-white":"text-gray-800"),children:"Loading Profile"}),(0,c.jsx)("p",{className:"text-sm sm:text-base ".concat("dark"===D?"text-gray-300":"text-gray-600"),children:"Fetching profile information..."}),(0,c.jsx)("div",{className:"flex justify-center space-x-2 mt-4",children:[...Array(4)].map((e,t)=>(0,c.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"},t))})]})})}):(0,c.jsx)("div",{className:"min-h-screen ".concat("dark"===D?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,c.jsxs)("div",{className:"max-w-8xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-6 sm:py-8 md:py-12",children:[ee&&(0,c.jsx)("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-l-4 border-blue-500 shadow-lg ".concat("dark"===D?"bg-blue-900/20 border-blue-400":"bg-blue-50 border-blue-500"),children:(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)(n.GNz,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 ".concat("dark"===D?"text-blue-400":"text-blue-600")}),(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsx)("p",{className:"font-semibold text-sm sm:text-base ".concat("dark"===D?"text-blue-400":"text-blue-800"),children:"Viewing Employee Profile"}),(0,c.jsxs)("p",{className:"text-xs sm:text-sm break-words ".concat("dark"===D?"text-blue-300":"text-blue-700"),children:["Employee ID: ",te,oe&&" \u2022 Read-only access"]})]})]})}),(0,c.jsx)("div",{className:"mb-8 sm:mb-12 mx-4 sm:mx-0",children:(0,c.jsx)(he,{})}),(0,c.jsx)("div",{className:"space-y-6 sm:space-y-8",children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(ge,{sectionKey:"primaryDetails",title:"Primary Details",data:m,children:[(0,c.jsx)(ue,{label:"First Name",value:null===m||void 0===m?void 0:m.firstName}),(0,c.jsx)(ue,{label:"Middle Name",value:null===m||void 0===m?void 0:m.middleName}),(0,c.jsx)(ue,{label:"Last Name",value:null===m||void 0===m?void 0:m.lastName}),(0,c.jsx)(ue,{label:"Display Name",value:null===m||void 0===m?void 0:m.displayName}),(0,c.jsx)(ue,{label:"Gender",value:null===m||void 0===m?void 0:m.gender}),(0,c.jsx)(ue,{label:"Date of Birth",value:null===m||void 0===m?void 0:m.dateOfBirth}),(0,c.jsx)(ue,{label:"Marital Status",value:null===m||void 0===m?void 0:m.maritalStatus}),(0,c.jsx)(ue,{label:"Blood Group",value:null===m||void 0===m?void 0:m.bloodGroup}),(0,c.jsx)(ue,{label:"Physically Handicapped",value:null===m||void 0===m?void 0:m.physicallyHandicapped}),(0,c.jsx)(ue,{label:"Nationality",value:null===m||void 0===m?void 0:m.nationality})]}),(0,c.jsxs)(ge,{sectionKey:"contactDetails",title:"Contact Details",data:v,children:[(0,c.jsx)(ue,{label:"Work Email",value:null===v||void 0===v?void 0:v.workEmail}),(0,c.jsx)(ue,{label:"Personal Email",value:null===v||void 0===v?void 0:v.personalEmail}),(0,c.jsx)(ue,{label:"Mobile Number",value:null===v||void 0===v?void 0:v.mobileNumber}),(0,c.jsx)(ue,{label:"Work Number",value:null===v||void 0===v?void 0:v.workNumber})]}),(0,c.jsxs)(ge,{sectionKey:"address",title:"Address Information",data:N,children:[(0,c.jsx)(ue,{label:"Street",value:null===N||void 0===N?void 0:N.street}),(0,c.jsx)(ue,{label:"City",value:null===N||void 0===N?void 0:N.city}),(0,c.jsx)(ue,{label:"State",value:null===N||void 0===N?void 0:N.state}),(0,c.jsx)(ue,{label:"Zip",value:null===N||void 0===N?void 0:N.zip}),(0,c.jsx)(ue,{label:"Country",value:null===N||void 0===N?void 0:N.country}),(0,c.jsx)(ue,{label:"District",value:null===N||void 0===N?void 0:N.district})]}),(0,c.jsx)(ge,{sectionKey:"education",title:"Education Details",data:k,children:null===k||void 0===k?void 0:k.map((e,t)=>(0,c.jsx)(pe,{type:"education",item:e,index:t,onEdit:e=>ne("education",e)},e.id||t))}),(0,c.jsx)(ge,{sectionKey:"experience",title:"Previous Experience",data:A,children:null===A||void 0===A?void 0:A.map((e,t)=>(0,c.jsx)(pe,{type:"experience",item:e,index:t,onEdit:e=>ne("experience",e)},e.id||t))})]})}),(()=>{if(!a)return null;const{section:e,isAdd:t}=a,r=u[e]||[],s=p[e],l=s.icon;return(0,c.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4",children:(0,c.jsxs)("div",{className:"rounded-2xl sm:rounded-3xl w-full max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl flex flex-col ".concat("dark"===D?"bg-gray-800":"bg-white"),children:[(0,c.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ".concat(s.color," text-white relative overflow-hidden"),children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,c.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,c.jsx)("div",{className:"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl flex-shrink-0",children:(0,c.jsx)(l,{className:"w-6 h-6 sm:w-8 sm:h-8"})}),(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold break-words",children:t?"Add ".concat(s.title):"Edit ".concat(s.title)}),(0,c.jsx)("p",{className:"text-white/90 text-xs sm:text-sm break-words",children:s.description})]})]}),(0,c.jsx)("button",{onClick:me,className:"p-2 sm:p-3 rounded-full flex-shrink-0","aria-label":"Close",children:(0,c.jsx)(n.$8F,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]}),(0,c.jsx)("div",{className:"overflow-y-auto flex-grow",children:(0,c.jsxs)("form",{className:"p-4 sm:p-6 md:p-8",onSubmit:t=>{t.preventDefault(),ce(e)},children:[(0,c.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:r.map(e=>xe(e.label,e.name,e.type,e.required,e.options,e.hint))}),K&&(0,c.jsx)("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 md:p-5 border-l-4 border-red-400 rounded-r-lg sm:rounded-r-xl ".concat("dark"===D?"bg-red-900/20":"bg-red-50"),children:(0,c.jsxs)("div",{className:"flex items-start",children:[(0,c.jsx)(n.tr_,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400 mr-3 flex-shrink-0 mt-0.5"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("h4",{className:"font-medium text-sm ".concat("dark"===D?"text-red-300":"text-red-800"),children:"Network Error"}),(0,c.jsx)("p",{className:"font-medium text-sm mt-1 ".concat("dark"===D?"text-red-300":"text-red-800"),children:K})]})]})}),Y.general&&(0,c.jsx)("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 md:p-5 border-l-4 border-red-400 rounded-r-lg sm:rounded-r-xl ".concat("dark"===D?"bg-red-900/20":"bg-red-50"),children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(n.tr_,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400 mr-3 flex-shrink-0"}),(0,c.jsx)("p",{className:"font-medium text-sm ".concat("dark"===D?"text-red-300":"text-red-800"),children:Y.general})]})})]})}),(0,c.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 ".concat("dark"===D?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:[(0,c.jsx)("button",{type:"button",onClick:me,className:"w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold focus:ring-4 focus:ring-gray-500/20 text-sm ".concat("dark"===D?"border-gray-600 text-gray-300 bg-gray-600":"border-gray-300 text-gray-700 bg-white"),children:"Cancel"}),(0,c.jsx)("button",{type:"button",onClick:()=>ce(e),disabled:F,className:"w-full sm:w-auto px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r ".concat(s.color," text-white font-bold rounded-lg sm:rounded-xl\n                focus:ring-4 focus:ring-blue-500/30 flex items-center justify-center space-x-2 text-sm\n                ").concat(F?"cursor-not-allowed opacity-75":""),children:F?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full"}),(0,c.jsx)("span",{children:t?"Adding...":"Updating..."})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.G3G,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,c.jsx)("span",{children:t?"Add Information":"Update Information"})]})})]})]})})})(),$.show&&(0,c.jsxs)(x,{onClose:()=>Q({show:!1,message:"",type:""}),title:"success"===$.type?"Success":"Error",type:$.type,theme:D,children:[(0,c.jsx)("p",{className:"mb-4 sm:mb-6 text-sm ".concat("dark"===D?"text-gray-300":"text-gray-700"),children:$.message}),(0,c.jsx)("div",{className:"flex justify-end",children:(0,c.jsx)("button",{onClick:()=>Q({show:!1,message:"",type:""}),className:"".concat("success"===$.type?"bg-green-600":"bg-red-600"," text-white font-semibold py-2 px-4 sm:px-6 rounded-lg text-sm"),children:"OK"})})]}),H.show&&(0,c.jsxs)(x,{onClose:()=>W({show:!1,section:null,onContinue:null}),title:"No Changes Detected",type:"confirm",theme:D,children:[(0,c.jsx)("p",{className:"mb-4 sm:mb-6 text-sm ".concat("dark"===D?"text-gray-300":"text-gray-700"),children:"You haven't made any changes to the form. Are you sure you want to submit without any modifications?"}),(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3",children:[(0,c.jsx)("button",{onClick:()=>W({show:!1,section:null,onContinue:null}),className:"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-sm ".concat("dark"===D?"bg-gray-600 text-gray-200":"bg-gray-200 text-gray-700"),children:"Go Back & Make Changes"}),(0,c.jsx)("button",{onClick:H.onContinue,className:"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white bg-yellow-600 text-sm",children:"Continue Anyway"})]})]})]})})},v=[{label:"SHIFT",value:"10 AM - 8 PM"},{label:"WEEKLY OFF POLICY",value:"All Sat - Sun"},{label:"LEAVE PLAN",value:"Leave Plan"},{label:"HOLIDAY CALENDAR",value:"Anasol Holiday Plan"},{label:"ATTENDANCE NUMBER",value:"-"},{label:"PAYROLL TIME SOURCE",value:"Attendance"},{label:"ATTENDANCE CAPTURE SCHEME",value:"Capture Scheme Anasol"},{label:"ATTENDANCE PENALIZATION POLICY",value:"Anasol Penalization Policy"},{label:"SHIFT WEEKLY OFF RULE",value:"-Not Set-"},{label:"SHIFT ALLOWANCE POLICY",value:"-Not Set-"},{label:"OVERTIME",value:"-Not Set-"}],j=[{label:"EXPENSE POLICY",value:"-"},{label:"TIMESHEET POLICY",value:"-"},{label:"LOAN POLICY",value:"-"},{label:"AIR TICKET POLICY",value:"-"}],N=[{label:"BUSINESS UNIT",value:"-"},{label:"DEPARTMENT",value:"Software Development"},{label:"LOCATION",value:"ANASOL CONSULTANCY SERVICES PRIVATE..."},{label:"COST CENTER",value:"-Not Set-"},{label:"LEGAL ENTITY",value:"ANASOL PRIVATE LIMITED"},{label:"REPORTS TO",value:"-"},{label:"MANAGER OF MANAGER (L2 MANAGER)",value:"-"},{label:"DIRECT REPORTS",value:"0 Employees"}],w={jobDetails:{icon:n.ZDc,color:"from-blue-500 to-blue-700",bgColor:"bg-blue-50",darkBgColor:"bg-blue-900/20",borderColor:"border-blue-200",darkBorderColor:"border-blue-700",textColor:"text-blue-700",darkTextColor:"text-blue-400",title:"Job Details",description:"Employment information and job specifications"},employeeTime:{icon:n.YmN,color:"from-green-500 to-green-700",bgColor:"bg-green-50",darkBgColor:"bg-green-900/20",borderColor:"border-green-200",darkBorderColor:"border-green-700",textColor:"text-green-700",darkTextColor:"text-green-400",title:"Employee Time",description:"Work schedule and attendance policies"},otherPolicies:{icon:n.Zno,color:"from-orange-500 to-orange-700",bgColor:"bg-orange-50",darkBgColor:"bg-orange-900/20",borderColor:"border-orange-200",darkBorderColor:"border-orange-700",textColor:"text-orange-700",darkTextColor:"text-orange-400",title:"Other Policies",description:"Additional company policies and guidelines"},organizationDetails:{icon:n.JDl,color:"from-purple-500 to-purple-700",bgColor:"bg-purple-50",darkBgColor:"bg-purple-900/20",borderColor:"border-purple-200",darkBorderColor:"border-purple-700",textColor:"text-purple-700",darkTextColor:"text-purple-400",title:"Organization Details",description:"Departmental and reporting structure"}},k=e=>{let{label:t,value:a,note:r,status:s,theme:l}=e;return(0,c.jsx)("div",{className:"p-3 sm:p-4 rounded-none sm:rounded-lg md:rounded-xl border ".concat("dark"===l?"bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100"),children:(0,c.jsx)("div",{className:"flex items-start justify-between",children:(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 ".concat("dark"===l?"text-gray-400":"text-gray-500"),children:t}),"active"===s?(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,c.jsx)("span",{className:"text-sm font-semibold break-words ".concat("dark"===l?"text-white":"text-gray-900"),children:a})]}),r&&(0,c.jsx)("span",{className:"text-xs px-2 py-1 rounded-full break-words ".concat("dark"===l?"text-gray-400 bg-gray-700":"text-gray-500 bg-gray-100"),children:r})]}):(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm font-semibold leading-relaxed break-words ".concat("dark"===l?"text-white":"text-gray-900"),children:a||(0,c.jsx)("span",{className:"italic ".concat("dark"===l?"text-gray-500":"text-gray-400"),children:"Not provided"})}),r&&(0,c.jsx)("p",{className:"text-xs mt-1 px-2 py-1 rounded-md inline-block break-words ".concat("dark"===l?"bg-blue-900/40 text-blue-300":"bg-blue-50 text-blue-700"),children:r})]})]})})})},C=e=>{let{sectionKey:t,title:a,data:r,children:s,theme:l}=e;const o=w[t],i=o.icon,d=r&&r.length>0;return(0,c.jsxs)("div",{className:"border-2 rounded-none sm:rounded-xl md:rounded-2xl shadow-lg overflow-hidden mb-4 sm:mb-6 md:mb-8 ".concat("dark"===l?"bg-gray-800 ".concat(o.darkBorderColor):"bg-white ".concat(o.borderColor)),children:[(0,c.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b-2 relative overflow-hidden ".concat("dark"===l?"".concat(o.darkBgColor," ").concat(o.darkBorderColor):"".concat(o.bgColor," ").concat(o.borderColor)),children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/30"}),(0,c.jsx)("div",{className:"relative flex items-center justify-between",children:(0,c.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,c.jsx)("div",{className:"p-2 sm:p-3 rounded-lg sm:rounded-xl shadow-md ".concat("dark"===l?"bg-gray-700":"bg-white"),children:(0,c.jsx)(i,{className:"w-6 h-6 sm:w-8 sm:h-8 ".concat("dark"===l?o.darkTextColor:o.textColor)})}),(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsxs)("h4",{className:"text-lg sm:text-xl font-bold flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 ".concat("dark"===l?o.darkTextColor:o.textColor),children:[(0,c.jsx)("span",{className:"break-words",children:a}),d&&(0,c.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,c.jsx)(n.G3G,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"}),(0,c.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Active"})]})]}),(0,c.jsx)("p",{className:"text-xs sm:text-sm mt-1 break-words ".concat("dark"===l?"text-gray-400":"text-gray-600"),children:o.description})]})]})})]}),(0,c.jsx)("div",{className:"p-4 sm:p-6 md:p-8",children:d?(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-3 md:gap-4",children:[r.map((e,t)=>(0,c.jsx)(k,{label:e.label,value:e.value,note:e.note,status:e.status,theme:l},t)),s]}):(0,c.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,c.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ".concat("dark"===l?o.darkBgColor:o.bgColor),children:(0,c.jsx)(i,{className:"w-8 h-8 sm:w-10 sm:h-10 opacity-50 ".concat("dark"===l?o.darkTextColor:o.textColor)})}),(0,c.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-2 ".concat("dark"===l?"text-white":"text-gray-800"),children:["No ",a," Available"]}),(0,c.jsxs)("p",{className:"text-sm mb-4 sm:mb-6 max-w-sm mx-auto px-4 ".concat("dark"===l?"text-gray-400":"text-gray-500"),children:[a," information is not currently available or configured."]})]})})]})},A=e=>{let{completedSections:t,totalSections:a,theme:r}=e;const s=t/a*100;return(0,c.jsxs)("div",{className:"rounded-none sm:rounded-xl md:rounded-2xl p-4 sm:p-6 shadow-lg border ".concat("dark"===r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,c.jsx)("h3",{className:"text-base sm:text-lg font-bold ".concat("dark"===r?"text-white":"text-gray-800"),children:"Job Information"}),(0,c.jsxs)("span",{className:"text-sm font-medium ".concat("dark"===r?"text-gray-400":"text-gray-600"),children:[t,"/",a," Sections"]})]}),(0,c.jsx)("div",{className:"w-full rounded-full h-2 sm:h-3 mb-3 sm:mb-4 overflow-hidden ".concat("dark"===r?"bg-gray-700":"bg-gray-200"),children:(0,c.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 sm:h-3 rounded-full",style:{width:"".concat(s,"%")}})}),(0,c.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,c.jsxs)("span",{className:"".concat("dark"===r?"text-gray-400":"text-gray-600"),children:[s.toFixed(0),"% Complete"]}),100===s&&(0,c.jsxs)("span",{className:"text-green-600 font-semibold flex items-center",children:[(0,c.jsx)(n.G3G,{className:"w-4 h-4 mr-1"}),"All Set!"]})]})]})},E=e=>{let{theme:t}=e;const[a,r]=(0,s.useState)(!1);return(0,c.jsxs)("div",{className:"col-span-1 lg:col-span-2 p-4 sm:p-6 rounded-none sm:rounded-lg md:rounded-xl border ".concat("dark"===t?"bg-gradient-to-br from-indigo-900/30 to-purple-900/30 border-indigo-700":"bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-200"),children:[(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsx)("h4",{className:"text-sm font-semibold mb-1 ".concat("dark"===t?"text-white":"text-gray-800"),children:"Attendance Tracking"}),(0,c.jsx)("p",{className:"text-xs break-words ".concat("dark"===t?"text-gray-400":"text-gray-600"),children:"Control automated attendance monitoring"})]}),(0,c.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[(0,c.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:a,onChange:e=>r(e.target.checked)}),(0,c.jsx)("div",{className:"w-12 h-7 sm:w-14 sm:h-8 rounded-full peer \n                         peer-checked:after:translate-x-5 sm:peer-checked:after:translate-x-6 peer-checked:after:border-white \n                         after:content-[''] after:absolute after:top-1 after:left-1 \n                         after:bg-white after:border after:rounded-full \n                         after:h-5 after:w-5 sm:after:h-6 sm:after:w-6 after:shadow-md\n                         peer-checked:bg-gradient-to-r peer-checked:from-purple-500 peer-checked:to-indigo-600 ".concat("dark"===t?"bg-gray-600 after:border-gray-500":"bg-gray-200 after:border-gray-300")}),(0,c.jsx)("span",{className:"ml-3 text-sm font-medium ".concat("dark"===t?"text-gray-300":"text-gray-700"),children:a?"Disabled":"Enabled"})]})]}),a&&(0,c.jsx)("div",{className:"mt-3 p-3 border rounded-lg ".concat("dark"===t?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"),children:(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(n.tr_,{className:"w-4 h-4 text-yellow-600 flex-shrink-0"}),(0,c.jsx)("p",{className:"text-xs break-words ".concat("dark"===t?"text-yellow-300":"text-yellow-700"),children:"Attendance tracking is currently disabled for this employee"})]})})]})},D=()=>{const{empID:e}=(0,o.g)(),t=(0,o.zy)(),{theme:a}=(0,s.useContext)(l.ob),[r,d]=(0,s.useState)(null),[m,x]=(0,s.useState)(null),[u,p]=(0,s.useState)(!0),[g,h]=(0,s.useState)({completed:0,total:4}),b=new URLSearchParams(t.search),y="true"===b.get("fromContextMenu"),f=b.get("targetEmployeeId"),w=y&&f?f:e,k=y&&f&&f!==e;return(0,s.useEffect)(()=>{(async()=>{try{let e=await i.yE.get("employee/".concat(w,"/job/details"));console.log("job data : ",e.data),d(e.data)}catch(e){console.log("job error : ",e)}finally{p(!1)}})()},[w]),(0,s.useEffect)(()=>{if(r){const e=[{label:"EMPLOYEE NUMBER",value:r.employeeId},{label:"DATE OF JOINING",value:r.dateOfJoining},{label:"JOB TITLE - PRIMARY",value:r.jobTitlePrimary},{label:"JOB TITLE - SECONDARY",value:r.jobTitleSecondary||"-"},{label:"IN PROBATION?",value:"".concat(r.inProbation," ").concat(r.probationStartDate||"-"," - ").concat(r.probationEndDate||"-"),note:r.probationPolicy||"Default Probation Policy"},{label:"NOTICE PERIOD",value:"-"},{label:"WORKER TYPE",value:r.workerType||"Intern"},{label:"TIME TYPE",value:r.timeType},{label:"CONTRACT STATUS",value:r.contractStatus,note:r.contractStartDate,status:"Active"===r.contractStatus?"active":""}];x(e);const t=[r,v,j,N].filter(e=>e&&e.length>0).length;h({completed:t||1,total:4})}},[r]),u?(0,c.jsx)("div",{className:"min-h-screen ".concat("dark"===a?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:"rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6"}),(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsx)(n.ZDc,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-500"})})]}),(0,c.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 ".concat("dark"===a?"text-white":"text-gray-800"),children:"Loading Job Information"}),(0,c.jsx)("p",{className:"text-sm sm:text-base ".concat("dark"===a?"text-gray-300":"text-gray-600"),children:"Fetching employment details and policies..."})]})})}):m?(0,c.jsx)("div",{className:"min-h-screen ".concat("dark"===a?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,c.jsxs)("div",{className:"max-w-7xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8 lg:py-12",children:[y&&(0,c.jsx)("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-xl md:rounded-2xl border-l-4 border-blue-500 shadow-lg ".concat("dark"===a?"bg-blue-900/20 border-blue-400":"bg-blue-50 border-blue-500"),children:(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)(n.GNz,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 ".concat("dark"===a?"text-blue-400":"text-blue-600")}),(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsx)("p",{className:"font-semibold text-sm sm:text-base ".concat("dark"===a?"text-blue-400":"text-blue-800"),children:"Viewing Employee Job Details"}),(0,c.jsxs)("p",{className:"text-xs sm:text-sm break-words ".concat("dark"===a?"text-blue-300":"text-blue-700"),children:["Employee ID: ",f,k&&" \u2022 Read-only access"]})]})]})}),(0,c.jsx)("div",{className:"mb-6 sm:mb-8 md:mb-12 mx-4 sm:mx-0",children:(0,c.jsx)(A,{completedSections:g.completed,totalSections:g.total,theme:a})}),(0,c.jsxs)("div",{className:"space-y-4 sm:space-y-6 md:space-y-8",children:[(0,c.jsx)(C,{sectionKey:"jobDetails",title:"Job Details",data:m,theme:a}),(0,c.jsx)(C,{sectionKey:"employeeTime",title:"Employee Time",data:v,theme:a,children:(0,c.jsx)(E,{theme:a})}),(0,c.jsx)(C,{sectionKey:"otherPolicies",title:"Other Policies",data:j,theme:a}),(0,c.jsx)(C,{sectionKey:"organizationDetails",title:"Organization Details",data:N,theme:a})]})]})}):(0,c.jsx)("div",{className:"min-h-screen ".concat("dark"===a?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ".concat("dark"===a?"bg-red-900/30":"bg-red-100"),children:(0,c.jsx)(n.tr_,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-500"})}),(0,c.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 ".concat("dark"===a?"text-white":"text-gray-800"),children:"Unable to Load Job Details"}),(0,c.jsx)("p",{className:"text-sm sm:text-base ".concat("dark"===a?"text-gray-300":"text-gray-600"),children:"Job information is not available for this employee."})]})})})},S=e=>{let t,{children:a,onClose:r,title:s,type:l,theme:o}=e,i=null;return"success"===l?(t="text-green-600",i=(0,c.jsx)(n.G3G,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-500"})):"error"===l?(t="text-red-600",i=(0,c.jsx)(n.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-500"})):"confirm"===l&&(t="text-yellow-600",i=(0,c.jsx)(n.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500"})),(0,c.jsx)("div",{className:"fixed inset-0 /60 backdrbg-blackop-blur-md flex justify-center items-center z-250",children:(0,c.jsxs)("div",{className:"p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-md m-4 border ".concat("dark"===o?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,c.jsxs)("div",{className:"flex items-center mb-4",children:[i&&(0,c.jsx)("span",{className:"mr-3",children:i}),(0,c.jsx)("h3",{className:"text-lg sm:text-xl font-bold ".concat(t),children:s})]}),a]})})},I={aadhaar:[{label:"Aadhaar Number",name:"aadhaarNumber",type:"text",required:!0,hint:"Must be 12 digits starting with 2-9 (e.g., 234567891012)"},{label:"Enrollment Number",name:"enrollmentNumber",type:"text",required:!0,hint:"Format: 1234/12345/1234567"},{label:"Date of Birth",name:"dateOfBirth",type:"date",required:!0,hint:"Select your birth date"},{label:"Name",name:"aadhaarName",type:"text",required:!0,hint:"Name as per Aadhaar card (3-50 characters)"},{label:"Address",name:"address",type:"textarea",required:!0,hint:"Complete address as per Aadhaar (10-200 characters)"},{label:"Gender",name:"gender",type:"select",options:["Male","Female","Other"],required:!0,hint:"Select your gender"},{label:"Aadhaar Image",name:"aadhaarImage",type:"file",required:!0,hint:"Upload clear image of your Aadhaar card"}],pan:[{label:"PAN Number",name:"panNumber",type:"text",required:!0,hint:"10-character format: 5 letters + 4 digits + 1 letter (e.g., ABCDE1234F)"},{label:"PAN Name",name:"panName",type:"text",required:!0,hint:"Name as per PAN card (3-100 characters)"},{label:"Date of Birth",name:"dateOfBirth",type:"text",required:!0,hint:"Format: YYYY-MM-DD (e.g., 1990-01-15)"},{label:"Parent's Name",name:"parentsName",type:"text",required:!0,hint:"Father's or mother's name as per PAN"},{label:"PAN Image",name:"panImage",type:"file",required:!0,hint:"Upload clear image of your PAN card"}],drivingLicense:[{label:"License Number",name:"licenseNumber",type:"text",required:!0,hint:"Your driving license number (up to 20 characters)"},{label:"Name",name:"name",type:"text",required:!0,hint:"Name as per driving license (up to 100 characters)"},{label:"Date of Birth",name:"dateOfBirth",type:"date",required:!0,hint:"Select your birth date as per license"},{label:"Blood Group",name:"bloodGroup",type:"select",options:["A+","A-","B+","B-","AB+","AB-","O+","O-"],required:!0,hint:"Select your blood group"},{label:"Father's Name",name:"fatherName",type:"text",required:!0,hint:"Father's name as per license (up to 100 characters)"},{label:"Issue Date",name:"issueDate",type:"date",required:!0,hint:"Date when license was issued"},{label:"Expiry Date",name:"expiresOn",type:"date",required:!0,hint:"License expiration date"},{label:"Address",name:"address",type:"textarea",required:!0,hint:"Address as per driving license (up to 255 characters)"},{label:"License Image",name:"licenseImage",type:"file",required:!0,hint:"Upload clear image of your driving license"}],passport:[{label:"Passport Number",name:"passportNumber",type:"text",required:!0,hint:"6-9 characters starting with letter (e.g., A1234567)"},{label:"Country Code",name:"countryCode",type:"select",options:["IND","USA","PAK","CAN","GBR","AUS","JPN","DEU","CHN","RUS","BRA","ZAF"],required:!0,hint:"Select the 3-character country code"},{label:"Passport Type",name:"passportType",type:"select",options:["Regular","Official","Diplomatic"],required:!0,hint:"Select the type of your passport"},{label:"Date of Birth",name:"dateOfBirth",type:"date",required:!0,hint:"Select your birth date as per passport"},{label:"Name",name:"name",type:"text",required:!0,hint:"Name as per passport (3-100 characters)"},{label:"Gender",name:"gender",type:"select",options:["Male","Female","Other"],required:!0,hint:"Select your gender as per passport"},{label:"Date of Issue",name:"dateOfIssue",type:"date",required:!0,hint:"Passport issue date"},{label:"Place of Issue",name:"placeOfIssue",type:"text",required:!0,hint:"City/location where passport was issued"},{label:"Place of Birth",name:"placeOfBirth",type:"text",required:!0,hint:"Your birth place as per passport"},{label:"Date of Expiration",name:"dateOfExpiration",type:"date",required:!0,hint:"Passport expiry date"},{label:"Address",name:"address",type:"textarea",required:!0,hint:"Current address as per passport"},{label:"Passport Image",name:"passportImage",type:"file",required:!0,hint:"Upload clear image of your passport"}],voter:[{label:"Voter ID Number",name:"voterIdNumber",type:"text",required:!0,hint:"Format: 3 letters + 7 digits (e.g., ABC1234567)"},{label:"Full Name",name:"fullName",type:"text",required:!0,hint:"Name as per voter ID (3-100 characters)"},{label:"Relation Name",name:"relationName",type:"text",required:!0,hint:"Father's/Husband's name (3-100 characters)"},{label:"Gender",name:"gender",type:"select",options:["Male","Female","Other"],required:!0,hint:"Select your gender as per voter ID"},{label:"Date of Birth",name:"dateOfBirth",type:"date",required:!0,hint:"Select your birth date"},{label:"Address",name:"address",type:"textarea",required:!0,hint:"Address as per voter ID card"},{label:"Issued Date",name:"issuedDate",type:"date",required:!0,hint:"Date when voter ID was issued"},{label:"Voter Image",name:"uploadVoter",type:"file",required:!0,hint:"Upload clear image of your voter ID"}]},P={aadhaar:{icon:n.zo4,color:"from-blue-500 to-blue-700",bgColor:"bg-blue-50",darkBgColor:"bg-blue-900/20",borderColor:"border-blue-200",darkBorderColor:"border-blue-700",textColor:"text-blue-700",darkTextColor:"text-blue-400",title:"Aadhaar Card",description:"Government issued identity document"},pan:{icon:n.zo4,color:"from-green-500 to-green-700",bgColor:"bg-green-50",darkBgColor:"bg-green-900/20",borderColor:"border-green-200",darkBorderColor:"border-green-700",textColor:"text-green-700",darkTextColor:"text-green-400",title:"PAN Card",description:"Permanent Account Number for taxation"},drivingLicense:{icon:n.zo4,color:"from-orange-500 to-orange-700",bgColor:"bg-orange-50",darkBgColor:"bg-orange-900/20",borderColor:"border-orange-200",darkBorderColor:"border-orange-700",textColor:"text-orange-700",darkTextColor:"text-orange-400",title:"Driving License",description:"Valid driving permit document"},passport:{icon:n.zo4,color:"from-purple-500 to-purple-700",bgColor:"bg-purple-50",darkBgColor:"bg-purple-900/20",borderColor:"border-purple-200",darkBorderColor:"border-purple-700",textColor:"text-purple-700",darkTextColor:"text-purple-400",title:"Passport",description:"International travel document"},voter:{icon:n.zo4,color:"from-red-500 to-red-700",bgColor:"bg-red-50",darkBgColor:"bg-red-900/20",borderColor:"border-red-200",darkBorderColor:"border-red-700",textColor:"text-red-700",darkTextColor:"text-red-400",title:"Voter ID Card",description:"Electoral identity verification"}},O=()=>{var e,t;const[a,d]=(0,s.useState)(null),[m,x]=(0,s.useState)({}),[u,p]=(0,s.useState)({}),{empID:g}=(0,o.g)(),h=(0,o.zy)(),b=(0,s.useRef)(null),{theme:y,userData:f,matchedArray:v}=(0,s.useContext)(l.ob),[j,N]=(0,s.useState)(!0),[w,k]=(0,s.useState)({}),[C,A]=(0,s.useState)(""),[E,D]=(0,s.useState)({completed:0,total:5}),[O,q]=(0,s.useState)(!1),[T,B]=(0,s.useState)({show:!1,message:"",type:""}),L=new URLSearchParams(h.search),F="true"===L.get("fromContextMenu"),M=L.get("targetEmployeeId"),Y=F&&M?M:g,R=null===f||void 0===f?void 0:f.employeeId,z=String(R)===String(Y),G=null===v||void 0===v?void 0:v.includes("PROFILE_DOCUMENTS_EDIT_ADMIN"),U=!z&&(!F||F&&!G);null===f||void 0===f||null===(e=f.roles)||void 0===e||null===(t=e[0])||void 0===t||t.toUpperCase();(0,s.useEffect)(()=>{F&&M&&console.log("clicked user from context",M);Y&&(async()=>{N(!0);try{const e=[i.yE.get("employee/".concat(Y,"/aadhaar")).catch(()=>({data:null})),i.yE.get("employee/".concat(Y,"/pan")).catch(()=>({data:null})),i.yE.get("employee/".concat(Y,"/driving")).catch(()=>({data:null})),i.yE.get("employee/".concat(Y,"/passport")).catch(()=>({data:null})),i.yE.get("employee/".concat(Y,"/voter")).catch(()=>({data:null}))],[t,a,r,s,l]=await Promise.all(e),o={aadhaar:t.data,pan:a.data,drivingLicense:r.data,passport:s.data,voter:l.data};x(o);const n=Object.values(o).filter(Boolean).length;D({completed:n,total:5})}catch(e){console.error("Failed to fetch identity data",e)}finally{N(!1)}})()},[Y,F,M]);const _=e=>{if(U)return void B({show:!0,message:"You can only view this employee's documents. Editing is not allowed.",type:"error"});k({});const t=m[e];p(t||{}),d(e)},J=(e,t)=>{p(a=>(0,r.A)((0,r.A)({},a),{},{[e]:t}))},V=async e=>{q(!0);try{const t=((e,t)=>{switch(e){case"pan":return(e=>{const t={};return e.panNumber?/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(e.panNumber)||(t.panNumber="Invalid PAN format (e.g., ABCDE1234F)"):t.panNumber="PAN number is required",e.panName?(e.panName.length<3||e.panName.length>100)&&(t.panName="PAN name must be between 3 and 100 characters"):t.panName="PAN name is required",e.dateOfBirth?/^\d{4}-\d{2}-\d{2}$/.test(e.dateOfBirth)||(t.dateOfBirth="Date of birth must be in YYYY-MM-DD format"):t.dateOfBirth="Date of birth is required",e.parentsName||(t.parentsName="Parent's name is required"),t})(t);case"aadhaar":return(e=>{const t={};return e.aadhaarNumber?/^[2-9][0-9]{11}$/.test(e.aadhaarNumber)||(t.aadhaarNumber="Invalid Aadhaar number format"):t.aadhaarNumber="Aadhaar number is required",e.enrollmentNumber?/^[0-9]{4}\/[0-9]{5}\/[0-9]{7}$/.test(e.enrollmentNumber)||(t.enrollmentNumber="Invalid enrollment number format (e.g., 1234/12345/1234567)"):t.enrollmentNumber="Enrollment number is required",e.dateOfBirth||(t.dateOfBirth="Date of birth is required"),e.aadhaarName||(t.aadhaarName="Name is required"),e.address||(t.address="Address is required"),e.gender||(t.gender="Gender is required"),t})(t);case"drivingLicense":return(e=>{const t={};return e.licenseNumber||(t.licenseNumber="License number is required"),e.name||(t.name="Name is required"),e.dateOfBirth||(t.dateOfBirth="Date of birth is required"),e.bloodGroup||(t.bloodGroup="Blood group is required"),e.fatherName||(t.fatherName="Father's name is required"),e.issueDate||(t.issueDate="Issue date is required"),e.expiresOn||(t.expiresOn="Expiry date is required"),e.address||(t.address="Address is required"),t})(t);case"passport":return(e=>{const t={};return e.passportNumber?/^[A-Z][0-9]{6,9}$/.test(e.passportNumber)||(t.passportNumber="Invalid passport number format"):t.passportNumber="Passport number is required",e.countryCode||(t.countryCode="Country code is required"),e.passportType||(t.passportType="Passport type is required"),e.dateOfBirth||(t.dateOfBirth="Date of birth is required"),e.name||(t.name="Name is required"),e.gender||(t.gender="Gender is required"),e.dateOfIssue||(t.dateOfIssue="Date of issue is required"),e.placeOfIssue||(t.placeOfIssue="Place of issue is required"),e.placeOfBirth||(t.placeOfBirth="Place of birth is required"),e.dateOfExpiration||(t.dateOfExpiration="Date of expiration is required"),e.address||(t.address="Address is required"),t})(t);case"voter":return(e=>{const t={};return e.voterIdNumber?/^[A-Z]{3}[0-9]{7}$/.test(e.voterIdNumber)||(t.voterIdNumber="Invalid Voter ID format (e.g., ABC1234567)"):t.voterIdNumber="Voter ID number is required",e.fullName||(t.fullName="Full name is required"),e.relationName||(t.relationName="Relation name is required"),e.gender||(t.gender="Gender is required"),e.dateOfBirth||(t.dateOfBirth="Date of birth is required"),e.address||(t.address="Address is required"),e.issuedDate||(t.issuedDate="Issued date is required"),t})(t);default:return{}}})(e,u);if(Object.keys(t).length>0)return k(t),void q(!1);const a=m[e]?"put":"post",s=new FormData,l={aadhaar:"aadhaarImage",pan:"panImage",drivingLicense:"licenseImage",passport:"passportImage",voter:"voterImage"},o={aadhaar:"aadhaarImage",pan:"panImage",drivingLicense:"licenseImage",passport:"passportImage",voter:"uploadVoter"};let n;switch(e){case"pan":n="post"===a?"panDetails":"panDTO";break;case"voter":n="post"===a?"voterDetails":"voterDTO";break;case"aadhaar":n="aadhaar";break;case"drivingLicense":n="drivingLicense";break;case"passport":n="passportDetails";break;default:throw new Error("Invalid subsection for DTO part name")}const c=o[e],p=u[c];p&&p instanceof File&&s.append(l[e],p);const g=(0,r.A)({},u);delete g[c],s.append(n,new Blob([JSON.stringify(g)],{type:"application/json"}));const h=Y;let b;switch(e){case"aadhaar":b="employee/".concat("put"===a?"".concat(h,"/aadhaar"):"aadhaar/".concat(h));break;case"pan":b="employee/".concat(h,"/pan");break;case"drivingLicense":b="employee/".concat("put"===a?"".concat(h,"/driving"):"drivinglicense/".concat(h));break;case"passport":b="employee/".concat("put"===a?"".concat(h,"/passport"):"passport/details/".concat(h));break;case"voter":b="employee/".concat(h,"/voter");break;default:throw new Error("Invalid subsection for URL")}await i.yE[a](b,s),d(null),k({});const y=e=>"drivingLicense"===e?"driving":e,f=await i.yE.get("employee/".concat(Y,"/").concat(y(e)));x(t=>{const a=(0,r.A)((0,r.A)({},t),{},{[e]:f.data}),s=Object.values(a).filter(Boolean).length;return D({completed:s,total:5}),a}),B({show:!0,message:"Document saved successfully!",type:"success"})}catch(s){var t,a;console.error("Update for ".concat(e," failed:"),s);const r=(null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"An unexpected error occurred. Please try again.";B({show:!0,message:r,type:"error"}),s.response&&400===s.response.status&&"object"===typeof s.response.data&&!s.response.data.timestamp?k(s.response.data):k({general:r})}finally{q(!1)}},H=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";const d=w[t],m=u[t]||"",x=e=>{((e,t)=>{p(a=>(0,r.A)((0,r.A)({},a),{},{[e]:t})),w[e]&&k(t=>{const a=(0,r.A)({},t);return delete a[e],a})})(t,e),"panNumber"===t&&e?/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(e)||k(e=>(0,r.A)((0,r.A)({},e),{},{[t]:"PAN format: 5 letters + 4 digits + 1 letter (e.g., ABCDE1234F)"})):"aadhaarNumber"===t&&e?/^[2-9][0-9]{11}$/.test(e)||k(e=>(0,r.A)((0,r.A)({},e),{},{[t]:"Aadhaar must be 12 digits starting with 2-9"})):"voterIdNumber"===t&&e&&(/^[A-Z]{3}[0-9]{7}$/.test(e)||k(e=>(0,r.A)((0,r.A)({},e),{},{[t]:"Voter ID format: 3 letters + 7 digits (e.g., ABC1234567)"})))},g=u[t]instanceof File?u[t]:null;return(0,c.jsxs)("div",{className:"group relative",children:[(0,c.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ".concat("dark"===y?"text-gray-200":"text-gray-800"),children:[e,s&&(0,c.jsx)("span",{className:"text-red-500 ml-1 text-sm sm:text-base",children:"*"}),o&&(0,c.jsx)("span",{className:"ml-2 px-2 py-1 text-xs rounded-full ".concat("dark"===y?"bg-gray-700 text-gray-400":"bg-gray-100 text-gray-500"),children:"Read Only"})]}),i&&(0,c.jsx)("p",{className:"text-xs mb-2 ".concat("dark"===y?"text-gray-400":"text-gray-500"),children:i}),"select"===a?(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl appearance-none focus:ring-4 focus:ring-blue-500/20 focus:outline-none ".concat(d?"border-red-300 bg-red-50 focus:ring-red-500/20":"dark"===y?"border-gray-600 bg-gray-700 text-white ":"border-gray-200 bg-white "," ").concat(o?"dark"===y?"bg-gray-800 cursor-not-allowed opacity-60":"bg-gray-50 cursor-not-allowed opacity-60":""),disabled:o,children:[(0,c.jsxs)("option",{value:"",children:["Choose ",e]}),l.map(e=>(0,c.jsx)("option",{value:e,children:e},e))]}),(0,c.jsx)("div",{className:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:(0,c.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 ".concat("text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}):"date"===a?(0,c.jsx)("input",{type:"date",value:m,onChange:e=>x(e.target.value),className:"w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:outline-none ".concat(d?"border-red-300 bg-red-50 focus:ring-red-500/20":"dark"===y?"border-gray-600 bg-gray-700 text-white ":"border-gray-200 bg-white "," ").concat(o?"dark"===y?"bg-gray-800 cursor-not-allowed opacity-60":"bg-gray-50 cursor-not-allowed opacity-60":""),disabled:o}):"file"===a?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg sm:rounded-xl ".concat(d?"border-red-300 bg-red-50":"dark"===y?"border-gray-600 bg-gray-800":"border-gray-300 bg-gray-50"," ").concat(o?"opacity-60 cursor-not-allowed":"cursor-pointer"),children:[(0,c.jsx)("input",{type:"file",ref:b,onChange:e=>{var a;return J(t,null===(a=e.target.files)||void 0===a?void 0:a[0])},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:o,accept:".jpg,.jpeg,.png,.pdf"}),g?(0,c.jsxs)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center",children:[(0,c.jsx)(n.zo4,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ".concat("dark"===y?"text-blue-400":"text-blue-600")}),(0,c.jsx)("p",{className:"text-xs sm:text-sm font-medium mb-3 truncate ".concat("dark"===y?"text-gray-300":"text-gray-700"),title:g.name,children:g.name}),(0,c.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),J(t,null),b.current&&(b.current.value="")},className:"inline-flex items-center space-x-1 px-3 py-1 text-xs rounded-full font-semibold ".concat("dark"===y?"bg-red-900/50 text-red-300":"bg-red-100 text-red-700"),children:(0,c.jsx)("span",{children:"Remove File"})})]}):(0,c.jsxs)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center",children:[(0,c.jsx)(n.xvb,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ".concat("dark"===y?"text-gray-500":"text-gray-400")}),(0,c.jsxs)("p",{className:"text-xs sm:text-sm font-medium mb-1 ".concat("dark"===y?"text-gray-300":"text-gray-700"),children:[u[t]&&"string"===typeof u[t]?"Replace current file or ":"Drop your file here, or ",(0,c.jsx)("span",{className:"text-blue-600",children:"browse"})]}),(0,c.jsx)("p",{className:"text-xs ".concat("text-gray-500"),children:"PNG, JPG, PDF up to 10MB"})]})]}),u[t]&&"string"===typeof u[t]&&!g&&(0,c.jsxs)("div",{className:"mt-4 p-4 rounded-lg border-2 ".concat("dark"===y?"bg-gray-700 border-gray-600":"bg-blue-50 border-blue-200"),children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,c.jsx)("p",{className:"text-sm font-semibold ".concat("dark"===y?"text-gray-200":"text-gray-800"),children:"Current Document"}),(0,c.jsxs)("a",{href:u[t],target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-1 text-xs font-semibold px-3 py-1.5 rounded-lg transition-all ".concat("dark"===y?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-600 text-white hover:bg-blue-700"),children:[(0,c.jsx)(n.GNz,{className:"w-3.5 h-3.5"}),(0,c.jsx)("span",{children:"View Full Size"})]})]}),(0,c.jsxs)("div",{className:"relative overflow-hidden rounded-lg bg-white",children:[(0,c.jsx)("img",{src:u[t],alt:"Current ".concat(e),className:"w-full h-auto max-h-64 object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,c.jsx)("div",{className:"hidden w-full h-64 items-center justify-center ".concat("dark"===y?"bg-gray-800":"bg-gray-100"),children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)(n.zo4,{className:"mx-auto h-12 w-12 mb-2 ".concat("dark"===y?"text-gray-500":"text-gray-400")}),(0,c.jsx)("p",{className:"text-sm ".concat("dark"===y?"text-gray-400":"text-gray-500"),children:"Document preview unavailable"}),(0,c.jsx)("a",{href:u[t],target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm font-medium hover:underline mt-2 inline-block",children:"Open in new tab"})]})})]}),(0,c.jsx)("p",{className:"text-xs mt-2 ".concat("dark"===y?"text-gray-400":"text-gray-600"),children:"Upload a new file above to replace this document"})]})]}):"textarea"===a?(0,c.jsx)("textarea",{value:m,onChange:e=>x(e.target.value),className:"w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl resize-none h-24 sm:h-32 focus:ring-4 focus:ring-blue-500/20 focus:outline-none ".concat(d?"border-red-300 bg-red-50 focus:ring-red-500/20":"dark"===y?"border-gray-600 bg-gray-700 text-white ":"border-gray-200 bg-white "," ").concat(o?"dark"===y?"bg-gray-800 cursor-not-allowed opacity-60":"bg-gray-50 cursor-not-allowed opacity-60":""),placeholder:"Enter ".concat(e.toLowerCase(),"..."),required:s,disabled:o}):(0,c.jsx)("input",{type:a,value:m,onChange:e=>x(e.target.value),className:"w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:outline-none ".concat(d?"border-red-300 bg-red-50 focus:ring-red-500/20":"dark"===y?"border-gray-600 bg-gray-700 text-white ":"border-gray-200 bg-white "," ").concat(o?"dark"===y?"bg-gray-800 cursor-not-allowed opacity-60":"bg-gray-50 cursor-not-allowed opacity-60":""),placeholder:"Enter ".concat(e.toLowerCase(),"..."),required:s,disabled:o}),d&&(0,c.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600",children:[(0,c.jsx)(n.tr_,{className:"w-4 h-4 flex-shrink-0"}),(0,c.jsx)("p",{className:"text-xs sm:text-sm font-medium",children:d})]})]},t)},W=e=>{let{label:t,value:a}=e;return(0,c.jsx)("div",{className:"group p-3 sm:p-4 rounded-lg sm:rounded-xl border ".concat("dark"===y?"bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100"),children:(0,c.jsx)("div",{className:"flex items-start justify-between",children:(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 ".concat("dark"===y?"text-gray-400":"text-gray-500"),children:t}),(0,c.jsx)("p",{className:"text-xs sm:text-sm font-semibold leading-relaxed break-words ".concat("dark"===y?"text-white":"text-gray-900"),children:a||(0,c.jsx)("span",{className:"italic ".concat("dark"===y?"text-gray-500":"text-gray-400"),children:"Not provided"})})]})})})},K=e=>{let{label:t,link:a}=e;return(0,c.jsx)("div",{className:"group p-3 sm:p-4 rounded-lg sm:rounded-xl border ".concat("dark"===y?"bg-gradient-to-br from-blue-900/30 to-indigo-900/30 border-blue-700":"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-100"),children:(0,c.jsx)("div",{className:"flex items-start justify-between",children:(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 ".concat("dark"===y?"text-blue-400":"text-blue-600"),children:t}),a?(0,c.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm font-semibold group break-words ".concat("dark"===y?"text-blue-300":"text-blue-700"),children:[(0,c.jsx)(n.GNz,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,c.jsx)("span",{children:"View Document"}),(0,c.jsx)("svg",{className:"w-3 h-3 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]}):(0,c.jsx)("p",{className:"text-xs sm:text-sm font-medium italic break-words ".concat("dark"===y?"text-gray-500":"text-gray-400"),children:"Document not uploaded"})]})})})},Z=e=>{let{title:t,data:a,onEdit:r,subSectionKey:s}=e;const l=P[s],o=!!a;return(0,c.jsxs)("div",{className:"border-2 rounded-none sm:rounded-2xl shadow-lg shadow-xl transition-all duration-500\n                          overflow-hidden group scale-[1.02] ".concat("dark"===y?"bg-gray-800 ".concat(l.darkBorderColor," shadow-blue-500/20"):"bg-white ".concat(l.borderColor)),children:[(0,c.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b-2 relative overflow-hidden ".concat("dark"===y?"".concat(l.darkBgColor," ").concat(l.darkBorderColor):"".concat(l.bgColor," ").concat(l.borderColor)),children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/30 z-[0]"}),(0,c.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,c.jsx)("div",{className:"text-2xl sm:text-3xl md:text-4xl ",children:(0,c.jsx)(l.icon,{})}),(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsxs)("h4",{className:"text-lg sm:text-xl font-bold flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 ".concat("dark"===y?l.darkTextColor:l.textColor),children:[(0,c.jsx)("span",{className:"break-words",children:t}),o&&(0,c.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,c.jsx)(n.G3G,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"}),(0,c.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Verified"})]})]}),(0,c.jsx)("p",{className:"text-xs sm:text-sm mt-1 break-words ".concat("dark"===y?"text-gray-400":"text-gray-600"),children:l.description})]})]}),(0,c.jsx)("div",{className:"flex flex-col sm:flex-row items-end sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:!U&&(0,c.jsx)("button",{onClick:()=>r(s),className:"flex items-center space-x-1 sm:space-x-2 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold transition-all duration-300 transform scale-105 focus:ring-4 focus:ring-blue-500/20 shadow-md shadow-lg text-xs sm:text-sm ".concat(o?"dark"===y?"".concat(l.darkTextColor," bg-gray-700 border-2 ").concat(l.darkBorderColor," bg-gray-600"):"".concat(l.textColor," bg-white border-2 ").concat(l.borderColor," bg-gray-50"):"bg-gradient-to-r from-blue-500 to-indigo-600 text-white from-blue-600 to-indigo-700"),children:o?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.zo4,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,c.jsx)("span",{children:"Edit Details"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.YHj,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,c.jsx)("span",{children:"Add Document"})]})})})]})]}),(0,c.jsx)("div",{className:"p-4 sm:p-6 md:p-8",children:o?(0,c.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4",children:Object.keys(a).map(e=>"employee"===e?null:["uploadAadhaar","panImage","licenseImage","passportImage","uploadVoter"].includes(e)?(0,c.jsx)(K,{label:e.replace(/([A-Z])/g," $1"),link:a[e]},e):(0,c.jsx)(W,{label:e.replace(/([A-Z])/g," $1"),value:a[e]},e))}):(0,c.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,c.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ".concat("dark"===y?l.darkBgColor:l.bgColor),children:(0,c.jsx)("div",{className:"text-2xl sm:text-3xl opacity-50 ".concat("dark"===y?l.darkTextColor:l.textColor),children:(0,c.jsx)(l.icon,{})})}),(0,c.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-2 ".concat("dark"===y?"text-white":"text-gray-800"),children:["No ",t," Added"]}),(0,c.jsx)("p",{className:"text-sm mb-4 sm:mb-6 max-w-sm mx-auto px-4 ".concat("dark"===y?"text-gray-400":"text-gray-500"),children:U?"This employee hasn't added their ".concat(t.toLowerCase()," information yet."):"Add your ".concat(t.toLowerCase()," information to complete your profile and enhance security.")}),!U&&(0,c.jsxs)("button",{onClick:()=>r(s),className:"inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-lg sm:rounded-xl shadow-lg text-sm",children:[(0,c.jsx)(n.YHj,{className:"w-4 h-4"}),(0,c.jsxs)("span",{children:["Add ",t]})]})]})})]})},$=()=>{const e=E.completed/E.total*100;return(0,c.jsxs)("div",{className:"rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border ".concat("dark"===y?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,c.jsx)("h3",{className:"text-base sm:text-lg font-bold ".concat("dark"===y?"text-white":"text-gray-800"),children:U?"Document Status":"Profile Completion"}),(0,c.jsxs)("span",{className:"text-sm font-medium ".concat("dark"===y?"text-gray-400":"text-gray-600"),children:[E.completed,"/",E.total," Documents"]})]}),(0,c.jsx)("div",{className:"w-full rounded-full h-2 sm:h-3 mb-3 sm:mb-4 overflow-hidden ".concat("dark"===y?"bg-gray-700":"bg-gray-200"),children:(0,c.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 sm:h-3 rounded-full",style:{width:"".concat(e,"%")}})}),(0,c.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,c.jsxs)("span",{className:"dark"===y?"text-gray-400":"text-gray-600",children:[e.toFixed(0),"% Complete"]}),100===e&&(0,c.jsxs)("span",{className:"text-green-600 font-semibold flex items-center",children:[(0,c.jsx)(n.G3G,{className:"w-4 h-4 mr-1"}),"All Set!"]})]})]})},Q=Object.keys(P).filter(e=>P[e].title.toLowerCase().includes(C.toLowerCase())||P[e].description.toLowerCase().includes(C.toLowerCase()));return(0,c.jsx)("div",{className:"min-h-screen ".concat("dark"===y?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:j?(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center px-4",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:" rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6"}),(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsx)(n.zo4,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-500"})})]}),(0,c.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 ".concat("dark"===y?"text-white":"text-gray-800"),children:"Loading Documents"}),(0,c.jsx)("p",{className:"dark"===y?"text-gray-300":"text-gray-600",children:"Fetching identity information securely..."}),(0,c.jsx)("div",{className:"flex justify-center space-x-2 mt-4",children:[...Array(5)].map((e,t)=>(0,c.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500",style:{animationDelay:"".concat(.2*t,"s")}},t))})]})}):(0,c.jsxs)("div",{className:"max-w-8xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-6 sm:py-8 md:py-12",children:[F&&(0,c.jsx)("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-l-4 border-blue-500 shadow-lg ".concat("dark"===y?"bg-blue-900/20 border-blue-400":"bg-blue-50 border-blue-500"),children:(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)(n.GNz,{className:"w-4 h-4 sm:w-5 sm:h-5 ".concat("dark"===y?"text-blue-400":"text-blue-600")}),(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsx)("p",{className:"font-semibold text-sm sm:text-base ".concat("dark"===y?"text-blue-400":"text-blue-800"),children:"Viewing Employee Documents"}),(0,c.jsxs)("p",{className:"text-xs sm:text-sm break-words ".concat("dark"===y?"text-blue-300":"text-blue-700"),children:["Employee ID: ",M,U&&" \u2022 Read-only access"]})]})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-8 sm:mb-12",children:[(0,c.jsx)("div",{className:"lg:col-span-2 mx-4 sm:mx-0",children:(0,c.jsx)($,{})}),(0,c.jsx)("div",{className:"rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border mx-4 sm:mx-0 ".concat("dark"===y?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("input",{type:"text",placeholder:"Search documents...",value:C,onChange:e=>A(e.target.value),className:"w-full px-4 sm:px-5 py-3 sm:py-4 pl-10 sm:pl-12 border-2 rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/20 ".concat("dark"===y?"border-gray-600 bg-gray-700 text-white placeholder-gray-400":"border-gray-200 bg-white text-black placeholder-gray-500")}),(0,c.jsx)("svg",{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 ".concat("text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]}),(()=>{if(!a)return null;const e=a,t=I[e],r=!!m[e],s=P[e];return(0,c.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-200 p-2 sm:p-4",children:(0,c.jsxs)("div",{className:"rounded-2xl sm:rounded-3xl w-full max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl ".concat("dark"===y?"bg-gray-800":"bg-white"),children:[(0,c.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ".concat(s.color," text-white relative overflow-hidden"),children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,c.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,c.jsx)("div",{className:"text-2xl sm:text-3xl md:text-4xl",children:(0,c.jsx)(s.icon,{})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:[r?"Update":"Add"," ",s.title]}),(0,c.jsx)("p",{className:"text-white/90 text-xs sm:text-sm",children:s.description})]})]}),(0,c.jsx)("button",{onClick:()=>d(null),className:"p-2 sm:p-3 rounded-full group","aria-label":"Close",children:(0,c.jsx)(n.$8F,{className:"w-5 h-5 sm:w-6 sm:h-6 "})})]})]}),(0,c.jsx)("div",{className:"overflow-y-auto max-h-[calc(95vh-200px)]",children:(0,c.jsxs)("form",{className:"p-4 sm:p-6 md:p-8",onSubmit:t=>{t.preventDefault(),V(e)},children:[(0,c.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:t.map(e=>{const t=["aadhaarNumber","panNumber","licenseNumber","passportNumber","voterIdNumber"].includes(e.name),a=r&&t;let s=e.required;return"file"===e.type&&r&&["aadhaarImage","panImage","uploadVoter","licenseImage","passportImage"].includes(e.name)&&(s=!1),H(e.label,e.name,e.type,s,e.options,a,e.hint)})}),w.general&&(0,c.jsx)("div",{className:"mt-4 sm:mt-6 p-4 sm:p-5 border-l-4 border-red-400 rounded-r-xl ".concat("dark"===y?"bg-red-900/20":"bg-red-50"),children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(n.tr_,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400 mr-3"}),(0,c.jsx)("p",{className:"font-medium ".concat("dark"===y?"text-red-300":"text-red-800"),children:w.general})]})})]})}),(0,c.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 ".concat("dark"===y?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:[(0,c.jsx)("button",{type:"button",onClick:()=>d(null),className:"px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold focus:ring-4 focus:ring-gray-500/20 ".concat("dark"===y?"border-gray-600 text-gray-300":"border-gray-300 text-gray-700"),children:"Cancel"}),(0,c.jsx)("button",{type:"button",onClick:()=>V(e),disabled:O,className:"px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r ".concat(s.color," text-white font-bold rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/30 flex items-center justify-center space-x-2 ").concat(O?"cursor-not-allowed opacity-75":""),children:O?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full"}),(0,c.jsx)("span",{children:"Updating..."})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.G3G,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,c.jsx)("span",{children:r?"Update Document":"Save Document"})]})})]})]})})})(),T.show&&(0,c.jsxs)(S,{onClose:()=>B({show:!1,message:"",type:""}),title:"success"===T.type?"Success":"Error",type:T.type,theme:y,children:[(0,c.jsx)("p",{className:"mb-4 sm:mb-6 ".concat("dark"===y?"text-gray-300":"text-gray-700"),children:T.message}),(0,c.jsx)("div",{className:"flex justify-end",children:(0,c.jsx)("button",{onClick:()=>B({show:!1,message:"",type:""}),className:"".concat("success"===T.type?"bg-green-600":"bg-red-600"," text-white font-semibold py-2 px-4 sm:px-6 rounded-lg text-sm"),children:"OK"})})]}),(0,c.jsxs)("div",{className:"space-y-4 sm:space-y-6 md:space-y-8",children:[Q.map(e=>(0,c.jsx)(Z,{title:P[e].title,data:m[e],onEdit:_,subSectionKey:e},e)),0===Q.length&&C&&(0,c.jsxs)("div",{className:"text-center py-12 sm:py-16 mx-4 sm:mx-0",children:[(0,c.jsx)("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-4 ".concat("dark"===y?"bg-gray-800":"bg-gray-100"),children:(0,c.jsx)("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 ".concat("dark"===y?"text-gray-500":"text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,c.jsx)("h3",{className:"text-base sm:text-lg font-semibold mb-2 ".concat("dark"===y?"text-white":"text-gray-800"),children:"No documents found"}),(0,c.jsx)("p",{className:"dark"===y?"text-gray-400":"text-gray-500",children:"Try adjusting your search terms"})]})]})]})})},q=e=>{let t,{children:a,onClose:r,title:s,type:l,theme:o}=e,i=null;return"success"===l?(t="text-green-600",i=(0,c.jsx)(n.G3G,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-500"})):"error"===l?(t="text-red-600",i=(0,c.jsx)(n.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-500"})):"confirm"===l&&(t="text-yellow-600",i=(0,c.jsx)(n.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500"})),(0,c.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 sm:p-6 z-[1000]",children:(0,c.jsx)("div",{className:"w-full max-w-md rounded-2xl sm:rounded-3xl shadow-2xl transform-gpu ".concat("dark"===o?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"),children:(0,c.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 mb-4 sm:mb-6",children:[i,(0,c.jsx)("h3",{className:"text-lg sm:text-xl font-bold ".concat(t," ").concat("dark"===o?"text-white":"text-gray-800"),children:s})]}),(0,c.jsx)("div",{className:"space-y-4 sm:space-y-6",children:a})]})})})},T=e=>{let{name:t,label:a,type:r="text",required:s=!1,hint:l,placeholder:o,value:i,onChange:d,onBlur:m,isError:x,options:u=[],multiple:p=!1,accept:g,theme:h}=e;const b="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ".concat(x?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===h?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white"),y="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl resize-none h-24 sm:h-32 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ".concat(x?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===h?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white"),f="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl appearance-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ".concat(x?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===h?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white");return(0,c.jsxs)("div",{className:"group relative",children:[(0,c.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ".concat("dark"===h?"text-gray-200":"text-gray-800"),children:[a,s&&(0,c.jsx)("span",{className:"text-red-500 ml-1 text-sm sm:text-base",children:"*"})]}),l&&(0,c.jsx)("p",{className:"text-xs mb-2 ".concat("dark"===h?"text-gray-400":"text-gray-500"),children:l}),"select"===r?(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("select",{name:t,value:i,onChange:d,onBlur:m,className:f,required:s,children:[(0,c.jsxs)("option",{value:"",children:["Select ",a.toLowerCase()]}),u.map((e,t)=>(0,c.jsx)("option",{value:e.value||e,children:e.label||e},t))]}),(0,c.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none ".concat("dark"===h?"text-gray-400":"text-gray-500"),children:(0,c.jsx)("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:(0,c.jsx)("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]}):"textarea"===r?(0,c.jsx)("textarea",{name:t,value:i,onChange:d,onBlur:m,placeholder:o,className:y,required:s,rows:4}):"file"===r?(0,c.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg sm:rounded-xl ".concat(x?"border-red-300 bg-red-50":"dark"===h?"border-gray-600 bg-gray-800":"border-gray-300 bg-gray-50"," cursor-pointer"),children:[(0,c.jsx)("input",{type:"file",name:t,accept:g,multiple:p,onChange:d,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),(0,c.jsxs)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center",children:[(0,c.jsx)(n.xvb,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ".concat("dark"===h?"text-gray-500":"text-gray-400")}),(0,c.jsxs)("p",{className:"text-xs sm:text-sm font-medium mb-1 ".concat("dark"===h?"text-gray-300":"text-gray-600"),children:["Drop your file here, or ",(0,c.jsx)("span",{className:"text-blue-600",children:"browse"})]}),(0,c.jsx)("p",{className:"text-xs ".concat("dark"===h?"text-gray-500":"text-gray-400"),children:g||"All file types supported"})]})]}):(0,c.jsx)("input",{type:r,name:t,value:i,onChange:d,onBlur:m,placeholder:o,className:b,required:s}),x&&(0,c.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600",children:[(0,c.jsx)(n.tr_,{className:"w-4 h-4 flex-shrink-0"}),(0,c.jsx)("p",{className:"text-xs sm:text-sm font-medium",children:x})]})]},t)},B=()=>{const[e,t]=(0,s.useState)([]),[a,d]=(0,s.useState)(!0),[m,x]=(0,s.useState)(null),{empID:u}=(0,o.g)(),p=(0,o.zy)(),{userData:g,theme:h,matchedArray:b}=(0,s.useContext)(l.ob),[y,f]=(0,s.useState)(!1),[v,j]=(0,s.useState)(null),[N,w]=(0,s.useState)(!1),[k,C]=(0,s.useState)({show:!1,message:"",type:""}),[A,E]=(0,s.useState)({show:!1,achievementId:null}),[D,S]=(0,s.useState)({certificationName:"",issuingAuthorityName:"",certificationURL:"",issueMonth:"",issueYear:"",expirationMonth:"",expirationYear:"",licenseNumber:"",achievementFile:null}),[I,P]=(0,s.useState)({}),[O,B]=(0,s.useState)([]),L=new URLSearchParams(p.search),F="true"===L.get("fromContextMenu"),M=L.get("targetEmployeeId"),Y=F&&M?M:u,R=null===g||void 0===g?void 0:g.employeeId,z=String(Y)===String(R),G=null===b||void 0===b?void 0:b.includes("EDIT_PER"),U=z||F&&G,_={title:"Achievements & Certifications",subtitle:"Professional certifications and achievements",color:"from-blue-500 to-purple-600",icon:n.zo4},J=[{name:"certificationName",label:"Certification Name",type:"text",required:!0,placeholder:"e.g., AWS Certified Solutions Architect",hint:"Enter the full name of your certification or achievement"},{name:"issuingAuthorityName",label:"Issuing Authority",type:"text",required:!0,placeholder:"e.g., Amazon Web Services",hint:"Organization that issued this certification"},{name:"issueMonth",label:"Issue Month",type:"select",required:!0,options:["January","February","March","April","May","June","July","August","September","October","November","December"]},{name:"issueYear",label:"Issue Year",type:"number",required:!0,placeholder:"e.g., 2023"},{name:"expirationMonth",label:"Expiration Month",type:"select",required:!1,options:["January","February","March","April","May","June","July","August","September","October","November","December"],hint:"Optional - leave blank if certification does not expire"},{name:"expirationYear",label:"Expiration Year",type:"number",required:!1,placeholder:"e.g., 2026",hint:"Optional - leave blank if certification does not expire"},{name:"licenseNumber",label:"License/Certificate Number",type:"text",required:!1,placeholder:"e.g., AWS-ASA-12345",hint:"Optional - unique identifier for this certification"},{name:"certificationURL",label:"Certification URL",type:"url",required:!1,placeholder:"https://...",hint:"Optional - link to verify your certification online"},{name:"achievementFile",label:"Achievement Certificate",type:"file",required:!1,accept:"image/*,.pdf,.doc,.docx",hint:"Optional - upload your certificate or achievement document"}];(0,s.useEffect)(()=>{V()},[Y]);const V=async()=>{if(Y)try{d(!0);const e=await i.yE.get("/employee/".concat(Y,"/achievements"));console.log("Fetching achievements for: ".concat(Y),e.data),t(e.data),x(null)}catch(e){x("Failed to fetch achievements. Please try again later."),console.error("Error fetching achievements:",e)}finally{d(!1)}},H=e=>{const{name:t,value:a,files:s}=e.target;s?(S(e=>(0,r.A)((0,r.A)({},e),{},{[t]:s[0]})),B([...s])):S(e=>(0,r.A)((0,r.A)({},e),{},{[t]:a})),I[t]&&P(e=>(0,r.A)((0,r.A)({},e),{},{[t]:null}))},W=e=>{try{return new URL(e),!0}catch(t){return!1}},K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;U?(e?(j(e),w(!0),S({certificationName:e.certificationName||"",issuingAuthorityName:e.issuingAuthorityName||"",certificationURL:e.certificationURL||"",issueMonth:e.issueMonth||"",issueYear:e.issueYear||"",expirationMonth:e.expirationMonth||"",expirationYear:e.expirationYear||"",licenseNumber:e.licenseNumber||"",achievementFile:null})):(j(null),w(!1),S({certificationName:"",issuingAuthorityName:"",certificationURL:"",issueMonth:"",issueYear:"",expirationMonth:"",expirationYear:"",licenseNumber:"",achievementFile:null})),P({}),B([]),f(!0)):C({show:!0,message:"You do not have permission to add or edit achievements for this user.",type:"error"})},Z=()=>{f(!1),j(null),S({certificationName:"",issuingAuthorityName:"",certificationURL:"",issueMonth:"",issueYear:"",expirationMonth:"",expirationYear:"",licenseNumber:"",achievementFile:null}),P({}),B([])},$=async e=>{if(e.preventDefault(),!(()=>{const e={};return J.forEach(t=>{t.required&&!D[t.name]&&(e[t.name]="".concat(t.label," is required")),"url"===t.type&&D[t.name]&&!W(D[t.name])&&(e[t.name]="Please enter a valid URL")}),P(e),0===Object.keys(e).length})())return void C({show:!0,message:"Please fix the errors in the form before submitting.",type:"error"});if(!U)return void C({show:!0,message:"You do not have permission to save achievements.",type:"error"});const t={certificationName:D.certificationName,issuingAuthorityName:D.issuingAuthorityName,certificationURL:D.certificationURL,issueMonth:D.issueMonth,issueYear:D.issueYear,expirationMonth:D.expirationMonth,expirationYear:D.expirationYear,licenseNumber:D.licenseNumber},a=new FormData;D.achievementFile&&a.append("achievementFile",D.achievementFile),N&&null!==v&&void 0!==v&&v.id&&(t.id=v.id),a.append("achievementsDTO",new Blob([JSON.stringify(t)],{type:"application/json"}));try{if(N){const e="/employee/".concat(Y,"/").concat(v.id,"/achievements");await i.yE.put(e,a,{headers:{"Content-Type":"multipart/form-data"}}),C({show:!0,message:"Achievement updated successfully!",type:"success"})}else{const e="/employee/achievements/".concat(Y);await i.yE.post(e,a,{headers:{"Content-Type":"multipart/form-data"}}),C({show:!0,message:"Achievement added successfully!",type:"success"})}await V(),Z()}catch(o){var r,s,l;console.error("Error saving achievement:",(null===(r=o.response)||void 0===r?void 0:r.data)||o.message),C({show:!0,message:(null===(s=o.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"Failed to save achievement. Please check your input and try again.",type:"error"})}};return a?(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center ".concat("dark"===h?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,c.jsxs)("div",{className:"text-center px-4",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6"}),(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsx)(n.zo4,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-500"})})]}),(0,c.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 ".concat("dark"===h?"text-white":"text-gray-800"),children:"Loading Achievements"}),(0,c.jsx)("p",{className:"text-sm sm:text-base ".concat("dark"===h?"text-gray-300":"text-gray-600"),children:"Fetching certifications and achievements..."})]})}):m?(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center ".concat("dark"===h?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,c.jsxs)("div",{className:"text-center px-4",children:[(0,c.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ".concat("dark"===h?"bg-red-900/30":"bg-red-100"),children:(0,c.jsx)(n.zo4,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-500"})}),(0,c.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 ".concat("dark"===h?"text-white":"text-gray-800"),children:"Error Loading Achievements"}),(0,c.jsx)("p",{className:"text-sm sm:text-base ".concat("dark"===h?"text-red-300":"text-red-500"),children:m})]})}):(0,c.jsx)("div",{className:"min-h-screen ".concat("dark"===h?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,c.jsxs)("div",{className:"max-w-8xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-6 sm:py-8 md:py-12",children:[(0,c.jsx)("div",{className:"rounded-none sm:rounded-2xl md:rounded-3xl p-4 sm:p-6 md:p-8 shadow-lg border mb-6 sm:mb-8 mx-4 sm:mx-0 ".concat("dark"===h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,c.jsx)("div",{className:"p-2 sm:p-3 md:p-4 rounded-lg sm:rounded-xl shadow-md flex-shrink-0 bg-gradient-to-r ".concat(_.color),children:(0,c.jsx)(_.icon,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsx)("h1",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold break-words ".concat("dark"===h?"text-white":"text-gray-800"),children:_.title}),(0,c.jsx)("p",{className:"text-xs sm:text-sm md:text-base break-words ".concat("dark"===h?"text-gray-400":"text-gray-600"),children:z?"Your ".concat(_.subtitle.toLowerCase()):_.subtitle})]})]}),U&&(0,c.jsxs)("button",{onClick:()=>K(),className:"w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r ".concat(_.color," text-white font-bold rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/30 text-sm sm:text-base flex items-center justify-center space-x-2"),children:[(0,c.jsx)(n.YHj,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,c.jsx)("span",{children:"Add Achievement"})]})]})}),(0,c.jsx)("div",{className:"mx-4 sm:mx-0",children:0===e.length?(0,c.jsxs)("div",{className:"text-center py-12 sm:py-16 md:py-20 px-4 sm:px-6 md:px-8 rounded-none sm:rounded-2xl md:rounded-3xl shadow-lg border ".concat("dark"===h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,c.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ".concat("dark"===h?"bg-gray-700":"bg-gray-100"),children:(0,c.jsx)(n.zo4,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 ".concat("dark"===h?"text-gray-500":"text-gray-400")})}),(0,c.jsx)("h3",{className:"text-lg sm:text-xl md:text-2xl font-semibold mb-2 sm:mb-4 ".concat("dark"===h?"text-white":"text-gray-800"),children:z?"No Achievements Yet":"No Achievements Found"}),(0,c.jsx)("p",{className:"text-sm sm:text-base max-w-md mx-auto break-words ".concat("dark"===h?"text-gray-400":"text-gray-500"),children:z?"No achievements have been recorded yet. Add your certifications and accomplishments to showcase your expertise.":"This employee has not added any achievements or certifications yet."}),U&&z&&(0,c.jsxs)("button",{onClick:()=>K(),className:"mt-6 sm:mt-8 px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r ".concat(_.color," text-white font-bold rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/30 text-sm sm:text-base flex items-center space-x-2 mx-auto"),children:[(0,c.jsx)(n.YHj,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,c.jsx)("span",{children:"Add Your First Achievement"})]})]}):(0,c.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 md:gap-8",children:e.map(e=>{const t=!!e.certificationURL,a=!!e.achievementFile,r=e.achievementFile||null;return(0,c.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 rounded-none sm:rounded-2xl md:rounded-3xl shadow-lg border relative group ".concat("dark"===h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[U&&(0,c.jsxs)("div",{className:"absolute top-4 right-4 sm:top-6 sm:right-6 flex space-x-2 ".concat("opacity-100 sm:opacity-0 sm:group-hover:opacity-100"),children:[(0,c.jsx)("button",{onClick:()=>K(e),className:"p-2 rounded-lg ".concat("dark"===h?"text-gray-400":"text-gray-500"),title:"Edit achievement",children:(0,c.jsx)(n.U$j,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),(0,c.jsx)("button",{onClick:()=>{return t=e.id,void E({show:!0,achievementId:t});var t},className:"p-2 rounded-lg ".concat("dark"===h?"text-gray-400":"text-gray-500"),title:"Delete achievement",children:(0,c.jsx)(n.dW_,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),(0,c.jsxs)("div",{className:"flex flex-col lg:flex-row items-start space-y-4 lg:space-y-0 lg:space-x-6",children:[(0,c.jsx)("div",{className:"p-3 sm:p-4 rounded-lg sm:rounded-xl shadow-md flex-shrink-0 bg-gradient-to-r ".concat(_.color),children:(0,c.jsx)(n.zo4,{className:"text-2xl sm:text-3xl text-white"})}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,c.jsx)("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-2 break-words ".concat("dark"===h?"text-white":"text-gray-900"),children:e.certificationName}),(0,c.jsxs)("p",{className:"text-sm sm:text-base md:text-lg flex items-center break-words ".concat("dark"===h?"text-gray-300":"text-gray-600"),children:[(0,c.jsx)(n.zo4,{className:"mr-2 flex-shrink-0"}),e.issuingAuthorityName]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 text-xs sm:text-sm md:text-base",children:[(0,c.jsxs)("div",{className:"p-3 sm:p-4 rounded-lg ".concat("dark"===h?"bg-gray-700/50":"bg-gray-50"),children:[(0,c.jsxs)("div",{className:"flex items-center mb-2",children:[(0,c.jsx)(n.zo4,{className:"mr-2 text-xs ".concat("dark"===h?"text-gray-400":"text-gray-500")}),(0,c.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide ".concat("dark"===h?"text-gray-400":"text-gray-500"),children:"Issued"})]}),(0,c.jsxs)("span",{className:"font-medium break-words ".concat("dark"===h?"text-white":"text-gray-900"),children:[e.issueMonth," ",e.issueYear]})]}),(0,c.jsxs)("div",{className:"p-3 sm:p-4 rounded-lg ".concat("dark"===h?"bg-gray-700/50":"bg-gray-50"),children:[(0,c.jsxs)("div",{className:"flex items-center mb-2",children:[(0,c.jsx)(n.zo4,{className:"mr-2 text-xs ".concat("dark"===h?"text-gray-400":"text-gray-500")}),(0,c.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide ".concat("dark"===h?"text-gray-400":"text-gray-500"),children:"Expires"})]}),(0,c.jsx)("span",{className:"font-medium break-words ".concat("dark"===h?"text-white":"text-gray-900"),children:e.expirationMonth&&e.expirationYear?"".concat(e.expirationMonth," ").concat(e.expirationYear):"No Expiration"})]}),(0,c.jsxs)("div",{className:"p-3 sm:p-4 rounded-lg sm:col-span-2 lg:col-span-1 ".concat("dark"===h?"bg-gray-700/50":"bg-gray-50"),children:[(0,c.jsxs)("div",{className:"flex items-center mb-2",children:[(0,c.jsx)(n.zo4,{className:"mr-2 text-xs ".concat("dark"===h?"text-gray-400":"text-gray-500")}),(0,c.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide ".concat("dark"===h?"text-gray-400":"text-gray-500"),children:"License No"})]}),(0,c.jsx)("span",{className:"font-medium break-words ".concat("dark"===h?"text-white":"text-gray-900"),children:e.licenseNumber||"N/A"})]})]}),(t||a)&&(0,c.jsxs)("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-200 dark:border-gray-700 flex flex-wrap gap-3",children:[t&&(0,c.jsxs)("a",{href:e.certificationURL,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold text-xs sm:text-sm ".concat("dark"===h?"text-blue-400 bg-blue-900/20 border border-blue-700":"text-blue-600 bg-blue-50 border border-blue-200"),children:[(0,c.jsx)("span",{children:"View Credential"}),(0,c.jsx)(n.GNz,{className:"ml-2 w-3 h-3 sm:w-4 sm:h-4"})]}),a&&(0,c.jsxs)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold text-xs sm:text-sm ".concat("dark"===h?"text-purple-400 bg-purple-900/20 border border-purple-700":"text-purple-600 bg-purple-50 border border-purple-200"),children:[(0,c.jsx)("span",{children:"View File"}),(0,c.jsx)(n.zo4,{className:"ml-2 w-3 h-3 sm:w-4 sm:h-4"})]})]})]})]})]},e.id)})})}),y&&(0,c.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] p-2 sm:p-4",children:(0,c.jsxs)("div",{className:"rounded-2xl sm:rounded-3xl w-full max-w-6xl max-h-[95vh] flex flex-col shadow-2xl ".concat("dark"===h?"bg-gray-800":"bg-white"),children:[(0,c.jsx)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ".concat(_.color," text-white flex-shrink-0"),children:(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:N?"Edit Achievement":"Add New Achievement"}),(0,c.jsx)("p",{className:"text-xs sm:text-sm opacity-90 mt-1",children:N?"Update the achievement details":"Fill in the details to add a new achievement"})]}),(0,c.jsx)("button",{onClick:Z,className:"p-2 rounded-lg",children:(0,c.jsx)(n.$8F,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})}),(0,c.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,c.jsxs)("form",{onSubmit:$,className:"p-4 sm:p-6 md:p-8",children:[(0,c.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:J.map(e=>(0,c.jsx)("div",{className:"certificationURL"===e.name||"achievementFile"===e.name?"lg:col-span-2":"",children:(0,c.jsx)(T,(0,r.A)((0,r.A)({},e),{},{value:D[e.name]||"",onChange:H,onBlur:()=>{},isError:I[e.name],theme:h}))},e.name))}),O.length>0&&(0,c.jsxs)("div",{className:"mt-4 sm:mt-6",children:[(0,c.jsx)("h4",{className:"text-sm font-semibold mb-3 ".concat("dark"===h?"text-gray-300":"text-gray-700"),children:"Uploaded Files:"}),(0,c.jsx)("div",{className:"space-y-2",children:Array.from(O).map((e,t)=>(0,c.jsxs)("div",{className:"flex items-center justify-between p-2 sm:p-3 rounded-lg border ".concat("dark"===h?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,c.jsx)(n.zo4,{className:"w-4 h-4 flex-shrink-0 ".concat("dark"===h?"text-gray-400":"text-gray-500")}),(0,c.jsx)("span",{className:"text-xs sm:text-sm truncate ".concat("dark"===h?"text-gray-300":"text-gray-700"),children:e.name})]}),(0,c.jsxs)("span",{className:"text-xs flex-shrink-0 ml-2 ".concat("dark"===h?"text-gray-500":"text-gray-400"),children:[(e.size/1024/1024).toFixed(2)," MB"]})]},t))})]})]})}),(0,c.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex-shrink-0 ".concat("dark"===h?"border-gray-700 bg-gray-900/50":"border-gray-200 bg-gray-50/50"," flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4"),children:[(0,c.jsx)("button",{type:"button",onClick:Z,className:"px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold focus:ring-4 focus:ring-gray-500/20 text-sm sm:text-base ".concat("dark"===h?"border-gray-600 text-gray-300":"border-gray-300 text-gray-700"),children:"Cancel"}),N?(0,c.jsx)("button",{type:"submit",onClick:$,className:"px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-purple-600 to-indigo-700 text-white font-bold rounded-lg sm:rounded-xl focus:ring-4 focus:ring-purple-500/30 text-sm sm:text-base",children:"Update Achievement"}):(0,c.jsx)("button",{type:"submit",onClick:$,className:"px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-lg sm:rounded-xl focus:ring-4 focus:ring-green-500/30 text-sm sm:text-base",children:"Add Achievement"})]})]})}),k.show&&(0,c.jsxs)(q,{onClose:()=>C({show:!1,message:"",type:""}),title:"success"===k.type?"Success":"Error",type:k.type,theme:h,children:[(0,c.jsx)("p",{className:"text-sm sm:text-base mb-4 sm:mb-6 ".concat("dark"===h?"text-gray-300":"text-gray-700"),children:k.message}),(0,c.jsx)("div",{className:"flex justify-end",children:(0,c.jsx)("button",{onClick:()=>C({show:!1,message:"",type:""}),className:"px-4 sm:px-6 py-2 sm:py-3 font-semibold rounded-lg text-sm sm:text-base ".concat("success"===k.type?"bg-green-600 text-white":"bg-red-600 text-white"),children:"OK"})})]}),A.show&&(0,c.jsxs)(q,{onClose:()=>E({show:!1,achievementId:null}),title:"Delete Achievement",type:"confirm",theme:h,children:[(0,c.jsx)("p",{className:"text-sm sm:text-base mb-4 sm:mb-6 ".concat("dark"===h?"text-gray-300":"text-gray-700"),children:"Are you sure you want to delete this achievement? This action cannot be undone."}),(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,c.jsx)("button",{onClick:()=>E({show:!1,achievementId:null}),className:"px-4 sm:px-6 py-2 sm:py-3 border-2 rounded-lg font-semibold text-sm sm:text-base ".concat("dark"===h?"border-gray-600 text-gray-300":"border-gray-300 text-gray-700"),children:"Cancel"}),(0,c.jsx)("button",{onClick:async()=>{const{achievementId:a}=A;if(U)try{await i.yE.delete("/employee/".concat(Y,"/").concat(a,"/achievements")),t(e.filter(e=>e.id!==a)),C({show:!0,message:"Achievement deleted successfully!",type:"success"})}catch(s){var r;console.error("Error deleting achievement:",(null===(r=s.response)||void 0===r?void 0:r.data)||s.message),C({show:!0,message:"Failed to delete achievement. Please try again.",type:"error"})}finally{E({show:!1,achievementId:null})}else C({show:!0,message:"You do not have permission to delete achievements.",type:"error"})},className:"px-4 sm:px-6 py-2 sm:py-3 bg-red-600 text-white font-semibold rounded-lg text-sm sm:text-base",children:"Delete"})]})]})]})})};var L=a(3538),F=a(6720),M=a(184),Y=a(6446),R=a(9570);const z=e=>{let{isOpen:t,onClose:a,type:r,title:l,message:o,theme:i}=e;const[d,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(t){if(m(!0),"success"===r||"error"===r){const e=setTimeout(()=>{x()},1500);return()=>clearTimeout(e)}}else m(!1)},[t,r,a]);const x=()=>{m(!1),setTimeout(()=>a(),300)};if(!t)return null;return(0,c.jsx)("div",{className:"fixed bottom-4 right-4 z-[300] transition-all duration-300 ease-in-out\n            ".concat(d?"opacity-100 translate-x-0":"opacity-0 translate-x-full"),children:(0,c.jsx)("div",{className:"p-4 rounded-xl shadow-2xl w-full max-w-xs sm:max-w-sm m-4 border ".concat("dark"===i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:(0,c.jsxs)("div",{className:"flex items-center",children:[(()=>{switch(r){case"success":return(0,c.jsx)(M.A7C,{className:"w-6 h-6 text-green-500"});case"error":return(0,c.jsx)(M.BS8,{className:"w-6 h-6 text-red-500"});case"info":return(0,c.jsx)(n.tr_,{className:"w-6 h-6 text-blue-500"});default:return null}})(),(0,c.jsxs)("div",{className:"ml-3 flex-1",children:[(0,c.jsx)("h3",{className:"text-md font-bold ".concat((()=>{switch(r){case"success":return"text-green-600 dark:text-green-400";case"error":return"text-red-600 dark:text-red-400";case"info":return"text-blue-600 dark:text-blue-400";default:return"dark"===i?"text-white":"text-gray-800"}})()),children:l}),(0,c.jsx)("p",{className:"text-sm ".concat("dark"===i?"text-gray-300":"text-gray-600"),children:o})]}),(0,c.jsx)("button",{onClick:x,className:"ml-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,c.jsx)(n.$8F,{size:16})})]})})})},G=e=>{let{isOpen:t,onClose:a,onConfirm:r,title:s,message:l,confirmText:o,isConfirming:i,theme:d,type:m="warning"}=e;if(!t)return null;return(0,c.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] transition-opacity duration-300",children:(0,c.jsxs)(Y.P.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"p-6 rounded-3xl shadow-2xl w-full max-w-md m-4 border ".concat("dark"===d?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),onClick:e=>e.stopPropagation(),children:[(0,c.jsxs)("div",{className:"flex items-center mb-4",children:[(()=>{switch(m){case"danger":return(0,c.jsx)(M.BS8,{className:"w-6 h-6 text-red-500"});case"warning":default:return(0,c.jsx)(n.tr_,{className:"w-6 h-6 text-yellow-500"});case"info":return(0,c.jsx)(n.tr_,{className:"w-6 h-6 text-blue-500"})}})(),(0,c.jsx)("h3",{className:"text-xl font-bold ml-3 ".concat("danger"===m?"text-red-600":"text-yellow-600"," dark:text-white"),children:s}),(0,c.jsx)("button",{onClick:a,className:"ml-auto p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,c.jsx)(M.QCr,{size:20})})]}),(0,c.jsx)("p",{className:"mb-6 ".concat("dark"===d?"text-gray-300":"text-gray-600"),children:l}),(0,c.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,c.jsx)("button",{onClick:a,className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("dark"===d?"bg-gray-600 hover:bg-gray-500 text-gray-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"),disabled:i,children:"Cancel"}),(0,c.jsx)("button",{onClick:r,disabled:i,className:"px-4 py-2 rounded-lg font-medium text-white transition-colors flex items-center ".concat((()=>{switch(m){case"danger":return"bg-red-600 hover:bg-red-700";case"warning":default:return"bg-yellow-600 hover:bg-yellow-700";case"info":return"bg-blue-600 hover:bg-blue-700"}})()," ").concat(i?"opacity-75 cursor-not-allowed":""),children:i?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Processing..."]}):o})]})]})})},U=()=>{var e,t;const a=(0,o.zy)(),d=(0,o.Zp)(),{empID:x}=(0,o.g)(),{userprofiledata:u,setUserProfileData:p,theme:g,userData:h,matchedArray:b}=(0,s.useContext)(l.ob),y=new URLSearchParams(a.search),v="true"===y.get("fromContextMenu"),j=y.get("targetEmployeeId"),N=v&&j?j:x,w=N===x,k="ADMIN"===(null===h||void 0===h||null===(e=h.roles)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase()),C=w||k&&!w,[A,E]=(0,s.useState)(a.pathname),[S,I]=(0,s.useState)([]),[P,q]=(0,s.useState)(!0),[T,U]=(0,s.useState)(null),[_,J]=(0,s.useState)(!1),[V,H]=(0,s.useState)({}),[W,K]=(0,s.useState)(null),[Z,$]=(0,s.useState)(null),[Q,X]=(0,s.useState)(null),[ee,te]=(0,s.useState)(!1),[ae,re]=(0,s.useState)({}),[se,le]=(0,s.useState)({}),[oe,ne]=(0,s.useState)(null),[ie,ce]=(0,s.useState)(!1),[de,me]=(0,s.useState)(null),[xe,ue]=(0,s.useState)(!1),[pe,ge]=(0,s.useState)(!1),he=(0,s.useRef)(null),[be,ye]=(0,s.useState)(!1),[fe,ve]=(0,s.useState)(0),[je,Ne]=(0,s.useState)(!1),[we,ke]=(0,s.useState)(!0),[Ce,Ae]=(0,s.useState)([]),[Ee,De]=(0,s.useState)(""),[Se,Ie]=(0,s.useState)(""),Pe=(0,s.useRef)(null),[Oe,qe]=(0,s.useState)({isOpen:!1,type:"",title:"",message:""}),[Te,Be]=(0,s.useState)({isOpen:!1,title:"",message:"",confirmText:"",onConfirm:null,type:"warning",isConfirming:!1}),Le=(e,t,a)=>{qe({isOpen:!0,type:e,title:t,message:a})},Fe=function(e,t,a,r){Be({isOpen:!0,title:e,message:t,confirmText:a,onConfirm:r,type:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"warning",isConfirming:!1})},Me=()=>{Be({isOpen:!1,title:"",message:"",confirmText:"",onConfirm:null,type:"warning",isConfirming:!1})},Ye=w?u:W,Re=w?Z||u:Q||W,ze=((null===Re||void 0===Re?void 0:Re.name)||(null===Re||void 0===Re?void 0:Re.displayName)||(null===Ye||void 0===Ye?void 0:Ye.displayName)||"  ").split(" ").map(e=>e[0]).join("").substring(0,2),Ge=[{name:"About",path:"about",icon:F.LTk},{name:"Profile",path:"profile",icon:L.WoZ},{name:"Job",path:"job",icon:F.r72},{name:"Documents",path:"documents",icon:F.YG2},{name:"Achievements",path:"achievements",icon:F.SeC}],Ue=e=>{const t=e.replace(/\D/g,"");return 11===t.length?{isValid:!1,error:"Mobile number cannot be 11 digits. Please enter a 10-digit mobile number."}:t.length>0&&t.length<10?{isValid:!1,error:"Mobile number must be at least 10 digits."}:t.length>12?{isValid:!1,error:"Mobile number cannot exceed 12 digits."}:{isValid:!0,error:null}};(0,s.useEffect)(()=>{_e(0,!0)},[]);const _e=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!je){Ne(!0);try{const a=await i.yE.get("employee/".concat(e,"/10/departmentId/asc/all/departments"));console.log("Department Response:",a.data),Ae(t?a.data.content:e=>[...e,...a.data.content]),ke(10===a.data.length),ve(e)}catch(a){console.log("Error fetching departments:",a),ke(!1)}finally{Ne(!1)}}};(0,s.useEffect)(()=>{if(ee&&null!==Re&&void 0!==Re&&Re.department){Ie(Re.department);const e=Ce.find(e=>e.departmentName===Re.department||Re.department.includes(e.departmentName));De(e?"".concat(e.departmentId,"(").concat(e.departmentName,")"):Re.department)}},[ee,null===Re||void 0===Re?void 0:Re.department,Ce]),(0,s.useEffect)(()=>{const e=e=>{Pe.current&&!Pe.current.contains(e.target)&&ye(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.useEffect)(()=>{if(!N)return;(async()=>{try{const e=await i.yE.get("employee/".concat(N)),t=await i.yE.get("employee/".concat(N,"/header"));v&&j&&j!==x?(K(e.data),X(t.data)):(p(e.data),H(e.data),$(t.data))}catch(e){console.error("\u274c Error fetching details:",e);try{const e=await i.yE.get("employee/".concat(N));v&&j&&j!==x?K(e.data):(p(e.data),H(e.data))}catch(t){console.error("\u274c Error fetching main employee details:",t)}}})()},[N,p,v,j,x]),(0,s.useEffect)(()=>{E(a.pathname)},[a.pathname]);const Je=e=>{H(t=>(0,r.A)((0,r.A)({},t),{},{[e.target.name]:e.target.value}))},Ve=()=>{if(!C)return;const e=Re||{};re(e),le(e),ne(null),me(null),te(!0)},He=async e=>{if(e.preventDefault(),ne(null),me(null),ae.contact){const e=Ue(ae.contact);if(!e.isValid)return void me(e.error)}if((()=>{const e=(0,r.A)((0,r.A)({},ae),{},{department:Se||ae.department});return Object.keys(e).some(t=>e[t]!==se[t])})()){ce(!0);try{const e=(0,r.A)((0,r.A)({},ae),{},{department:Se||ae.department});console.log("Sending payload:",e);const t=await i.yE.put("employee/".concat(N,"/header"),e);w?$(e=>(0,r.A)((0,r.A)({},t.data),{},{employeeImage:(null===e||void 0===e?void 0:e.employeeImage)||t.data.employeeImage})):X(e=>(0,r.A)((0,r.A)({},t.data),{},{employeeImage:(null===e||void 0===e?void 0:e.employeeImage)||t.data.employeeImage})),te(!1),De(""),Ie(""),ne(null),me(null),Le("success","Success","Header information updated successfully!")}catch(x){var t,a,s,l,o,n,c,d,m;console.error("\u274c Error updating header:",x);let e="Failed to update header information. Please try again.";null!==(t=x.response)&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.message?e=x.response.data.message:null!==(s=x.response)&&void 0!==s&&null!==(l=s.data)&&void 0!==l&&l.error?e=x.response.data.error:400===(null===(o=x.response)||void 0===o?void 0:o.status)?e="Invalid data provided. Please check all fields and try again.":401===(null===(n=x.response)||void 0===n?void 0:n.status)?e="You are not authorized to perform this action.":403===(null===(c=x.response)||void 0===c?void 0:c.status)?e="Access denied. You don't have permission to edit this information.":404===(null===(d=x.response)||void 0===d?void 0:d.status)?e="Employee not found. Please refresh the page and try again.":(null===(m=x.response)||void 0===m?void 0:m.status)>=500&&(e="Server error occurred. Please try again later."),ne(e)}finally{ce(!1)}}else Fe("No Changes Detected","You haven't made any changes to the form. Please make some changes before submitting.","OK",()=>{Me()},"info")},We=e=>{const{name:t,value:a}=e.target;if("contact"===t&&(me(null),a.length>0)){const e=Ue(a);e.isValid||me(e.error)}re(e=>(0,r.A)((0,r.A)({},e),{},{[t]:a})),oe&&ne(null)},Ke=e=>{const t="/profile/".concat(x,"/").concat(e);d(v&&j?"".concat(t,"?fromContextMenu=true&targetEmployeeId=").concat(j):t)},Ze=()=>{ge(!0)},$e=()=>{ue(!1),ge(!1)};return(0,c.jsxs)("div",{className:"min-h-screen flex flex-col ".concat("dark"===g?"bg-gray-900":"bg-gray-50"),children:[(0,c.jsxs)("div",{className:"hidden md:block h-auto md:h-48 relative ".concat("dark"===g?"bg-gray-800":"bg-[#B7D4FF]"),children:[b.includes("PROFILE_EDIT_HEADER")&&(0,c.jsx)("button",{onClick:Ve,className:"absolute top-4 right-8 p-2 rounded-full transition-colors ".concat("dark"===g?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-black hover:bg-gray-200"),title:"Edit Header Information",children:(0,c.jsx)(F.Yvo,{className:"w-5 h-5"})}),(0,c.jsxs)("div",{className:"flex items-start pt-4 px-8",children:[(0,c.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>C&&ue(!0),children:[null!==Re&&void 0!==Re&&Re.employeeImage||T?(0,c.jsx)("img",{src:T||Re.employeeImage,alt:"Profile",className:"w-24 h-24 md:w-32 md:h-32 rounded-full border border-white shadow object-cover"}):(0,c.jsx)("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold text-5xl md:text-6xl",children:ze}),C&&(0,c.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 flex items-center justify-center",children:(0,c.jsx)(M.p5B,{className:"text-white text-3xl"})})]}),(0,c.jsxs)("div",{className:"ml-8 ".concat("dark"===g?"text-white":"text-black"),children:[(0,c.jsx)("h1",{className:"text-3xl font-bold",children:(null===Re||void 0===Re?void 0:Re.name)||(null===Ye||void 0===Ye?void 0:Ye.displayName)}),(0,c.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-10 gap-y-2 mt-2 ".concat("dark"===g?"text-white":"text-black"),children:[(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(L.WoZ,{})," ",(0,c.jsx)("span",{children:null===Re||void 0===Re?void 0:Re.employeeId})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(F.r72,{})," ",(0,c.jsx)("span",{children:null===Re||void 0===Re?void 0:Re.jobTitlePrimary})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(F.mm2,{})," ",(0,c.jsx)("span",{children:null===Re||void 0===Re?void 0:Re.workEmail})]}),(null===Re||void 0===Re?void 0:Re.department)&&(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(F.YG2,{})," ",(0,c.jsx)("span",{children:Re.department})]}),(null===Re||void 0===Re?void 0:Re.contact)&&(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(M.Cab,{})," ",(0,c.jsx)("span",{children:Re.contact})]}),(null===Re||void 0===Re?void 0:Re.location)&&(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(F.gwi,{})," ",(0,c.jsx)("span",{children:Re.location})]})]})]})]})]}),(0,c.jsxs)("div",{className:"md:hidden",children:[(0,c.jsxs)("div",{className:"relative p-4 w-full max-w-md mx-auto rounded-xl ".concat("dark"===g?"bg-gray-800":"bg-[#B7D4FF]"),children:[b.includes("PROFILE_EDIT_HEADER")&&(0,c.jsx)("button",{onClick:Ve,className:"absolute top-2 right-2 p-2 rounded-full transition-colors ".concat("dark"===g?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-black hover:bg-gray-200"),title:"Edit Header",children:(0,c.jsx)(F.Yvo,{className:"w-4 h-4"})}),(0,c.jsx)("div",{className:"font-bold text-lg text-center mb-2 mx-auto ".concat("dark"===g?"text-white":"text-black"),children:(null===Re||void 0===Re?void 0:Re.name)||(null===Ye||void 0===Ye?void 0:Ye.displayName)}),(0,c.jsxs)("div",{className:"grid grid-cols-3 gap-x-2 text-xs ".concat("dark"===g?"text-white":"text-black"),children:[(0,c.jsx)("div",{className:"flex justify-start items-center",style:{transform:"translateY(-18px)"},children:(0,c.jsx)("div",{onClick:()=>ue(!0),className:"cursor-pointer",children:null!==Re&&void 0!==Re&&Re.employeeImage||T?(0,c.jsx)("img",{src:T||Re.employeeImage,alt:"Profile",className:"w-16 h-16 rounded-full border border-white shadow object-cover"}):(0,c.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold text-base",children:ze})})}),(0,c.jsxs)("div",{className:"space-y-3 -ml-2",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(L.WoZ,{className:"flex-shrink-0"}),(0,c.jsx)("span",{className:"truncate",children:null===Re||void 0===Re?void 0:Re.employeeId})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(F.r72,{className:"flex-shrink-0"}),(0,c.jsx)("span",{className:"truncate",children:null===Re||void 0===Re?void 0:Re.jobTitlePrimary})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(F.mm2,{className:"flex-shrink-0"}),(0,c.jsx)("span",{className:"truncate",children:null===Re||void 0===Re?void 0:Re.workEmail})]})]}),(0,c.jsxs)("div",{className:"space-y-3 pl-2",children:[(null===Re||void 0===Re?void 0:Re.department)&&(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(F.YG2,{className:"flex-shrink-0"}),(0,c.jsx)("span",{className:"truncate",children:Re.department})]}),(null===Re||void 0===Re?void 0:Re.contact)&&(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(M.Cab,{className:"flex-shrink-0"}),(0,c.jsx)("span",{className:"truncate",children:Re.contact})]}),(null===Re||void 0===Re?void 0:Re.location)&&(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(F.gwi,{className:"flex-shrink-0"}),(0,c.jsx)("span",{className:"truncate",children:Re.location})]})]})]})]}),(0,c.jsx)("div",{className:"sticky top-0 z-[1] flex w-full max-w-md mx-auto border-t ".concat("dark"===g?"border-gray-700 bg-gray-800":"border-black bg-[#B7D4FF]"),children:Ge.map(e=>{const t=a.pathname.endsWith(e.path);return(0,c.jsx)("button",{onClick:()=>Ke(e.path),className:"flex-1 py-2 px-1 text-xs text-center rounded transition-all duration-200 ".concat(t?"".concat("dark"===g?"text-white border-b-2 border-white":"text-black border-b-2 border-black"," font-semibold"):"".concat("dark"===g?"text-gray-400 hover:text-gray-200":"text-black opacity-50 hover:opacity-75")),children:e.name},e.name)})}),(0,c.jsx)("div",{className:"max-w-md mx-auto p-3",children:(0,c.jsxs)(o.BV,{children:[(0,c.jsx)(o.qh,{index:!0,element:(0,c.jsx)(o.C5,{to:"profile",replace:!0})}),(0,c.jsx)(o.qh,{path:"about",element:(0,c.jsx)(m,{})}),(0,c.jsx)(o.qh,{path:"profile",element:(0,c.jsx)(f,{})}),(0,c.jsx)(o.qh,{path:"job",element:(0,c.jsx)(D,{})}),(0,c.jsx)(o.qh,{path:"documents",element:(0,c.jsx)(O,{})}),(0,c.jsx)(o.qh,{path:"achievements",element:(0,c.jsx)(B,{})})]})})]}),(0,c.jsxs)("div",{className:"hidden md:flex flex-1",children:[(0,c.jsx)("main",{className:"flex-1 p-6 ".concat("dark"===g?"bg-gray-900":"bg-gray-50"),children:(0,c.jsxs)(o.BV,{children:[(0,c.jsx)(o.qh,{index:!0,element:(0,c.jsx)(o.C5,{to:"profile",replace:!0})}),(0,c.jsx)(o.qh,{path:"about",element:(0,c.jsxs)("div",{className:"relative",children:[b.includes("CREATE_ADDRESS")&&(0,c.jsx)("button",{onClick:()=>{Le("info","Info","Add address functionality would be implemented here")},className:"absolute top-0 right-10 p-2 rounded-full transition-colors",title:"Add Address",children:(0,c.jsx)(n.YHj,{className:"w-5 h-5"})}),b.includes("DELETE_ADDRESS")&&(0,c.jsx)("button",{onClick:()=>{Fe("Confirm Delete","Are you sure you want to delete this address?","Delete",()=>{Le("success","Success","Address deleted successfully!")},"danger")},className:"absolute top-0 right-0 p-2 rounded-full transition-colors",title:"Delete Address",children:(0,c.jsx)(n.tW_,{className:"w-5 h-5"})}),(0,c.jsx)(m,{})]})}),(0,c.jsx)(o.qh,{path:"profile",element:(0,c.jsxs)("div",{className:"relative",children:[b.includes("CREATE_PROFILE")&&(0,c.jsx)("button",{onClick:()=>{H(Ye),J(!0)},className:"absolute top-0 right-0 p-2 rounded-full transition-colors",title:"Edit Profile",children:(0,c.jsx)(n.U$j,{className:"w-5 h-5"})}),(0,c.jsx)(f,{})]})}),(0,c.jsx)(o.qh,{path:"job",element:(0,c.jsxs)("div",{className:"relative",children:[b.includes("CREATE_JOB")&&(0,c.jsx)("button",{onClick:()=>{Le("info","Info","Add job functionality would be implemented here")},className:"absolute top-0 right-10 p-2 rounded-full transition-colors",title:"Add Job",children:(0,c.jsx)(n.YHj,{className:"w-5 h-5"})}),b.includes("DELETE_JOB")&&(0,c.jsx)("button",{onClick:()=>{Fe("Confirm Delete","Are you sure you want to delete this job record?","Delete",()=>{Le("success","Success","Job record deleted successfully!")},"danger")},className:"absolute top-0 right-0 p-2 rounded-full transition-colors",title:"Delete Job",children:(0,c.jsx)(n.tW_,{className:"w-5 h-5"})}),(0,c.jsx)(D,{})]})}),(0,c.jsx)(o.qh,{path:"documents",element:(0,c.jsxs)("div",{className:"relative",children:[b.includes("CREATE_DOCUMENT")&&(0,c.jsx)("button",{onClick:()=>{Le("info","Info","Add document functionality would be implemented here")},className:"absolute top-0 right-10 p-2 rounded-full transition-colors",title:"Add Document",children:(0,c.jsx)(n.YHj,{className:"w-5 h-5"})}),b.includes("DELETE_DOCUMENT")&&(0,c.jsx)("button",{onClick:()=>{Fe("Confirm Delete","Are you sure you want to delete this document?","Delete",()=>{Le("success","Success","Document deleted successfully!")},"danger")},className:"absolute top-0 right-0 p-2 rounded-full transition-colors",title:"Delete Document",children:(0,c.jsx)(n.tW_,{className:"w-5 h-5"})}),(0,c.jsx)(O,{})]})}),(0,c.jsx)(o.qh,{path:"achievements",element:(0,c.jsxs)("div",{className:"relative",children:[b.includes("CREATE_ACHIEVEMENT")&&(0,c.jsx)("button",{onClick:()=>{Le("info","Info","Add achievement functionality would be implemented here")},className:"absolute top-0 right-10 p-2 rounded-full transition-colors",title:"Add Achievement"}),b.includes("DELETE_ACHIEVEMENT")&&(0,c.jsx)("button",{onClick:()=>{Fe("Confirm Delete","Are you sure you want to delete this achievement?","Delete",()=>{Le("success","Success","Achievement deleted successfully!")},"danger")},className:"absolute top-0 right-0 p-2 rounded-full transition-colors",title:"Delete Achievement"}),(0,c.jsx)(B,{})]})})]})}),(0,c.jsxs)("div",{className:"transition-all ".concat(P?"w-64":"w-20"," border-l ").concat("dark"===g?"bg-gray-900 border-gray-700":"bg-gray-50 border-gray-200"),children:[(0,c.jsx)("button",{onClick:()=>q(!P),className:"absolute -left-3 top-4 rounded-full border p-1 shadow z-10 ".concat("dark"===g?"bg-gray-800 border-gray-600 hover:bg-gray-700 text-white":"bg-white border-gray-300 hover:bg-gray-100 text-gray-600"),children:P?(0,c.jsx)(F.xVu,{}):(0,c.jsx)(F.E_E,{})}),(0,c.jsx)("nav",{className:"p-4 sticky top-0",children:Ge.map(e=>{const t=a.pathname.endsWith(e.path);return(0,c.jsxs)("div",{onClick:()=>Ke(e.path),className:"flex items-center gap-3 px-4 py-3 rounded-lg cursor-pointer ".concat(t?"dark"===g?"bg-blue-600 text-white":"bg-black text-white":"dark"===g?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100"),children:[(0,c.jsx)(e.icon,{className:"w-5 h-5 ".concat(t?"text-white":"dark"===g?"text-gray-400":"text-gray-500")}),P&&(0,c.jsx)("span",{children:e.name})]},e.path)})})]})]}),ee&&(0,c.jsx)(Y.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4",children:(0,c.jsxs)(Y.P.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"w-full max-w-6xl mx-auto rounded-2xl shadow-2xl border-0 overflow-hidden flex flex-col ".concat("dark"===g?"bg-gray-800":"bg-white"),children:[(0,c.jsxs)("div",{className:"relative bg-gradient-to-r from-blue-600 to-blue-700 p-6 sm:p-8 flex-shrink-0",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)(n.zo4,{className:"h-8 w-8 text-white"})}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Edit Header Information"}),(0,c.jsx)("p",{className:"mt-1 text-blue-100 text-sm sm:text-base",children:"Update employee header details and contact information"})]})]}),(0,c.jsx)("button",{onClick:()=>{te(!1),ne(null),me(null),De(""),Ie("")},className:"absolute top-4 right-4 sm:top-6 sm:right-6 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-all duration-200 text-white",children:(0,c.jsx)(n.$8F,{className:"h-5 w-5 sm:h-6 sm:h-6"})})]}),(0,c.jsx)("div",{className:"flex-1 overflow-y-auto max-h-[60vh]",children:(0,c.jsx)("div",{className:"p-6 sm:p-8",children:(0,c.jsxs)("form",{onSubmit:He,className:"space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{className:"group",children:[(0,c.jsx)("label",{className:"block text-sm font-semibold mb-3 ".concat("dark"===g?"text-gray-200":"text-gray-700"),children:"Employee ID"}),(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)("input",{type:"text",name:"employeeId",value:ae.employeeId||"",onChange:We,disabled:!0,className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 \n  focus:border-blue-500 focus:ring-4 focus:ring-blue-100 pointer-events-none cursor-not-allowed opacity-70 ".concat("dark"===g?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter employee ID"})}),(0,c.jsx)("p",{className:"mt-2 text-xs ".concat("dark"===g?"text-gray-400":"text-gray-500"),children:"Unique identifier for the employee"})]}),(0,c.jsxs)("div",{className:"group",children:[(0,c.jsx)("label",{className:"block text-sm font-semibold mb-3 ".concat("dark"===g?"text-gray-200":"text-gray-700"),children:"Full Name"}),(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)("input",{type:"text",name:"name",value:ae.name||"",onChange:We,className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-blue-300 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 ".concat("dark"===g?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter full name"})}),(0,c.jsx)("p",{className:"mt-2 text-xs ".concat("dark"===g?"text-gray-400":"text-gray-500"),children:"Complete name of the employee"})]}),(0,c.jsxs)("div",{className:"group",children:[(0,c.jsx)("label",{className:"block text-sm font-semibold mb-3 ".concat("dark"===g?"text-gray-200":"text-gray-700"),children:"Job Title"}),(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)("input",{type:"text",name:"jobTitlePrimary",value:ae.jobTitlePrimary||"",onChange:We,className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-green-300 focus:border-green-500 focus:ring-4 focus:ring-green-100 ".concat("dark"===g?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter job title"})}),(0,c.jsx)("p",{className:"mt-2 text-xs ".concat("dark"===g?"text-gray-400":"text-gray-500"),children:"Primary role or position title"})]}),(0,c.jsxs)("div",{className:"group",children:[(0,c.jsx)("label",{className:"block text-sm font-semibold mb-3 ".concat("dark"===g?"text-gray-200":"text-gray-700"),children:"Department"}),(0,c.jsxs)("div",{className:"relative",ref:Pe,children:[(0,c.jsxs)("div",{onClick:()=>ye(!be),className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 cursor-pointer flex justify-between items-center group-hover:border-purple-300 focus:border-purple-500 ".concat("dark"===g?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-300 text-gray-900"),children:[(0,c.jsx)("span",{className:Ee||ae.department?"":"dark"===g?"text-gray-400":"text-gray-500",children:Ee||ae.department||"Select department"}),(0,c.jsx)(M.Vr3,{className:"transition-transform duration-200 ".concat(be?"rotate-180":"")})]}),be&&(0,c.jsxs)("div",{className:"absolute z-50 w-full mt-2 max-h-60 overflow-y-auto rounded-xl border-2 shadow-lg ".concat("dark"===g?"bg-gray-700 border-gray-600":"bg-white border-gray-300"),onScroll:e=>{const{scrollTop:t,scrollHeight:a,clientHeight:r}=e.target;a-t<=r+5&&we&&!je&&_e(fe+1,!1)},children:[Ce.map(e=>(0,c.jsxs)("div",{onClick:()=>(e=>{De("".concat(e.departmentId,"(").concat(e.departmentName,")")),Ie(e.departmentName),re(t=>(0,r.A)((0,r.A)({},t),{},{department:e.departmentName})),ye(!1)})(e),className:"px-4 py-3 cursor-pointer border-b hover:bg-opacity-80 transition-colors ".concat("dark"===g?"text-white hover:bg-gray-600 border-gray-600":"text-gray-900 hover:bg-gray-100 border-gray-200"," ").concat(e===Ce[Ce.length-1]?"border-b-0":""),children:[e.departmentId,"(",e.departmentName,")"]},e.departmentId)),je&&(0,c.jsx)("div",{className:"px-4 py-3 text-center ".concat("dark"===g?"text-gray-400":"text-gray-500"),children:"Loading more departments..."}),!we&&Ce.length>0&&(0,c.jsx)("div",{className:"px-4 py-3 text-center text-sm ".concat("dark"===g?"text-gray-500":"text-gray-400"),children:"No more departments"})]})]}),(0,c.jsx)("p",{className:"mt-2 text-xs ".concat("dark"===g?"text-gray-400":"text-gray-500"),children:"Department or division name (Only department name will be saved)"})]}),(0,c.jsxs)("div",{className:"group",children:[(0,c.jsx)("label",{className:"block text-sm font-semibold mb-3 ".concat("dark"===g?"text-gray-200":"text-gray-700"),children:"Work Email"}),(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)("input",{type:"email",name:"workEmail",value:ae.workEmail||"",onChange:We,className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-orange-300 focus:border-orange-500 focus:ring-4 focus:ring-orange-100 ".concat("dark"===g?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter work email"})}),(0,c.jsx)("p",{className:"mt-2 text-xs ".concat("dark"===g?"text-gray-400":"text-gray-500"),children:"Official company email address"})]}),(0,c.jsxs)("div",{className:"group",children:[(0,c.jsx)("label",{className:"block text-sm font-semibold mb-3 ".concat("dark"===g?"text-gray-200":"text-gray-700"),children:"Contact Number"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("input",{type:"text",name:"contact",value:ae.contact||"",onChange:We,className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-teal-300 focus:border-teal-500 focus:ring-4 focus:ring-teal-100 ".concat(de?"dark"===g?"border-red-500 bg-red-900/20":"border-red-500 bg-red-50":"dark"===g?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter contact number"}),de&&(0,c.jsxs)("div",{className:"absolute top-full left-0 mt-1 flex items-center space-x-1",children:[(0,c.jsx)(M.BS8,{className:"w-3 h-3 text-red-500 flex-shrink-0"}),(0,c.jsx)("span",{className:"text-xs ".concat("dark"===g?"text-red-400":"text-red-600"),children:de})]})]}),(0,c.jsx)("p",{className:"mt-2 text-xs ".concat(de?"mt-6":"mt-2"," ").concat("dark"===g?"text-gray-400":"text-gray-500"),children:"Primary contact phone number (10 digits recommended)"})]}),(0,c.jsxs)("div",{className:"group lg:col-span-2",children:[(0,c.jsx)("label",{className:"block text-sm font-semibold mb-3 ".concat("dark"===g?"text-gray-200":"text-gray-700"),children:"Location"}),(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)("input",{type:"text",name:"location",value:ae.location||"",onChange:We,className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-indigo-300 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 ".concat("dark"===g?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter work location"})}),(0,c.jsx)("p",{className:"mt-2 text-xs ".concat("dark"===g?"text-gray-400":"text-gray-500"),children:"Office location or branch name"})]})]}),(oe||de)&&(0,c.jsx)("div",{className:"mt-6 p-4 rounded-xl border-l-4 ".concat("dark"===g?"bg-red-900/20 border-red-500 text-red-300":"bg-red-50 border-red-500 text-red-700"),children:(0,c.jsxs)("div",{className:"flex items-start",children:[(0,c.jsx)(M.BS8,{className:"flex-shrink-0 w-5 h-5 mt-0.5 mr-3 ".concat("dark"===g?"text-red-400":"text-red-500")}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("h4",{className:"font-medium ".concat("dark"===g?"text-red-300":"text-red-800"),children:de?"Mobile Number Validation Error":"Error Updating Header"}),(0,c.jsx)("p",{className:"mt-1 text-sm ".concat("dark"===g?"text-red-400":"text-red-700"),children:de||oe})]})]})})]})})}),(0,c.jsx)("div",{className:"p-6 sm:p-8 border-t border-gray-200 dark:border-gray-600 flex-shrink-0",children:(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,c.jsx)("button",{type:"button",onClick:()=>{te(!1),ne(null),me(null),De(""),Ie("")},disabled:ie,className:"w-full sm:w-auto px-8 py-3 border-2 rounded-xl font-semibold text-base transition-all duration-300 transform hover:scale-105 ".concat("dark"===g?"border-gray-600 text-gray-300 hover:bg-gray-700 hover:border-gray-500":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"," ").concat(ie?"opacity-50 cursor-not-allowed":""),children:"Cancel Changes"}),(0,c.jsx)("button",{type:"submit",onClick:He,disabled:ie||de,className:"w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl text-base transition-all duration-300 transform hover:scale-105 hover:from-blue-700 hover:to-blue-800 focus:ring-4 focus:ring-blue-200 shadow-lg flex items-center justify-center ".concat(ie||de?"opacity-75 cursor-not-allowed":""),children:ie?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Saving..."]}):"Save Changes"})]})})]})}),(0,c.jsx)(R.N,{children:xe&&(0,c.jsx)(Y.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-blur-sm bg-black bg-opacity-75 flex items-center justify-center z-[200] p-2 sm:p-4",onClick:$e,children:pe?(0,c.jsxs)(Y.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"relative max-w-[90vw] max-h-[90vh] flex items-center justify-center",onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("button",{onClick:()=>{ge(!1)},className:"absolute top-2 right-2 sm:top-4 sm:right-4 z-10 p-2 sm:p-3 rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-70 transition-all duration-200",title:"Back to Modal",children:(0,c.jsx)(M.Wsx,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),T||null!==Re&&void 0!==Re&&Re.employeeImage?(0,c.jsx)("img",{src:T||Re.employeeImage,alt:"Profile Full View",className:"max-w-full max-h-full object-contain rounded-xl shadow-2xl"}):(0,c.jsx)("div",{className:"w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 rounded-xl shadow-2xl flex items-center justify-center text-6xl sm:text-8xl font-medium ".concat("dark"===g?"bg-gray-600 text-white":"bg-gray-200 text-gray-600"),children:ze})]}):(0,c.jsxs)(Y.P.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"relative rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 text-center w-full max-w-sm sm:max-w-md ".concat("dark"===g?"bg-gray-800":"bg-white"),onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("button",{onClick:$e,className:"absolute top-3 right-3 sm:top-4 sm:right-4 p-2 rounded-full transition-all duration-200 ".concat("dark"===g?"text-gray-400 hover:bg-gray-700 hover:text-white":"text-gray-500 hover:bg-gray-200 hover:text-gray-700"),children:(0,c.jsx)(M.QCr,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,c.jsx)("h3",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 ".concat("dark"===g?"text-white":"text-gray-900"),children:"Profile Picture"}),(0,c.jsx)("div",{className:"mb-4 sm:mb-6 relative group",children:T||null!==Re&&void 0!==Re&&Re.employeeImage?(0,c.jsxs)("div",{className:"relative cursor-pointer",onClick:Ze,children:[(0,c.jsx)("img",{src:T||Re.employeeImage,alt:"Profile Preview",className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full object-cover mx-auto shadow-xl transition-transform duration-300 group-hover:scale-105"}),(0,c.jsx)("div",{className:"absolute inset-0 rounded-full bg-opacity-0 group-hover:bg-opacity-40 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(M._AH,{className:"text-white opacity-0 group-hover:opacity-100 text-lg sm:text-2xl transition-all duration-300 transform group-hover:scale-110"})})]}):(0,c.jsxs)("div",{className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full mx-auto shadow-xl flex items-center justify-center text-3xl sm:text-4xl md:text-5xl font-medium cursor-pointer transition-transform duration-300 group-hover:scale-105 relative ".concat("dark"===g?"bg-gray-600 text-white":"bg-gray-200 text-gray-600"),onClick:Ze,children:[ze,(0,c.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-40 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(M._AH,{className:"text-white opacity-0 group-hover:opacity-100 text-lg sm:text-2xl transition-all duration-300 transform group-hover:scale-110"})})]})}),(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:[b.includes("PROFILE_HEADER_ADD_IMAGE")&&(0,c.jsxs)("button",{onClick:()=>he.current.click(),className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-all duration-200 transform hover:scale-105 shadow-lg text-sm sm:text-base",children:[(0,c.jsx)(M.p5B,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,c.jsx)("span",{children:"Change"})]}),(null===Re||void 0===Re?void 0:Re.employeeImage)&&(0,c.jsxs)("button",{onClick:()=>{Fe("Confirm Delete","Are you sure you want to delete the profile picture? This action cannot be undone.","Delete",async()=>{Be(e=>(0,r.A)((0,r.A)({},e),{},{isConfirming:!0}));try{await i.yE.delete("employee/".concat(N,"/deleteImage")),w?($(e=>(0,r.A)((0,r.A)({},e),{},{employeeImage:null})),localStorage.removeItem("loggedInUserImage")):X(e=>(0,r.A)((0,r.A)({},e),{},{employeeImage:null})),U(null),Me(),Le("success","Success","Profile picture deleted successfully!"),ue(!1),ge(!1)}catch(e){console.error("Error deleting image:",e),Me(),Le("error","Error","Failed to delete image. Please try again.")}},"danger")},className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition-all duration-200 transform hover:scale-105 shadow-lg text-sm sm:text-base",children:[(0,c.jsx)(M.qbC,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,c.jsx)("span",{children:"Delete"})]})]}),(0,c.jsx)("input",{type:"file",ref:he,onChange:async e=>{const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onloadend=()=>U(a.result),a.readAsDataURL(t);const s=new FormData;s.append("employeeImage",t);try{const e=await i.yE.post("employee/".concat(N,"/upload"),s,{headers:{"Content-Type":"multipart/form-data"}});if(w){$(t=>(0,r.A)((0,r.A)({},t),{},{employeeImage:e.data.employeeImage}));localStorage.getItem("loggedInUserImage")?console.log("\ud83d\udd01 Key exists \u2014 updating stored image address..."):console.log("\ud83c\udd95 Key not found \u2014 creating new key and storing image address..."),localStorage.setItem("loggedInUserImage",e.data.employeeImage)}else X(t=>(0,r.A)((0,r.A)({},t),{},{employeeImage:e.data.employeeImage}));Le("success","Success","Profile picture updated successfully!"),ue(!1),ge(!1)}catch(l){console.error("Error uploading image:",l),Le("error","Error","Failed to upload image. Please try again."),U(null)}},accept:"image/*",className:"hidden"})]})})}),_&&(0,c.jsx)("div",{className:"fixed inset-0 backdrop-blur-sm bg-black bg-opacity-50 flex items-center justify-center z-[200] p-4",children:(0,c.jsxs)("div",{className:"rounded-lg p-4 sm:p-6 w-full max-w-md sm:max-w-lg shadow-2xl ".concat("dark"===g?"bg-gray-800":"bg-white"),children:[(0,c.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-4 ".concat("dark"===g?"text-white":"text-gray-900"),children:"Edit Profile"}),(0,c.jsxs)("form",{onSubmit:e=>{e.preventDefault(),J(!1)},children:[(0,c.jsx)("div",{className:"space-y-4",children:["name","empId","company","department","email","contact","role"].map(e=>(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium capitalize ".concat("dark"===g?"text-gray-300":"text-gray-700"),children:e}),(0,c.jsx)("input",{type:"email"===e?"email":"text",name:e,value:V[e]||"",onChange:Je,className:"mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 text-sm ".concat("dark"===g?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500")})]},e))}),(0,c.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3",children:[(0,c.jsx)("button",{type:"button",onClick:()=>J(!1),className:"w-full sm:w-auto px-4 py-2 border rounded-md transition-colors text-sm ".concat("dark"===g?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:"Cancel"}),(0,c.jsx)("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-sm",children:"Save Changes"})]})]})]})}),(0,c.jsx)(z,{isOpen:Oe.isOpen,onClose:()=>{qe({isOpen:!1,type:"",title:"",message:""})},type:Oe.type,title:Oe.title,message:Oe.message,theme:g}),(0,c.jsx)(G,{isOpen:Te.isOpen,onClose:Me,onConfirm:Te.onConfirm,title:Te.title,message:Te.message,confirmText:Te.confirmText,isConfirming:Te.isConfirming,theme:g,type:Te.type})]})}}}]);
//# sourceMappingURL=492.a5b3498e.chunk.js.map