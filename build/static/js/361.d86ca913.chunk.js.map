{"version":3,"file":"static/js/361.d86ca913.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/PayRoll/PayRollPage.jsx"],"sourcesContent":["import React, { useState, useRef, useCallback, useContext, useEffect } from 'react';\r\nimport { Context } from '../HrmsContext';\r\nimport axios from 'axios';\r\n import jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\nimport { useNavigate} from 'react-router-dom';\r\n\r\n// API Service Functions - Updated with correct endpoints\r\nconst API_BASE_URL = 'https://hrms.anasolconsultancyservices.com/api/payroll';\r\n\r\nconst token=localStorage.getItem(\"accessToken\");\r\n\r\nconst payrollApi = {\r\n  // Add new employee\r\n  addEmployee: async (employeeData) => {\r\n    const response = await fetch(`${API_BASE_URL}/create`, {\r\n      method: 'POST',\r\n      headers: {\r\n         Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(employeeData),\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.message || 'Failed to add employee');\r\n    }\r\n    \r\n    return response.json();\r\n  },\r\n\r\n  // Add attendance\r\n  addAttendance: async (attendanceData) => {\r\n    const response = await fetch(`${API_BASE_URL}/attendance`, {\r\n      method: 'POST',\r\n      headers: {\r\n         Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(attendanceData),\r\n    });\r\n    if (!response.ok) throw new Error('Failed to add attendance');\r\n    return response.json();\r\n  },\r\n \r\n\r\n  // Calculate payroll\r\n  calculatePayroll: async (calculationData) => {\r\n    const response = await fetch(`${API_BASE_URL}/payroll/calculate`, {\r\n      method: 'POST',\r\n      headers: {\r\n         Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(calculationData),\r\n    });\r\n    if (!response.ok) throw new Error('Failed to calculate payroll');\r\n    return response.json();\r\n  },\r\n\r\n \r\n  getPayrollByEmployeeAndMonth: async (employeeId, month, year) => {\r\n    const response = await axios.get(`${API_BASE_URL}/employees/${employeeId}/salary/${month}/${year}`,\r\n      {\r\n        headers : {Authorization : `Bearer ${token}`}\r\n      }\r\n    );\r\n    return response.data.data; \r\n  },\r\n\r\n  updatePayrollComponents: async (payrollId, updateData) => {\r\n    const response = await axios.put(\r\n      `${API_BASE_URL}/admin/payroll/${payrollId}/update`,\r\n      updateData,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  \r\n  recalculateSalary: async (payrollId) => {\r\n    const response = await axios.post(\r\n      `${API_BASE_URL}/payroll/recalculate/${payrollId}`,\r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n\r\n  getEmployeeSalaryByMonth: async (employeeId, month, year) => {\r\n    const response = await axios.get(\r\n      `${API_BASE_URL}/employees/${employeeId}/salary/${month}/${year}`,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n\r\n    const data = response.data?.data;\r\n    if (Array.isArray(data)) return data;\r\n    if (data) return [data];\r\n    return [];\r\n  },\r\n\r\n  \r\n  getEmployeeFullData: async (employeeId) => {\r\n    const response = await axios.get(\r\n      `${API_BASE_URL}/employees/fulldata/${employeeId}`,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n    return response.data?.data || {};\r\n  },\r\n\r\n  \r\n  getAllEmployees: async () => {\r\n    const response = await axios.get(`${API_BASE_URL}/employee`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const data = response.data?.data;\r\n    return Array.isArray(data) ? data : [];\r\n  },\r\n\r\n  \r\n  updateEmployee: async (employeeId, employeeData) => {\r\n    const response = await axios.put(\r\n      `${API_BASE_URL}/employee/${employeeId}`,\r\n      employeeData,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  \r\n  updatePayrollWithBonus: async (payrollId, bonusData) => {\r\n    const response = await axios.put(\r\n      `${API_BASE_URL}/admin/payroll/${payrollId}/update`,\r\n      bonusData,\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    return response.data?.data || response.data;\r\n  },\r\n\r\n  \r\n  deleteEmployee: async (employeeId) => {\r\n    const response = await axios.delete(`${API_BASE_URL}/employee/${employeeId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return response.data;\r\n  },\r\n};\r\n\r\n\r\n// Helper function to convert month name to number\r\nconst getMonthNumber = (monthName) => {\r\n  const months = {\r\n    'January': 1, 'February': 2, 'March': 3, 'April': 4, 'May': 5, 'June': 6,\r\n    'July': 7, 'August': 8, 'September': 9, 'October': 10, 'November': 11, 'December': 12\r\n  };\r\n  return months[monthName];\r\n};\r\n\r\n// Helper function to transform frontend employee data to backend format\r\nconst transformEmployeeToBackend = (frontendData) => {\r\n  return {\r\n    employeeId: frontendData.employeeId,\r\n    empName: frontendData.employeeName,\r\n    email: frontendData.email,\r\n    phoneNumber: frontendData.phoneNumber,\r\n    annualSalary: frontendData.annualSalary,\r\n    accountNumber: frontendData.accountNumber,\r\n    ifsccode: frontendData.ifsccode,\r\n    bankName: frontendData.bankName,\r\n    pfnum: frontendData.pfnum,\r\n    panNumber: frontendData.panNumber,\r\n    aadharNumber: frontendData.aadharNumber,\r\n    uanNumber: frontendData.uanNumber,\r\n    department: frontendData.department,\r\n    designation: frontendData.designation\r\n  };\r\n};\r\n\r\n// Helper function to transform backend employee data to frontend format\r\nconst transformEmployeeToFrontend = (backendData) => {\r\n  if (!backendData) {\r\n    return getDefaultEmployeeData();\r\n  }\r\n\r\n  console.log('Transform function input:', backendData);\r\n\r\n  // Determine if this is payroll data or employee data\r\n  const isPayrollData = backendData.payrollId !== undefined;\r\n  const payrollData = isPayrollData ? backendData : null;\r\n  const employeeData = backendData.employee || backendData;\r\n\r\n  // Calculate default values based on annual salary\r\n  const annualSalary = employeeData.annualSalary || 0;\r\n  const monthlySalary = annualSalary ? (annualSalary * 100000 / 12) : 0;\r\n\r\n  // Use payroll data if available, otherwise calculate defaults\r\n  const grossEarnings = payrollData?.grossEarnings || (monthlySalary > 0 ? monthlySalary : 0);\r\n  const totalDeductions = payrollData?.totalDeductions || (monthlySalary > 0 ? Math.round(monthlySalary * 0.12) + 200 : 0);\r\n  const netSalary = payrollData?.netSalary || (grossEarnings - totalDeductions);\r\n  const bonusAmount = payrollData?.bonusAmount || 0;\r\n  const hikePercentage = payrollData?.hikePercentage || 0;\r\n  \r\n\r\n  // console.log('Calculated values:', {\r\n  //   annualSalary,\r\n  //   monthlySalary,\r\n  //   grossEarnings,\r\n  //   totalDeductions,\r\n  //   netSalary,\r\n  //   isPayrollData: !!payrollData\r\n  // });\r\n\r\n  return {\r\n    id: employeeData.id || employeeData.employeeId,\r\n    employeeId: employeeData.employeeId,\r\n    employeeName: employeeData.empName || employeeData.employeeName,\r\n    email: employeeData.email || '',\r\n    phoneNumber: employeeData.phoneNumber || '',\r\n    annualSalary: annualSalary,\r\n    accountNumber: employeeData.accountNumber || '',\r\n    ifsccode: employeeData.IFSCcode || employeeData.ifsccode || '',\r\n    bankName: employeeData.bankName || '',\r\n    pfnum: employeeData.PFnum || employeeData.pfnum || '',\r\n    panNumber: employeeData.panNumber || '',\r\n    aadharNumber: employeeData.aadharNumber || '',\r\n    uanNumber: employeeData.uanNumber || '',\r\n    department: employeeData.department || '',\r\n    designation: employeeData.designation || '',\r\n    \r\n    // Payroll specific fields\r\n    bankAccountName: employeeData.empName || employeeData.employeeName,\r\n    phoneNo: employeeData.phoneNumber || '',\r\n    panNo: employeeData.panNumber || '',\r\n   // pfnum: employeeData.PFnum || employeeData.pfnum || '',\r\n    \r\n    // Attendance data\r\n    standardDays: payrollData?.totalWorkingDays || 26,\r\n    payableDays: payrollData?.paidDays || 26,\r\n    lossOfPayDays: payrollData?.lossOfPayDays || 0,\r\n    lopReversalDays: 0,\r\n    arrearDays: 0,\r\n    \r\n    // Bonus and hike\r\n    bonus: bonusAmount,\r\n    hike: hikePercentage,\r\n    \r\n    // Earnings - use payroll data or calculate defaults\r\n    earnings: payrollData ? [\r\n      { \r\n        name: 'BASIC', \r\n        monthlyRate: payrollData.basicSalary || 0, \r\n        currentMonth: payrollData.basicSalary || 0, \r\n        arrear: 0, \r\n        total: payrollData.basicSalary || 0 \r\n      },\r\n      { \r\n        name: 'HRA', \r\n        monthlyRate: payrollData.hraAmount || 0, \r\n        currentMonth: payrollData.hraAmount || 0, \r\n        arrear: 0, \r\n        total: payrollData.hraAmount || 0 \r\n      },\r\n      { \r\n        name: 'CONVEYANCE', \r\n        monthlyRate: payrollData.conveyanceAllowance || 0, \r\n        currentMonth: payrollData.conveyanceAllowance || 0, \r\n        arrear: 0, \r\n        total: payrollData.conveyanceAllowance || 0 \r\n      },\r\n      { \r\n        name: 'MEDICAL', \r\n        monthlyRate: payrollData.medicalAllowance || 0, \r\n        currentMonth: payrollData.medicalAllowance || 0, \r\n        arrear: 0, \r\n        total: payrollData.medicalAllowance || 0 \r\n      },\r\n      { \r\n        name: 'SPECIAL ALLOWANCE', \r\n        monthlyRate: payrollData.specialAllowance || 0, \r\n        currentMonth: payrollData.specialAllowance || 0, \r\n        arrear: 0, \r\n        total: payrollData.specialAllowance || 0 \r\n      }\r\n    ] : (monthlySalary > 0 ? [\r\n      { \r\n        name: 'BASIC', \r\n        monthlyRate: Math.round(monthlySalary * 0.5), \r\n        currentMonth: Math.round(monthlySalary * 0.5), \r\n        arrear: 0, \r\n        total: Math.round(monthlySalary * 0.5) \r\n      },\r\n      { \r\n        name: 'HRA', \r\n        monthlyRate: Math.round(monthlySalary * 0.4), \r\n        currentMonth: Math.round(monthlySalary * 0.4), \r\n        arrear: 0, \r\n        total: Math.round(monthlySalary * 0.4) \r\n      },\r\n      { \r\n        name: 'SPECIAL ALLOWANCE', \r\n        monthlyRate: Math.round(monthlySalary * 0.1), \r\n        currentMonth: Math.round(monthlySalary * 0.1), \r\n        arrear: 0, \r\n        total: Math.round(monthlySalary * 0.1) \r\n      }\r\n    ] : []),\r\n    \r\n    // Deductions - use payroll data or calculate defaults\r\n    deductions: payrollData ? [\r\n      { name: 'PROVIDENT FUND', amount: payrollData.providentFund || 0 },\r\n      { name: 'PROFESSIONAL TAX', amount: payrollData.professionalTax || 0 },\r\n      { name: 'INCOME TAX', amount: payrollData.incomeTax || 0 }\r\n    ] : (monthlySalary > 0 ? [\r\n      { name: 'PROVIDENT FUND', amount: Math.round(monthlySalary * 0.12) },\r\n      { name: 'PROFESSIONAL TAX', amount: 200 }\r\n    ] : []),\r\n    \r\n    // Use calculated/actual values\r\n    grossEarnings: grossEarnings,\r\n    totalDeductions: totalDeductions,\r\n    netSalary: netSalary,\r\n    \r\n    // Include payroll ID for updates\r\n    payrollId: payrollData?.payrollId\r\n  };\r\n};\r\n\r\n// Helper function for default employee data\r\nconst getDefaultEmployeeData = () => {\r\n  return {\r\n    id: 'unknown',\r\n    employeeId: 'unknown',\r\n    employeeName: 'Unknown Employee',\r\n    email: '',\r\n    phoneNumber: '',\r\n    annualSalary: 0,\r\n    accountNumber: '',\r\n    ifsccode: '',\r\n    bankName: '',\r\n    pfnum: '',\r\n    panNumber: '',\r\n    aadharNumber: '',\r\n    uanNumber: '',\r\n    department: '',\r\n    designation: '',\r\n    bankAccountName: 'Unknown Employee',\r\n    phoneNo: '',\r\n    panNo: '',\r\n    pfNo: '',\r\n    standardDays: 26,\r\n    payableDays: 26,\r\n    lossOfPayDays: 0,\r\n    lopReversalDays: 0,\r\n    arrearDays: 0,\r\n    bonus: 0,\r\n    hike: 0,\r\n    earnings: [],\r\n    deductions: [],\r\n    grossEarnings: 0,\r\n    totalDeductions: 0,\r\n    netSalary: 0\r\n  };\r\n};\r\n\r\n// Helper function for default earnings calculation\r\nconst getDefaultEarnings = (annualSalary) => {\r\n  const monthlySalary = annualSalary ? (annualSalary * 100000 / 12) : 0;\r\n  return [\r\n    { \r\n      name: 'BASIC', \r\n      monthlyRate: Math.round(monthlySalary * 0.5), \r\n      currentMonth: Math.round(monthlySalary * 0.5), \r\n      arrear: 0, \r\n      total: Math.round(monthlySalary * 0.5) \r\n    },\r\n    { \r\n      name: 'HRA', \r\n      monthlyRate: Math.round(monthlySalary * 0.4), \r\n      currentMonth: Math.round(monthlySalary * 0.4), \r\n      arrear: 0, \r\n      total: Math.round(monthlySalary * 0.4) \r\n    },\r\n    { \r\n      name: 'SPECIAL ALLOWANCE', \r\n      monthlyRate: Math.round(monthlySalary * 0.1), \r\n      currentMonth: Math.round(monthlySalary * 0.1), \r\n      arrear: 0, \r\n      total: Math.round(monthlySalary * 0.1) \r\n    }\r\n  ];\r\n};\r\n\r\n// Helper function for default deductions calculation\r\nconst getDefaultDeductions = (annualSalary) => {\r\n  const monthlySalary = annualSalary ? (annualSalary * 100000 / 12) : 0;\r\n  return [\r\n    { name: 'PROVIDENT FUND', amount: Math.round(monthlySalary * 0.12) },\r\n    { name: 'PROFESSIONAL TAX', amount: 200 }\r\n  ];\r\n};\r\n// Access Denied Component\r\nconst AccessDenied = () => (\r\n  <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center p-6\">\r\n    <div className=\"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center\">\r\n      <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n        <svg className=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n        </svg>\r\n      </div>\r\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Access Denied</h2>\r\n      <p className=\"text-gray-600 mb-6\">\r\n        You don't have permission to access the payroll management system. \r\n        This page is restricted to ADMIN users only.\r\n      </p>\r\n      <button \r\n        onClick={() => window.history.back()}\r\n        className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\"\r\n      >\r\n        Go Back\r\n      </button>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Loading Component\r\nconst LoadingSpinner = () => (\r\n  <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center\">\r\n    <div className=\"text-center\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n      <p className=\"mt-4 text-gray-600\">Loading payroll system...</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst AddEmployeeForm = ({ isAdding, newEmployee, onEmployeeChange, onSave, onCancel, loading }) => { \r\n  if (!isAdding) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"bg-gradient-to-r from-green-600 to-emerald-600 text-white p-6\">\r\n          <h2 className=\"text-2xl font-bold\">Add New Employee</h2>\r\n          <p className=\"opacity-90\">Fill in the employee details below</p>\r\n        </div>\r\n        \r\n        <div className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {/* Personal Information */}\r\n            <div className=\"md:col-span-2\">\r\n              <h3 className=\"text-lg font-semibold mb-4 text-gray-800 border-l-4 border-green-500 pl-3\">Personal Information</h3>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Employee ID *</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEmployee.employeeId}\r\n                onChange={(e) => onEmployeeChange('employeeId', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"e.g., ACS00000001\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Employee Name *</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEmployee.employeeName}\r\n                onChange={(e) => onEmployeeChange('employeeName', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"Full name\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email *</label>\r\n              <input\r\n                type=\"email\"\r\n                value={newEmployee.email}\r\n                onChange={(e) => onEmployeeChange('email', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"email@company.com\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone Number</label>\r\n              <input\r\n                type=\"tel\"\r\n                value={newEmployee.phoneNumber}\r\n                onChange={(e) => onEmployeeChange('phoneNumber', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"9876543210\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Designation</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEmployee.designation}\r\n                onChange={(e) => onEmployeeChange('designation', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"e.g., Software Engineer\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Department</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEmployee.department}\r\n                onChange={(e) => onEmployeeChange('department', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"e.g., Engineering\"\r\n              />\r\n            </div>\r\n\r\n            {/* Salary Information */}\r\n            <div className=\"md:col-span-2\">\r\n              <h3 className=\"text-lg font-semibold mb-4 text-gray-800 border-l-4 border-green-500 pl-3\">Salary Information</h3>\r\n            </div>\r\n            \r\n            <div className=\"md:col-span-2\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Annual Salary (LPA)</label>\r\n              <input\r\n                type=\"number\"\r\n                value={newEmployee.annualSalary}\r\n                onChange={(e) => onEmployeeChange('annualSalary', e.target.value === '' ? '' : Number(e.target.value))}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"6.0\"\r\n                step=\"0.1\"\r\n                min=\"0\"\r\n              />\r\n            </div>\r\n\r\n            {/* Bank Details */}\r\n            <div className=\"md:col-span-2\">\r\n              <h3 className=\"text-lg font-semibold mb-4 text-gray-800 border-l-4 border-green-500 pl-3\">Bank Details</h3>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Account Number</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEmployee.accountNumber}\r\n                onChange={(e) => onEmployeeChange('accountNumber', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"9861376290\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">IFSC Code</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEmployee.ifsccode}\r\n                onChange={(e) => onEmployeeChange('ifsccode', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"SBIN0001234\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"md:col-span-2\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Bank Name</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEmployee.bankName}\r\n                onChange={(e) => onEmployeeChange('bankName', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"State Bank of India\"\r\n              />\r\n            </div>\r\n\r\n            {/* Government Identifiers */}\r\n            <div className=\"md:col-span-2\">\r\n              <h3 className=\"text-lg font-semibold mb-4 text-gray-800 border-l-4 border-green-500 pl-3\">Government Identifiers</h3>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">PF Number</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEmployee.pfnum}\r\n                onChange={(e) => onEmployeeChange('pfnum', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"PF123456\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">PAN Number</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEmployee.panNumber}\r\n                onChange={(e) => onEmployeeChange('panNumber', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"ABCDE1234F\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Aadhar Number</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEmployee.aadharNumber}\r\n                onChange={(e) => onEmployeeChange('aadharNumber', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"123412341234\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">UAN Number</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEmployee.uanNumber}\r\n                onChange={(e) => onEmployeeChange('uanNumber', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors\"\r\n                placeholder=\"UAN123456789\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex gap-4 justify-end pt-6 mt-6 border-t\">\r\n            <button\r\n              onClick={onCancel}\r\n              disabled={loading}\r\n              className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={onSave}\r\n              disabled={loading}\r\n              className=\"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 flex items-center gap-2\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                  Adding...\r\n                </>\r\n              ) : (\r\n                'Add Employee'\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Edit Form Component\r\nconst EditEmployeeForm = ({ editingEmployee, onInputChange, onSaveEdit, onCancelEdit, loading }) => {\r\n  if (!editingEmployee) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center p-4 z-50\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6\">\r\n          <h2 className=\"text-2xl font-bold\">Edit Employee - {editingEmployee.employeeName}</h2>\r\n          <p className=\"opacity-90\">Update employee details, bonus, and hike information</p>\r\n        </div>\r\n        \r\n        <div className=\"p-6\">\r\n          {/* Personal Information */}\r\n          <div className=\"mb-6\">\r\n            <h3 className=\"text-lg font-semibold mb-4 text-gray-800\">Personal Information</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Employee Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.employeeName}\r\n                  onChange={(e) => onInputChange('employeeName', e.target.value)}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Employee ID</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.employeeId}\r\n                  readOnly\r\n                  className=\"w-full border border-gray-300 bg-gray-100 rounded-lg px-4 py-2 text-gray-600\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={editingEmployee.email}\r\n                  onChange={(e) => onInputChange('email', e.target.value)}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone Number</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  value={editingEmployee.phoneNo}\r\n                  onChange={(e) => onInputChange('phoneNo', e.target.value)}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Financial Information */}\r\n          <div className=\"mb-6\">\r\n            <h3 className=\"text-lg font-semibold mb-4 text-gray-800\">Financial Information</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Annual Salary (LPA)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.1\"\r\n                  value={editingEmployee.annualSalary}\r\n                  onChange={(e) => onInputChange('annualSalary', parseFloat(e.target.value))}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Bonus Amount ()</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={editingEmployee.bonus || 0}\r\n                  onChange={(e) => onInputChange('bonus', Number(e.target.value))}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                  placeholder=\"Enter bonus amount\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Hike Percentage (%)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.1\"\r\n                  value={editingEmployee.hike || 0}\r\n                  onChange={(e) => onInputChange('hike', Number(e.target.value))}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                  placeholder=\"Enter hike percentage\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Bank Details */}\r\n          <div className=\"mb-6\">\r\n            <h3 className=\"text-lg font-semibold mb-4 text-gray-800\">Bank Details</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Account Number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.accountNumber}\r\n                  onChange={(e) => onInputChange('accountNumber', e.target.value)}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">IFSC Code</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.ifsccode} \r\n        onChange={(e) => onInputChange('ifsccode', e.target.value)} \r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Bank Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.bankName}\r\n                  onChange={(e) => onInputChange('bankName', e.target.value)}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Government Identifiers */}\r\n          <div className=\"mb-6\">\r\n            <h3 className=\"text-lg font-semibold mb-4 text-gray-800\">Government Identifiers</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">PF Number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.pfnum} \r\n        onChange={(e) => onInputChange('pfnum', e.target.value)} \r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">PAN Number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.panNumber}\r\n                  onChange={(e) => onInputChange('panNumber', e.target.value)}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Aadhar Number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.aadharNumber}\r\n                  onChange={(e) => onInputChange('aadharNumber', e.target.value)}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">UAN Number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingEmployee.uanNumber}\r\n                  onChange={(e) => onInputChange('uanNumber', e.target.value)}\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex gap-4 justify-end pt-4 border-t\">\r\n            <button\r\n              onClick={onCancelEdit}\r\n              className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={onSaveEdit}\r\n              disabled={loading}\r\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 flex items-center gap-2\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                  Saving...\r\n                </>\r\n              ) : (\r\n                'Save Changes'\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PayRollPage = () => {\r\n  const [selectedMonth, setSelectedMonth] = useState('April');\r\n  const [selectedYear, setSelectedYear] = useState('2025');\r\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\r\n  const [editingEmployee, setEditingEmployee] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const { userData } = useContext(Context);\r\n  const [isAdding, setIsAdding] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [apiLoading, setApiLoading] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n     const [employees, setEmployees] = useState([]);\r\n     const navigate=useNavigate();\r\n\r\n    \r\nconst [newEmployee, setNewEmployee] = useState({\r\n  employeeId: '',\r\n  employeeName: '',\r\n  email: '',\r\n  phoneNumber: '',\r\n  designation: '',        \r\n  department: '',         \r\n  annualSalary: 0,\r\n  accountNumber: '',\r\n  ifsccode: '',           \r\n  bankName: '',\r\n  pfnum: '',           \r\n  panNumber: '',\r\n  aadharNumber: '',\r\n  uanNumber: ''\r\n});\r\n\r\n  const [employeesData, setEmployeesData] = useState([]);\r\n  const paySlipRef = useRef(null);\r\n\r\n  const months = ['January', 'February', 'March', 'April', 'May', 'June', \r\n                  'July', 'August', 'September', 'October', 'November', 'December'];\r\n  const years = ['2023', '2024', '2025'];\r\n\r\n    const filteredEmployees = employees.filter(\r\n    (emp) => \r\n      emp.empName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      emp.designation?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      emp.employeeId?.toLowerCase().includes(searchTerm.toLowerCase())\r\n );\r\n\r\n\r\n\r\n  // Move useCallback to the top\r\n  const handleNewEmployeeChange = useCallback((field, value) => {\r\n    setNewEmployee(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  }, []);\r\n\r\n  const handleInputChange = useCallback((field, value) => {\r\n    setEditingEmployee(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  }, []);\r\n\r\n  // Role-based access control\r\n  const hasAdminAccess = () => {\r\n    if (!userData) return false;\r\n    \r\n    if (Array.isArray(userData.roles)) {\r\n      return userData.roles.includes('ADMIN');\r\n    }\r\n    \r\n    return userData.roles === 'ADMIN';\r\n  };\r\n\r\n  // Load employees data on component mount and when month/year changes\r\n  useEffect(() => {\r\n    fetchEmployeesData();\r\n  }, [selectedMonth, selectedYear]);\r\n\r\n const fetchEmployeesData = async () => {\r\n  try {\r\n    setApiLoading(true);\r\n    const employees = await payrollApi.getAllEmployees();\r\n    \r\n    console.log('Raw employees from API:', employees);\r\n\r\n    const employeesArray = Array.isArray(employees) ? employees : [];\r\n    \r\n    const employeesWithPayroll = await Promise.all(\r\n      employeesArray.map(async (employee) => {\r\n        try {\r\n          const monthNumber = getMonthNumber(selectedMonth);\r\n          \r\n          console.log(`Fetching payroll for ${employee.employeeId}, ${monthNumber}, ${selectedYear}`);\r\n          \r\n          const payrollResponse = await payrollApi.getPayrollByEmployeeAndMonth(\r\n            employee.employeeId, \r\n            monthNumber, \r\n            parseInt(selectedYear)\r\n          );\r\n          \r\n          console.log(`Payroll API response for ${employee.employeeId}:`, payrollResponse);\r\n          \r\n          // Check if payroll response has data and merge properly\r\n          if (payrollResponse && payrollResponse.payrollId) {\r\n            console.log(`Merging payroll data for ${employee.employeeId}`);\r\n            \r\n            // Create base employee data\r\n            const baseEmployeeData = transformEmployeeToFrontend(employee);\r\n            \r\n            // Create payroll data with employee info included\r\n            const payrollWithEmployee = {\r\n              ...payrollResponse,\r\n              employee: {\r\n                ...employee,\r\n                ...baseEmployeeData\r\n              }\r\n            };\r\n            \r\n            // Transform the combined data\r\n            const combinedData = transformEmployeeToFrontend(payrollWithEmployee);\r\n            \r\n            console.log(`Combined data for ${employee.employeeId}:`, combinedData);\r\n            return combinedData;\r\n          } else {\r\n            // No payroll data found, return just employee data\r\n            console.log(`No payroll data for ${employee.employeeId}, using employee data only`);\r\n            return transformEmployeeToFrontend(employee);\r\n          }\r\n          \r\n        } catch (error) {\r\n          console.warn(`No payroll data found for ${employee.employeeId}:`, error.message);\r\n          // Return just employee data without payroll\r\n          const employeeData = transformEmployeeToFrontend(employee);\r\n          console.log(`Employee data without payroll for ${employee.employeeId}:`, employeeData);\r\n          return employeeData;\r\n        }\r\n      })\r\n    );\r\n    \r\n    console.log('Final employees data to set:', employeesWithPayroll);\r\n    setEmployeesData(employeesWithPayroll);\r\n    setApiLoading(false);\r\n  } catch (error) {\r\n    console.error('Error fetching employees:', error);\r\n    setEmployeesData([]);\r\n    setApiLoading(false);\r\n    alert('Failed to load employee data. Please try again.');\r\n  }\r\n};\r\n\r\n  // Show loading while checking authentication\r\n  if (!userData) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  // Show access denied if user doesn't have ADMIN role\r\n  if (!hasAdminAccess()) {\r\n    return <AccessDenied />;\r\n  }\r\n\r\n  const handleAddEmployee = () => {\r\n    setIsAdding(true);\r\n  };\r\n\r\n  const handleCancelAdd = () => {\r\n    setIsAdding(false);\r\n    setNewEmployee({\r\n      employeeId: '',\r\n      employeeName: '', \r\n      email: '',\r\n      phoneNumber: '',\r\n      designation: '',\r\n      department: '',\r\n      annualSalary: 0,\r\n      accountNumber: '',\r\n      ifsccode: '', \r\n      bankName: '',\r\n      pfnum: '', \r\n      panNumber: '',\r\n      aadharNumber: '',\r\n      uanNumber: ''\r\n    });\r\n  };\r\n\r\n  const handleSaveNewEmployee = async () => {\r\n    if (!newEmployee.employeeId || !newEmployee.employeeName || !newEmployee.email) {\r\n      alert('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Transform data to backend format\r\n      const backendEmployeeData = transformEmployeeToBackend(newEmployee);\r\n      \r\n      console.log('Sending data to backend:', backendEmployeeData);\r\n      \r\n      // Call the API to add employee\r\n      const response = await payrollApi.addEmployee(backendEmployeeData);\r\n      console.log('Response from backend:', response);\r\n      \r\n      // After successful addition, calculate payroll for current month\r\n      const monthNumber = getMonthNumber(selectedMonth);\r\n      try {\r\n        await payrollApi.calculatePayroll({\r\n          employeeId: newEmployee.employeeId,\r\n          month: monthNumber,\r\n          year: parseInt(selectedYear)\r\n        });\r\n      } catch (calcError) {\r\n        console.warn('Payroll calculation failed:', calcError);\r\n        // Continue even if payroll calculation fails\r\n      }\r\n\r\n      // Refresh the employees list\r\n      await fetchEmployeesData();\r\n      \r\n      setIsAdding(false);\r\n      setNewEmployee({\r\n        employeeId: '',\r\n        employeeName: '',\r\n        email: '',\r\n        phoneNumber: '',\r\n        designation: '',\r\n        department: '',\r\n        annualSalary: 0,\r\n        accountNumber: '',\r\n        ifsccode: '',\r\n        bankName: '',\r\n        pfnum: '',\r\n        panNumber: '',\r\n        aadharNumber: '',\r\n        uanNumber: ''\r\n      });\r\n      \r\n      alert('Employee added successfully!');\r\n    } catch (error) {\r\n      console.error('Error adding employee:', error);\r\n      console.error('Error details:', error.message); \r\n      alert(`Failed to add employee: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\nconst handleDownloadPayslip = async (employee) => {\r\n  try {\r\n    console.log('Starting payslip download for:', employee.employeeId);\r\n    \r\n    // Fetch the latest payroll data for the selected month/year\r\n    const monthNumber = getMonthNumber(selectedMonth);\r\n    let payrollData;\r\n    let employeeData = employee;\r\n\r\n    try {\r\n      payrollData = await payrollApi.getPayrollByEmployeeAndMonth(\r\n        employee.employeeId, \r\n        monthNumber, \r\n        parseInt(selectedYear)\r\n      );\r\n      console.log('Payroll API response:', payrollData);\r\n    } catch (error) {\r\n      console.warn('No payroll data found, using employee data only:', error.message);\r\n      payrollData = null;\r\n    }\r\n\r\n    // Create a combined data object for transformation\r\n    const combinedData = {\r\n      ...(payrollData || {}),\r\n      employee: employeeData\r\n    };\r\n\r\n    // Transform the data to ensure we have proper structure\r\n    const transformedData = transformEmployeeToFrontend(combinedData);\r\n\r\n    // Use the transformed data for generating payslip\r\n    const grossEarnings = transformedData.grossEarnings || 0;\r\n    const totalDeductions = transformedData.totalDeductions || 0;\r\n    const bonusAmount = transformedData.bonus || 0;\r\n    const netSalary = transformedData.netSalary || (grossEarnings - totalDeductions + bonusAmount);\r\n\r\n    // Extract individual components\r\n    const basicSalary = transformedData.earnings?.find(e => e.name === 'BASIC')?.total || 0;\r\n    const hraAmount = transformedData.earnings?.find(e => e.name === 'HRA')?.total || 0;\r\n    const conveyanceAllowance = transformedData.earnings?.find(e => e.name === 'CONVEYANCE')?.total || 0;\r\n    const medicalAllowance = transformedData.earnings?.find(e => e.name === 'MEDICAL')?.total || 0;\r\n    const specialAllowance = transformedData.earnings?.find(e => e.name === 'SPECIAL ALLOWANCE')?.total || 0;\r\n    \r\n    const providentFund = transformedData.deductions?.find(d => d.name === 'PROVIDENT FUND')?.amount || 0;\r\n    const professionalTax = transformedData.deductions?.find(d => d.name === 'PROFESSIONAL TAX')?.amount || 0;\r\n    const incomeTax = transformedData.deductions?.find(d => d.name === 'INCOME TAX')?.amount || 0;\r\n\r\n    // Create a temporary div to render the payslip HTML for PDF conversion\r\n    const payslipElement = document.createElement('div');\r\n    payslipElement.style.position = 'absolute';\r\n    payslipElement.style.left = '-9999px';\r\n    payslipElement.style.width = '800px';\r\n    payslipElement.style.padding = '10px';\r\n    payslipElement.style.backgroundColor = 'white';\r\n    payslipElement.style.fontFamily = 'Arial, sans-serif';\r\n\r\n    // Set the HTML content - EXACT SAME as your reference code but with Yen symbol\r\n    payslipElement.innerHTML = `\r\n      <div style=\"font-family: 'Arial', sans-serif; max-width: 800px; margin: 0 auto;\">\r\n        <!-- Company Header - Same as reference -->\r\n        <div style=\"background: linear-gradient(135deg, #1e40af, #3730a3); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; text-align: center;\">\r\n          <div style=\"font-size: 28px; font-weight: bold; margin-bottom: 8px;\">ANASOL CONSULTANCY SERVICES PVT LTD</div>\r\n          <div style=\"font-size: 22px; opacity: 0.9; margin-bottom: 12px;\">SALARY SLIP</div>\r\n          <div style=\"background: rgba(255,255,255,0.2); padding: 8px 20px; border-radius: 20px; display: inline-block; font-weight: bold;\">\r\n            ${selectedMonth} ${selectedYear}\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Employee Information - Same as reference -->\r\n        <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;\">\r\n          <div style=\"background: #f8fafc; padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;\">\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Employee Name:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${transformedData.employeeName}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Employee ID:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${transformedData.employeeId}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Designation:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${transformedData.designation || 'N/A'}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Department:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${transformedData.department || 'N/A'}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Phone No:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${transformedData.phoneNo || transformedData.phoneNumber || 'N/A'}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div style=\"background: #f8fafc; padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;\">\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Bank A/C Name:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${transformedData.bankAccountName || transformedData.employeeName}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">PAN No:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${transformedData.panNo || transformedData.panNumber || 'N/A'}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">PF No:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${transformedData.pfNo || transformedData.pfnum || 'N/A'}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">IFSC Code:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${transformedData.ifsccode || 'N/A'}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; padding: 8px 0;\">\r\n              <span style=\"font-weight: 600; color: #4b5563;\">Email:</span>\r\n              <span style=\"font-weight: 500; color: #1f2937;\">${transformedData.email || 'N/A'}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Salary Details - Same as reference -->\r\n        <div style=\"margin: 20px 0;\">\r\n          <div style=\"font-size: 18px; font-weight: bold; color: #1e40af; margin-bottom: 12px; border-left: 4px solid #1e40af; padding-left: 10px;\">SALARY DETAILS</div>\r\n          \r\n          <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px;\">\r\n            <!-- Earnings -->\r\n            <div>\r\n              <div style=\"font-size: 16px; font-weight: bold; color: #1e40af; margin-bottom: 8px; border-left: 4px solid #1e40af; padding-left: 10px;\">EARNINGS</div>\r\n              <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 15px;\">\r\n                <thead>\r\n                  <tr style=\"background: linear-gradient(135deg, #1e40af, #3730a3); color: white;\">\r\n                    <th style=\"padding: 12px; text-align: left; font-weight: 600;\">Description</th>\r\n                    <th style=\"padding: 12px; text-align: right; font-weight: 600;\">Amount ()</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Basic Salary</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(basicSalary)}</td>\r\n                  </tr>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">HRA</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(hraAmount)}</td>\r\n                  </tr>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Conveyance Allowance</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(conveyanceAllowance)}</td>\r\n                  </tr>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Medical Allowance</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(medicalAllowance)}</td>\r\n                  </tr>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Special Allowance</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(specialAllowance)}</td>\r\n                  </tr>\r\n                  ${bonusAmount > 0 ? `\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Bonus</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(bonusAmount)}</td>\r\n                  </tr>\r\n                  ` : ''}\r\n                  <tr style=\"background: #dbeafe; font-weight: bold;\">\r\n                    <td style=\"padding: 12px;\"><strong>GROSS EARNINGS</strong></td>\r\n                    <td style=\"padding: 12px; text-align: right;\"><strong>${formatCurrency(grossEarnings)}</strong></td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <!-- Deductions -->\r\n            <div>\r\n              <div style=\"font-size: 16px; font-weight: bold; color: #1e40af; margin-bottom: 8px; border-left: 4px solid #1e40af; padding-left: 10px;\">DEDUCTIONS</div>\r\n              <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 15px;\">\r\n                <thead>\r\n                  <tr style=\"background: linear-gradient(135deg, #1e40af, #3730a3); color: white;\">\r\n                    <th style=\"padding: 12px; text-align: left; font-weight: 600;\">Description</th>\r\n                    <th style=\"padding: 12px; text-align: right; font-weight: 600;\">Amount ()</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Provident Fund</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(providentFund)}</td>\r\n                  </tr>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Professional Tax</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(professionalTax)}</td>\r\n                  </tr>\r\n                  <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                    <td style=\"padding: 12px;\">Income Tax</td>\r\n                    <td style=\"padding: 12px; text-align: right;\">${formatCurrency(incomeTax)}</td>\r\n                  </tr>\r\n                  <tr style=\"background: #dbeafe; font-weight: bold;\">\r\n                    <td style=\"padding: 12px;\"><strong>TOTAL DEDUCTIONS</strong></td>\r\n                    <td style=\"padding: 12px; text-align: right;\"><strong>${formatCurrency(totalDeductions)}</strong></td>\r\n                  </tr>\r\n                  <tr style=\"background: #dcfce7; font-weight: bold; color: #166534; font-size: 18px;\">\r\n                    <td style=\"padding: 12px;\"><strong>NET SALARY</strong></td>\r\n                    <td style=\"padding: 12px; text-align: right;\"><strong>${formatCurrency(netSalary)}</strong></td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Footer - Same as reference -->\r\n        <div style=\"text-align: center; margin-top: 25px; padding-top: 15px; border-top: 2px solid #e5e7eb; color: #6b7280; font-size: 14px;\">\r\n          <p>#1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039</p>\r\n          <p>Ph: 9632091726 | Email: hr@anasolconsultancy.com | www.anasol.com</p>\r\n          <p style=\"margin-top: 8px; color: #9ca3af; font-style: italic;\">\r\n            This is a computer-generated document and does not require a signature\r\n          </p>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    // Add to document\r\n    document.body.appendChild(payslipElement);\r\n\r\n    // Convert to PDF - Same as reference\r\n    const canvas = await html2canvas(payslipElement, {\r\n      scale: 2, // Higher quality\r\n      useCORS: true,\r\n      logging: false\r\n    });\r\n\r\n    // Remove temporary element\r\n    document.body.removeChild(payslipElement);\r\n\r\n    const imgData = canvas.toDataURL('image/png');\r\n    \r\n    // Create PDF - Same as reference\r\n    const pdf = new jsPDF('p', 'mm', 'a4');\r\n    const imgWidth = 210; \r\n    const imgHeight = (canvas.height * imgWidth) / canvas.width;\r\n    \r\n    // Fit to single page - Same as reference\r\n    pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);\r\n\r\n    // Save PDF\r\n    const fileName = `Payslip_${transformedData.employeeName}_${selectedMonth}_${selectedYear}.pdf`;\r\n    pdf.save(fileName);\r\n    \r\n    console.log('PDF payslip downloaded successfully:', fileName);\r\n    \r\n  } catch (error) {\r\n    console.error('Error downloading payslip:', error);\r\n    console.error('Error details:', error.message);\r\n    alert('Failed to download payslip: ' + error.message);\r\n  }\r\n};\r\n\r\n// Currency formatting function with Yen symbol and 2 decimal places\r\nconst formatCurrency = (amount) => {\r\n  return new Intl.NumberFormat('en-IN', {\r\n    minimumFractionDigits: 2,\r\n    maximumFractionDigits: 2\r\n  }).format(amount);\r\n};\r\n\r\n\r\n\r\n// Helper function to generate HTML content\r\nconst generatePayslipHTML = (data, options) => {\r\n  const { selectedMonth, selectedYear, grossEarnings, totalDeductions, bonusAmount, netSalary } = options;\r\n  \r\n  return `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <title>Pay Slip - ${data.employeeName}</title>\r\n  <style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\r\n    \r\n    body { \r\n      font-family: 'Inter', sans-serif; \r\n      margin: 0; \r\n      padding: 20px;\r\n      background-color: white;\r\n    }\r\n    .container { \r\n      max-width: 800px; \r\n      margin: 0 auto; \r\n      background: white;\r\n      border-radius: 16px;\r\n      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\r\n      overflow: hidden;\r\n      border: 1px solid #e0e6ff;\r\n    }\r\n    .company-header { \r\n      background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);\r\n      color: white; \r\n      padding: 30px;\r\n      position: relative;\r\n    }\r\n    .header-content {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n    }\r\n    .company-info {\r\n      flex: 1;\r\n    }\r\n    .company-name { \r\n      font-size: 28px; \r\n      font-weight: 700; \r\n      margin-bottom: 8px;\r\n      letter-spacing: -0.5px;\r\n    }\r\n    .salary-slip-title { \r\n      font-size: 24px; \r\n      font-weight: 600;\r\n      opacity: 0.9;\r\n    }\r\n    .month-badge {\r\n      background: rgba(255, 255, 255, 0.2);\r\n      padding: 8px 16px;\r\n      border-radius: 20px;\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      margin-top: 10px;\r\n      display: inline-block;\r\n    }\r\n    .employee-info { \r\n      display: grid; \r\n      grid-template-columns: 1fr 1fr; \r\n      gap: 25px; \r\n      padding: 30px; \r\n      background: #f8faff;\r\n    }\r\n    .info-card {\r\n      background: white;\r\n      padding: 20px;\r\n      border-radius: 12px;\r\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n      border: 1px solid #e0e6ff;\r\n    }\r\n    .info-row { \r\n      margin-bottom: 12px; \r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 8px 0;\r\n      border-bottom: 1px solid #f1f5f9;\r\n    }\r\n    .info-row:last-child {\r\n      border-bottom: none;\r\n    }\r\n    .info-label { \r\n      font-weight: 600; \r\n      color: #475569;\r\n      font-size: 14px;\r\n    }\r\n    .info-value { \r\n      font-weight: 500;\r\n      color: #1e293b;\r\n      text-align: right;\r\n    }\r\n    .section-title {\r\n      font-size: 20px;\r\n      font-weight: 700;\r\n      margin-bottom: 20px;\r\n      color: #1e293b;\r\n      padding: 0 30px;\r\n      position: relative;\r\n    }\r\n    .section-title::after {\r\n      content: '';\r\n      position: absolute;\r\n      bottom: -8px;\r\n      left: 30px;\r\n      width: 50px;\r\n      height: 3px;\r\n      background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);\r\n      border-radius: 2px;\r\n    }\r\n    .attendance-table, .earnings-table, .deductions-table, .bonus-table { \r\n      width: 100%; \r\n      border-collapse: collapse; \r\n      margin: 20px 0; \r\n      border-radius: 12px;\r\n      overflow: hidden;\r\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n    }\r\n    .attendance-table th, .attendance-table td, \r\n    .earnings-table th, .earnings-table td,\r\n    .deductions-table th, .deductions-table td,\r\n    .bonus-table th, .bonus-table td { \r\n      border: 1px solid #e2e8f0; \r\n      padding: 16px; \r\n      text-align: center; \r\n    }\r\n    .attendance-table th, .earnings-table th, .deductions-table th, .bonus-table th { \r\n      background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);\r\n      color: white; \r\n      font-weight: 600;\r\n      font-size: 14px;\r\n      border: none;\r\n    }\r\n    .attendance-table td, .earnings-table td, .deductions-table td, .bonus-table td {\r\n      background: white;\r\n      font-weight: 500;\r\n      color: #475569;\r\n    }\r\n    .earnings-section { \r\n      padding: 0 30px;\r\n      margin-bottom: 30px;\r\n    }\r\n    .salary-details-grid {\r\n      display: grid;\r\n      grid-template-columns: 2fr 1fr;\r\n      gap: 30px;\r\n    }\r\n    .subsection-title {\r\n      font-weight: 700;\r\n      margin-bottom: 16px;\r\n      color: #1e293b;\r\n      font-size: 16px;\r\n      padding-left: 8px;\r\n      border-left: 4px solid #1e40af;\r\n    }\r\n    .bg-blue-50 {\r\n      background: #dbeafe;\r\n    }\r\n    .bg-green-50 {\r\n      background: #dcfce7;\r\n    }\r\n    .bg-yellow-50 {\r\n      background: #fef9c3;\r\n    }\r\n    .font-semibold {\r\n      font-weight: 600;\r\n    }\r\n    .font-bold {\r\n      font-weight: 700;\r\n    }\r\n    .text-right {\r\n      text-align: right;\r\n    }\r\n    .text-center {\r\n      text-align: center;\r\n    }\r\n    .highlight-row {\r\n      font-size: 15px;\r\n      color: #1e293b;\r\n    }\r\n    .net-salary-row {\r\n      font-size: 16px;\r\n      color: #065f46;\r\n    }\r\n    .footer { \r\n      text-align: center; \r\n      padding: 25px; \r\n      background: #f8fafc;\r\n      margin-top: 30px;\r\n      border-top: 1px solid #e2e8f0;\r\n      color: #64748b;\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n    }\r\n    .footer p {\r\n      margin: 4px 0;\r\n    }\r\n    .watermark {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%) rotate(-45deg);\r\n      font-size: 80px;\r\n      font-weight: 900;\r\n      color: rgba(30, 64, 175, 0.03);\r\n      pointer-events: none;\r\n      z-index: 0;\r\n    }\r\n    @media print {\r\n      body { \r\n        background-color: white;\r\n        margin: 0;\r\n        padding: 0;\r\n      }\r\n      .container {\r\n        box-shadow: none;\r\n        margin: 0;\r\n        max-width: none;\r\n        border: none;\r\n      }\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <div class=\"container\">\r\n    <!-- Watermark -->\r\n    <div class=\"watermark\">ANASOL</div>\r\n    \r\n    <!-- Company Header -->\r\n    <div class=\"company-header\">\r\n      <div class=\"header-content\">\r\n        <div class=\"company-info\">\r\n          <div class=\"company-name\">ANASOL CONSULTANCY SERVICES PVT LTD</div>\r\n          <div class=\"salary-slip-title\">SALARY SLIP</div>\r\n          <div class=\"month-badge\">${selectedMonth} ${selectedYear}</div>\r\n        </div>\r\n        <div class=\"logo-container\">\r\n          <!-- Logo placeholder -->\r\n          <div style=\"width: 100px; height: 100px; background: rgba(255,255,255,0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;\">LOGO</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Employee Information -->\r\n    <div class=\"employee-info\">\r\n      <div class=\"info-card\">\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Employee Name:</span>\r\n          <span class=\"info-value\">${data.employeeName || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Employee ID:</span>\r\n          <span class=\"info-value\">${data.employeeId || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Designation:</span>\r\n          <span class=\"info-value\">${data.designation || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Department:</span>\r\n          <span class=\"info-value\">${data.department || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Phone No:</span>\r\n          <span class=\"info-value\">${data.phoneNo || data.phoneNumber || 'N/A'}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"info-card\">\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Bank A/C Name:</span>\r\n          <span class=\"info-value\">${data.bankAccountName || data.employeeName || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">PAN No:</span>\r\n          <span class=\"info-value\">${data.panNo || data.panNumber || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">PF No:</span>\r\n          <span class=\"info-value\">${data.pfNo || data.pfnum || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">IFSC Code:</span>\r\n          <span class=\"info-value\">${data.ifsccode || 'N/A'}</span>\r\n        </div>\r\n        <div class=\"info-row\">\r\n          <span class=\"info-label\">Email:</span>\r\n          <span class=\"info-value\">${data.email || 'N/A'}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Attendance Information -->\r\n    <div class=\"section-title\">Attendance Information</div>\r\n    <div style=\"padding: 0 30px;\">\r\n      <table class=\"attendance-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Standard Days</th>\r\n            <th>Payable Days</th>\r\n            <th>Loss of Pay Days</th>\r\n            <th>LOP Reversal Days</th>\r\n            <th>Arrear Days</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>${data.standardDays || 0}</td>\r\n            <td>${data.payableDays || 0}</td>\r\n            <td>${data.lossOfPayDays || 0}</td>\r\n            <td>${data.lopReversalDays || 0}</td>\r\n            <td>${data.arrearDays || 0}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <!-- Bonus Information -->\r\n    ${bonusAmount > 0 ? `\r\n    <div class=\"section-title\">Additional Compensation</div>\r\n    <div style=\"padding: 0 30px;\">\r\n      <table class=\"bonus-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Bonus Amount</th>\r\n            <th>Hike Percentage</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>${bonusAmount.toLocaleString()}</td>\r\n            <td>${data.hike || 0}%</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    ` : ''}\r\n\r\n    <!-- Salary Details -->\r\n    <div class=\"section-title\">Salary Details</div>\r\n    <div class=\"earnings-section\">\r\n      <div class=\"salary-details-grid\">\r\n        <!-- Earnings -->\r\n        <div>\r\n          <div class=\"subsection-title\">EARNINGS</div>\r\n          <table class=\"earnings-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Description</th>\r\n                <th>Monthly Rate</th>\r\n                <th>Current Month</th>\r\n                <th>Arrear (+/-)</th>\r\n                <th>Total</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              ${(data.earnings || []).map(earning => `\r\n                <tr>\r\n                  <td>${earning.name || 'N/A'}</td>\r\n                  <td class=\"text-right\">${(earning.monthlyRate || 0).toLocaleString()}</td>\r\n                  <td class=\"text-right\">${(earning.currentMonth || 0).toLocaleString()}</td>\r\n                  <td class=\"text-right\">${earning.arrear || 0}</td>\r\n                  <td class=\"text-right\">${(earning.total || 0).toLocaleString()}</td>\r\n                </tr>\r\n              `).join('')}\r\n              ${bonusAmount > 0 ? `\r\n                <tr class=\"bg-yellow-50\">\r\n                  <td>BONUS</td>\r\n                  <td class=\"text-right\">-</td>\r\n                  <td class=\"text-right\">-</td>\r\n                  <td class=\"text-right\">-</td>\r\n                  <td class=\"text-right\">${bonusAmount.toLocaleString()}</td>\r\n                </tr>\r\n              ` : ''}\r\n              <tr class=\"bg-blue-50 font-semibold highlight-row\">\r\n                <td colspan=\"4\">GROSS EARNINGS</td>\r\n                <td class=\"text-right\">${grossEarnings.toLocaleString()}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <!-- Deductions -->\r\n        <div>\r\n          <div class=\"subsection-title\">DEDUCTIONS</div>\r\n          <table class=\"deductions-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Description</th>\r\n                <th>Amount</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              ${(data.deductions || []).map(deduction => `\r\n                <tr>\r\n                  <td>${deduction.name || 'N/A'}</td>\r\n                  <td class=\"text-right\">${(deduction.amount || 0).toLocaleString()}</td>\r\n                </tr>\r\n              `).join('')}\r\n              <tr class=\"bg-blue-50 font-semibold highlight-row\">\r\n                <td>TOTAL DEDUCTIONS</td>\r\n                <td class=\"text-right\">${totalDeductions.toLocaleString()}</td>\r\n              </tr>\r\n              ${bonusAmount > 0 ? `\r\n                <tr class=\"bg-yellow-50 font-semibold\">\r\n                  <td>BONUS ADDED</td>\r\n                  <td class=\"text-right\">+ ${bonusAmount.toLocaleString()}</td>\r\n                </tr>\r\n              ` : ''}\r\n              <tr class=\"bg-green-50 font-bold net-salary-row\">\r\n                <td>NET SALARY</td>\r\n                <td class=\"text-right\">${netSalary.toLocaleString()}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Footer -->\r\n    <div class=\"footer\">\r\n      <p>#1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039</p>\r\n      <p>Ph: 9632091726 | Email: info@anasol.com | www.anasol.com</p>\r\n      <p style=\"margin-top: 10px; font-size: 12px; color: #94a3b8;\">\r\n        This is a computer-generated document and does not require a signature\r\n      </p>\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>`;\r\n};\r\n\r\n  const handleDownloadExcel = async () => {\r\n    try {\r\n      // Create CSV content from actual data\r\n      const headers = ['Employee ID', 'Employee Name', 'Designation', 'Department', 'Gross Earnings', 'Bonus', 'Total Deductions', 'Net Salary'];\r\n      \r\n      const csvContent = [\r\n        headers.join(','),\r\n        ...employeesWithSalary.map(employee => [\r\n          employee.employeeId,\r\n          `\"${employee.employeeName}\"`,\r\n          `\"${employee.designation}\"`,\r\n          `\"${employee.department}\"`,\r\n          employee.grossEarnings,\r\n          employee.bonusAmount,\r\n          employee.totalDeductions,\r\n          employee.netSalary\r\n        ].join(','))\r\n      ].join('\\n');\r\n\r\n      const BOM = '\\uFEFF';\r\n      const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `Employee_Salary_Summary_${selectedMonth}_${selectedYear}.csv`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error('Error downloading Excel:', error);\r\n      alert('Failed to download Excel sheet. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleView = async (employee) => {\r\n  try {\r\n    \r\n    const monthNumber = getMonthNumber(selectedMonth);\r\n    const year = parseInt(selectedYear);\r\n    \r\n    let payrollData;\r\n    try {\r\n      payrollData = await payrollApi.getPayrollByEmployeeAndMonth(\r\n        employee.employeeId, \r\n        monthNumber, \r\n        year\r\n      );\r\n      console.log('Payroll data found:', payrollData);\r\n    } catch (payrollError) {\r\n      console.warn('No payroll data found, using employee data only:', payrollError.message);\r\n      payrollData = null;\r\n    }\r\n\r\n    // Combine employee data with payroll data\r\n    let fullEmployeeData;\r\n    \r\n    if (payrollData && payrollData.payrollId) {\r\n     \r\n      fullEmployeeData = {\r\n        ...employee,\r\n        ...transformEmployeeToFrontend({\r\n          ...payrollData,\r\n          employee: employee\r\n        })\r\n      };\r\n      console.log('Merged data with payroll:', fullEmployeeData);\r\n    } else {\r\n      // If no payroll data, use the employee data with calculated values\r\n      fullEmployeeData = transformEmployeeToFrontend(employee);\r\n      console.log('Using employee data with calculations:', fullEmployeeData);\r\n    }\r\n\r\n    setSelectedEmployee(fullEmployeeData);\r\n    \r\n  } catch (error) {\r\n    console.error('Error fetching employee details:', error);\r\n    // Fallback to basic employee data with transformations\r\n    const fallbackData = transformEmployeeToFrontend(employee);\r\n    setSelectedEmployee(fallbackData);\r\n  }\r\n};\r\n\r\n  const handleBackToList = () => {\r\n    setSelectedEmployee(null);\r\n    setIsEditing(false);\r\n    setEditingEmployee(null);\r\n  };\r\n\r\n  const handleEdit = (employee) => {\r\n    setEditingEmployee({...employee});\r\n    setIsEditing(true);\r\n  };\r\n  \r\n\r\nconst handleSaveEdit = async () => {\r\n  if (editingEmployee) {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const monthNumber = getMonthNumber(selectedMonth);\r\n      const year = parseInt(selectedYear);\r\n      \r\n      console.log(`Fetching payroll for: ${editingEmployee.employeeId}, ${monthNumber}, ${year}`);\r\n      \r\n      let payrollData;\r\n      try {\r\n        payrollData = await payrollApi.getPayrollByEmployeeAndMonth(\r\n          editingEmployee.employeeId, \r\n          monthNumber, \r\n          year\r\n        );\r\n        \r\n        console.log('Full payroll response:', payrollData);\r\n        \r\n      } catch (error) {\r\n        console.error('Error fetching payroll:', error);\r\n        alert('No payroll record found. Please generate payroll for this employee first.');\r\n        return;\r\n      }\r\n      \r\n      const payrollId = payrollData.payrollId;\r\n      console.log('Extracted payroll ID:', payrollId);\r\n      \r\n      if (!payrollId) {\r\n        console.error('No payroll ID found in response. Available keys:', Object.keys(payrollData));\r\n        alert('Could not find payroll ID. Please check the payroll data.');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // USE THE CORRECT UPDATE ENDPOINT\r\n        await payrollApi.updatePayrollComponents(payrollId, {\r\n           bonusAmount: editingEmployee.bonus || 0,\r\n          hikePercentage: editingEmployee.hike || 0,\r\n          basicSalary: editingEmployee.basicSalary,\r\n          hraAmount: editingEmployee.hra,\r\n          conveyanceAllowance: editingEmployee.conveyanceAllowance,\r\n          medicalAllowance: editingEmployee.medicalAllowance,\r\n          specialAllowance: editingEmployee.specialAllowance,\r\n          otherAllowances: editingEmployee.otherAllowances,\r\n          providentFund: editingEmployee.providentFund,\r\n          professionalTax: editingEmployee.professionalTax,\r\n          incomeTax: editingEmployee.incomeTax,\r\n          otherDeductions: editingEmployee.otherDeductions\r\n        });\r\n\r\n        // Refresh data\r\n        setTimeout(async () => {\r\n          await fetchEmployeesData();\r\n        }, 500);\r\n        \r\n        setIsEditing(false);\r\n        setEditingEmployee(null);\r\n        alert('Employee payroll updated successfully!');\r\n        \r\n      } catch (updateError) {\r\n        console.error('Error updating payroll:', updateError);\r\n        console.error('Error response:', updateError.response?.data);\r\n        alert('Failed to update payroll. Please try again.');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Error in handleSaveEdit:', error);\r\n      alert('Failed to update employee. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n};\r\n\r\n  const handleCancelEdit = () => {\r\n    setIsEditing(false);\r\n    setEditingEmployee(null);\r\n  };\r\n\r\n  // Fix the employeesWithSalary calculation with safe defaults\r\n  // Fix the employeesWithSalary calculation with safe defaults\r\nconst employeesWithSalary = (employeesData || []).map((employee, index) => {\r\n  // Use actual backend data if available, otherwise calculate\r\n  const grossEarnings = employee.grossEarnings || \r\n                       employee.earnings?.reduce((sum, item) => sum + (item?.total || 0), 0) || 0;\r\n  \r\n  const totalDeductions = employee.totalDeductions || \r\n                         employee.deductions?.reduce((sum, item) => sum + (item?.amount || 0), 0) || 0;\r\n  \r\n  const bonusAmount = employee.bonus || 0;\r\n  const netSalary = employee.netSalary || (grossEarnings - totalDeductions + bonusAmount);\r\n  \r\n  return {\r\n    id: employee?.id || employee?.employeeId || `emp-${index}`,\r\n    employeeId: employee?.employeeId || `unknown-${index}`,\r\n    employeeName: employee?.employeeName || 'Unknown Employee',\r\n    designation: employee?.designation || '-',\r\n    department: employee?.department || '-',\r\n    email: employee?.email || '-',\r\n    phoneNumber: employee?.phoneNumber || '-',\r\n    annualSalary: employee?.annualSalary || 0,\r\n    // Include all other employee properties\r\n    ...employee,\r\n    grossEarnings,\r\n    totalDeductions,\r\n    bonusAmount,\r\n    netSalary,\r\n    // Ensure earnings and deductions are always arrays\r\n    earnings: employee.earnings || [],\r\n    deductions: employee.deductions || []\r\n  };\r\n});\r\n\r\n  // If an employee is selected, show their payslip\r\n  if (selectedEmployee && !isEditing) {\r\n    const paySlipData = selectedEmployee;\r\n    const grossEarnings = paySlipData.grossEarnings || 0;\r\n    const totalDeductions = paySlipData.totalDeductions || 0;\r\n    const bonusAmount = paySlipData.bonusAmount || 0;\r\n    const netSalary = paySlipData.netSalary || 0;\r\n\r\n    \r\n\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-6\">\r\n        <div className=\"max-w-4xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden border border-blue-100\">\r\n          {/* Header */}\r\n          <div className=\"bg-gradient-to-r from-blue-800 to-purple-800 text-white p-8\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold\">ANASOL CONSULTANCY SERVICES PVT LTD</h1>\r\n                <h2 className=\"text-xl mt-2 opacity-90\">SALARY SLIP</h2>\r\n                <div className=\"mt-3 bg-white/20 px-4 py-1 rounded-full inline-block text-sm\">\r\n                  {selectedMonth} {selectedYear}\r\n                </div>\r\n              </div>\r\n              <div className=\"w-24 h-24 bg-white/20 rounded-xl flex items-center justify-center\">\r\n                <img \r\n                  src=\"/assets/anasol-logo.png\" \r\n                  alt=\"Anasol Logo\" \r\n                  className=\"w-20 h-20 object-contain\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action buttons */}\r\n          <div className=\"p-4 bg-gray-50 border-b flex justify-between items-center\">\r\n            <button \r\n              onClick={handleBackToList}\r\n              className=\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium\"\r\n            >\r\n               Back to Employee List\r\n            </button>\r\n            <button \r\n              onClick={() => handleEdit(selectedEmployee)}\r\n              className=\"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium\"\r\n            >\r\n              Edit Salary\r\n            </button>\r\n          </div>\r\n\r\n          {/* Pay Slip Content */}\r\n          <div ref={paySlipRef} className=\"p-8\">\r\n            {/* Employee Information */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n              <div className=\"bg-white p-6 rounded-xl shadow-sm border border-blue-100\">\r\n                <h3 className=\"text-lg font-semibold mb-4 text-gray-800 border-l-4 border-blue-500 pl-3\">Personal Information</h3>\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                    <span className=\"font-medium text-gray-600\">Employee Name:</span>\r\n                    <span className=\"font-semibold text-gray-800\">{paySlipData.employeeName}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                    <span className=\"font-medium text-gray-600\">Employee ID:</span>\r\n                    <span className=\"font-semibold text-gray-800\">{paySlipData.employeeId}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                    <span className=\"font-medium text-gray-600\">Designation:</span>\r\n                    <span className=\"font-semibold text-gray-800\">{paySlipData.designation}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                    <span className=\"font-medium text-gray-600\">Department:</span>\r\n                    <span className=\"font-semibold text-gray-800\">{paySlipData.department}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"font-medium text-gray-600\">Phone No:</span>\r\n                    <span className=\"font-semibold text-gray-800\">{paySlipData.phoneNo}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-xl shadow-sm border border-blue-100\">\r\n                <h3 className=\"text-lg font-semibold mb-4 text-gray-800 border-l-4 border-blue-500 pl-3\">Bank & Tax Information</h3>\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                    <span className=\"font-medium text-gray-600\">Bank A/C Name:</span>\r\n                    <span className=\"font-semibold text-gray-800\">{paySlipData.bankAccountName}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                    <span className=\"font-medium text-gray-600\">PAN No:</span>\r\n                    <span className=\"font-semibold text-gray-800\">{paySlipData.panNo}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                    <span className=\"font-medium text-gray-600\">PF No:</span>\r\n                    <span className=\"font-semibold text-gray-800\">{paySlipData.pfNo}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                    <span className=\"font-medium text-gray-600\">IFSC Code:</span>\r\n                    <span className=\"font-semibold text-gray-800\">{paySlipData.ifsccode}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"font-medium text-gray-600\">Email:</span>\r\n                    <span className=\"font-semibold text-gray-800\">{paySlipData.email}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Attendance Information */}\r\n            <div className=\"mb-8\">\r\n              <h3 className=\"text-xl font-bold mb-4 text-gray-800 border-l-4 border-blue-500 pl-3\">Attendance Information</h3>\r\n              <div className=\"overflow-x-auto rounded-xl shadow-sm border border-gray-200\">\r\n                <table className=\"min-w-full bg-white\">\r\n                  <thead>\r\n                    <tr className=\"bg-gradient-to-r from-gray-50 to-blue-50\">\r\n                      <th className=\"border-b border-gray-200 px-6 py-4 font-semibold text-gray-700\">Standard Days</th>\r\n                      <th className=\"border-b border-gray-200 px-6 py-4 font-semibold text-gray-700\">Payable Days</th>\r\n                      <th className=\"border-b border-gray-200 px-6 py-4 font-semibold text-gray-700\">Loss of Pay Days</th>\r\n                      <th className=\"border-b border-gray-200 px-6 py-4 font-semibold text-gray-700\">LOP Reversal Days</th>\r\n                      <th className=\"border-b border-gray-200 px-6 py-4 font-semibold text-gray-700\">Arrear Days</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"border-b border-gray-100 px-6 py-4 text-center font-medium text-gray-900\">{paySlipData.standardDays}</td>\r\n                      <td className=\"border-b border-gray-100 px-6 py-4 text-center font-medium text-gray-900\">{paySlipData.payableDays}</td>\r\n                      <td className=\"border-b border-gray-100 px-6 py-4 text-center font-medium text-gray-900\">{paySlipData.lossOfPayDays}</td>\r\n                      <td className=\"border-b border-gray-100 px-6 py-4 text-center font-medium text-gray-900\">{paySlipData.lopReversalDays}</td>\r\n                      <td className=\"border-b border-gray-100 px-6 py-4 text-center font-medium text-gray-900\">{paySlipData.arrearDays}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Bonus Information */}\r\n            {bonusAmount > 0 && (\r\n              <div className=\"mb-8\">\r\n                <h3 className=\"text-xl font-bold mb-4 text-gray-800 border-l-4 border-blue-500 pl-3\">Additional Compensation</h3>\r\n                <div className=\"overflow-x-auto rounded-xl shadow-sm border border-gray-200\">\r\n                  <table className=\"min-w-full bg-white\">\r\n                    <thead>\r\n                      <tr className=\"bg-gradient-to-r from-yellow-50 to-orange-50\">\r\n                        <th className=\"border-b border-gray-200 px-6 py-4 font-semibold text-gray-700\">Bonus Amount</th>\r\n                        <th className=\"border-b border-gray-200 px-6 py-4 font-semibold text-gray-700\">Hike Percentage</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr>\r\n                        <td className=\"border-b border-gray-100 px-6 py-4 text-center font-bold text-yellow-700\">{bonusAmount.toLocaleString()}</td>\r\n                        <td className=\"border-b border-gray-100 px-6 py-4 text-center font-medium text-gray-900\">{paySlipData.hike || 0}%</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Salary Details */}\r\n            <div className=\"mb-8\">\r\n              <h3 className=\"text-xl font-bold mb-4 text-gray-800 border-l-4 border-blue-500 pl-3\">Salary Details</h3>\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                {/* Earnings */}\r\n                <div className=\"lg:col-span-2\">\r\n                  <h4 className=\"font-semibold mb-3 text-gray-700\">EARNINGS</h4>\r\n                  <div className=\"overflow-x-auto rounded-xl shadow-sm border border-gray-200\">\r\n                    <table className=\"min-w-full bg-white\">\r\n                      <thead>\r\n                        <tr className=\"bg-gradient-to-r from-gray-50 to-blue-50\">\r\n                          <th className=\"border-b border-gray-200 px-4 py-3 font-semibold text-gray-700\">Description</th>\r\n                          <th className=\"border-b border-gray-200 px-4 py-3 font-semibold text-gray-700 text-right\">Monthly Rate</th>\r\n                          <th className=\"border-b border-gray-200 px-4 py-3 font-semibold text-gray-700 text-right\">Current Month</th>\r\n                          <th className=\"border-b border-gray-200 px-4 py-3 font-semibold text-gray-700 text-right\">Arrear (+/-)</th>\r\n                          <th className=\"border-b border-gray-200 px-4 py-3 font-semibold text-gray-700 text-right\">Total</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {(paySlipData.earnings || []).map((earning, index) => (\r\n                          <tr key={index} className=\"hover:bg-gray-50\">\r\n                            <td className=\"border-b border-gray-100 px-4 py-3 text-gray-700\">{earning.name}</td>\r\n                            <td className=\"border-b border-gray-100 px-4 py-3 text-right font-medium text-gray-900\">{(earning.monthlyRate || 0).toLocaleString()}</td>\r\n                            <td className=\"border-b border-gray-100 px-4 py-3 text-right font-medium text-gray-900\">{(earning.currentMonth || 0).toLocaleString()}</td>\r\n                            <td className=\"border-b border-gray-100 px-4 py-3 text-right font-medium text-gray-900\">{earning.arrear || 0}</td>\r\n                            <td className=\"border-b border-gray-100 px-4 py-3 text-right font-medium text-gray-900\">{(earning.total || 0).toLocaleString()}</td>\r\n                          </tr>\r\n                        ))}\r\n                        {bonusAmount > 0 && (\r\n                          <tr className=\"bg-yellow-50 hover:bg-yellow-100\">\r\n                            <td className=\"border-b border-gray-100 px-4 py-3 font-semibold text-yellow-800\">BONUS</td>\r\n                            <td className=\"border-b border-gray-100 px-4 py-3 text-right font-medium text-yellow-800\">-</td>\r\n                            <td className=\"border-b border-gray-100 px-4 py-3 text-right font-medium text-yellow-800\">-</td>\r\n                            <td className=\"border-b border-gray-100 px-4 py-3 text-right font-medium text-yellow-800\">-</td>\r\n                            <td className=\"border-b border-gray-100 px-4 py-3 text-right font-bold text-yellow-800\">{bonusAmount.toLocaleString()}</td>\r\n                          </tr>\r\n                        )}\r\n                        <tr className=\"bg-blue-50 font-semibold\">\r\n                          <td className=\"border-b border-gray-200 px-4 py-3\" colSpan=\"4\">GROSS EARNINGS</td>\r\n                          <td className=\"border-b border-gray-200 px-4 py-3 text-right text-blue-800\">{grossEarnings.toLocaleString()}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Deductions */}\r\n                <div>\r\n                  <h4 className=\"font-semibold mb-3 text-gray-700\">DEDUCTIONS</h4>\r\n                  <div className=\"overflow-x-auto rounded-xl shadow-sm border border-gray-200\">\r\n                    <table className=\"min-w-full bg-white\">\r\n                      <thead>\r\n                        <tr className=\"bg-gradient-to-r from-gray-50 to-blue-50\">\r\n                          <th className=\"border-b border-gray-200 px-4 py-3 font-semibold text-gray-700\">Description</th>\r\n                          <th className=\"border-b border-gray-200 px-4 py-3 font-semibold text-gray-700 text-right\">Amount</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {(paySlipData.deductions || []).map((deduction, index) => (\r\n                          <tr key={index} className=\"hover:bg-gray-50\">\r\n                            <td className=\"border-b border-gray-100 px-4 py-3 text-gray-700\">{deduction.name}</td>\r\n                            <td className=\"border-b border-gray-100 px-4 py-3 text-right font-medium text-red-600\">{(deduction.amount || 0).toLocaleString()}</td>\r\n                          </tr>\r\n                        ))}\r\n                        <tr className=\"bg-blue-50 font-semibold\">\r\n                          <td className=\"border-b border-gray-200 px-4 py-3\">TOTAL DEDUCTIONS</td>\r\n                          <td className=\"border-b border-gray-200 px-4 py-3 text-right text-red-700\">{totalDeductions.toLocaleString()}</td>\r\n                        </tr>\r\n                        {bonusAmount > 0 && (\r\n                          <tr className=\"bg-yellow-50 font-semibold\">\r\n                            <td className=\"border-b border-gray-200 px-4 py-3 text-yellow-800\">BONUS ADDED</td>\r\n                            <td className=\"border-b border-gray-200 px-4 py-3 text-right text-yellow-800\">+ {bonusAmount.toLocaleString()}</td>\r\n                          </tr>\r\n                        )}\r\n                        <tr className=\"bg-green-50 font-bold\">\r\n                          <td className=\"border-b border-gray-200 px-4 py-3 text-green-800\">NET SALARY</td>\r\n                          <td className=\"border-b border-gray-200 px-4 py-3 text-right text-green-800\">{netSalary.toLocaleString()}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"mt-8 pt-6 border-t border-gray-300 text-center text-sm text-gray-600\">\r\n              <p>#1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039 | Ph: 9632091726</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-6\">\r\n      {/* Add Employee Form Modal */}\r\n      <AddEmployeeForm\r\n        isAdding={isAdding}\r\n        newEmployee={newEmployee}\r\n        onEmployeeChange={handleNewEmployeeChange}\r\n        onSave={handleSaveNewEmployee}\r\n        onCancel={handleCancelAdd}\r\n        loading={loading}\r\n      />\r\n      \r\n      {/* Edit Form Modal */}\r\n      {isEditing && (\r\n        <EditEmployeeForm\r\n          editingEmployee={editingEmployee}\r\n          onInputChange={handleInputChange}\r\n          onSaveEdit={handleSaveEdit}\r\n          onCancelEdit={handleCancelEdit}\r\n          loading={loading}\r\n        />\r\n      )}\r\n      <div className=\"max-w-7xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden border border-blue-100\">\r\n        {/* <div className=\"bg-gradient-to-r from-blue-800 to-indigo-800 text-white p-8\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold mb-2\">ANASOL CONSULTANCY SERVICES PVT LTD</h1>\r\n              <p className=\"text-blue-100\">Admin Payroll Management</p>\r\n            </div>\r\n            <div className=\"w-20 h-20 bg-white/20 rounded-xl flex items-center justify-center\">\r\n              <img \r\n                src=\"/assets/anasol-logo.png\" \r\n                alt=\"Anasol Logo\" \r\n                className=\"w-16 h-16 object-contain\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n\r\n        {/* Filters and Action Buttons */}\r\n        <div className=\"p-6 bg-white border-b border-gray-200\">\r\n          <div className=\"flex flex-wrap gap-4 items-center justify-between\">\r\n            <div className=\"flex flex-wrap gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Month</label>\r\n                <select \r\n                  value={selectedMonth}\r\n                  onChange={(e) => setSelectedMonth(e.target.value)}\r\n                  className=\"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                >\r\n                  {months.map(month => (\r\n                    <option key={month} value={month}>{month}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Year</label>\r\n                <select \r\n                  value={selectedYear}\r\n                  onChange={(e) => setSelectedYear(e.target.value)}\r\n                  className=\"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                >\r\n                  {years.map(year => (\r\n                    <option key={year} value={year}>{year}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              \r\n            <div className=\"flex-1\">\r\n            <label htmlFor=\"search-input\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Search Employees\r\n            </label>\r\n            <input\r\n              id=\"search-input\"\r\n              type=\"text\"\r\n              placeholder=\"Search by name, role, or employee ID\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n            />\r\n          </div>\r\n              \r\n            </div>\r\n            <div className=\"flex gap-4\">\r\n              <button \r\n                onClick={handleAddEmployee}\r\n                className=\"px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg font-medium flex items-center gap-2\"\r\n              >\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n                </svg>\r\n                Add Employee\r\n              </button>\r\n              <button \r\n                onClick={handleDownloadExcel}\r\n                className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg font-medium\"\r\n              >\r\n                Download Excel Sheet\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Employee Salary Table */}\r\n        <div className=\"p-6\">\r\n          <h3 className=\"text-2xl font-bold mb-6 text-gray-800\">Employee Salary Summary - {selectedMonth} {selectedYear}</h3>\r\n          \r\n          {apiLoading ? (\r\n            <div className=\"flex justify-center items-center py-12\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n              <span className=\"ml-4 text-gray-600\">Loading employee data...</span>\r\n            </div>\r\n          ) : (\r\n            <div className=\"overflow-x-auto rounded-xl shadow-sm border border-gray-200\">\r\n              <table className=\"min-w-full bg-white\">\r\n                <thead>\r\n                  <tr className=\"bg-gradient-to-r from-gray-50 to-blue-50\">\r\n                    <th className=\"border-b border-gray-200 px-6 py-4 text-left font-semibold text-gray-700\">Employee ID</th>\r\n                    <th className=\"border-b border-gray-200 px-6 py-4 text-left font-semibold text-gray-700\">Employee Name</th>\r\n                    <th className=\"border-b border-gray-200 px-6 py-4 text-left font-semibold text-gray-700\">Designation</th>\r\n                    <th className=\"border-b border-gray-200 px-6 py-4 text-left font-semibold text-gray-700\">Department</th>\r\n                    <th className=\"border-b border-gray-200 px-6 py-4 text-right font-semibold text-gray-700\">Gross Earnings</th>\r\n                    <th className=\"border-b border-gray-200 px-6 py-4 text-right font-semibold text-gray-700\">Bonus</th>\r\n                    <th className=\"border-b border-gray-200 px-6 py-4 text-right font-semibold text-gray-700\">Deductions</th>\r\n                    <th className=\"border-b border-gray-200 px-6 py-4 text-right font-semibold text-gray-700\">Net Salary</th>\r\n                    <th className=\"border-b border-gray-200 px-6 py-4 text-center font-semibold text-gray-700\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {employeesWithSalary.length > 0 ? (\r\n                    employeesWithSalary.map(employee => (\r\n                      <tr key={employee.id} className=\"hover:bg-blue-50 transition-colors\">\r\n                        <td className=\"border-b border-gray-100 px-6 py-4 font-medium text-gray-900\">{employee.employeeId}</td>\r\n                        <td className=\"border-b border-gray-100 px-6 py-4 font-semibold text-gray-800\">{employee.employeeName}</td>\r\n                        <td className=\"border-b border-gray-100 px-6 py-4 text-gray-700\">{employee.designation}</td>\r\n                        <td className=\"border-b border-gray-100 px-6 py-4 text-gray-700\">{employee.department}</td>\r\n                        <td className=\"border-b border-gray-100 px-6 py-4 text-right font-medium text-gray-900\">\r\n                          {employee.grossEarnings.toLocaleString()}\r\n                        </td>\r\n                        <td className=\"border-b border-gray-100 px-6 py-4 text-right font-medium text-yellow-600\">\r\n                          {employee.bonusAmount > 0 ? `${employee.bonusAmount.toLocaleString()}` : '-'}\r\n                        </td>\r\n                        <td className=\"border-b border-gray-100 px-6 py-4 text-right text-red-600 font-medium\">\r\n                          {employee.totalDeductions.toLocaleString()}\r\n                        </td>\r\n                        <td className=\"border-b border-gray-100 px-6 py-4 text-right font-bold text-green-700\">\r\n                          {employee.netSalary.toLocaleString()}\r\n                        </td>\r\n                        <td className=\"border-b border-gray-100 px-6 py-4\">\r\n                          <div className=\"flex gap-2 justify-center\">\r\n                            <button \r\n                              onClick={() => handleView(employee)}\r\n                              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm\"\r\n                            >\r\n                              View\r\n                            </button>\r\n                            <button \r\n                              onClick={() => handleEdit(employee)}\r\n                              className=\"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium text-sm\"\r\n                            >\r\n                              Edit\r\n                            </button>\r\n                            <button \r\n                              onClick={() => handleDownloadPayslip(employee)}\r\n                              className=\"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-colors font-medium text-sm\"\r\n                            >\r\n                              Download\r\n                            </button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"9\" className=\"px-6 py-8 text-center text-gray-500\">\r\n                        {apiLoading ? 'Loading employees...' : 'No employees found. Add some employees to get started.'}\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PayRollPage;"],"names":["API_BASE_URL","token","localStorage","getItem","payrollApi","async","response","fetch","concat","method","headers","Authorization","body","JSON","stringify","employeeData","ok","errorData","json","Error","message","calculationData","employeeId","month","year","axios","get","data","payrollId","updateData","put","_response$data3","Array","isArray","getMonthNumber","monthName","transformEmployeeToFrontend","backendData","getDefaultEmployeeData","console","log","payrollData","undefined","employee","annualSalary","monthlySalary","grossEarnings","totalDeductions","Math","round","netSalary","bonusAmount","hikePercentage","id","employeeName","empName","email","phoneNumber","accountNumber","ifsccode","IFSCcode","bankName","pfnum","PFnum","panNumber","aadharNumber","uanNumber","department","designation","bankAccountName","phoneNo","panNo","standardDays","totalWorkingDays","payableDays","paidDays","lossOfPayDays","lopReversalDays","arrearDays","bonus","hike","earnings","name","monthlyRate","basicSalary","currentMonth","arrear","total","hraAmount","conveyanceAllowance","medicalAllowance","specialAllowance","deductions","amount","providentFund","professionalTax","incomeTax","pfNo","AccessDenied","_jsx","className","children","_jsxs","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","window","history","back","LoadingSpinner","AddEmployeeForm","_ref","isAdding","newEmployee","onEmployeeChange","onSave","onCancel","loading","type","value","onChange","e","target","placeholder","Number","step","min","disabled","_Fragment","EditEmployeeForm","_ref2","editingEmployee","onInputChange","onSaveEdit","onCancelEdit","readOnly","parseFloat","PayRollPage","selectedMonth","setSelectedMonth","useState","selectedYear","setSelectedYear","selectedEmployee","setSelectedEmployee","setEditingEmployee","isEditing","setIsEditing","userData","useContext","Context","setIsAdding","setLoading","apiLoading","setApiLoading","searchTerm","setSearchTerm","employees","setEmployees","setNewEmployee","useNavigate","employeesData","setEmployeesData","paySlipRef","useRef","handleNewEmployeeChange","filter","emp","_emp$empName","_emp$designation","_emp$employeeId","toLowerCase","includes","useCallback","field","prev","_objectSpread","handleInputChange","useEffect","fetchEmployeesData","employeesArray","employeesWithPayroll","Promise","all","map","monthNumber","payrollResponse","parseInt","baseEmployeeData","payrollWithEmployee","combinedData","error","warn","alert","roles","formatCurrency","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","handleBackToList","handleEdit","employeesWithSalary","index","_employee$earnings","_employee$deductions","reduce","sum","item","paySlipData","src","alt","ref","toLocaleString","earning","colSpan","deduction","frontendData","backendEmployeeData","calcError","handleCancelAdd","Object","keys","hra","otherAllowances","otherDeductions","setTimeout","updateError","_updateError$response","handleCancelEdit","htmlFor","handleAddEmployee","csvContent","join","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","length","fullEmployeeData","payrollError","fallbackData","handleView","_transformedData$earn","_transformedData$earn2","_transformedData$earn3","_transformedData$earn4","_transformedData$earn5","_transformedData$earn6","_transformedData$earn7","_transformedData$earn8","_transformedData$earn9","_transformedData$earn0","_transformedData$dedu","_transformedData$dedu2","_transformedData$dedu3","_transformedData$dedu4","_transformedData$dedu5","_transformedData$dedu6","transformedData","find","payslipElement","style","position","left","width","padding","backgroundColor","fontFamily","innerHTML","canvas","html2canvas","scale","useCORS","logging","imgData","toDataURL","pdf","jsPDF","imgWidth","imgHeight","height","addImage","fileName","save","handleDownloadPayslip"],"sourceRoot":""}