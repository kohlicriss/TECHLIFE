{"version":3,"file":"static/js/416.2208c1c4.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/PayRoll/EmployeePayRoll.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef, useCallback } from 'react';\r\nimport { Context } from '../HrmsContext';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\n\r\nconst DetailField = React.memo(\r\n  ({\r\n    label,\r\n    name,\r\n    value,\r\n    isEditing,\r\n    onChange,\r\n    type = \"text\",\r\n    placeholder = \"\",\r\n    showLPA = false\r\n  }) => {\r\n    const [localValue, setLocalValue] = useState(value || \"\");\r\n    const timeoutRef = useRef(null);\r\n\r\n    const { theme } = useContext(Context);\r\n    const isDark = theme === \"dark\";\r\n\r\n    \r\n    useEffect(() => {\r\n      if (value !== localValue) {\r\n        setLocalValue(value || \"\");\r\n      }\r\n    }, [value]); \r\n\r\n    const handleChange = (e) => {\r\n      const newValue = e.target.value;\r\n      setLocalValue(newValue);\r\n\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n\r\n      timeoutRef.current = setTimeout(() => {\r\n        if (onChange) {\r\n          const syntheticEvent = {\r\n            target: {\r\n              name: name,\r\n              value: newValue,\r\n              type: type,\r\n            },\r\n          };\r\n          onChange(syntheticEvent);\r\n        }\r\n      }, 2000);\r\n    };\r\n\r\n    useEffect(() => {\r\n      return () => {\r\n        if (timeoutRef.current) {\r\n          clearTimeout(timeoutRef.current);\r\n        }\r\n      };\r\n    }, []);\r\n\r\n    return (\r\n      <div className=\"flex flex-col\">\r\n        <label className={`text-sm font-medium mb-1 ${isDark ? 'text-gray-300' : 'text-gray-600'}`}>\r\n          {label}\r\n        </label>\r\n        {isEditing ? (\r\n          <input\r\n            type={type}\r\n            name={name}\r\n            value={localValue}\r\n            onChange={handleChange}\r\n            placeholder={placeholder}\r\n            className={`px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${\r\n              isDark \r\n                ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                : 'bg-white border-gray-300 text-gray-800'\r\n            }`}\r\n          />\r\n        ) : (\r\n          <div className=\"relative\">\r\n            <span className={`px-3 py-2 rounded-md block min-h-[42px] flex items-center ${\r\n              isDark ? 'bg-gray-700 text-gray-200' : 'bg-gray-50 text-gray-800'\r\n            }`}>\r\n              {value || \"N/A\"}\r\n            </span>\r\n            {showLPA && (\r\n              <span className={`absolute right-3 top-1/2 transform -translate-y-1/2 text-sm font-medium ${\r\n                isDark ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>\r\n                LPA\r\n              </span>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n\r\n\r\nconst EmployeePayRoll = () => {\r\n  const { empId } = useParams();\r\n  \r\n  console.log('Employee ID from URL (empId):', empId);\r\n\r\n  const [filters, setFilters] = useState({\r\n    month: '',\r\n    year: ''\r\n  });\r\n  const [selectedPayslip, setSelectedPayslip] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [payrollData, setPayrollData] = useState([]);\r\n  const [employee, setEmployee] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editFormData, setEditFormData] = useState({});\r\n  const [saveLoading, setSaveLoading] = useState(false);\r\n\r\n  // Remove this line: const [activeField, setActiveField] = useState(null);\r\n  const [activeField, setActiveField] = useState(null);\r\n\r\n  const token = localStorage.getItem(\"accessToken\");\r\n  const { theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n  const months = [\r\n    'January', 'February', 'March', 'April', 'May', 'June',\r\n    'July', 'August', 'September', 'October', 'November', 'December'\r\n  ];\r\n\r\n  const currentYear = new Date().getFullYear();\r\n  const years = Array.from({ length: 5 }, (_, i) => currentYear - i);\r\n\r\n  // Separate endpoints for payroll and employee details\r\n  useEffect(() => {\r\n    const fetchPayrollData = async () => {\r\n      if (!token || !empId) {\r\n        console.error('No empId found in URL');\r\n        setError('Employee ID not found in URL.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setLoading(true);\r\n        console.log('Fetching data for employee ID:', empId);\r\n        \r\n        const payrollResponse = await axios.get(\r\n          `https://hrms.anasolconsultancyservices.com/api/payroll/payroll/employee/${empId}`,\r\n          {\r\n            headers: { Authorization: `Bearer ${token}` }\r\n          }\r\n        );\r\n        \r\n        console.log('Payroll API Response:', payrollResponse.data);\r\n        \r\n        if (payrollResponse.data) {\r\n          const payrollData = payrollResponse.data.data || \r\n                            payrollResponse.data.payroll || \r\n                            payrollResponse.data;\r\n          \r\n          setPayrollData(Array.isArray(payrollData) ? payrollData : []);\r\n        } else {\r\n          setPayrollData([]);\r\n        }\r\n\r\n        await fetchEmployeeDetails();\r\n\r\n      } catch (err) {\r\n        console.error('Error fetching payroll data:', err);\r\n        setError(`Failed to fetch payroll data: ${err.response?.data?.message || err.message}`);\r\n        setPayrollData([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPayrollData();\r\n  }, [empId]);\r\n\r\n  const fetchEmployeeDetails = async () => {\r\n    try {\r\n      const employeeResponse = await axios.get(\r\n        `https://hrms.anasolconsultancyservices.com/api/payroll/employee/${empId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        }\r\n      );\r\n      \r\n      console.log('Employee details response:', employeeResponse.data);\r\n      \r\n      if (employeeResponse.data) {\r\n        const employeeData = employeeResponse.data.data || employeeResponse.data;\r\n        setEmployee(employeeData);\r\n        setEditFormData(employeeData);\r\n      } else {\r\n        setEmployee(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching employee details:', err);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (newFilters) => {\r\n    setFilters(newFilters);\r\n  };\r\n\r\n  const handleViewPayslip = (payslip) => {\r\n    setSelectedPayslip(payslip);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleDownloadPayslip = async (payslip) => {\r\n    try {\r\n      if (!employee) {\r\n        alert('Employee data not available');\r\n        return;\r\n      }\r\n\r\n      const payslipElement = document.createElement('div');\r\n      payslipElement.style.position = 'absolute';\r\n      payslipElement.style.left = '-9999px';\r\n      payslipElement.style.width = '800px';\r\n      payslipElement.style.padding = '10px'; \r\n      payslipElement.style.backgroundColor = 'white';\r\n      \r\n      const grossEarnings = (payslip.basicSalary || 0) + \r\n                           (payslip.hraAmount || 0) + \r\n                           (payslip.conveyanceAllowance || 0) +\r\n                           (payslip.medicalAllowance || 0) +\r\n                           (payslip.specialAllowance || 0) +\r\n                           (payslip.bonusAmount || 0);\r\n\r\n      const totalDeductions = (payslip.providentFund || 0) + \r\n                             (payslip.professionalTax || 0) +\r\n                             (payslip.incomeTax || 0);\r\n\r\n      const netSalary = payslip.netSalary || (grossEarnings - totalDeductions);\r\n\r\n      // Helper function to format numbers - remove .0 when not needed\r\nconst formatNumber = (value, decimals = 1) => {\r\n  const num = Number(value);\r\n  if (isNaN(num)) return '0';\r\n  \r\n  // If it's a whole number, don't show decimals\r\n  if (num % 1 === 0) {\r\n    return num.toString();\r\n  }\r\n  \r\n  // Otherwise show specified decimals\r\n  return num.toFixed(decimals);\r\n};\r\npayslipElement.innerHTML = `\r\n  <div style=\"font-family: 'Arial', sans-serif; max-width: 800px; margin: 0 auto;\">\r\n    <!-- Company Header -->\r\n    <div style=\"background: linear-gradient(135deg, #1e40af, #3730a3); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; text-align: center;\">\r\n      <div style=\"font-size: 28px; font-weight: bold; margin-bottom: 8px;\">ANASOL CONSULTANCY SERVICES PVT LTD</div>\r\n      <div style=\"font-size: 22px; opacity: 0.9; margin-bottom: 12px;\">SALARY SLIP</div>\r\n      <div style=\"background: rgba(255,255,255,0.2); padding: 8px 20px; border-radius: 20px; display: inline-block; font-weight: bold;\">\r\n        ${formatPayPeriod(payslip)}\r\n      </div>\r\n    </div>\r\n\r\n          <!-- Employee Information -->\r\n          <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;\">\r\n            <div style=\"background: #f8fafc; padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;\">\r\n              <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n                <span style=\"font-weight: 600; color: #4b5563;\">Employee Name:</span>\r\n                <span style=\"font-weight: 500; color: #1f2937;\">${employee.empName}</span>\r\n              </div>\r\n              <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n                <span style=\"font-weight: 600; color: #4b5563;\">Employee ID:</span>\r\n                <span style=\"font-weight: 500; color: #1f2937;\">${employee.employeeId}</span>\r\n              </div>\r\n              <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n                <span style=\"font-weight: 600; color: #4b5563;\">Designation:</span>\r\n                <span style=\"font-weight: 500; color: #1f2937;\">${employee.designation || 'N/A'}</span>\r\n              </div>\r\n              <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n                <span style=\"font-weight: 600; color: #4b5563;\">Department:</span>\r\n                <span style=\"font-weight: 500; color: #1f2937;\">${employee.department || 'N/A'}</span>\r\n              </div>\r\n              <div style=\"display: flex; justify-content: space-between; padding: 8px 0;\">\r\n                <span style=\"font-weight: 600; color: #4b5563;\">Phone No:</span>\r\n                <span style=\"font-weight: 500; color: #1f2937;\">${employee.phoneNumber || 'N/A'}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div style=\"background: #f8fafc; padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;\">\r\n              <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n                <span style=\"font-weight: 600; color: #4b5563;\">Bank A/C Name:</span>\r\n                <span style=\"font-weight: 500; color: #1f2937;\">${employee.empName}</span>\r\n              </div>\r\n              <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n                <span style=\"font-weight: 600; color: #4b5563;\">PAN No:</span>\r\n                <span style=\"font-weight: 500; color: #1f2937;\">${employee.panNumber || 'N/A'}</span>\r\n              </div>\r\n              <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n                <span style=\"font-weight: 600; color: #4b5563;\">PF No:</span>\r\n                <span style=\"font-weight: 500; color: #1f2937;\">${employee.pfnum || 'N/A'}</span>\r\n              </div>\r\n              <div style=\"display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;\">\r\n                <span style=\"font-weight: 600; color: #4b5563;\">IFSC Code:</span>\r\n                <span style=\"font-weight: 500; color: #1f2937;\">${employee.ifsccode || 'N/A'}</span>\r\n              </div>\r\n              <div style=\"display: flex; justify-content: space-between; padding: 8px 0;\">\r\n                <span style=\"font-weight: 600; color: #4b5563;\">Email:</span>\r\n                <span style=\"font-weight: 500; color: #1f2937;\">${employee.email || 'N/A'}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n             <!-- Attendance Information -->\r\n    <div style=\"margin: 20px 0;\">\r\n      <div style=\"font-size: 18px; font-weight: bold; color: #1e40af; margin-bottom: 12px; border-left: 4px solid #1e40af; padding-left: 10px;\">ATTENDANCE INFORMATION</div>\r\n      <div style=\"padding: 0 30px;\">\r\n        <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 20px; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);\">\r\n          <thead>\r\n            <tr style=\"background: linear-gradient(135deg, #1e40af, #3730a3); color: white;\">\r\n              <th style=\"padding: 12px; text-align: center; font-weight: 600;\">Total Working Days</th>\r\n              <th style=\"padding: 12px; text-align: center; font-weight: 600;\">Days Present</th>\r\n              <th style=\"padding: 12px; text-align: center; font-weight: 600;\">Paid Days</th>\r\n              <th style=\"padding: 12px; text-align: center; font-weight: 600;\">Loss of Pay Days</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td style=\"padding: 12px; text-align: center; background: white;\">${formatNumber(payslip.totalWorkingDays || 0)}</td>\r\n              <td style=\"padding: 12px; text-align: center; background: white;\">${formatNumber(payslip.daysPresent || 0)}</td>\r\n              <td style=\"padding: 12px; text-align: center; background: white;\">${formatNumber(payslip.paidDays || 0)}</td>\r\n              <td style=\"padding: 12px; text-align: center; background: white;\">${formatNumber(payslip.lossOfPayDays || 0)}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Bonus Information - Only show if bonus exists -->\r\n    ${payslip.bonusAmount > 0 ? `\r\n    <div style=\"margin: 20px 0;\">\r\n      <div style=\"font-size: 18px; font-weight: bold; color: #1e40af; margin-bottom: 12px; border-left: 4px solid #1e40af; padding-left: 10px;\">ADDITIONAL COMPENSATION</div>\r\n      <div style=\"padding: 0 30px;\">\r\n        <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 20px; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);\">\r\n          <thead>\r\n            <tr style=\"background: linear-gradient(135deg, #1e40af, #3730a3); color: white;\">\r\n              <th style=\"padding: 12px; text-align: center; font-weight: 600;\">Bonus Amount</th>\r\n              <th style=\"padding: 12px; text-align: center; font-weight: 600;\">Hike Percentage</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td style=\"padding: 12px; text-align: center; background: white; font-weight: bold; color: #059669;\">₹${(payslip.bonusAmount || 0).toLocaleString()}</td>\r\n              <td style=\"padding: 12px; text-align: center; background: white; font-weight: bold; color: #059669;\">${payslip.hikePercentage || 0}%</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    ` : ''}\r\n  \r\n\r\n          <!-- Salary Details -->\r\n          <div style=\"margin: 20px 0;\">\r\n            <div style=\"font-size: 18px; font-weight: bold; color: #1e40af; margin-bottom: 12px; border-left: 4px solid #1e40af; padding-left: 10px;\">SALARY DETAILS</div>\r\n            \r\n            <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px;\">\r\n              <!-- Earnings -->\r\n              <div>\r\n                <div style=\"font-size: 16px; font-weight: bold; color: #1e40af; margin-bottom: 8px; border-left: 4px solid #1e40af; padding-left: 10px;\">EARNINGS</div>\r\n                <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 15px;\">\r\n                  <thead>\r\n                    <tr style=\"background: linear-gradient(135deg, #1e40af, #3730a3); color: white;\">\r\n                      <th style=\"padding: 12px; text-align: left; font-weight: 600;\">Description</th>\r\n                      <th style=\"padding: 12px; text-align: right; font-weight: 600;\">Amount (₹)</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                      <td style=\"padding: 12px;\">Basic Salary</td>\r\n                      <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.basicSalary || 0)}</td>\r\n                    </tr>\r\n                    <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                      <td style=\"padding: 12px;\">HRA</td>\r\n                      <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.hraAmount || 0)}</td>\r\n                    </tr>\r\n                    <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                      <td style=\"padding: 12px;\">Conveyance Allowance</td>\r\n                      <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.conveyanceAllowance || 0)}</td>\r\n                    </tr>\r\n                    <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                      <td style=\"padding: 12px;\">Medical Allowance</td>\r\n                      <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.medicalAllowance || 0)}</td>\r\n                    </tr>\r\n                    <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                      <td style=\"padding: 12px;\">Special Allowance</td>\r\n                      <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.specialAllowance || 0)}</td>\r\n                    </tr>\r\n                    ${payslip.bonusAmount > 0 ? `\r\n                    <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                      <td style=\"padding: 12px;\">Bonus</td>\r\n                      <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.bonusAmount || 0)}</td>\r\n                    </tr>\r\n                    ` : ''}\r\n                    <tr style=\"background: #dbeafe; font-weight: bold;\">\r\n                      <td style=\"padding: 12px;\"><strong>GROSS EARNINGS</strong></td>\r\n                      <td style=\"padding: 12px; text-align: right;\"><strong>${formatCurrency(grossEarnings)}</strong></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              <!-- Deductions -->\r\n              <div>\r\n                <div style=\"font-size: 16px; font-weight: bold; color: #1e40af; margin-bottom: 8px; border-left: 4px solid #1e40af; padding-left: 10px;\">DEDUCTIONS</div>\r\n                <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 15px;\">\r\n                  <thead>\r\n                    <tr style=\"background: linear-gradient(135deg, #1e40af, #3730a3); color: white;\">\r\n                      <th style=\"padding: 12px; text-align: left; font-weight: 600;\">Description</th>\r\n                      <th style=\"padding: 12px; text-align: right; font-weight: 600;\">Amount (₹)</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                      <td style=\"padding: 12px;\">Provident Fund</td>\r\n                      <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.providentFund || 0)}</td>\r\n                    </tr>\r\n                    <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                      <td style=\"padding: 12px;\">Professional Tax</td>\r\n                      <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.professionalTax || 0)}</td>\r\n                    </tr>\r\n                    <tr style=\"border-bottom: 1px solid #e5e7eb;\">\r\n                      <td style=\"padding: 12px;\">Income Tax</td>\r\n                      <td style=\"padding: 12px; text-align: right;\">${formatCurrency(payslip.incomeTax || 0)}</td>\r\n                    </tr>\r\n                    <tr style=\"background: #dbeafe; font-weight: bold;\">\r\n                      <td style=\"padding: 12px;\"><strong>TOTAL DEDUCTIONS</strong></td>\r\n                      <td style=\"padding: 12px; text-align: right;\"><strong>${formatCurrency(totalDeductions)}</strong></td>\r\n                    </tr>\r\n                    <tr style=\"background: #dcfce7; font-weight: bold; color: #166534; font-size: 18px;\">\r\n                      <td style=\"padding: 12px;\"><strong>NET SALARY</strong></td>\r\n                      <td style=\"padding: 12px; text-align: right;\"><strong>${formatCurrency(netSalary)}</strong></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Footer -->\r\n          <div style=\"text-align: center; margin-top: 25px; padding-top: 15px; border-top: 2px solid #e5e7eb; color: #6b7280; font-size: 14px;\">\r\n            <p>#1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039</p>\r\n            <p>Ph: 9632091726 | Email: hr@anasolconsultancy.com | www.anasol.com</p>\r\n            <p style=\"margin-top: 8px; color: #9ca3af; font-style: italic;\">\r\n              This is a computer-generated document and does not require a signature\r\n            </p>\r\n          </div>\r\n        </div>\r\n      `;\r\n                    \r\n\r\n      document.body.appendChild(payslipElement);\r\n\r\n      const canvas = await html2canvas(payslipElement, {\r\n        scale: 2,\r\n        useCORS: true,\r\n        logging: false\r\n      });\r\n\r\n      document.body.removeChild(payslipElement);\r\n\r\n      const imgData = canvas.toDataURL('image/png');\r\n      \r\n      const pdf = new jsPDF('p', 'mm', 'a4');\r\n      const imgWidth = 210; \r\n      const imgHeight = (canvas.height * imgWidth) / canvas.width;\r\n      \r\n      pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);\r\n\r\n      const monthName = months[payslip.month - 1];\r\n      const fileName = `Payslip_${employee.empName}_${monthName}_${payslip.year}.pdf`;\r\n      \r\n      pdf.save(fileName);\r\n      \r\n    } catch (err) {\r\n      alert(`Failed to generate PDF payslip: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleViewDetails = async () => {\r\n    setShowDetails(true);\r\n    if (!employee) {\r\n      await fetchEmployeeDetails();\r\n    }\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n    setActiveField(null); // Reset active field when starting edit\r\n  };\r\n  const handleInputChange = useCallback((e) => {\r\n    const { name, value } = e.target;\r\n    setEditFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  }, []);\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      setSaveLoading(true);\r\n      \r\n      const updateData = {\r\n        empName: editFormData.empName,\r\n        email: editFormData.email,\r\n        phoneNumber: editFormData.phoneNumber,\r\n        accountNumber: editFormData.accountNumber,\r\n        bankName: editFormData.bankName,\r\n        panNumber: editFormData.panNumber,\r\n        aadharNumber: editFormData.aadharNumber,\r\n        ifsccode: editFormData.ifsccode,\r\n        pfnum: editFormData.pfnum,\r\n        uanNumber: editFormData.uanNumber,\r\n        department: editFormData.department,\r\n        designation: editFormData.designation\r\n      };\r\n\r\n      console.log('Updating employee data:', updateData);\r\n\r\n      const response = await axios.put(\r\n        `https://hrms.anasolconsultancyservices.com/api/payroll/employee/${empId}/update`,\r\n        updateData,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        }\r\n      );\r\n\r\n      if (response.data && response.data.success) {\r\n        setEmployee(editFormData);\r\n        setIsEditing(false);\r\n        alert('Employee details updated successfully!');\r\n      } else {\r\n        alert('Failed to update employee details');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating employee details:', err);\r\n      alert(`Failed to update employee details: ${err.message}`);\r\n    } finally {\r\n      setSaveLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n    setEditFormData(employee); \r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    if (!amount) return '₹0';\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatPayPeriod = (payrollItem) => {\r\n    if (!payrollItem) return 'N/A';\r\n    const month = payrollItem.month;\r\n    const year = payrollItem.year;\r\n    return `${months[month - 1]} ${year}`;\r\n  };\r\n\r\n  const getMonthFromPayroll = (payrollItem) => {\r\n    if (!payrollItem) return '';\r\n    return months[payrollItem.month - 1];\r\n  };\r\n\r\n  const getYearFromPayroll = (payrollItem) => {\r\n    if (!payrollItem) return '';\r\n    return payrollItem.year.toString();\r\n  };\r\n\r\n  const filteredData = Array.isArray(payrollData)\r\n    ? payrollData.filter(item => {\r\n        if (!item) return false;\r\n        \r\n        const itemMonth = item.month ? item.month.toString() : '';\r\n        const itemYear = item.year ? item.year.toString() : '';\r\n\r\n        console.log('Filtering item:', { itemMonth, itemYear, filters });\r\n\r\n        if (filters.month && itemMonth !== filters.month) return false;\r\n        if (filters.year && itemYear !== filters.year) return false;\r\n        \r\n        return true;\r\n      })\r\n    : [];\r\n\r\n  console.log('Final filtered data count:', filteredData.length);\r\n\r\n  const EmployeeDetails = () => {\r\n    if (!employee) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          <div className={`text-center py-8 ${isDark ? 'text-gray-400' : 'text-gray-500'}`}>\r\n            No employee details found.\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h2 className={`text-xl font-bold ${isDark ? 'text-white' : 'text-gray-800'}`}>My Details</h2>\r\n          <div className=\"flex space-x-3\">\r\n            {!isEditing ? (\r\n              <button\r\n                onClick={handleEdit}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                Edit Details\r\n              </button>\r\n            ) : (\r\n              <>\r\n                <button\r\n                  onClick={handleSave}\r\n                  disabled={saveLoading}\r\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50\"\r\n                >\r\n                  {saveLoading ? 'Saving...' : 'Save Changes'}\r\n                </button>\r\n                <button\r\n                  onClick={handleCancel}\r\n                  className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </>\r\n            )}\r\n            <button\r\n              onClick={() => setShowDetails(false)}\r\n              className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {/* Personal Information */}\r\n          <div className={`p-6 rounded-lg border shadow-sm ${\r\n            isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n          }`}>\r\n            <h3 className={`text-lg font-semibold mb-4 border-b pb-2 ${\r\n              isDark ? 'text-white border-gray-700' : 'text-gray-800 border-gray-200'\r\n            }`}>Personal Information</h3>\r\n            <div className=\"space-y-3\">\r\n              <DetailField \r\n                key=\"employeeId\"\r\n                label=\"Employee ID\" \r\n                value={employee.employeeId} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                key=\"empName\"\r\n                label=\"Full Name\" \r\n                name=\"empName\"\r\n                value={isEditing ? editFormData.empName : employee.empName} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                key=\"email\"\r\n                label=\"Email\" \r\n                name=\"email\"\r\n                value={isEditing ? editFormData.email : employee.email} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                type=\"email\"\r\n              />\r\n              <DetailField \r\n                key=\"phoneNumber\"\r\n                label=\"Phone Number\" \r\n                name=\"phoneNumber\"\r\n                value={isEditing ? editFormData.phoneNumber : employee.phoneNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                type=\"tel\"\r\n              />\r\n              <DetailField \r\n                key=\"aadharNumber\"\r\n                label=\"Aadhar Number\" \r\n                name=\"aadharNumber\"\r\n                value={isEditing ? editFormData.aadharNumber : employee.aadharNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                type=\"number\"\r\n              />\r\n              <DetailField \r\n                key=\"panNumber\"\r\n                label=\"PAN Number\" \r\n                name=\"panNumber\"\r\n                value={isEditing ? editFormData.panNumber : employee.panNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Employment Details */}\r\n          <div className={`p-6 rounded-lg border shadow-sm ${\r\n            isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n          }`}>\r\n            <h3 className={`text-lg font-semibold mb-4 border-b pb-2 ${\r\n              isDark ? 'text-white border-gray-700' : 'text-gray-800 border-gray-200'\r\n            }`}>Employment Details</h3>\r\n            <div className=\"space-y-3\">\r\n              <DetailField \r\n                key=\"department\"\r\n                label=\"Department\" \r\n                name=\"department\"\r\n                value={isEditing ? editFormData.department : employee.department} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                key=\"designation\"\r\n                label=\"Designation\" \r\n                name=\"designation\"\r\n                value={isEditing ? editFormData.designation : employee.designation} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Enter designation\"\r\n              />\r\n              <DetailField \r\n                key=\"jobType\"\r\n                label=\"Job Type\" \r\n                value={employee.jobType} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                key=\"level\"\r\n                label=\"Level\" \r\n                value={employee.level} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                key=\"startDate\"\r\n                label=\"Start Date\" \r\n                value={employee.startDate ? new Date(employee.startDate).toLocaleDateString('en-IN') : 'N/A'} \r\n                isEditing={false}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Bank & Salary Information */}\r\n          <div className={`p-6 rounded-lg border shadow-sm ${\r\n            isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n          }`}>\r\n            <h3 className={`text-lg font-semibold mb-4 border-b pb-2 ${\r\n              isDark ? 'text-white border-gray-700' : 'text-gray-800 border-gray-200'\r\n            }`}>Bank & Salary Information</h3>\r\n            <div className=\"space-y-3\">\r\n              <DetailField \r\n                key=\"bankName\"\r\n                label=\"Bank Name\" \r\n                name=\"bankName\"\r\n                value={isEditing ? editFormData.bankName : employee.bankName} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                key=\"accountNumber\"\r\n                label=\"Account Number\" \r\n                name=\"accountNumber\"\r\n                value={isEditing ? editFormData.accountNumber : employee.accountNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                type=\"number\"\r\n              />\r\n              <DetailField \r\n                key=\"ifsccode\"\r\n                label=\"IFSC Code\" \r\n                name=\"ifsccode\"\r\n                value={isEditing ? editFormData.ifsccode : employee.ifsccode} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                key=\"pfnum\"\r\n                label=\"PF Number\" \r\n                name=\"pfnum\"\r\n                value={isEditing ? editFormData.pfnum : employee.pfnum} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                key=\"uanNumber\"\r\n                label=\"UAN Number\" \r\n                name=\"uanNumber\"\r\n                value={isEditing ? editFormData.uanNumber : employee.uanNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                key=\"monthlySalary\"\r\n                label=\"Monthly Salary\" \r\n                value={formatCurrency(employee.monthlySalary)} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                key=\"annualSalary\"\r\n                label=\"Annual Salary\" \r\n                value={formatCurrency(employee.annualSalary)} \r\n                isEditing={false}\r\n                showLPA={true}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  // Filter Section Component\r\n  const FilterSection = () => {\r\n    const handleMonthChange = (e) => {\r\n      handleFilterChange({ ...filters, month: e.target.value });\r\n    };\r\n\r\n    const handleYearChange = (e) => {\r\n      handleFilterChange({ ...filters, year: e.target.value });\r\n    };\r\n\r\n    return (\r\n      <div className={`p-6 border-b ${\r\n        isDark ? 'border-gray-700' : 'border-gray-200'\r\n      }`}>\r\n        <div className=\"container mx-auto px-4 pt-6\">\r\n      <button\r\n        onClick={() => window.history.back()}\r\n        className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${\r\n          isDark \r\n            ? 'bg-gray-700 text-gray-200 hover:bg-gray-600' \r\n            : 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-200'\r\n        }`}\r\n      >\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n        </svg>\r\n        <span>Back</span>\r\n      </button>\r\n    </div>\r\n        <div className=\"flex flex-wrap gap-4 items-center\">\r\n          \r\n          <div>\r\n            <label className={`block text-sm font-medium mb-1 ${\r\n              isDark ? 'text-gray-300' : 'text-gray-700'\r\n            }`}>\r\n              Month\r\n            </label>\r\n            <select \r\n              className={`w-40 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${\r\n                isDark \r\n                  ? 'bg-gray-700 border-gray-600 text-white' \r\n                  : 'bg-white border-gray-300 text-gray-800'\r\n              }`}\r\n              onChange={handleMonthChange}\r\n              value={filters.month}\r\n            >\r\n              <option value=\"\">All Months</option>\r\n              {months.map((month, index) => (\r\n                <option key={month} value={index + 1}>\r\n                  {month}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className={`block text-sm font-medium mb-1 ${\r\n              isDark ? 'text-gray-300' : 'text-gray-700'\r\n            }`}>\r\n              Year\r\n            </label>\r\n            <select \r\n              className={`w-32 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${\r\n                isDark \r\n                  ? 'bg-gray-700 border-gray-600 text-white' \r\n                  : 'bg-white border-gray-300 text-gray-800'\r\n              }`}\r\n              onChange={handleYearChange}\r\n              value={filters.year}\r\n            >\r\n              <option value=\"\">All Years</option>\r\n              {years.map(year => (\r\n                <option key={year} value={year}>\r\n                  {year}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"ml-auto flex space-x-3\">\r\n            <button \r\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n              onClick={handleViewDetails}\r\n            >\r\n              View My Details\r\n            </button>\r\n            <button \r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              onClick={() => handleFilterChange({ month: '', year: '' })}\r\n            >\r\n              Clear Filters\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const PayrollTable = () => {\r\n    if (loading) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          \r\n          <div className=\"flex justify-center items-center py-12\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n            <span className={`ml-4 ${isDark ? 'text-gray-300' : 'text-gray-600'}`}>Loading payroll data...</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (error) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          <div className={`text-center py-8 ${isDark ? 'text-red-400' : 'text-red-600'}`}>\r\n            {error}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!empId) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          <div className={`text-center py-8 ${isDark ? 'text-red-400' : 'text-red-600'}`}>\r\n            Employee ID not available. Please check your login.\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n   \r\nconst formatNumber = (value, decimals = 1) => {\r\n  const num = Number(value);\r\n  if (isNaN(num)) return '0';\r\n \r\n  if (num % 1 === 0) {\r\n    return num.toString();\r\n  }\r\n \r\n  return num.toFixed(decimals);\r\n};\r\n\r\n    return (\r\n    <div className=\"p-6\">\r\n      \r\n      <h2 className={`text-xl font-bold mb-4 ${isDark ? 'text-white' : 'text-gray-800'}`}>\r\n        Payroll History {employee && `- ${employee.empName}`}\r\n      </h2>\r\n      \r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full border-collapse\">\r\n          <thead>\r\n            <tr className=\"bg-gradient-to-r from-blue-800 to-indigo-800 text-white\">\r\n              <th className=\"px-4 py-3 text-left font-semibold\">Month</th>\r\n              <th className=\"px-4 py-3 text-left font-semibold\">Year</th>\r\n              <th className=\"px-4 py-3 text-right font-semibold\">Net Salary</th>\r\n              <th className=\"px-4 py-3 text-right font-semibold\">Bonus</th>\r\n              \r\n              <th className=\"px-4 py-3 text-center font-semibold\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredData.map((item) => (\r\n              <tr key={item.payrollId} className={`border-b ${\r\n                isDark \r\n                  ? 'border-gray-700 hover:bg-gray-800' \r\n                  : 'border-gray-200 hover:bg-gray-50'\r\n              }`}>\r\n                <td className={`px-4 py-3 font-medium ${\r\n                  isDark ? 'text-gray-200' : 'text-gray-700'\r\n                }`}>\r\n                  {getMonthFromPayroll(item)}\r\n                </td>\r\n                <td className={`px-4 py-3 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>\r\n                  {getYearFromPayroll(item)}\r\n                </td>\r\n                <td className=\"px-4 py-3 text-right font-semibold text-green-600\">\r\n                  {formatCurrency(item.netSalary)}\r\n                </td>\r\n                <td className=\"px-4 py-3 text-right font-medium text-orange-600\">\r\n                  {formatCurrency(item.bonusAmount || 0)}\r\n                </td>\r\n               \r\n                <td className=\"px-4 py-3\">\r\n                  <div className=\"flex justify-center space-x-2\">\r\n                    <button\r\n                      onClick={() => handleViewPayslip(item)}\r\n                      className=\"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm\"\r\n                    >\r\n                      View\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDownloadPayslip(item)}\r\n                      className=\"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition-colors text-sm\"\r\n                    >\r\n                      Download\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n        {filteredData.length === 0 && !loading && (\r\n          <div className={`text-center py-8 ${isDark ? 'text-gray-400' : 'text-gray-500'}`}>\r\n            No payroll records found for the selected filters.\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Payslip Modal Component\r\n  const PayslipModal = () => {\r\n    if (!selectedPayslip || !employee) return null;\r\n\r\n   const grossEarnings = (selectedPayslip.basicSalary || 0) + \r\n                     (selectedPayslip.hraAmount || 0) + \r\n                     (selectedPayslip.conveyanceAllowance || 0) +\r\n                     (selectedPayslip.medicalAllowance || 0) +\r\n                     (selectedPayslip.specialAllowance || 0) +\r\n                     (selectedPayslip.bonusAmount || 0); \r\n\r\n    const totalDeductions = (selectedPayslip.providentFund || 0) + \r\n                           (selectedPayslip.professionalTax || 0) +\r\n                           (selectedPayslip.incomeTax || 0);\r\n\r\n    const earnings = [\r\n      { description: \"BASIC\", monthlyRate: formatCurrency(selectedPayslip.basicSalary), currentMonth: formatCurrency(selectedPayslip.basicSalary), arrear: \"0\", total: formatCurrency(selectedPayslip.basicSalary) },\r\n      { description: \"HRA\", monthlyRate: formatCurrency(selectedPayslip.hraAmount), currentMonth: formatCurrency(selectedPayslip.hraAmount), arrear: \"0\", total: formatCurrency(selectedPayslip.hraAmount) },\r\n      { description: \"CONVEYANCE\", monthlyRate: formatCurrency(selectedPayslip.conveyanceAllowance), currentMonth: formatCurrency(selectedPayslip.conveyanceAllowance), arrear: \"0\", total: formatCurrency(selectedPayslip.conveyanceAllowance) },\r\n      { description: \"MEDICAL\", monthlyRate: formatCurrency(selectedPayslip.medicalAllowance), currentMonth: formatCurrency(selectedPayslip.medicalAllowance), arrear: \"0\", total: formatCurrency(selectedPayslip.medicalAllowance) },\r\n      { description: \"SPECIAL ALLOWANCE\", monthlyRate: formatCurrency(selectedPayslip.specialAllowance), currentMonth: formatCurrency(selectedPayslip.specialAllowance), arrear: \"0\", total: formatCurrency(selectedPayslip.specialAllowance) }\r\n    ];\r\n\r\n    const deductions = [\r\n      { description: \"PROVIDENT FUND\", amount: formatCurrency(selectedPayslip.providentFund) },\r\n      { description: \"PROFESSIONAL TAX\", amount: formatCurrency(selectedPayslip.professionalTax) },\r\n      { description: \"INCOME TAX\", amount: formatCurrency(selectedPayslip.incomeTax) }\r\n    ];\r\n\r\n    if (selectedPayslip.bonusAmount > 0) {\r\n      earnings.push({\r\n        description: \"BONUS\",\r\n        monthlyRate: formatCurrency(selectedPayslip.bonusAmount),\r\n        currentMonth: formatCurrency(selectedPayslip.bonusAmount),\r\n        arrear: \"0\",\r\n        total: formatCurrency(selectedPayslip.bonusAmount)\r\n      });\r\n    }\r\n   \r\nconst formatNumber = (value, decimals = 1) => {\r\n  const num = Number(value);\r\n  if (isNaN(num)) return '0';\r\n  \r\n  \r\n  if (num % 1 === 0) {\r\n    return num.toString();\r\n  }\r\n\r\n  return num.toFixed(decimals);\r\n};\r\n\r\n return (\r\n <div className=\"fixed inset-0 bg-black/50 bg-opacity-50 backdrop-blur-md flex items-center justify-center p-4 z-50\">\r\n    <div className={`max-w-4xl w-full rounded-2xl shadow-2xl overflow-hidden border ${\r\n      isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-blue-100'\r\n    }`}>\r\n      \r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-blue-800 to-purple-800 text-white p-8\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold\">ANASOL CONSULTANCY SERVICES PVT LTD</h1>\r\n            <h2 className=\"text-xl mt-2 opacity-90\">SALARY SLIP</h2>\r\n            <div className=\"mt-3 bg-white/20 px-4 py-1 rounded-full inline-block text-sm\">\r\n              {formatPayPeriod(selectedPayslip)}\r\n            </div>\r\n          </div>\r\n          <div className=\"w-24 h-24 bg-white/20 rounded-xl flex items-center justify-center\">\r\n            <img \r\n              src=\"/assets/anasol-logo.png\" \r\n              alt=\"Anasol Logo\" \r\n              className=\"w-20 h-20 object-contain\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Action buttons */}\r\n      <div className={`p-4 border-b flex justify-between items-center ${\r\n        isDark ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'\r\n      }`}>\r\n        <button \r\n          onClick={() => setIsModalOpen(false)}\r\n          className=\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium\"\r\n        >\r\n          ← Back to Employee List\r\n        </button>\r\n        <button \r\n          onClick={() => handleDownloadPayslip(selectedPayslip)}\r\n          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium\"\r\n        >\r\n          Download PDF\r\n        </button>\r\n      </div>\r\n\r\n      {/* Pay Slip Content */}\r\n      <div className=\"p-8 max-h-[70vh] overflow-y-auto\">\r\n        {/* Employee Information */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n          <div className={`p-6 rounded-xl shadow-sm border ${\r\n            isDark ? 'bg-gray-700 border-gray-600' : 'bg-white border-blue-100'\r\n          }`}>\r\n            <h3 className={`text-lg font-semibold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n              isDark ? 'text-white' : 'text-gray-800'\r\n            }`}>Personal Information</h3>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Employee Name:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.empName}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Employee ID:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.employeeId}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Designation:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.designation || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Department:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.department || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Phone No:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.phoneNumber || 'N/A'}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`p-6 rounded-xl shadow-sm border ${\r\n            isDark ? 'bg-gray-700 border-gray-600' : 'bg-white border-blue-100'\r\n          }`}>\r\n            <h3 className={`text-lg font-semibold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n              isDark ? 'text-white' : 'text-gray-800'\r\n            }`}>Bank & Tax Information</h3>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Bank A/C Name:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.empName}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>PAN No:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.panNumber || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>PF No:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.pfnum || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>IFSC Code:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.ifsccode || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Email:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.email || 'N/A'}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Attendance Information */}\r\n        <div className=\"mb-8\">\r\n          <h3 className={`text-xl font-bold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n            isDark ? 'text-gray-200' : 'text-gray-800'\r\n          }`}>Attendance Information</h3>\r\n          <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n            isDark ? 'border-gray-600' : 'border-gray-200'\r\n          }`}>\r\n            <table className={`min-w-full ${\r\n              isDark ? 'bg-gray-800' : 'bg-white'\r\n            }`}>\r\n              <thead>\r\n                <tr className={`${\r\n                  isDark \r\n                    ? 'bg-gradient-to-r from-gray-700 to-gray-600' \r\n                    : 'bg-gradient-to-r from-gray-50 to-blue-50'\r\n                }`}>\r\n                  <th className={`border-b px-6 py-4 font-semibold ${\r\n                    isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                  }`}>Total Working Days</th>\r\n                  <th className={`border-b px-6 py-4 font-semibold ${\r\n                    isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                  }`}>Days Present</th>\r\n                  <th className={`border-b px-6 py-4 font-semibold ${\r\n                    isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                  }`}>Paid Days</th>\r\n                  <th className={`border-b px-6 py-4 font-semibold ${\r\n                    isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                  }`}>Loss of Pay Days</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td className={`border-b px-6 py-4 text-center font-medium ${\r\n                    isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                  }`}>{formatNumber(selectedPayslip.totalWorkingDays || 0)}</td>\r\n                  <td className={`border-b px-6 py-4 text-center font-medium ${\r\n                    isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                  }`}>{formatNumber(selectedPayslip.daysPresent || 0)}</td>\r\n                  <td className={`border-b px-6 py-4 text-center font-medium ${\r\n                    isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                  }`}>{formatNumber(selectedPayslip.paidDays || 0)}</td>\r\n                  <td className={`border-b px-6 py-4 text-center font-medium ${\r\n                    isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                  }`}>{formatNumber(selectedPayslip.lossOfPayDays || 0)}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bonus Information */}\r\n        {selectedPayslip.bonusAmount > 0 && (\r\n          <div className=\"mb-8\">\r\n            <h3 className={`text-xl font-bold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n              isDark ? 'text-gray-200' : 'text-gray-800'\r\n            }`}>Additional Compensation</h3>\r\n            <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n              isDark ? 'border-gray-600' : 'border-gray-200'\r\n            }`}>\r\n              <table className={`min-w-full ${\r\n                isDark ? 'bg-gray-800' : 'bg-white'\r\n              }`}>\r\n                <thead>\r\n                  <tr className={`${\r\n                    isDark \r\n                      ? 'bg-gradient-to-r from-yellow-900 to-orange-900' \r\n                      : 'bg-gradient-to-r from-yellow-50 to-orange-50'\r\n                  }`}>\r\n                    <th className={`border-b px-6 py-4 font-semibold ${\r\n                      isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                    }`}>Bonus Amount</th>\r\n                    <th className={`border-b px-6 py-4 font-semibold ${\r\n                      isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                    }`}>Hike Percentage</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td className={`border-b px-6 py-4 text-center font-bold ${\r\n                      isDark ? 'border-gray-700 text-yellow-400' : 'border-gray-100 text-yellow-700'\r\n                    }`}>{formatCurrency(selectedPayslip.bonusAmount || 0)}</td>\r\n                    <td className={`border-b px-6 py-4 text-center font-medium ${\r\n                      isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                    }`}>{selectedPayslip.hikePercentage || 0}%</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Salary Details */}\r\n        <div className=\"mb-8\">\r\n          <h3 className={`text-xl font-bold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n            isDark ? 'text-gray-200' : 'text-gray-800'\r\n          }`}>Salary Details</h3>\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n            {/* Earnings */}\r\n            <div className=\"lg:col-span-2\">\r\n              <h4 className={`font-semibold mb-3 ${\r\n                isDark ? 'text-gray-300' : 'text-gray-700'\r\n              }`}>EARNINGS</h4>\r\n              <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n                isDark ? 'border-gray-600' : 'border-gray-200'\r\n              }`}>\r\n                <table className={`min-w-full ${\r\n                  isDark ? 'bg-gray-800' : 'bg-white'\r\n                }`}>\r\n                  <thead>\r\n                    <tr className={`${\r\n                      isDark \r\n                        ? 'bg-gradient-to-r from-gray-700 to-gray-600' \r\n                        : 'bg-gradient-to-r from-gray-50 to-blue-50'\r\n                    }`}>\r\n                      <th className={`border-b px-4 py-3 font-semibold ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Description</th>\r\n                      <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Monthly Rate</th>\r\n                      <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Current Month</th>\r\n                      <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Arrear (+/-)</th>\r\n                      <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Total</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {earnings.map((earning, index) => (\r\n                      <tr key={index} className={isDark ? 'hover:bg-gray-700' : 'hover:bg-gray-50'}>\r\n                        <td className={`border-b px-4 py-3 ${\r\n                          isDark ? 'border-gray-700 text-gray-300' : 'border-gray-100 text-gray-700'\r\n                        }`}>{earning.description}</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                        }`}>{earning.monthlyRate}</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                        }`}>{earning.currentMonth}</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                        }`}>{earning.arrear}</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                        }`}>{earning.total}</td>\r\n                      </tr>\r\n                    ))}\r\n                    {selectedPayslip.bonusAmount > 0 && (\r\n                      <tr className={isDark ? 'bg-yellow-900 hover:bg-yellow-800' : 'bg-yellow-50 hover:bg-yellow-100'}>\r\n                        <td className={`border-b px-4 py-3 font-semibold ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                        }`}>BONUS</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                        }`}>-</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                        }`}>-</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                        }`}>-</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-bold ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                        }`}>{formatCurrency(selectedPayslip.bonusAmount || 0)}</td>\r\n                      </tr>\r\n                    )}\r\n                    <tr className={isDark ? 'bg-blue-900' : 'bg-blue-50'}>\r\n                      <td className={`border-b px-4 py-3 font-semibold ${\r\n                        isDark ? 'border-gray-600 text-gray-200' : 'border-gray-200 text-gray-800'\r\n                      }`} colSpan=\"4\">GROSS EARNINGS</td>\r\n                      <td className={`border-b px-4 py-3 text-right font-semibold ${\r\n                        isDark ? 'border-gray-600 text-blue-300' : 'border-gray-200 text-blue-800'\r\n                      }`}>{formatCurrency(grossEarnings + (selectedPayslip.bonusAmount || 0))}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Deductions */}\r\n            <div>\r\n              <h4 className={`font-semibold mb-3 ${\r\n                isDark ? 'text-gray-300' : 'text-gray-700'\r\n              }`}>DEDUCTIONS</h4>\r\n              <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n                isDark ? 'border-gray-600' : 'border-gray-200'\r\n              }`}>\r\n                <table className={`min-w-full ${\r\n                  isDark ? 'bg-gray-800' : 'bg-white'\r\n                }`}>\r\n                  <thead>\r\n                    <tr className={`${\r\n                      isDark \r\n                        ? 'bg-gradient-to-r from-gray-700 to-gray-600' \r\n                        : 'bg-gradient-to-r from-gray-50 to-blue-50'\r\n                    }`}>\r\n                      <th className={`border-b px-4 py-3 font-semibold ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Description</th>\r\n                      <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Amount</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {deductions.map((deduction, index) => (\r\n                      <tr key={index} className={isDark ? 'hover:bg-gray-700' : 'hover:bg-gray-50'}>\r\n                        <td className={`border-b px-4 py-3 ${\r\n                          isDark ? 'border-gray-700 text-gray-300' : 'border-gray-100 text-gray-700'\r\n                        }`}>{deduction.description}</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-700 text-red-400' : 'border-gray-100 text-red-600'\r\n                        }`}>{deduction.amount}</td>\r\n                      </tr>\r\n                    ))}\r\n                    <tr className={isDark ? 'bg-blue-900' : 'bg-blue-50'}>\r\n                      <td className={`border-b px-4 py-3 font-semibold ${\r\n                        isDark ? 'border-gray-600 text-gray-200' : 'border-gray-200 text-gray-800'\r\n                      }`}>TOTAL DEDUCTIONS</td>\r\n                      <td className={`border-b px-4 py-3 text-right font-semibold ${\r\n                        isDark ? 'border-gray-600 text-red-400' : 'border-gray-200 text-red-700'\r\n                      }`}>{formatCurrency(totalDeductions)}</td>\r\n                    </tr>\r\n                    {selectedPayslip.bonusAmount > 0 && (\r\n                      <tr className={isDark ? 'bg-yellow-900' : 'bg-yellow-50'}>\r\n                        <td className={`border-b px-4 py-3 font-semibold ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-200 text-yellow-800'\r\n                        }`}>BONUS ADDED</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-semibold ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-200 text-yellow-800'\r\n                        }`}>+ {formatCurrency(selectedPayslip.bonusAmount || 0)}</td>\r\n                      </tr>\r\n                    )}\r\n                    <tr className={isDark ? 'bg-green-900' : 'bg-green-50'}>\r\n                      <td className={`border-b px-4 py-3 font-bold ${\r\n                        isDark ? 'border-gray-600 text-green-300' : 'border-gray-200 text-green-800'\r\n                      }`}>NET SALARY</td>\r\n                      <td className={`border-b px-4 py-3 text-right font-bold ${\r\n                        isDark ? 'border-gray-600 text-green-300' : 'border-gray-200 text-green-800'\r\n                      }`}>{formatCurrency(selectedPayslip.netSalary)}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className={`mt-8 pt-6 border-t text-center text-sm ${\r\n          isDark ? 'border-gray-600 text-gray-400' : 'border-gray-300 text-gray-600'\r\n        }`}>\r\n          <p>#1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039 | Ph: 9632091726</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n  };\r\n\r\n  return (\r\n    <div className={`min-h-screen ${isDark ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        {/* Header */}\r\n        <header className=\"bg-gradient-to-r from-blue-800 to-indigo-800 text-white rounded-t-2xl mb-8\">\r\n          <div className=\"px-6 py-4 flex justify-between items-center\">\r\n            <div>\r\n              {employee ? (\r\n                <div className=\"mt-2\">\r\n                  <p className=\"text-blue-200 text-sm\">\r\n                    <strong> Employee:</strong> {employee.empName} | ID: {employee.employeeId}\r\n                  </p>\r\n                  <p className=\"text-blue-200 text-sm\">\r\n                    <strong>Department:</strong> {employee.department || 'N/A'} | <strong>Designation:</strong> {employee.designation || 'N/A'}\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-blue-200 text-sm mt-1\">\r\n                  Loading employee {empId} details...\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div className=\"w-16 h-16 bg-white/20 rounded-lg flex items-center justify-center text-white font-bold\">\r\n              <img \r\n                src=\"/assets/anasol-logo.png\" \r\n                alt=\"Anasol Logo\" \r\n                className=\"w-20 h-20 object-contain\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </header>\r\n        {/* Main Content */}\r\n        <div className={`rounded-2xl shadow-lg overflow-hidden ${\r\n          isDark ? 'bg-gray-800' : 'bg-white'\r\n        }`}>\r\n          {showDetails ? <EmployeeDetails /> : (\r\n            <>\r\n              <FilterSection />\r\n              <PayrollTable />\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {isModalOpen && <PayslipModal />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeePayRoll;"],"names":["DetailField","React","_ref","label","name","value","isEditing","onChange","type","placeholder","showLPA","localValue","setLocalValue","useState","timeoutRef","useRef","theme","useContext","Context","isDark","useEffect","current","clearTimeout","_jsxs","className","children","_jsx","concat","e","newValue","target","setTimeout","EmployeePayRoll","empId","useParams","console","log","filters","setFilters","month","year","selectedPayslip","setSelectedPayslip","isModalOpen","setIsModalOpen","payrollData","setPayrollData","employee","setEmployee","loading","setLoading","error","setError","showDetails","setShowDetails","setIsEditing","editFormData","setEditFormData","saveLoading","setSaveLoading","activeField","setActiveField","token","localStorage","getItem","months","currentYear","Date","getFullYear","years","Array","from","length","_","i","async","payrollResponse","axios","get","headers","Authorization","data","payroll","isArray","fetchEmployeeDetails","err","_err$response","_err$response$data","response","message","fetchPayrollData","employeeResponse","employeeData","handleFilterChange","newFilters","handleDownloadPayslip","alert","payslipElement","document","createElement","style","position","left","width","padding","backgroundColor","grossEarnings","payslip","basicSalary","hraAmount","conveyanceAllowance","medicalAllowance","specialAllowance","bonusAmount","totalDeductions","providentFund","professionalTax","incomeTax","netSalary","formatNumber","decimals","arguments","undefined","num","Number","isNaN","toString","toFixed","innerHTML","formatPayPeriod","empName","employeeId","designation","department","phoneNumber","panNumber","pfnum","ifsccode","email","totalWorkingDays","daysPresent","paidDays","lossOfPayDays","toLocaleString","hikePercentage","formatCurrency","body","appendChild","canvas","html2canvas","scale","useCORS","logging","removeChild","imgData","toDataURL","pdf","jsPDF","imgWidth","imgHeight","height","addImage","monthName","fileName","save","handleViewDetails","handleEdit","handleInputChange","useCallback","prev","_objectSpread","handleSave","updateData","accountNumber","bankName","aadharNumber","uanNumber","put","success","handleCancel","amount","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format","payrollItem","getYearFromPayroll","filteredData","filter","item","itemMonth","itemYear","EmployeeDetails","_Fragment","onClick","disabled","jobType","level","startDate","toLocaleDateString","monthlySalary","annualSalary","FilterSection","window","history","back","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","index","PayrollTable","payrollId","PayslipModal","earnings","description","monthlyRate","currentMonth","arrear","total","deductions","push","src","alt","earning","colSpan","deduction"],"sourceRoot":""}