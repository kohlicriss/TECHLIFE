{"version":3,"file":"static/js/667.a8655371.chunk.js","mappings":"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","sources":["axiosInstance.js","TechLife/HRMS/Components/AdminTickets/Filters.jsx","TechLife/HRMS/Components/AdminTickets/TicketCard.jsx","TechLife/HRMS/Components/AdminTickets/TicketModal.jsx","TechLife/HRMS/Components/AdminTickets/TicketStats.jsx","TechLife/HRMS/Components/AdminTickets/Tickets.jsx","../node_modules/lucide-react/src/icons/layout-dashboard.ts","../node_modules/lucide-react/src/icons/ticket.ts","../node_modules/lucide-react/src/icons/circle-check.ts","../node_modules/lucide-react/src/icons/triangle-alert.ts"],"sourcesContent":["import axios from 'axios';\r\n \r\nconst AUTH_API_URL = 'http://hrms.anasolconsultancyservices.com/api/auth/refresh-token';\r\n \r\nfunction cloneFormData(formData) {\r\n    const newFormData = new FormData();\r\n    for (let [key, value] of formData.entries()) {\r\n        newFormData.append(key, value);\r\n    }\r\n    return newFormData;\r\n}\r\n \r\nlet isRefreshing = false;\r\nlet failedQueue = [];\r\n \r\nconst processQueue = (error, token = null) => {\r\n    failedQueue.forEach(prom => {\r\n        if (error) {\r\n            prom.reject(error);\r\n        } else {\r\n            prom.resolve(token);\r\n        }\r\n    });\r\n    failedQueue = [];\r\n};\r\n \r\nconst createAxiosInstance = (baseURL) => {\r\n    const instance = axios.create({\r\n        baseURL: baseURL,\r\n    });\r\n \r\n   \r\n    instance.interceptors.request.use(\r\n        (config) => {\r\n            const token = localStorage.getItem('accessToken');\r\n            if (token) {\r\n                config.headers['Authorization'] = `Bearer ${token}`;\r\n            }\r\n            return config;\r\n        },\r\n        (error) => Promise.reject(error)\r\n    );\r\n \r\n    instance.interceptors.response.use(\r\n        (response) => response,\r\n        async (error) => {\r\n            const originalRequest = error.config;\r\n \r\n            if (error.response?.status === 401 && !originalRequest._retry) {\r\n                if (isRefreshing) {\r\n                    return new Promise((resolve, reject) => {\r\n                        failedQueue.push({ resolve, reject });\r\n                    })\r\n                    .then(token => {\r\n                        originalRequest.headers['Authorization'] = `Bearer ${token}`;\r\n                        return instance(originalRequest);\r\n                    })\r\n                    .catch(err => Promise.reject(err));\r\n                }\r\n \r\n                originalRequest._retry = true;\r\n                isRefreshing = true;\r\n \r\n                const oldToken = localStorage.getItem('accessToken');\r\n                console.log(`üî¥ Token expired for ${baseURL}. Old Token:`, oldToken);\r\n \r\n                try {\r\n                    const refreshResponse = await axios.post(\r\n                        AUTH_API_URL,\r\n                        {},\r\n                        { withCredentials: true }\r\n                    );\r\n \r\n                    const { accessToken } = refreshResponse.data;\r\n                    localStorage.setItem('accessToken', accessToken);\r\n                    console.log(`üü¢ New Token for ${baseURL}:`, accessToken);\r\n \r\n                    if (originalRequest.data instanceof FormData) {\r\n                        originalRequest.data = cloneFormData(originalRequest.data);\r\n                    }\r\n \r\n                    processQueue(null, accessToken);\r\n \r\n                    const newInstance = createAxiosInstance(baseURL);\r\n                    originalRequest.headers['Authorization'] = `Bearer ${accessToken}`;\r\n \r\n                    return newInstance(originalRequest);\r\n \r\n                } catch (refreshError) {\r\n                    console.error(\"Refresh token failed. Logging out.\", refreshError);\r\n                    localStorage.clear();\r\n                    window.location.href = '/login';\r\n                    processQueue(refreshError);\r\n                    return Promise.reject(refreshError);\r\n \r\n                } finally {\r\n                    isRefreshing = false;\r\n                }\r\n            }\r\n \r\n            return Promise.reject(error);\r\n        }\r\n    );\r\n \r\n    return instance;\r\n};\r\n \r\nwindow.addEventListener('storage', (event) => {\r\n    if (event.key === 'accessToken') {\r\n        console.log(\"üîÑ Token updated in another tab:\", event.newValue);\r\n    }\r\n});\r\n \r\nexport const tasksApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api');\r\nexport const publicinfoApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api');\r\nexport const chatApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api');\r\nexport const notificationsApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api/notification');\r\nexport const ticketsApi = createAxiosInstance('http://localhost:8088/api/ticket')","export default function Filters({ dateFilter, setDateFilter, searchTerm, setSearchTerm }) {\r\n  return (\r\n    <div className=\"p-4 bg-white border-b flex flex-col md:flex-row md:items-center gap-4 md:gap-6 shadow-sm\">\r\n      <div className=\"flex flex-col md:flex-row md:items-center gap-2 w-full md:w-auto\">\r\n        <label className=\"text-sm font-medium text-gray-700\" htmlFor=\"date-filter\">\r\n          Date\r\n        </label>\r\n        <select\r\n          id=\"date-filter\"\r\n          className=\"border border-gray-300 text-sm rounded-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent w-full md:w-auto\"\r\n          value={dateFilter}\r\n          onChange={(e) => setDateFilter(e.target.value)}\r\n        >\r\n          <option>All</option>\r\n          <option>Last 30 days</option>\r\n          <option>Last 7 days</option>\r\n          <option>Today</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"flex flex-col md:flex-row md:items-center gap-2 w-full md:flex-1\">\r\n        <label className=\"text-sm font-medium text-gray-700\" htmlFor=\"search\">\r\n          Search\r\n        </label>\r\n        <input\r\n          id=\"search\"\r\n          type=\"text\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          placeholder=\"Search name, ID, issue, status, priority...\"\r\n          className=\"border border-gray-300 text-sm rounded-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent w-full\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default function TicketCard({\r\n  employeeId,\r\n  employeeName,\r\n  priority,\r\n  title,\r\n  sentAt,\r\n  status,\r\n  onClick,\r\n}) {\r\n  const priorityColor = {\r\n    High: \"bg-red-100 text-red-700\",\r\n    Medium: \"bg-yellow-100 text-yellow-700\",\r\n    Low: \"bg-green-100 text-green-700\",\r\n  };\r\n\r\n  const statusColor = {\r\n    Pending: \"bg-gray-100 text-gray-700\",\r\n    Unsolved: \"bg-orange-100 text-orange-700\",\r\n    Opened: \"bg-blue-100 text-blue-700\",\r\n    Resolved: \"bg-emerald-100 text-emerald-700\",\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className=\"group bg-white border border-gray-200 hover:border-blue-400 rounded-xl p-5 shadow-sm hover:shadow-lg transition-all duration-300 cursor-pointer transform hover:-translate-y-1\"\r\n    >\r\n      <div className=\"flex justify-between items-start mb-2\">\r\n        <h3 className=\"font-semibold text-lg text-blue-900 group-hover:text-blue-700 transition-colors\">\r\n          {title}\r\n        </h3>\r\n        <span\r\n          className={`px-2 py-0.5 rounded-full text-xs font-medium ${priorityColor[priority]}`}\r\n        >\r\n          {priority}\r\n        </span>\r\n      </div>\r\n\r\n      <p className=\"text-sm text-gray-600 mb-2\">\r\n        {employeeId} <span className=\"text-gray-400 text-xs\">({employeeId})</span>\r\n      </p>\r\n\r\n      <div className=\"flex items-center gap-2 mb-3\">\r\n        <span\r\n          className={`px-2 py-0.5 rounded-full text-xs font-medium ${statusColor[status]}`}\r\n        >\r\n          {status}\r\n        </span>\r\n      <span className=\"text-xs text-gray-500\">\r\n  üìÖ {\r\n    sentAt && !isNaN(new Date(sentAt).getTime())\r\n      ? new Date(sentAt).toLocaleString()\r\n      : \"Date not available\"\r\n  }\r\n\r\n  \r\n</span>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef, useMemo } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function TicketModal({\r\n  ticket,\r\n  onClose,\r\n  replyText,\r\n  setReplyText,\r\n  roles,\r\n  onStatusUpdate,\r\n}) {\r\n  const [showChat, setShowChat] = useState(false);\r\n  const [replies, setReplies] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [messageSent, setMessageSent] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const socketRef = useRef(null);\r\n  const [newStatus, setNewStatus] = useState(ticket?.status || \"\");\r\n\r\n  // ‚úÖ Format date\r\n  const formatDate = (date) => {\r\n    const d = new Date(date);\r\n    const today = new Date();\r\n    const yesterday = new Date();\r\n    yesterday.setDate(today.getDate() - 1);\r\n\r\n    if (d.toDateString() === today.toDateString()) return \"Today\";\r\n    if (d.toDateString() === yesterday.toDateString()) return \"Yesterday\";\r\n    return d.toLocaleDateString([], {\r\n      day: \"2-digit\",\r\n      month: \"short\",\r\n      year: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const groupedReplies = useMemo(() => {\r\n    const groups = {};\r\n    replies.forEach((msg) => {\r\n      const dateLabel = formatDate(msg.repliedAt);\r\n      if (!groups[dateLabel]) groups[dateLabel] = [];\r\n      groups[dateLabel].push(msg);\r\n    });\r\n    return groups;\r\n  }, [replies]);\r\n\r\n  // Scroll to bottom on new message\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [replies]);\r\n\r\n  // WebSocket setup\r\n  useEffect(() => {\r\n    if (!ticket?.ticketId) return;\r\n\r\n    if (socketRef.current) {\r\n      socketRef.current.close();\r\n    }\r\n\r\n    const ws = new WebSocket(\r\n      `ws://192.168.0.247:8088/ws-ticket?ticketId=${ticket.ticketId}`\r\n    );\r\n    socketRef.current = ws;\r\n\r\n    ws.onopen = () => console.log(\"‚úÖ WebSocket connected for\", ticket.ticketId);\r\n\r\n    ws.onmessage = (event) => {\r\n      try {\r\n        const msg = JSON.parse(event.data);\r\n        setReplies((prev) => {\r\n          const exists = prev.some(\r\n            (r) =>\r\n              r.replyText === msg.replyText &&\r\n              r.repliedAt === msg.repliedAt &&\r\n              r.repliedBy === msg.repliedBy\r\n          );\r\n          return exists ? prev : [...prev, msg];\r\n        });\r\n      } catch (e) {\r\n        console.error(\"Error parsing WebSocket message\", e);\r\n      }\r\n    };\r\n\r\n    ws.onerror = (err) => console.error(\"‚ùå WebSocket error:\", err);\r\n    ws.onclose = () => console.log(\"üîå WebSocket disconnected\");\r\n\r\n    return () => {\r\n      ws.close();\r\n    };\r\n  }, [ticket?.ticketId]);\r\n\r\n  useEffect(() => {\r\n    const fetchReplies = async () => {\r\n      if (!ticket?.ticketId) return;\r\n      try {\r\n        const token = localStorage.getItem(\"accessToken\");\r\n        const response = await axios.get(\r\n          `http://192.168.0.247:8088/api/ticket/admin/tickets/${ticket.ticketId}/reply`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n        setReplies(response.data);\r\n      } catch (error) {\r\n        console.error(\"‚ùå Failed to fetch previous replies\", error);\r\n      }\r\n    };\r\n    fetchReplies();\r\n  }, [ticket?.ticketId, showChat]);\r\n\r\n  const handleReply = async () => {\r\n    if (!replyText.trim() || !ticket?.ticketId) return;\r\n\r\n    const token = localStorage.getItem(\"accessToken\");\r\n\r\n    const payload = {\r\n      replyText: replyText.trim(),\r\n      repliedBy: \"admin\",\r\n      status: newStatus.toUpperCase(),\r\n      employeeId: ticket.employeeId || \"DEFAULT_EMPLOYEE\",\r\n      roles:\r\n        roles && typeof roles === \"string\"\r\n          ? `ROLE_${roles.toUpperCase()}`\r\n          : \"ROLE_HR\",\r\n      repliedAt: new Date().toISOString(),\r\n    };\r\n\r\n    try {\r\n      await axios.put(\r\n        `http://192.168.0.247:8088/api/ticket/admin/tickets/${ticket.ticketId}/reply`,\r\n        payload,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setReplyText(\"\");\r\n      setMessageSent(true);\r\n      setTimeout(() => setMessageSent(false), 2000);\r\n    } catch (error) {\r\n      console.error(\"‚ùå Reply failed\", error.response?.data || error.message);\r\n    }\r\n  };\r\n\r\n  const handleStatusChange = async () => {\r\n    if (!ticket?.ticketId) return;\r\n\r\n    const token = localStorage.getItem(\"accessToken\");\r\n\r\n    const payload = {\r\n      replyText: replyText.trim() || \"Status updated\",\r\n      repliedBy: \"admin\",\r\n      status: newStatus,\r\n      employeeId: ticket.employeeId || \"DEFAULT_EMPLOYEE\",\r\n      roles:\r\n        roles && typeof roles === \"string\"\r\n          ? `ROLE_${roles.toUpperCase()}`\r\n          : \"ROLE_HR\",\r\n      repliedAt: new Date().toISOString(),\r\n    };\r\n\r\n    try {\r\n      const res = await axios.put(\r\n        `http://192.168.0.247:8088/api/ticket/admin/tickets/${ticket.ticketId}/reply`,\r\n        payload,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setReplies((prev) => [...prev, res.data]);\r\n      setNewStatus(res.data.status);\r\n\r\n      if (onStatusUpdate) {\r\n        onStatusUpdate(res.data);\r\n      }\r\n\r\n      onClose();\r\n    } catch (err) {\r\n      console.error(\"Error updating status:\", err);\r\n    }\r\n  };\r\n\r\n  const displayRole = (role) => role?.replace(/^ROLE_/, \"\");\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4\">\r\n      <div className=\"bg-white w-full max-w-[calc(100vw-5rem)] md:max-w-4xl rounded-2xl shadow-2xl relative transition-all duration-300\">\r\n        <div className=\"p-6 overflow-y-auto h-[90vh] scroll-smooth\">\r\n          {!showChat ? (\r\n            <>\r\n              <h2 className=\"text-3xl font-extrabold text-blue-700 mb-6\">\r\n                üé´ Ticket Details\r\n              </h2>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5 text-[15px] text-gray-800 mb-8\">\r\n                <p>\r\n                  <span className=\"font-semibold\">üë§ Employee ID:</span>{\" \"}\r\n                  {ticket.employeeId}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">üìõ Ticket ID:</span>{\" \"}\r\n                  {ticket.ticketId}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">üìù Issue:</span> {ticket.title}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">üßë‚Äçüíº Role:</span>{\" \"}\r\n                  {displayRole(ticket.roles)}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">‚ö†Ô∏è Description:</span>{\" \"}\r\n                  {ticket.description}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">‚ö†Ô∏è Priority:</span>{\" \"}\r\n                  {ticket.priority}\r\n                </p>\r\n                <p className=\"md:col-span-2\">\r\n                  <span className=\"font-semibold\">üìÖ Created:</span>{\" \"}\r\n                  {ticket.sentAt\r\n                    ? new Date(ticket.sentAt).toLocaleString()\r\n                    : \"\"}\r\n                </p>\r\n\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block font-medium text-gray-900 mb-2\">\r\n                    üìå Update Status\r\n                  </label>\r\n                  <select\r\n                    value={newStatus}\r\n                    onChange={(e) => setNewStatus(e.target.value)}\r\n                    className=\"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500\"\r\n                  >\r\n                    <option value=\"Unsolved\">Unsolved</option>\r\n                    <option value=\"Resolved\">Resolved</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <button\r\n                onClick={() => setShowChat(true)}\r\n                className=\"mb-6 px-6 py-2 bg-blue-600 text-white font-medium rounded-full hover:bg-blue-700 transition-all duration-200 shadow\"\r\n              >\r\n                üí¨ Open Chat\r\n              </button>\r\n\r\n              <div className=\"mt-10 flex justify-end gap-4\">\r\n                <button\r\n                  onClick={onClose}\r\n                  className=\"px-5 py-2 rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-100 transition\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={handleStatusChange}\r\n                  disabled={loading}\r\n                  className={`px-6 py-2 rounded-lg font-medium transition ${\r\n                    loading\r\n                      ? \"bg-gray-400 text-white cursor-not-allowed\"\r\n                      : \"bg-blue-600 text-white hover:bg-blue-700\"\r\n                  }`}\r\n                >\r\n                  {loading ? \"Saving...\" : \"Update Status\"}\r\n                </button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h2 className=\"text-2xl font-bold text-blue-700\">\r\n                  üí¨ Chat with {ticket.employeeName}\r\n                </h2>\r\n                <button\r\n                  onClick={() => setShowChat(false)}\r\n                  className=\"text-sm text-blue-600 hover:underline\"\r\n                >\r\n                  Back to Ticket\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"max-h-72 overflow-y-auto space-y-3 p-4 bg-gray-50 rounded-xl border mb-4 shadow-inner\">\r\n                <div className=\"bg-white text-gray-900 border rounded-bl-none px-4 py-2 max-w-[75%] text-sm rounded-2xl shadow\">\r\n                  <p>{ticket.title}</p>\r\n                  <div className=\"text-[10px] mt-1 text-left text-gray-500\">\r\n                    {ticket.sentAt &&\r\n                      new Date(ticket.sentAt).toLocaleTimeString([], {\r\n                        hour: \"2-digit\",\r\n                        minute: \"2-digit\",\r\n                      })}\r\n                  </div>\r\n                </div>\r\n\r\n                {Object.keys(groupedReplies).map((date) => (\r\n                  <div key={date}>\r\n                    <div className=\"text-center text-xs text-gray-500 my-2\">\r\n                      {date}\r\n                    </div>\r\n                    {groupedReplies[date].map((msg, idx) => (\r\n                      <div\r\n                        key={idx}\r\n                        className={`flex ${\r\n                          msg.repliedBy === \"admin\"\r\n                            ? \"justify-end\"\r\n                            : \"justify-start\"\r\n                        }`}\r\n                      >\r\n                        <div\r\n                          className={`inline-block px-4 py-2 text-sm rounded-2xl shadow transition\r\n                            ${\r\n                              msg.repliedBy === \"admin\"\r\n                                ? \"bg-blue-600 text-white rounded-br-none\"\r\n                                : \"bg-white text-gray-900 border rounded-bl-none\"\r\n                            }`}\r\n                        >\r\n                          <p className=\"whitespace-pre-line break-words\">\r\n                            {msg.replyText}\r\n                          </p>\r\n                          <div\r\n                            className={`text-[10px] mt-1 ${\r\n                              msg.repliedBy === \"admin\"\r\n                                ? \"text-white text-right\"\r\n                                : \"text-gray-500 text-left\"\r\n                            }`}\r\n                          >\r\n                            {new Date(msg.repliedAt).toLocaleTimeString([], {\r\n                              hour: \"2-digit\",\r\n                              minute: \"2-digit\",\r\n                            })}{\" \"}\r\n                            {msg.repliedBy === \"admin\" && \"‚úì‚úì\"}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ))}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n\r\n              {ticket.status === \"Resolved\" ? (\r\n                <div className=\"text-center text-red-600 font-medium py-4 border-t border-gray-200\">\r\n                  üö´ This ticket is Resolved. No further replies are allowed.\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  <label className=\"block font-medium text-gray-800\">\r\n                    Reply as Admin\r\n                  </label>\r\n                  <textarea\r\n                    value={replyText}\r\n                    onChange={(e) => setReplyText(e.target.value)}\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === \"Enter\" && !e.shiftKey) {\r\n                        e.preventDefault();\r\n                        handleReply();\r\n                      }\r\n                    }}\r\n                    rows=\"3\"\r\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 resize-none text-sm shadow\"\r\n                    placeholder=\"Type your reply...\"\r\n                  />\r\n                  <button\r\n                    onClick={handleReply}\r\n                    className=\"w-full bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition\"\r\n                  >\r\n                    Send\r\n                  </button>\r\n                  {messageSent && (\r\n                    <div className=\"text-green-600 text-sm text-center animate-pulse\">\r\n                      ‚úÖ Reply Sent\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          onClick={onClose}\r\n          className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-2xl transition\"\r\n          aria-label=\"Close\"\r\n        >\r\n          &times;\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Ticket, CheckCircle2, AlertTriangle } from \"lucide-react\";\r\n\r\nexport default function TicketStats({ tickets }) {\r\n  const total = tickets.length;\r\n  const resolved = tickets.filter((t) => t.status === \"Resolved\").length;\r\n  const unsolved = tickets.filter((t) => t.status !== \"Resolved\").length;\r\n\r\n  const cardBase =\r\n    \"flex items-center gap-4 p-5 rounded-xl shadow-md border bg-white hover:shadow-lg transition-all\";\r\n\r\n  return (\r\n    <div className=\"px-4 pt-4\">\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n        {/* Total Tickets */}\r\n        <div className={`${cardBase} border-blue-200`}>\r\n          <div className=\"bg-blue-100 text-blue-600 p-3 rounded-full\">\r\n            <Ticket size={28} />\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">Total Tickets</p>\r\n            <h3 className=\"text-3xl font-bold text-blue-700\">{total}</h3>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Solved Tickets */}\r\n        <div className={`${cardBase} border-emerald-200`}>\r\n          <div className=\"bg-emerald-100 text-emerald-600 p-3 rounded-full\">\r\n            <CheckCircle2 size={28} />\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">Solved Tickets</p>\r\n            <h3 className=\"text-3xl font-bold text-emerald-600\">{resolved}</h3>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Unsolved Tickets */}\r\n        <div className={`${cardBase} border-red-200`}>\r\n          <div className=\"bg-red-100 text-red-600 p-3 rounded-full\">\r\n            <AlertTriangle size={28} />\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">Unsolved Tickets</p>\r\n            <h3 className=\"text-3xl font-bold text-red-600\">{unsolved}</h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef, useState, useContext } from \"react\";\r\nimport { CheckCircle2, LayoutDashboard, Ticket } from \"lucide-react\";\r\nimport Filters from \"./Filters\";\r\nimport TicketCard from \"./TicketCard\";\r\nimport TicketModal from \"./TicketModal\";\r\nimport TicketStats from \"./TicketStats\";\r\nimport { motion } from \"framer-motion\";\r\nimport { FaArrowLeft, FaArrowRight } from \"react-icons/fa\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport { ticketsApi } from \"../../../../axiosInstance\";\r\n\r\nexport default function TicketDashboard() {\r\n  const { userData } = useContext(Context);\r\n  const { empID } = useParams();\r\n  const [tickets, setTickets] = useState([]);\r\n  const [filterStatus, setFilterStatus] = useState(\"all\");\r\n  const [dateFilter, setDateFilter] = useState(\"All\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [selectedTicket, setSelectedTicket] = useState(null);\r\n  const [replyText, setReplyText] = useState(\"\");\r\n  const [newStatus, setNewStatus] = useState(\"Pending\");\r\n  const [error, setError] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const ticketsPerPage = 9;\r\n\r\n  const wsRef = useRef(null);\r\n  const repliedBy = \"admin\";\r\n  const navigate = useNavigate();\r\n\r\n  // ‚úÖ Normalize role\r\n  const rawRole = Array.isArray(userData?.roles)\r\n    ? userData.roles[0]\r\n    : userData?.roles || \"\";\r\n  const normalizedRole =\r\n    typeof rawRole === \"string\"\r\n      ? rawRole.toUpperCase().startsWith(\"ROLE_\")\r\n        ? rawRole.toUpperCase()\r\n        : \"ROLE_\" + rawRole.toUpperCase()\r\n      : \"\";\r\n\r\n  const statusIcons = {\r\n    all: <LayoutDashboard size={20} />,\r\n    resolved: <CheckCircle2 size={20} />,\r\n  };\r\n\r\n  const statusLabels = {\r\n    all: \"All\",\r\n    resolved: \"Resolved\",\r\n  };\r\n\r\n  const statuses = Object.keys(statusIcons);\r\n\r\n  // ‚úÖ Fetch tickets\r\n  const fetchTickets = async () => {\r\n    try {\r\n      if (!normalizedRole || !empID) {\r\n        throw new Error(\"Missing role or employee ID\");\r\n      }\r\n\r\n      const res = await ticketsApi.get(\r\n        `admin/tickets/role/${normalizedRole}/${empID}`\r\n      );\r\n\r\n      setTickets(res.data || []);\r\n      console.log(\"Fetched tickets:\", res.data);\r\n    } catch (err) {\r\n      console.error(\"Error fetching tickets:\", err);\r\n      setError(\"Failed to load tickets\");\r\n    }\r\n  };\r\n\r\n  // ‚úÖ WebSocket\r\n  const connectWebSocket = () => {\r\n    const socket = new WebSocket(`ws://192.168.0.247:8088/ws-ticket`);\r\n    socket.onopen = () => console.log(\"‚úÖ WebSocket connected\");\r\n\r\n    socket.onmessage = (event) => {\r\n      const message = JSON.parse(event.data);\r\n      updateTicketReplies(message);\r\n    };\r\n\r\n    socket.onclose = () => {\r\n      console.warn(\"‚ö†Ô∏è WS disconnected. Reconnecting...\");\r\n      setTimeout(connectWebSocket, 3000);\r\n    };\r\n\r\n    socket.onerror = (e) => console.error(\"‚ùå WS error:\", e);\r\n\r\n    wsRef.current = socket;\r\n  };\r\n\r\n  // ‚úÖ Update replies in UI\r\n  const updateTicketReplies = (replyDTO) => {\r\n    setTickets((prev) =>\r\n      prev.map((ticket) =>\r\n        ticket.ticketId === replyDTO.ticketId\r\n          ? {\r\n              ...ticket,\r\n              replies: [...(ticket.replies || []), replyDTO],\r\n              status: replyDTO.status || ticket.status,\r\n            }\r\n          : ticket\r\n      )\r\n    );\r\n\r\n    if (selectedTicket?.ticketId === replyDTO.ticketId) {\r\n      setSelectedTicket((prev) => ({\r\n        ...prev,\r\n        replies: [...(prev.replies || []), replyDTO],\r\n        status: replyDTO.status || prev.status,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const toggleSidebar = () => setIsSidebarCollapsed((prev) => !prev);\r\n\r\n  const handleReply = async () => {\r\n    if (!selectedTicket || !replyText.trim()) return;\r\n\r\n    const payload = {\r\n      ticketId: selectedTicket.ticketId,\r\n      replyText,\r\n      repliedBy,\r\n      repliedAt: new Date().toISOString(),\r\n      status: newStatus || selectedTicket.status,\r\n      employeeId: selectedTicket.employeeId,\r\n      roles: selectedTicket.roles,\r\n    };\r\n\r\n    try {\r\n      await fetch(\r\n        `http://192.168.0.247:8088/api/ticket/admin/tickets/${selectedTicket.ticketId}/reply`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(payload),\r\n        }\r\n      );\r\n\r\n      setMessages((prev) => [...prev, payload]);\r\n\r\n      if (wsRef.current?.readyState === WebSocket.OPEN) {\r\n        wsRef.current.send(JSON.stringify(payload));\r\n      }\r\n\r\n      setReplyText(\"\");\r\n    } catch (err) {\r\n      console.error(\"Reply failed\", err);\r\n    }\r\n  };\r\n  \r\n\r\n  const handleStatusChange = async (statusToUpdate) => {\r\n    if (!selectedTicket) return;\r\n\r\n    const payload = {\r\n      ticketId: selectedTicket.ticketId,\r\n      replyText: \"\",\r\n      repliedBy,\r\n      repliedAt: new Date().toISOString(),\r\n      status: statusToUpdate,\r\n      employeeId: selectedTicket.employeeId,\r\n      roles: selectedTicket.roles,\r\n    };\r\n\r\n    try {\r\n      await fetch(\r\n        `http://192.168.0.247:8088/api/ticket/admin/tickets/${selectedTicket.ticketId}/reply`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(payload),\r\n        }\r\n      );\r\n    } catch (err) {\r\n      console.error(\"Status change failed\", err);\r\n    }\r\n  };\r\n\r\n  const applyDateFilter = (ticket) => {\r\n    if (dateFilter === \"All\") return true;\r\n\r\n    const now = new Date();\r\n    const created = ticket.sentAt ? new Date(ticket.sentAt) : null;\r\n    if (!created || isNaN(created)) return false;\r\n\r\n    const daysDiff = (now - created) / (1000 * 60 * 60 * 24);\r\n\r\n    if (dateFilter === \"Today\") {\r\n      return (\r\n        created.getDate() === now.getDate() &&\r\n        created.getMonth() === now.getMonth() &&\r\n        created.getFullYear() === now.getFullYear()\r\n      );\r\n    }\r\n    if (dateFilter === \"Last 7 days\") return daysDiff <= 7;\r\n    if (dateFilter === \"Last 30 days\") return daysDiff <= 30;\r\n\r\n    return true;\r\n  };\r\n\r\n  const filtered = tickets\r\n    .filter(\r\n  (t) =>\r\n    filterStatus === \"all\" ||\r\n    t.status?.toLowerCase() === filterStatus.toLowerCase()\r\n)\r\n\r\n    .filter(applyDateFilter)\r\n    .filter((t) => {\r\n      const term = searchTerm.toLowerCase();\r\n      if (!term) return true;\r\n      return (\r\n        t.employeeName?.toLowerCase().includes(term) ||\r\n        String(t.employeeId || \"\").toLowerCase().includes(term) ||\r\n        t.priority?.toLowerCase().includes(term) ||\r\n        t.title?.toLowerCase().includes(term) ||\r\n        t.status?.toLowerCase().includes(term)\r\n      );\r\n    })\r\n    .sort((a, b) => new Date(b.sentAt) - new Date(a.sentAt));\r\n\r\n  // ‚úÖ Pagination Logic\r\n  const totalPages = Math.ceil(filtered.length / ticketsPerPage);\r\n  const indexOfLastTicket = currentPage * ticketsPerPage;\r\n  const indexOfFirstTicket = indexOfLastTicket - ticketsPerPage;\r\n  const currentTickets = filtered.slice(indexOfFirstTicket, indexOfLastTicket);\r\n\r\n  const sidebarItems = [{ tab: \"My Tickets\", icon: Ticket }];\r\n\r\n  const handleTabClick = (tab) => {\r\n    if (tab === \"My Tickets\") {\r\n      navigate(`/tickets/employee/${empID}`);\r\n    }\r\n  };\r\n\r\n  // ‚úÖ Load tickets and connect WebSocket\r\n  useEffect(() => {\r\n    fetchTickets();\r\n  }, [normalizedRole, empID]);\r\n\r\n  useEffect(() => {\r\n    connectWebSocket();\r\n    return () => wsRef.current?.close();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex flex-row min-h-screen bg-gray-50\">\r\n      {/* Main Content Left */}\r\n      <main className=\"flex-1 relative\">\r\n        <div className=\"absolute inset-0 bg-[url('/your-image.jpg')] bg-cover bg-center\">\r\n          <div className=\"w-full h-full bg-gradient-to-b from-white/20 via-white/80 to-white\"></div>\r\n        </div>\r\n\r\n        <div className=\"relative z-10 px-4\">\r\n          <Filters\r\n            dateFilter={dateFilter}\r\n            setDateFilter={setDateFilter}\r\n            searchTerm={searchTerm}\r\n            setSearchTerm={setSearchTerm}\r\n          />\r\n\r\n          {error && (\r\n            <div className=\"bg-red-100 text-red-700 p-2 border rounded mb-4\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <TicketStats tickets={tickets} />\r\n\r\n          <div className=\"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {currentTickets.map((t) => (\r\n              <TicketCard\r\n                key={t.ticketId}\r\n                {...t}\r\n                onClick={() => {\r\n                  setSelectedTicket(t);\r\n                  setNewStatus(t.status);\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          {/* ‚úÖ Pagination Controls */}\r\n          <div className=\"flex justify-center items-center space-x-2 my-6\">\r\n            <button\r\n              onClick={() => setCurrentPage((p) => Math.max(p - 1, 1))}\r\n              disabled={currentPage === 1}\r\n              className=\"px-3 py-1 border rounded disabled:opacity-50\"\r\n            >\r\n              Prev\r\n            </button>\r\n\r\n            {Array.from({ length: totalPages }, (_, i) => i + 1).map((num) => (\r\n              <button\r\n                key={num}\r\n                onClick={() => setCurrentPage(num)}\r\n                className={`px-3 py-1 border rounded ${\r\n                  currentPage === num\r\n                    ? \"bg-blue-600 text-white\"\r\n                    : \"bg-white\"\r\n                }`}\r\n              >\r\n                {num}\r\n              </button>\r\n            ))}\r\n            \r\n\r\n            <button\r\n              onClick={() => setCurrentPage((p) => Math.min(p + 1, totalPages))}\r\n              disabled={currentPage === totalPages}\r\n              className=\"px-3 py-1 border rounded disabled:opacity-50\"\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {selectedTicket && (\r\n          <TicketModal\r\n            ticket={selectedTicket}\r\n            onClose={() => setSelectedTicket(null)}\r\n            onReply={handleReply}\r\n            replyText={replyText}\r\n            setReplyText={setReplyText}\r\n            newStatus={newStatus}\r\n            setNewStatus={setNewStatus}\r\n            onStatusUpdate={(updatedTicket) => {\r\n              setTickets((prev) =>\r\n                prev.map((t) =>\r\n                  t.ticketId === updatedTicket.ticketId\r\n                    ? { ...t, status: updatedTicket.status }\r\n                    : t\r\n                )\r\n              );\r\n\r\n              setSelectedTicket((prev) =>\r\n                prev ? { ...prev, status: updatedTicket.status } : prev\r\n              );\r\n            }}\r\n          />\r\n        )}\r\n      </main>\r\n\r\n      {/* Sidebar on the Right */}\r\n      <aside\r\n        className={`sm:flex flex-col bg-white border-l border-gray-200 transition-all duration-200 ${\r\n          isSidebarCollapsed ? \"w-[60px]\" : \"w-[250px]\"\r\n        } hidden sm:flex sm:sticky sm:top-0 h-screen`}\r\n      >\r\n        {/* Collapse/Expand Button */}\r\n        <div className=\"flex justify-start p-1.5 items-center\">\r\n          <motion.button\r\n            onClick={toggleSidebar}\r\n            className=\"text-gray-500 hover:text-gray-700 focus:outline-none p-1.5 rounded-full hover:bg-gray-100\"\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            {isSidebarCollapsed ? (\r\n              <FaArrowRight size={14} />\r\n            ) : (\r\n              <FaArrowLeft size={14} />\r\n            )}\r\n          </motion.button>\r\n        </div>\r\n\r\n        {/* Navigation */}\r\n        <nav className=\"flex-1 space-y-1.5 px-1.5\">\r\n          {statuses.map((status) => (\r\n            <motion.button\r\n              key={status}\r\n              className={`w-full text-left py-2 px-2 rounded-md font-medium flex items-center transition-colors\r\n                ${\r\n                  filterStatus === status\r\n                    ? \"bg-blue-600 text-white\"\r\n                    : \"text-gray-700 hover:bg-gray-200\"\r\n                }\r\n                ${isSidebarCollapsed ? \"justify-center\" : \"\"}`}\r\n              onClick={() => {\r\n                setFilterStatus(status);\r\n                setCurrentPage(1);\r\n              }}\r\n              whileHover={{ x: isSidebarCollapsed ? 0 : -3 }}\r\n            >\r\n              {statusIcons[status]}\r\n              {!isSidebarCollapsed && (\r\n                <span className=\"ml-2 capitalize\">{statusLabels[status]}</span>\r\n              )}\r\n            </motion.button>\r\n          ))}\r\n\r\n          <hr className=\"my-3 border-gray-300\" />\r\n\r\n          {sidebarItems.map(({ tab, icon: Icon }) => (\r\n            <motion.button\r\n              key={tab}\r\n              className={`w-full text-left py-2 px-2 rounded-md font-medium flex items-center transition-colors\r\n                ${isSidebarCollapsed ? \"justify-center\" : \"\"}`}\r\n              onClick={() => handleTabClick(tab)}\r\n              whileHover={{ x: isSidebarCollapsed ? 0 : -3 }}\r\n            >\r\n              <Icon size={14} className={isSidebarCollapsed ? \"\" : \"mr-2\"} />\r\n              {!isSidebarCollapsed && <span>{tab}</span>}\r\n            </motion.button>\r\n          ))}\r\n        </nav>\r\n      </aside>\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '7', height: '9', x: '3', y: '3', rx: '1', key: '10lvy0' }],\n  ['rect', { width: '7', height: '5', x: '14', y: '3', rx: '1', key: '16une8' }],\n  ['rect', { width: '7', height: '9', x: '14', y: '12', rx: '1', key: '1hutg5' }],\n  ['rect', { width: '7', height: '5', x: '3', y: '16', rx: '1', key: 'ldoo1y' }],\n];\n\n/**\n * @component @name LayoutDashboard\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSI5IiB4PSIzIiB5PSIzIiByeD0iMSIgLz4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSI1IiB4PSIxNCIgeT0iMyIgcng9IjEiIC8+CiAgPHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iOSIgeD0iMTQiIHk9IjEyIiByeD0iMSIgLz4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSI1IiB4PSIzIiB5PSIxNiIgcng9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/layout-dashboard\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LayoutDashboard = createLucideIcon('layout-dashboard', __iconNode);\n\nexport default LayoutDashboard;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z',\n      key: 'qn84l0',\n    },\n  ],\n  ['path', { d: 'M13 5v2', key: 'dyzc3o' }],\n  ['path', { d: 'M13 17v2', key: '1ont0d' }],\n  ['path', { d: 'M13 11v2', key: '1wjjxi' }],\n];\n\n/**\n * @component @name Ticket\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMiA5YTMgMyAwIDAgMSAwIDZ2MmEyIDIgMCAwIDAgMiAyaDE2YTIgMiAwIDAgMCAyLTJ2LTJhMyAzIDAgMCAxIDAtNlY3YTIgMiAwIDAgMC0yLTJINGEyIDIgMCAwIDAtMiAyWiIgLz4KICA8cGF0aCBkPSJNMTMgNXYyIiAvPgogIDxwYXRoIGQ9Ik0xMyAxN3YyIiAvPgogIDxwYXRoIGQ9Ik0xMyAxMXYyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/ticket\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Ticket = createLucideIcon('ticket', __iconNode);\n\nexport default Ticket;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n];\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('circle-check', __iconNode);\n\nexport default CircleCheck;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3',\n      key: 'wmoenq',\n    },\n  ],\n  ['path', { d: 'M12 9v4', key: 'juzpu7' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n];\n\n/**\n * @component @name TriangleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTMiIC8+CiAgPHBhdGggZD0iTTEyIDl2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTdoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/triangle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TriangleAlert = createLucideIcon('triangle-alert', __iconNode);\n\nexport default TriangleAlert;\n"],"names":["isRefreshing","failedQueue","processQueue","error","token","arguments","length","undefined","forEach","prom","reject","resolve","createAxiosInstance","baseURL","instance","axios","create","interceptors","request","use","config","localStorage","getItem","headers","Promise","response","async","_error$response","originalRequest","status","_retry","push","then","catch","err","oldToken","console","log","refreshResponse","post","withCredentials","accessToken","data","setItem","FormData","formData","newFormData","key","value","entries","append","cloneFormData","newInstance","refreshError","clear","window","location","href","addEventListener","event","newValue","tasksApi","publicinfoApi","chatApi","notificationsApi","ticketsApi","Filters","_ref","dateFilter","setDateFilter","searchTerm","setSearchTerm","_jsxs","className","children","_jsx","htmlFor","id","onChange","e","target","type","placeholder","TicketCard","employeeId","employeeName","priority","title","sentAt","onClick","High","Medium","Low","Pending","Unsolved","Opened","Resolved","isNaN","Date","getTime","toLocaleString","TicketModal","ticket","onClose","replyText","setReplyText","roles","onStatusUpdate","showChat","setShowChat","useState","replies","setReplies","loading","setLoading","messageSent","setMessageSent","messagesEndRef","useRef","socketRef","newStatus","setNewStatus","groupedReplies","useMemo","groups","msg","dateLabel","date","d","today","yesterday","setDate","getDate","toDateString","toLocaleDateString","day","month","year","formatDate","repliedAt","useEffect","_messagesEndRef$curre","current","scrollIntoView","behavior","ticketId","close","ws","WebSocket","onopen","onmessage","JSON","parse","prev","some","r","repliedBy","onerror","onclose","get","Authorization","fetchReplies","handleReply","trim","payload","toUpperCase","toISOString","put","setTimeout","message","_Fragment","toLocaleTimeString","hour","minute","Object","keys","map","idx","ref","onKeyDown","shiftKey","preventDefault","rows","role","replace","description","res","disabled","TicketStats","tickets","total","resolved","filter","t","unsolved","cardBase","Ticket","size","CheckCircle2","AlertTriangle","TicketDashboard","userData","useContext","Context","empID","useParams","setTickets","filterStatus","setFilterStatus","selectedTicket","setSelectedTicket","setError","messages","setMessages","isSidebarCollapsed","setIsSidebarCollapsed","currentPage","setCurrentPage","wsRef","navigate","useNavigate","rawRole","Array","isArray","normalizedRole","startsWith","statusIcons","all","LayoutDashboard","statusLabels","statuses","connectWebSocket","socket","updateTicketReplies","warn","replyDTO","filtered","_t$status","toLowerCase","now","created","daysDiff","getMonth","getFullYear","_t$employeeName","_t$priority","_t$title","_t$status2","term","includes","String","sort","a","b","totalPages","Math","ceil","indexOfLastTicket","indexOfFirstTicket","currentTickets","slice","sidebarItems","tab","icon","Error","fetchTickets","_wsRef$current2","p","max","from","_","i","num","min","onReply","_wsRef$current","fetch","method","body","stringify","readyState","OPEN","send","updatedTicket","motion","button","toggleSidebar","transition","duration","FaArrowRight","FaArrowLeft","whileHover","x","Icon","handleTabClick","createLucideIcon","width","height","y","rx","CircleCheck","cx","cy","TriangleAlert"],"sourceRoot":""}