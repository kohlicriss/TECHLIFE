"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[404],{1024:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(5043),r=a(579);const i=[{employeeId:"ACS00000001",name:"Arjun Reddy",attendanceId:"ACS00000001_2025-10-09",date:"2025-10-09",month:"October",year:2025,mode:"Office",loginTime:"2025-10-09T09:10:00Z",logoutTime:"2025-10-09T18:05:00Z",breaks:[{startTime:"2025-10-09T13:00:00Z",endTime:"2025-10-09T13:30:00Z"}],effectiveHours:"PT8H25M",attended:!0,leavesTaken:2},{employeeId:"ACS00000002",name:"Priya Sharma",attendanceId:"ACS00000002_2025-10-10",date:"2025-10-10",month:"October",year:2025,mode:"Remote",loginTime:"2025-10-10T09:00:00Z",logoutTime:"2025-10-10T17:30:00Z",breaks:[],effectiveHours:"PT8H30M",attended:!0,leavesTaken:5},{employeeId:"ACS00000003",name:"Vikram Singh",attendanceId:"ACS00000003_2025-09-28",date:"2025-09-28",month:"September",year:2025,mode:"Office",loginTime:"2025-09-28T09:30:00Z",logoutTime:"2025-09-28T17:00:00Z",breaks:[{startTime:"2025-09-28T12:00:00Z",endTime:"2025-09-28T12:30:00Z"},{startTime:"2025-09-28T15:00:00Z",endTime:"2025-09-28T15:15:00Z"}],effectiveHours:"PT7H15M",attended:!0,leavesTaken:0},{employeeId:"ACS00000004",name:"Sita Kumari",attendanceId:"ACS00000004_2025-10-05",date:"2025-10-05",month:"October",year:2025,mode:"Remote",loginTime:"2025-10-05T09:45:00Z",logoutTime:"2025-10-05T18:15:00Z",breaks:[{startTime:"2025-10-05T13:15:00Z",endTime:"2025-10-05T13:45:00Z"}],effectiveHours:"PT7H45M",attended:!0,leavesTaken:1},{employeeId:"ACS00000005",name:"Rahul Das",attendanceId:"ACS00000005_2025-08-15",date:"2025-08-15",month:"August",year:2025,mode:"Office",loginTime:"2025-08-15T08:50:00Z",logoutTime:"2025-08-15T17:50:00Z",breaks:[],effectiveHours:"PT9H0M",attended:!0,leavesTaken:3}],n=e=>{const t=Math.floor(e/60),a=e%60;return`${String(t).padStart(2,"0")}:${String(a).padStart(2,"0")}`},l=e=>{let{onBack:t}=e;const[a,l]=(0,s.useState)(""),[o,d]=(0,s.useState)("Recantly Added"),[c,m]=(0,s.useState)(""),x=(0,s.useMemo)(()=>{let e=[...i];switch(c&&(e=e.filter(e=>e.month.toLowerCase()===c.toLowerCase())),a&&(e=e.filter(e=>e.leavesTaken>0)),o){case"Ascending":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"Descending":e.sort((e,t)=>t.name.localeCompare(e.name));break;case"Last Month":const t=0===(new Date).getMonth()?"December":new Date(0,(new Date).getMonth()-1).toLocaleString("en-US",{month:"long"});e.sort((e,a)=>e.month===t&&a.month!==t?-1:e.month!==t&&a.month===t?1:0);break;case"Last 7 days":case"Recantly Added":default:e.sort((e,t)=>new Date(t.date)-new Date(e.date));break;case"This Month":const a=(new Date).toLocaleString("en-US",{month:"long"});e.sort((e,t)=>e.month===a&&t.month!==a?-1:e.month!==a&&t.month===a?1:0)}return e},[i,a,o,c]),h=(0,s.useMemo)(()=>new Set(i.map(e=>e.employeeId)).size,[i]);return(0,r.jsxs)("div",{className:"p-4 sm:p-8 bg-gray-50 min-h-screen",children:[(0,r.jsxs)("h1",{className:"text-3xl font-extrabold text-indigo-800 mb-6 border-b pb-2",children:[(0,r.jsx)("span",{role:"img","aria-label":"clock",children:"\u23f0"})," Employee Attendance Tracker"]}),(0,r.jsx)("button",{onClick:t,className:"mb-4 px-4 py-2 bg-indigo-100 text-blue-600 rounded-lg font-semibold shadow hover:bg-indigo-200 transition",children:"\u2190 Back to Dashboard"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 p-4 bg-white rounded-xl shadow-lg border-l-4 border-indigo-500",children:[(0,r.jsxs)("div",{className:"text-lg font-semibold text-gray-700 mb-4 sm:mb-0",children:["Total Employees: ",(0,r.jsx)("span",{className:"text-indigo-600 text-2xl",children:h})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsxs)("select",{value:a,onChange:e=>l(e.target.value),className:"p-2 border border-gray-300 rounded-lg text-sm bg-white hover:border-indigo-500 transition-colors focus:ring-2 focus:ring-indigo-300",children:[(0,r.jsx)("option",{value:"",children:"Leave Type: All"}),(0,r.jsx)("option",{value:"sick",children:"Sick"}),(0,r.jsx)("option",{value:"paid",children:"Paid"}),(0,r.jsx)("option",{value:"unpaid",children:"Unpaid"}),(0,r.jsx)("option",{value:"casual",children:"Casual"})]}),(0,r.jsxs)("select",{value:c,onChange:e=>m(e.target.value),className:"p-2 border border-gray-300 rounded-lg text-sm bg-white hover:border-indigo-500 transition-colors focus:ring-2 focus:ring-indigo-300",children:[(0,r.jsx)("option",{value:"",children:"Select Month: All"}),["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>(0,r.jsx)("option",{value:e,children:e.slice(0,3)},e))]}),(0,r.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"p-2 border border-gray-300 rounded-lg text-sm bg-white hover:border-indigo-500 transition-colors focus:ring-2 focus:ring-indigo-300",children:[(0,r.jsx)("option",{value:"Recantly Added",children:"Sorted By: Recently Added"}),(0,r.jsx)("option",{value:"Ascending",children:"Name: Ascending"}),(0,r.jsx)("option",{value:"Descending",children:"Name: Descending"}),(0,r.jsx)("option",{value:"This Month",children:"Date: This Month"}),(0,r.jsx)("option",{value:"Last Month",children:"Date: Last Month"}),(0,r.jsx)("option",{value:"Last 7 days",children:"Date: Last 7 days"})]})]})]}),(0,r.jsx)("div",{className:"overflow-x-auto shadow-2xl rounded-xl",children:(0,r.jsxs)("table",{className:"min-w-full bg-white border-collapse",children:[(0,r.jsx)("thead",{className:"bg-indigo-600 text-white sticky top-0",children:(0,r.jsxs)("tr",{children:[["EmployeeId","Date","Mode","Login","Logout","Total Duration","Break Duration","Effective Hours","Leaves Taken","Status"].map(e=>(0,r.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 hidden sm:table-cell",children:e},e)),(0,r.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 sm:hidden",children:"Employee Details"})]})}),(0,r.jsx)("tbody",{children:0===x.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,className:"text-center py-6 text-gray-500 text-lg",children:"No attendance records found for the selected filters."})}):x.map((e,t)=>{const a=(e=>{const t=e.match(/PT(?:(\d+)H)?(?:(\d+)M)?/);return 60*(t[1]?parseInt(t[1],10):0)+(t[2]?parseInt(t[2],10):0)})(e.effectiveHours),s=(e=>{let t=0;return e.forEach(e=>{const a=new Date(e.startTime),s=new Date(e.endTime)-a;t+=Math.floor(s/6e4)}),t})(e.breaks),i=new Date(e.loginTime),l=new Date(e.logoutTime),o=Math.floor((l-i)/6e4),d=n(o),c=n(a),m=n(s),x=e.attended?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return(0,r.jsxs)("tr",{className:"border-b transition-colors duration-200 "+(t%2===0?"bg-gray-50 hover:bg-gray-200":"bg-white hover:bg-gray-200"),children:[(0,r.jsx)("td",{className:"py-4 px-4 text-gray-800 font-medium hidden sm:table-cell",children:e.employeeId}),(0,r.jsx)("td",{className:"py-4 px-4 text-sm text-gray-600 hidden sm:table-cell",children:e.date}),(0,r.jsx)("td",{className:"py-4 px-4 text-sm text-gray-600 hidden sm:table-cell",children:(0,r.jsx)("span",{className:"px-3 py-1 text-xs font-semibold rounded-full "+("Office"===e.mode?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.mode})}),(0,r.jsx)("td",{className:"py-4 px-4 text-sm text-gray-600 hidden sm:table-cell",children:i.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"UTC"})}),(0,r.jsx)("td",{className:"py-4 px-4 text-sm text-gray-600 hidden sm:table-cell",children:l.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"UTC"})}),(0,r.jsx)("td",{className:"py-4 px-4 text-sm font-semibold text-indigo-700 hidden sm:table-cell",children:d}),(0,r.jsx)("td",{className:"py-4 px-4 text-sm text-orange-600 hidden sm:table-cell",children:m}),(0,r.jsx)("td",{className:"py-4 px-4 text-sm font-bold text-green-700 hidden sm:table-cell",children:c}),(0,r.jsx)("td",{className:"py-4 px-4 text-sm text-red-600 font-medium hidden sm:table-cell",children:e.leavesTaken}),(0,r.jsx)("td",{className:"py-4 px-4 text-sm hidden sm:table-cell",children:(0,r.jsx)("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${x}`,children:e.attended?"Present":"Absent"})}),(0,r.jsx)("td",{className:"py-4 px-4 sm:hidden",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("span",{className:"text-base font-bold text-indigo-700",children:e.name}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Date: ",e.date," (",e.mode,")"]}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[i.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"UTC"})," -",l.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"UTC"})]}),(0,r.jsxs)("div",{className:"text-xs font-medium mt-1",children:[(0,r.jsxs)("span",{className:"text-green-700",children:["Effective: ",c]})," |",(0,r.jsxs)("span",{className:"text-red-600",children:[" Leaves: ",e.leavesTaken]})]})]})})]},e.attendanceId)})})]})}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-6 text-center",children:["Data is displayed for **",x.length,"** attendance record(s) based on current filters."]})]})}},6404:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ge});var s=a(5043),r=a(9910),i=a(3315),n=a(7012),l=a(4187),o=a(2274),d=a(7656),c=a(9002),m=a(2185),x=a(760),h=a(379),g=a(6992),u=a(6102),p=a(7869),y=a(95),b=a(2291),f=a(6028),w=a(5748),j=a(2310),v=a(5440),N=a(3546),k=a(3895),D=a(3721),T=a(9463),S=a(8326),A=a(184),C=a(1816),$=a(4825),P=a(7137),M=a(2819),I=a(9804),E=a(3825),H=a(579);const _=[{title:"Total ClockIn",value:"104"},{title:"Not ClockIn ",value:"10"},{title:"On leave",value:"6"},{title:"Weekly Off",value:"5"},{title:"Holiday",value:"10"},{title:"ClockOut",value:"104"}],L=e=>{let{title:t,icontextcolor:a,icon:i,value:n,color:l}=e;const{theme:o}=(0,s.useContext)(r.ob);return(0,H.jsxs)(v.P.div,{className:" rounded-xl p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-300 h-full flex flex-col items-center justify-center text-center space-y-2 "+("dark"===o?"bg-gray-600 ":"bg-stone-100 "),initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[(0,H.jsx)("div",{className:`w-16 h-16 flex items-center justify-center rounded-full mb-2 p-2 ${l} ${a}`,children:s.cloneElement(i,{className:"w-10 h-10 rounded-full "})}),(0,H.jsxs)("div",{children:[(0,H.jsx)("p",{className:"text-3xl font-bold mt-2 "+("dark"===o?"bg-gradient-to-br from-blue-100 to-blue-500 bg-clip-text text-transparent":"text-gray-800 "),children:n}),(0,H.jsx)("h3",{className:`text-sm  ${"dark"===o?"text-white ":"text-gray-800"} `,children:t})]})]})},O=()=>{const{theme:e}=(0,s.useContext)(r.ob);return(0,H.jsx)("div",{className:"p-2 h-full flex flex-col justify-between",children:(0,H.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-7 gap-6 h-full",children:[(0,H.jsx)(R,{}),_.map((e,t)=>{let a,s,r;switch(e.title){case"Total ClockIn":a=(0,H.jsx)(I.Aag,{className:"w-8 h-8 text-white"}),r="bg-orange-100",s="text-orange-400";break;case"Not ClockIn ":a=(0,H.jsx)(I.U0v,{className:"w-8 h-8 text-white"}),r="bg-red-100",s="text-red-400";break;case"On leave":a=(0,H.jsx)(I.W7G,{className:"w-8 h-8 text-white"}),r="bg-green-100",s="text-green-400";break;case"Weekly Off":a=(0,H.jsx)(I.V$M,{className:"w-8 h-8 text-white"}),r="bg-blue-100",s="text-blue-400";break;case"Holiday":a=(0,H.jsx)(E.H9N,{className:"w-8 h-8 text-white"}),r="bg-indigo-100",s="text-indigo-400";break;case"ClockOut":a=(0,H.jsx)(I.DLy,{className:"w-8 h-8 text-white"}),r="bg-yellow-100",s="text-yellow-400";break;default:a=(0,H.jsx)(C.A,{className:"w-10 h-10 text-white"}),r="#D3D3D3",s="text-gray-100"}return(0,H.jsx)(L,{icon:a,color:r,value:e.value,title:e.title,icontextcolor:s},t)})]})})},F=[{title:"Total ClockIn",value:104},{title:"Not ClockIn ",value:10},{title:"On leave",value:6},{title:"Weekly Off",value:5},{title:"Holiday",value:10},{title:"ClockOut",value:104}],B=["#3B82F6","#F59E0B","#EF4444","#84CC16","#6B7280","#22C55E"],R=()=>{const{theme:e}=(0,s.useContext)(r.ob),t=F.reduce((e,t)=>e+t.value,0),a="dark"===e?"white":"black";return(0,H.jsx)("div",{className:"flex justify-center items-center",children:(0,H.jsxs)(g.r,{width:160,height:160,children:[(0,H.jsx)(u.F,{data:F,dataKey:"value",nameKey:"title",cx:"50%",cy:"50%",innerRadius:55,outerRadius:80,children:F.map((e,t)=>(0,H.jsx)(p.f,{fill:B[t%B.length]},`cell-${t}`))}),(0,H.jsxs)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",stroke:a,className:"text-sm font-small ",children:["Total Employees",(0,H.jsx)("span",{className:` ${"dark"===e?"text-gray-200":"text-gray-800"} text-xl font-bold `,children:t})]}),(0,H.jsx)(h.m,{})]})})},W=[{name:"John Doe",title:"UI/UX Designer",department:"UI/UX",status:"Clocked In",time:"09:15",Arrival:"On-Time"},{name:"Raju",title:"Project Manager",department:"Management",status:"Clocked In",time:"09:36",Arrival:"On-Time"},{name:"Srilekha",title:"PHP Developer",department:"Development",status:"Clocked In",time:"09:15",Arrival:"On-Time",details:{clockIn:"10:30 AM",clockOut:"09:45 AM",production:"09:21 Hrs"}},{name:"Anita",title:"Marketing Head",department:"Marketing",Arrival:"Late",lateTime:"30 Min",time:"10:35"}],U=["All Departments","UI/UX","Development","Management","HR","Marketing"],Y=["Today","This week","This month","Last Month"];function Z(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}const z=()=>{const{theme:e}=(0,s.useContext)(r.ob),[t,a]=(0,s.useState)("All Departments"),[i,l]=(0,s.useState)("Today");return(0,H.jsxs)(v.P.div,{className:" rounded-xl shadow-md p-2 w-full h-96 font-sans border border-gray-200  flex flex-col "+("dark"===e?"bg-gray-600 ":"bg-stone-100"),initial:{opacity:0,y:50},animate:{opacity:1,y:.5,scale:1},transition:{duration:.5,delay:.2},children:[(0,H.jsxs)("h2",{className:"flex items-start justify-start text-lg font-bold text-gray-800  "+("dark"===e?"text-white ":"text-gray-800"),children:[(0,H.jsx)(n.A,{className:"w-6 h-6 text-blue-600 mr-2"}),"Clock-In/Out"]}),(0,H.jsx)("div",{className:"flex items-end justify-end border-b pb-2 mb-2 border-gray-200 flex-wrap gap-2",children:(0,H.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,H.jsxs)($.W1,{as:"div",className:"relative inline-block text-left",children:[(0,H.jsx)("div",{children:(0,H.jsxs)($.IU,{className:"inline-flex justify-end w-full rounded-md border border-gray-200 shadow-sm px-4 py-2 text-sm font-medium  hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 "+("dark"===e?"bg-gray-600 text-white  hover:bg-gray-700":"bg-white text-gray-700"),children:[t,(0,H.jsx)(M.A,{className:"-mr-1 ml-2 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),(0,H.jsx)(P.e,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,H.jsx)($.c,{className:"origin-top-right absolute right-0 mt-2 w-52 rounded-md shadow-lg  ring-1 ring-black ring-opacity-5 focus:outline-none z-10 "+("dark"===e?"bg-gray-600 text-white":"bg-white text-gray-700"),children:(0,H.jsx)("div",{className:"py-1",children:U.map(e=>(0,H.jsx)($.Dr,{children:t=>{let{active:s}=t;return(0,H.jsx)("a",{href:"#",onClick:()=>a(e),className:Z(s?"bg-gray-100 text-gray-900":"text-gray-200","block px-4 py-2 text-sm"),children:e})}},e))})})})]}),(0,H.jsxs)($.W1,{as:"div",className:"relative inline-block text-left",children:[(0,H.jsx)("div",{children:(0,H.jsxs)($.IU,{className:"inline-flex justify-end w-full rounded-md border border-gray-200 shadow-sm px-4 py-2 text-sm font-medium  hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 "+("dark"===e?"bg-gray-600 text-white  hover:bg-gray-700":"bg-white text-gray-700"),children:[i,(0,H.jsx)(M.A,{className:"-mr-1 ml-2 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),(0,H.jsx)(P.e,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,H.jsx)($.c,{className:"origin-top-right absolute right-0 mt-2 w-52 rounded-md shadow-lg  ring-1 ring-black ring-opacity-5 focus:outline-none z-10 "+("dark"===e?"bg-gray-600 text-white":"bg-white text-gray-700"),children:(0,H.jsx)("div",{className:"py-1",children:Y.map(e=>(0,H.jsx)($.Dr,{children:t=>{let{active:a}=t;return(0,H.jsx)("a",{href:"#",onClick:()=>l(e),className:Z(a?"bg-gray-100 text-gray-900":"text-gray-200","block px-4 py-2 text-sm"),children:e})}},e))})})})]})]})}),(0,H.jsx)("div",{className:"space-y-4 flex-grow overflow-y-auto custom-scrollbar pr-2",children:(0,H.jsx)(N.N,{children:W.map((t,a)=>(0,H.jsxs)(v.P.div,{className:"flex items-center justify-between rounded-lg p-2 transition-colors duration-200 hover:bg-blue-200 hover:text-gray-800 border "+("dark"===e?"bg-gray-600 border-gray-200":"bg-gray-100 "),initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:.05*a},children:[(0,H.jsxs)("div",{className:"flex items-center",children:[(0,H.jsx)(v.P.img,{className:"w-10 h-10 rounded-full mr-4 object-cover",src:"https://randomuser.me/api/portraits/lego/1.jpg",alt:t.name,whileHover:{scale:1.1}}),(0,H.jsxs)("div",{children:["  ",(0,H.jsx)("p",{className:"font-semibold  "+("dark"===e?"text-white  ":"text-gray-800 "),children:t.name}),"  ",(0,H.jsx)("p",{className:"text-sm "+("dark"===e?"text-white  ":"text-gray-800 "),children:t.title})," ",(0,H.jsx)("p",{className:"text-sm "+("dark"===e?"text-white  ":"text-gray-800 "),children:t.Arrival}),"  "]})]}),(0,H.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,H.jsx)(n.A,{className:"h-5 w-5 "+("dark"===e?"text-gray-200":"text-gray-400")}),(0,H.jsx)("div",{className:"px-3 py-1 rounded-full  text-sm font-medium "+("On-Time"===t.Arrival?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:t.time})]})]},a))})})]})},J=[{Date:"11",Month:"Aug",Year:"2025",NoofEmployee:100},{Date:"12",Month:"Aug",Year:"2025",NoofEmployee:120},{Date:"13",Month:"Aug",Year:"2025",NoofEmployee:80},{Date:"14",Month:"Aug",Year:"2025",NoofEmployee:150},{Date:"15",Month:"Aug",Year:"2025",NoofEmployee:7}],V=()=>{const{theme:e}=(0,s.useContext)(r.ob),t=J.map(e=>({name:`${e.Date}-${e.Month}`,employees:e.NoofEmployee})),a="dark"===e?"#FFFFFF":"#000000";return(0,H.jsxs)(v.P.div,{className:" rounded-xl shadow-md p-2 w-full h-96 font-sans border border-gray-200  flex flex-col "+("dark"===e?"bg-gray-700 text-gray-200 ":"bg-stone-100 text-gray-800"),initial:{opacity:0,y:50},animate:{opacity:1,y:.5,scale:1},transition:{duration:.5,delay:.2},children:[(0,H.jsx)(n.A,{className:"w-6 h-6 text-blue-600 inline-block mr-2"})," ",(0,H.jsx)("h2",{className:"text-xl font-semibold mb-4 text-start",children:" On-Time Employees"}),(0,H.jsx)(c.u,{width:"100%",height:"100%",children:(0,H.jsxs)(b.E,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,H.jsx)(m.W,{dataKey:"name",stroke:a,tick:{fill:a}}),(0,H.jsx)(x.h,{stroke:a,tick:{fill:a},hide:!0}),(0,H.jsx)(h.m,{contentStyle:{backgroundColor:"dark"===e?"#63676cff":"#fff",border:e?"1px solid #4B5563":"1px solid #ccc"}}),(0,H.jsx)(f.y,{dataKey:"employees",fill:"#ADD8E6"})]})})]})},K=[{Date:"11",Month:"Aug",Year:"2025",NoofEmployee:50,Hour:3},{Date:"12",Month:"Aug",Year:"2025",NoofEmployee:60,Hour:5},{Date:"13",Month:"Aug",Year:"2025",NoofEmployee:10,Hour:10},{Date:"14",Month:"Aug",Year:"2025",NoofEmployee:8,Hour:15},{Date:"15",Month:"Aug",Year:"2025",NoofEmployee:40,Hour:20}],X=()=>{const{theme:e}=(0,s.useContext)(r.ob),[t,a]=(0,s.useState)("hours"),i=K.map(e=>({name:`${e.Date}-${e.Month}`,hours:e.Hour,employees:e.NoofEmployee})),n="hours"===t?"hours":"employees",l="hours"===t?"Hours":"No. of Employees",o=e=>{a(e)},d="dark"===e?"#FFFFFF":"#000000";return(0,H.jsxs)(v.P.div,{className:" rounded-xl shadow-md p-2 w-full h-96 font-sans border border-gray-200  flex flex-col "+("dark"===e?"bg-gray-700 text-gray-200 ":"bg-stone-100 text-gray-800"),initial:{opacity:0,y:50},animate:{opacity:1,y:.5,scale:1},transition:{duration:.5,delay:.2},children:[(0,H.jsx)("h2",{className:"text-xl font-semibold mb-4 text-start",children:"OverTime"}),(0,H.jsxs)("div",{className:"absolute top-4 right-4 flex space-x-2",children:[(0,H.jsx)("button",{onClick:()=>o("hours"),className:"py-1 px-3 rounded-md text-sm font-medium "+("hours"===t?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),children:"Hours"}),(0,H.jsx)("button",{onClick:()=>o("employees"),className:"py-1 px-3 rounded-md text-sm font-medium "+("employees"===t?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),children:"Employees"})]}),(0,H.jsx)(c.u,{width:"100%",height:"100%",children:(0,H.jsxs)(b.E,{data:i,margin:{top:40,right:30,left:20,bottom:5},children:[(0,H.jsx)(m.W,{dataKey:"name",stroke:d,tick:{fill:d}}),(0,H.jsx)(x.h,{label:{value:l,angle:-90,position:"insideLeft"},stroke:d,tick:{fill:d},hide:!0}),(0,H.jsx)(h.m,{contentStyle:{backgroundColor:"dark"===e?"#63676cff":"#fff",border:e?"1px solid #4B5563":"1px solid #ccc"}}),(0,H.jsx)(f.y,{dataKey:n,fill:"#B19CD9",barSize:40})]})})]})},Q=()=>{const{theme:e}=(0,s.useContext)(r.ob),[t,a]=(0,s.useState)("All"),[i,o]=(0,s.useState)("Recently added"),[d,c]=(0,s.useState)(10),[m,x]=(0,s.useState)(1),h=[10,25,50,100],g=["All","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],[u,p]=(0,s.useState)(()=>{const e=localStorage.getItem("attendanceTableData");return e?JSON.parse(e):[]});(0,s.useEffect)(()=>{(async()=>{const e=new Date,t=e.getDate(),a=e.getMonth()+1,s=e.getFullYear();let r=`https://hrms.anasolconsultancyservices.com/api/attendance/admin/present/${s}/${a}/${t}?page=0&size=${h[h.length-1]}`;"This Month"===i&&(r=`https://hrms.anasolconsultancyservices.com/api/attendance/admin/month/${s}/${a}?page=0&size=${h[h.length-1]}`);try{const e=await fetch(r),t=await e.json();let a=[];Array.isArray(t)?a=t:Array.isArray(t.content)&&(a=t.content),p(a),localStorage.setItem("attendanceTableData",JSON.stringify(a))}catch(n){console.error("Failed to fetch attendance data:",n)}})()},[i]);const y=(e,t)=>{if(!e||!t)return 0;const a=new Date(`2000-01-01 ${e}`),s=(new Date(`2000-01-01 ${t}`)-a)/36e5;return s>0?s:0},b=(0,s.useMemo)(()=>{let e=[...u];if("All"!==t&&t){const a=g.indexOf(t)-1;e=e.filter(e=>new Date(e.date).getMonth()===a)}switch(i){case"Ascending":e.sort((e,t)=>new Date(e.date)-new Date(t.date));break;case"Descending":default:e.sort((e,t)=>new Date(t.date)-new Date(e.date));break;case"Last Month":const t=new Date;t.setMonth(t.getMonth()-1),e=e.filter(e=>new Date(e.date)>=t);break;case"Last 7 Days":const a=new Date;a.setDate(a.getDate()-7),e=e.filter(e=>new Date(e.date)>=a)}const a=e.map(e=>({...e,login_hours:y(e.login_time,e.logout_time),barWidth:y(e.login_time,e.logout_time)/10*100+"%"})),s=Math.ceil(a.length/d);return{paginatedData:a.slice((m-1)*d,m*d),totalPages:s,totalCount:a.length}},[u,t,i,d,m,g]),{paginatedData:f,totalPages:w}=b;return(0,H.jsx)(v.P.div,{className:"p-4 sm:p-6  rounded-xl border border-gray-200 shadow-lg mb-2 "+("dark"===e?"bg-gray-700 text-white":"bg-stone-100 text-gray-800"),initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:(0,H.jsxs)("section",{children:[(0,H.jsxs)("div",{className:"flex justify-between items-start sm:items-center mb-5 flex-wrap gap-4",children:[" ",(0,H.jsxs)("h2",{className:"text-xl sm:text-2xl font-extrabold "+("dark"===e?"bg-gradient-to-br from-green-300 to-green-600 bg-clip-text text-transparent":"text-gray-800"),children:[(0,H.jsx)(l.A,{className:"w-6 h-6 sm:w-7 sm:h-7 inline-block text-indigo-600 mr-2"})," Attendance Records"]}),(0,H.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,H.jsxs)("div",{className:"relative",children:[(0,H.jsx)("label",{htmlFor:"month-select",className:"text-sm font-semibold mr-2 "+("dark"===e?"text-gray-300":"text-gray-700"),children:"Select Month:"}),(0,H.jsx)("select",{id:"month-select",value:t,onChange:e=>{a(e.target.value),x(1)},className:"border px-3 py-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium transition-colors cursor-pointer \n                                                                              "+("dark"===e?"bg-gray-700 text-white border-gray-600 hover:border-indigo-500":"bg-white text-gray-800 border-gray-300 hover:border-indigo-500"),children:g.map(e=>(0,H.jsx)("option",{value:e,children:e},e))})]}),(0,H.jsxs)("div",{className:"relative",children:[(0,H.jsx)("label",{htmlFor:"sort-select",className:"text-sm font-semibold mr-2 "+("dark"===e?"text-gray-300":"text-gray-700"),children:"Sort by:"}),(0,H.jsx)("select",{id:"sort-select",value:i,onChange:e=>{o(e.target.value),x(1)},className:"border px-3 py-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium transition-colors cursor-pointer \n                                                                              "+("dark"===e?"bg-gray-700 text-white border-gray-600 hover:border-indigo-500":"bg-white text-gray-800 border-gray-300 hover:border-indigo-500"),children:["Recently added","Ascending","Descending","Last Month","Last 7 Days","This Month"].map(e=>(0,H.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,H.jsx)("div",{className:"overflow-x-auto rounded-lg border border-purple-400",children:(0,H.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,H.jsx)("thead",{className:""+("dark"===e?"bg-gray-500 text-white":"bg-gray-50 text-gray-800"),children:(0,H.jsxs)("tr",{children:[(0,H.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider "+("dark"===e?"text-white":"text-gray-600"),children:"Employee ID"}),(0,H.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider "+("dark"===e?"text-white":"text-gray-600"),children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)(l.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-500"})," Date"]})}),(0,H.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider "+("dark"===e?"text-white":"text-gray-600"),children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)(n.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"})," Login Time"]})}),(0,H.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider "+("dark"===e?"text-white":"text-gray-600"),children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)(n.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})," Logout Time"]})}),(0,H.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider "+("dark"===e?"text-white":"text-gray-600"),children:"Login Hours"}),(0,H.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider "+("dark"===e?"text-white":"text-gray-600"),children:"Daily Progress"})]})}),(0,H.jsx)("tbody",{className:("dark"===e?"bg-gray-500 text-white":"bg-gray-50 text-gray-800")+" divide-y divide-gray-200",children:(0,H.jsx)(N.N,{children:f.length>0?f.map((t,a)=>(0,H.jsxs)(v.P.tr,{className:"hover:bg-indigo-200 transition-colors duration-150",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:.05*a},children:[(0,H.jsx)("td",{className:"px-4 py-3 text-sm  whitespace-nowrap "+("dark"===e?"text-white":"text-gray-600"),children:t.employee_id}),(0,H.jsx)("td",{className:"px-4 py-3 text-sm  whitespace-nowrap "+("dark"===e?"text-white":"text-gray-600"),children:t.date}),(0,H.jsx)("td",{className:"px-4 py-3 text-sm  whitespace-nowrap "+("dark"===e?"text-white":"text-gray-600"),children:t.login_time||(0,H.jsx)("span",{className:"text-red-500 font-semibold",children:"Absent"})}),(0,H.jsx)("td",{className:"px-4 py-3 text-sm  whitespace-nowrap "+("dark"===e?"text-white":"text-gray-600"),children:t.logout_time||(0,H.jsx)("span",{className:"text-red-500 font-semibold",children:"Absent"})}),(0,H.jsxs)("td",{className:"px-4 py-3 text-sm  whitespace-nowrap "+("dark"===e?"text-white":"text-gray-600"),children:[(0,H.jsx)("span",{className:"font-semibold text-indigo-700 "+("dark"===e?"text-white":"text-indigo-700"),children:t.login_hours.toFixed(2)})," hrs"]}),(0,H.jsx)("td",{className:"px-4 py-3 text-sm  whitespace-nowrap "+("dark"===e?"text-white":"text-gray-600"),children:(0,H.jsxs)("div",{className:"relative rounded-full h-4 w-full bg-indigo-100 overflow-hidden",children:[(0,H.jsx)(v.P.div,{className:"bg-blue-300 h-full rounded-full",initial:{width:0},animate:{width:t.barWidth},transition:{duration:.8,ease:"easeOut"}}),(0,H.jsxs)("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-semibold text-white mix-blend-difference",children:[t.login_hours.toFixed(1),"h"]})]})})]},a)):(0,H.jsx)("tr",{children:(0,H.jsx)("td",{colSpan:"5",className:`px-4 py-3 text-center  whitespace-nowrap ${"dark"===e?"text-white":"text-gray-600"}italic`,children:"No attendance records found for the selected options."})})})})]})}),(0,H.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between",children:[(0,H.jsxs)("div",{className:"flex items-center gap-2 mb-4 sm:mb-0",children:[(0,H.jsx)("span",{className:"text-sm text-gray-700 "+("dark"===e?"text-white":"text-gray-700"),children:"Rows per page:"}),(0,H.jsx)("select",{value:d,onChange:e=>{c(Number(e.target.value)),x(1)},className:"border border-gray-300 px-2 py-1 rounded-md text-sm "+("dark"===e?"bg-gray-600 text-white border-gray-500":"bg-white text-gray-800"),children:h.map(e=>(0,H.jsx)("option",{value:e,children:e},e))})]}),(0,H.jsxs)("nav",{className:"flex items-center gap-2",children:[(0,H.jsx)("button",{onClick:()=>x(e=>Math.max(e-1,1)),disabled:1===m,className:`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${"dark"===e?"bg-gray-600 text-white border-gray-500 hover:bg-gray-500":"bg-white text-gray-800"} `,children:"Previous"}),(0,H.jsxs)("span",{className:"text-sm text-gray-700 "+("dark"===e?"text-white":"text-gray-700"),children:["Page ",m," of ",w]}),(0,H.jsx)("button",{onClick:()=>x(e=>Math.min(e+1,w)),disabled:m===w||0===w,className:`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${"dark"===e?"bg-gray-600 text-white border-gray-500 hover:bg-gray-500":"bg-white text-gray-800"} `,children:"Next"})]})]})]})})};const G=function(e){let{onBack:t}=e;return(0,H.jsxs)("div",{className:"p-2 sm:p-4 min-h-screen font-sans",children:[(0,H.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,H.jsx)("button",{onClick:t,className:"mb-4 px-4 py-2 bg-indigo-100 text-blue-600 rounded-lg font-semibold shadow hover:bg-indigo-200 transition",children:"\u2190 Back to Dashboard"})}),(0,H.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-6 mb-2",children:(0,H.jsx)(O,{})}),(0,H.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3  gap-6 mb-8",children:[(0,H.jsx)(z,{}),(0,H.jsx)(V,{}),(0,H.jsx)(X,{})]}),(0,H.jsx)("div",{className:"w-full",children:(0,H.jsx)(Q,{})})]})};var q=a(2397),ee=a(5394),te=a(1024),ae=a(8877);const se=["#4F46E5","#F97316"],re="#4F46E5",ie="#F97316",ne=(e,t)=>{if(!e||!t)return 0;const a=new Date(`2000-01-01 ${e}`),s=(new Date(`2000-01-01 ${t}`)-a)/36e5;return s>0?s:0},le=e=>`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`,oe=e=>{let{className:t}=e;return(0,H.jsxs)("svg",{className:`${t}  `,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,H.jsx)(v.P.polyline,{points:"23 6 13.5 15.5 8.5 10.5 1 18",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1,ease:"easeInOut"}}),(0,H.jsx)(v.P.polyline,{points:"17 6 23 6 23 12",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1,ease:"easeInOut"}})]})},de=e=>{let{className:t,theme:a}=e;return(0,H.jsxs)("svg",{className:`${t}  text-gray-400`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,H.jsx)(v.P.polyline,{points:"23 18 13.5 8.5 8.5 13.5 1 6",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1,ease:"easeInOut"}}),(0,H.jsx)(v.P.polyline,{points:"17 18 23 18 23 12",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1,ease:"easeInOut"}})]})},ce=[{id:1,title:"Total Hours Today",currentValue:8.5,targetValue:10,trend:"up",trendPercentage:"5",trendPeriod:"This week",chartData:[{name:"1",hours:7},{name:"2",hours:8},{name:"3",hours:7.5},{name:"4",hours:9},{name:"5",hours:8.5}],chartColor:"#8884d8"},{id:2,title:"Total Hours Week",currentValue:40.5,targetValue:50,trend:"up",trendPercentage:"7",trendPeriod:"Last week",chartData:[{name:"1",hours:30},{name:"2",hours:40.5},{name:"3",hours:38},{name:"4",hours:45},{name:"5",hours:40.5}],chartColor:"#4ADE80"},{id:3,title:"Total Hours Month",currentValue:162,targetValue:200,trend:"down",trendPercentage:"8",trendPeriod:"Last Month",iconColor:"text-blue-500"},{id:4,title:"Overtime this Month",currentValue:16,targetValue:28,trend:"down",trendPercentage:"6",trendPeriod:"Last Month",chartData:null,iconColor:"text-pink-500"}],me=e=>{let{icon:t,iconBgColor:a,iconTextColor:i,value:n,description:l,trend:o,trendPercentage:d,trendPeriod:g,chartData:u,chartColor:p}=e;const y="up"===o,{theme:b}=(0,s.useContext)(r.ob);return(0,H.jsxs)("div",{className:`rounded-xl p-2 shadow-lg border border-gray-100   ${"dark"===b?"bg-gray-700":"bg-white"}  transition-all duration-300 hover:shadow-xl`,children:[(0,H.jsxs)("div",{className:"flex items-start justify-between",children:[(0,H.jsxs)("div",{children:[(0,H.jsx)("div",{className:`w-12 h-12 flex items-center justify-center rounded-lg mb-3 ${a} ${i} p-2`,children:s.cloneElement(t,{className:"w-8 h-8"})}),(0,H.jsx)("p",{className:"text-sm font-medium "+("dark"===b?"text-white":"text-gray-600"),children:l}),(0,H.jsx)("p",{className:"text-2xl font-bold mt-1  "+("dark"===b?"bg-gradient-to-br from-indigo-200 to-indigo-600 bg-clip-text text-transparent":"text-gray-800"),children:n})]}),(0,H.jsx)("div",{className:"w-full h-40",children:(0,H.jsx)(c.u,{width:"100%",height:"80%",children:(0,H.jsxs)(w.b,{data:u,margin:{top:50,right:20,left:15,bottom:5},children:[(0,H.jsx)(m.W,{dataKey:"name",stroke:"dark"===b?"#E5E7EB":"#4B5563",padding:{left:10,right:10}}),(0,H.jsx)(x.h,{dataKey:"hours",stroke:"dark"===b?"rgba(229, 231, 235, 1)":"#4B5563",hide:!0}),(0,H.jsx)(h.m,{contentStyle:{backgroundColor:"#333",border:"none",borderRadius:"5px"},labelStyle:{color:"#fff"},formatter:(e,t)=>[`${e} hours`,t]}),(0,H.jsx)(j.N,{type:"monotone",dataKey:"hours",stroke:p,strokeWidth:2,dot:{r:3,fill:p,strokeWidth:1}})]})})})]}),(0,H.jsxs)("div",{className:"flex items-center mt-4",children:[(0,H.jsxs)("span",{className:"text-sm font-semibold "+(y?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[y?(0,H.jsx)(oe,{className:"w-4 h-4 inline mr-1"}):(0,H.jsx)(de,{className:"w-4 h-4 inline mr-1"}),d,"%"]}),(0,H.jsx)("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:g})]})]})},xe=e=>{let{currentValue:t,targetValue:a,description:i,icon:n,iconBgColor:l,iconColor:o,trend:d,trendPercentage:c,trendPeriod:m}=e;const{theme:x}=(0,s.useContext)(r.ob),h=Math.round(t/a*100),g="up"===d;return(0,H.jsxs)("div",{className:`rounded-xl p-5 shadow-lg border border-gray-100 ${"dark"===x?"bg-gray-700":"bg-white"} `,children:[(0,H.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,H.jsxs)("div",{children:[(0,H.jsx)("div",{className:`w-10 h-10 flex items-center justify-center rounded-full mr-3 ${l} `,children:s.cloneElement(n,{className:`w-6 h-6 ${o}`})}),(0,H.jsx)("p",{className:"text-lg font-semibold "+("dark"===x?"text-white":"text-gray-600"),children:i}),(0,H.jsxs)("span",{className:"text-2xl font-bold "+("dark"===x?"bg-gradient-to-br from-indigo-200 to-indigo-600 bg-clip-text text-transparent":"text-gray-800"),children:[t,"/",a]})]})}),(0,H.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 mb-2",children:(0,H.jsx)("div",{className:"h-2.5 rounded-full",style:{width:`${h>100?100:h}%`,backgroundColor:"blue"===o.split("-")[1]?"#3B82F6":"#10B981"}})}),(0,H.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,H.jsxs)("span",{children:[h,"% Completed"]}),(0,H.jsxs)("span",{className:"font-medium "+(g?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[g?"\u2191":"\u2193"," ",c,"% ",m," compare"]})]})]})},he=e=>{let{Data:t,selectedDate:a}=e;const[i,n]=(0,s.useState)(null),{theme:l}=(0,s.useContext)(r.ob),o=(0,s.useCallback)(e=>{const[t,a]=e.split(" - "),[s,r]=t.split(":").map(Number),[i,n]=a.split(":").map(Number);return{start:s+r/60,end:i+n/60}},[]),d=e=>{const t=Math.floor(e/3600),a=Math.floor(e%3600/60),s=Math.floor(e%60);let r="";return t>0&&(r+=`${String(t).padStart(2,"0")}h `),a>0&&(r+=`${String(a).padStart(2,"0")}m `),s>0&&(r+=`${String(s).padStart(2,"0")}s`),r.trim()||"0s"},c=(0,s.useMemo)(()=>{if(!t||"All"===a)return null;const e=t.find(e=>`${e.Date}-${e.Month}-${e.Year}`===a);if(!e||!e.End_time||!e.Start_time)return null;const s=(new Date(`2000/01/01 ${e.End_time}`)-new Date(`2000/01/01 ${e.Start_time}`))/1e3;let r=0;e.Break_hour&&e.Break_hour.forEach(e=>{const[t,a]=e.Time.split(" - ");r+=(new Date(`2000/01/01 ${a}`)-new Date(`2000/01/01 ${t}`))/1e3});const i=s-r,n=Math.max(0,i-28800);return{totalWorkingHours:d(s),productiveHours:d(i),breakHours:d(r),overtime:d(n)}},[a,t]),m=(0,s.useCallback)(e=>(e-10)/10*100,[]),x=(0,s.useCallback)(()=>{if(!t||"All"===a)return(0,H.jsx)(v.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-center py-4 italic "+("dark"===l?"text-white":"text-gray-600"),children:"Select a specific day to view the timeline."});const e=t.find(e=>`${e.Date}-${e.Month}-${e.Year}`===a);if(!e)return(0,H.jsxs)(v.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-gray-500 text-center py-4 italic "+("dark"===l?"text-white":"text-gray-600"),children:["No schedule available for ",a,"."]});const s=new Set;e.Start_time&&s.add(e.Start_time),e.End_time&&s.add(e.End_time),e.Break_hour&&e.Break_hour.forEach(e=>{if(e.Time){const[t,a]=e.Time.split(" - ");t&&s.add(t),a&&s.add(a)}});const r=Array.from(s).sort((e,t)=>new Date(`2000/01/01 ${e}`)-new Date(`2000/01/01 ${t}`)),d=e=>{if(!e)return console.error("formatTimelineTime received a null or empty time string."),"Invalid Time";const[t,a]=e.split(":").map(Number);return`${t%12===0?12:t%12}${a>0?`:${a}`:""} ${t>=12?"PM":"AM"}`};var c,x;const h=[{type:"working",time:`${e.Start_time} - ${e.End_time}`,duration:(c=e.Start_time,x=e.End_time,(new Date(`2000/01/01 ${x}`)-new Date(`2000/01/01 ${c}`))/36e5)},...(e.Break_hour||[]).map(e=>({type:"break",time:e.Time,duration:e.hour}))].sort((e,t)=>o(e.time).start-o(t.time).start);return(0,H.jsxs)("div",{children:[(0,H.jsx)(v.P.div,{className:"w-full  h-10 bg-gray-200 relative rounded-xl overflow-hidden border border-gray-300",initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},transition:{duration:.8,ease:"easeOut"},style:{transformOrigin:"left"},children:h.map((e,t)=>{const{start:a,end:s}=o(e.time),r=m(a),l=m(s)-m(a),d="working"===e.type?"bg-green-300":"bg-yellow-300";return(0,H.jsx)(v.P.div,{className:`absolute h-full cursor-pointer transition-all duration-300 ${d}`,style:{left:`${r}%`,width:`${l}%`},onMouseEnter:()=>n(e),onMouseLeave:()=>n(null),initial:{opacity:0,scaleY:0},animate:{opacity:1,scaleY:1},transition:{delay:.3+.1*t,duration:.5},children:i===e&&(0,H.jsxs)("div",{className:"absolute bottom-full mb-2 p-2 rounded-md shadow-lg bg-gray-800 text-white text-xs whitespace-nowrap",style:{left:"50%",transform:"translateX(-50%)"},children:[(0,H.jsx)("p",{children:"working"===e.type?"Working":"Break"}),(0,H.jsxs)("p",{children:["Time: ",e.time]}),(0,H.jsxs)("p",{children:["Duration: ",e.duration.toFixed(2)," hours"]})]})},t)})}),(0,H.jsx)("div",{className:"flex justify-between text-xs sm:text-sm  mt-2  "+("dark"===l?"text-white":"text-gray-600"),children:r.map((e,t)=>(0,H.jsx)(v.P.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8+.1*t,duration:.3},children:d(e)},t))})]})},[a,t,i,o,m]);return(0,H.jsxs)(v.P.div,{className:"p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,H.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,H.jsxs)(v.P.div,{className:"flex flex-col items-center p-2 rounded-lg bg-gray-50 border border-gray-200 shadow-sm",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[(0,H.jsxs)("div",{className:"flex items-center text-gray-500 mb-2",children:[(0,H.jsx)("span",{className:"w-3 h-3 bg-gray-500 rounded-full mr-2"}),(0,H.jsx)("span",{className:"text-sm font-medium",children:"Total"})]}),(0,H.jsx)("span",{className:"text-lg sm:text-xl font-bold text-gray-800",children:(null===c||void 0===c?void 0:c.totalWorkingHours)||"N/A"})]}),(0,H.jsxs)(v.P.div,{className:"flex flex-col items-center p-2 rounded-lg bg-green-50 border border-green-200 shadow-sm",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[(0,H.jsxs)("div",{className:"flex items-center text-green-700 mb-2",children:[(0,H.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),(0,H.jsx)("span",{className:"text-sm font-medium",children:"Productive"})]}),(0,H.jsx)("span",{className:"text-lg sm:text-xl font-bold text-green-800",children:(null===c||void 0===c?void 0:c.productiveHours)||"N/A"})]}),(0,H.jsxs)(v.P.div,{className:"flex flex-col items-center p-2 rounded-lg bg-yellow-50 border border-yellow-200 shadow-sm",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[(0,H.jsxs)("div",{className:"flex items-center text-yellow-700 mb-2",children:[(0,H.jsx)("span",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),(0,H.jsx)("span",{className:"text-sm font-medium",children:"Break"})]}),(0,H.jsx)("span",{className:"text-lg sm:text-xl font-bold text-yellow-800",children:(null===c||void 0===c?void 0:c.breakHours)||"N/A"})]}),(0,H.jsxs)(v.P.div,{className:"flex flex-col items-center p-2 rounded-lg bg-blue-50 border border-blue-200 shadow-sm",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[(0,H.jsxs)("div",{className:"flex items-center text-blue-700 mb-2",children:[(0,H.jsx)("span",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),(0,H.jsx)("span",{className:"text-sm font-medium",children:"Overtime"})]}),(0,H.jsx)("span",{className:"text-lg sm:text-xl font-bold text-blue-800",children:(null===c||void 0===c?void 0:c.overtime)||"N/A"})]})]}),x()]})},ge=e=>{var t;let{onBack:a,currentUser:w}=e;const{empID:j}=(0,D.g)(),{userData:C,theme:$}=(0,s.useContext)(r.ob),P=((null===C||void 0===C||null===(t=C.roles)||void 0===t?void 0:t[0])||"").toUpperCase(),[M,I]=(0,s.useState)(!1),[E,_]=(0,s.useState)(null),[L,O]=(0,s.useState)(!1),[F,B]=(0,s.useState)(!1),R=["TEAM_LEAD","HR","MANAGER","ADMIN"].includes(P),[W,U]=(0,s.useState)("All"),[Y,Z]=(0,s.useState)("All"),z=(0,k.A)("(max-width:768px)"),[J,V]=(0,s.useState)(!1),[K,X]=(0,s.useState)(null),[Q,de]=(0,s.useState)(null),[ge,ue]=(0,s.useState)("office"),[pe,ye]=(0,s.useState)(new Date),[be,fe]=(0,s.useState)(0),[we,je]=(0,s.useState)(0),[ve,Ne]=(0,s.useState)(!1),[ke,De]=(0,s.useState)(!1),[Te,Se]=(0,s.useState)("Recently added"),[Ae,Ce]=(0,s.useState)(!1),[$e,Pe]=(0,s.useState)(10),[Me,Ie]=(0,s.useState)(1),[Ee,He]=(0,s.useState)({image:null,initials:"  "}),_e=(0,s.useRef)(null),Le=(0,s.useRef)(null),[Oe,Fe]=(0,s.useState)([]),Be=["All","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],Re="dark"===$?"#FFFFFF":"#000000",[We,Ue]=(0,s.useState)([]),[Ye,Ze]=(0,s.useState)(null),ze=null!==C&&void 0!==C&&C.roles[0]?`ROLE_${null===C||void 0===C?void 0:C.roles[0]}`:null;(0,s.useEffect)(()=>{(async()=>{let e=await q.ZQ.get(`role-access/${ze}`);console.log("from Projects :",e.data),Ue(e.data)})()},[]),(0,s.useEffect)(()=>{We&&Ze(null===We||void 0===We?void 0:We.permissions)},[We]),console.log(Ye);const[Je,Ve]=(0,s.useState)([]);(0,s.useEffect)(()=>{Ve(null===C||void 0===C?void 0:C.permissions)},[C]),console.log("permissions from userdata:",Je);const[Ke,Xe]=(0,s.useState)([]),[Qe,Ge]=(0,s.useState)([]),[qe,et]=(0,s.useState)([]),[tt,at]=(0,s.useState)([]),[st,rt]=(0,s.useState)([]),[it,nt]=(0,s.useState)(null),lt="currentAttendanceId",ot=`attendanceClockInTime_${null===C||void 0===C?void 0:C.employeeId}`,[dt,ct]=(0,s.useState)({mode:"",shift:"",onTime:0,avgWorkingHours:0,loginTime:null,logoutTime:null,grossTimeDay:"",effectiveTimeDay:""}),mt=async(e,t)=>{const a=new Date,s=a.getDate(),r=a.getMonth()+1,i=a.getFullYear(),n=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===C||void 0===C?void 0:C.employeeId}/profile/${s}/${r}/${i}`;try{await q.HN.put(n,{[e]:t}),ct(a=>({...a,[e]:t}))}catch(l){console.error(`Error updating ${e}:`,l)}},[xt,ht]=(0,s.useState)(()=>localStorage.getItem(lt)||null);(0,s.useEffect)(()=>{const e=localStorage.getItem(lt);e&&ht(e)},[]),(0,s.useEffect)(()=>{const e=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===C||void 0===C?void 0:C.employeeId}/bar-chart?page=0&size=5`;q.HN.get(e).then(e=>{const t=e.data.map(e=>({Date:e.date,Month:e.month,Year:e.year,Work_Hours:e.working_hour,Break_Hours:e.break_hour}));Xe(t);const a=["All",...t.map(e=>e.Date)];et(a)}).catch(e=>console.error("Error fetching bar chart data:",e))},[j]),(0,s.useEffect)(()=>{const e=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===C||void 0===C?void 0:C.employeeId}/attendance?page=0&size=10`;q.HN.get(e).then(e=>{Fe(e.data);const t=["All",...e.map(e=>e.Date)];et(t)}).catch(e=>console.error("Error fetching attendance data:",e))},[j]),(0,s.useEffect)(()=>{const e=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===C||void 0===C?void 0:C.employeeId}/pie-chart`;q.HN.get(e).then(e=>{const t=e.data.map(e=>({Date:e.date,Month:e.month,Year:e.year,Working_hour:e.working_hour,Break_hour:e.break_hour,EmployeeId:e.employeeId}));Ge(t);const a=["All",...t.map(e=>e.Date)];et(a)}).catch(e=>console.error("Error fetching pie chart data:",e))},[j]),(0,s.useEffect)(()=>{const e=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===C||void 0===C?void 0:C.employeeId}/line-graph?page=0&size=5`;q.HN.get(e).then(e=>{const t=e.data.map(e=>({EmployeeId:e.employeeId,Date:e.date,Month:e.month,Year:e.year,Start_time:e.start_time,End_time:e.end_time,Break_hour:e.breaks.map(e=>({Time:e.time,hour:e.hour}))}));at(t);const a=["All",...t.map(e=>e.Date)];et(a)}).catch(e=>console.error("Error fetching line graph data:",e))},[j]),(0,s.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("emppayload")),t=localStorage.getItem("loggedInUserImage"),a=((null===e||void 0===e?void 0:e.displayName)||"  ").split(" ").map(e=>e[0]).join("").substring(0,2);He({image:t,initials:a})},[C]),(0,s.useEffect)(()=>{const e=`attendanceClockInTime_${null===C||void 0===C?void 0:C.employeeId}`,t=localStorage.getItem(e);t?(V(!0),X(new Date(t))):(V(!1),X(null))},[null===C||void 0===C?void 0:C.employeeId]),(0,s.useEffect)(()=>{J&&K?(_e.current&&clearInterval(_e.current),_e.current=setInterval(()=>{const e=(new Date-K)/1e3;fe(e),je(e)},1e3)):(fe(0),je(0),_e.current&&(clearInterval(_e.current),_e.current=null)),Le.current||(Le.current=setInterval(()=>ye(new Date),1e3));const e=null===C||void 0===C?void 0:C.employeeId,t=xt,a=()=>{"hidden"===document.visibilityState?(async()=>{if(J&&e&&t){console.log("Disconnecting due to visibility change or unload...");const s=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${e}/${t}/disconnected`;try{await fetch(s,{method:"PUT",headers:{accept:"*/*"}}),console.log("Disconnected endpoint hit successfully.")}catch(a){console.error("Disconnected API call failed:",a)}}})():"visible"===document.visibilityState&&(async()=>{if(J&&e&&t){console.log("Connecting due to visibility change...");const s=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${e}/${t}/connected`;try{await fetch(s,{method:"PUT",headers:{accept:"*/*"}}),console.log("Connected endpoint hit successfully.")}catch(a){console.error("Connected API call failed:",a)}}})(),"hidden"===document.visibilityState&&J&&console.log("User moved to another tab/window is minimized.")};return document.addEventListener("visibilitychange",a),()=>{_e.current&&(clearInterval(_e.current),_e.current=null),Le.current&&(clearInterval(Le.current),Le.current=null),document.removeEventListener("visibilitychange",a)}},[J,K,xt]);const gt=`attendanceRecords_${null===C||void 0===C?void 0:C.employeeId}`;(0,s.useEffect)(()=>{const e=(JSON.parse(localStorage.getItem(gt))||[]).filter(e=>e&&e.date);e.length>0&&Fe(e)},[null===C||void 0===C?void 0:C.employeeId]);const ut=e=>{const t=Math.floor(e/3600),a=Math.floor(e%3600/60),s=Math.floor(e%60);return`${String(t).padStart(2,"0")}h ${String(a).padStart(2,"0")}m ${String(s).padStart(2,"0")}s`},pt=ut(be),yt=ut(we),bt=(0,s.useMemo)(()=>{let e=[...Oe];if("All"!==W&&W){const t=Be.indexOf(W)-1;e=e.filter(e=>new Date(e.date).getMonth()===t)}switch(Te){case"Ascending":e.sort((e,t)=>new Date(e.date)-new Date(t.date));break;case"Descending":default:e.sort((e,t)=>new Date(t.date)-new Date(e.date));break;case"Last Month":const t=new Date;t.setMonth(t.getMonth()-1),e=e.filter(e=>new Date(e.date)>=t);break;case"Last 7 Days":const a=new Date;a.setDate(a.getDate()-7),e=e.filter(e=>new Date(e.date)>=a)}const t=e.map(e=>({...e,login_hours:ne(e.login_time,e.logout_time),barWidth:ne(e.login_time,e.logout_time)/8*100+"%"})),a=Math.ceil(t.length/$e);return{paginatedData:t.slice((Me-1)*$e,Me*$e),totalPages:a,totalCount:t.length}},[Oe,W,Te,$e,Me,Be]),{paginatedData:ft,totalPages:wt}=bt,jt=(0,s.useMemo)(()=>{const e="All"===Y?Qe:Qe.filter(e=>`${e.Date}-${e.Month}-${e.Year}`===Y);return[{name:"Working Hours",value:e.reduce((e,t)=>e+t.Working_hour,0)},{name:"Break Hours",value:e.reduce((e,t)=>e+t.Break_hour,0)}]},[Y,Qe]),vt=(0,s.useMemo)(()=>"All"===Y?Ke:Ke.filter(e=>`${e.Date}-${e.Month}-${e.Year}`===Y),[Y,Ke]);return Ae?(0,H.jsx)("div",{className:"min-h-screen "+("dark"===$?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,H.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,H.jsxs)("div",{className:"text-center",children:[(0,H.jsxs)("div",{className:"relative",children:[(0,H.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),(0,H.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,H.jsx)(ee.SNd,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"})})]}),(0,H.jsx)("h2",{className:"text-lg sm:text-xl font-bold mb-2 "+("dark"===$?"text-white":"text-gray-800"),children:"Loading Employee Attendance"}),(0,H.jsx)("p",{className:"text-sm "+("dark"===$?"text-gray-300":"text-gray-600"),children:"Discovering your colleagues..."})]})})}):(0,H.jsxs)("div",{className:`min-h-screen ${"dark"===$?"bg-gray-900":"bg-gray-50"} font-sans text-gray-800 relative`,children:[(0,H.jsxs)(N.N,{children:[(Ye||[]).includes("VIEW_ATTENDANCE_REPORTS")&&!M&&(0,H.jsx)(v.P.button,{onClick:()=>I(!0),className:"fixed right-0 top-1/2 transform -translate-y-1/2 bg-indigo-600 text-white p-2 rounded-l-lg shadow-lg z-50 hover:bg-indigo-700 transition-colors","aria-label":"Open Sidebar",children:(0,H.jsx)(T.A,{})}),R&&M&&(0,H.jsxs)(v.P.div,{className:`fixed inset-y-0 right-0 w-80 ${"dark"===$?"bg-gray-900":"bg-stone-100"} shadow-xl z-40 p-4 flex flex-col`,children:[(0,H.jsxs)(v.P.h3,{className:"text-lg font-bold mt-20  cursor-pointer mb-1 p-2 rounded-md  hover:bg-blue-100 transition-colors duration-200 "+("dark"===$?"text-white hover:bg-gray-900":"text-gray-800"),onClick:()=>{_("attendance"),I(!1)},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,H.jsx)(ae.Qak,{className:"w-5 h-5 inline-block mr-2"}),"Total Employee Attendance"]}),(0,H.jsxs)(v.P.h3,{className:"text-lg font-bold   cursor-pointer mb-4 p-2 rounded-md  hover:bg-blue-100 transition-colors duration-200 "+("dark"===$?"text-white hover:bg-gray-900":"text-gray-800"),onClick:()=>{_("attendanceReport"),I(!1)},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,H.jsx)(i.A,{className:"w-5 h-5 inline-block mr-2"})," Attendance Reports"]}),(0,H.jsx)("button",{onClick:()=>I(!1),className:"absolute left-0 top-1/2 -translate-x-1/2 -translate-y-1/2 p-2 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition-colors z-50","aria-label":"Close Sidebar",children:(0,H.jsx)(S.A,{})})]},"sidebar")]}),(0,H.jsxs)("div",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 lg:p-8",children:[M&&(0,H.jsx)("div",{className:"md:hidden fixed inset-0 bg-black opacity-50 z-30",onClick:()=>I(!1)}),(0,H.jsxs)("main",{className:"p-2 sm:p-2 lg:p-4 "+(M&&R?"filter blur-sm":""),children:[(0,H.jsx)("header",{className:"flex items-center justify-between mb-1",children:(0,H.jsx)(v.P.h1,{className:"text-2xl sm:text-4xl font-extrabold "+("dark"===$?"text-white":"text-gray-900"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:L?"Attendance Reports":""})}),(0,H.jsxs)(N.N,{mode:"wait",children:["attendance"===E&&(0,H.jsx)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,H.jsx)(te.A,{onBack:()=>_(null)})},"attendance"),"attendanceReport"===E&&(0,H.jsx)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"",children:(0,H.jsx)(G,{rawTableData:Oe,role:P.toLowerCase(),onBack:()=>_(null)})},"reports"),null===E&&(0,H.jsxs)(v.P.div,{children:[(0,H.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-1 xl:grid-cols-2 gap-6 mb-2",children:[(0,H.jsx)(v.P.div,{className:"p-2 flex items-center justify-center w-full",animate:{opacity:1,scale:1},children:(0,H.jsxs)("div",{className:"rounded-3xl shadow-2xl p-4 w-full max-w-lg md:max-w-3xl transition-all hover:shadow-3xl duration-300 relative overflow-hidden \n                "+("dark"===$?"bg-gray-800 border border-indigo-500/50":"bg-white border border-gray-200"),children:[(0,H.jsx)("div",{className:"absolute -top-12 -right-12 w-48 h-48 rounded-full bg-gradient-to-tr from-purple-100 via-pink-200 to-red-300 opacity-30 z-0 animate-pulse-slow"}),(0,H.jsx)("div",{className:"absolute -bottom-10 -left-10 w-24 h-24 rounded-full bg-gradient-to-tr from-green-100 via-blue-200 to-purple-300 opacity-30 z-0 animate-pulse-slow-reverse"}),(0,H.jsxs)("div",{className:"flex flex-row items-start justify-between mb-2 relative z-10",children:[(0,H.jsxs)("div",{className:"flex items-start space-x-3 md:space-x-4",children:[(0,H.jsxs)("div",{className:"relative mt-1",children:[" ",(0,H.jsx)(v.P.div,{className:"w-14 h-14 md:w-16 md:h-16 rounded-full overflow-hidden border-4 flex items-center justify-center shadow-xl cursor-pointer \n                                "+("dark"===$?"border-gray-700 bg-gray-600":"border-white bg-indigo-500"),transition:{type:"spring",stiffness:400,damping:10},children:Ee.image?(0,H.jsx)("img",{src:Ee.image,alt:"Profile",className:"w-full h-full object-cover"}):(0,H.jsx)("span",{className:"text-lg md:text-xl font-bold text-white flex items-center justify-center w-full h-full",children:Ee.initials})}),(0,H.jsx)(v.P.div,{className:`absolute bottom-0 right-0 w-4 h-4 md:w-5 md:h-5 rounded-full flex items-center justify-center border-2 \n                                ${"dark"===$?"border-gray-800":"border-white"} transition-colors \n                                ${"office"===ge?"bg-blue-500":"bg-green-500"}`,initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:20},children:"office"===ge?(0,H.jsx)(A.ymh,{className:"text-white text-xs"}):(0,H.jsx)(A.rQ8,{className:"text-white text-xs"})})]}),(0,H.jsxs)(v.P.div,{className:"text-start mt-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1,duration:.5},children:[(0,H.jsx)("p",{className:"text-xs md:text-sm font-semibold mb-0 "+("dark"===$?"text-gray-400":"text-gray-500"),children:"Welcome Back!"}),(0,H.jsxs)("h2",{className:"text-lg md:text-xl font-bold "+("dark"===$?"text-white":"text-gray-900"),children:[`${(null===C||void 0===C?void 0:C.fullName)||"Employee"}`," \ud83d\udc4b"]})]})]}),(0,H.jsxs)("div",{className:"flex space-x-1 md:space-x-2 mt-1",children:[(0,H.jsxs)(v.P.button,{onClick:()=>{const e=J;V(!1),setTimeout(()=>V(e),0)},className:"p-2 rounded-full hover:shadow-lg flex items-center justify-center text-sm font-medium transition-transform duration-300 \n                            "+("dark"===$?"bg-gray-700 text-indigo-400 border border-gray-600":"bg-gray-100 text-indigo-600 border border-gray-300"),whileTap:{scale:.9},"aria-label":"Refresh Timer",children:[(0,H.jsx)(v.P.svg,{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 md:h-5 md:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,initial:{rotate:0},animate:{rotate:ve?180:0},children:(0,H.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.001 8.001 0 01-15.357-2m15.357 2H15"})}),(0,H.jsx)("span",{className:"hidden sm:inline ml-1 text-xs",children:"Refresh"})," "]}),(0,H.jsxs)("div",{className:"relative",children:[(0,H.jsxs)(v.P.button,{onClick:()=>Ne(!ve),className:"px-2 py-1.5 md:px-4 md:py-2 rounded-full flex items-center justify-center gap-1 md:gap-2 text-sm font-medium shadow-md transition-transform duration-300 \n                                "+("dark"===$?"bg-indigo-600 text-white":"bg-gradient-to-br from-indigo-100 to-indigo-200 text-indigo-700 border border-indigo-300"),whileTap:{scale:.9},children:["office"===ge?(0,H.jsx)(v.P.div,{className:"w-4 h-4 md:w-5 md:h-5 rounded-full bg-blue-500 flex items-center justify-center",whileHover:{rotate:360},children:(0,H.jsx)(A.ymh,{className:"text-white text-xs"})}):(0,H.jsx)(v.P.div,{className:"w-4 h-4 md:w-5 md:h-5 rounded-full bg-green-500 flex items-center justify-center",whileHover:{rotate:360},children:(0,H.jsx)(A.rQ8,{className:"text-white text-xs"})}),(0,H.jsx)("span",{className:"capitalize hidden sm:inline text-sm",children:ge})," ",(0,H.jsx)(v.P.svg,{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 md:h-4 md:w-4 ml-0.5 transition-transform duration-200 hidden sm:block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",initial:{rotate:0},animate:{rotate:ve?180:0},children:(0,H.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,H.jsx)(N.N,{children:ve&&(0,H.jsxs)(v.P.div,{className:"absolute top-full right-0 mt-2 w-48 p-3 border rounded-xl shadow-xl z-30 \n                                        "+("dark"===$?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"),initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},transition:{type:"spring",stiffness:300,damping:20},children:[(0,H.jsxs)("p",{className:("dark"===$?"text-gray-200":"text-gray-700")+" font-medium text-xs mb-3 text-center",children:["Switch to ","office"===ge?"Remote":"Office"," mode?"]}),(0,H.jsxs)("div",{className:"flex space-x-2",children:[(0,H.jsx)(v.P.button,{onClick:()=>{return mt("mode",e="office"===ge?"home":"office"),ue(e),void Ne(!1);var e},className:"flex-1 px-3 py-1.5 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 transition-colors font-semibold text-sm",whileTap:{scale:.95},children:"Confirm"}),(0,H.jsx)(v.P.button,{onClick:()=>Ne(!1),className:"flex-1 px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium text-sm",whileTap:{scale:.95},children:"Cancel"})]})]})})]})]})]}),(0,H.jsxs)("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 w-full my-4 p-4 rounded-xl border border-dashed border-gray-300 dark:border-gray-600  ${"dark"===$?"bg-gray-700":"bg-gradient-to-br from-indigo-50 via-white to-indigo-100"} shadow-lg`,children:[(0,H.jsxs)("div",{className:`flex flex-col items-center p-3 rounded-xl ${"dark"===$?"bg-gray-800":" bg-gradient-to-br from-orange-50 via-white to-orange-100"} shadow w-full`,children:[(0,H.jsx)("span",{className:"text-lg font-semibold text-yellow-500 mb-1",children:"Shift"}),(0,H.jsx)("span",{className:"font-bold text-lg text-yellow-500 md:text-xl mb-1",children:dt.shift||"-"}),(0,H.jsxs)("select",{value:dt.shift,onChange:e=>{const t=e.target.value;mt("shift",t)},className:"px-3 py-1 rounded-lg bg-yellow-500 text-white text-xs font-semibold hover:bg-yellow-600 transition  w-full",children:[(0,H.jsx)("option",{value:"",children:"Select Shift"}),["Day Shift","Night Shift"].map(e=>(0,H.jsx)("option",{value:e,children:e},e))]})]}),(0,H.jsxs)("div",{className:"flex flex-col items-center p-3 rounded-xl   shadow w-full "+("dark"===$?"bg-gray-800":"bg-gradient-to-br from-orange-50 via-white to-orange-100"),children:[(0,H.jsx)("span",{className:"text-lg font-semibold text-green-500 mb-1",children:"Attendance % (Ontime)"}),(0,H.jsxs)("span",{className:"font-bold text-lg md:text-xl mb-2 "+(dt.onTime>=75?"text-green-500":dt.onTime>=50?"text-yellow-500":"text-red-500"),children:[dt.onTime||0,"%"]}),(0,H.jsxs)("div",{className:"flex flex-col items-start",children:[(0,H.jsxs)("span",{className:"text-sm  "+("dark"===$?"text-gray-400":"text-gray-500"),children:["Avg. Working Hours: ",(0,H.jsx)("span",{className:"font-bold  "+("dark"===$?"text-gray-400":"text-gray-500"),children:dt.avgWorkingHours||0})]}),(0,H.jsxs)("span",{className:"text-sm  "+("dark"===$?"text-gray-400":"text-gray-500"),children:["Login: ",(0,H.jsx)("span",{className:"font-bold  "+("dark"===$?"text-gray-400":"text-gray-500"),children:dt.loginTime?new Date(dt.loginTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"})]}),(0,H.jsxs)("span",{className:"text-sm  "+("dark"===$?"text-gray-400":"text-gray-500"),children:["Logout: ",(0,H.jsx)("span",{className:"font-bold  "+("dark"===$?"text-gray-400":"text-gray-500"),children:dt.logoutTime?new Date(dt.logoutTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"})]})]})]})]}),(0,H.jsxs)("div",{className:"relative my-2 w-full flex justify-center",children:[(0,H.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,H.jsx)(v.P.div,{className:"w-full border-t "+("dark"===$?"border-gray-600":"border-gray-300"),initial:{scaleX:0},animate:{scaleX:1},transition:{delay:.6,duration:.8},style:{transformOrigin:"left"}})}),(0,H.jsx)("span",{className:"px-2 text-xs font-semibold z-10 "+("dark"===$?"bg-gray-800 text-indigo-400":"bg-white text-indigo-600"),children:"CURRENT CLOCK"})]}),(0,H.jsxs)("div",{className:"w-full flex flex-col items-center text-center mb-4 relative z-10",children:[(0,H.jsxs)("div",{className:"mb-4",children:[(0,H.jsxs)(v.P.div,{className:"flex items-center justify-center gap-2 text-indigo-600 font-medium mb-1",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8,duration:.5},children:[(0,H.jsx)(n.A,{className:"w-5 h-5 text-indigo-500"})," ",(0,H.jsx)("span",{className:"text-sm",children:"Current Time"})]}),(0,H.jsx)(v.P.p,{className:"text-3xl md:text-3xl lg:text-3xl font-extrabold tracking-tight mb-1 "+("dark"===$?"text-white":"text-gray-900"),initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5},children:le(pe)}),(0,H.jsx)(v.P.p,{className:"text-sm md:text-base font-medium "+("dark"===$?"text-gray-400":"text-gray-600"),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.5},children:pe.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),(0,H.jsxs)("div",{className:"grid grid-cols-2 gap-3 w-full max-w-xs md:max-w-md",children:[(0,H.jsxs)(v.P.div,{className:"rounded-xl p-2 shadow-sm text-center "+("dark"===$?"bg-gray-700 text-white border border-indigo-500/50":"bg-indigo-50 border border-indigo-200"),transition:{type:"spring",stiffness:300},children:[(0,H.jsx)("p",{className:"text-xs font-small mb-1 uppercase "+("dark"===$?"text-indigo-400":"text-indigo-600"),children:"Gross Time (Day)"}),(0,H.jsx)("p",{className:"text-lg font-bold "+("dark"===$?"text-white":"text-purple-700"),children:pt})]}),(0,H.jsxs)(v.P.div,{className:"rounded-xl p-2 shadow-sm text-center "+("dark"===$?"bg-gray-700 text-white border border-pink-500/50":"bg-pink-50 border border-pink-200"),transition:{type:"spring",stiffness:300},children:[(0,H.jsx)("p",{className:"text-xs font-small mb-1 uppercase "+("dark"===$?"text-pink-400":"text-pink-600"),children:"Effective Time (Day)"}),(0,H.jsx)("p",{className:"text-lg font-bold "+("dark"===$?"text-white":"text-orange-700"),children:yt})]})]})]}),(0,H.jsx)("div",{className:"w-full flex justify-center mt-4 relative z-10",children:J?(0,H.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center w-full max-w-sm",children:(0,H.jsx)(N.N,{mode:"wait",children:ke?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(v.P.button,{onClick:async()=>{const e=new Date,t={employee_id:[`${null===C||void 0===C?void 0:C.employeeId}`],clock_out_time:e.toISOString()};try{const e=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===C||void 0===C?void 0:C.employeeId}/clock-out`,a=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){const e=await a.text();console.error("Clock-out API call failed:",a.status,e),alert("Failed to record clock-out time on the server. Please try again or contact support.")}}catch(a){console.error("Error during clock-out API call:",a),alert("A network error occurred while clocking out. You have been logged out locally, but the server record might be missing.")}finally{ht(null),localStorage.removeItem(lt),localStorage.removeItem(ot),V(!1),De(!1),de(e),Fe(t=>{if(0===t.length)return t;const a=t.length-1,s=t[a];if(s.date===e.toLocaleDateString()&&!s.logout_time){const r=new Date(`2000-01-01 ${s.login_time}`),i=(e-r)/36e5,n={...s,logout_time:le(e),login_hours:i>0?i:0,barWidth:i/8*100+"%"},l=JSON.parse(localStorage.getItem(gt))||[];return l[a]=n,localStorage.setItem(gt,JSON.stringify(l)),[...t.slice(0,a),n]}return t})}},className:"flex-1 items-center justify-center py-1 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 font-semibold text-sm",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},whileTap:{scale:.95},children:"Confirm Logout"},"confirm"),(0,H.jsx)(v.P.button,{onClick:()=>{De(!1)},className:"flex-1 items-center justify-center py-1 rounded-xl shadow-sm transition-all duration-200 font-medium text-sm \n                                            "+("dark"===$?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-700 hover:bg-gray-300"),initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},whileTap:{scale:.95},children:"Cancel"},"cancel")]}):(0,H.jsxs)(v.P.button,{onClick:()=>{De(!0)},className:"flex items-center justify-center w-36 py-1.5 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:from-red-600 hover:to-red-700 font-bold text-lg",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileTap:{scale:.95},children:[(0,H.jsx)(n.A,{className:"w-5 h-5 mr-1.5"}),"Clock Out"]},"logout")})}):(0,H.jsxs)(v.P.button,{onClick:()=>{const e=new Date;V(!0),X(e),de(null),fe(0),je(0),localStorage.setItem(ot,e.toISOString());const t={employee_id:null===C||void 0===C?void 0:C.employeeId,date:e.toLocaleDateString(),login_time:le(e),logout_time:null,login_hours:0,barWidth:"0%"},a=JSON.parse(localStorage.getItem(gt))||[];localStorage.setItem(gt,JSON.stringify([...a,t])),Fe(e=>[...e,t]);const s=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===C||void 0===C?void 0:C.employeeId}/${ge}/clock-in`;fetch(s,{method:"PUT",headers:{accept:"*/*"}}).then(e=>{if(!e.ok){if(500===e.status)return e.text().then(t=>{throw new Error(`HTTP error! Status: ${e.status}. Server response: ${t||"No detailed server message available."}`)});throw new Error(`HTTP error! status: ${e.status}.`)}return e.json()}).then(e=>{console.log("Clock-in successful:",e);const t=e.attendanceId;t?(ht(t),localStorage.setItem(lt,t),console.log(`Stored Attendance ID: ${t}`)):console.warn("Attendance ID not received in clock-in response.")}).catch(e=>{console.error("Clock-in failed:",e),V(!1),X(null)})},className:"flex items-center justify-center w-36 py-1.5 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:from-green-600 hover:to-green-700 font-bold text-lg",whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,H.jsx)(n.A,{className:"w-5 h-5 mr-1.5"}),"Clock In"]})})]})}),(0,H.jsx)(v.P.div,{className:"p-6 h-full flex flex-col justify-between",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:(0,H.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-6 h-full",children:ce.map(e=>{let t,a,s;switch(e.title){case"Total Hours Today":t=(0,H.jsx)(n.A,{}),a="bg-purple-100",s="text-purple-500";break;case"Total Hours Week":t=(0,H.jsx)(l.A,{}),a="bg-teal-100",s="text-teal-500";break;case"Total Hours Month":t=(0,H.jsx)(o.A,{}),a="bg-blue-100",s="text-blue-500";break;case"Overtime this Month":t=(0,H.jsx)(oe,{}),a="bg-pink-100",s="text-pink-500";break;default:t=(0,H.jsx)(o.A,{}),a="bg-gray-100",s="text-gray-900"}return"Total Hours Month"===e.title||"Overtime this Month"===e.title?(0,H.jsx)(xe,{icon:t,iconTextColor:s,iconColor:e.iconColor,currentValue:e.currentValue,targetValue:e.targetValue,description:e.title,trend:e.trend,trendPercentage:e.trendPercentage,trendPeriod:e.trendPeriod},e.id):(0,H.jsx)(me,{icon:t,iconBgColor:a,iconTextColor:s,value:`${e.currentValue}/${e.targetValue}`,description:e.title,trend:e.trend,trendPercentage:e.trendPercentage,trendPeriod:e.trendPeriod,chartData:e.chartData,chartColor:e.chartColor},e.id)})})})]}),(0,H.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,H.jsxs)(v.P.section,{className:"rounded-xl shadow-lg p-6 border border-gray-200 flex flex-col justify-between min-h-[450px] "+("dark"===$?"bg-gray-700 text-white":"bg-stone-100 text-gray-800"),initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6},children:[(0,H.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold  mb-4 text-center "+("dark"===$?"bg-gradient-to-br from-blue-200 to-blue-600 bg-clip-text text-transparent":"text-gray-800"),children:[(0,H.jsx)(d.A,{className:"w-6 h-6 inline-block mr-2 text-indigo-600"})," Daily Activity Breakdown"]}),(0,H.jsx)("div",{className:"mb-6 flex justify-center gap-2 flex-wrap",children:(0,H.jsxs)("div",{className:"mb-6 flex justify-center gap-2 flex-wrap",children:[it>0&&(0,H.jsx)(v.P.button,{onClick:()=>nt(e=>Math.max(0,e-5)),className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full text-base sm:text-sm font-small flex items-center justify-center bg-gray-200 text-gray-700 ${"dark"===$?"bg-gray-400 text-gray-300":""} cursor-pointer hover:bg-indigo-500 hover:text-white transition-colors duration-200 ease-in-out`,whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":"Previous dates",children:(0,H.jsx)(T.A,{className:"w-5 h-5"})}),qe.slice(it,it+5).map(e=>{const t=Qe.find(t=>t.Date===e),a=Ke.find(t=>t.Date===e),s=t||a,r="All"===e?"All":s?`${s.Date}-${s.Month}-${s.Year}`:e;return(0,H.jsx)(v.P.button,{onClick:()=>Z(r),className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full text-base sm:text-sm font-small flex items-center justify-center ${Y===r?"bg-indigo-600 text-white shadow-md":"bg-gray-200 text-gray-700"} ${"dark"===$?Y===r?"bg-indigo-500 text-white shadow-md":"bg-gray-400 text-gray-300":""} cursor-pointer hover:bg-indigo-500 hover:text-white transition-colors duration-200 ease-in-out`,whileHover:{scale:1.1},whileTap:{scale:.9},children:"All"===e?"All":e},e)}),it+5<qe.length&&(0,H.jsx)(v.P.button,{onClick:()=>nt(e=>e+5),className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full text-base sm:text-sm font-small flex items-center justify-center bg-gray-200 text-gray-700 ${"dark"===$?"bg-gray-400 text-gray-300":""} cursor-pointer hover:bg-indigo-500 hover:text-white transition-colors duration-200 ease-in-out`,whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":"Next dates",children:(0,H.jsx)(S.A,{className:"w-5 h-5"})})]})}),(0,H.jsx)(he,{Data:tt,selectedDate:Y}),(0,H.jsx)("div",{className:"flex-grow flex items-center justify-center",children:(0,H.jsx)(c.u,{width:"100%",height:z?180:200,children:(0,H.jsxs)(g.r,{children:[(0,H.jsx)(u.F,{data:jt,dataKey:"value",nameKey:"name",outerRadius:z?60:80,label:e=>{let{percent:t}=e;return`${(100*t).toFixed(0)}%`},paddingAngle:2,children:jt.map((e,t)=>(0,H.jsx)(p.f,{fill:se[t%se.length]},`cell-${t}`))}),(0,H.jsx)(h.m,{formatter:e=>`${e.toFixed(1)} hours`}),(0,H.jsx)(y.s,{iconType:"circle",wrapperStyle:{paddingTop:"10px"}})]})})})]}),(0,H.jsxs)(v.P.section,{className:"rounded-xl shadow-lg p-6 border border-gray-200 flex flex-col justify-between min-h-[450px] "+("dark"===$?"bg-gray-700 text-white":"bg-stone-100 text-gray-800"),initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.8},children:[(0,H.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold  mb-4 text-center "+("dark"===$?"bg-gradient-to-br from-pink-200 to-pink-600 bg-clip-text text-transparent":"text-gray-800"),children:[(0,H.jsx)(i.A,{className:"w-6 h-6 inline-block mr-2 text-indigo-600"})," Weekly Login & Break Hours"]}),(0,H.jsx)("div",{className:"flex-grow flex items-center justify-center",children:(0,H.jsx)(c.u,{width:"100%",height:z?300:400,children:(0,H.jsxs)(b.E,{data:vt,margin:{top:20,right:10,left:5,bottom:5},children:[(0,H.jsx)(m.W,{dataKey:"Date",stroke:Re,axisLine:!1,tickLine:!1,padding:{left:10,right:10},tickFormatter:(e,t)=>vt[t]?`${vt[t].Date}-${vt[t].Month}`:e,className:"text-sm "+("dark"===$?"text-white":"text-gray-500")}),(0,H.jsx)(x.h,{allowDecimals:!1,hide:!0}),(0,H.jsx)(h.m,{cursor:{fill:"rgba(0,0,0,0.05)"}}),(0,H.jsx)(y.s,{wrapperStyle:{paddingTop:"10px"}}),(0,H.jsx)(f.y,{dataKey:"Work_Hours",stackId:"a",fill:re,name:"Work Hours"}),(0,H.jsx)(f.y,{dataKey:"Break_Hours",stackId:"a",fill:ie,name:"Break Hours"})]})})})]})]}),(0,H.jsx)(v.P.div,{className:"p-4 sm:p-6 rounded-xl border border-gray-200 shadow-lg mb-8 "+("dark"===$?"bg-gray-800 text-white border-gray-700":"bg-white text-gray-800 border-gray-200"),initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:(0,H.jsxs)("section",{children:[(0,H.jsxs)("div",{className:"flex justify-between items-start sm:items-center mb-5 flex-wrap gap-4",children:[(0,H.jsxs)("h2",{className:"text-xl sm:text-2xl font-extrabold "+("dark"===$?"bg-gradient-to-br from-green-300 to-green-600 bg-clip-text text-transparent":"text-gray-800"),children:[(0,H.jsx)(l.A,{className:"w-6 h-6 sm:w-7 sm:h-7 inline-block text-indigo-600 mr-2"})," Attendance Records"]}),(0,H.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,H.jsxs)("div",{className:"relative",children:[(0,H.jsx)("label",{htmlFor:"month-select",className:"text-sm font-semibold mr-2 "+("dark"===$?"text-gray-300":"text-gray-700"),children:"Select Month:"}),(0,H.jsx)("select",{id:"month-select",value:W,onChange:e=>{U(e.target.value),Ie(1)},className:"border px-3 py-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium transition-colors cursor-pointer \n                                   "+("dark"===$?"bg-gray-700 text-white border-gray-600 hover:border-indigo-500":"bg-white text-gray-800 border-gray-300 hover:border-indigo-500"),children:Be.map(e=>(0,H.jsx)("option",{value:e,children:e},e))})]}),(0,H.jsxs)("div",{className:"relative",children:[(0,H.jsx)("label",{htmlFor:"sort-select",className:"text-sm font-semibold mr-2 "+("dark"===$?"text-gray-300":"text-gray-700"),children:"Sort by:"}),(0,H.jsx)("select",{id:"sort-select",value:Te,onChange:e=>{Se(e.target.value),Ie(1)},className:"border px-3 py-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium transition-colors cursor-pointer \n                                   "+("dark"===$?"bg-gray-700 text-white border-gray-600 hover:border-indigo-500":"bg-white text-gray-800 border-gray-300 hover:border-indigo-500"),children:["Recently added","Ascending","Descending","Last Month","Last 7 Days"].map(e=>(0,H.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,H.jsx)("div",{className:"overflow-x-auto rounded-xl border border-gray-300 shadow-md",children:(0,H.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,H.jsx)("thead",{className:""+("dark"===$?"bg-gray-700 text-indigo-400":"bg-indigo-50 text-indigo-700"),children:(0,H.jsxs)("tr",{children:[(0,H.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider",children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)(l.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-500"})," Date"]})}),(0,H.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider",children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)(n.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"})," Login Time"]})}),(0,H.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider",children:(0,H.jsxs)("div",{className:"flex items-center gap-2",children:[(0,H.jsx)(n.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})," Logout Time"]})}),(0,H.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider",children:"Login Hours"}),(0,H.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider",children:"Daily Progress"})]})}),(0,H.jsx)("tbody",{className:("dark"===$?"bg-gray-700 text-white":"bg-white text-gray-800")+" divide-y divide-gray-200",children:(0,H.jsx)(N.N,{children:ft.length>0?ft.filter(e=>e&&e.date).map((e,t)=>(0,H.jsxs)(v.P.tr,{className:("dark"===$?"hover:bg-gray-600":"hover:bg-indigo-50")+" transition-colors duration-150",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:.05*t},children:[(0,H.jsx)("td",{className:"px-4 py-3 text-sm whitespace-nowrap "+("dark"===$?"text-gray-300":"text-gray-700"),children:e.date}),(0,H.jsx)("td",{className:"px-4 py-3 text-sm whitespace-nowrap "+("dark"===$?"text-green-400":"text-green-600"),children:e.login_time||(0,H.jsx)("span",{className:"text-red-500 font-semibold",children:"Absent"})}),(0,H.jsx)("td",{className:"px-4 py-3 text-sm whitespace-nowrap "+("dark"===$?"text-red-400":"text-red-600"),children:e.logout_time||(0,H.jsx)("span",{className:"text-red-500 font-semibold",children:"-"})}),(0,H.jsxs)("td",{className:"px-4 py-3 text-sm whitespace-nowrap "+("dark"===$?"text-white":"text-indigo-700"),children:[(0,H.jsx)("span",{className:"font-bold",children:e.login_hours.toFixed(2)})," hrs"]}),(0,H.jsx)("td",{className:"px-4 py-3 text-sm whitespace-nowrap "+("dark"===$?"text-white":"text-gray-600"),children:(0,H.jsxs)("div",{className:"relative rounded-full h-4 w-full bg-gray-200 overflow-hidden",children:[(0,H.jsx)(v.P.div,{className:"bg-indigo-400 h-full rounded-full",initial:{width:0},animate:{width:e.barWidth},transition:{duration:.8,ease:"easeOut"}}),(0,H.jsxs)("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-semibold text-white",children:[e.login_hours.toFixed(1),"h"]})]})})]},t)):(0,H.jsx)("tr",{children:(0,H.jsx)("td",{colSpan:"5",className:`px-4 py-3 text-center whitespace-nowrap ${"dark"===$?"text-gray-400":"text-gray-600"} italic`,children:"No attendance records found for the selected options."})})})})]})}),(0,H.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-between",children:[(0,H.jsxs)("div",{className:"flex items-center gap-2 mb-4 sm:mb-0",children:[(0,H.jsx)("span",{className:"text-sm "+("dark"===$?"text-gray-300":"text-gray-700"),children:"Rows per page:"}),(0,H.jsx)("select",{value:$e,onChange:e=>{Pe(Number(e.target.value)),Ie(1)},className:"border px-2 py-1 rounded-md text-sm cursor-pointer "+("dark"===$?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"),children:[10,25,50,100].map(e=>(0,H.jsx)("option",{value:e,children:e},e))})]}),(0,H.jsxs)("nav",{className:"flex items-center gap-2",children:[(0,H.jsx)("button",{onClick:()=>Ie(e=>Math.max(e-1,1)),disabled:1===Me,className:"px-4 py-2 text-sm font-medium border rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed "+("dark"===$?"bg-gray-600 text-white border-gray-500 hover:bg-gray-500":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"),children:"Previous"}),(0,H.jsxs)("span",{className:"text-sm "+("dark"===$?"text-gray-300":"text-gray-700"),children:["Page ",Me," of ",wt]}),(0,H.jsx)("button",{onClick:()=>Ie(e=>Math.min(e+1,wt)),disabled:Me===wt||0===wt,className:"px-4 py-2 text-sm font-medium border rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed "+("dark"===$?"bg-gray-600 text-white border-gray-500 hover:bg-gray-500":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"),children:"Next"})]})]})]})})]},"dashboard")]})]})]})]})}}}]);
//# sourceMappingURL=404.afb88396.chunk.js.map