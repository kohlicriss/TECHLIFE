{"version":3,"file":"static/js/667.2340b386.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/AdminTickets/Filters.jsx","TechLife/HRMS/Components/AdminTickets/TicketCard.jsx","TechLife/HRMS/Components/AdminTickets/TicketModal.jsx","TechLife/HRMS/Components/AdminTickets/TicketStats.jsx","TechLife/HRMS/Components/AdminTickets/Tickets.jsx","../node_modules/lucide-react/src/icons/ticket.ts","../node_modules/lucide-react/src/icons/circle-check.ts"],"sourcesContent":["import { useContext } from \"react\";\r\nimport { Context } from \"../HrmsContext\";\r\n\r\nexport default function Filters({ dateFilter, setDateFilter, searchTerm, setSearchTerm }) {\r\n  const { theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n\r\n  \r\n\r\n  return (\r\n    <div\r\n      className={`p-4 border-b flex flex-col md:flex-row md:items-center gap-4 md:gap-6 shadow-sm transition-colors ${\r\n        isDark ? \"bg-gray-900 border-gray-700\" : \"bg-white border-gray-200\"\r\n      }`}\r\n    >\r\n      \r\n      <div className=\"flex flex-col md:flex-row md:items-center gap-2 w-full md:w-auto\">\r\n        <label\r\n          className={`text-sm font-medium ${\r\n            isDark ? \"text-gray-300\" : \"text-gray-700\"\r\n          }`}\r\n          htmlFor=\"date-filter\"\r\n        >\r\n          Date\r\n        </label>\r\n        <select\r\n          id=\"date-filter\"\r\n          className={`border text-sm rounded-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent w-full md:w-auto ${\r\n            isDark\r\n              ? \"bg-gray-800 border-gray-600 text-gray-200 placeholder-gray-400\"\r\n              : \"bg-white border-gray-300 text-gray-700\"\r\n          }`}\r\n          value={dateFilter}\r\n          onChange={(e) => setDateFilter(e.target.value)}\r\n        >\r\n          <option>All</option>\r\n          <option>Last 30 days</option>\r\n          <option>Last 7 days</option>\r\n          <option>Today</option>\r\n        </select>\r\n      </div>\r\n\r\n    \r\n      <div className=\"flex flex-col md:flex-row md:items-center gap-2 w-full md:flex-1\">\r\n        <label\r\n          className={`text-sm font-medium ${\r\n            isDark ? \"text-gray-300\" : \"text-gray-700\"\r\n          }`}\r\n          htmlFor=\"search\"\r\n        >\r\n          Search\r\n        </label>\r\n        <input\r\n          id=\"search\"\r\n          type=\"text\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          placeholder=\"Search name, ID, issue, status, priority...\"\r\n          className={`border text-sm rounded-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent w-full ${\r\n            isDark\r\n              ? \"bg-gray-800 border-gray-600 text-gray-200 placeholder-gray-400\"\r\n              : \"bg-white border-gray-300 text-gray-700\"\r\n          }`}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport { Context } from \"../HrmsContext\";\r\n\r\nexport default function TicketCard({\r\n  employeeId,\r\n  employeeName,\r\n  priority,\r\n  title,\r\n  sentAt,\r\n  status,\r\n  onClick,\r\n}) {\r\n  const { theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n  const priorityColor = {\r\n    High: isDark\r\n      ? \"bg-red-900 text-red-300\"\r\n      : \"bg-red-100 text-red-700\",\r\n    Medium: isDark\r\n      ? \"bg-yellow-900 text-yellow-300\"\r\n      : \"bg-yellow-100 text-yellow-700\",\r\n    Low: isDark\r\n      ? \"bg-green-900 text-green-300\"\r\n      : \"bg-green-100 text-green-700\",\r\n  };\r\n\r\n  const statusColor = {\r\n    Pending: isDark\r\n      ? \"bg-gray-700 text-gray-300\"\r\n      : \"bg-gray-100 text-gray-700\",\r\n    Unsolved: isDark\r\n      ? \"bg-orange-900 text-orange-300\"\r\n      : \"bg-orange-100 text-orange-700\",\r\n    Opened: isDark\r\n      ? \"bg-blue-900 text-blue-300\"\r\n      : \"bg-blue-100 text-blue-700\",\r\n    Resolved: isDark\r\n      ? \"bg-emerald-900 text-emerald-300\"\r\n      : \"bg-emerald-100 text-emerald-700\",\r\n  };\r\n\r\n  const formatToIST = (dateString) => {\r\n    if (!dateString) return \"\";\r\n    const date = new Date(dateString + \"Z\");\r\n    return date.toLocaleString(\"en-IN\", {\r\n      timeZone: \"Asia/Kolkata\",\r\n      year: \"numeric\",\r\n      month: \"short\",\r\n      day: \"2-digit\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n      second: \"2-digit\",\r\n      hour12: true,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className={`group rounded-xl p-5 border transition-all duration-300 cursor-pointer transform hover:-translate-y-1 \r\n        ${isDark\r\n          ? \"bg-gray-800 border-gray-700 hover:border-blue-400 hover:shadow-lg\"\r\n          : \"bg-white border-gray-200 hover:border-blue-400 hover:shadow-lg shadow-sm\"\r\n        }`}\r\n    >\r\n      <div className=\"flex justify-between items-start mb-2\">\r\n        <h3\r\n          className={`font-semibold text-lg transition-colors ${\r\n            isDark\r\n              ? \"text-blue-300 group-hover:text-blue-400\"\r\n              : \"text-blue-900 group-hover:text-blue-700\"\r\n          }`}\r\n        >\r\n          {title}\r\n        </h3>\r\n        <span\r\n          className={`px-2 py-0.5 rounded-full text-xs font-medium ${priorityColor[priority]}`}\r\n        >\r\n          {priority}\r\n        </span>\r\n      </div>\r\n\r\n      <p\r\n        className={`text-sm mb-2 ${\r\n          isDark ? \"text-gray-400\" : \"text-gray-600\"\r\n        }`}\r\n      >\r\n        {employeeName}{\" \"}\r\n        <span className={isDark ? \"text-gray-500 text-xs\" : \"text-gray-400 text-xs\"}>\r\n          ({employeeId})\r\n        </span>\r\n      </p>\r\n\r\n      <div className=\"flex items-center gap-2 mb-3\">\r\n        <span\r\n          className={`px-2 py-0.5 rounded-full text-xs font-medium ${statusColor[status]}`}\r\n        >\r\n          {status}\r\n        </span>\r\n        <span className={`text-xs ${isDark ? \"text-gray-400\" : \"text-gray-500\"}`}>\r\n          üìÖ Created: {formatToIST(sentAt)}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef, useMemo,useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Context } from \"../HrmsContext\";\r\n\r\nexport default function TicketModal({\r\n  ticket,\r\n  onClose,\r\n  replyText,\r\n  setReplyText,\r\n  roles,\r\n  onStatusUpdate,\r\n}) {\r\n  const [showChat, setShowChat] = useState(false);\r\n  const [replies, setReplies] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [messageSent, setMessageSent] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const socketRef = useRef(null);\r\n  const [newStatus, setNewStatus] = useState(ticket?.status || \"\");\r\n\r\n  const [page, setPage] = useState(0);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const chatContainerRef = useRef(null);\r\n  const [matchedArray,setMatchedArray]=useState([]);\r\n\r\nconst prevScrollHeight = useRef(0);\r\nconst [loadingOlder, setLoadingOlder] = useState(false);\r\n const { theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n\r\n  \r\n  const formatDate = (date) => {\r\n    const d = new Date(date);\r\n    const today = new Date();\r\n    const yesterday = new Date();\r\n    yesterday.setDate(today.getDate() - 1);\r\n\r\n    if (d.toDateString() === today.toDateString()) return \"Today\";\r\n    if (d.toDateString() === yesterday.toDateString()) return \"Yesterday\";\r\n    return d.toLocaleDateString([], {\r\n      day: \"2-digit\",\r\n      month: \"short\",\r\n      year: \"numeric\",\r\n    });\r\n  };\r\n\r\n  \r\n  const formatToIST = (dateString) => {\r\n    if (!dateString) return \"\";\r\n    const date = new Date(dateString.endsWith(\"Z\") ? dateString : dateString + \"Z\");\r\n    return date.toLocaleString(\"en-IN\", {\r\n      timeZone: \"Asia/Kolkata\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n      day: \"2-digit\",\r\n      month: \"short\",\r\n      year: \"numeric\",\r\n      hour12: true,\r\n    });\r\n  };\r\n\r\n  \r\n  const formatChatTimeIST = (dateString) => {\r\n    if (!dateString) return \"\";\r\n    const date = new Date(dateString.endsWith(\"Z\") ? dateString : dateString + \"Z\");\r\n    return date.toLocaleTimeString(\"en-IN\", {\r\n      timeZone: \"Asia/Kolkata\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n      hour12: true,\r\n    });\r\n  };\r\n\r\n \r\n  const groupedReplies = useMemo(() => {\r\n    const groups = {};\r\n    const sortedReplies = [...replies].sort(\r\n      (a, b) => new Date(a.repliedAt) - new Date(b.repliedAt)\r\n    );\r\n    sortedReplies.forEach((msg) => {\r\n      const dateLabel = formatDate(msg.repliedAt);\r\n      if (!groups[dateLabel]) groups[dateLabel] = [];\r\n      groups[dateLabel].push(msg);\r\n    });\r\n    return groups;\r\n  }, [replies]);\r\n\r\n  \r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [replies]);\r\n\r\n \r\n useEffect(() => {\r\n  if (!ticket?.ticketId) return;\r\n\r\n  if (socketRef.current) {\r\n    socketRef.current.close();\r\n  }\r\n  const token = localStorage.getItem(\"accessToken\");\r\n\r\n const ws = new WebSocket(\r\n  `wss://hrms.anasolconsultancyservices.com/api/ticket/ws?ticketId=${ticket.ticketId}&token=${token}`\r\n);\r\n\r\n  socketRef.current = ws;\r\n\r\n  ws.onopen = () => console.log(\"‚úÖ WebSocket connected for\", ticket.ticketId);\r\n\r\n  ws.onmessage = (event) => {\r\n    try {\r\n      const msg = JSON.parse(event.data);\r\n      console.log(\"üì© Incoming WS message:\", msg);\r\n\r\n      if (msg && msg.replyText) {\r\n        setReplies((prev) => {\r\n          const exists = prev.some(\r\n            (m) =>\r\n              (m.id && msg.id && m.id === msg.id) ||\r\n              (m.replyText === msg.replyText && m.repliedAt === msg.repliedAt)\r\n          );\r\n          return exists ? prev : [...prev, msg];\r\n        });\r\n      }\r\n    } catch (e) {\r\n      console.error(\"‚ùå Error parsing WebSocket message\", e, event.data);\r\n    }\r\n  };\r\n\r\n  ws.onerror = (err) => console.error(\"‚ùå WebSocket error:\", err);\r\n  ws.onclose = () => console.log(\"üîå WebSocket disconnected\");\r\n\r\n  return () => ws.close();\r\n}, [ticket?.ticketId]);\r\n\r\n\r\nconst fetchReplies = async (pageNum = 0) => {\r\n  if (!ticket?.ticketId || loading || !hasMore) return;\r\n  setLoading(true);\r\n\r\n  try {\r\n    const container = chatContainerRef.current;\r\n    if (pageNum > 0 && container) {\r\n      prevScrollHeight.current = container.scrollHeight;\r\n      setLoadingOlder(true);\r\n    }\r\n\r\n    const token = localStorage.getItem(\"accessToken\");\r\n    const response = await axios.get(\r\n      `https://hrms.anasolconsultancyservices.com/api/ticket/admin/tickets/${ticket.ticketId}/reply`,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        params: { page: pageNum, size: 20 },\r\n      }\r\n    );\r\n\r\n    const messagesArray = Array.isArray(response.data?.content)\r\n      ? response.data.content\r\n      : [];\r\n\r\n    if (messagesArray.length === 0) {\r\n      setHasMore(false);\r\n    } else {\r\n      if (pageNum === 0) {\r\n        setReplies(messagesArray);\r\n      } else {\r\n        setReplies((prev) => [...messagesArray, ...prev]); \r\n      }\r\n      setPage(pageNum);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Failed to fetch replies\", error);\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n\r\nuseEffect(() => {\r\n  if (messageSent && messagesEndRef.current) {\r\n    messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  }\r\n}, [messageSent]);\r\nuseEffect(() => {\r\n  \r\n  const perms = JSON.parse(localStorage.getItem(\"permissions\") || \"[]\");\r\n  setMatchedArray(perms);\r\n}, []);\r\n\r\n\r\n\r\nuseEffect(() => {\r\n  if (loadingOlder && chatContainerRef.current) {\r\n    const container = chatContainerRef.current;\r\n    const newScrollHeight = container.scrollHeight;\r\n    container.scrollTop = newScrollHeight - prevScrollHeight.current;\r\n    setLoadingOlder(false);\r\n  }\r\n}, [replies]);\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (showChat) fetchReplies(0);\r\n  }, [ticket?.ticketId, showChat]);\r\n\r\nuseEffect(() => {\r\n  const container = chatContainerRef.current;\r\n  if (!container) return;\r\n\r\n  const handleScroll = () => {\r\n    if (container.scrollTop === 0 && hasMore && !loading) {\r\n      fetchReplies(page + 1);\r\n    }\r\n  };\r\n\r\n  container.addEventListener(\"scroll\", handleScroll);\r\n  return () => container.removeEventListener(\"scroll\", handleScroll);\r\n}, [page, hasMore, loading]);\r\n\r\n\r\n\r\n\r\nconst handleReply = async () => {\r\n  if (!replyText.trim() || !ticket?.ticketId) return;\r\n\r\n  const token = localStorage.getItem(\"accessToken\");\r\n  const payload = {\r\n    replyText: replyText.trim(),\r\n    repliedBy: \"admin\",\r\n    status: newStatus,\r\n    employeeId: ticket.employeeId || \"DEFAULT_EMPLOYEE\",\r\n    roles: roles && typeof roles === \"string\" ? `ROLE_${roles.toUpperCase()}` : \"ROLE_HR\",\r\n    repliedAt: new Date().toISOString(),\r\n  };\r\n\r\n  try {\r\n    const res = await axios.put(\r\n      `https://hrms.anasolconsultancyservices.com/api/ticket/admin/tickets/${ticket.ticketId}/reply`,\r\n      payload,\r\n      { headers: { Authorization: `Bearer ${token}` } }\r\n    );\r\n\r\n   \r\n    //setReplies((prev) => [...prev, res.data || payload]);\r\n\r\n    setReplyText(\"\");\r\n    setMessageSent(true);\r\n    setTimeout(() => setMessageSent(false), 2000);\r\n  } catch (error) {\r\n    console.error(\" Reply failed\", error.response?.data || error.message);\r\n  }\r\n};\r\n\r\n \r\n \r\n  const handleStatusChange = async () => {\r\n    if (!ticket?.ticketId) return;\r\n\r\n    const token = localStorage.getItem(\"accessToken\");\r\n    const payload = {\r\n      replyText: replyText.trim() || \"Status updated\",\r\n      repliedBy: \"admin\",\r\n      status: newStatus,\r\n      employeeId: ticket.employeeId || \"DEFAULT_EMPLOYEE\",\r\n      roles: roles && typeof roles === \"string\" ? `ROLE_${roles.toUpperCase()}` : \"ROLE_HR\",\r\n      repliedAt: new Date().toISOString(),\r\n    };\r\n\r\n    try {\r\n      const res = await axios.put(\r\n        `https://hrms.anasolconsultancyservices.com/api/ticket/admin/tickets/${ticket.ticketId}/reply`,\r\n        payload,\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      setReplies((prev) => [...prev, res.data]);\r\n\r\n      setNewStatus(res.data.status);\r\n      ticket.status = res.data.status;\r\n      if (onStatusUpdate) onStatusUpdate(res.data);\r\n      onClose();\r\n    } catch (err) {\r\n      console.error(\"Error updating status:\", err.response?.data || err.message);\r\n    }\r\n  };\r\n\r\n    const bgColor = isDark ? \"bg-gray-900 text-white\" : \"bg-white text-gray-900\";\r\n  const chatBg = isDark ? \"bg-gray-800 text-white\" : \"bg-white text-gray-900\";\r\n  const chatAltBg = isDark ? \"bg-gray-700 text-white\" : \"bg-white text-gray-900\";\r\n const borderColor =\r\n  bgColor === isDark\r\n    ? \"border-white\"\r\n    : bgColor === !isDark \r\n    ? \"border-black\"\r\n    : \"border-gray-300\"; \r\n\r\n\r\n  const displayRole = (role) => role?.replace(/^ROLE_/, \"\");\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4\">\r\n      <div className={`${bgColor} w-full max-w-[calc(100vw-5rem)] md:max-w-4xl rounded-2xl shadow-2xl relative transition-all duration-300`}>\r\n        <div className={`p-6 overflow-y-auto h-[90vh] scroll-smooth ${bgColor}`}>\r\n          {!showChat ? (\r\n            <>\r\n                <h2 className={`text-3xl font-extrabold mb-6 ${isDark ? \"text-white\" : \"text-blue-700\"}`}>\r\n                üé´ Ticket Details\r\n              </h2>\r\n\r\n              <div className={`grid grid-cols-1 md:grid-cols-2 gap-5 text-[15px] mb-8 ${isDark ? \"text-gray-200\" : \"text-gray-800\"}`}>\r\n                <p>\r\n                  <span className=\"font-semibold\">üë§ Employee ID:</span>{\" \"}\r\n                  {ticket.employeeId}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">üìõ Ticket ID:</span>{\" \"}\r\n                  {ticket.ticketId}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">üìù Issue:</span> {ticket.title}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">üßë‚Äçüíº Role:</span>{\" \"}\r\n                  {displayRole(ticket.roles)}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">‚ö†Ô∏è Description:</span>{\" \"}\r\n                  {ticket.description}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">‚ö†Ô∏è Priority:</span>{\" \"}\r\n                  {ticket.priority}\r\n                </p>\r\n               <p className=\"md:col-span-2\">\r\n  <span className=\"font-semibold\">üìÖ Created:</span>{\" \"}\r\n  {formatToIST(ticket.sentAt)}\r\n</p>\r\n\r\n\r\n                <div className=\"md:col-span-2\">\r\n                  <label className={`block font-medium text-gray-900 mb-2 ${isDark ? \"text-white\" : \"text-blue-700\"}`}>\r\n                    üìå Update Status\r\n                  </label>\r\n                 <select\r\n  value={newStatus}\r\n  onChange={(e) => setNewStatus(e.target.value)}\r\n  className={`w-full rounded-lg px-3 py-2 text-sm border focus:ring-2 focus:ring-blue-500 ${bgColor} ${borderColor}`}\r\n>\r\n  <option value=\"Unsolved\">Unsolved</option>\r\n  <option value=\"Resolved\">Resolved</option>\r\n</select>\r\n\r\n                </div>\r\n              </div>\r\n                \r\n               <button\r\n                onClick={() => setShowChat(true)}\r\n                className=\"mb-6 px-6 py-2 bg-blue-600 text-white font-medium rounded-full hover:bg-blue-700 transition-all duration-200 shadow\"\r\n              >\r\n                üí¨ Open Chat\r\n              </button>\r\n              \r\n\r\n              <div className=\"mt-10 flex justify-end gap-4\">\r\n                 <button\r\n                  onClick={onClose}\r\n                  className={`px-5 py-2 rounded-lg border ${borderColor} ${isDark ? \"text-gray-200 hover:bg-gray-800\" : \"text-gray-600 hover:bg-gray-100\"} transition`}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                 <button\r\n                  onClick={handleStatusChange}\r\n                  disabled={loading}\r\n                  className={`px-6 py-2 rounded-lg font-medium transition  ${borderColor} ${loading ? \"bg-gray-400 text-white cursor-not-allowed\" : \"bg-blue-600 text-white hover:bg-blue-700\"}`}\r\n                >\r\n                  {loading ? \"Saving...\" : \"Update Status\"}\r\n                </button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                  <h2 className={`text-2xl font-bold ${isDark ? \"text-white\" : \"text-blue-700\"}`}>üí¨ Chat with {ticket.employeeId}</h2>\r\n                <button onClick={() => setShowChat(false)} className={`text-sm ${isDark ? \"text-blue-400 hover:text-blue-200\" : \"text-blue-600 hover:underline\"}`}>\r\n                  Back to Ticket\r\n                </button>\r\n              </div>\r\n\r\n              <div ref={chatContainerRef} className={`max-h-72 overflow-y-auto space-y-3 p-4 rounded-xl border ${borderColor} shadow-inner ${isDark ? \"bg-gray-800\" : \"bg-gray-50\"}`}>\r\n                <div className={`${chatBg} border rounded-bl-none px-4 py-2 max-w-[75%] text-sm rounded-2xl shadow`}>\r\n                  <p>{ticket.title}</p>\r\n                  <div className=\"text-[10px] mt-1 text-left text-gray-500\">{formatChatTimeIST(ticket.sentAt)}</div>\r\n                </div>\r\n\r\n               {Object.keys(groupedReplies).map((date) => (\r\n                  <div key={date}>\r\n                    <div className={`text-center text-xs my-2 ${isDark ? \"text-gray-400\" : \"text-gray-500\"}`}>{date}</div>\r\n                    {groupedReplies[date].map((msg, idx) => (\r\n                      <div key={idx} className={`flex ${msg.repliedBy === \"admin\" ? \"justify-end\" : \"justify-start\"}`}>\r\n                        <div className={`inline-block px-4 py-2 text-sm rounded-2xl shadow transition ${msg.repliedBy === \"admin\" ? \"bg-blue-600 text-white rounded-br-none\" : chatAltBg + \" border rounded-bl-none\"}`}>\r\n                          <p className=\"whitespace-pre-line break-words\">{msg.replyText}</p>\r\n                          <div className={`text-[10px] mt-1 ${msg.repliedBy === \"admin\" ? \"text-white text-right\" : \"text-gray-400 text-left\"}`}>\r\n                            {formatChatTimeIST(msg.repliedAt)} {msg.repliedBy === \"admin\" && \"‚úì‚úì\"}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                       </div>\r\n                ))}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n\r\n              {ticket.status === \"Resolved\" ? (\r\n                  <div className={`text-center font-medium py-4 border-t ${borderColor} ${isDark ? \"text-red-400\" : \"text-red-600\"}`}>\r\n                  This ticket is Resolved. No further replies are allowed.\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  <label className={`block font-medium ${isDark ? \"text-gray-200\" : \"text-gray-800\"}`}>Reply as Admin</label>\r\n                  <textarea\r\n                    value={replyText}\r\n                    onChange={(e) => setReplyText(e.target.value)}\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === \"Enter\" && !e.shiftKey) {\r\n                        e.preventDefault();\r\n                        handleReply();\r\n                      }\r\n                    }}\r\n                    rows=\"3\"\r\n                    className={`w-full p-3 rounded-lg focus:ring-2 focus:ring-blue-400 resize-none text-sm shadow ${bgColor} ${borderColor}`}\r\n                    placeholder=\"Type your reply...\"\r\n                  />\r\n                \r\n                  <button\r\n                    onClick={handleReply}\r\n                    className=\"w-full bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition\"\r\n                  >\r\n                    Send\r\n                  </button>\r\n                 \r\n                  {messageSent && (\r\n                    <div className=\"text-green-600 text-sm text-center animate-pulse\">\r\n                      ‚úÖ Reply Sent\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n         <button\r\n          onClick={onClose}\r\n          className={`absolute top-4 right-4 text-2xl transition ${isDark ? \"text-gray-400 hover:text-white\" : \"text-gray-400 hover:text-gray-700\"}`}\r\n          aria-label=\"Close\"\r\n        >\r\n          &times;\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useContext } from \"react\";\r\nimport { Ticket, CheckCircle2, AlertTriangle } from \"lucide-react\";\r\nimport { Context } from \"../HrmsContext\";\r\n\r\nexport default function TicketStats({ tickets }) {\r\n  const { theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n  const total = tickets.length;\r\n  const resolved = tickets.filter((t) => t.status === \"Resolved\").length;\r\n  const unsolved = tickets.filter((t) => t.status !== \"Resolved\").length;\r\n\r\n  const cardBase = `flex items-center gap-4 p-5 rounded-xl border transition-all \r\n    ${isDark ? \"bg-gray-800 border-gray-700 shadow-md hover:shadow-lg\" : \"bg-white shadow-md hover:shadow-lg\"}\r\n  `;\r\n\r\n  const textMuted = isDark ? \"text-white\" : \"text-gray-500\";\r\n  const textPrimary = isDark ? \"text-white\" : \"text-blue-700\";\r\n\r\n  return (\r\n    <div className=\"px-4 pt-4\">\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n       \r\n        <div className={`${cardBase} ${isDark ? \"border-blue-800\" : \"border-blue-200\"}`}>\r\n          <div className={`${isDark ? \"bg-blue-900 text-blue-300\" : \"bg-blue-100 text-blue-600\"} p-3 rounded-full`}>\r\n            <Ticket size={28} />\r\n          </div>\r\n          <div>\r\n            <p className={`text-sm ${textMuted}`}>Total Tickets</p>\r\n            <h3 className={`text-3xl font-bold ${textPrimary}`}>{total}</h3>\r\n          </div>\r\n        </div>\r\n\r\n      \r\n      \r\n        <div className={`${cardBase} ${isDark ? \"border-emerald-800\" : \"border-emerald-200\"}`}>\r\n          <div className={`${isDark ? \"bg-emerald-900 text-emerald-300\" : \"bg-emerald-100 text-emerald-600\"} p-3 rounded-full`}>\r\n            <CheckCircle2 size={28} />\r\n          </div>\r\n          <div>\r\n            <p className={`text-sm ${textMuted}`}>Solved Tickets</p>\r\n            <h3 className=\"text-3xl font-bold text-emerald-600\">{resolved}</h3>\r\n          </div>\r\n        </div>\r\n\r\n      \r\n      \r\n        <div className={`${cardBase} ${isDark ? \"border-red-800\" : \"border-red-200\"}`}>\r\n          <div className={`${isDark ? \"bg-red-900 text-red-300\" : \"bg-red-100 text-red-600\"} p-3 rounded-full`}>\r\n            <AlertTriangle size={28} />\r\n          </div>\r\n          <div>\r\n            <p className={`text-sm ${textMuted}`}>Unsolved Tickets</p>\r\n            <h3 className=\"text-3xl font-bold text-red-600\">{unsolved}</h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef, useState, useContext } from \"react\";\r\nimport { Ticket } from \"lucide-react\";\r\nimport Filters from \"./Filters\";\r\nimport TicketCard from \"./TicketCard\";\r\nimport TicketModal from \"./TicketModal\";\r\nimport TicketStats from \"./TicketStats\";\r\nimport { motion } from \"framer-motion\";\r\nimport { FaArrowLeft, FaArrowRight ,FaBars , FaTicketAlt } from \"react-icons/fa\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport { ticketsApi } from \"../../../../axiosInstance\";\r\n\r\nexport default function TicketDashboard() {\r\n  \r\n  const { empID } = useParams();\r\n  const [tickets, setTickets] = useState([]);\r\n  const [filterStatus, setFilterStatus] = useState(\"all\");\r\n  const [dateFilter, setDateFilter] = useState(\"All\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [selectedTicket, setSelectedTicket] = useState(null);\r\n  const [replyText, setReplyText] = useState(\"\");\r\n  const [newStatus, setNewStatus] = useState(\"Pending\");\r\n  const [error, setError] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(true);\r\n // const [activeTab, setActiveTab] = useState(\"all\");\r\n const [activeTab, setActiveTab] = useState(\"My Tickets\");\r\n\r\n    const { userData, theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n  \r\n  \r\n\r\n  const [pageInfo, setPageInfo] = useState({\r\n    page: 0,\r\n    size: 9,\r\n    totalPages: 0,\r\n    totalElements: 0,\r\n  });\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const wsRef = useRef(null);\r\n  const repliedBy = \"admin\";\r\n  const navigate = useNavigate();\r\n\r\n  \r\n  const rawRole = Array.isArray(userData?.roles)\r\n    ? userData.roles[0]\r\n    : userData?.roles || \"\";\r\n  const normalizedRole =\r\n    typeof rawRole === \"string\"\r\n      ? rawRole.toUpperCase().startsWith(\"ROLE_\")\r\n        ? rawRole.toUpperCase()\r\n        : \"ROLE_\" + rawRole.toUpperCase()\r\n      : \"\";\r\n\r\n  const statusLabels = {\r\n    all: \"All\",\r\n    resolved: \"Resolved\",\r\n  };\r\n\r\n \r\n  const fetchTickets = async () => {\r\n    try {\r\n      if (!normalizedRole || !empID) {\r\n        throw new Error(\"Missing role or employee ID\");\r\n      }\r\n\r\n      const res = await ticketsApi.get(\r\n        `admin/tickets/role/${normalizedRole}/${empID}?page=${\r\n          currentPage - 1\r\n        }&size=${pageInfo.size}`\r\n      );\r\n\r\n      setTickets(res.data.content || []);\r\n      setPageInfo({\r\n        page: res.data.page,\r\n        size: res.data.size,\r\n        totalPages: res.data.totalPages,\r\n        totalElements: res.data.totalElements,\r\n      });\r\n\r\n      console.log(\"Fetched tickets:\", res.data.content);\r\n    } catch (err) {\r\n      console.error(\"Error fetching tickets:\", err);\r\n      setError(\"Failed to load tickets\");\r\n    }\r\n  };\r\n\r\n  const connectWebSocket = () => {\r\n  const token = localStorage.getItem(\"accessToken\");\r\n  if (!token) {\r\n    console.error(\"‚ùå No token found in localStorage\");\r\n    return;\r\n  }\r\n\r\n  const socket = new WebSocket(\r\n    `wss://hrms.anasolconsultancyservices.com/api/ticket/ws?token=${token}`\r\n  );\r\n\r\n  socket.onopen = () => console.log(\"‚úÖ WebSocket connected\");\r\n\r\n  socket.onmessage = (event) => {\r\n    try {\r\n      const message = JSON.parse(event.data);\r\n      updateTicketReplies(message);\r\n    } catch (err) {\r\n      console.error(\"‚ùå Failed to parse WS message\", err);\r\n    }\r\n  };\r\n\r\n  socket.onclose = () => {\r\n    console.warn(\"‚ö†Ô∏è WS disconnected. Reconnecting in 3s...\");\r\n    setTimeout(connectWebSocket, 3000);\r\n  };\r\n\r\n  socket.onerror = (e) => console.error(\"‚ùå WS error:\", e);\r\n\r\n  wsRef.current = socket;\r\n};\r\n\r\n\r\n  const updateTicketReplies = (replyDTO) => {\r\n    setTickets((prev) =>\r\n      prev.map((ticket) =>\r\n        ticket.ticketId === replyDTO.ticketId\r\n          ? {\r\n              ...ticket,\r\n              replies: Array.isArray(ticket.replies)\r\n                ? [...ticket.replies, replyDTO]\r\n                : [replyDTO],\r\n              status: replyDTO.status || ticket.status,\r\n            }\r\n          : ticket\r\n      )\r\n    );\r\n\r\n    if (selectedTicket?.ticketId === replyDTO.ticketId) {\r\n      setSelectedTicket((prev) => ({\r\n        ...prev,\r\n        replies: Array.isArray(prev?.replies)\r\n          ? [...prev.replies, replyDTO]\r\n          : [replyDTO],\r\n        status: replyDTO.status || prev.status,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const toggleSidebar = () => setIsSidebarCollapsed((prev) => !prev);\r\n\r\n  const handleReply = async () => {\r\n    if (!selectedTicket || !replyText.trim()) return;\r\n\r\n    const payload = {\r\n      ticketId: selectedTicket.ticketId,\r\n      replyText,\r\n      repliedBy,\r\n      repliedAt: new Date().toISOString(),\r\n      status: newStatus || selectedTicket.status,\r\n      employeeId: selectedTicket.employeeId,\r\n      roles: selectedTicket.roles,\r\n    };\r\n\r\n    try {\r\n      await fetch(\r\n        `https://hrms.anasolconsultancyservices.com/api/ticket/admin/tickets/${selectedTicket.ticketId}/reply`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(payload),\r\n        }\r\n      );\r\n\r\n      setMessages((prev) => [...prev, payload]);\r\n\r\n      if (wsRef.current?.readyState === WebSocket.OPEN) {\r\n        wsRef.current.send(JSON.stringify(payload));\r\n      }\r\n\r\n      setReplyText(\"\");\r\n    } catch (err) {\r\n      console.error(\"Reply failed\", err);\r\n    }\r\n  };\r\n  const bgClass = isDark ? \"bg-gray-900 text-white\" : \"bg-gray-50 text-gray-900\";\r\n  const cardBg = isDark ? \"bg-gray-800 text-white border-gray-700\" : \"bg-white text-gray-800 border-gray-300\";\r\n  const sidebarBg = isDark ? \"bg-gray-800 border-gray-700 text-gray-200\" : \"bg-white border-gray-200 text-gray-700\";\r\n  const btnPrimary = isDark\r\n    ? \"bg-blue-600 text-white hover:bg-blue-500\"\r\n    : \"bg-blue-600 text-white hover:bg-blue-700\";\r\n  const btnSecondary = isDark\r\n    ? \"bg-gray-700 text-gray-200 hover:bg-gray-600\"\r\n    : \"bg-gray-100 text-gray-700 hover:bg-gray-200\";\r\n  const handleStatusChange = async (statusToUpdate) => {\r\n    if (!selectedTicket) return;\r\n\r\n    const payload = {\r\n      ticketId: selectedTicket.ticketId,\r\n      replyText: \"\",\r\n      repliedBy,\r\n      repliedAt: new Date().toISOString(),\r\n      status: statusToUpdate,\r\n      employeeId: selectedTicket.employeeId,\r\n      roles: selectedTicket.roles,\r\n    };\r\n\r\n    try {\r\n      await fetch(\r\n        `https://hrms.anasolconsultancyservices.com/api/ticket/admin/tickets/${selectedTicket.ticketId}/reply`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(payload),\r\n        }\r\n      );\r\n    } catch (err) {\r\n      console.error(\"Status change failed\", err);\r\n    }\r\n  };\r\n\r\n const applyFilters = () => {\r\n  let filtered = [...tickets];\r\n\r\n  if (searchTerm.trim() !== '') {\r\n    const s = searchTerm.toLowerCase();\r\n    filtered = filtered.filter(t =>\r\n      (t.title || \"\").toLowerCase().includes(s) ||\r\n      (t.status || \"\").toLowerCase().includes(s) ||\r\n      (t.priority || \"\").toLowerCase().includes(s)\r\n    );\r\n  }\r\n\r\n \r\n  if (dateFilter !== \"All\") {\r\n    const now = new Date();\r\n\r\n    filtered = filtered.filter(t => {\r\n      const date = new Date(t.sentAt || t.createdAt);\r\n\r\n      if (dateFilter === \"Today\") {\r\n        return date.toDateString() === now.toDateString();\r\n      }\r\n\r\n      if (dateFilter === \"Last 7 days\") {\r\n        const last7 = new Date();\r\n        last7.setDate(now.getDate() - 7);\r\n        return date >= last7 && date <= now;\r\n      }\r\n\r\n      if (dateFilter === \"Last 30 days\") {\r\n        const last30 = new Date();\r\n        last30.setDate(now.getDate() - 30);\r\n        return date >= last30 && date <= now;\r\n      }\r\n\r\n      return true;\r\n    });\r\n  }\r\n\r\n \r\n  filtered.sort(\r\n    (a, b) => new Date(b.sentAt || b.createdAt) - new Date(a.sentAt || a.createdAt)\r\n  );\r\n\r\n  return filtered;\r\n};\r\n\r\n  const filtered = tickets\r\n    .filter(\r\n      (t) =>\r\n        filterStatus === \"all\" ||\r\n        t.status?.toLowerCase() === filterStatus.toLowerCase()\r\n    )\r\n    .filter((t) => {\r\n      const term = searchTerm.toLowerCase();\r\n      if (!term) return true;\r\n      return (\r\n        t.employeeName?.toLowerCase().includes(term) ||\r\n        String(t.employeeId || \"\").toLowerCase().includes(term) ||\r\n        t.priority?.toLowerCase().includes(term) ||\r\n        t.title?.toLowerCase().includes(term) ||\r\n        t.status?.toLowerCase().includes(term)\r\n      );\r\n    })\r\n    .sort((a, b) => new Date(b.sentAt) - new Date(a.sentAt));\r\n\r\n  const sidebarItems = [{ tab: \"My Tickets\", icon: Ticket }];\r\n\r\nconst handleTabClick = (tab) => {\r\n\r\n  const employeeIdToUse = userData?.employeeId || empID;\r\n  \r\n\r\n  \r\n  if (tab === \"My Tickets\") {\r\n    const targetUrl = `/tickets/employee/${employeeIdToUse}`;\r\n    navigate(targetUrl);\r\n  } else {\r\n    setActiveTab(tab);\r\n    setCurrentPage(1);\r\n  }\r\n  \r\n  setIsSidebarCollapsed(true);\r\n};\r\n\r\n  useEffect(() => {\r\n    fetchTickets();\r\n  }, [normalizedRole, empID, currentPage]);\r\n\r\n  useEffect(() => {\r\n    connectWebSocket();\r\n    return () => wsRef.current?.close();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={`flex flex-row min-h-screen ${bgClass}`}>\r\n    \r\n\r\n      <main className=\"flex-1 relative\">\r\n        <div className=\"absolute inset-0 bg-[url('/your-image.jpg')] bg-cover bg-center\">\r\n          <div   className={`w-full h-full ${\r\n              isDark\r\n                ? \"bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900\"\r\n                : \"bg-gradient-to-b from-white/20 via-white/80 to-white\"\r\n            }`}></div>\r\n        </div>\r\n\r\n        <div className=\"relative z-10 px-4\">\r\n          <Filters\r\n            dateFilter={dateFilter}\r\n            setDateFilter={setDateFilter}\r\n            searchTerm={searchTerm}\r\n            setSearchTerm={setSearchTerm}\r\n          />\r\n\r\n      \r\n        {/* üîπ Filters Row with All/Resolved + Sidebar Items */}\r\n<div className=\"flex flex-wrap items-center gap-2 my-3\">\r\n\r\n  {/* All / Resolved buttons */}\r\n  {[\"all\", \"resolved\"].map((status) => (\r\n    <button\r\n      key={status}\r\n      className={`px-4 py-1 rounded-md font-medium border ${\r\n        filterStatus === status ? btnPrimary : `${btnSecondary} border`\r\n      }`}\r\n      onClick={() => {\r\n        setFilterStatus(status);\r\n        setCurrentPage(1);\r\n      }}\r\n    >\r\n      {statusLabels[status]}\r\n    </button>\r\n  ))}\r\n\r\n  {/* Sidebar Items as slider (mobile) */}\r\n  <div className=\"flex-1 overflow-x-auto flex gap-2 sm:hidden\">\r\n    {sidebarItems.map(({ tab, icon: Icon }) => (\r\n      <motion.button\r\n        key={tab}\r\n        onClick={() => handleTabClick(tab)}\r\n        className={`flex items-center gap-2 px-4 py-1 rounded-md font-medium whitespace-nowrap\r\n          ${isDark\r\n            ? sidebarItems === tab\r\n              ? \"bg-blue-600 text-white\"\r\n              : \"bg-gray-800 text-white hover:bg-gray-700\"\r\n            : sidebarItems === tab\r\n              ? \"bg-blue-600 text-white\"\r\n              : \"bg-gray-100 text-black hover:bg-gray-200\"}`}\r\n        whileHover={{ scale: 1.02 }}\r\n      >\r\n        <Icon size={16} />\r\n        {tab}\r\n      </motion.button>\r\n    ))}\r\n  </div>\r\n</div>\r\n\r\n        \r\n\r\n          {error && (\r\n            <div className={`p-2 border rounded mb-4 ${\r\n                isDark ? \"bg-red-900 text-red-200 border-red-700\" : \"bg-red-100 text-red-700 border-red-300\"\r\n              }`}\r\n>\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <TicketStats tickets={tickets} />\r\n\r\n         <div className=\"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n  {applyFilters()\r\n    .filter(\r\n      (t) =>\r\n        filterStatus === \"all\" ||\r\n        t.status?.toLowerCase() === filterStatus.toLowerCase()\r\n    )\r\n    .map((t) => (\r\n      <TicketCard\r\n        key={t.ticketId}\r\n        {...t}\r\n        className={`${cardBg}`}\r\n        onClick={() => {\r\n          setSelectedTicket({\r\n            ...t,\r\n            replies: Array.isArray(t.replies) ? t.replies : [],\r\n          });\r\n          setNewStatus(t.status);\r\n        }}\r\n      />\r\n    ))}\r\n</div>\r\n\r\n\r\n        \r\n          <div className=\"flex justify-center items-center space-x-2 my-6\">\r\n            <button\r\n              onClick={() => setCurrentPage((p) => Math.max(p - 1, 1))}\r\n              disabled={currentPage === 1}\r\n              className=\"px-3 py-1 border rounded disabled:opacity-50\"\r\n            >\r\n              Prev\r\n            </button>\r\n\r\n            {Array.from({ length: pageInfo.totalPages }, (_, i) => i + 1).map(\r\n              (num) => (\r\n                <button\r\n                  key={num}\r\n                  onClick={() => setCurrentPage(num)}\r\n                  className={`px-3 py-1 border rounded ${\r\n                    currentPage === num ? \"bg-blue-600 text-white\" : \"bg-white\"\r\n                  }`}\r\n                >\r\n                  {num}\r\n                </button>\r\n              )\r\n            )}\r\n\r\n            <button\r\n              onClick={() =>\r\n                setCurrentPage((p) => Math.min(p + 1, pageInfo.totalPages))\r\n              }\r\n              disabled={currentPage === pageInfo.totalPages}\r\n              className=\"px-3 py-1 border rounded disabled:opacity-50\"\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {selectedTicket && (\r\n          <TicketModal\r\n            ticket={selectedTicket}\r\n            onClose={() => setSelectedTicket(null)}\r\n            onReply={handleReply}\r\n            replyText={replyText}\r\n            setReplyText={setReplyText}\r\n            newStatus={newStatus}\r\n            setNewStatus={setNewStatus}\r\n            onStatusUpdate={(updatedTicket) => {\r\n              setTickets((prev) =>\r\n                prev.map((t) =>\r\n                  t.ticketId === updatedTicket.ticketId\r\n                    ? { ...t, status: updatedTicket.status }\r\n                    : t\r\n                )\r\n              );\r\n\r\n              setSelectedTicket((prev) =>\r\n                prev ? { ...prev, status: updatedTicket.status } : prev\r\n              );\r\n            }}\r\n          />\r\n        )}\r\n      </main>\r\n\r\n     \r\n<header className=\"sm:hidden relative  px-4 py-3 shadow-md\">\r\n \r\n  <button\r\n    onClick={toggleSidebar}\r\n    className=\"absolute top-2 right-4 p-2 rounded-md hover:bg-gray-200\"\r\n  >\r\n    <FaBars size={18} />\r\n  </button>\r\n</header>\r\n\r\n\r\n\r\n  <aside\r\n        className={`hidden sm:flex flex-col h-screen transition-all duration-200 z-40 ${sidebarBg} ${\r\n          isSidebarCollapsed ? \"w-[60px]\" : \"w-[250px]\"\r\n        }`}\r\n      >\r\n  <div className=\"flex justify-start p-2 items-center\">\r\n    <motion.button\r\n      onClick={toggleSidebar}\r\n      className=\"text-gray-500 hover:text-gray-700 focus:outline-none p-1.5 rounded-full hover:bg-gray-100\"\r\n      transition={{ duration: 0.3 }}\r\n    >\r\n      {isSidebarCollapsed ? <FaArrowRight size={16} /> : <FaArrowLeft size={16} />}\r\n    </motion.button>\r\n  </div>\r\n\r\n {!isSidebarCollapsed && (\r\n  <nav className=\"flex-1 space-y-2 px-2 mt-2\">\r\n    {sidebarItems.map(({ tab, icon: Icon }) => (\r\n      <motion.button\r\n        key={tab}\r\n        className={`w-full text-left py-2 px-2 rounded-md font-medium flex items-center hover:bg-gray-200 ${\r\n          isDark ? \"text-white\" : \"text-black\"\r\n        }`}\r\n        onClick={() => handleTabClick(tab)}\r\n        whileHover={{ x: -3 }}\r\n      >\r\n        <Icon size={16} className=\"mr-2\" />\r\n        <span>{tab}</span>\r\n      </motion.button>\r\n    ))}\r\n  </nav>\r\n)}\r\n</aside>\r\n\r\n\r\n{!isSidebarCollapsed && (\r\n  <div\r\n    className=\"sm:hidden fixed inset-0 bg-black/40 z-40\"\r\n    onClick={toggleSidebar}\r\n  />\r\n)}\r\n\r\n<aside\r\n  className={`sm:hidden fixed top-0 right-0 h-screen transition-transform duration-300 z-50\r\n  ${isSidebarCollapsed ? \"translate-x-full\" : \"translate-x-0\"} w-[250px]\r\n  ${isDark ? \"bg-gray-900 border-gray-700 text-white\" : \"bg-white border-gray-200 text-black\"}`}\r\n>\r\n  \r\n  <div\r\n    className={`flex justify-between p-3 items-center border-b ${\r\n      isDark ? \"border-gray-700 text-white\" : \"border-gray-200 text-black\"\r\n    }`}\r\n  >\r\n   <motion.button\r\n  onClick={() => {\r\n    handleTabClick(\"My Tickets\");\r\n    setIsSidebarCollapsed(true);\r\n  }}\r\n  className={`font-semibold px-3 py-2 mt-8 rounded-md transition flex items-center\r\n    ${isDark ? \"text-white hover:bg-gray-800\" : \"text-black hover:bg-gray-200\"}`}\r\n  whileHover={{ scale: 1.05 }}\r\n>\r\n  <FaTicketAlt size={16} className=\"mr-2\" />\r\n  My Tickets\r\n</motion.button>\r\n\r\n  </div>\r\n\r\n \r\n  <nav className=\"flex flex-col h-full px-2 mt-2\">\r\n    <div className=\"flex-1\" /> \r\n\r\n    {sidebarItems.map(({ tab, icon: Icon }) => (\r\n      <motion.button\r\n        key={tab}\r\n        className={`w-full text-left py-2 px-2 mb-2 rounded-md font-medium flex items-center transition\r\n        ${isDark ? \"text-white hover:bg-gray-800\" : \"text-black hover:bg-gray-200\"}`}\r\n        onClick={() => {\r\n          handleTabClick(tab);\r\n          setIsSidebarCollapsed(true);\r\n        }}\r\n        whileHover={{ x: -3 }}\r\n      >\r\n        <Icon size={16} className=\"mr-2\" />\r\n        <span>{tab}</span>\r\n      </motion.button>\r\n    ))}\r\n  </nav>\r\n</aside>\r\n    </div>\r\n  );\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z',\n      key: 'qn84l0',\n    },\n  ],\n  ['path', { d: 'M13 5v2', key: 'dyzc3o' }],\n  ['path', { d: 'M13 17v2', key: '1ont0d' }],\n  ['path', { d: 'M13 11v2', key: '1wjjxi' }],\n];\n\n/**\n * @component @name Ticket\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMiA5YTMgMyAwIDAgMSAwIDZ2MmEyIDIgMCAwIDAgMiAyaDE2YTIgMiAwIDAgMCAyLTJ2LTJhMyAzIDAgMCAxIDAtNlY3YTIgMiAwIDAgMC0yLTJINGEyIDIgMCAwIDAtMiAyWiIgLz4KICA8cGF0aCBkPSJNMTMgNXYyIiAvPgogIDxwYXRoIGQ9Ik0xMyAxN3YyIiAvPgogIDxwYXRoIGQ9Ik0xMyAxMXYyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/ticket\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Ticket = createLucideIcon('ticket', __iconNode);\n\nexport default Ticket;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n];\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('circle-check', __iconNode);\n\nexport default CircleCheck;\n"],"names":["Filters","_ref","dateFilter","setDateFilter","searchTerm","setSearchTerm","theme","useContext","Context","isDark","_jsxs","className","concat","children","_jsx","htmlFor","id","value","onChange","e","target","type","placeholder","TicketCard","employeeId","employeeName","priority","title","sentAt","status","onClick","priorityColor","High","Medium","Low","statusColor","Pending","Unsolved","Opened","Resolved","dateString","Date","toLocaleString","timeZone","year","month","day","hour","minute","second","hour12","formatToIST","TicketModal","ticket","onClose","replyText","setReplyText","roles","onStatusUpdate","showChat","setShowChat","useState","replies","setReplies","loading","setLoading","messageSent","setMessageSent","messagesEndRef","useRef","socketRef","newStatus","setNewStatus","page","setPage","hasMore","setHasMore","chatContainerRef","matchedArray","setMatchedArray","prevScrollHeight","loadingOlder","setLoadingOlder","formatChatTimeIST","endsWith","toLocaleTimeString","groupedReplies","useMemo","groups","sort","a","b","repliedAt","forEach","msg","dateLabel","date","d","today","yesterday","setDate","getDate","toDateString","toLocaleDateString","formatDate","push","useEffect","_messagesEndRef$curre","current","scrollIntoView","behavior","ticketId","close","token","localStorage","getItem","ws","WebSocket","onopen","console","log","onmessage","event","JSON","parse","data","prev","some","m","error","onerror","err","onclose","fetchReplies","async","pageNum","arguments","length","undefined","_response$data","container","scrollHeight","response","axios","get","headers","Authorization","params","size","messagesArray","Array","isArray","content","perms","newScrollHeight","scrollTop","handleScroll","addEventListener","removeEventListener","handleReply","trim","payload","repliedBy","toUpperCase","toISOString","put","setTimeout","_error$response","message","bgColor","chatBg","chatAltBg","borderColor","_Fragment","ref","Object","keys","map","idx","onKeyDown","key","shiftKey","preventDefault","rows","role","replace","description","res","_err$response","disabled","TicketStats","tickets","total","resolved","filter","t","unsolved","cardBase","textMuted","textPrimary","Ticket","CheckCircle2","AlertTriangle","TicketDashboard","empID","useParams","setTickets","filterStatus","setFilterStatus","selectedTicket","setSelectedTicket","setError","messages","setMessages","isSidebarCollapsed","setIsSidebarCollapsed","activeTab","setActiveTab","userData","pageInfo","setPageInfo","totalPages","totalElements","currentPage","setCurrentPage","wsRef","navigate","useNavigate","rawRole","normalizedRole","startsWith","statusLabels","all","connectWebSocket","socket","updateTicketReplies","warn","replyDTO","_objectSpread","toggleSidebar","bgClass","cardBg","sidebarBg","btnPrimary","btnSecondary","sidebarItems","_t$status","toLowerCase","_t$employeeName","_t$priority","_t$title","_t$status2","term","includes","String","tab","icon","handleTabClick","employeeIdToUse","targetUrl","Error","ticketsApi","fetchTickets","_wsRef$current2","Icon","motion","button","whileHover","scale","applyFilters","filtered","s","now","createdAt","last7","last30","_t$status3","p","Math","max","from","_","i","num","min","onReply","_wsRef$current","fetch","method","body","stringify","readyState","OPEN","send","updatedTicket","FaBars","transition","duration","FaArrowRight","FaArrowLeft","_ref2","x","FaTicketAlt","_ref3","createLucideIcon","CircleCheck","cx","cy","r"],"sourceRoot":""}