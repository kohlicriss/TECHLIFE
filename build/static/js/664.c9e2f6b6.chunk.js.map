{"version":3,"file":"static/js/664.c9e2f6b6.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Notifications/NotificationSystem.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback, useContext, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Context } from '../HrmsContext';\r\nimport { notificationsApi } from '../../../../axiosInstance';\r\nimport {\r\n    FaBars, FaTimes, FaSearch, FaEnvelope, FaStar, FaInbox, FaFilter, FaCalendar,\r\n    FaExclamationTriangle, FaInfoCircle, FaTimesCircle, FaCheckCircle, FaEraser,\r\n    FaTrashAlt, FaSync\r\n} from \"react-icons/fa\";\r\nimport { parseISO, formatDistanceToNow, format, add } from \"date-fns\";\r\nimport { formatInTimeZone } from \"date-fns-tz\";\r\n\r\nconst NotificationSystem = () => {\r\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n    const [activeTab, setActiveTab] = useState(\"All\");\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n    const [isEditMode, setIsEditMode] = useState(false);\r\n    const [selectedNotifications, setSelectedNotifications] = useState([]);\r\n    const [fromDate, setFromDate] = useState(null);\r\n    const [toDate, setToDate] = useState(null);\r\n\r\n    const navigate = useNavigate();\r\n    const { gdata, setGdata, markAsRead, decrementUnreadCount, theme,\r\n            notificationPageNumber, setNotificationPageNumber,\r\n            notificationPageSize, hasMoreNotifications } = useContext(Context);\r\n\r\n    const [isLoadingMore, setIsLoadingMore] = useState(false);\r\n    const listRef = useRef(null);\r\n    const fromDateRef = useRef(null);\r\n    const toDateRef = useRef(null);\r\n\r\n    const toggleMobileMenu = () => setIsMobileMenuOpen(!isMobileMenuOpen);\r\n\r\n    const loadMore = useCallback(() => {\r\n        if (isLoadingMore || !hasMoreNotifications) return;\r\n        setIsLoadingMore(true);\r\n        setNotificationPageNumber(prevPage => prevPage + 1);\r\n    }, [isLoadingMore, hasMoreNotifications, setNotificationPageNumber]);\r\n\r\n    useEffect(() => {\r\n        const listEl = listRef.current;\r\n        if (!listEl) return;\r\n        const handleScroll = () => {\r\n            const { scrollTop, scrollHeight, clientHeight } = listEl;\r\n            if (scrollTop + clientHeight >= scrollHeight - 150) {\r\n                loadMore();\r\n            }\r\n        };\r\n        listEl.addEventListener('scroll', handleScroll);\r\n        return () => listEl.removeEventListener('scroll', handleScroll);\r\n    }, [loadMore]);\r\n\r\n    useEffect(() => {\r\n        if (isLoadingMore) {\r\n            const timer = setTimeout(() => {\r\n                setIsLoadingMore(false);\r\n            }, 100);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [gdata, hasMoreNotifications, isLoadingMore]);\r\n\r\n    const handleTabClick = (tabName) => {\r\n        setActiveTab(tabName);\r\n        setIsEditMode(false);\r\n        setSelectedNotifications([]);\r\n        if (isMobileMenuOpen) setIsMobileMenuOpen(false);\r\n    };\r\n\r\n    const handleEditClick = () => {\r\n        setIsEditMode(true);\r\n        setSelectedNotifications([]);\r\n    };\r\n\r\n    const handleCancelEdit = () => {\r\n        setIsEditMode(false);\r\n        setSelectedNotifications([]);\r\n    };\r\n\r\n    const clearFilters = () => {\r\n        setFromDate(null);\r\n        setToDate(null);\r\n        setSearchQuery(\"\");\r\n        setActiveTab(\"All\");\r\n    };\r\n\r\n    const getKindIcon = (kind) => {\r\n        const icons = {\r\n            alert: <FaTimesCircle size={18} className=\"text-red-500\" />,\r\n            warning: <FaExclamationTriangle size={18} className=\"text-yellow-500\" />,\r\n            update: <FaInfoCircle size={18} className=\"text-blue-500\" />,\r\n        };\r\n        return icons[kind] || <FaInfoCircle size={18} className=\"text-gray-400\" />;\r\n    };\r\n\r\n    const handleStar = async (id) => {\r\n        if (isEditMode) {\r\n            handleSelectNotification(id);\r\n            return;\r\n        }\r\n        const originalGdata = [...gdata];\r\n        const updatedGdata = gdata.map((msg) => msg.id === id ? { ...msg, stared: !msg.stared } : msg);\r\n        setGdata(updatedGdata);\r\n        try {\r\n            const notificationToUpdate = gdata.find((msg) => msg.id === id);\r\n            if (notificationToUpdate.stared) {\r\n                await notificationsApi.put(`/unStar/${id}`);\r\n            } else {\r\n                await notificationsApi.put(`/stared/${id}`);\r\n            }\r\n        } catch {\r\n            setGdata(originalGdata);\r\n        }\r\n    };\r\n\r\n    const handleDeleteSingle = async (id) => {\r\n        if (isEditMode) {\r\n            handleSelectNotification(id);\r\n            return;\r\n        }\r\n        const originalGdata = [...gdata];\r\n        const notificationToDelete = gdata.find((msg) => msg.id === id);\r\n        setGdata(gdata.filter((msg) => msg.id !== id));\r\n        if (notificationToDelete && !notificationToDelete.read) {\r\n            decrementUnreadCount();\r\n        }\r\n        try {\r\n            await notificationsApi.delete(`/delete/${id}`);\r\n        } catch {\r\n            setGdata(originalGdata);\r\n        }\r\n    };\r\n\r\n    const handleSelectNotification = (id) => {\r\n        setSelectedNotifications((prev) =>\r\n            prev.includes(id) ? prev.filter((selId) => selId !== id) : [...prev, id]\r\n        );\r\n    };\r\n\r\n    const handleNotificationClick = (message) => {\r\n        if (isEditMode) {\r\n            handleSelectNotification(message.id);\r\n        } else if (message.link) {\r\n            markAsRead(message.id);\r\n            navigate(message.link);\r\n        }\r\n    };\r\n\r\n    const handleDeleteSelected = async () => {\r\n        const originalGdata = [...gdata];\r\n        const idsToDelete = selectedNotifications;\r\n        const unreadDeletedCount = gdata.filter(msg => idsToDelete.includes(msg.id) && !msg.read).length;\r\n        setGdata(gdata.filter((msg) => !idsToDelete.includes(msg.id)));\r\n        setIsEditMode(false);\r\n        setSelectedNotifications([]);\r\n        for (let i = 0; i < unreadDeletedCount; i++) {\r\n            decrementUnreadCount();\r\n        }\r\n        try {\r\n            await Promise.all(idsToDelete.map(id => notificationsApi.delete(`/delete/${id}`)));\r\n        } catch {\r\n            setGdata(originalGdata);\r\n        }\r\n    };\r\n\r\n    // ONLY CHANGE: add 5h30m before formatting\r\n    const addOffset = (isoString) => {\r\n        try {\r\n            const dt = parseISO(isoString);\r\n            if (isNaN(dt)) return null;\r\n            return add(dt, { hours: 5, minutes: 30 });\r\n        } catch {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const getTimeAgo = (date) => {\r\n        try {\r\n            const shifted = addOffset(date);\r\n            if (!shifted) return \"\";\r\n            return formatDistanceToNow(shifted, { addSuffix: true });\r\n        } catch {\r\n            return \"\";\r\n        }\r\n    };\r\n\r\n    const getTimestamp = (dateString) => {\r\n        try {\r\n            const shifted = addOffset(dateString);\r\n            if (!shifted) return \"\";\r\n            return formatInTimeZone(shifted, \"Asia/Kolkata\", \"MMM d, h:mm a\");\r\n        } catch {\r\n            return \"\";\r\n        }\r\n    };\r\n\r\n    const filteredNotifications = useMemo(() => {\r\n        let filtered = gdata || [];\r\n        const lowerCaseQuery = searchQuery.toLowerCase();\r\n\r\n        if (activeTab === \"Unread\") filtered = filtered.filter((msg) => !msg.read);\r\n        else if (activeTab === \"Starred\") filtered = filtered.filter((msg) => msg.stared);\r\n\r\n        if (searchQuery) {\r\n            filtered = filtered.filter( (msg) =>\r\n                msg.message?.toLowerCase().includes(lowerCaseQuery) ||\r\n                msg.subject?.toLowerCase().includes(lowerCaseQuery) ||\r\n                msg.sender?.toLowerCase().includes(lowerCaseQuery)\r\n            );\r\n        }\r\n\r\n        if (fromDate) {\r\n            const fromDateObj = parseISO(fromDate);\r\n            filtered = filtered.filter((msg) => parseISO(msg.createdAt) >= fromDateObj);\r\n        }\r\n\r\n        if (toDate) {\r\n            const toDateObj = parseISO(toDate);\r\n            const adjustedToDateObj = new Date(toDateObj);\r\n            adjustedToDateObj.setDate(adjustedToDateObj.getDate() + 1);\r\n            filtered = filtered.filter((msg) => parseISO(msg.createdAt) < adjustedToDateObj);\r\n        }\r\n\r\n        return filtered;\r\n    }, [gdata, activeTab, searchQuery, fromDate, toDate]);\r\n\r\n    const hasActiveFilters = useMemo(() => {\r\n        return (\r\n            searchQuery !== \"\" || \r\n            activeTab !== \"All\" || \r\n            fromDate !== null || \r\n            toDate !== null\r\n        );\r\n    }, [searchQuery, activeTab, fromDate, toDate]);\r\n\r\n    const topBarVariants = {\r\n        hidden: { y: -50, opacity: 0 },\r\n        visible: { y: 0, opacity: 1, transition: { type: \"spring\", stiffness: 100, damping: 10 }},\r\n    };\r\n\r\n    const buttonVariants = { hover: { scale: 1.05 }, tap: { scale: 0.95 } };\r\n\r\n    return (\r\n        <div className={`w-full h-[90vh] flex flex-col ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n            <motion.div\r\n                className={`flex-shrink-0 shadow-sm border-b z-20 w-full ${theme === 'dark' ? 'bg-black border-gray-700' : 'bg-white border-gray-200'}`}\r\n                initial=\"hidden\"\r\n                animate=\"visible\"\r\n                variants={topBarVariants}\r\n            >\r\n                <div className={`sm:hidden py-2 flex items-center justify-between px-3 h-[50px] ${theme === 'dark' ? 'bg-black' : 'bg-white'}`}>\r\n                    <motion.button onClick={toggleMobileMenu} className={`${theme === 'dark' ? 'text-white hover:text-gray-300' : 'text-gray-600 hover:text-gray-800'}`} whileHover={{ scale: 1.1 }} whileTap={{ scale: 0.95 }}>\r\n                        <FaBars size={18} />\r\n                    </motion.button>\r\n                    <div className=\"relative flex-1 mx-3\">\r\n                        <FaSearch className={`absolute left-3.5 top-1/2 transform -translate-y-1/2 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} size={14}/>\r\n                        <input type=\"text\" placeholder=\"Search...\" className={`w-full pl-10 pr-4 py-2 text-sm rounded-full border focus:ring-2 focus:ring-indigo-200 h-[40px] ${ theme === 'dark' ? 'border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:bg-gray-700 focus:border-indigo-500' : 'border-gray-200 bg-gray-50 text-black placeholder-gray-500 focus:bg-white focus:border-indigo-500'}`} value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"hidden sm:flex items-center space-x-4 py-2 px-4 h-[60px]\">\r\n                    <div className={`flex space-x-1 p-1 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\r\n                        {[\"All\", \"Unread\", \"Starred\"].map((tab) => (\r\n                            <motion.button key={tab} style={{ borderRadius: \"20px\" }} onClick={() => handleTabClick(tab)} className={`py-1 px-3 text-sm font-medium flex items-center transition-colors ${ activeTab === tab ? \"bg-blue-600 text-white rounded-md\" : theme === 'dark' ? \"text-gray-300 hover:text-white\" : \"text-gray-600 hover:text-gray-800\"}`} whileHover={{ scale: 1.03 }} whileTap={{ scale: 0.97 }}>\r\n                                {tab === \"All\" && <FaInbox className=\"mr-1.5\" size={14} />}\r\n                                {tab === \"Unread\" && <FaEnvelope className=\"mr-1.5\" size={14} />}\r\n                                {tab === \"Starred\" && <FaStar className=\"mr-1.5\" size={14} />}\r\n                                {tab}\r\n                            </motion.button>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"relative flex-1\">\r\n                        <FaSearch className={`absolute left-4 top-1/2 transform -translate-y-1/2 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} size={15}/>\r\n                        <input type=\"text\" placeholder=\"Search notifications...\" className={`w-full h-[36px] pl-10 pr-4 text-sm rounded-lg border focus:ring-1 focus:ring-indigo-200 ${theme === 'dark' ? 'border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:bg-gray-700 focus:border-indigo-500' : 'border-gray-200 bg-white text-black placeholder-gray-500 focus:bg-white focus:border-indigo-500'}`} value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                        <button onClick={() => fromDateRef.current?.showPicker()} className={`flex items-center space-x-2 h-[36px] px-3 text-sm rounded-lg border transition-colors ${theme === 'dark' ? 'border-gray-600 bg-gray-800 text-gray-300 hover:bg-gray-700' : 'border-gray-200 bg-white text-gray-600 hover:bg-gray-50'}`}>\r\n                            <span>From</span>\r\n                            <FaCalendar className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} size={14} />\r\n                        </button>\r\n                        <input ref={fromDateRef} type=\"date\" className=\"sr-only\" value={fromDate || \"\"} onChange={(e) => setFromDate(e.target.value)}/>\r\n                        <button onClick={() => toDateRef.current?.showPicker()} className={`flex items-center space-x-2 h-[36px] px-3 text-sm rounded-lg border transition-colors ${theme === 'dark' ? 'border-gray-600 bg-gray-800 text-gray-300 hover:bg-gray-700' : 'border-gray-200 bg-white text-gray-600 hover:bg-gray-50'}`}>\r\n                            <span>To</span>\r\n                            <FaCalendar className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} size={14} />\r\n                        </button>\r\n                        <input ref={toDateRef} type=\"date\" className=\"sr-only\" value={toDate || \"\"} onChange={(e) => setToDate(e.target.value)}/>\r\n                        <button onClick={clearFilters} className={`flex items-center justify-center h-[36px] w-[36px] text-sm rounded-lg border transition-colors ${theme === 'dark' ? 'border-gray-600 bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-red-400' : 'border-gray-200 bg-white text-gray-500 hover:bg-gray-50 hover:text-red-500'}`} title=\"Clear Filters\">\r\n                            <FaTimes size={14} />\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"flex items-center\">\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            {!isEditMode ? (\r\n                                <motion.button style={{ borderRadius: \"8px\" }} onClick={handleEditClick} className=\"py-1 px-2 text-xs font-medium text-red-700 bg-red-100 hover:bg-red-200 rounded-md flex items-center\" variants={buttonVariants} whileHover=\"hover\" whileTap=\"tap\">\r\n                                    <FaEraser className=\"mr-1\" size={12} />Edit\r\n                                </motion.button>\r\n                            ) : (\r\n                                <>\r\n                                    <motion.button onClick={handleCancelEdit} style={{ borderRadius: \"10px\" }} className={`py-1.5 px-3 text-sm font-medium rounded-lg flex items-center ${theme === 'dark' ? 'text-gray-300 bg-gray-700 hover:bg-gray-600' : 'text-gray-700 bg-gray-200 hover:bg-gray-300'}`} variants={buttonVariants} whileHover=\"hover\" whileTap=\"tap\">Cancel</motion.button>\r\n                                    <motion.button onClick={handleDeleteSelected} style={{ borderRadius: \"10px\" }} className=\"py-1.5 px-3 text-sm font-medium text-white bg-blue-600 hover:bg-red-700 rounded-lg flex items-center\" variants={buttonVariants} whileHover=\"hover\" whileTap=\"tap\">\r\n                                        <FaTrashAlt className=\"mr-1.5\" size={12} />Delete\r\n                                    </motion.button>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </motion.div>\r\n\r\n            <div ref={listRef} className={`flex-1 overflow-y-auto ${!isLoadingMore && filteredNotifications?.length === 0 ? 'flex items-center justify-center' : ''}`}>\r\n                {filteredNotifications?.length > 0 ? (\r\n                    <div className=\"p-2 notifications-list\">\r\n                        {filteredNotifications.map((message) => (\r\n                            <motion.div\r\n                                key={message.id}\r\n                                className={`rounded-lg shadow-sm border mb-1.5 cursor-pointer overflow-hidden relative ${selectedNotifications.includes(message.id) ? \"border-indigo-400 ring-2 ring-indigo-200\" : theme === 'dark' ? \"border-gray-700\" : \"border-gray-200\"} ${!message.read ? (theme === 'dark' ? \"bg-gradient-to-r from-gray-800 to-gray-700\" : \"bg-gradient-to-r from-indigo-50 to-purple-50\") : (theme === 'dark' ? \"bg-gray-800\" : \"bg-white\")}`}\r\n                                onClick={() => handleNotificationClick(message)}\r\n                                whileHover={{ y: -2, boxShadow: \"0 4px 10px rgba(0,0,0,0.08)\" }}\r\n                                transition={{ duration: 0.15 }}\r\n                            >\r\n                                <div className=\"sm:hidden flex flex-col p-2.5\">\r\n                                    <div className=\"flex items-start\">\r\n                                        <div className=\"pr-3 pt-1\">{isEditMode ? (<FaCheckCircle size={18} className={ selectedNotifications.includes(message.id) ? \"text-indigo-600\" : \"text-gray-300\" }/>) : ( getKindIcon(message.kind) )}</div>\r\n                                        <div className=\"flex-1 overflow-hidden pr-8\">\r\n                                            <div className={`font-semibold text-sm truncate ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>{message.subject}</div>\r\n                                            <div className={`text-xs mt-1 truncate ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{message.message}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={`flex justify-between items-center mt-2 pt-2 border-t ${theme === 'dark' ? 'border-gray-600' : 'border-gray-200/80'}`}>\r\n                                        <div className=\"flex flex-col items-start\">\r\n                                            <div className=\"text-xs font-medium text-indigo-600 bg-indigo-100 px-2 py-0.5 rounded-full\">{message.category}</div>\r\n                                            <div className={`font-bold text-xs mt-1 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>{message.sender}</div>\r\n                                        </div>\r\n                                        <div className=\"flex flex-col items-end text-xs\">\r\n                                            <span className={`font-semibold ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{getTimeAgo(message.createdAt)}</span>\r\n                                            <span className={`mt-0.5 ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>{getTimestamp(message.createdAt)}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"absolute top-2.5 right-2.5 flex flex-col items-center justify-center space-y-3\">\r\n                                        <FaStar size={16} className={`cursor-pointer transition-colors ${message.stared ? \"text-yellow-400\" : \"text-gray-300 hover:text-yellow-400\"}`} onClick={(e) => { e.stopPropagation(); handleStar(message.id); }}/>\r\n                                        <FaTrashAlt size={15} className=\"cursor-pointer text-gray-300 hover:text-red-500 transition-colors\" onClick={(e) => { e.stopPropagation(); handleDeleteSingle(message.id); }}/>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"hidden sm:flex items-center w-full h-[90px] p-2\">\r\n                                    <div className=\"px-2\">{isEditMode ? (<FaCheckCircle size={18} className={ selectedNotifications.includes(message.id) ? \"text-indigo-600\" : \"text-gray-300\" }/>) : ( getKindIcon(message.kind) )}</div>\r\n                                    <div className=\"flex-1 flex flex-col justify-center overflow-hidden h-full pl-3\">\r\n                                        <div className={`font-semibold text-sm truncate ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>{message.subject}</div>\r\n                                        <div className={`text-xs mt-1 truncate ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{message.message}</div>\r\n                                    </div>\r\n                                    <div className=\"flex flex-col items-start justify-center px-4 w-48 h-full shrink-0\">\r\n                                        <div className={`font-bold text-sm truncate w-full ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>{message.sender}</div>\r\n                                        <div className=\"text-xs font-medium text-indigo-600 mt-1\">{message.category}</div>\r\n                                    </div>\r\n                                    <div className=\"flex flex-col items-end justify-center px-4 w-40 text-right h-full shrink-0\">\r\n                                        <div className={`text-xs font-semibold ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{getTimeAgo(message.createdAt)}</div>\r\n                                        <div className={`text-xs mt-1 ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>{getTimestamp(message.createdAt)}</div>\r\n                                    </div>\r\n                                    <div className=\"flex flex-col items-center justify-center space-y-3 px-4\">\r\n                                        <motion.div whileHover={{ scale: 1.2 }} whileTap={{ scale: 0.9 }}>\r\n                                            <FaStar size={16} className={`cursor-pointer transition-colors ${message.stared ? \"text-yellow-400\" : \"text-gray-300 hover:text-yellow-400\"}`} onClick={(e) => { e.stopPropagation(); handleStar(message.id); }}/>\r\n                                        </motion.div>\r\n                                        <motion.div whileHover={{ scale: 1.2 }} whileTap={{ scale: 0.9 }}>\r\n                                            <FaTrashAlt size={15} className=\"cursor-pointer text-gray-300 hover:text-red-500 transition-colors\" onClick={(e) => { e.stopPropagation(); handleDeleteSingle(message.id); }}/>\r\n                                        </motion.div>\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n                        ))}\r\n                        {isLoadingMore && (\r\n                            <div className={`text-center py-4 flex justify-center items-center space-x-2 ${ theme === 'dark' ? 'text-gray-400' : 'text-gray-600' }`}>\r\n                                <FaSync size={16} className=\"text-blue-500 animate-spin\" style={{ animation: 'spin 1s linear infinite' }}/>\r\n                                <span>Loading more...</span>\r\n                            </div>\r\n                        )}\r\n                        {!hasMoreNotifications && (<div className={`text-center py-4 ${ theme === 'dark' ? 'text-gray-500' : 'text-gray-500' }`}>No more notifications.</div>)}\r\n                    </div>\r\n                ) : (\r\n                    !isLoadingMore && (\r\n                        <div className=\"p-2 notifications-list w-full\">\r\n                            <div className=\"flex flex-col items-center text-center p-4\">\r\n                                {hasActiveFilters ? (\r\n                                    <>\r\n                                        <FaSearch size={48} className={`mb-4 ${theme === 'dark' ? 'text-indigo-400' : 'text-indigo-600'}`} />\r\n                                        <h3 className={`text-xl font-semibold ${ theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>No Matches Found</h3>\r\n                                        <p className={`mt-1 text-sm ${ theme === 'dark' ? 'text-gray-400' : 'text-gray-500' }`}>Try adjusting your filters or clearing the search query.</p>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <FaCheckCircle size={48} className=\"mb-4 text-green-500\" />\r\n                                        <h3 className={`text-xl font-semibold ${ theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>You're All Caught Up!</h3>\r\n                                        <p className={`mt-1 text-sm ${ theme === 'dark' ? 'text-gray-400' : 'text-gray-500' }`}>No notifications to show.</p>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                )}\r\n            </div>\r\n\r\n            <AnimatePresence>\r\n                {isMobileMenuOpen && (\r\n                    <>\r\n                        <motion.div key=\"overlay\" className=\"fixed inset-0 backdrop-blur-sm bg-opacity-50 z-30 sm:hidden\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} onClick={() => setIsMobileMenuOpen(false)}/>\r\n                        <motion.div key=\"sidebar\" className={`fixed top-0 left-0 h-full w-3/4 max-w-sm z-40 sm:hidden flex flex-col ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`} initial={{ x: \"-100%\" }} animate={{ x: 0 }} exit={{ x: \"-100%\" }} transition={{ type: \"tween\", ease: \"easeInOut\", duration: 0.3 }}>\r\n                            <div className={`flex items-center justify-between p-4 border-b ${theme === 'dark' ? 'border-gray-700' : 'border-gray-200'}`}>\r\n                                <h5 className={`font-bold text-lg ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Filters & Actions</h5>\r\n                                <motion.button onClick={() => setIsMobileMenuOpen(false)} whileHover={{ scale: 1.1, rotate: 90 }} whileTap={{ scale: 0.9 }}>\r\n                                    <FaTimes size={20} className={`${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`} />\r\n                                </motion.button>\r\n                            </div>\r\n                            <div className=\"flex-1 overflow-y-auto\">\r\n                                <div className={`flex border-b h-12 ${theme === 'dark' ? 'border-gray-700' : 'border-gray-200'}`}>\r\n                                    {[\"All\", \"Unread\", \"Starred\"].map((tab) => (<button key={tab} onClick={() => handleTabClick(tab)} className={`flex-1 h-full py-3 text-sm font-medium transition-colors ${activeTab === tab ? \"bg-indigo-50 text-indigo-600\" : (theme === 'dark' ? \"text-gray-300 hover:bg-gray-700\" : \"text-gray-500 hover:bg-gray-50\")}`}>{tab}</button>))}\r\n                                </div>\r\n                                <div className=\"p-4 space-y-4\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <h6 className={`text-sm font-semibold flex items-center ${theme === 'dark' ? 'text-gray-300' : 'text-gray-500'}`}><FaFilter className=\"inline-block mr-2\" size={12} />Filters</h6>\r\n                                        <button onClick={clearFilters} className={`py-1 px-3 text-xs font-medium rounded-md ${theme === 'dark' ? 'text-gray-300 bg-gray-700 hover:bg-gray-600' : 'text-gray-700 bg-gray-100 hover:bg-gray-200'}`}>Clear All</button>\r\n                                    </div>\r\n                                    <div className=\"grid grid-cols-2 gap-3 pt-2\">\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <button onClick={() => fromDateRef.current?.showPicker()} className={`p-2 text-sm rounded-md border ${theme === 'dark' ? 'border-gray-600 bg-gray-700' : 'border-gray-300 bg-white'}`}><FaCalendar className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} size={14} /></button>\r\n                                            <span className={`text-xs w-20 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>{fromDate ? format(parseISO(fromDate), \"MMM d, yyyy\") : \"From Date\"}</span>\r\n                                            <input ref={fromDateRef} type=\"date\" className=\"sr-only\" value={fromDate || \"\"} onChange={(e) => setFromDate(e.target.value)}/>\r\n                                        </div>\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <button onClick={() => toDateRef.current?.showPicker()} className={`p-2 text-sm rounded-md border ${theme === 'dark' ? 'border-gray-600 bg-gray-700' : 'border-gray-300 bg-white'}`}><FaCalendar className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} size={14} /></button>\r\n                                            <span className={`text-xs w-20 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>{toDate ? format(parseISO(toDate), \"MMM d, yyyy\") : \"To Date\"}</span>\r\n                                            <input ref={toDateRef} type=\"date\" className=\"sr-only\" value={toDate || \"\"} onChange={(e) => setToDate(e.target.value)}/>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex space-x-2 pt-4\">\r\n                                        {!isEditMode ? (<button onClick={handleEditClick} className={`flex-1 py-2 px-3 text-sm font-medium rounded-lg ${theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-gray-100 hover:bg-gray-200 text-gray-800'}`}>Edit</button>) : (<>\r\n                                            <button onClick={handleCancelEdit} className={`flex-1 py-2 px-3 text-sm font-medium rounded-lg ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-300' : 'bg-gray-200 hover:bg-gray-300 text-gray-800'}`}>Cancel</button>\r\n                                            <button onClick={handleDeleteSelected} className=\"flex-1 py-2 px-3 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-lg\">Delete</button>\r\n                                        </>)}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </motion.div>\r\n                    </>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NotificationSystem;\r\n"],"names":["NotificationSystem","isMobileMenuOpen","setIsMobileMenuOpen","useState","activeTab","setActiveTab","searchQuery","setSearchQuery","isEditMode","setIsEditMode","selectedNotifications","setSelectedNotifications","fromDate","setFromDate","toDate","setToDate","navigate","useNavigate","gdata","setGdata","markAsRead","decrementUnreadCount","theme","notificationPageNumber","setNotificationPageNumber","notificationPageSize","hasMoreNotifications","useContext","Context","isLoadingMore","setIsLoadingMore","listRef","useRef","fromDateRef","toDateRef","loadMore","useCallback","prevPage","useEffect","listEl","current","handleScroll","scrollTop","scrollHeight","clientHeight","addEventListener","removeEventListener","timer","setTimeout","clearTimeout","handleTabClick","tabName","handleEditClick","handleCancelEdit","clearFilters","getKindIcon","kind","alert","_jsx","FaTimesCircle","size","className","warning","FaExclamationTriangle","update","FaInfoCircle","handleStar","async","handleSelectNotification","id","originalGdata","updatedGdata","map","msg","_objectSpread","stared","find","notificationsApi","put","concat","_unused","handleDeleteSingle","notificationToDelete","filter","read","delete","_unused2","prev","includes","selId","handleDeleteSelected","idsToDelete","unreadDeletedCount","length","i","Promise","all","_unused3","addOffset","isoString","dt","parseISO","isNaN","add","hours","minutes","_unused4","getTimeAgo","date","shifted","formatDistanceToNow","addSuffix","_unused5","getTimestamp","dateString","formatInTimeZone","_unused6","filteredNotifications","useMemo","filtered","lowerCaseQuery","toLowerCase","_msg$message","_msg$subject","_msg$sender","message","subject","sender","fromDateObj","createdAt","toDateObj","adjustedToDateObj","Date","setDate","getDate","hasActiveFilters","buttonVariants","hover","scale","tap","_jsxs","children","motion","div","initial","animate","variants","hidden","y","opacity","visible","transition","type","stiffness","damping","button","onClick","toggleMobileMenu","whileHover","whileTap","FaBars","FaSearch","placeholder","value","onChange","e","target","tab","style","borderRadius","FaInbox","FaEnvelope","FaStar","_fromDateRef$current","showPicker","FaCalendar","ref","_toDateRef$current","title","FaTimes","_Fragment","FaTrashAlt","FaEraser","link","handleNotificationClick","boxShadow","duration","FaCheckCircle","category","stopPropagation","FaSync","animation","AnimatePresence","exit","x","ease","rotate","FaFilter","_fromDateRef$current2","format","_toDateRef$current2"],"sourceRoot":""}