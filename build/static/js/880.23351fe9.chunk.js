"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[880],{2397:(e,t,a)=>{a.d(t,{Pt:()=>d,bI:()=>n,qB:()=>m,vx:()=>x,yE:()=>c});var r=a(6213);let s=!1,i=[];const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i.forEach(a=>{e?a.reject(e):a.resolve(t)}),i=[]},o=e=>{const t=r.A.create({baseURL:e});return t.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),t.interceptors.response.use(e=>e,async a=>{var n;const c=a.config;if(401===(null===(n=a.response)||void 0===n?void 0:n.status)&&!c._retry){if(s)return new Promise((e,t)=>{i.push({resolve:e,reject:t})}).then(e=>(c.headers.Authorization=`Bearer ${e}`,t(c))).catch(e=>Promise.reject(e));c._retry=!0,s=!0;const a=localStorage.getItem("accessToken");console.log(`\ud83d\udd34 Token expired for ${e}. Old Token:`,a);try{const t=await r.A.post("http://hrms.anasolconsultancyservices.com/api/auth/refresh-token",{},{withCredentials:!0}),{accessToken:a}=t.data;localStorage.setItem("accessToken",a),console.log(`\ud83d\udfe2 New Token for ${e}:`,a),c.data instanceof FormData&&(c.data=function(e){const t=new FormData;for(let[a,r]of e.entries())t.append(a,r);return t}(c.data)),l(null,a);const s=o(e);return c.headers.Authorization=`Bearer ${a}`,s(c)}catch(d){return console.error("Refresh token failed. Logging out.",d),localStorage.clear(),window.location.href="/login",l(d),Promise.reject(d)}finally{s=!1}}return Promise.reject(a)}),t};window.addEventListener("storage",e=>{"accessToken"===e.key&&console.log("\ud83d\udd04 Token updated in another tab:",e.newValue)});const n=o("http://hrms.anasolconsultancyservices.com/api"),c=o("http://hrms.anasolconsultancyservices.com/api"),d=o("http://hrms.anasolconsultancyservices.com/api"),x=o("http://hrms.anasolconsultancyservices.com/api/notification"),m=o("http://localhost:8088/api/ticket")},4880:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var r=a(5043),s=a(3721),i=a(9910),l=a(5440),o=a(5200),n=a(2397),c=a(579);const d=e=>{if(!e)return"";const t=e.split(" ");return t.length>1?(t[0][0]+t[t.length-1][0]).toUpperCase():t[0][0].toUpperCase()},x=e=>{let{icon:t,label:a,value:r,isMail:s=!1,theme:i}=e;return(0,c.jsxs)(l.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.4},className:"flex items-start space-x-4",children:[(0,c.jsx)("div",{className:"mt-1 "+("dark"===i?"text-gray-400":"text-gray-600"),children:t}),(0,c.jsxs)("div",{className:"flex-grow",children:[(0,c.jsx)("p",{className:"text-xs uppercase "+("dark"===i?"text-gray-400":"text-gray-500"),children:a}),s?(0,c.jsx)("a",{href:`mailto:${r}`,className:"font-semibold transition-colors "+("dark"===i?"text-white hover:text-red-400":"text-gray-900 hover:text-red-500"),children:r||"N/A"}):(0,c.jsx)("p",{className:"font-semibold "+("dark"===i?"text-white":"text-gray-900"),children:r||"N/A"})]})]})},m=()=>{var e,t;const{empID:a,employeeID:m}=(0,s.g)(),h=(0,s.Zp)(),{theme:y}=(0,r.useContext)(i.o),[p,g]=(0,r.useState)(null),[u,j]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{if(!m)return void j(!1);(async()=>{j(!0);try{let e=await n.yE.get(`employee/public/${m}/details`);console.log("Employee details:",e.data),g(e.data)}catch(e){console.error("Failed to fetch employee details:",e),g(null)}finally{j(!1)}})()},[m]),u?(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center "+("dark"===y?"bg-gray-900":"bg-white"),children:(0,c.jsx)("p",{className:"text-xl font-mono animate-pulse "+("dark"===y?"text-white":"text-gray-800"),children:"LOADING..."})}):p?(0,c.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen font-sans p-4 sm:p-8 "+("dark"===y?"bg-gray-900 text-white":"bg-white text-gray-900"),children:(0,c.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,c.jsxs)(l.P.button,{onClick:()=>h(`/employees/${a}`),className:"mb-8 inline-flex items-center cursor-pointer transition-colors "+("dark"===y?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"),whileHover:{x:-10},children:[(0,c.jsx)(o.kRp,{className:"mr-2"})," BACK"]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12",children:[(0,c.jsxs)("div",{className:"col-span-1 border-r-2 md:pr-12 "+("dark"===y?"border-gray-600":"border-gray-300"),children:[(0,c.jsx)(l.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"w-40 h-40 rounded-full overflow-hidden mx-auto md:mx-0 mb-6 border-4 "+("dark"===y?"border-white":"border-gray-900"),children:p.employeeImage?(0,c.jsx)("img",{src:p.employeeImage,alt:`${p.displayName||p.name}'s profile picture`,className:"w-full h-full object-cover"}):(0,c.jsx)("div",{className:"w-full h-full flex items-center justify-center text-4xl font-bold "+("dark"===y?"bg-gray-700 text-white":"bg-gray-200 text-gray-900"),children:d(p.displayName||p.name)})}),(0,c.jsxs)(l.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},children:[(0,c.jsx)("h1",{className:"text-4xl font-extrabold text-center md:text-left "+("dark"===y?"text-white":"text-gray-900"),children:p.displayName||p.name||"N/A"}),(0,c.jsx)("p",{className:"text-lg text-red-500 font-medium text-center md:text-left mt-2",children:p.jobTitlePrimary||"N/A"})]})]}),(0,c.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[(0,c.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-4 "+("dark"===y?"text-white":"text-gray-900"),children:"DETAILS"}),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)(x,{icon:(0,c.jsx)(o.Qz2,{}),label:"Employee ID",value:p.employeeId,theme:y}),(0,c.jsx)(x,{icon:(0,c.jsx)(o.qYx,{}),label:"Department",value:p.departmentId,theme:y}),(0,c.jsx)(x,{icon:(0,c.jsx)(o.HzC,{}),label:"Location",value:p.location,theme:y})]})]}),(0,c.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-4 "+("dark"===y?"text-white":"text-gray-900"),children:"CONTACT"}),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)(x,{icon:(0,c.jsx)(o.pHD,{}),label:"Email",value:p.workEmail,isMail:!0,theme:y}),(0,c.jsx)(x,{icon:(0,c.jsx)(o.QFc,{}),label:"Contact",value:p.contact,theme:y})]})]})]}),(0,c.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mt-12 pt-8 border-t-2 "+("dark"===y?"border-gray-600":"border-gray-300"),children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-6 "+("dark"===y?"text-white":"text-gray-900"),children:"ACHIEVEMENTS"}),(0,c.jsx)("div",{className:"space-y-6 max-h-96 overflow-y-auto pr-2",children:(null===(e=p.achievements)||void 0===e?void 0:e.length)>0?p.achievements.map((e,t)=>(0,c.jsxs)(l.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"border-2 p-4 flex items-center space-x-4 "+("dark"===y?"border-gray-600":"border-gray-300"),children:[(0,c.jsx)(o.TPq,{className:"text-xl text-yellow-500 flex-shrink-0"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-bold "+("dark"===y?"text-white":"text-gray-900"),children:e.certificationName||"N/A"}),(0,c.jsxs)("p",{className:"mt-1 text-sm "+("dark"===y?"text-gray-300":"text-gray-600"),children:[(0,c.jsx)("span",{className:"font-semibold",children:"Issuing Authority:"})," ",e.issuingAuthorityName||"N/A"]})]})]},t)):(0,c.jsx)("p",{className:"italic "+("dark"===y?"text-gray-400":"text-gray-500"),children:"No achievements available"})})]}),(0,c.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mt-12 pt-8 border-t-2 "+("dark"===y?"border-gray-600":"border-gray-300"),children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-6 "+("dark"===y?"text-white":"text-gray-900"),children:"PROJECTS"}),(0,c.jsx)("div",{className:"space-y-6 max-h-96 overflow-y-auto pr-2",children:(null===(t=p.projects)||void 0===t?void 0:t.length)>0?p.projects.map((e,t)=>(0,c.jsxs)(l.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"border-2 p-4 "+("dark"===y?"border-gray-600":"border-gray-300"),children:[(0,c.jsx)("h3",{className:"text-lg font-bold "+("dark"===y?"text-white":"text-gray-900"),children:e.projectName||"N/A"}),(0,c.jsx)("p",{className:"mt-2 text-sm "+("dark"===y?"text-gray-300":"text-gray-600"),children:e.projectDescription||"N/A"})]},t)):(0,c.jsx)("p",{className:"italic "+("dark"===y?"text-gray-400":"text-gray-500"),children:"No projects available"})})]})]})]})]})}):(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center p-8 "+("dark"===y?"bg-gray-900":"bg-white"),children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("h2",{className:"text-3xl font-bold font-mono mb-4 "+("dark"===y?"text-white":"text-gray-900"),children:"EMPLOYEE NOT FOUND"}),(0,c.jsx)("p",{className:"mb-6 font-mono "+("dark"===y?"text-gray-300":"text-gray-600"),children:"Data unavailable for this employee ID."}),(0,c.jsxs)("button",{onClick:()=>h(`/employees/${a}`),className:"inline-flex items-center px-6 py-3 border-2 text-base font-bold font-mono transition-colors "+("dark"===y?"border-white text-white hover:bg-white hover:text-gray-900":"border-gray-900 text-gray-900 hover:bg-gray-900 hover:text-white"),children:[(0,c.jsx)(o.kRp,{className:"mr-2"})," BACK TO DIRECTORY"]})]})})}}}]);
//# sourceMappingURL=880.23351fe9.chunk.js.map