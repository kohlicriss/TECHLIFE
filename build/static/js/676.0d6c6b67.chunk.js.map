{"version":3,"file":"static/js/676.0d6c6b67.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Teams/ConfirmationModal.jsx","TechLife/HRMS/Components/Teams/AllTeams.jsx"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { FaTimes, FaExclamationTriangle } from 'react-icons/fa';\r\nimport { Context } from '../HrmsContext';\r\n\r\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message, confirmText = 'Confirm', isConfirming }) => {\r\n    const { theme } = useContext(Context);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[250] p-2 sm:p-4\">\r\n            <div className={`rounded-xl sm:rounded-2xl w-full max-w-sm sm:max-w-md shadow-xl flex flex-col ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-white'}`}>\r\n                {/* Header */}\r\n                <div className=\"p-4 sm:p-6 flex justify-between items-center border-b\" style={{borderColor: theme === 'dark' ? '#4b5563' : '#e5e7eb'}}>\r\n                    <h3 className=\"text-lg sm:text-xl font-bold flex items-center min-w-0 flex-1\">\r\n                        <FaExclamationTriangle className=\"text-yellow-400 mr-2 sm:mr-3 w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0\" />\r\n                        <span className=\"break-words\">{title}</span>\r\n                    </h3>\r\n                    <button \r\n                        onClick={onClose} \r\n                        className=\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors flex-shrink-0 ml-2\"\r\n                    >\r\n                        <FaTimes className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Message Content */}\r\n                <div className=\"p-4 sm:p-6\">\r\n                    <p className={`text-sm sm:text-base break-words ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                        {message}\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Footer Buttons */}\r\n                <div className={`p-3 sm:p-4 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 border-t ${theme === 'dark' ? 'bg-gray-700/50 border-gray-700' : 'bg-gray-50 border-gray-200'}`}>\r\n                    <button \r\n                        onClick={onClose} \r\n                        className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button \r\n                        onClick={onConfirm}\r\n                        disabled={isConfirming}\r\n                        className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white transition-colors flex items-center justify-center text-sm\r\n                                    ${isConfirming ? 'bg-red-400 cursor-not-allowed' : 'bg-red-600 hover:bg-red-700'}`}\r\n                    >\r\n                        {isConfirming ? (\r\n                            <>\r\n                                <div className=\"h-3 w-3 sm:h-4 sm:w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                                <span>Deleting...</span>\r\n                            </>\r\n                        ) : (\r\n                            <span>{confirmText}</span>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ConfirmationModal;\r\n","import React, { useState, useEffect, useContext, useCallback, useRef } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { publicinfoApi, authApi } from '../../../../axiosInstance';\r\nimport { FaUsers, FaPlus, FaUserShield, FaTimes, FaChevronDown, FaChevronUp, FaTrash, FaEye, FaSearch, FaChevronLeft, FaChevronRight } from 'react-icons/fa'; \r\nimport { IoCheckmarkCircle, IoWarning } from 'react-icons/io5';\r\nimport { Context } from '../HrmsContext';\r\nimport ConfirmationModal from './ConfirmationModal';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\n// Utility Hook for Outside Click\r\nconst useOutsideClick = (handler, ignoreRefs = []) => {\r\n    const ref = useRef(null);\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            const isIgnored = ignoreRefs.some(\r\n                (r) => r.current && r.current.contains(event.target)\r\n            );\r\n            if (ref.current && !ref.current.contains(event.target) && !isIgnored) {\r\n                handler(event);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, [handler, ignoreRefs]);\r\n    return ref;\r\n};\r\n\r\n// Project Dropdown with Infinite Scroll\r\nconst ProjectDropdown = ({ value, onChange, theme, error, disabled }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [projects, setProjects] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasMoreData, setHasMoreData] = useState(true);\r\n    \r\n    // Pagination States\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [totalPages, setTotalPages] = useState(1);\r\n    const [allDataLoaded, setAllDataLoaded] = useState(false);\r\n    const PAGE_SIZE = 10; \r\n    \r\n    const isFetchingRef = useRef(false);\r\n    const scrollAreaRef = useRef(null);\r\n    const dropdownRef = useOutsideClick(() => setIsOpen(false), [scrollAreaRef]);\r\n\r\n    // Load projects for the current page\r\n    const loadProjects = useCallback(async (page = 0, append = false) => {\r\n        if (isFetchingRef.current || (page > 0 && !hasMoreData)) return;\r\n\r\n        isFetchingRef.current = true;\r\n        setLoading(true);\r\n        \r\n        try {\r\n            console.log(`[API CALL - ProjectDropdown] Fetching projects: Page ${page}, Size ${PAGE_SIZE}`);\r\n            const response = await publicinfoApi.get(`employee/${page}/${PAGE_SIZE}/projectId/asc/projects`);\r\n            console.log(`[API SUCCESS - ProjectDropdown] Projects fetched for page ${page}:`, response.data);\r\n            \r\n            const fetchedProjects = response.data?.content || [];\r\n            const newProjects = Array.isArray(fetchedProjects) ? fetchedProjects : [];\r\n            \r\n            if (append) {\r\n                setProjects(prev => [...prev, ...newProjects]);\r\n            } else {\r\n                setProjects(newProjects);\r\n            }\r\n            \r\n            setCurrentPage(page);\r\n            setTotalPages(response.data?.totalPages || 1);\r\n            \r\n            // Check if we've reached the end using response.data.last\r\n            if (response.data?.last === true) {\r\n                setHasMoreData(false);\r\n                setAllDataLoaded(true);\r\n            } else {\r\n                setHasMoreData(true);\r\n            }\r\n        } catch (error) {\r\n            console.error('[API ERROR - ProjectDropdown] Error fetching projects:', error.response?.data || error.message);\r\n            if (!append) {\r\n                setProjects([]);\r\n                setTotalPages(1);\r\n            }\r\n            setHasMoreData(false);\r\n        } finally {\r\n            setLoading(false);\r\n            isFetchingRef.current = false;\r\n        }\r\n    }, [hasMoreData]);\r\n\r\n    // Handle scroll event for infinite loading\r\n    const handleScroll = useCallback((e) => {\r\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n        \r\n        // Check if user scrolled near bottom (within 50px)\r\n        if (scrollHeight - scrollTop <= clientHeight + 50) {\r\n            if (hasMoreData && !loading && !isFetchingRef.current) {\r\n                loadProjects(currentPage + 1, true);\r\n            }\r\n        }\r\n    }, [currentPage, hasMoreData, loading, loadProjects]);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setSearchTerm('');\r\n            setProjects([]);\r\n            setCurrentPage(0);\r\n            setHasMoreData(true);\r\n            setAllDataLoaded(false);\r\n            loadProjects(0, false); \r\n        }\r\n    }, [isOpen, loadProjects]);\r\n\r\n    const handleSelect = (project) => {\r\n        onChange({ value: project.projectId, label: `${project.projectId}(${project.title})` });\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const toggleDropdown = () => {\r\n        if (!disabled) setIsOpen(!isOpen);\r\n    };\r\n\r\n    const safeProjects = Array.isArray(projects) ? projects : [];\r\n\r\n    const filteredProjects = safeProjects.filter(proj => \r\n        proj.title?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        proj.projectId?.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"relative\" ref={dropdownRef}>\r\n            <div \r\n                onClick={toggleDropdown} \r\n                className={`w-full p-3 border-2 rounded-xl transition-all duration-300 cursor-pointer flex items-center justify-between ${\r\n                    error ? 'border-red-300' : (theme === 'dark' ? 'border-gray-600' : 'border-gray-200')\r\n                } ${disabled ? 'opacity-50' : ''} ${\r\n                    theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-900'\r\n                }`}\r\n            >\r\n                <span className={!value ? (theme === 'dark' ? 'text-gray-400' : 'text-gray-500') : ''}>\r\n                    {value ? value.label : 'Select project...'}\r\n                </span>\r\n                <FaChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''} ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </div>\r\n            <AnimatePresence>\r\n                {isOpen && !disabled && (\r\n                    <motion.div \r\n                        initial={{ opacity: 0, y: -10 }} \r\n                        animate={{ opacity: 1, y: 0 }} \r\n                        exit={{ opacity: 0, y: -10 }} \r\n                        className={`absolute top-full left-0 right-0 mt-2 border rounded-xl shadow-lg z-50 ${\r\n                            theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-white border-gray-200'\r\n                        }`}\r\n                    >\r\n                        <div className=\"p-2 border-b border-gray-200 dark:border-gray-600\">\r\n                            <div className=\"relative\">\r\n                                <FaSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                                <input \r\n                                    type=\"text\" \r\n                                    placeholder=\"Search projects...\" \r\n                                    value={searchTerm} \r\n                                    onChange={(e) => setSearchTerm(e.target.value)} \r\n                                    className={`w-full pl-10 pr-4 py-2 border rounded-lg text-sm ${\r\n                                        theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`} \r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div \r\n                            className=\"max-h-60 overflow-y-auto\" \r\n                            ref={scrollAreaRef}\r\n                            onScroll={handleScroll}\r\n                        >\r\n                            {filteredProjects.length > 0 ? (\r\n                                filteredProjects.map(project => {\r\n                                    const isSelected = value?.value === project.projectId;\r\n                                    return (\r\n                                        <div \r\n                                            key={project.projectId} \r\n                                            onClick={() => handleSelect(project)} \r\n                                            className={`p-3 cursor-pointer flex items-center justify-between ${\r\n                                                isSelected ? 'bg-blue-50 dark:bg-blue-900/50' : `hover:${theme === 'dark' ? 'bg-gray-600' : 'bg-gray-50'}`\r\n                                            }`}\r\n                                        >\r\n                                            <div className={theme === 'dark' ? 'text-white' : 'text-gray-900'}>\r\n                                                <div className=\"font-medium\">{project.projectId}({project.title})</div>\r\n                                                <div className={`text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                                    Client: {project.client} â€¢ Status: {project.projectStatus}\r\n                                                </div>\r\n                                            </div>\r\n                                            {isSelected && <IoCheckmarkCircle className=\"w-5 h-5 text-blue-500\" />}\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            ) : searchTerm ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No projects matching \"{searchTerm}\"\r\n                                </div>\r\n                            ) : loading && projects.length === 0 ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading projects...\r\n                                </div>\r\n                            ) : (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No projects found.\r\n                                </div>\r\n                            )}\r\n                            \r\n                            {loading && projects.length > 0 && (\r\n                                <div className={`p-2 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading more projects...\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        \r\n                        {allDataLoaded && projects.length > 0 && (\r\n                            <div className={`p-2 border-t text-center text-sm font-medium ${theme === 'dark' ? 'text-gray-500 border-gray-600' : 'text-gray-400 border-gray-200'}`}>\r\n                                ðŸŽ¯ All projects loaded\r\n                            </div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Employee Dropdown with Infinite Scroll\r\nconst EmployeeDropdown = ({ value, onChange, theme, error, disabled, isMulti = false, placeholder }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [employees, setEmployees] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasMoreData, setHasMoreData] = useState(true);\r\n    \r\n    // Pagination States\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [totalPages, setTotalPages] = useState(1);\r\n    const [allDataLoaded, setAllDataLoaded] = useState(false);\r\n    const PAGE_SIZE = 15;\r\n    \r\n    const isFetchingRef = useRef(false);\r\n    const scrollAreaRef = useRef(null);\r\n    const dropdownRef = useOutsideClick(() => setIsOpen(false), [scrollAreaRef]);\r\n    \r\n    // Load employees for the current page\r\n    const loadEmployees = useCallback(async (page = 0, append = false) => {\r\n        if (isFetchingRef.current || (page > 0 && !hasMoreData)) return;\r\n\r\n        isFetchingRef.current = true;\r\n        setLoading(true);\r\n        \r\n        try {\r\n            console.log(`[API CALL - EmployeeDropdown] Fetching employees: Page ${page}, Size ${PAGE_SIZE}`);\r\n            const response = await publicinfoApi.get(`employee/${page}/${PAGE_SIZE}/employeeId/asc/employees`);\r\n            console.log(`[API SUCCESS - EmployeeDropdown] Employees fetched for page ${page}:`, response.data);\r\n            \r\n            const responseData = response.data || {};\r\n            const fetchedEmployees = responseData.content || []; \r\n            const newEmployees = Array.isArray(fetchedEmployees) ? fetchedEmployees : [];\r\n            \r\n            if (append) {\r\n                setEmployees(prev => [...prev, ...newEmployees]);\r\n            } else {\r\n                setEmployees(newEmployees);\r\n            }\r\n            \r\n            setCurrentPage(page);\r\n            setTotalPages(responseData.totalPages || 1);\r\n            \r\n            // Check if we've reached the end using response.data.last\r\n            if (responseData.last === true) {\r\n                setHasMoreData(false);\r\n                setAllDataLoaded(true);\r\n            } else {\r\n                setHasMoreData(true);\r\n            }\r\n        } catch (error) {\r\n            console.error('[API ERROR - EmployeeDropdown] Error fetching employees:', error.response?.data || error.message);\r\n            if (!append) {\r\n                setEmployees([]);\r\n                setTotalPages(1);\r\n            }\r\n            setHasMoreData(false);\r\n        } finally {\r\n            setLoading(false);\r\n            isFetchingRef.current = false; \r\n        }\r\n    }, [hasMoreData]);\r\n\r\n    // Handle scroll event for infinite loading\r\n    const handleScroll = useCallback((e) => {\r\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n        \r\n        // Check if user scrolled near bottom (within 50px)\r\n        if (scrollHeight - scrollTop <= clientHeight + 50) {\r\n            if (hasMoreData && !loading && !isFetchingRef.current) {\r\n                loadEmployees(currentPage + 1, true);\r\n            }\r\n        }\r\n    }, [currentPage, hasMoreData, loading, loadEmployees]);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setSearchTerm('');\r\n            setEmployees([]);\r\n            setCurrentPage(0);\r\n            setHasMoreData(true);\r\n            setAllDataLoaded(false);\r\n            loadEmployees(0, false);\r\n        }\r\n    }, [isOpen, loadEmployees]);\r\n\r\n    const handleSelect = (employee) => {\r\n        const employeeLabel = `${employee.displayName || employee.firstName + ' ' + employee.lastName} (${employee.employeeId})`;\r\n        if (isMulti) {\r\n            const currentValues = Array.isArray(value) ? value : [];\r\n            const isSelected = currentValues.some(item => item.value === employee.employeeId);\r\n            if (isSelected) {\r\n                onChange(currentValues.filter(item => item.value !== employee.employeeId));\r\n            } else {\r\n                onChange([...currentValues, { value: employee.employeeId, label: employeeLabel }]);\r\n            }\r\n        } else {\r\n            onChange({ value: employee.employeeId, label: employeeLabel });\r\n            setIsOpen(false);\r\n        }\r\n    };\r\n\r\n    const toggleDropdown = () => {\r\n        if (!disabled) setIsOpen(!isOpen);\r\n    };\r\n\r\n    const safeEmployees = Array.isArray(employees) ? employees : [];\r\n    \r\n    const filteredEmployees = safeEmployees.filter(emp => {\r\n        const displayName = emp.displayName || (emp.firstName + ' ' + emp.lastName);\r\n        return (\r\n            displayName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            emp.employeeId?.toLowerCase().includes(searchTerm.toLowerCase())\r\n        );\r\n    });\r\n\r\n    const renderSelectedValue = () => {\r\n        const defaultPlaceholder = isMulti ? 'Select team members...' : 'Select a team lead...';\r\n        \r\n        if (isMulti) {\r\n            const currentValues = Array.isArray(value) ? value : [];\r\n            if (currentValues.length === 0) return <span className={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>{defaultPlaceholder}</span>;\r\n            return (\r\n                <div className=\"flex flex-wrap gap-1\">\r\n                    {currentValues.map(item => (\r\n                        <div key={item.value} className={`text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full ${theme === 'dark' ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800'}`}>\r\n                            {item.label}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            );\r\n        } else {\r\n            if (!value) return <span className={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>{defaultPlaceholder}</span>;\r\n            return <span>{value.label}</span>;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative\" ref={dropdownRef}>\r\n            <div onClick={toggleDropdown} className={`w-full p-3 border-2 rounded-xl transition-all duration-300 cursor-pointer flex items-center justify-between ${error ? 'border-red-300' : (theme === 'dark' ? 'border-gray-600' : 'border-gray-200')} ${disabled ? 'opacity-50' : ''} ${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-900'}`}>\r\n                <div className=\"flex-1\">{renderSelectedValue()}</div>\r\n                <FaChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''} ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </div>\r\n            <AnimatePresence>\r\n                {isOpen && !disabled && (\r\n                    <motion.div initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -10 }} className={`absolute top-full left-0 right-0 mt-2 border rounded-xl shadow-lg z-50 ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-white border-gray-200'}`}>\r\n                        <div className=\"p-2 border-b border-gray-200 dark:border-gray-600\">\r\n                            <div className=\"relative\">\r\n                                <FaSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                                <input type=\"text\" placeholder=\"Search employees...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className={`w-full pl-10 pr-4 py-2 border rounded-lg text-sm ${theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'}`} />\r\n                            </div>\r\n                        </div>\r\n                        <div \r\n                            className=\"max-h-60 overflow-y-auto\" \r\n                            ref={scrollAreaRef}\r\n                            onScroll={handleScroll}\r\n                        >\r\n                            {filteredEmployees.length > 0 ? (\r\n                                filteredEmployees.map(employee => {\r\n                                    const isSelected = isMulti ? (Array.isArray(value) && value.some(item => item.value === employee.employeeId)) : value?.value === employee.employeeId;\r\n                                    const displayName = employee.displayName || (employee.firstName + ' ' + employee.lastName);\r\n                                    return (\r\n                                        <div key={employee.employeeId} onClick={() => handleSelect(employee)} className={`p-3 cursor-pointer flex items-center justify-between ${isSelected ? 'bg-blue-50 dark:bg-blue-900/50' : `hover:${theme === 'dark' ? 'bg-gray-600' : 'bg-gray-50'}`}`}>\r\n                                            <div className={theme === 'dark' ? 'text-white' : 'text-gray-900'}>\r\n                                                <div className=\"font-medium\">{displayName}</div>\r\n                                                <div className={`text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>{employee.employeeId}</div>\r\n                                            </div>\r\n                                            {isSelected && <IoCheckmarkCircle className=\"w-5 h-5 text-blue-500\" />}\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            ) : searchTerm ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No employees matching \"{searchTerm}\"\r\n                                </div>\r\n                            ) : loading && employees.length === 0 ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading employees...\r\n                                </div>\r\n                            ) : (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No employees found.\r\n                                </div>\r\n                            )}\r\n                            \r\n                            {loading && employees.length > 0 && (\r\n                                <div className={`p-2 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading more employees...\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        \r\n                        {allDataLoaded && employees.length > 0 && (\r\n                            <div className={`p-2 border-t text-center text-sm font-medium ${theme === 'dark' ? 'text-gray-500 border-gray-600' : 'text-gray-400 border-gray-200'}`}>\r\n                                ðŸ‘¥ All employees loaded\r\n                            </div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Loading and Error Components\r\nconst LoadingSpinner = () => (\r\n  <div className=\"flex justify-center items-center h-64\">\r\n    <div className=\"animate-spin rounded-full h-16 w-16 sm:h-32 sm:w-32 border-t-2 border-b-2 border-blue-500\"></div>\r\n  </div>\r\n);\r\n\r\nconst ErrorDisplay = ({ message }) => (\r\n  <div className=\"text-center p-6 sm:p-8 bg-red-100 text-red-700 rounded-lg\">\r\n    <h3 className=\"font-bold text-base sm:text-lg\">Oops! Something went wrong.</h3>\r\n    <p className=\"text-sm sm:text-base\">{message}</p>\r\n  </div>\r\n);\r\n\r\n// Main AllTeams Component\r\nconst AllTeams = () => {\r\n  const [teams, setTeams] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n  const [selectedTeam, setSelectedTeam] = useState(null);\r\n  const [expandedTeams, setExpandedTeams] = useState(new Set()); \r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [matchedArray, setMatchedArray] = useState(null);\r\n  const [isRightSidebarOpen, setIsRightSidebarOpen] = useState(false); \r\n  const [displayMode, setDisplayMode] = useState('MY_TEAMS'); \r\n  const [adminallteams, setAdminAllTeams] = useState([]); \r\n\r\n  // Form state\r\n  const [teamName, setTeamName] = useState('');\r\n  const [teamLead, setTeamLead] = useState(null);\r\n  const [teamMembers, setTeamMembers] = useState([]);\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [formErrors, setFormErrors] = useState({});\r\n\r\n  const { userData, theme } = useContext(Context);\r\n  const userRoles = userData?.roles || [];\r\n  const canModifyTeam = userRoles.includes('ADMIN') || userRoles.includes('HR') || userRoles.includes('MANAGER');\r\n  const canCreateTeam = userRoles.includes('ADMIN') || userRoles.includes('HR');\r\n\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n  const employeeIdToFetch = fromContextMenu && targetEmployeeId ? targetEmployeeId : userData?.employeeId;\r\n\r\n  const loggedinuserRole = userData?.roles[0] \r\n  ? `ROLE_${userData.roles[0]}` \r\n  : null;\r\n\r\n  const toggleTeamExpansion = (teamId) => {\r\n    const newExpandedTeams = new Set(expandedTeams);\r\n    if (newExpandedTeams.has(teamId)) {\r\n      newExpandedTeams.delete(teamId);\r\n    } else {\r\n      newExpandedTeams.add(teamId);\r\n    }\r\n    setExpandedTeams(newExpandedTeams);\r\n  };\r\n\r\n  const isTeamExpanded = (teamId) => expandedTeams.has(teamId);\r\n\r\n  const fetchTeams = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      if (!employeeIdToFetch) {\r\n        setError(\"Employee ID not found. Please login again.\");\r\n        return;\r\n      }\r\n\r\n      console.log(`[API CALL - fetchTeams] Fetching teams for employee: ${employeeIdToFetch}`);\r\n      const response = await publicinfoApi.get(`employee/team/${employeeIdToFetch}`);\r\n      console.log('[API SUCCESS - fetchTeams] Teams fetched:', response.data);\r\n      \r\n      const teamsArray = Array.isArray(response.data) ? response.data : [response.data];\r\n      setTeams(teamsArray || []);\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('[API ERROR - fetchTeams] Error fetching teams:', err.response?.data || err.message);\r\n      setError(`Could not fetch teams data for employee ${employeeIdToFetch}.`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchAdminAllTeams = async () => {\r\n    if (!matchedArray || !matchedArray.includes(\"ADMIN_FETCHING_ALLTEAMS\")) {\r\n      setAdminAllTeams([]);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setAdminAllTeams([]);\r\n    \r\n    try {\r\n      console.log(\"[API CALL - fetchAdminAllTeams] Fetching all teams for admin view.\");\r\n      let response = await publicinfoApi.get(\r\n        \"employee/0/19/teamId/asc/teams\"\r\n      );\r\n      \r\n      const teamsData = response.data.content;\r\n      setAdminAllTeams(teamsData);\r\n      console.log(\"Admin Fetched Teams (ALL_TEAMS view) âœ…\", teamsData);\r\n      setError(null);\r\n    } catch (error) {\r\n      console.error(\"[API ERROR - fetchAdminAllTeams] Error From Admin Fetching All Teams âŒ\", error.response?.data || error.message);\r\n      setAdminAllTeams([]); \r\n      setError('Failed to load all teams directory.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if(loggedinuserRole) {\r\n        let fetchForPermissionArray = async () => {\r\n            try {\r\n                console.log(`[API CALL - fetchForPermissionArray] Fetching role access for role: ${loggedinuserRole}`);\r\n                let response = await authApi.get(`role-access/${loggedinuserRole}`);\r\n                console.log('[API SUCCESS - fetchForPermissionArray] Role permissions fetched:', response.data);\r\n                setMatchedArray(response?.data?.permissions);\r\n            } catch (error) {\r\n                console.error(\"[API ERROR - fetchForPermissionArray] Error from Fetching Error matching Objects:\", error.response?.data || error.message);\r\n            }\r\n        }\r\n        fetchForPermissionArray();\r\n    }\r\n  },[loggedinuserRole]);\r\n\r\n  useEffect(() => {\r\n    if (displayMode === 'MY_TEAMS') {\r\n        fetchTeams();\r\n    } else if (displayMode === 'ALL_TEAMS') {\r\n        fetchAdminAllTeams();\r\n    }\r\n  }, [displayMode, canCreateTeam, employeeIdToFetch, matchedArray]);\r\n  \r\n  const currentDataSource = displayMode === 'MY_TEAMS' ? teams : adminallteams;\r\n\r\n  const filteredCurrentTeams = (Array.isArray(currentDataSource) ? currentDataSource : []).filter(team =>\r\n    team.teamName && team.teamName.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    if (!teamName.trim()) errors.teamName = \"Team Name is required.\";\r\n    if (!teamLead) errors.teamLead = \"Team Lead is required.\";\r\n    if (teamMembers.length === 0) errors.teamMembers = \"At least one Team Member is required.\";\r\n    if (!selectedProject) errors.selectedProject = \"Project selection is required.\";\r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleCreateTeam = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateForm()) return;\r\n\r\n    setIsSubmitting(true);\r\n    setFormErrors({});\r\n\r\n    const newTeamData = {\r\n        teamName,\r\n        teamDescription: \"Default Description\",\r\n        employeeIds: [teamLead?.value, ...teamMembers.map(member => member.value)].filter(Boolean),\r\n        projectId: selectedProject?.value\r\n    };\r\n\r\n    try {\r\n        console.log('[API CALL - handleCreateTeam] Creating new team with data:', newTeamData);\r\n        await publicinfoApi.post('employee/team', newTeamData);\r\n        console.log('[API SUCCESS - handleCreateTeam] Team created successfully.');\r\n        \r\n        if (displayMode === 'MY_TEAMS') {\r\n            await fetchTeams();\r\n        }\r\n\r\n        setIsCreateModalOpen(false);\r\n        setTeamName('');\r\n        setTeamLead(null);\r\n        setTeamMembers([]);\r\n        setSelectedProject(null);\r\n        alert('Team created successfully!');\r\n    } catch (err) {\r\n        console.error('[API ERROR - handleCreateTeam] Failed to create team:', err.response?.data || err.message);\r\n        setFormErrors({ general: err.response?.data?.message || 'Failed to create team. Please check the data and try again.' });\r\n    } finally {\r\n        setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteClick = (team) => {\r\n    setSelectedTeam(team);\r\n    setIsDeleteModalOpen(true);\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!selectedTeam) return;\r\n\r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n        console.log(`[API CALL - confirmDelete] Deleting team with ID: ${selectedTeam.teamId}`);\r\n        await publicinfoApi.delete(`employee/${selectedTeam.teamId}/team`);\r\n        console.log('[API SUCCESS - confirmDelete] Team deleted successfully.');\r\n        \r\n        if (displayMode === 'MY_TEAMS') {\r\n            setTeams(teams.filter(t => t.teamId !== selectedTeam.teamId));\r\n        } else if (displayMode === 'ALL_TEAMS') {\r\n            setAdminAllTeams(adminallteams.filter(t => t.teamId !== selectedTeam.teamId));\r\n        }\r\n        \r\n        setIsDeleteModalOpen(false);\r\n        setSelectedTeam(null);\r\n        alert('Team deleted successfully!');\r\n    } catch (err) {\r\n        console.error('[API ERROR - confirmDelete] Failed to delete team:', err.response?.data || err.message);\r\n        alert('Failed to delete team.');\r\n    } finally {\r\n        setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const renderCreateTeamModal = () => {\r\n    if (!isCreateModalOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4\">\r\n            <div className={`rounded-2xl sm:rounded-3xl w-full max-w-2xl max-h-[95vh] overflow-hidden shadow-2xl flex flex-col ${\r\n              theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n            }`}>\r\n                <div className=\"px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r from-blue-500 to-indigo-700 text-white relative\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n                            <div className=\"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl flex-shrink-0\">\r\n                                <FaUsers className=\"w-6 h-6 sm:w-8 sm:h-8\" />\r\n                            </div>\r\n                            <div className=\"min-w-0 flex-1\">\r\n                                <h2 className=\"text-lg sm:text-xl md:text-2xl font-bold break-words\">Create New Team</h2>\r\n                                <p className=\"text-white/90 text-xs sm:text-sm break-words\">Organize employees into a new team.</p>\r\n                            </div>\r\n                        </div>\r\n                        <button onClick={() => {\r\n                            setIsCreateModalOpen(false);\r\n                            setTeamName('');\r\n                            setTeamLead(null);\r\n                            setTeamMembers([]);\r\n                            setSelectedProject(null);\r\n                            setFormErrors({});\r\n                        }} className=\"p-2 sm:p-3 hover:bg-white/20 rounded-full transition-all group flex-shrink-0\">\r\n                            <FaTimes className=\"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"overflow-y-auto flex-grow\">\r\n                    <form className=\"p-4 sm:p-6 md:p-8\" onSubmit={handleCreateTeam}>\r\n                        <div className=\"space-y-4 sm:space-y-6\">\r\n                           <div>\r\n                                <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                    Team Name <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <input \r\n                                    type=\"text\" \r\n                                    value={teamName} \r\n                                    onChange={(e) => setTeamName(e.target.value)} \r\n                                    className={`w-full p-3 border-2 rounded-xl transition-colors ${\r\n                                        formErrors.teamName ? 'border-red-300' : (theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900')\r\n                                    }`} \r\n                                    placeholder=\"e.g., Development Team\" \r\n                                />\r\n                                {formErrors.teamName && <p className=\"text-red-500 text-xs mt-1\">{formErrors.teamName}</p>}\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                    Project <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <ProjectDropdown \r\n                                    value={selectedProject} \r\n                                    onChange={setSelectedProject} \r\n                                    theme={theme} \r\n                                    error={formErrors.selectedProject} \r\n                                />\r\n                                {formErrors.selectedProject && <p className=\"text-red-500 text-xs mt-1\">{formErrors.selectedProject}</p>}\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                    Team Lead <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <EmployeeDropdown value={teamLead} onChange={setTeamLead} theme={theme} error={formErrors.teamLead} isMulti={false}/>\r\n                                {formErrors.teamLead && <p className=\"text-red-500 text-xs mt-1\">{formErrors.teamLead}</p>}\r\n                            </div>\r\n                            <div>\r\n                                <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                    Team Members <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <EmployeeDropdown value={teamMembers} onChange={setTeamMembers} theme={theme} error={formErrors.teamMembers} isMulti={true} />\r\n                                {formErrors.teamMembers && <p className=\"text-red-500 text-xs mt-1\">{formErrors.teamMembers}</p>}\r\n                            </div>\r\n                        </div>\r\n                        {formErrors.general && (\r\n                            <div className={`mt-4 sm:mt-6 p-3 sm:p-4 border-l-4 border-red-400 rounded-r-lg ${theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'}`}>\r\n                                <div className=\"flex items-center\">\r\n                                    <IoWarning className=\"w-4 h-4 sm:w-5 sm:h-5 text-red-400 mr-3 flex-shrink-0\" />\r\n                                    <p className={`font-medium text-sm ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>{formErrors.general}</p>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </form>\r\n                </div>\r\n\r\n                <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'}`}>\r\n                    <button \r\n                        type=\"button\" \r\n                        onClick={() => {\r\n                            setIsCreateModalOpen(false);\r\n                            setTeamName('');\r\n                            setTeamLead(null);\r\n                            setTeamMembers([]);\r\n                            setSelectedProject(null);\r\n                            setFormErrors({});\r\n                        }} \r\n                        className={`w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold transition-all text-sm ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-600' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button \r\n                        type=\"button\" \r\n                        onClick={handleCreateTeam} \r\n                        disabled={isSubmitting} \r\n                        className={`w-full sm:w-auto px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white font-bold rounded-lg sm:rounded-xl\r\n                                     hover:shadow-lg transform hover:scale-105 transition-all flex items-center justify-center space-x-2 text-sm\r\n                                     ${isSubmitting ? 'cursor-not-allowed opacity-75' : ''}`}\r\n                    >\r\n                        {isSubmitting ? (\r\n                            <>\r\n                                <div className=\"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                                <span>Creating...</span>\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                                <span>Create Team</span>\r\n                            </>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n  };\r\n\r\n  const handleMyTeamsClick = () => {\r\n    setDisplayMode('MY_TEAMS');\r\n    setIsRightSidebarOpen(false);\r\n  };\r\n\r\n  const handleAllTeamsClick = () => {\r\n    setDisplayMode('ALL_TEAMS');\r\n    setIsRightSidebarOpen(false);\r\n    fetchAdminAllTeams();\r\n  };\r\n\r\n  const renderContent = () => {\r\n    const isMyTeamsMode = displayMode === 'MY_TEAMS';\r\n    const teamTitle = isMyTeamsMode ? 'My Teams' : 'All Teams';\r\n\r\n    if (loading) {\r\n        return <LoadingSpinner />;\r\n    }\r\n\r\n    if (error && isMyTeamsMode) {\r\n        return <ErrorDisplay message={error} />;\r\n    }\r\n    \r\n    const teamsToRenderAfterSearch = (Array.isArray(currentDataSource) ? currentDataSource : []).filter(team =>\r\n        team.teamName && team.teamName.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    \r\n    if (teamsToRenderAfterSearch.length === 0) {\r\n        return (\r\n            <div className=\"text-center py-12 sm:py-16 px-4\">\r\n                <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${\r\n                    theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100'\r\n                }`}>\r\n                    <FaUsers className={`w-8 h-8 sm:w-10 sm:h-10 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} />\r\n                </div>\r\n                <h2 className={`text-lg sm:text-xl font-bold mb-2 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                    {searchTerm ? `No Teams Found matching \"${searchTerm}\"` : `${teamTitle} Not Available`}\r\n                </h2>\r\n                <p className={`text-sm sm:text-base mb-4 max-w-md mx-auto ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                    {isMyTeamsMode\r\n                        ? 'You are not part of any teams yet. Ask your manager to add you.'\r\n                        : 'No teams are currently listed in the directory or unable to fetch directory data.'\r\n                    }\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mx-4 sm:mx-0\">\r\n                {teamsToRenderAfterSearch.map((team, index) => {\r\n                    const teamId = team.teamId || index;\r\n                    const isExpanded = isTeamExpanded(teamId);\r\n                    \r\n                    const leadOrManager = team.employees?.find(emp => emp.jobTitlePrimary === 'TEAM_LEAD' || emp.jobTitlePrimary === 'MANAGER');\r\n                    const otherMembers = team.employees?.filter(emp => emp !== leadOrManager) || [];\r\n                    \r\n                    const membersToShow = isExpanded ? otherMembers : otherMembers.slice(0, 4);\r\n                    const hasMoreMembers = otherMembers.length > 4;\r\n                    \r\n                    const membersToDisplay = leadOrManager ? [leadOrManager, ...membersToShow] : membersToShow;\r\n                    const teamLead = leadOrManager?.jobTitlePrimary === 'TEAM_LEAD' ? leadOrManager : null;\r\n\r\n                    return (\r\n                        <div key={teamId} className={`rounded-none sm:rounded-lg shadow-lg overflow-hidden border transition-shadow duration-300 flex flex-col ${theme === 'dark' ? 'bg-gray-800 border-gray-700 hover:shadow-blue-500/20' : 'bg-white border-gray-200 hover:shadow-xl'}`}>\r\n                            <div className=\"p-4 sm:p-5\">\r\n                                <div className=\"flex justify-between items-start\">\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <h2 className={`text-lg sm:text-xl font-bold break-words ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>\r\n                                            {team.teamName}\r\n                                        </h2>\r\n                                        {leadOrManager && (\r\n                                            <div className={`flex items-center text-sm sm:text-md mt-2 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                                                <FaUserShield className=\"mr-2 text-green-500 flex-shrink-0\" />\r\n                                                <strong>{leadOrManager.jobTitlePrimary}:</strong><span className=\"ml-1 break-words\">{leadOrManager.displayName || leadOrManager.firstName + ' ' + leadOrManager.lastName}</span>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"flex space-x-2 flex-shrink-0\">\r\n                                        <Link to={`/teams/${teamId}`} title=\"View Details\" className=\"p-2 text-gray-500 hover:text-blue-500 transition-colors\">\r\n                                            <FaEye className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                        </Link>\r\n                                        {matchedArray?.includes(\"TEAM_DELETE_BTN\") && !fromContextMenu && (\r\n                                            <button onClick={() => handleDeleteClick(team)} title=\"Delete Team\" className=\"p-2 text-gray-500 hover:text-red-500 transition-colors\">\r\n                                                <FaTrash className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className={`px-4 sm:px-5 py-3 sm:py-4 border-t mt-auto ${theme === 'dark' ? 'bg-gray-800/50 border-gray-700' : 'bg-gray-50 border-gray-200'}`}>\r\n                                <h3 className={`font-semibold mb-2 text-sm sm:text-base ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                                    Members ({team.employees?.length || 0})\r\n                                </h3>\r\n                                <div className=\"space-y-2\">\r\n                                    <div className=\"flex flex-wrap gap-1 sm:gap-2\">\r\n                                        {membersToDisplay?.map(member => {\r\n                                                const displayName = member.displayName || (member.firstName + ' ' + member.lastName);\r\n                                                const isYou = member.employeeId === employeeIdToFetch;\r\n                                                const isLead = member.jobTitlePrimary === 'TEAM_LEAD' || member.jobTitlePrimary === 'MANAGER';\r\n                                                \r\n                                                let tagClass;\r\n                                                if (isYou) {\r\n                                                    tagClass = theme === 'dark' ? 'bg-green-900 text-green-300' : 'bg-green-100 text-green-800';\r\n                                                } else if (isLead) {\r\n                                                    tagClass = theme === 'dark' ? 'bg-indigo-900 text-indigo-300' : 'bg-indigo-100 text-indigo-800';\r\n                                                } else {\r\n                                                    tagClass = theme === 'dark' ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800';\r\n                                                }\r\n\r\n                                            return (\r\n                                                <span key={member.employeeId} className={`text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full break-words ${tagClass}`}>\r\n                                                    {displayName}\r\n                                                    {isYou && ' (You)'}\r\n                                                    {isLead && !isYou && ` (${member.jobTitlePrimary})`}\r\n                                                </span>\r\n                                            );\r\n                                        })}\r\n                                    </div>\r\n                                    {hasMoreMembers && (\r\n                                        <button\r\n                                            onClick={() => toggleTeamExpansion(teamId)}\r\n                                            className=\"flex items-center space-x-1 text-xs sm:text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors\"\r\n                                        >\r\n                                            {isExpanded ? (\r\n                                                <><span>Show Less</span><FaChevronUp className=\"w-3 h-3\" /></>\r\n                                            ) : (\r\n                                                <><span>+{otherMembers.length - 4} more</span><FaChevronDown className=\"w-3 h-3\" /></>\r\n                                            )}\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </>\r\n    );\r\n  };\r\n\r\n  const hasAdminPermissions = matchedArray && matchedArray.includes(\"ADMIN_FETCHING_ALLTEAMS\");\r\n\r\n  return (\r\n    <div className={`relative flex min-h-screen ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n        \r\n        {hasAdminPermissions && !isRightSidebarOpen && (\r\n            <button\r\n                onClick={() => setIsRightSidebarOpen(true)}\r\n                className=\"fixed right-0 top-1/2 -translate-y-1/2 p-2 rounded-l-lg bg-indigo-600 text-white shadow-lg z-50 hover:bg-indigo-700 transition-colors\"\r\n                aria-label=\"Open Navigation Sidebar\"\r\n                title=\"Open Navigation\"\r\n            >\r\n                <FaChevronLeft size={24} />\r\n            </button>\r\n        )}\r\n\r\n        <div className={`flex-1 transition-all duration-300 ${isRightSidebarOpen ? 'lg:mr-60' : 'mr-0'}`}>\r\n            <div className={`px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8`}>\r\n                {fromContextMenu && targetEmployeeId && (\r\n                    <div className={`mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-xl border-l-4 border-blue-500 shadow-md flex items-center space-x-3 ${theme === 'dark' ? 'bg-blue-900/20 text-blue-300' : 'bg-blue-50 text-blue-800'}`}>\r\n                        <FaEye className=\"flex-shrink-0\" />\r\n                        <p className=\"font-semibold text-sm sm:text-base break-words\">\r\n                            ðŸ” Viewing teams for employee: <span className=\"font-mono\">{targetEmployeeId}</span>\r\n                        </p>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 sm:mb-6 gap-4 mx-4 sm:mx-0\">\r\n                    <h1 className={`text-xl sm:text-2xl md:text-3xl font-bold flex items-center ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                        <FaUsers className=\"mr-2 sm:mr-3 text-blue-500\" /> \r\n                        {displayMode === 'MY_TEAMS' ? 'My Teams' : (fromContextMenu ? 'Employee Teams' : 'All Teams')}\r\n                    </h1>\r\n                    <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 w-full md:w-auto\">\r\n                        <div className=\"relative w-full sm:w-64\">\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search by team name...\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                                className={`w-full pl-8 sm:pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/30 transition-colors text-sm ${theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-800 placeholder-gray-500'}`}\r\n                            />\r\n                            <FaSearch className={`absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n                        </div>\r\n                        {matchedArray?.includes(\"CREATE_TEAM\") && !fromContextMenu && (\r\n                            <button\r\n                                onClick={() => setIsCreateModalOpen(true)}\r\n                                className=\"w-full sm:w-auto bg-black text-white px-4 sm:px-5 py-2 rounded-lg font-semibold hover:bg-gray-800 transition-colors flex items-center justify-center shadow-md text-sm\"\r\n                            >\r\n                                <FaPlus className=\"mr-2\" /> Create Team\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {renderContent()}\r\n\r\n                {renderCreateTeamModal()}\r\n                \r\n                <ConfirmationModal\r\n                    isOpen={isDeleteModalOpen}\r\n                    onClose={() => setIsDeleteModalOpen(false)}\r\n                    onConfirm={confirmDelete}\r\n                    title=\"Delete Team\"\r\n                    message={`Are you sure you want to delete the team \"${selectedTeam?.teamName}\"? This action cannot be undone.`}\r\n                    confirmText=\"Delete\"\r\n                    isConfirming={isSubmitting}\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n        {hasAdminPermissions && (\r\n            <aside\r\n                className={`fixed top-16 right-0 h-[calc(100vh-4rem)] border-l transition-all duration-300 z-50 flex flex-col ${\r\n                    isRightSidebarOpen ? 'w-60 translate-x-0' : 'w-0 translate-x-full'\r\n                } ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}\r\n            >\r\n                {isRightSidebarOpen && (\r\n                    <button\r\n                        onClick={() => setIsRightSidebarOpen(false)}\r\n                        className=\"absolute -left-12 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition-colors z-50 hidden md:block\"\r\n                        aria-label=\"Close Navigation Sidebar\"\r\n                        title=\"Close Navigation\"\r\n                    >\r\n                        <FaChevronRight size={24} />\r\n                    </button>\r\n                )}\r\n\r\n                <div className=\"p-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-700\">\r\n                    <h3 className={`text-lg font-bold ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Navigation</h3>\r\n                    <button\r\n                        onClick={() => setIsRightSidebarOpen(false)}\r\n                        className={`p-1 rounded-full ${theme === 'dark' ? 'text-gray-400 hover:text-white hover:bg-gray-700' : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'}`}\r\n                        title=\"Close Sidebar\"\r\n                    >\r\n                        <FaTimes size={18} />\r\n                    </button>\r\n                </div>\r\n                <nav className=\"flex-1 overflow-y-auto p-4 space-y-2\">\r\n                    <button\r\n                        onClick={handleMyTeamsClick}\r\n                        className={`w-full text-left py-2 px-3 rounded-lg font-medium flex items-center transition-colors ${\r\n                            displayMode === 'MY_TEAMS'\r\n                                ? 'bg-blue-600 text-white'\r\n                                : theme === 'dark'\r\n                                ? 'text-gray-300 hover:bg-gray-700 hover:text-white'\r\n                                : 'text-gray-700 hover:bg-gray-200'\r\n                        }`}\r\n                    >\r\n                        <FaUsers className=\"mr-2\" size={16} />\r\n                        My Teams\r\n                    </button>\r\n                    <button\r\n                        onClick={handleAllTeamsClick}\r\n                        className={`w-full text-left py-2 px-3 rounded-lg font-medium flex items-center transition-colors ${\r\n                            displayMode === 'ALL_TEAMS'\r\n                                ? 'bg-blue-600 text-white'\r\n                                : theme === 'dark'\r\n                                ? 'text-gray-300 hover:bg-gray-700 hover:text-white'\r\n                                : 'text-gray-700 hover:bg-gray-200'\r\n                        }`}\r\n                    >\r\n                        <FaUsers className=\"mr-2\" size={16} />\r\n                        All Teams\r\n                    </button>\r\n                </nav>\r\n            </aside>\r\n        )}\r\n\r\n        {isRightSidebarOpen && (\r\n            <div\r\n                className=\"fixed inset-0 bg-black/50 z-40 lg:hidden\"\r\n                onClick={() => setIsRightSidebarOpen(false)}\r\n            />\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllTeams;\r\n"],"names":["_ref","isOpen","onClose","onConfirm","title","message","confirmText","isConfirming","theme","useContext","Context","_jsx","className","children","_jsxs","style","borderColor","FaExclamationTriangle","onClick","FaTimes","disabled","_Fragment","useOutsideClick","handler","ignoreRefs","arguments","length","undefined","ref","useRef","useEffect","handleClickOutside","event","isIgnored","some","r","current","contains","target","document","addEventListener","removeEventListener","ProjectDropdown","value","onChange","error","setIsOpen","useState","searchTerm","setSearchTerm","projects","setProjects","loading","setLoading","hasMoreData","setHasMoreData","currentPage","setCurrentPage","totalPages","setTotalPages","allDataLoaded","setAllDataLoaded","isFetchingRef","scrollAreaRef","dropdownRef","loadProjects","useCallback","async","page","append","_response$data","_response$data2","_response$data3","console","log","response","publicinfoApi","get","data","fetchedProjects","content","newProjects","Array","isArray","prev","last","_error$response","handleScroll","e","scrollTop","scrollHeight","clientHeight","filteredProjects","filter","proj","_proj$title","_proj$projectId","toLowerCase","includes","projectId","toggleDropdown","label","FaChevronDown","AnimatePresence","motion","div","initial","opacity","y","animate","exit","FaSearch","type","placeholder","onScroll","map","project","isSelected","handleSelect","client","projectStatus","IoCheckmarkCircle","EmployeeDropdown","_ref2","isMulti","employees","setEmployees","loadEmployees","responseData","fetchedEmployees","newEmployees","_error$response2","filteredEmployees","emp","_emp$employeeId","displayName","firstName","lastName","employeeId","renderSelectedValue","defaultPlaceholder","currentValues","item","employee","employeeLabel","LoadingSpinner","ErrorDisplay","_ref3","AllTeams","teams","setTeams","setError","isCreateModalOpen","setIsCreateModalOpen","isDeleteModalOpen","setIsDeleteModalOpen","selectedTeam","setSelectedTeam","expandedTeams","setExpandedTeams","Set","matchedArray","setMatchedArray","isRightSidebarOpen","setIsRightSidebarOpen","displayMode","setDisplayMode","adminallteams","setAdminAllTeams","teamName","setTeamName","teamLead","setTeamLead","teamMembers","setTeamMembers","selectedProject","setSelectedProject","isSubmitting","setIsSubmitting","formErrors","setFormErrors","userData","userRoles","roles","canCreateTeam","location","useLocation","searchParams","URLSearchParams","search","fromContextMenu","targetEmployeeId","employeeIdToFetch","loggedinuserRole","fetchTeams","teamsArray","err","_err$response","fetchAdminAllTeams","teamsData","_error$response3","fetchForPermissionArray","_response$data4","authApi","permissions","_error$response4","currentDataSource","handleCreateTeam","team","preventDefault","validateForm","errors","trim","Object","keys","newTeamData","teamDescription","employeeIds","member","Boolean","post","alert","_err$response2","_err$response3","_err$response3$data","general","hasAdminPermissions","FaChevronLeft","size","FaEye","FaUsers","FaPlus","renderContent","isMyTeamsMode","teamTitle","teamsToRenderAfterSearch","index","_team$employees","_team$employees2","_team$employees3","teamId","isExpanded","has","isTeamExpanded","leadOrManager","find","jobTitlePrimary","otherMembers","membersToShow","slice","hasMoreMembers","membersToDisplay","FaUserShield","Link","to","handleDeleteClick","FaTrash","isYou","isLead","tagClass","newExpandedTeams","delete","add","toggleTeamExpansion","FaChevronUp","onSubmit","IoWarning","ConfirmationModal","t","_err$response4","FaChevronRight","handleMyTeamsClick","handleAllTeamsClick"],"sourceRoot":""}