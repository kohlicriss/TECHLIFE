"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[676],{7676:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(5043),r=a(5439),l=a(2397),o=a(184),n=a(5394),c=a(9910),d=a(579);const i=e=>{let{isOpen:t,onClose:a,onConfirm:r,title:l,message:n,confirmText:i="Confirm",isConfirming:m}=e;const{theme:x}=(0,s.useContext)(c.ob);return t?(0,d.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[250] p-2 sm:p-4",children:(0,d.jsxs)("div",{className:"rounded-xl sm:rounded-2xl w-full max-w-sm sm:max-w-md shadow-xl flex flex-col ".concat("dark"===x?"bg-gray-800 text-white":"bg-white"),children:[(0,d.jsxs)("div",{className:"p-4 sm:p-6 flex justify-between items-center border-b",style:{borderColor:"dark"===x?"#4b5563":"#e5e7eb"},children:[(0,d.jsxs)("h3",{className:"text-lg sm:text-xl font-bold flex items-center min-w-0 flex-1",children:[(0,d.jsx)(o.BS8,{className:"text-yellow-400 mr-2 sm:mr-3 w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),(0,d.jsx)("span",{className:"break-words",children:l})]}),(0,d.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors flex-shrink-0 ml-2",children:(0,d.jsx)(o.QCr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),(0,d.jsx)("div",{className:"p-4 sm:p-6",children:(0,d.jsx)("p",{className:"text-sm sm:text-base break-words ".concat("dark"===x?"text-gray-300":"text-gray-600"),children:n})}),(0,d.jsxs)("div",{className:"p-3 sm:p-4 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 border-t ".concat("dark"===x?"bg-gray-700/50 border-gray-700":"bg-gray-50 border-gray-200"),children:[(0,d.jsx)("button",{onClick:a,className:"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm ".concat("dark"===x?"bg-gray-600 hover:bg-gray-500 text-gray-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"),children:"Cancel"}),(0,d.jsx)("button",{onClick:r,disabled:m,className:"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white transition-colors flex items-center justify-center text-sm\n                                    ".concat(m?"bg-red-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"),children:m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"h-3 w-3 sm:h-4 sm:w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),(0,d.jsx)("span",{children:"Deleting..."})]}):(0,d.jsx)("span",{children:i})})]})]})}):null};var m=a(9570),x=a(6446);const g=e=>{let{value:t,onChange:a,theme:r,error:c,disabled:i}=e;const[g,u]=(0,s.useState)(!1),[h,y]=(0,s.useState)(""),[b,p]=(0,s.useState)([]),[f,j]=(0,s.useState)(!1),[v,w]=(0,s.useState)(!0),[N,k]=(0,s.useState)(0),C=(0,s.useRef)(!1),S=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!C.current&&(t||v)){C.current=!0,j(!0);try{var a,s;const r=await l.yE.get("employee/".concat(e,"/").concat(10,"/projectId/asc/projects")),o=(null===(a=r.data)||void 0===a?void 0:a.content)||[],n=Array.isArray(o)?o:[],c=(null===(s=r.data)||void 0===s?void 0:s.last)||!1;p(e=>{const a=Array.isArray(e)?e:[];return t?n:[...a,...n]}),k(e),w(!c)}catch(c){console.error("Error fetching projects:",c),w(!1)}finally{j(!1),C.current=!1}}},[v]);(0,s.useEffect)(()=>{g&&S(0,!0)},[g,S]);const A=(Array.isArray(b)?b:[]).filter(e=>{var t,a;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(a=e.projectId)||void 0===a?void 0:a.toLowerCase().includes(h.toLowerCase()))});return(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("div",{onClick:()=>{i||u(!g)},className:"w-full p-3 border-2 rounded-xl transition-all duration-300 cursor-pointer flex items-center justify-between ".concat(c?"border-red-300":"dark"===r?"border-gray-600":"border-gray-200"," ").concat(i?"opacity-50":""," ").concat("dark"===r?"bg-gray-700 text-white":"bg-white text-gray-900"),children:[(0,d.jsx)("span",{className:t?"":"dark"===r?"text-gray-400":"text-gray-500",children:t?t.label:"Select project..."}),(0,d.jsx)(o.Vr3,{className:"w-4 h-4 transition-transform ".concat(g?"rotate-180":""," ").concat("dark"===r?"text-gray-400":"text-gray-500")})]}),(0,d.jsx)(m.N,{children:g&&!i&&(0,d.jsxs)(x.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 border rounded-xl shadow-lg z-50 ".concat("dark"===r?"bg-gray-700 border-gray-600":"bg-white border-gray-200"),children:[(0,d.jsx)("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(o.KSO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,d.jsx)("input",{type:"text",placeholder:"Search projects...",value:h,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm ".concat("dark"===r?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500")})]})}),(0,d.jsxs)("div",{className:"max-h-60 overflow-y-auto",onScroll:e=>{const{scrollTop:t,scrollHeight:a,clientHeight:s}=e.target;a-t<=s+50&&v&&!C.current&&S(N+1)},children:[A.map(e=>{const s=(null===t||void 0===t?void 0:t.value)===e.projectId;return(0,d.jsxs)("div",{onClick:()=>(e=>{a({value:e.projectId,label:"".concat(e.projectId,"(").concat(e.title,")")}),u(!1)})(e),className:"p-3 cursor-pointer flex items-center justify-between ".concat(s?"bg-blue-50 dark:bg-blue-900/50":"hover:".concat("dark"===r?"bg-gray-600":"bg-gray-50")),children:[(0,d.jsxs)("div",{className:"dark"===r?"text-white":"text-gray-900",children:[(0,d.jsxs)("div",{className:"font-medium",children:[e.projectId,"(",e.title,")"]}),(0,d.jsxs)("div",{className:"text-sm ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:["Client: ",e.client," \u2022 Status: ",e.projectStatus]})]}),s&&(0,d.jsx)(n.G3G,{className:"w-5 h-5 text-blue-500"})]},e.projectId)}),f&&(0,d.jsx)("div",{className:"p-4 text-center text-sm ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:"Loading more projects..."}),!v&&b.length>0&&(0,d.jsx)("div",{className:"p-4 text-center text-sm font-medium ".concat("dark"===r?"text-gray-500":"text-gray-400"),children:"\ud83c\udfaf End of projects"})]})]})})]})},u=e=>{let{value:t,onChange:a,theme:r,error:i,disabled:g,isMulti:u=!1,placeholder:h}=e;const[y,b]=(0,s.useState)(!1),[p,f]=(0,s.useState)(""),[j,v]=(0,s.useState)([]),[w,N]=(0,s.useState)(!1),[k,C]=(0,s.useState)(!0),[S,A]=(0,s.useState)(0),{userData:T}=(0,s.useContext)(c.ob),E=(0,s.useRef)(!1),M=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!E.current&&(t||k)){E.current=!0,N(!0);try{const a=(await l.yE.get("employee/".concat(e,"/").concat(15,"/employeeId/asc/employees"))).data||{},s=a.content||[],r=Array.isArray(s)?s:[],o=a.last||!1;v(e=>{const a=Array.isArray(e)?e:[];return t?r:[...a,...r]}),A(e),C(!o)}catch(i){console.error("Error fetching employees:",i),C(!1)}finally{N(!1),E.current=!1}}},[k]);(0,s.useEffect)(()=>{y&&M(0,!0)},[y,M]);const I=(Array.isArray(j)?j:[]).filter(e=>{var t,a;return(null===(t=e.displayName)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase()))||(null===(a=e.employeeId)||void 0===a?void 0:a.toLowerCase().includes(p.toLowerCase()))});return(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("div",{onClick:()=>{g||b(!y)},className:"w-full p-3 border-2 rounded-xl transition-all duration-300 cursor-pointer flex items-center justify-between ".concat(i?"border-red-300":"dark"===r?"border-gray-600":"border-gray-200"," ").concat(g?"opacity-50":""," ").concat("dark"===r?"bg-gray-700 text-white":"bg-white text-gray-900"),children:[(0,d.jsx)("div",{className:"flex-1",children:(()=>{if(u){const e=Array.isArray(t)?t:[];return 0===e.length?(0,d.jsx)("span",{className:"dark"===r?"text-gray-400":"text-gray-500",children:"Select team members..."}):(0,d.jsx)("div",{className:"flex flex-wrap gap-1",children:e.map(e=>(0,d.jsx)("div",{className:"text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full ".concat("dark"===r?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-800"),children:e.label},e.value))})}return t?(0,d.jsx)("span",{children:t.label}):(0,d.jsx)("span",{className:"dark"===r?"text-gray-400":"text-gray-500",children:"Select a team lead..."})})()}),(0,d.jsx)(o.Vr3,{className:"w-4 h-4 transition-transform ".concat(y?"rotate-180":""," ").concat("dark"===r?"text-gray-400":"text-gray-500")})]}),(0,d.jsx)(m.N,{children:y&&!g&&(0,d.jsxs)(x.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 border rounded-xl shadow-lg z-50 ".concat("dark"===r?"bg-gray-700 border-gray-600":"bg-white border-gray-200"),children:[(0,d.jsx)("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(o.KSO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,d.jsx)("input",{type:"text",placeholder:"Search employees...",value:p,onChange:e=>f(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm ".concat("dark"===r?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500")})]})}),(0,d.jsxs)("div",{className:"max-h-60 overflow-y-auto",onScroll:e=>{const{scrollTop:t,scrollHeight:a,clientHeight:s}=e.target;a-t<=s+50&&k&&!E.current&&M(S+1)},children:[I.map(e=>{const s=u?Array.isArray(t)&&t.some(t=>t.value===e.employeeId):(null===t||void 0===t?void 0:t.value)===e.employeeId;return(0,d.jsxs)("div",{onClick:()=>(e=>{if(u){const s=Array.isArray(t)?t:[],r=s.some(t=>t.value===e.employeeId);a(r?s.filter(t=>t.value!==e.employeeId):[...s,{value:e.employeeId,label:"".concat(e.displayName," (").concat(e.employeeId,")")}])}else a({value:e.employeeId,label:"".concat(e.displayName," (").concat(e.employeeId,")")}),b(!1)})(e),className:"p-3 cursor-pointer flex items-center justify-between ".concat(s?"bg-blue-50 dark:bg-blue-900/50":"hover:".concat("dark"===r?"bg-gray-600":"bg-gray-50")),children:[(0,d.jsxs)("div",{className:"dark"===r?"text-white":"text-gray-900",children:[(0,d.jsx)("div",{className:"font-medium",children:e.displayName}),(0,d.jsx)("div",{className:"text-sm ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:e.employeeId})]}),s&&(0,d.jsx)(n.G3G,{className:"w-5 h-5 text-blue-500"})]},e.employeeId)}),w&&(0,d.jsx)("div",{className:"p-4 text-center text-sm ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:"Loading more employees..."}),!k&&j.length>0&&(0,d.jsx)("div",{className:"p-4 text-center text-sm font-medium ".concat("dark"===r?"text-gray-500":"text-gray-400"),children:"\ud83d\udc65 End of employees"})]})]})})]})},h=()=>(0,d.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 sm:h-32 sm:w-32 border-t-2 border-b-2 border-blue-500"})}),y=e=>{let{message:t}=e;return(0,d.jsxs)("div",{className:"text-center p-6 sm:p-8 bg-red-100 text-red-700 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-bold text-base sm:text-lg",children:"Oops! Something went wrong."}),(0,d.jsx)("p",{className:"text-sm sm:text-base",children:t})]})},b=()=>{const[e,t]=(0,s.useState)([]),[a,m]=(0,s.useState)(!0),[x,b]=(0,s.useState)(null),[p,f]=(0,s.useState)(!1),[j,v]=(0,s.useState)(!1),[w,N]=(0,s.useState)(null),[k,C]=(0,s.useState)(new Set),[S,A]=(0,s.useState)(""),[T,E]=(0,s.useState)(null),[M,I]=(0,s.useState)(!1),[L,_]=(0,s.useState)("MY_TEAMS"),[z,D]=(0,s.useState)([]),[F,Y]=(0,s.useState)(""),[O,P]=(0,s.useState)(null),[G,H]=(0,s.useState)([]),[R,X]=(0,s.useState)(null),[q,V]=(0,s.useState)(!1),[Q,B]=(0,s.useState)({}),{userData:K,theme:U}=(0,s.useContext)(c.ob),J=(null===K||void 0===K?void 0:K.roles)||[],Z=(J.includes("ADMIN")||J.includes("HR")||J.includes("MANAGER"),J.includes("ADMIN")||J.includes("HR")),W=(0,r.zy)(),$=new URLSearchParams(W.search),ee="true"===$.get("fromContextMenu"),te=$.get("targetEmployeeId"),ae=ee&&te?te:null===K||void 0===K?void 0:K.employeeId,se=null!==K&&void 0!==K&&K.roles[0]?"ROLE_".concat(K.roles[0]):null,re=async()=>{try{if(m(!0),!ae)return void b("Employee ID not found. Please login again.");const e=await l.yE.get("employee/team/".concat(ae)),a=Array.isArray(e.data)?e.data:[e.data];t(a||[]),b(null)}catch(e){b("Could not fetch teams data for employee ".concat(ae,"."))}finally{m(!1)}},le=async()=>{if(!T||!T.includes("ADMIN_FETCHING_ALLTEAMS"))return D([]),void m(!1);m(!0),D([]);try{const e=(await l.yE.get("employee/0/19/employeeId/asc/teams")).data;D(e),console.log("Admin Fetched Teams (ALL_TEAMS view) \u2705",e),b(null)}catch(x){console.log("Error From Admin Fetching All Teams \u274c",x),D([]),b("Failed to load all teams directory.")}finally{m(!1)}};(0,s.useEffect)(()=>{if(se){let e=async()=>{try{var e;let t=await l.ZQ.get("role-access/".concat(se));E(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.permissions)}catch(x){console.log("error from Fetching Error matching Objects:",x)}};e()}},[se]),(0,s.useEffect)(()=>{"MY_TEAMS"===L?re():"ALL_TEAMS"===L&&le()},[L,Z,ae,T]);const oe="MY_TEAMS"===L?e:z,ne=((Array.isArray(oe)?oe:[]).filter(e=>e.teamName&&e.teamName.toLowerCase().includes(S.toLowerCase())),async e=>{if(e.preventDefault(),!(()=>{const e={};return F.trim()||(e.teamName="Team Name is required."),O||(e.teamLead="Team Lead is required."),0===G.length&&(e.teamMembers="At least one Team Member is required."),R||(e.selectedProject="Project selection is required."),B(e),0===Object.keys(e).length})())return;V(!0),B({});const t={teamName:F,teamDescription:"Default Description",employeeIds:[null===O||void 0===O?void 0:O.value,...G.map(e=>e.value)].filter(Boolean),projectId:null===R||void 0===R?void 0:R.value};try{await l.yE.post("employee/team",t),"MY_TEAMS"===L&&await re(),f(!1),Y(""),P(null),H([]),X(null),alert("Team created successfully!")}catch(r){var a,s;B({general:(null===(a=r.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to create team. Please check the data and try again."})}finally{V(!1)}}),ce=T&&T.includes("ADMIN_FETCHING_ALLTEAMS");return(0,d.jsxs)("div",{className:"relative flex min-h-screen ".concat("dark"===U?"bg-gray-900":"bg-gray-50"),children:[ce&&!M&&(0,d.jsx)("button",{onClick:()=>I(!0),className:"fixed right-0 top-1/2 -translate-y-1/2 p-2 rounded-l-lg bg-indigo-600 text-white shadow-lg z-50 hover:bg-indigo-700 transition-colors","aria-label":"Open Navigation Sidebar",title:"Open Navigation",children:(0,d.jsx)(o._Jj,{size:24})}),(0,d.jsx)("div",{className:"flex-1 transition-all duration-300 ".concat(M?"lg:mr-60":"mr-0"),children:(0,d.jsxs)("div",{className:"px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[ee&&te&&(0,d.jsxs)("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-xl border-l-4 border-blue-500 shadow-md flex items-center space-x-3 ".concat("dark"===U?"bg-blue-900/20 text-blue-300":"bg-blue-50 text-blue-800"),children:[(0,d.jsx)(o.Ny1,{className:"flex-shrink-0"}),(0,d.jsxs)("p",{className:"font-semibold text-sm sm:text-base break-words",children:["\ud83d\udd0d Viewing teams for employee: ",(0,d.jsx)("span",{className:"font-mono",children:te})]})]}),(0,d.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 sm:mb-6 gap-4 mx-4 sm:mx-0",children:[(0,d.jsxs)("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold flex items-center ".concat("dark"===U?"text-white":"text-gray-800"),children:[(0,d.jsx)(o.YXz,{className:"mr-2 sm:mr-3 text-blue-500"}),"MY_TEAMS"===L?"My Teams":ee?"Employee Teams":"All Teams"]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 w-full md:w-auto",children:[(0,d.jsxs)("div",{className:"relative w-full sm:w-64",children:[(0,d.jsx)("input",{type:"text",placeholder:"Search by team name...",value:S,onChange:e=>A(e.target.value),className:"w-full pl-8 sm:pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/30 transition-colors text-sm ".concat("dark"===U?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500")}),(0,d.jsx)(o.KSO,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 ".concat("dark"===U?"text-gray-400":"text-gray-500")})]}),(null===T||void 0===T?void 0:T.includes("CREATE_TEAM"))&&!ee&&(0,d.jsxs)("button",{onClick:()=>f(!0),className:"w-full sm:w-auto bg-black text-white px-4 sm:px-5 py-2 rounded-lg font-semibold hover:bg-gray-800 transition-colors flex items-center justify-center shadow-md text-sm",children:[(0,d.jsx)(o.OiG,{className:"mr-2"})," Create Team"]})]})]}),(()=>{const e="MY_TEAMS"===L,t=e?"My Teams":"All Teams";if(a)return(0,d.jsx)(h,{});if(x&&e)return(0,d.jsx)(y,{message:x});const s=(Array.isArray(oe)?oe:[]).filter(e=>e.teamName&&e.teamName.toLowerCase().includes(S.toLowerCase()));return 0===s.length?(0,d.jsxs)("div",{className:"text-center py-12 sm:py-16 px-4",children:[(0,d.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 ".concat("dark"===U?"bg-gray-700":"bg-gray-100"),children:(0,d.jsx)(o.YXz,{className:"w-8 h-8 sm:w-10 sm:h-10 ".concat("text-gray-400")})}),(0,d.jsx)("h2",{className:"text-lg sm:text-xl font-bold mb-2 ".concat("dark"===U?"text-white":"text-gray-800"),children:S?'No Teams Found matching "'.concat(S,'"'):"".concat(t," Not Available")}),(0,d.jsx)("p",{className:"text-sm sm:text-base mb-4 max-w-md mx-auto ".concat("dark"===U?"text-gray-300":"text-gray-600"),children:e?"You are not part of any teams yet. Ask your manager to add you.":"No teams are currently listed in the directory or unable to fetch directory data."})]}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mx-4 sm:mx-0",children:s.map((e,t)=>{var a,s,l,n;const c=e.teamId||t,i=(e=>k.has(e))(c),m=i?e.employees:null===(a=e.employees)||void 0===a?void 0:a.slice(0,5),x=(null===(s=e.employees)||void 0===s?void 0:s.length)>5,g=null===(l=e.employees)||void 0===l?void 0:l.find(e=>"TEAM_LEAD"===e.jobTitlePrimary);return(0,d.jsxs)("div",{className:"rounded-none sm:rounded-lg shadow-lg overflow-hidden border transition-shadow duration-300 flex flex-col ".concat("dark"===U?"bg-gray-800 border-gray-700 hover:shadow-blue-500/20":"bg-white border-gray-200 hover:shadow-xl"),children:[(0,d.jsx)("div",{className:"p-4 sm:p-5",children:(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h2",{className:"text-lg sm:text-xl font-bold break-words ".concat("dark"===U?"text-white":"text-gray-900"),children:e.teamName}),g&&(0,d.jsxs)("div",{className:"flex items-center text-sm sm:text-md mt-2 ".concat("dark"===U?"text-gray-300":"text-gray-600"),children:[(0,d.jsx)(o.e7y,{className:"mr-2 text-green-500 flex-shrink-0"}),(0,d.jsx)("strong",{children:"Lead:"}),(0,d.jsx)("span",{className:"ml-1 break-words",children:g.displayName})]})]}),(0,d.jsxs)("div",{className:"flex space-x-2 flex-shrink-0",children:[(0,d.jsx)(r.N_,{to:"/teams/".concat(c),title:"View Details",className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:(0,d.jsx)(o.Ny1,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),(null===T||void 0===T?void 0:T.includes("TEAM_DELETE_BTN"))&&!ee&&(0,d.jsx)("button",{onClick:()=>(e=>{N(e),v(!0)})(e),title:"Delete Team",className:"p-2 text-gray-500 hover:text-red-500 transition-colors",children:(0,d.jsx)(o.qbC,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})}),(0,d.jsxs)("div",{className:"px-4 sm:px-5 py-3 sm:py-4 border-t mt-auto ".concat("dark"===U?"bg-gray-800/50 border-gray-700":"bg-gray-50 border-gray-200"),children:[(0,d.jsxs)("h3",{className:"font-semibold mb-2 text-sm sm:text-base ".concat("dark"===U?"text-gray-300":"text-gray-700"),children:["Members (",(null===(n=e.employees)||void 0===n?void 0:n.length)||0,")"]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:null===m||void 0===m?void 0:m.map(e=>(0,d.jsxs)("span",{className:"text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full break-words ".concat(e.employeeId===ae?"dark"===U?"bg-green-900 text-green-300":"bg-green-100 text-green-800":"dark"===U?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-800"),children:[e.displayName,e.employeeId===ae&&" (You)"]},e.employeeId))}),x&&(0,d.jsx)("button",{onClick:()=>(e=>{const t=new Set(k);t.has(e)?t.delete(e):t.add(e),C(t)})(c),className:"flex items-center space-x-1 text-xs sm:text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:i?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{children:"Show Less"}),(0,d.jsx)(o.Ucs,{className:"w-3 h-3"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("span",{children:["+",e.employees.length-5," more"]}),(0,d.jsx)(o.Vr3,{className:"w-3 h-3"})]})})]})]})]},c)})})})})(),p?(0,d.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4",children:(0,d.jsxs)("div",{className:"rounded-2xl sm:rounded-3xl w-full max-w-2xl max-h-[95vh] overflow-hidden shadow-2xl flex flex-col ".concat("dark"===U?"bg-gray-800":"bg-white"),children:[(0,d.jsx)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r from-blue-500 to-indigo-700 text-white relative",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,d.jsx)("div",{className:"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl flex-shrink-0",children:(0,d.jsx)(o.YXz,{className:"w-6 h-6 sm:w-8 sm:h-8"})}),(0,d.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,d.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold break-words",children:"Create New Team"}),(0,d.jsx)("p",{className:"text-white/90 text-xs sm:text-sm break-words",children:"Organize employees into a new team."})]})]}),(0,d.jsx)("button",{onClick:()=>{f(!1),Y(""),P(null),H([]),X(null),B({})},className:"p-2 sm:p-3 hover:bg-white/20 rounded-full transition-all group flex-shrink-0",children:(0,d.jsx)(o.QCr,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform"})})]})}),(0,d.jsx)("div",{className:"overflow-y-auto flex-grow",children:(0,d.jsxs)("form",{className:"p-4 sm:p-6 md:p-8",onSubmit:ne,children:[(0,d.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 ".concat("dark"===U?"text-gray-200":"text-gray-800"),children:["Team Name ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)("input",{type:"text",value:F,onChange:e=>Y(e.target.value),className:"w-full p-3 border-2 rounded-xl transition-colors ".concat(Q.teamName?"border-red-300":"dark"===U?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white text-gray-900"),placeholder:"e.g., Development Team"}),Q.teamName&&(0,d.jsx)("p",{className:"text-red-500 text-xs mt-1",children:Q.teamName})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 ".concat("dark"===U?"text-gray-200":"text-gray-800"),children:["Project ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)(g,{value:R,onChange:X,theme:U,error:Q.selectedProject}),Q.selectedProject&&(0,d.jsx)("p",{className:"text-red-500 text-xs mt-1",children:Q.selectedProject})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 ".concat("dark"===U?"text-gray-200":"text-gray-800"),children:["Team Lead ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)(u,{value:O,onChange:P,theme:U,error:Q.teamLead}),Q.teamLead&&(0,d.jsx)("p",{className:"text-red-500 text-xs mt-1",children:Q.teamLead})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 ".concat("dark"===U?"text-gray-200":"text-gray-800"),children:["Team Members ",(0,d.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,d.jsx)(u,{value:G,onChange:H,theme:U,error:Q.teamMembers,isMulti:!0}),Q.teamMembers&&(0,d.jsx)("p",{className:"text-red-500 text-xs mt-1",children:Q.teamMembers})]})]}),Q.general&&(0,d.jsx)("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 border-l-4 border-red-400 rounded-r-lg ".concat("dark"===U?"bg-red-900/20":"bg-red-50"),children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(n.tr_,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400 mr-3 flex-shrink-0"}),(0,d.jsx)("p",{className:"font-medium text-sm ".concat("dark"===U?"text-red-300":"text-red-800"),children:Q.general})]})})]})}),(0,d.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 ".concat("dark"===U?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:[(0,d.jsx)("button",{type:"button",onClick:()=>{f(!1),Y(""),P(null),H([]),X(null),B({})},className:"w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold transition-all text-sm ".concat("dark"===U?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100"),children:"Cancel"}),(0,d.jsx)("button",{type:"button",onClick:ne,disabled:q,className:"w-full sm:w-auto px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white font-bold rounded-lg sm:rounded-xl\n                                     hover:shadow-lg transform hover:scale-105 transition-all flex items-center justify-center space-x-2 text-sm\n                                     ".concat(q?"cursor-not-allowed opacity-75":""),children:q?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full animate-spin"}),(0,d.jsx)("span",{children:"Creating..."})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.G3G,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,d.jsx)("span",{children:"Create Team"})]})})]})]})}):null,(0,d.jsx)(i,{isOpen:j,onClose:()=>v(!1),onConfirm:async()=>{if(w){V(!0);try{await l.yE.delete("employee/".concat(w.teamId,"/team")),"MY_TEAMS"===L?t(e.filter(e=>e.teamId!==w.teamId)):"ALL_TEAMS"===L&&D(z.filter(e=>e.teamId!==w.teamId)),v(!1),N(null),alert("Team deleted successfully!")}catch(a){alert("Failed to delete team.")}finally{V(!1)}}},title:"Delete Team",message:'Are you sure you want to delete the team "'.concat(null===w||void 0===w?void 0:w.teamName,'"? This action cannot be undone.'),confirmText:"Delete",isConfirming:q})]})}),ce&&(0,d.jsxs)("aside",{className:"fixed top-16 right-0 h-[calc(100vh-4rem)] border-l transition-all duration-300 z-50 flex flex-col ".concat(M?"w-60 translate-x-0":"w-0 translate-x-full"," ").concat("dark"===U?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[M&&(0,d.jsx)("button",{onClick:()=>I(!1),className:"absolute -left-12 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition-colors z-50 hidden md:block","aria-label":"Close Navigation Sidebar",title:"Close Navigation",children:(0,d.jsx)(o.X6T,{size:24})}),(0,d.jsxs)("div",{className:"p-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-700",children:[(0,d.jsx)("h3",{className:"text-lg font-bold ".concat("dark"===U?"text-white":"text-gray-800"),children:"Navigation"}),(0,d.jsx)("button",{onClick:()=>I(!1),className:"p-1 rounded-full ".concat("dark"===U?"text-gray-400 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),title:"Close Sidebar",children:(0,d.jsx)(o.QCr,{size:18})})]}),(0,d.jsxs)("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[(0,d.jsxs)("button",{onClick:()=>{_("MY_TEAMS"),I(!1)},className:"w-full text-left py-2 px-3 rounded-lg font-medium flex items-center transition-colors ".concat("MY_TEAMS"===L?"bg-blue-600 text-white":"dark"===U?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-700 hover:bg-gray-200"),children:[(0,d.jsx)(o.YXz,{className:"mr-2",size:16}),"My Teams"]}),(0,d.jsxs)("button",{onClick:()=>{_("ALL_TEAMS"),I(!1),le()},className:"w-full text-left py-2 px-3 rounded-lg font-medium flex items-center transition-colors ".concat("ALL_TEAMS"===L?"bg-blue-600 text-white":"dark"===U?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-700 hover:bg-gray-200"),children:[(0,d.jsx)(o.YXz,{className:"mr-2",size:16}),"All Teams"]})]})]}),M&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>I(!1)})]})}}}]);
//# sourceMappingURL=676.a8862bbe.chunk.js.map