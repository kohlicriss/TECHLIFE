{"version":3,"file":"static/js/676.a8862bbe.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Teams/ConfirmationModal.jsx","TechLife/HRMS/Components/Teams/AllTeams.jsx"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { FaTimes, FaExclamationTriangle } from 'react-icons/fa';\r\nimport { Context } from '../HrmsContext';\r\n\r\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message, confirmText = 'Confirm', isConfirming }) => {\r\n    const { theme } = useContext(Context);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[250] p-2 sm:p-4\">\r\n            <div className={`rounded-xl sm:rounded-2xl w-full max-w-sm sm:max-w-md shadow-xl flex flex-col ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-white'}`}>\r\n                {/* Header */}\r\n                <div className=\"p-4 sm:p-6 flex justify-between items-center border-b\" style={{borderColor: theme === 'dark' ? '#4b5563' : '#e5e7eb'}}>\r\n                    <h3 className=\"text-lg sm:text-xl font-bold flex items-center min-w-0 flex-1\">\r\n                        <FaExclamationTriangle className=\"text-yellow-400 mr-2 sm:mr-3 w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0\" />\r\n                        <span className=\"break-words\">{title}</span>\r\n                    </h3>\r\n                    <button \r\n                        onClick={onClose} \r\n                        className=\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors flex-shrink-0 ml-2\"\r\n                    >\r\n                        <FaTimes className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Message Content */}\r\n                <div className=\"p-4 sm:p-6\">\r\n                    <p className={`text-sm sm:text-base break-words ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                        {message}\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Footer Buttons */}\r\n                <div className={`p-3 sm:p-4 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 border-t ${theme === 'dark' ? 'bg-gray-700/50 border-gray-700' : 'bg-gray-50 border-gray-200'}`}>\r\n                    <button \r\n                        onClick={onClose} \r\n                        className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button \r\n                        onClick={onConfirm}\r\n                        disabled={isConfirming}\r\n                        className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white transition-colors flex items-center justify-center text-sm\r\n                                    ${isConfirming ? 'bg-red-400 cursor-not-allowed' : 'bg-red-600 hover:bg-red-700'}`}\r\n                    >\r\n                        {isConfirming ? (\r\n                            <>\r\n                                <div className=\"h-3 w-3 sm:h-4 sm:w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                                <span>Deleting...</span>\r\n                            </>\r\n                        ) : (\r\n                            <span>{confirmText}</span>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ConfirmationModal;\r\n","import React, { useState, useEffect, useContext, useCallback, useRef } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { publicinfoApi ,authApi} from '../../../../axiosInstance';\r\nimport { FaUsers, FaPlus, FaUserShield, FaTimes, FaChevronDown, FaChevronUp, FaTrash, FaEye, FaSearch, FaChevronLeft, FaChevronRight } from 'react-icons/fa'; \r\nimport { IoCheckmarkCircle, IoWarning } from 'react-icons/io5';\r\nimport { Context } from '../HrmsContext';\r\nimport ConfirmationModal from './ConfirmationModal';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\n// --- Project Dropdown with Infinite Scroll (UPDATED WITH PAGINATION SUPPORT) ---\r\nconst ProjectDropdown = ({ value, onChange, theme, error, disabled }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [projects, setProjects] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasMore, setHasMore] = useState(true);\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    \r\n    const isFetchingRef = useRef(false);\r\n\r\n    const PAGE_SIZE = 10;\r\n\r\n    const loadProjects = useCallback(async (page = 0, reset = false) => {\r\n        if (isFetchingRef.current) return;\r\n        if (!reset && !hasMore) return; \r\n\r\n        isFetchingRef.current = true;\r\n        setLoading(true);\r\n        \r\n        try {\r\n            const response = await publicinfoApi.get(`employee/${page}/${PAGE_SIZE}/projectId/asc/projects`);\r\n            \r\n            // âœ… UPDATED: Use response.data.content for data and response.data.last for pagination\r\n            const fetchedProjects = response.data?.content || [];\r\n            const newProjects = Array.isArray(fetchedProjects) ? fetchedProjects : [];\r\n            const isLastPage = response.data?.last || false; // Check if this is the last page\r\n            \r\n            setProjects(prev => {\r\n                const prevArray = Array.isArray(prev) ? prev : [];\r\n                return reset ? newProjects : [...prevArray, ...newProjects];\r\n            });\r\n            \r\n            setCurrentPage(page);\r\n            // âœ… UPDATED: Use response.data.last to determine if there are more pages\r\n            setHasMore(!isLastPage);\r\n        } catch (error) {\r\n            console.error('Error fetching projects:', error);\r\n            setHasMore(false);\r\n        } finally {\r\n            setLoading(false);\r\n            isFetchingRef.current = false;\r\n        }\r\n    }, [hasMore]);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            loadProjects(0, true);\r\n        }\r\n    }, [isOpen, loadProjects]);\r\n\r\n    const handleScroll = (e) => {\r\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n        if (scrollHeight - scrollTop <= clientHeight + 50 && hasMore && !isFetchingRef.current) {\r\n            loadProjects(currentPage + 1);\r\n        }\r\n    };\r\n\r\n    const handleSelect = (project) => {\r\n        onChange({ value: project.projectId, label: `${project.projectId}(${project.title})` });\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const toggleDropdown = () => {\r\n        if (!disabled) setIsOpen(!isOpen);\r\n    };\r\n\r\n    const safeProjects = Array.isArray(projects) ? projects : [];\r\n\r\n    const filteredProjects = safeProjects.filter(proj => \r\n        proj.title?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        proj.projectId?.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"relative\">\r\n            <div \r\n                onClick={toggleDropdown} \r\n                className={`w-full p-3 border-2 rounded-xl transition-all duration-300 cursor-pointer flex items-center justify-between ${\r\n                    error ? 'border-red-300' : (theme === 'dark' ? 'border-gray-600' : 'border-gray-200')\r\n                } ${disabled ? 'opacity-50' : ''} ${\r\n                    theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-900'\r\n                }`}\r\n            >\r\n                <span className={!value ? (theme === 'dark' ? 'text-gray-400' : 'text-gray-500') : ''}>\r\n                    {value ? value.label : 'Select project...'}\r\n                </span>\r\n                <FaChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''} ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </div>\r\n            <AnimatePresence>\r\n                {isOpen && !disabled && (\r\n                    <motion.div \r\n                        initial={{ opacity: 0, y: -10 }} \r\n                        animate={{ opacity: 1, y: 0 }} \r\n                        exit={{ opacity: 0, y: -10 }} \r\n                        className={`absolute top-full left-0 right-0 mt-2 border rounded-xl shadow-lg z-50 ${\r\n                            theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-white border-gray-200'\r\n                        }`}\r\n                    >\r\n                        <div className=\"p-2 border-b border-gray-200 dark:border-gray-600\">\r\n                            <div className=\"relative\">\r\n                                <FaSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                                <input \r\n                                    type=\"text\" \r\n                                    placeholder=\"Search projects...\" \r\n                                    value={searchTerm} \r\n                                    onChange={(e) => setSearchTerm(e.target.value)} \r\n                                    className={`w-full pl-10 pr-4 py-2 border rounded-lg text-sm ${\r\n                                        theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`} \r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"max-h-60 overflow-y-auto\" onScroll={handleScroll}>\r\n                            {filteredProjects.map(project => {\r\n                                const isSelected = value?.value === project.projectId;\r\n                                return (\r\n                                    <div \r\n                                        key={project.projectId} \r\n                                        onClick={() => handleSelect(project)} \r\n                                        className={`p-3 cursor-pointer flex items-center justify-between ${\r\n                                            isSelected ? 'bg-blue-50 dark:bg-blue-900/50' : `hover:${theme === 'dark' ? 'bg-gray-600' : 'bg-gray-50'}`\r\n                                        }`}\r\n                                    >\r\n                                        <div className={theme === 'dark' ? 'text-white' : 'text-gray-900'}>\r\n                                            <div className=\"font-medium\">{project.projectId}({project.title})</div>\r\n                                            <div className={`text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                                Client: {project.client} â€¢ Status: {project.projectStatus}\r\n                                            </div>\r\n                                        </div>\r\n                                        {isSelected && <IoCheckmarkCircle className=\"w-5 h-5 text-blue-500\" />}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                            {loading && (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading more projects...\r\n                                </div>\r\n                            )}\r\n                            {/* âœ… UPDATED: Show \"End of projects\" message when no more data */}\r\n                            {!hasMore && projects.length > 0 && (\r\n                                <div className={`p-4 text-center text-sm font-medium ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    ðŸŽ¯ End of projects\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Employee Dropdown with Infinite Scroll (UPDATED WITH PAGINATION SUPPORT) ---\r\nconst EmployeeDropdown = ({ value, onChange, theme, error, disabled, isMulti = false, placeholder }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [employees, setEmployees] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasMore, setHasMore] = useState(true);\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const { userData } = useContext(Context);\r\n    \r\n    const isFetchingRef = useRef(false);\r\n    \r\n    const PAGE_SIZE = 15;\r\n\r\n    const loadEmployees = useCallback(async (page = 0, reset = false) => {\r\n        if (isFetchingRef.current) return;\r\n        if (!reset && !hasMore) return;\r\n\r\n        isFetchingRef.current = true;\r\n        setLoading(true);\r\n        \r\n        try {\r\n            const response = await publicinfoApi.get(`employee/${page}/${PAGE_SIZE}/employeeId/asc/employees`);\r\n            \r\n            // âœ… UPDATED: Use response.data.content for data and response.data.last for pagination\r\n            const responseData = response.data || {};\r\n            const fetchedEmployees = responseData.content || []; \r\n            const newEmployees = Array.isArray(fetchedEmployees) ? fetchedEmployees : [];\r\n            const isLastPage = responseData.last || false; // Check if this is the last page\r\n            \r\n            setEmployees(prev => {\r\n                const prevArray = Array.isArray(prev) ? prev : [];\r\n                return reset ? newEmployees : [...prevArray, ...newEmployees];\r\n            });\r\n            \r\n            setCurrentPage(page);\r\n            // âœ… UPDATED: Use response.data.last to determine if there are more pages\r\n            setHasMore(!isLastPage);\r\n        } catch (error) {\r\n            console.error('Error fetching employees:', error);\r\n            setHasMore(false);\r\n        } finally {\r\n            setLoading(false);\r\n            isFetchingRef.current = false; \r\n        }\r\n    }, [hasMore]);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            loadEmployees(0, true);\r\n        }\r\n    }, [isOpen, loadEmployees]);\r\n\r\n    const handleScroll = (e) => {\r\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n        \r\n        if (scrollHeight - scrollTop <= clientHeight + 50 && hasMore && !isFetchingRef.current) {\r\n            loadEmployees(currentPage + 1);\r\n        }\r\n    };\r\n\r\n    const handleSelect = (employee) => {\r\n        if (isMulti) {\r\n            const currentValues = Array.isArray(value) ? value : [];\r\n            const isSelected = currentValues.some(item => item.value === employee.employeeId);\r\n            if (isSelected) {\r\n                onChange(currentValues.filter(item => item.value !== employee.employeeId));\r\n            } else {\r\n                onChange([...currentValues, { value: employee.employeeId, label: `${employee.displayName} (${employee.employeeId})` }]);\r\n            }\r\n        } else {\r\n            onChange({ value: employee.employeeId, label: `${employee.displayName} (${employee.employeeId})` });\r\n            setIsOpen(false);\r\n        }\r\n    };\r\n\r\n    const toggleDropdown = () => {\r\n        if (!disabled) setIsOpen(!isOpen);\r\n    };\r\n\r\n    const safeEmployees = Array.isArray(employees) ? employees : [];\r\n    \r\n    const filteredEmployees = safeEmployees.filter(emp => \r\n        emp.displayName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        emp.employeeId?.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    const renderSelectedValue = () => {\r\n        if (isMulti) {\r\n            const currentValues = Array.isArray(value) ? value : [];\r\n            if (currentValues.length === 0) return <span className={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>Select team members...</span>;\r\n            return (\r\n                <div className=\"flex flex-wrap gap-1\">\r\n                    {currentValues.map(item => (\r\n                        <div key={item.value} className={`text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full ${theme === 'dark' ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800'}`}>\r\n                            {item.label}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            );\r\n        } else {\r\n            if (!value) return <span className={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>Select a team lead...</span>;\r\n            return <span>{value.label}</span>;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative\">\r\n            <div onClick={toggleDropdown} className={`w-full p-3 border-2 rounded-xl transition-all duration-300 cursor-pointer flex items-center justify-between ${error ? 'border-red-300' : (theme === 'dark' ? 'border-gray-600' : 'border-gray-200')} ${disabled ? 'opacity-50' : ''} ${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-900'}`}>\r\n                <div className=\"flex-1\">{renderSelectedValue()}</div>\r\n                <FaChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''} ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </div>\r\n            <AnimatePresence>\r\n                {isOpen && !disabled && (\r\n                    <motion.div initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -10 }} className={`absolute top-full left-0 right-0 mt-2 border rounded-xl shadow-lg z-50 ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-white border-gray-200'}`}>\r\n                        <div className=\"p-2 border-b border-gray-200 dark:border-gray-600\">\r\n                            <div className=\"relative\">\r\n                                <FaSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                                <input type=\"text\" placeholder=\"Search employees...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className={`w-full pl-10 pr-4 py-2 border rounded-lg text-sm ${theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'}`} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"max-h-60 overflow-y-auto\" onScroll={handleScroll}>\r\n                            {filteredEmployees.map(employee => {\r\n                                const isSelected = isMulti ? (Array.isArray(value) && value.some(item => item.value === employee.employeeId)) : value?.value === employee.employeeId;\r\n                                return (\r\n                                    <div key={employee.employeeId} onClick={() => handleSelect(employee)} className={`p-3 cursor-pointer flex items-center justify-between ${isSelected ? 'bg-blue-50 dark:bg-blue-900/50' : `hover:${theme === 'dark' ? 'bg-gray-600' : 'bg-gray-50'}`}`}>\r\n                                        <div className={theme === 'dark' ? 'text-white' : 'text-gray-900'}>\r\n                                            <div className=\"font-medium\">{employee.displayName}</div>\r\n                                            <div className={`text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>{employee.employeeId}</div>\r\n                                        </div>\r\n                                        {isSelected && <IoCheckmarkCircle className=\"w-5 h-5 text-blue-500\" />}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                            {loading && <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>Loading more employees...</div>}\r\n                            \r\n                            {/* âœ… UPDATED: Show \"End of employees\" message when no more data */}\r\n                            {!hasMore && employees.length > 0 && (\r\n                                <div className={`p-4 text-center text-sm font-medium ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    ðŸ‘¥ End of employees\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst LoadingSpinner = () => (\r\n  <div className=\"flex justify-center items-center h-64\">\r\n    <div className=\"animate-spin rounded-full h-16 w-16 sm:h-32 sm:w-32 border-t-2 border-b-2 border-blue-500\"></div>\r\n  </div>\r\n);\r\n\r\nconst ErrorDisplay = ({ message }) => (\r\n  <div className=\"text-center p-6 sm:p-8 bg-red-100 text-red-700 rounded-lg\">\r\n    <h3 className=\"font-bold text-base sm:text-lg\">Oops! Something went wrong.</h3>\r\n    <p className=\"text-sm sm:text-base\">{message}</p>\r\n  </div>\r\n);\r\n\r\nconst AllTeams = () => {\r\n  const [teams, setTeams] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n  const [selectedTeam, setSelectedTeam] = useState(null);\r\n  const [expandedTeams, setExpandedTeams] = useState(new Set()); // Fixed initialization\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [matchedArray,setMatchedArray]=useState(null);\r\n  const [isRightSidebarOpen, setIsRightSidebarOpen] = useState(false); // New State\r\n  const [displayMode, setDisplayMode] = useState('MY_TEAMS'); // New state for view mode: 'MY_TEAMS' or 'ALL_TEAMS'\r\n  const [adminallteams, setAdminAllTeams] = useState([]); // State for ALL_TEAMS data\r\n\r\n  // Form state\r\n  const [teamName, setTeamName] = useState('');\r\n  const [teamLead, setTeamLead] = useState(null);\r\n  const [teamMembers, setTeamMembers] = useState([]);\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [formErrors, setFormErrors] = useState({});\r\n\r\n  const { userData, theme } = useContext(Context);\r\n  const userRoles = userData?.roles || [];\r\n  const canModifyTeam = userRoles.includes('ADMIN') || userRoles.includes('HR') || userRoles.includes('MANAGER');\r\n  const canCreateTeam = userRoles.includes('ADMIN') || userRoles.includes('HR');\r\n\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n  const employeeIdToFetch = fromContextMenu && targetEmployeeId ? targetEmployeeId : userData?.employeeId;\r\n\r\n  const loggedinuserRole = userData?.roles[0] \r\n  ? `ROLE_${userData.roles[0]}` \r\n  : null;\r\n\r\n  const toggleTeamExpansion = (teamId) => {\r\n    const newExpandedTeams = new Set(expandedTeams);\r\n    if (newExpandedTeams.has(teamId)) {\r\n      newExpandedTeams.delete(teamId);\r\n    } else {\r\n      newExpandedTeams.add(teamId);\r\n    }\r\n    setExpandedTeams(newExpandedTeams);\r\n  };\r\n\r\n  const isTeamExpanded = (teamId) => expandedTeams.has(teamId);\r\n\r\n  const fetchTeams = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      if (!employeeIdToFetch) {\r\n        setError(\"Employee ID not found. Please login again.\");\r\n        return;\r\n      }\r\n\r\n      // Fetch teams based on the logged-in/target employee\r\n      const response = await publicinfoApi.get(`employee/team/${employeeIdToFetch}`);\r\n      \r\n      const teamsArray = Array.isArray(response.data) ? response.data : [response.data];\r\n      setTeams(teamsArray || []);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(`Could not fetch teams data for employee ${employeeIdToFetch}.`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Function to fetch or load All Teams data, using the API endpoint directly\r\n  const fetchAdminAllTeams = async () => {\r\n    if (!matchedArray || !matchedArray.includes(\"ADMIN_FETCHING_ALLTEAMS\")) {\r\n      setAdminAllTeams([]);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setAdminAllTeams([]); // Clear previous state\r\n    \r\n    try {\r\n      // Use the actual API endpoint\r\n      let response = await publicinfoApi.get(\r\n        \"employee/0/19/employeeId/asc/teams\"\r\n      );\r\n      \r\n      const teamsData = response.data;\r\n      setAdminAllTeams(teamsData);\r\n      console.log(\"Admin Fetched Teams (ALL_TEAMS view) âœ…\", teamsData);\r\n      setError(null);\r\n    } catch (error) {\r\n      console.log(\"Error From Admin Fetching All Teams âŒ\", error);\r\n      setAdminAllTeams([]); \r\n      setError('Failed to load all teams directory.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n\r\n   useEffect(() => {\r\n    if(loggedinuserRole) {\r\n        let fetchForPermissionArray=async()=>{\r\n            try {\r\n                let response=await authApi.get(`role-access/${loggedinuserRole}`);\r\n                setMatchedArray(response?.data?.permissions);\r\n            } catch (error) {\r\n                console.log(\"error from Fetching Error matching Objects:\",error);\r\n            }\r\n        }\r\n        fetchForPermissionArray();\r\n    }\r\n  },[loggedinuserRole]);\r\n\r\n  useEffect(() => {\r\n    if (displayMode === 'MY_TEAMS') {\r\n        fetchTeams();\r\n    } else if (displayMode === 'ALL_TEAMS') {\r\n        // Run admin fetch when switching to ALL_TEAMS mode\r\n        fetchAdminAllTeams();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [displayMode, canCreateTeam, employeeIdToFetch, matchedArray]);\r\n  \r\n  // Determine the current data source based on displayMode\r\n  const currentDataSource = displayMode === 'MY_TEAMS' ? teams : adminallteams;\r\n\r\n  // Filter current data source based on search term\r\n  const filteredCurrentTeams = (Array.isArray(currentDataSource) ? currentDataSource : []).filter(team =>\r\n    team.teamName && team.teamName.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    if (!teamName.trim()) errors.teamName = \"Team Name is required.\";\r\n    if (!teamLead) errors.teamLead = \"Team Lead is required.\";\r\n    if (teamMembers.length === 0) errors.teamMembers = \"At least one Team Member is required.\";\r\n    if (!selectedProject) errors.selectedProject = \"Project selection is required.\";\r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleCreateTeam = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateForm()) return;\r\n\r\n    setIsSubmitting(true);\r\n    setFormErrors({});\r\n\r\n    const newTeamData = {\r\n        teamName,\r\n        teamDescription: \"Default Description\",\r\n        employeeIds: [teamLead?.value, ...teamMembers.map(member => member.value)].filter(Boolean),\r\n        projectId: selectedProject?.value // Send only the project ID\r\n    };\r\n\r\n    try {\r\n        await publicinfoApi.post('employee/team', newTeamData);\r\n        \r\n        // Refresh My Teams list after creation\r\n        if (displayMode === 'MY_TEAMS') {\r\n            await fetchTeams();\r\n        }\r\n\r\n        // Reset form\r\n        setIsCreateModalOpen(false);\r\n        setTeamName('');\r\n        setTeamLead(null);\r\n        setTeamMembers([]);\r\n        setSelectedProject(null);\r\n        alert('Team created successfully!');\r\n    } catch (err) {\r\n        setFormErrors({ general: err.response?.data?.message || 'Failed to create team. Please check the data and try again.' });\r\n    } finally {\r\n        setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteClick = (team) => {\r\n    setSelectedTeam(team);\r\n    setIsDeleteModalOpen(true);\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!selectedTeam) return;\r\n\r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n        await publicinfoApi.delete(`employee/${selectedTeam.teamId}/team`);\r\n        \r\n        if (displayMode === 'MY_TEAMS') {\r\n            setTeams(teams.filter(t => t.teamId !== selectedTeam.teamId));\r\n        } else if (displayMode === 'ALL_TEAMS') {\r\n            // Update the ALL TEAMS list if we are viewing it\r\n            setAdminAllTeams(adminallteams.filter(t => t.teamId !== selectedTeam.teamId));\r\n        }\r\n        \r\n        setIsDeleteModalOpen(false);\r\n        setSelectedTeam(null);\r\n        alert('Team deleted successfully!');\r\n    } catch (err) {\r\n        alert('Failed to delete team.');\r\n    } finally {\r\n        setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const renderCreateTeamModal = () => {\r\n    if (!isCreateModalOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4\">\r\n            <div className={`rounded-2xl sm:rounded-3xl w-full max-w-2xl max-h-[95vh] overflow-hidden shadow-2xl flex flex-col ${\r\n              theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n            }`}>\r\n                <div className=\"px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r from-blue-500 to-indigo-700 text-white relative\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n                            <div className=\"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl flex-shrink-0\">\r\n                                <FaUsers className=\"w-6 h-6 sm:w-8 sm:h-8\" />\r\n                            </div>\r\n                            <div className=\"min-w-0 flex-1\">\r\n                                <h2 className=\"text-lg sm:text-xl md:text-2xl font-bold break-words\">Create New Team</h2>\r\n                                <p className=\"text-white/90 text-xs sm:text-sm break-words\">Organize employees into a new team.</p>\r\n                            </div>\r\n                        </div>\r\n                        <button onClick={() => {\r\n                            setIsCreateModalOpen(false);\r\n                            // Reset form\r\n                            setTeamName('');\r\n                            setTeamLead(null);\r\n                            setTeamMembers([]);\r\n                            setSelectedProject(null);\r\n                            setFormErrors({});\r\n                        }} className=\"p-2 sm:p-3 hover:bg-white/20 rounded-full transition-all group flex-shrink-0\">\r\n                            <FaTimes className=\"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"overflow-y-auto flex-grow\">\r\n                    <form className=\"p-4 sm:p-6 md:p-8\" onSubmit={handleCreateTeam}>\r\n                        <div className=\"space-y-4 sm:space-y-6\">\r\n                           <div>\r\n                                <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                    Team Name <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <input \r\n                                    type=\"text\" \r\n                                    value={teamName} \r\n                                    onChange={(e) => setTeamName(e.target.value)} \r\n                                    className={`w-full p-3 border-2 rounded-xl transition-colors ${\r\n                                        formErrors.teamName ? 'border-red-300' : (theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900')\r\n                                    }`} \r\n                                    placeholder=\"e.g., Development Team\" \r\n                                />\r\n                                {formErrors.teamName && <p className=\"text-red-500 text-xs mt-1\">{formErrors.teamName}</p>}\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                    Project <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <ProjectDropdown \r\n                                    value={selectedProject} \r\n                                    onChange={setSelectedProject} \r\n                                    theme={theme} \r\n                                    error={formErrors.selectedProject} \r\n                                />\r\n                                {formErrors.selectedProject && <p className=\"text-red-500 text-xs mt-1\">{formErrors.selectedProject}</p>}\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                    Team Lead <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <EmployeeDropdown value={teamLead} onChange={setTeamLead} theme={theme} error={formErrors.teamLead} />\r\n                                {formErrors.teamLead && <p className=\"text-red-500 text-xs mt-1\">{formErrors.teamLead}</p>}\r\n                            </div>\r\n                            <div>\r\n                                <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                    Team Members <span className=\"text-red-500\">*</span>\r\n                                </label>\r\n                                <EmployeeDropdown value={teamMembers} onChange={setTeamMembers} theme={theme} error={formErrors.teamMembers} isMulti={true} />\r\n                                {formErrors.teamMembers && <p className=\"text-red-500 text-xs mt-1\">{formErrors.teamMembers}</p>}\r\n                            </div>\r\n                        </div>\r\n                        {formErrors.general && (\r\n                            <div className={`mt-4 sm:mt-6 p-3 sm:p-4 border-l-4 border-red-400 rounded-r-lg ${theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'}`}>\r\n                                <div className=\"flex items-center\">\r\n                                    <IoWarning className=\"w-4 h-4 sm:w-5 sm:h-5 text-red-400 mr-3 flex-shrink-0\" />\r\n                                    <p className={`font-medium text-sm ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>{formErrors.general}</p>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </form>\r\n                </div>\r\n\r\n                <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'}`}>\r\n                    <button \r\n                        type=\"button\" \r\n                        onClick={() => {\r\n                            setIsCreateModalOpen(false);\r\n                            // Reset form\r\n                            setTeamName('');\r\n                            setTeamLead(null);\r\n                            setTeamMembers([]);\r\n                            setSelectedProject(null);\r\n                            setFormErrors({});\r\n                        }} \r\n                        className={`w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold transition-all text-sm ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-600' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button \r\n                        type=\"button\" \r\n                        onClick={handleCreateTeam} \r\n                        disabled={isSubmitting} \r\n                        className={`w-full sm:w-auto px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white font-bold rounded-lg sm:rounded-xl\r\n                                     hover:shadow-lg transform hover:scale-105 transition-all flex items-center justify-center space-x-2 text-sm\r\n                                     ${isSubmitting ? 'cursor-not-allowed opacity-75' : ''}`}\r\n                    >\r\n                        {isSubmitting ? (\r\n                            <>\r\n                                <div className=\"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                                <span>Creating...</span>\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                                <span>Create Team</span>\r\n                            </>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n  };\r\n\r\n  const handleMyTeamsClick = () => {\r\n    setDisplayMode('MY_TEAMS');\r\n    setIsRightSidebarOpen(false);\r\n  };\r\n\r\n  const handleAllTeamsClick = () => {\r\n    setDisplayMode('ALL_TEAMS');\r\n    setIsRightSidebarOpen(false);\r\n    \r\n    // Logic to run when All Teams is clicked (runs the fetch which populates adminallteams)\r\n    fetchAdminAllTeams();\r\n  };\r\n\r\n  // Render content based on displayMode\r\n  const renderContent = () => {\r\n    // Determine the current data source and title\r\n    const isMyTeamsMode = displayMode === 'MY_TEAMS';\r\n    const teamsToRender = isMyTeamsMode ? teams : adminallteams;\r\n    const teamTitle = isMyTeamsMode ? 'My Teams' : 'All Teams';\r\n\r\n    // Show loading spinner if currently loading data\r\n    if (loading) {\r\n        return <LoadingSpinner />;\r\n    }\r\n\r\n    // Show error only if there is a general error on the page\r\n    if (error && isMyTeamsMode) {\r\n        return <ErrorDisplay message={error} />;\r\n    }\r\n    \r\n    // Filter the current list of teams\r\n    const teamsToRenderAfterSearch = (Array.isArray(currentDataSource) ? currentDataSource : []).filter(team =>\r\n        team.teamName && team.teamName.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    \r\n    // Check if loading has finished and the array is empty (for both modes)\r\n    if (teamsToRenderAfterSearch.length === 0) {\r\n        return (\r\n            <div className=\"text-center py-12 sm:py-16 px-4\">\r\n                <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${\r\n                    theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100'\r\n                }`}>\r\n                    <FaUsers className={`w-8 h-8 sm:w-10 sm:h-10 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} />\r\n                </div>\r\n                <h2 className={`text-lg sm:text-xl font-bold mb-2 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                    {searchTerm ? `No Teams Found matching \"${searchTerm}\"` : `${teamTitle} Not Available`}\r\n                </h2>\r\n                <p className={`text-sm sm:text-base mb-4 max-w-md mx-auto ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                    {isMyTeamsMode\r\n                        ? 'You are not part of any teams yet. Ask your manager to add you.'\r\n                        : 'No teams are currently listed in the directory or unable to fetch directory data.'\r\n                    }\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    // Render Team Cards\r\n    return (\r\n        <>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mx-4 sm:mx-0\">\r\n                {teamsToRenderAfterSearch.map((team, index) => {\r\n                    const teamId = team.teamId || index;\r\n                    const isExpanded = isTeamExpanded(teamId);\r\n                    const membersToShow = isExpanded ? team.employees : team.employees?.slice(0, 5);\r\n                    const hasMoreMembers = team.employees?.length > 5;\r\n                    // The teamLead variable is still optional and depends on data structure\r\n                    const teamLead = team.employees?.find(emp => emp.jobTitlePrimary === 'TEAM_LEAD');\r\n\r\n                    return (\r\n                        <div key={teamId} className={`rounded-none sm:rounded-lg shadow-lg overflow-hidden border transition-shadow duration-300 flex flex-col ${theme === 'dark' ? 'bg-gray-800 border-gray-700 hover:shadow-blue-500/20' : 'bg-white border-gray-200 hover:shadow-xl'}`}>\r\n                            <div className=\"p-4 sm:p-5\">\r\n                                <div className=\"flex justify-between items-start\">\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <h2 className={`text-lg sm:text-xl font-bold break-words ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>\r\n                                            {team.teamName}\r\n                                        </h2>\r\n                                        {teamLead && (\r\n                                            <div className={`flex items-center text-sm sm:text-md mt-2 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                                                <FaUserShield className=\"mr-2 text-green-500 flex-shrink-0\" />\r\n                                                <strong>Lead:</strong><span className=\"ml-1 break-words\">{teamLead.displayName}</span>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"flex space-x-2 flex-shrink-0\">\r\n                                        <Link to={`/teams/${teamId}`} title=\"View Details\" className=\"p-2 text-gray-500 hover:text-blue-500 transition-colors\">\r\n                                            <FaEye className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                        </Link>\r\n                                        { matchedArray?.includes(\"TEAM_DELETE_BTN\") && !fromContextMenu && (\r\n                                            <button onClick={() => handleDeleteClick(team)} title=\"Delete Team\" className=\"p-2 text-gray-500 hover:text-red-500 transition-colors\">\r\n                                                <FaTrash className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className={`px-4 sm:px-5 py-3 sm:py-4 border-t mt-auto ${theme === 'dark' ? 'bg-gray-800/50 border-gray-700' : 'bg-gray-50 border-gray-200'}`}>\r\n                                <h3 className={`font-semibold mb-2 text-sm sm:text-base ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                                    Members ({team.employees?.length || 0})\r\n                                </h3>\r\n                                <div className=\"space-y-2\">\r\n                                    <div className=\"flex flex-wrap gap-1 sm:gap-2\">\r\n                                        {membersToShow?.map(member => (\r\n                                            <span key={member.employeeId} className={`text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full break-words ${\r\n                                                member.employeeId === employeeIdToFetch \r\n                                                    ? theme === 'dark' ? 'bg-green-900 text-green-300' : 'bg-green-100 text-green-800'\r\n                                                    : theme === 'dark' ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800'\r\n                                            }`}>\r\n                                                {member.displayName}\r\n                                                {member.employeeId === employeeIdToFetch && ' (You)'}\r\n                                            </span>\r\n                                        ))}\r\n                                    </div>\r\n                                    {hasMoreMembers && (\r\n                                        <button\r\n                                            onClick={() => toggleTeamExpansion(teamId)}\r\n                                            className=\"flex items-center space-x-1 text-xs sm:text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors\"\r\n                                        >\r\n                                            {isExpanded ? (\r\n                                                <><span>Show Less</span><FaChevronUp className=\"w-3 h-3\" /></>\r\n                                            ) : (\r\n                                                <><span>+{team.employees.length - 5} more</span><FaChevronDown className=\"w-3 h-3\" /></>\r\n                                            )}\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n            \r\n        </>\r\n    );\r\n  };\r\n\r\n  const hasAdminPermissions = matchedArray && matchedArray.includes(\"ADMIN_FETCHING_ALLTEAMS\");\r\n\r\n  return (\r\n    <div className={`relative flex min-h-screen ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n        \r\n        {/* Sticky Open Sidebar Button - Visible only if user has admin permission and sidebar is closed */}\r\n        {hasAdminPermissions && !isRightSidebarOpen && (\r\n            <button\r\n                onClick={() => setIsRightSidebarOpen(true)}\r\n                className=\"fixed right-0 top-1/2 -translate-y-1/2 p-2 rounded-l-lg bg-indigo-600 text-white shadow-lg z-50 hover:bg-indigo-700 transition-colors\"\r\n                aria-label=\"Open Navigation Sidebar\"\r\n                title=\"Open Navigation\"\r\n            >\r\n                <FaChevronLeft size={24} />\r\n            </button>\r\n        )}\r\n\r\n        {/* Main Content Area - adjust margin based on sidebar state */}\r\n        <div className={`flex-1 transition-all duration-300 ${isRightSidebarOpen ? 'lg:mr-60' : 'mr-0'}`}>\r\n            <div className={`px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8`}>\r\n                {/* Existing content starts here */}\r\n                {fromContextMenu && targetEmployeeId && (\r\n                    <div className={`mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-xl border-l-4 border-blue-500 shadow-md flex items-center space-x-3 ${theme === 'dark' ? 'bg-blue-900/20 text-blue-300' : 'bg-blue-50 text-blue-800'}`}>\r\n                        <FaEye className=\"flex-shrink-0\" />\r\n                        <p className=\"font-semibold text-sm sm:text-base break-words\">\r\n                            ðŸ” Viewing teams for employee: <span className=\"font-mono\">{targetEmployeeId}</span>\r\n                        </p>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 sm:mb-6 gap-4 mx-4 sm:mx-0\">\r\n                    <h1 className={`text-xl sm:text-2xl md:text-3xl font-bold flex items-center ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                        <FaUsers className=\"mr-2 sm:mr-3 text-blue-500\" /> \r\n                        {displayMode === 'MY_TEAMS' ? 'My Teams' : (fromContextMenu ? 'Employee Teams' : 'All Teams')}\r\n                    </h1>\r\n                    <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 w-full md:w-auto\">\r\n                        <div className=\"relative w-full sm:w-64\">\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search by team name...\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                                className={`w-full pl-8 sm:pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/30 transition-colors text-sm ${theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-800 placeholder-gray-500'}`}\r\n                            />\r\n                            <FaSearch className={`absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n                        </div>\r\n                        {matchedArray?.includes(\"CREATE_TEAM\") && !fromContextMenu && (\r\n                            <button\r\n                                onClick={() => setIsCreateModalOpen(true)}\r\n                                className=\"w-full sm:w-auto bg-black text-white px-4 sm:px-5 py-2 rounded-lg font-semibold hover:bg-gray-800 transition-colors flex items-center justify-center shadow-md text-sm\"\r\n                            >\r\n                                <FaPlus className=\"mr-2\" /> Create Team\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {renderContent()}\r\n\r\n                {/* Existing Modals remain here */}\r\n                {renderCreateTeamModal()}\r\n                \r\n                <ConfirmationModal\r\n                    isOpen={isDeleteModalOpen}\r\n                    onClose={() => setIsDeleteModalOpen(false)}\r\n                    onConfirm={confirmDelete}\r\n                    title=\"Delete Team\"\r\n                    message={`Are you sure you want to delete the team \"${selectedTeam?.teamName}\"? This action cannot be undone.`}\r\n                    confirmText=\"Delete\"\r\n                    isConfirming={isSubmitting}\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n        {/* Right Sidebar - Desktop and Mobile (Navigation Sidebar) - Conditionally Rendered */}\r\n        {hasAdminPermissions && (\r\n            <aside\r\n                // Modified top and height to start below the fixed Navbar (h-16 or 64px)\r\n                className={`fixed top-16 right-0 h-[calc(100vh-4rem)] border-l transition-all duration-300 z-50 flex flex-col ${\r\n                    isRightSidebarOpen ? 'w-60 translate-x-0' : 'w-0 translate-x-full'\r\n                } ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}\r\n            >\r\n                {/* Sticky Close Sidebar Button on the side (Desktop only) */}\r\n                {isRightSidebarOpen && (\r\n                    <button\r\n                        onClick={() => setIsRightSidebarOpen(false)}\r\n                        className=\"absolute -left-12 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition-colors z-50 hidden md:block\"\r\n                        aria-label=\"Close Navigation Sidebar\"\r\n                        title=\"Close Navigation\"\r\n                    >\r\n                        <FaChevronRight size={24} />\r\n                    </button>\r\n                )}\r\n\r\n                <div className=\"p-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-700\">\r\n                    <h3 className={`text-lg font-bold ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Navigation</h3>\r\n                    {/* FaTimes is kept for mobile close functionality inside the panel */}\r\n                    <button\r\n                        onClick={() => setIsRightSidebarOpen(false)}\r\n                        className={`p-1 rounded-full ${theme === 'dark' ? 'text-gray-400 hover:text-white hover:bg-gray-700' : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'}`}\r\n                        title=\"Close Sidebar\"\r\n                    >\r\n                        <FaTimes size={18} />\r\n                    </button>\r\n                </div>\r\n                <nav className=\"flex-1 overflow-y-auto p-4 space-y-2\">\r\n                    {/* My Teams button (Default Active) */}\r\n                    <button\r\n                        onClick={handleMyTeamsClick}\r\n                        className={`w-full text-left py-2 px-3 rounded-lg font-medium flex items-center transition-colors ${\r\n                            displayMode === 'MY_TEAMS'\r\n                                ? 'bg-blue-600 text-white'\r\n                                : theme === 'dark'\r\n                                ? 'text-gray-300 hover:bg-gray-700 hover:text-white'\r\n                                : 'text-gray-700 hover:bg-gray-200'\r\n                        }`}\r\n                    >\r\n                        <FaUsers className=\"mr-2\" size={16} />\r\n                        My Teams\r\n                    </button>\r\n                    {/* All Teams button (Displays \"Under Progress\" / Runs Admin Fetch) */}\r\n                    <button\r\n                        onClick={handleAllTeamsClick}\r\n                        className={`w-full text-left py-2 px-3 rounded-lg font-medium flex items-center transition-colors ${\r\n                            displayMode === 'ALL_TEAMS'\r\n                                ? 'bg-blue-600 text-white'\r\n                                : theme === 'dark'\r\n                                ? 'text-gray-300 hover:bg-gray-700 hover:text-white'\r\n                                : 'text-gray-700 hover:bg-gray-200'\r\n                        }`}\r\n                    >\r\n                        <FaUsers className=\"mr-2\" size={16} />\r\n                        All Teams\r\n                    </button>\r\n                </nav>\r\n            </aside>\r\n        )}\r\n\r\n        {/* Overlay for mobile view */}\r\n        {isRightSidebarOpen && (\r\n            <div\r\n                className=\"fixed inset-0 bg-black/50 z-40 lg:hidden\"\r\n                onClick={() => setIsRightSidebarOpen(false)}\r\n            />\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllTeams;\r\n"],"names":["_ref","isOpen","onClose","onConfirm","title","message","confirmText","isConfirming","theme","useContext","Context","_jsx","className","children","_jsxs","concat","style","borderColor","FaExclamationTriangle","onClick","FaTimes","disabled","_Fragment","ProjectDropdown","value","onChange","error","setIsOpen","useState","searchTerm","setSearchTerm","projects","setProjects","loading","setLoading","hasMore","setHasMore","currentPage","setCurrentPage","isFetchingRef","useRef","loadProjects","useCallback","async","page","arguments","length","undefined","reset","current","_response$data","_response$data2","response","publicinfoApi","get","fetchedProjects","data","content","newProjects","Array","isArray","isLastPage","last","prev","prevArray","console","useEffect","filteredProjects","filter","proj","_proj$title","_proj$projectId","toLowerCase","includes","projectId","toggleDropdown","label","FaChevronDown","AnimatePresence","motion","div","initial","opacity","y","animate","exit","FaSearch","type","placeholder","e","target","onScroll","scrollTop","scrollHeight","clientHeight","map","project","isSelected","handleSelect","client","projectStatus","IoCheckmarkCircle","EmployeeDropdown","_ref2","isMulti","employees","setEmployees","userData","loadEmployees","responseData","fetchedEmployees","newEmployees","filteredEmployees","emp","_emp$displayName","_emp$employeeId","displayName","employeeId","renderSelectedValue","currentValues","item","employee","some","LoadingSpinner","ErrorDisplay","_ref3","AllTeams","teams","setTeams","setError","isCreateModalOpen","setIsCreateModalOpen","isDeleteModalOpen","setIsDeleteModalOpen","selectedTeam","setSelectedTeam","expandedTeams","setExpandedTeams","Set","matchedArray","setMatchedArray","isRightSidebarOpen","setIsRightSidebarOpen","displayMode","setDisplayMode","adminallteams","setAdminAllTeams","teamName","setTeamName","teamLead","setTeamLead","teamMembers","setTeamMembers","selectedProject","setSelectedProject","isSubmitting","setIsSubmitting","formErrors","setFormErrors","userRoles","roles","canCreateTeam","location","useLocation","searchParams","URLSearchParams","search","fromContextMenu","targetEmployeeId","employeeIdToFetch","loggedinuserRole","fetchTeams","teamsArray","err","fetchAdminAllTeams","teamsData","log","fetchForPermissionArray","_response$data3","authApi","permissions","currentDataSource","handleCreateTeam","team","preventDefault","validateForm","errors","trim","Object","keys","newTeamData","teamDescription","employeeIds","member","Boolean","post","alert","_err$response","_err$response$data","general","hasAdminPermissions","FaChevronLeft","size","FaEye","FaUsers","FaPlus","renderContent","isMyTeamsMode","teamTitle","teamsToRenderAfterSearch","index","_team$employees","_team$employees2","_team$employees3","_team$employees4","teamId","isExpanded","has","isTeamExpanded","membersToShow","slice","hasMoreMembers","find","jobTitlePrimary","FaUserShield","Link","to","handleDeleteClick","FaTrash","newExpandedTeams","delete","add","toggleTeamExpansion","FaChevronUp","onSubmit","IoWarning","ConfirmationModal","t","FaChevronRight","handleMyTeamsClick","handleAllTeamsClick"],"sourceRoot":""}