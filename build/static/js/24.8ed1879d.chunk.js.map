{"version":3,"file":"static/js/24.8ed1879d.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/EmployeeDashboards/TotalEmployeeAttendance.jsx"],"sourcesContent":["import React, { useState, useMemo, useContext, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Context } from '../HrmsContext';\r\n\r\n// helpers\r\nconst parseEffectiveHours = (effectiveHours) => {\r\n  if (!effectiveHours) return 0;\r\n  const s = String(effectiveHours).trim();\r\n  // ISO duration like PT8H30M\r\n  const match = s.match(/PT(?:(\\d+)H)?(?:(\\d+)M)?/);\r\n  if (match) {\r\n    const hours = match[1] ? parseInt(match[1], 10) : 0;\r\n    const minutes = match[2] ? parseInt(match[2], 10) : 0;\r\n    return hours * 60 + minutes;\r\n  }\r\n  // decimal hours like \"8.5\"\r\n  if (!isNaN(Number(s))) {\r\n    return Math.round(Number(s) * 60);\r\n  }\r\n  // hh:mm format\r\n  const hhmm = s.match(/^(\\d{1,2}):(\\d{2})$/);\r\n  if (hhmm) return parseInt(hhmm[1], 10) * 60 + parseInt(hhmm[2], 10);\r\n  return 0;\r\n};\r\nconst formatMinutesToHHMM = (totalMinutes) => {\r\n  const hours = Math.floor(totalMinutes / 60);\r\n  const minutes = totalMinutes % 60;\r\n  return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;\r\n};\r\n\r\nconst IST_OFFSET_MINUTES = 5 * 60 + 30; // 330 minutes\r\n\r\n// Parse time string into Date and shift to IST (dateRef = 'YYYY-MM-DD' used when timeStr is a time only)\r\nconst parseToISTDate = (timeStr, dateRef = null) => {\r\n  if (!timeStr) return null;\r\n  const raw = String(timeStr).trim();\r\n  try {\r\n    let d;\r\n    let datePart = dateRef || new Date().toISOString().slice(0, 10);\r\n\r\n    // 1. Handle full ISO-like strings (with date/time/T/Z)\r\n    if (/\\d{4}-\\d{2}-\\d{2}T/.test(raw) || raw.includes('Z')) {\r\n      d = new Date(raw);\r\n    } \r\n    // 2. Handle raw time strings like '05:43:02.079951'\r\n    else if (/^\\d{2}:\\d{2}(:\\d{2}(\\.\\d+)?)?$/.test(raw)) {\r\n      // **FIX:** Treat the raw time (HH:mm:ss.ms) as UTC for the given date, then apply IST offset.\r\n      // This ensures the +5:30 shift is applied correctly.\r\n      let timeOnly = raw.split('.')[0]; // Use only HH:mm:ss part for construction\r\n      d = new Date(`${datePart}T${timeOnly}Z`);\r\n    } \r\n    // 3. Handle Date only string (YYYY-MM-DD)\r\n    else if (/^\\d{4}-\\d{2}-\\d{2}$/.test(raw)) {\r\n      d = new Date(raw);\r\n    }\r\n    // 4. Fallback attempt\r\n    else {\r\n      d = new Date(raw);\r\n    }\r\n    \r\n    if (isNaN(d.getTime())) return null;\r\n    \r\n    // Shift time to IST by adding the offset\r\n    return new Date(d.getTime() + IST_OFFSET_MINUTES * 60 * 1000);\r\n  } catch {\r\n    return null;\r\n  }\r\n};\r\n\r\n// convert/shift time string to IST display (adds 5:30 to UTC)\r\n// dateRef should be YYYY-MM-DD used when timeStr is \"HH:mm\" only\r\nconst toISTTimeDisplay = (timeStr, dateRef = null) => {\r\n  if (!timeStr) return 'N/A';\r\n  const raw = String(timeStr).trim();\r\n  try {\r\n    const d = parseToISTDate(raw, dateRef);\r\n    if (!d) return raw;\r\n    // Use 'en-IN' for locale time string in IST\r\n    return d.toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit', hour12: true });\r\n  } catch {\r\n    return raw;\r\n  }\r\n};\r\n\r\n// convert gross/effective value to display string (HH:MM)\r\nconst toHHMMDisplay = (value) => {\r\n  const minutes = parseEffectiveHours(value || '');\r\n  return minutes > 0 ? formatMinutesToHHMM(minutes) : 'N/A';\r\n};\r\n\r\n// GraphQL endpoint & query (Ensure no invisible characters here)\r\nconst GRAPHQL_URL = \"https://hrms.anasolconsultancyservices.com/api/attendance/graphql\";\r\nconst DETAILS_QUERY = `\r\nquery getDetailsBetweenDates($employeeId: String!, $startDate: Date!, $endDate: Date!) {\r\n  getDetailsBetweenDates(employeeId: $employeeId, startDate: $startDate, endDate: $endDate) {\r\n    date\r\n    employeeId\r\n    isPresent\r\n    login\r\n    logout\r\n    effectiveHours\r\n    grossHours\r\n    mode\r\n  }\r\n}\r\n`;\r\n\r\n// Component\r\nconst AttendanceTable = ({ onBack }) => {\r\n  // leaveType removed as requested\r\n  const [sortBy, setSortBy] = useState('Recantly Added');\r\n  const [selectedMonth, setSelectedMonth] = useState('');\r\n  const { theme, userData } = useContext(Context);\r\n\r\n  // fetched attendance records\r\n  const [attendanceRecords, setAttendanceRecords] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // pagination\r\n  const [page, setPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(12);\r\n\r\n  // build start/end date for fetch based on selectedMonth or current month\r\n  const buildRange = () => {\r\n    const today = new Date();\r\n    let year = today.getFullYear();\r\n    let monthIndex = today.getMonth(); // 0-based\r\n    \r\n    // If a month is selected, find its index and use current year\r\n    if (selectedMonth) {\r\n      const monthNames = [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\r\n      const index = monthNames.indexOf(selectedMonth);\r\n      if(index !== -1) monthIndex = index;\r\n    }\r\n    \r\n    const start = new Date(year, monthIndex, 1);\r\n    const end = new Date(year, monthIndex + 1, 0); // Day 0 of next month gives last day of current month\r\n    const toISO = (d) => d.toISOString().slice(0, 10);\r\n    return { startISO: toISO(start), endISO: toISO(end) };\r\n  };\r\n\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        // Use userData employeeId or fallback to a default one\r\n        const employeeId = userData?.employeeId || \"ACS00000001\"; \r\n        const { startISO, endISO } = buildRange();\r\n        const variables = { employeeId, startDate: startISO, endDate: endISO };\r\n\r\n        const resp = await axios.post(GRAPHQL_URL, { query: DETAILS_QUERY, variables }, {\r\n          headers: { \"Content-Type\": \"application/json\" }\r\n        });\r\n\r\n        if (cancelled) return;\r\n        if (resp?.data?.errors && resp.data.errors.length) {\r\n          throw new Error(resp.data.errors.map(e => e.message).join('; '));\r\n        }\r\n        const data = resp?.data?.data?.getDetailsBetweenDates || [];\r\n\r\n        // normalize and compute durations\r\n        const normalized = data.map((item) => {\r\n          // dateForTime: prefer YYYY-MM-DD\r\n          const dateForTime = /^\\d{4}-\\d{2}-\\d{2}$/.test(item.date)\r\n            ? item.date\r\n            : new Date().toISOString().slice(0, 10); // Fallback to current date\r\n\r\n          // parse login/logout to IST dates (Used for duration calculation)\r\n          const loginIST = parseToISTDate(item.login, dateForTime);\r\n          const logoutIST = parseToISTDate(item.logout, dateForTime);\r\n\r\n          // compute minutes\r\n          let totalDurationMinutes = 0;\r\n          if (loginIST && logoutIST && !isNaN(loginIST.getTime()) && !isNaN(logoutIST.getTime())) {\r\n            // Calculate difference in minutes between IST login and IST logout\r\n            totalDurationMinutes = Math.max(0, Math.floor((logoutIST - loginIST) / (1000 * 60)));\r\n          } else {\r\n            // fallback to effectiveHours or grossHours\r\n            const eff = parseEffectiveHours(item.effectiveHours || '');\r\n            const gross = parseEffectiveHours(item.grossHours || '');\r\n            totalDurationMinutes = eff || gross || 0;\r\n          }\r\n\r\n          const effectiveMinutes = parseEffectiveHours(item.effectiveHours || '');\r\n          const grossMinutes = parseEffectiveHours(item.grossHours || '');\r\n\r\n          return {\r\n            ...item,\r\n            date: item.date,\r\n            // These are the IST-adjusted display values\r\n            loginDisplay: toISTTimeDisplay(item.login, dateForTime), \r\n            logoutDisplay: toISTTimeDisplay(item.logout, dateForTime),\r\n            effectiveHoursDisplay: toHHMMDisplay(item.effectiveHours),\r\n            grossHoursDisplay: toHHMMDisplay(item.grossHours),\r\n            totalDurationMinutes,\r\n            totalDurationHHMM: totalDurationMinutes > 0 ? formatMinutesToHHMM(totalDurationMinutes) : 'N/A',\r\n            effectiveMinutes,\r\n            grossMinutes,\r\n            attended: (() => {\r\n              const v = item.isPresent;\r\n              if (v == null) return false;\r\n              const s = String(v).toLowerCase();\r\n              return ['present', 'p', 'yes', 'true', '1'].includes(s);\r\n            })()\r\n          };\r\n        });\r\n\r\n        setAttendanceRecords(normalized);\r\n        setPage(1);\r\n      } catch (err) {\r\n        console.error(err);\r\n        setError(err.message || 'Failed to load attendance');\r\n        setAttendanceRecords([]);\r\n      } finally {\r\n        if (!cancelled) setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n    return () => { cancelled = true; };\r\n  }, [selectedMonth, userData]);\r\n\r\n  // Filtering / sorting / pagination uses attendanceRecords state\r\n  const filteredSorted = useMemo(() => {\r\n    let result = [...attendanceRecords];\r\n\r\n    switch (sortBy) {\r\n      case 'Ascending':\r\n        result.sort((a, b) => (a.employeeId || '').localeCompare(b.employeeId || ''));\r\n        break;\r\n      case 'Descending':\r\n        result.sort((a, b) => (b.employeeId || '').localeCompare(a.employeeId || ''));\r\n        break;\r\n      case 'Last 7 days':\r\n      case 'Recantly Added':\r\n      default:\r\n        result.sort((a, b) => new Date(b.date) - new Date(a.date));\r\n        break;\r\n    }\r\n\r\n    // (Sorting logic for 'This Month', 'Last Month', etc., removed as it relies on fetch logic, \r\n    // but the default sorting is by date/Recantly Added)\r\n\r\n    return result;\r\n  }, [attendanceRecords, sortBy]);\r\n\r\n  const totalPages = Math.max(1, Math.ceil(filteredSorted.length / pageSize));\r\n  const pageItems = filteredSorted.slice((page - 1) * pageSize, page * pageSize);\r\n\r\n  const totalEmployees = useMemo(() => {\r\n    const uniqueIds = new Set(attendanceRecords.map(item => item.employeeId));\r\n    return uniqueIds.size;\r\n  }, [attendanceRecords]);\r\n\r\n  // totals for filtered set (sum of totalDuration and gross)\r\n  const totals = useMemo(() => {\r\n    const sumDur = filteredSorted.reduce((acc, r) => acc + (r.totalDurationMinutes || 0), 0);\r\n    const sumGross = filteredSorted.reduce((acc, r) => acc + (r.grossMinutes || 0), 0);\r\n    return {\r\n      totalDurationMinutes: sumDur,\r\n      totalDurationHHMM: sumDur > 0 ? formatMinutesToHHMM(sumDur) : '00:00',\r\n      totalGrossMinutes: sumGross,\r\n      totalGrossHHMM: sumGross > 0 ? formatMinutesToHHMM(sumGross) : '00:00'\r\n    };\r\n  }, [filteredSorted]);\r\n\r\n  // months array for select\r\n  const months = [\r\n    \"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"\r\n  ];\r\n\r\n  return (\r\n    <div className={`p-4 sm:p-8 ${theme === 'dark' ? 'bg-gray-400' : 'bg-gray-50'} min-h-screen`}>\r\n      <h1 className=\"text-3xl font-extrabold text-indigo-800 mb-6 border-b pb-2\">\r\n        <span role=\"img\" aria-label=\"clock\">⏰</span> Employee Attendance Tracker\r\n      </h1>\r\n      <button onClick={onBack} className=\"mb-4 px-4 py-2 bg-indigo-100 text-blue-600 rounded-lg font-semibold shadow hover:bg-indigo-200 transition\">← Back to Dashboard</button>\r\n\r\n      <div className={`flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 p-4 ${theme === 'dark' ? 'bg-gray-700' : 'bg-white'} rounded-xl shadow-lg border-l-4 border-indigo-500`}>\r\n        <div className={`text-lg font-semibold ${theme === 'dark' ? 'text-gray-100' : 'text-gray-700'} mb-4 sm:mb-0`}>\r\n          Total Employees: <span className=\"text-indigo-600 text-2xl\">{totalEmployees}</span>\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap gap-4\">\r\n          {/* Leave dropdown removed as requested */}\r\n\r\n          <select value={selectedMonth} onChange={(e) => setSelectedMonth(e.target.value)} className={`p-2 border border-gray-300 rounded-lg text-sm ${theme === 'dark' ? 'bg-gray-700 text-gray-50' : 'bg-white'}`}>\r\n            <option value=\"\">Select Month: All</option>\r\n            {months.map(m => <option key={m} value={m}>{m}</option>)}\r\n          </select>\r\n\r\n          <select value={sortBy} onChange={(e) => setSortBy(e.target.value)} className={`p-2 border border-gray-300 rounded-lg text-sm ${theme === 'dark' ? 'bg-gray-700 text-gray-50' : 'bg-white'}`}>\r\n            <option value=\"Recantly Added\">Sorted By: Recently Added</option>\r\n            <option value=\"Ascending\">EmployeeId: Ascending</option>\r\n            <option value=\"Descending\">EmployeeId: Descending</option>\r\n            <option value=\"This Month\">Date: This Month</option>\r\n            <option value=\"Last Month\">Date: Last Month</option>\r\n            <option value=\"Last 7 days\">Date: Last 7 days</option>\r\n          </select>\r\n\r\n          <select value={pageSize} onChange={(e) => { setPageSize(Number(e.target.value)); setPage(1); }} className=\"p-2 border border-gray-300 rounded-lg text-sm bg-white\">\r\n            <option value={6}>6 / page</option>\r\n            <option value={12}>12 / page</option>\r\n            <option value={24}>24 / page</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto shadow-2xl rounded-xl\">\r\n        <table className=\"min-w-full bg-white border-collapse\">\r\n          <thead className=\"bg-indigo-600 text-white sticky top-0\">\r\n            <tr>\r\n              <th className=\"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 hidden sm:table-cell\">EmployeeId</th>\r\n              <th className=\"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 hidden sm:table-cell\">Date</th>\r\n              <th className=\"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 hidden sm:table-cell\">Mode</th>\r\n              <th className=\"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 hidden sm:table-cell\">Login (IST)</th>\r\n              <th className=\"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 hidden sm:table-cell\">Logout (IST)</th>\r\n              <th className=\"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 hidden sm:table-cell\">Total Duration</th>\r\n              <th className=\"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 hidden sm:table-cell\">Effective Hours</th>\r\n              <th className=\"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-indigo-500 hidden sm:table-cell\">Status</th>\r\n              <th className=\"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-indigo-500 sm:hidden\">Employee Details</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {loading ? (\r\n              <tr><td colSpan={10} className=\"text-center py-8\">Loading…</td></tr>\r\n            ) : error ? (\r\n              <tr><td colSpan={10} className=\"text-center py-8 text-red-600\">{error}</td></tr>\r\n            ) : pageItems.length === 0 ? (\r\n              <tr><td colSpan={10} className=\"text-center py-6 text-gray-500\">No attendance records found for the selected filters.</td></tr>\r\n            ) : pageItems.map(record => {\r\n              const totalDurationHHMM = record.totalDurationHHMM || 'N/A';\r\n              const effectiveHoursHHMM = record.effectiveHoursDisplay || 'N/A';\r\n              const statusColor = record.attended ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800';\r\n\r\n              return (\r\n                <tr key={`${record.employeeId}-${record.date}`} className={`border-b transition-colors duration-200 ${theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'hover:bg-gray-200'}`}>\r\n                  <td className={`py-4 px-4 ${theme === 'dark' ? ' text-gray-50' : 'text-gray-700'} font-medium hidden sm:table-cell`}>{record.employeeId}</td>\r\n                  <td className={`py-4 px-4 text-sm ${theme === 'dark' ? ' text-gray-50' : 'text-gray-700'} hidden sm:table-cell`}>{record.date}</td>\r\n                  <td className=\"py-4 px-4 text-sm text-gray-600 hidden sm:table-cell\">\r\n                    <span className={`px-3 py-1 text-xs font-semibold rounded-full ${record.mode === 'Office' ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800'}`}>{record.mode}</span>\r\n                  </td>\r\n                  {/* **FIXED:** Use the IST converted display values */}\r\n                  <td className={`py-4 px-4 text-sm ${theme === 'dark' ? ' text-gray-50' : 'text-gray-700'} hidden sm:table-cell`}>{record.loginDisplay}</td>\r\n                  <td className={`py-4 px-4 text-sm ${theme === 'dark' ? ' text-gray-50' : 'text-gray-700'} hidden sm:table-cell`}>{record.logoutDisplay}</td>\r\n                  \r\n                  <td className={`py-4 px-4 text-sm font-semibold ${theme === 'dark' ? ' text-indigo-500' : 'text-indigo-700'} hidden sm:table-cell`}>{totalDurationHHMM}</td>\r\n                  <td className={`py-4 px-4 text-sm font-bold ${theme === 'dark' ? ' text-green-300' : 'text-green-700'} hidden sm:table-cell`}>{effectiveHoursHHMM}</td>\r\n                  <td className=\"py-4 px-4 text-sm hidden sm:table-cell\">\r\n                    <span className={`px-3 py-1 text-xs font-semibold rounded-full ${statusColor}`}>{record.attended ? 'Present' : 'Absent'}</span>\r\n                  </td>\r\n\r\n                  <td className=\"py-4 px-4 sm:hidden\">\r\n                    <div className=\"flex flex-col space-y-1\">\r\n                      <span className={`text-base font-bold ${theme === 'dark' ? ' text-indigo-300' : 'text-indigo-700'}`}>{record.employeeId}</span>\r\n                      <span className={`text-sm ${theme === 'dark' ? ' text-gray-100' : 'text-gray-600'}`}>Date: {record.date} ({record.mode})</span>\r\n                      {/* **FIXED:** Use the IST converted display values */}\r\n                      <span className={`text-sm ${theme === 'dark' ? ' text-gray-100' : 'text-gray-600'}`}>{record.loginDisplay} - {record.logoutDisplay}</span>\r\n                      <div className=\"text-xs font-medium mt-1\"><span className={`${theme === 'dark' ? ' text-green-400' : 'text-green-700'}`}>Effective: {effectiveHoursHHMM}</span></div>\r\n                      <div className=\"text-xs font-medium mt-1\"><span className={`${theme === 'dark' ? ' text-indigo-300' : 'text-indigo-700'}`}>Total: {totalDurationHHMM}</span></div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* pagination controls */}\r\n      <div className=\"flex items-center justify-between mt-4\">\r\n        <div className=\"text-sm text-gray-600\">Showing {pageItems.length} of {filteredSorted.length} records</div>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <button onClick={() => setPage(p => Math.max(1, p - 1))} disabled={page <= 1} className=\"px-3 py-1 bg-gray-200 rounded disabled:opacity-50\">Prev</button>\r\n          <span className=\"px-3 py-1\">Page {page} / {totalPages}</span>\r\n          <button onClick={() => setPage(p => Math.min(totalPages, p + 1))} disabled={page >= totalPages} className=\"px-3 py-1 bg-gray-200 rounded disabled:opacity-50\">Next</button>\r\n        </div>\r\n        \r\n      </div>\r\n\r\n      <p className={`text-sm ${theme === 'dark' ? ' text-gray-50' : 'text-gray-700'} mt-6 text-center`}>\r\n        Data is displayed for <strong>{filteredSorted.length}</strong> attendance record(s) based on current filters.\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceTable;"],"names":["parseEffectiveHours","effectiveHours","s","String","trim","match","parseInt","isNaN","Number","Math","round","hhmm","formatMinutesToHHMM","totalMinutes","hours","floor","minutes","concat","padStart","parseToISTDate","timeStr","dateRef","arguments","length","undefined","raw","d","datePart","Date","toISOString","slice","test","includes","timeOnly","split","getTime","IST_OFFSET_MINUTES","_unused","toISTTimeDisplay","toLocaleTimeString","hour","minute","hour12","_unused2","toHHMMDisplay","value","_ref","onBack","sortBy","setSortBy","useState","selectedMonth","setSelectedMonth","theme","userData","useContext","Context","attendanceRecords","setAttendanceRecords","loading","setLoading","error","setError","page","setPage","pageSize","setPageSize","useEffect","cancelled","async","_resp$data","_resp$data2","_resp$data2$data","employeeId","startISO","endISO","buildRange","today","year","getFullYear","monthIndex","getMonth","index","indexOf","start","end","toISO","variables","startDate","endDate","resp","axios","post","query","headers","data","errors","Error","map","e","message","join","normalized","getDetailsBetweenDates","item","dateForTime","date","loginIST","login","logoutIST","logout","totalDurationMinutes","max","eff","gross","grossHours","effectiveMinutes","grossMinutes","_objectSpread","loginDisplay","logoutDisplay","effectiveHoursDisplay","grossHoursDisplay","totalDurationHHMM","attended","v","isPresent","toLowerCase","err","console","fetchData","filteredSorted","useMemo","result","sort","a","b","localeCompare","totalPages","ceil","pageItems","totalEmployees","Set","size","sumDur","reduce","acc","r","sumGross","totalGrossMinutes","totalGrossHHMM","_jsxs","className","children","_jsx","role","onClick","onChange","target","m","colSpan","record","effectiveHoursHHMM","statusColor","mode","p","disabled","min"],"sourceRoot":""}