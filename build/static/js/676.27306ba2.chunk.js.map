{"version":3,"file":"static/js/676.27306ba2.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Teams/ConfirmationModal.jsx","TechLife/HRMS/Components/Teams/AllTeams.jsx"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { FaTimes, FaExclamationTriangle } from 'react-icons/fa';\r\nimport { Context } from '../HrmsContext';\r\n\r\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message, confirmText = 'Confirm', isConfirming }) => {\r\n    const { theme } = useContext(Context);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[250] p-2 sm:p-4\">\r\n            <div className={`rounded-xl sm:rounded-2xl w-full max-w-sm sm:max-w-md shadow-xl flex flex-col ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-white'}`}>\r\n                {/* Header */}\r\n                <div className=\"p-4 sm:p-6 flex justify-between items-center border-b\" style={{borderColor: theme === 'dark' ? '#4b5563' : '#e5e7eb'}}>\r\n                    <h3 className=\"text-lg sm:text-xl font-bold flex items-center min-w-0 flex-1\">\r\n                        <FaExclamationTriangle className=\"text-yellow-400 mr-2 sm:mr-3 w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0\" />\r\n                        <span className=\"break-words\">{title}</span>\r\n                    </h3>\r\n                    <button \r\n                        onClick={onClose} \r\n                        className=\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors flex-shrink-0 ml-2\"\r\n                    >\r\n                        <FaTimes className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Message Content */}\r\n                <div className=\"p-4 sm:p-6\">\r\n                    <p className={`text-sm sm:text-base break-words ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                        {message}\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Footer Buttons */}\r\n                <div className={`p-3 sm:p-4 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 border-t ${theme === 'dark' ? 'bg-gray-700/50 border-gray-700' : 'bg-gray-50 border-gray-200'}`}>\r\n                    <button \r\n                        onClick={onClose} \r\n                        className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button \r\n                        onClick={onConfirm}\r\n                        disabled={isConfirming}\r\n                        className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white transition-colors flex items-center justify-center text-sm\r\n                                    ${isConfirming ? 'bg-red-400 cursor-not-allowed' : 'bg-red-600 hover:bg-red-700'}`}\r\n                    >\r\n                        {isConfirming ? (\r\n                            <>\r\n                                <div className=\"h-3 w-3 sm:h-4 sm:w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                                <span>Deleting...</span>\r\n                            </>\r\n                        ) : (\r\n                            <span>{confirmText}</span>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ConfirmationModal;\r\n","import React, { useState, useEffect, useContext, useRef, useCallback } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { publicinfoApi, authApi } from '../../../../axiosInstance';\r\nimport { FaUsers, FaPlus, FaUserShield, FaTimes, FaChevronDown, FaChevronUp, FaTrash, FaEye, FaSearch, FaChevronLeft, FaChevronRight, FaCheckCircle, FaExclamationTriangle, FaInfoCircle } from 'react-icons/fa';\r\nimport { IoCheckmarkCircle, IoWarning } from 'react-icons/io5';\r\nimport { X } from 'lucide-react';\r\nimport { Context } from '../HrmsContext';\r\nimport ConfirmationModal from './ConfirmationModal';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\n// --- Utility Hooks & Components ---\r\n\r\n// Utility Hook for Outside Click\r\nconst useOutsideClick = (handler, ignoreRefs = []) => {\r\n    const ref = useRef(null);\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            const isIgnored = ignoreRefs.some(\r\n                (r) => r.current && r.current.contains(event.target)\r\n            );\r\n            if (ref.current && !ref.current.contains(event.target) && !isIgnored) {\r\n                handler(event);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, [handler, ignoreRefs]);\r\n    return ref;\r\n};\r\n\r\n// Custom Notification Component\r\nconst CustomNotification = ({ isOpen, onClose, type, title, message, theme }) => {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setIsVisible(true);\r\n            if (type === 'success' || type === 'error') {\r\n                const timer = setTimeout(() => {\r\n                    handleClose();\r\n                }, 3000);\r\n                return () => clearTimeout(timer);\r\n            }\r\n        }\r\n    }, [isOpen, type]);\r\n\r\n    const handleClose = () => {\r\n        setIsVisible(false);\r\n        setTimeout(() => onClose(), 300);\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const getIcon = () => {\r\n        switch (type) {\r\n            case 'success':\r\n                return <FaCheckCircle className=\"w-6 h-6 text-green-500\" />;\r\n            case 'error':\r\n                return <FaExclamationTriangle className=\"w-6 h-6 text-red-500\" />;\r\n            case 'info':\r\n                return <FaInfoCircle className=\"w-6 h-6 text-blue-500\" />;\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    const getTitleClass = () => {\r\n        switch (type) {\r\n            case 'success':\r\n                return 'text-green-600 dark:text-green-400';\r\n            case 'error':\r\n                return 'text-red-600 dark:text-red-400';\r\n            case 'info':\r\n                return 'text-blue-600 dark:text-blue-400';\r\n            default:\r\n                return theme === 'dark' ? 'text-white' : 'text-gray-800';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-[200] transition-opacity duration-300 ${isVisible ? 'opacity-100' : 'opacity-0'}`}>\r\n            <div className={`p-6 rounded-3xl shadow-2xl w-full max-w-md m-4 border transform transition-all duration-300 ${isVisible ? 'scale-100 translate-y-0' : 'scale-95 translate-y-4'} ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n                <div className=\"flex items-center mb-4\">\r\n                    {getIcon()}\r\n                    <h3 className={`text-xl font-bold ml-3 ${getTitleClass()}`}>{title}</h3>\r\n                    {type !== \"success\" && type !== \"error\" && (\r\n                        <button onClick={handleClose} className=\"ml-auto p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200\">\r\n                            <X size={20} />\r\n                        </button>\r\n                    )}\r\n                </div>\r\n                <p className={`${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{message}</p>\r\n                {(type === 'success' || type === 'error') && (\r\n                    <div className=\"mt-4 flex justify-end\">\r\n                        <button\r\n                            onClick={handleClose}\r\n                            className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                                type === 'success'\r\n                                    ? 'bg-green-500 hover:bg-green-600 text-white'\r\n                                    : 'bg-red-500 hover:bg-red-600 text-white'\r\n                            }`}\r\n                        >\r\n                            OK\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Reusable Input Field Component ---\r\nconst InputField = ({\r\n    name,\r\n    label,\r\n    type = 'text',\r\n    required = false,\r\n    hint,\r\n    placeholder,\r\n    value,\r\n    onChange,\r\n    onBlur,\r\n    isError,\r\n    options = [],\r\n    theme\r\n}) => {\r\n    const baseInputClass = `w-full px-3 sm:px-4 py-2 sm:py-3 border-2 rounded-lg transition-all duration-300 text-sm\r\n        focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n        isError\r\n            ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n            : theme === 'dark'\r\n            ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500'\r\n            : 'border-gray-200 bg-white hover:border-gray-300'\r\n        }`;\r\n\r\n    return (\r\n        <div className=\"group relative\" key={name}>\r\n            <label className={`block text-xs sm:text-sm font-semibold mb-2 flex items-center ${\r\n                theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n            }`}>\r\n                {label}\r\n                {required && <span className=\"text-red-500 ml-1 text-sm\">*</span>}\r\n            </label>\r\n\r\n            {hint && (\r\n                <p className={`text-xs mb-2 ${\r\n                    theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                }`}>\r\n                    {hint}\r\n                </p>\r\n            )}\r\n\r\n            {type === 'select' ? (\r\n                <div className=\"relative\">\r\n                    <select\r\n                        name={name}\r\n                        value={value || ''}\r\n                        onChange={onChange}\r\n                        onBlur={onBlur}\r\n                        className={`${baseInputClass} appearance-none`}\r\n                        required={required}\r\n                    >\r\n                        <option value=\"\">Choose {label}</option>\r\n                        {options.map((opt) => (\r\n                            <option key={opt} value={opt}>\r\n                                {opt}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <div className=\"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 pointer-events-none\">\r\n                        <FaChevronDown className={`w-4 h-4 sm:w-5 sm:h-5 ${\r\n                            theme === 'dark' ? 'text-gray-400' : 'text-gray-400'\r\n                        }`} />\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <input\r\n                    type={type}\r\n                    name={name}\r\n                    value={value || ''}\r\n                    onChange={onChange}\r\n                    onBlur={onBlur}\r\n                    className={baseInputClass}\r\n                    placeholder={placeholder || `Enter ${label.toLowerCase()}...`}\r\n                    required={required}\r\n                />\r\n            )}\r\n\r\n            {isError && (\r\n                <div className=\"mt-1 sm:mt-2 flex items-center space-x-2 text-red-600\">\r\n                    <IoWarning className=\"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0\" />\r\n                    <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n// --- End Reusable Input Field Component ---\r\n\r\n// Project Dropdown with Infinite Scroll\r\nconst ProjectDropdown = ({ value, onChange, theme, error, disabled }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [projects, setProjects] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasMoreData, setHasMoreData] = useState(true);\r\n\r\n    // Pagination States\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [allDataLoaded, setAllDataLoaded] = useState(false);\r\n    const PAGE_SIZE = 10;\r\n\r\n    const isFetchingRef = useRef(false);\r\n    const scrollAreaRef = useRef(null);\r\n    const dropdownRef = useOutsideClick(() => setIsOpen(false), [scrollAreaRef]);\r\n\r\n    // Load projects for the current page\r\n    const loadProjects = useCallback(async (page = 0, append = false) => {\r\n        if (isFetchingRef.current || (page > 0 && !hasMoreData && !searchTerm)) return;\r\n\r\n        isFetchingRef.current = true;\r\n        setLoading(true);\r\n\r\n        try {\r\n            console.log(`[API CALL - ProjectDropdown] Fetching projects: Page ${page}, Size ${PAGE_SIZE}`);\r\n            const response = await publicinfoApi.get(`employee/${page}/${PAGE_SIZE}/projectId/asc/projects`);\r\n            console.log(`[API SUCCESS - ProjectDropdown] Projects fetched for page ${page}:`, response.data);\r\n\r\n            const fetchedProjects = response.data?.content || [];\r\n            const newProjects = Array.isArray(fetchedProjects) ? fetchedProjects : [];\r\n\r\n            setProjects(prev => append ? [...prev, ...newProjects] : newProjects);\r\n\r\n            setCurrentPage(page);\r\n\r\n            if (response.data?.last === true || newProjects.length < PAGE_SIZE) {\r\n                setHasMoreData(false);\r\n                setAllDataLoaded(true);\r\n            } else {\r\n                setHasMoreData(true);\r\n            }\r\n        } catch (error) {\r\n            console.error('[API ERROR - ProjectDropdown] Error fetching projects:', error.response?.data || error.message);\r\n            if (!append) {\r\n                setProjects([]);\r\n            }\r\n            setHasMoreData(false);\r\n        } finally {\r\n            setLoading(false);\r\n            isFetchingRef.current = false;\r\n        }\r\n    }, [hasMoreData, searchTerm]);\r\n\r\n    // Handle scroll event for infinite loading\r\n    const handleScroll = useCallback((e) => {\r\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n\r\n        // Check if user scrolled near bottom (within 50px)\r\n        if (scrollHeight - scrollTop <= clientHeight + 50) {\r\n            if (hasMoreData && !loading && !isFetchingRef.current && !searchTerm) {\r\n                loadProjects(currentPage + 1, true);\r\n            }\r\n        }\r\n    }, [currentPage, hasMoreData, loading, loadProjects, searchTerm]);\r\n\r\n    // Initial load logic\r\n    useEffect(() => {\r\n        if (isOpen && projects.length === 0 && !loading && !searchTerm) {\r\n            loadProjects(0, false);\r\n        }\r\n    }, [isOpen, loadProjects, projects.length, loading, searchTerm]);\r\n\r\n    // State cleanup when closing or starting a new search\r\n    useEffect(() => {\r\n        if (!isOpen) {\r\n            setSearchTerm('');\r\n            setProjects([]);\r\n            setAllDataLoaded(false);\r\n            setHasMoreData(true);\r\n            setCurrentPage(0);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const handleSelect = (project) => {\r\n        onChange({ value: project.projectId, label: `${project.projectId}(${project.title})` });\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const toggleDropdown = () => {\r\n        if (!disabled) setIsOpen(!isOpen);\r\n    };\r\n\r\n    const safeProjects = Array.isArray(projects) ? projects : [];\r\n\r\n    const filteredProjects = safeProjects.filter(proj =>\r\n        proj.title?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        proj.projectId?.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"relative\" ref={dropdownRef}>\r\n            <div\r\n                onClick={toggleDropdown}\r\n                // Adjusted styling to match InputField\r\n                className={`w-full px-3 sm:px-4 py-2 sm:py-3 border-2 rounded-lg transition-all duration-300 cursor-pointer flex items-center justify-between text-sm\r\n                    focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n                    error ? 'border-red-300 bg-red-50' : (theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500' : 'border-gray-200 bg-white hover:border-gray-300')\r\n                } ${disabled ? 'opacity-50' : ''}`}\r\n            >\r\n                <span className={!value ? (theme === 'dark' ? 'text-gray-400' : 'text-gray-500') : ''}>\r\n                    {value ? value.label : 'Select project...'}\r\n                </span>\r\n                <FaChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''} ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </div>\r\n            {error && <p className=\"text-red-500 text-xs mt-1\">{error}</p>}\r\n            <AnimatePresence>\r\n                {isOpen && !disabled && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: -10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        exit={{ opacity: 0, y: -10 }}\r\n                        className={`absolute top-full left-0 right-0 mt-2 border rounded-lg shadow-lg z-50 ${\r\n                            theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-white border-gray-200'\r\n                        }`}\r\n                    >\r\n                        <div className=\"p-2 border-b border-gray-200 dark:border-gray-600\">\r\n                            <div className=\"relative\">\r\n                                <FaSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Search projects...\"\r\n                                    value={searchTerm}\r\n                                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                                    className={`w-full pl-10 pr-4 py-2 border rounded-lg text-sm ${\r\n                                        theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div\r\n                            className=\"max-h-60 overflow-y-auto\"\r\n                            ref={scrollAreaRef}\r\n                            onScroll={handleScroll}\r\n                        >\r\n                            {/* Display projects filtered by the local list */}\r\n                            {filteredProjects.length > 0 ? (\r\n                                filteredProjects.map(project => {\r\n                                    const isSelected = value?.value === project.projectId;\r\n                                    return (\r\n                                        <div\r\n                                            key={project.projectId}\r\n                                            onClick={() => handleSelect(project)}\r\n                                            className={`p-3 cursor-pointer flex items-center justify-between ${\r\n                                                isSelected ? 'bg-blue-50 dark:bg-blue-900/50' : `hover:${theme === 'dark' ? 'bg-gray-600' : 'bg-gray-50'}`\r\n                                            }`}\r\n                                        >\r\n                                            <div className={theme === 'dark' ? 'text-white' : 'text-gray-900'}>\r\n                                                <div className=\"font-medium text-sm\">{project.projectId}({project.title})</div>\r\n                                                <div className={`text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                                    Client: {project.client} â€¢ Status: {project.projectStatus}\r\n                                                </div>\r\n                                            </div>\r\n                                            {isSelected && <IoCheckmarkCircle className=\"w-5 h-5 text-blue-500\" />}\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            ) : searchTerm ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No projects matching \"{searchTerm}\"\r\n                                </div>\r\n                            ) : loading && projects.length === 0 ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading projects...\r\n                                </div>\r\n                            ) : (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No projects found.\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Loading indicator for infinite scroll */}\r\n                            {loading && projects.length > 0 && (\r\n                                <div className={`p-2 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading more projects...\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {allDataLoaded && projects.length > 0 && (\r\n                            <div className={`p-2 border-t text-center text-xs font-medium ${theme === 'dark' ? 'text-gray-500 border-gray-600' : 'text-gray-400 border-gray-200'}`}>\r\n                                ðŸŽ¯ All projects loaded\r\n                            </div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\n// ----------------------------------------------------------------------------------------------------------------------\r\n// REVISED: Multi-Select Employee Dropdown with WORKING Infinite Scroll and Inline Role Input\r\n// ----------------------------------------------------------------------------------------------------------------------\r\nconst EmployeeMultiSelectRoleDropdown = ({ employeeRoles, onSelectionChange, onRoleChange, theme, error, disabled, placeholder }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [employees, setEmployees] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasMoreData, setHasMoreData] = useState(true);\r\n\r\n    // Pagination States\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [allDataLoaded, setAllDataLoaded] = useState(false);\r\n    const PAGE_SIZE = 6;\r\n\r\n    const isFetchingRef = useRef(false);\r\n    const scrollAreaRef = useRef(null);\r\n    // Use an array of refs for the outside click to ignore individual role inputs within the dropdown\r\n    const roleInputRefs = useRef([]);\r\n    const dropdownRef = useOutsideClick(() => setIsOpen(false), [scrollAreaRef, ...roleInputRefs.current]);\r\n\r\n    // Load employees for the current page\r\n    const loadEmployees = useCallback(async (page = 0, append = false) => {\r\n        // Prevent fetching if already fetching or if no more data is expected on subsequent pages\r\n        if (isFetchingRef.current || (page > 0 && !hasMoreData)) return;\r\n\r\n        isFetchingRef.current = true;\r\n        setLoading(true);\r\n\r\n        // Reset data if it's an initial load\r\n        if (!append) {\r\n            // Only reset the visual state, keep search term\r\n            setEmployees([]);\r\n            setHasMoreData(true);\r\n            setAllDataLoaded(false);\r\n        }\r\n\r\n        try {\r\n            console.log(`[API CALL - EmployeeMultiSelectRoleDropdown] Fetching employees: Page ${page}, Size ${PAGE_SIZE}`);\r\n            \r\n            // Note: Since server-side search isn't available for this endpoint, search is local on loaded data.\r\n            // When searchTerm is active, we prevent infinite scroll, but we still need to load the initial data.\r\n\r\n            const response = await publicinfoApi.get(`employee/${page}/${PAGE_SIZE}/employeeId/asc/employees`);\r\n            console.log(`[API SUCCESS - EmployeeMultiSelectRoleDropdown] Employees fetched for page ${page}:`, response.data);\r\n\r\n            const responseData = response.data || {};\r\n            const fetchedEmployees = responseData.content || [];\r\n            const newEmployees = Array.isArray(fetchedEmployees) ? fetchedEmployees : [];\r\n\r\n            setEmployees(prev => append ? [...prev, ...newEmployees] : newEmployees);\r\n            setCurrentPage(page);\r\n\r\n            // Check if we've reached the end using responseData.last\r\n            if (responseData.last === true || newEmployees.length < PAGE_SIZE) {\r\n                setHasMoreData(false);\r\n                setAllDataLoaded(true);\r\n            } else {\r\n                setHasMoreData(true);\r\n            }\r\n        } catch (error) {\r\n            console.error('[API ERROR - EmployeeMultiSelectRoleDropdown] Error fetching employees:', error.response?.data || error.message);\r\n            setHasMoreData(false);\r\n        } finally {\r\n            setLoading(false);\r\n            isFetchingRef.current = false;\r\n        }\r\n    }, [hasMoreData]); // Dependencies are stable/managed\r\n\r\n    // Handle scroll event for infinite loading\r\n    const handleScroll = useCallback((e) => {\r\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n\r\n        // Check if user scrolled near bottom (within 50px)\r\n        // Ensure scrollHeight is greater than clientHeight to confirm scrollability\r\n        if (scrollHeight > clientHeight && scrollHeight - scrollTop <= clientHeight + 50) {\r\n            // Only load more if there's no active search term AND we have more data\r\n            if (hasMoreData && !loading && !isFetchingRef.current && !searchTerm) {\r\n                loadEmployees(currentPage + 1, true);\r\n            }\r\n        }\r\n    }, [currentPage, hasMoreData, loading, searchTerm, loadEmployees]);\r\n\r\n    // Initial load when dropdown opens (only if list is empty, and only once)\r\n    useEffect(() => {\r\n        if (isOpen && employees.length === 0 && !loading && !searchTerm) {\r\n            loadEmployees(0, false);\r\n        }\r\n    }, [isOpen, loadEmployees, employees.length, loading, searchTerm]);\r\n\r\n    // State cleanup when closing\r\n    useEffect(() => {\r\n        if (!isOpen) {\r\n            setSearchTerm('');\r\n            setEmployees([]);\r\n            setCurrentPage(0);\r\n            setAllDataLoaded(false);\r\n            setHasMoreData(true);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const toggleDropdown = () => {\r\n        if (!disabled) setIsOpen(!isOpen);\r\n    };\r\n\r\n    const toggleSelection = (employeeId) => {\r\n        onSelectionChange(employeeId);\r\n    };\r\n\r\n    const handleInternalRoleChange = (employeeId, role) => {\r\n        onRoleChange(employeeId, role);\r\n    };\r\n\r\n    const safeEmployees = Array.isArray(employees) ? employees : [];\r\n\r\n    // Filter logic runs on already loaded data\r\n    const filteredEmployees = safeEmployees.filter(emp => {\r\n        const displayName = emp.displayName || (emp.firstName + ' ' + emp.lastName);\r\n        return (\r\n            displayName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            emp.employeeId?.toLowerCase().includes(searchTerm.toLowerCase())\r\n        );\r\n    });\r\n\r\n    const selectedEmployeeIds = Object.keys(employeeRoles);\r\n    const selectedEmployees = selectedEmployeeIds.map(id => {\r\n        const emp = safeEmployees.find(e => e.employeeId === id);\r\n        return emp ? { ...emp, role: employeeRoles[id] } : null;\r\n    }).filter(e => e !== null);\r\n\r\n    const renderSelectedTags = () => {\r\n        if (selectedEmployees.length === 0) return <span className={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>{placeholder || 'Select team members...'}</span>;\r\n        \r\n        return (\r\n            <div className=\"flex flex-wrap gap-1\">\r\n                {selectedEmployees.map(item => {\r\n                    const displayName = item.displayName || (item.firstName + ' ' + item.lastName);\r\n                    return (\r\n                        <div key={item.employeeId} className={`text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full ${theme === 'dark' ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800'}`}>\r\n                            {displayName} ({item.role || 'No Role'})\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative\" ref={dropdownRef}>\r\n            <div onClick={toggleDropdown}\r\n                // Adjusted styling to match InputField\r\n                className={`w-full px-3 sm:px-4 py-2 sm:py-3 border-2 rounded-lg transition-all duration-300 cursor-pointer flex items-center justify-between text-sm min-h-[46px]\r\n                    focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n                    error ? 'border-red-300 bg-red-50' : (theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500' : 'border-gray-200 bg-white hover:border-gray-300')\r\n                } ${disabled ? 'opacity-50' : ''}`}\r\n            >\r\n                <div className=\"flex-1 min-w-0 pr-2 overflow-hidden\">{renderSelectedTags()}</div>\r\n                <FaChevronDown className={`w-4 h-4 transition-transform flex-shrink-0 ${isOpen ? 'rotate-180' : ''} ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </div>\r\n            {error && <p className=\"text-red-500 text-xs mt-1\">{error}</p>}\r\n            <AnimatePresence>\r\n                {isOpen && !disabled && (\r\n                    <motion.div initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -10 }} className={`absolute top-full left-0 right-0 mt-2 border rounded-lg shadow-lg z-50 ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-white border-gray-200'}`}>\r\n                        <div className=\"p-2 border-b border-gray-200 dark:border-gray-600\">\r\n                            <div className=\"relative\">\r\n                                <FaSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                                <input type=\"text\" placeholder=\"Search employees...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className={`w-full pl-10 pr-4 py-2 border rounded-lg text-sm ${theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'}`} />\r\n                            </div>\r\n                        </div>\r\n                        <div\r\n                            className=\"max-h-80 overflow-y-auto\" // Adjusted height for better scroll visibility\r\n                            ref={scrollAreaRef}\r\n                            onScroll={handleScroll}\r\n                        >\r\n                            {filteredEmployees.length > 0 ? (\r\n                                filteredEmployees.map((employee, index) => {\r\n                                    const isSelected = employeeRoles.hasOwnProperty(employee.employeeId);\r\n                                    const displayName = employee.displayName || (employee.firstName + ' ' + employee.lastName);\r\n                                    return (\r\n                                        <div key={employee.employeeId} className={`p-3 border-b cursor-pointer ${theme === 'dark' ? 'border-gray-600' : 'border-gray-100'} ${isSelected ? 'bg-blue-50 dark:bg-blue-900/50' : `hover:${theme === 'dark' ? 'bg-gray-600' : 'bg-gray-50'}`}`}>\r\n                                            <div className=\"flex items-start\">\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    checked={isSelected}\r\n                                                    onChange={() => toggleSelection(employee.employeeId)}\r\n                                                    className=\"mt-1 mr-3 h-4 w-4 text-blue-600 rounded focus:ring-blue-500 flex-shrink-0\"\r\n                                                />\r\n                                                <div className=\"flex-1 min-w-0\">\r\n                                                    <div className={`font-medium text-sm ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>{displayName}</div>\r\n                                                    <div className={`text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>{employee.employeeId}</div>\r\n                                                    {isSelected && (\r\n                                                        <div className=\"mt-2\" onClick={(e) => e.stopPropagation()}>\r\n                                                            <input\r\n                                                                type=\"text\"\r\n                                                                value={employeeRoles[employee.employeeId] || ''}\r\n                                                                onChange={(e) => handleInternalRoleChange(employee.employeeId, e.target.value)}\r\n                                                                placeholder=\"Enter role (e.g., Backend, Lead, QA)\"\r\n                                                                className={`w-full px-3 py-1.5 text-sm border rounded-lg\r\n                                                                    ${theme === 'dark'\r\n                                                                        ? 'bg-gray-800 border-gray-600 text-white'\r\n                                                                        : 'bg-white border-gray-300 text-gray-800'}\r\n                                                                    focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none`}\r\n                                                            />\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            ) : searchTerm ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No employees matching \"{searchTerm}\" in loaded list.\r\n                                </div>\r\n                            ) : loading && employees.length === 0 ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading employees...\r\n                                </div>\r\n                            ) : (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No employees found.\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Loading indicator for infinite scroll */}\r\n                            {loading && employees.length > 0 && (\r\n                                <div className={`p-2 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading more employees...\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {allDataLoaded && employees.length > 0 && (\r\n                            <div className={`p-2 border-t text-center text-xs font-medium ${theme === 'dark' ? 'text-gray-500 border-gray-600' : 'text-gray-400 border-gray-200'}`}>\r\n                                ðŸ‘¥ All {employees.length} employees loaded\r\n                            </div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n// ----------------------------------------------------------------------------------------------------------------------\r\n\r\n\r\n// Loading and Error Components\r\nconst LoadingSpinner = () => (\r\n    <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-16 w-16 sm:h-32 sm:w-32 border-t-2 border-b-2 border-blue-500\"></div>\r\n    </div>\r\n);\r\n\r\nconst ErrorDisplay = ({ message }) => (\r\n    <div className=\"text-center p-6 sm:p-8 bg-red-100 text-red-700 rounded-lg\">\r\n        <h3 className=\"font-bold text-base sm:text-lg\">Oops! Something went wrong.</h3>\r\n        <p className=\"text-sm sm:text-base\">{message}</p>\r\n    </div>\r\n);\r\n\r\n// Main AllTeams Component\r\nconst AllTeams = () => {\r\n    const [teams, setTeams] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n    const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n    const [selectedTeam, setSelectedTeam] = useState(null);\r\n    const [expandedTeams, setExpandedTeams] = useState(new Set());\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [matchedArray, setMatchedArray] = useState(null);\r\n    const [isRightSidebarOpen, setIsRightSidebarOpen] = useState(false);\r\n    const [displayMode, setDisplayMode] = useState('MY_TEAMS');\r\n    const [adminallteams, setAdminAllTeams] = useState([]);\r\n    const encodeId = (id) => btoa(id.toString());\r\n\r\n    // Form state\r\n    const [teamName, setTeamName] = useState('');\r\n    const [employeeRoles, setEmployeeRoles] = useState({}); // Stores {employeeId: role}\r\n    const [selectedProject, setSelectedProject] = useState(null);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [formErrors, setFormErrors] = useState({});\r\n\r\n    // Notification state\r\n    const [notification, setNotification] = useState({\r\n        isOpen: false,\r\n        type: '',\r\n        title: '',\r\n        message: ''\r\n    });\r\n\r\n    const { userData, theme } = useContext(Context);\r\n    const userRoles = userData?.roles || [];\r\n\r\n    const location = useLocation();\r\n    const searchParams = new URLSearchParams(location.search);\r\n    const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n    const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n    const employeeIdToFetch = fromContextMenu && targetEmployeeId ? targetEmployeeId : userData?.employeeId;\r\n\r\n    const loggedinuserRole = userData?.roles[0]\r\n        ? `ROLE_${userData.roles[0]}`\r\n        : null;\r\n\r\n    // Custom notification handlers\r\n    const showNotification = (type, title, message) => {\r\n        setNotification({\r\n            isOpen: true,\r\n            type,\r\n            title,\r\n            message\r\n        });\r\n    };\r\n\r\n    const closeNotification = () => {\r\n        setNotification({\r\n            isOpen: false,\r\n            type: '',\r\n            title: '',\r\n            message: ''\r\n        });\r\n    };\r\n\r\n    const toggleTeamExpansion = (teamId) => {\r\n        const newExpandedTeams = new Set(expandedTeams);\r\n        if (newExpandedTeams.has(teamId)) {\r\n            newExpandedTeams.delete(teamId);\r\n        } else {\r\n            newExpandedTeams.add(teamId);\r\n        }\r\n        setExpandedTeams(newExpandedTeams);\r\n    };\r\n\r\n    const isTeamExpanded = (teamId) => expandedTeams.has(teamId);\r\n\r\n    const fetchTeams = async () => {\r\n        try {\r\n            setLoading(true);\r\n\r\n            if (!employeeIdToFetch) {\r\n                setError(\"Employee ID not found. Please login again.\");\r\n                return;\r\n            }\r\n\r\n            console.log(`[API CALL - fetchTeams] Fetching teams for employee: ${employeeIdToFetch}`);\r\n            const response = await publicinfoApi.get(`employee/team/${employeeIdToFetch}`);\r\n            console.log('[API SUCCESS - fetchTeams] Teams fetched:', response.data);\r\n\r\n            const teamsArray = Array.isArray(response.data) ? response.data : [response.data];\r\n            setTeams(teamsArray || []);\r\n            setError(null);\r\n        } catch (err) {\r\n            console.error('[API ERROR - fetchTeams] Error fetching teams:', err.response?.data || err.message);\r\n            setError(`Could not fetch teams data for employee ${employeeIdToFetch}.`);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchAdminAllTeams = async () => {\r\n        if (!matchedArray || !matchedArray.includes(\"MY_TEAM_MY_TEAMS_ALL_TEAMS\")) {\r\n            setAdminAllTeams([]);\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setAdminAllTeams([]);\r\n\r\n        try {\r\n            console.log(\"[API CALL - fetchAdminAllTeams] Fetching all teams for admin view.\");\r\n            let response = await publicinfoApi.get(\r\n                \"employee/0/19/teamId/asc/teams\"\r\n            );\r\n\r\n            const teamsData = response.data.content;\r\n            setAdminAllTeams(teamsData);\r\n            console.log(\"Admin Fetched Teams (ALL_TEAMS view) âœ…\", teamsData);\r\n            setError(null);\r\n        } catch (error) {\r\n            console.error(\"[API ERROR - fetchAdminAllTeams] Error From Admin Fetching All Teams âŒ\", error.response?.data || error.message);\r\n            setAdminAllTeams([]);\r\n            setError('Failed to load all teams directory.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if(loggedinuserRole) {\r\n            let fetchForPermissionArray = async () => {\r\n                try {\r\n                    console.log(`[API CALL - fetchForPermissionArray] Fetching role access for role: ${loggedinuserRole}`);\r\n                    let response = await authApi.get(`role-access/${loggedinuserRole}`);\r\n                    console.log('[API SUCCESS - fetchForPermissionArray] Role permissions fetched:', response.data);\r\n                    setMatchedArray(response?.data?.permissions);\r\n                } catch (error) {\r\n                    console.error(\"[API ERROR - fetchForPermissionArray] Error from Fetching Error matching Objects:\", error.response?.data || error.message);\r\n                }\r\n            }\r\n            fetchForPermissionArray();\r\n        }\r\n    },[loggedinuserRole]);\r\n\r\n    useEffect(() => {\r\n        if (displayMode === 'MY_TEAMS') {\r\n            fetchTeams();\r\n        } else if (displayMode === 'ALL_TEAMS') {\r\n            fetchAdminAllTeams();\r\n        }\r\n    }, [displayMode, employeeIdToFetch, matchedArray]);\r\n\r\n    const currentDataSource = displayMode === 'MY_TEAMS' ? teams : adminallteams;\r\n\r\n    const validateForm = () => {\r\n        const errors = {};\r\n        if (!teamName.trim()) errors.teamName = \"Team Name is required.\";\r\n\r\n        const selectedIds = Object.keys(employeeRoles);\r\n        if (selectedIds.length === 0) {\r\n            errors.teamMembers = \"At least one Team Member is required.\";\r\n        } else {\r\n            // Check if any selected member has an empty role\r\n            const hasEmptyRole = selectedIds.some(id => !employeeRoles[id]?.trim());\r\n            if (hasEmptyRole) {\r\n                errors.teamMembers = \"All selected members must have a role.\";\r\n            }\r\n        }\r\n        if (!selectedProject) errors.selectedProject = \"Project selection is required.\";\r\n        setFormErrors(errors);\r\n        return Object.keys(errors).length === 0;\r\n    };\r\n\r\n    // Handlers for inline role assignment in the new dropdown\r\n    const toggleEmployeeSelection = (employeeId) => {\r\n        setEmployeeRoles(prev => {\r\n            const newRoles = { ...prev };\r\n            if (newRoles.hasOwnProperty(employeeId)) {\r\n                delete newRoles[employeeId];\r\n            } else {\r\n                newRoles[employeeId] = ''; // Initialize with empty role\r\n            }\r\n            return newRoles;\r\n        });\r\n    };\r\n\r\n    const handleRoleChange = (employeeId, role) => {\r\n        setEmployeeRoles(prev => ({\r\n            ...prev,\r\n            [employeeId]: role\r\n        }));\r\n    };\r\n\r\n    const handleCreateTeam = async (e) => {\r\n        e.preventDefault();\r\n        if (!validateForm()) return;\r\n\r\n        setIsSubmitting(true);\r\n        setFormErrors({});\r\n\r\n        // --- MODIFIED PAYLOAD TO MATCH USER'S REQUESTED STRUCTURE ---\r\n        const newTeamData = {\r\n            teamName: teamName,\r\n            teamDescription: \"Default Description\",\r\n            projectId: selectedProject?.value,\r\n            employeeRoles: employeeRoles // Sending the key/value map directly\r\n        };\r\n        // -----------------------------------------------------------\r\n\r\n        try {\r\n            console.log('[API CALL - handleCreateTeam] Creating new team with data (JSON format):', newTeamData);\r\n            \r\n            // Log the payload in a stringified JSON format for easy copy/paste verification\r\n            console.log('--- API Payload JSON START ---');\r\n            console.log(JSON.stringify(newTeamData, null, 2));\r\n            console.log('--- API Payload JSON END ---');\r\n            \r\n            const response = await publicinfoApi.post('employee/team', newTeamData);\r\n            console.log('[API SUCCESS - handleCreateTeam] Team created successfully. Response:', response.data);\r\n\r\n            if (displayMode === 'MY_TEAMS') {\r\n                await fetchTeams();\r\n            } else {\r\n                await fetchAdminAllTeams();\r\n            }\r\n\r\n            setIsCreateModalOpen(false);\r\n            setTeamName('');\r\n            setEmployeeRoles({}); // Reset the new state\r\n            setSelectedProject(null);\r\n            showNotification('success', 'Team Created Successfully!', 'The new team has been created successfully.');\r\n        } catch (err) {\r\n            console.error('[API ERROR - handleCreateTeam] Failed to create team:', err.response?.data || err.message);\r\n            setFormErrors({ general: err.response?.data?.message || 'Failed to create team. Please check the data and try again.' });\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const handleDeleteClick = (team) => {\r\n        setSelectedTeam(team);\r\n        setIsDeleteModalOpen(true);\r\n    };\r\n\r\n    const confirmDelete = async () => {\r\n        if (!selectedTeam) return;\r\n\r\n        setIsSubmitting(true);\r\n\r\n        try {\r\n            console.log(`[API CALL - confirmDelete] Deleting team with ID: ${selectedTeam.teamId}`);\r\n            await publicinfoApi.delete(`employee/${selectedTeam.teamId}/team`);\r\n            console.log('[API SUCCESS - confirmDelete] Team deleted successfully.');\r\n\r\n            if (displayMode === 'MY_TEAMS') {\r\n                setTeams(teams.filter(t => t.teamId !== selectedTeam.teamId));\r\n            } else if (displayMode === 'ALL_TEAMS') {\r\n                setAdminAllTeams(adminallteams.filter(t => t.teamId !== selectedTeam.teamId));\r\n            }\r\n\r\n            setIsDeleteModalOpen(false);\r\n            setSelectedTeam(null);\r\n            showNotification('success', 'Team Deleted Successfully!', 'The team has been deleted successfully.');\r\n        } catch (err) {\r\n            console.error('[API ERROR - confirmDelete] Failed to delete team:', err.response?.data || err.message);\r\n            showNotification('error', 'Delete Failed', 'Failed to delete team. Please try again.');\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const resetCreateModalState = () => {\r\n        setIsCreateModalOpen(false);\r\n        setTeamName('');\r\n        setEmployeeRoles({});\r\n        setSelectedProject(null);\r\n        setFormErrors({});\r\n    };\r\n\r\n    const renderCreateTeamModal = () => {\r\n        if (!isCreateModalOpen) return null;\r\n\r\n        return (\r\n            <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4\">\r\n                <div className=\"flex flex-col rounded-2xl sm:rounded-3xl w-full max-w-sm sm:max-w-md lg:max-w-2xl max-h-[95vh] overflow-hidden shadow-2xl\">\r\n                    <div className=\"px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r from-blue-500 to-indigo-700 text-white relative\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n                                <div className=\"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl flex-shrink-0\">\r\n                                    <FaUsers className=\"w-6 h-6 sm:w-8 sm:h-8\" />\r\n                                </div>\r\n                                <div className=\"min-w-0 flex-1\">\r\n                                    <h2 className=\"text-lg sm:text-xl md:text-2xl font-bold break-words\">Create New Team</h2>\r\n                                    <p className=\"text-white/90 text-xs sm:text-sm break-words\">Organize employees into a new team and define their roles.</p>\r\n                                </div>\r\n                            </div>\r\n                            <button onClick={resetCreateModalState} className=\"p-2 sm:p-3 hover:bg-white/20 rounded-full transition-all group flex-shrink-0\">\r\n                                <FaTimes className=\"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={`overflow-y-auto flex-grow ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}>\r\n                        <form className=\"p-4 sm:p-6 md:p-8\" onSubmit={handleCreateTeam}>\r\n                            <div className=\"grid grid-cols-1 gap-4 sm:gap-6\">\r\n\r\n                                {/* Team Name - Uses InputField */}\r\n                                <div>\r\n                                    <InputField\r\n                                        name=\"teamName\"\r\n                                        label=\"Team Name\"\r\n                                        type=\"text\"\r\n                                        required={true}\r\n                                        placeholder=\"e.g., Development Team\"\r\n                                        value={teamName}\r\n                                        onChange={(e) => setTeamName(e.target.value)}\r\n                                        isError={formErrors.teamName}\r\n                                        theme={theme}\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Project - Uses ProjectDropdown */}\r\n                                <div>\r\n                                    <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                        Project <span className=\"text-red-500\">*</span>\r\n                                    </label>\r\n                                    <ProjectDropdown\r\n                                        value={selectedProject}\r\n                                        onChange={setSelectedProject}\r\n                                        theme={theme}\r\n                                        error={formErrors.selectedProject}\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Team Members with Scroll Pagination and Inline Role Inputs */}\r\n                                <div>\r\n                                    <label className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                        Team Members <span className=\"text-red-500\">*</span>\r\n                                    </label>\r\n                                    <EmployeeMultiSelectRoleDropdown\r\n                                        employeeRoles={employeeRoles}\r\n                                        onSelectionChange={toggleEmployeeSelection}\r\n                                        onRoleChange={handleRoleChange}\r\n                                        theme={theme}\r\n                                        error={formErrors.teamMembers}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {formErrors.general && (\r\n                                <div className={`mt-4 sm:mt-6 p-3 sm:p-4 border-l-4 border-red-400 rounded-r-lg ${theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'}`}>\r\n                                    <div className=\"flex items-center\">\r\n                                        <IoWarning className=\"w-4 h-4 sm:w-5 sm:h-5 text-red-400 mr-3 flex-shrink-0\" />\r\n                                        <p className={`font-medium text-sm ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>{formErrors.general}</p>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </form>\r\n                    </div>\r\n\r\n                    <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'}`}>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={resetCreateModalState}\r\n                            className={`w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg font-semibold transition-all text-sm ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-600' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={handleCreateTeam}\r\n                            disabled={isSubmitting}\r\n                            className={`w-full sm:w-auto px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white font-bold rounded-lg\r\n                                hover:shadow-lg transform hover:scale-105 transition-all flex items-center justify-center space-x-2 text-sm\r\n                                ${isSubmitting ? 'cursor-not-allowed opacity-75' : ''}`}\r\n                        >\r\n                            {isSubmitting ? (\r\n                                <>\r\n                                    <div className=\"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                                    <span>Creating...</span>\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                                    <span>Create Team</span>\r\n                                </>\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const handleMyTeamsClick = () => {\r\n        setDisplayMode('MY_TEAMS');\r\n        setIsRightSidebarOpen(false);\r\n    };\r\n\r\n    const handleAllTeamsClick = () => {\r\n        setDisplayMode('ALL_TEAMS');\r\n        setIsRightSidebarOpen(false);\r\n        fetchAdminAllTeams();\r\n    };\r\n\r\n    const renderContent = () => {\r\n        const isMyTeamsMode = displayMode === 'MY_TEAMS';\r\n        const teamTitle = isMyTeamsMode ? 'My Teams' : 'All Teams';\r\n\r\n        if (loading) {\r\n            return <LoadingSpinner />;\r\n        }\r\n\r\n        if (error && isMyTeamsMode) {\r\n            return <ErrorDisplay message={error} />;\r\n        }\r\n\r\n        const teamsToRenderAfterSearch = (Array.isArray(currentDataSource) ? currentDataSource : []).filter(team =>\r\n            team.teamName && team.teamName.toLowerCase().includes(searchTerm.toLowerCase())\r\n        );\r\n\r\n        if (teamsToRenderAfterSearch.length === 0) {\r\n            return (\r\n                <div className=\"text-center py-12 sm:py-16 px-4\">\r\n                    <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${\r\n                        theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100'\r\n                    }`}>\r\n                        <FaUsers className={`w-8 h-8 sm:w-10 sm:h-10 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} />\r\n                    </div>\r\n                    <h2 className={`text-lg sm:text-xl font-bold mb-2 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                        {searchTerm ? `No Teams Found matching \"${searchTerm}\"` : `${teamTitle} Not Available`}\r\n                    </h2>\r\n                    <p className={`text-sm sm:text-base mb-4 max-w-md mx-auto ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                        {isMyTeamsMode\r\n                            ? 'You are not part of any teams yet. Ask your manager to add you.'\r\n                            : 'No teams are currently listed in the directory or unable to fetch directory data.'\r\n                        }\r\n                    </p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mx-4 sm:mx-0\">\r\n                    {teamsToRenderAfterSearch.map((team, index) => {\r\n                        const teamId = team.teamId || index;\r\n                        const isExpanded = isTeamExpanded(teamId);\r\n\r\n                        const leadOrManager = team.employees?.find(emp => emp.jobTitlePrimary === 'TEAM_LEAD' || emp.jobTitlePrimary === 'MANAGER');\r\n                        const otherMembers = team.employees?.filter(emp => emp !== leadOrManager) || [];\r\n\r\n                        const membersToShow = isExpanded ? otherMembers : otherMembers.slice(0, 4);\r\n                        const hasMoreMembers = otherMembers.length > 4;\r\n\r\n                        const membersToDisplay = leadOrManager ? [leadOrManager, ...membersToShow] : membersToShow;\r\n\r\n                        return (\r\n                            <div key={teamId} className={`rounded-none sm:rounded-lg shadow-lg overflow-hidden border transition-shadow duration-300 flex flex-col ${theme === 'dark' ? 'bg-gray-800 border-gray-700 hover:shadow-blue-500/20' : 'bg-white border-gray-200 hover:shadow-xl'}`}>\r\n                                <div className=\"p-4 sm:p-5\">\r\n                                    <div className=\"flex justify-between items-start\">\r\n                                        <div className=\"flex-1 min-w-0\">\r\n                                            <h2 className={`text-lg sm:text-xl font-bold break-words ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>\r\n                                                {team.teamName}\r\n                                            </h2>\r\n                                        </div>\r\n                                        <div className=\"flex space-x-2 flex-shrink-0\">\r\n                                            <Link to={`/teams/${encodeId(teamId)}`}  title=\"View Details\" className=\"p-2 text-gray-500 hover:text-blue-500 transition-colors\">\r\n                                                <FaEye className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                            </Link>\r\n                                            {matchedArray?.includes(\"MY_TEAM_MY_TEAMS_DELETE_TEAM\") && !fromContextMenu && (\r\n                                                <button onClick={() => handleDeleteClick(team)} title=\"Delete Team\" className=\"p-2 text-gray-500 hover:text-red-500 transition-colors\">\r\n                                                    <FaTrash className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className={`px-4 sm:px-5 py-3 sm:py-4 border-t mt-auto ${theme === 'dark' ? 'bg-gray-800/50 border-gray-700' : 'bg-gray-50 border-gray-200'}`}>\r\n                                    <h3 className={`font-semibold mb-2 text-sm sm:text-base ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                                        Members ({team.employees?.length || 0})\r\n                                    </h3>\r\n                                    <div className=\"space-y-2\">\r\n                                        <div className=\"flex flex-wrap gap-1 sm:gap-2\">\r\n                                            {membersToDisplay?.map(member => {\r\n                                                const displayName = member.displayName || (member.firstName + ' ' + member.lastName);\r\n                                                const isYou = member.employeeId === employeeIdToFetch;\r\n                                                const isLead = member.jobTitlePrimary === 'TEAM_LEAD' || member.jobTitlePrimary === 'MANAGER';\r\n\r\n                                                let tagClass;\r\n                                                if (isYou) {\r\n                                                    tagClass = theme === 'dark' ? 'bg-green-900 text-green-300' : 'bg-green-100 text-green-800';\r\n                                                } else if (isLead) {\r\n                                                    tagClass = theme === 'dark' ? 'bg-indigo-900 text-indigo-300' : 'bg-indigo-100 text-indigo-800';\r\n                                                } else {\r\n                                                    tagClass = theme === 'dark' ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800';\r\n                                                }\r\n\r\n                                                return (\r\n                                                    <span key={member.employeeId} className={`text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full break-words ${tagClass}`}>\r\n                                                        {displayName}\r\n                                                        {isYou && ' (You)'}\r\n                                                        {isLead && !isYou && ` (${member.jobTitlePrimary})`}\r\n                                                    </span>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                        {hasMoreMembers && (\r\n                                            <button\r\n                                                onClick={() => toggleTeamExpansion(teamId)}\r\n                                                className=\"flex items-center space-x-1 text-xs sm:text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors\"\r\n                                            >\r\n                                                {isExpanded ? (\r\n                                                    <><FaChevronUp className=\"w-3 h-3\" /><span>Show Less</span></>\r\n                                                ) : (\r\n                                                    <><FaChevronDown className=\"w-3 h-3\" /><span>+{otherMembers.length - 4} more</span></>\r\n                                                )}\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n\r\n    const hasAdminPermissions = matchedArray && matchedArray.includes(\"MY_TEAM_MY_TEAMS_ALL_TEAMS\");\r\n\r\n    return (\r\n        <div className={`relative flex min-h-screen ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n\r\n            {hasAdminPermissions && !isRightSidebarOpen && (\r\n                <button\r\n                    onClick={() => setIsRightSidebarOpen(true)}\r\n                    className=\"fixed right-0 top-1/2 -translate-y-1/2 p-2 rounded-l-lg bg-indigo-600 text-white shadow-lg z-50 hover:bg-indigo-700 transition-colors\"\r\n                    aria-label=\"Open Navigation Sidebar\"\r\n                    title=\"Open Navigation\"\r\n                >\r\n                    <FaChevronLeft size={24} />\r\n                </button>\r\n            )}\r\n\r\n            <div className={`flex-1 transition-all duration-300 ${isRightSidebarOpen ? 'lg:mr-60' : 'mr-0'}`}>\r\n                <div className={`px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8`}>\r\n                    {fromContextMenu && targetEmployeeId && (\r\n                        <div className={`mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-xl border-l-4 border-blue-500 shadow-md flex items-center space-x-3 ${theme === 'dark' ? 'bg-blue-900/20 text-blue-300' : 'bg-blue-50 text-blue-800'}`}>\r\n                            <FaEye className=\"flex-shrink-0\" />\r\n                            <p className=\"font-semibold text-sm sm:text-base break-words\">\r\n                                ðŸ” Viewing teams for employee: <span className=\"font-mono\">{targetEmployeeId}</span>\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 sm:mb-6 gap-4 mx-4 sm:mx-0\">\r\n                        <h1 className={`text-xl sm:text-2xl md:text-3xl font-bold flex items-center ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                            <FaUsers className=\"mr-2 sm:mr-3 text-blue-500\" />\r\n                            {displayMode === 'MY_TEAMS' ? 'My Teams' : (fromContextMenu ? 'Employee Teams' : 'All Teams')}\r\n                        </h1>\r\n                        <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 w-full md:w-auto\">\r\n                            <div className=\"relative w-full sm:w-64\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Search by team name...\"\r\n                                    value={searchTerm}\r\n                                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                                    className={`w-full pl-8 sm:pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/30 transition-colors text-sm ${theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-800 placeholder-gray-500'}`}\r\n                                />\r\n                                <FaSearch className={`absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n                            </div>\r\n                            {matchedArray?.includes(\"MY_TEAM_MY_TEAMS_CREATE_TEAM\") && !fromContextMenu && (\r\n                                <button\r\n                                    onClick={() => setIsCreateModalOpen(true)}\r\n                                    className=\"w-full sm:w-auto bg-black text-white px-4 sm:px-5 py-2 rounded-lg font-semibold hover:bg-gray-800 transition-colors flex items-center justify-center shadow-md text-sm\"\r\n                                >\r\n                                    <FaPlus className=\"mr-2\" /> Create Team\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {renderContent()}\r\n\r\n                    {renderCreateTeamModal()}\r\n\r\n                    <ConfirmationModal\r\n                        isOpen={isDeleteModalOpen}\r\n                        onClose={() => setIsDeleteModalOpen(false)}\r\n                        onConfirm={confirmDelete}\r\n                        title=\"Delete Team\"\r\n                        message={`Are you sure you want to delete the team \"${selectedTeam?.teamName}\"? This action cannot be undone.`}\r\n                        confirmText=\"Delete\"\r\n                        isConfirming={isSubmitting}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {hasAdminPermissions && (\r\n                <aside\r\n                    className={`fixed top-16 right-0 h-[calc(100vh-4rem)] border-l transition-all duration-300 z-50 flex flex-col ${\r\n                        isRightSidebarOpen ? 'w-60 translate-x-0' : 'w-0 translate-x-full'\r\n                    } ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}\r\n                >\r\n                    {isRightSidebarOpen && (\r\n                        <button\r\n                            onClick={() => setIsRightSidebarOpen(false)}\r\n                            className=\"absolute -left-12 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition-colors z-50 hidden md:block\"\r\n                            aria-label=\"Close Navigation Sidebar\"\r\n                            title=\"Close Navigation\"\r\n                        >\r\n                            <FaChevronRight size={24} />\r\n                        </button>\r\n                    )}\r\n\r\n                    <div className=\"p-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-700\">\r\n                        <h3 className={`text-lg font-bold ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Navigation</h3>\r\n                        <button\r\n                            onClick={() => setIsRightSidebarOpen(false)}\r\n                            className={`p-1 rounded-full ${theme === 'dark' ? 'text-gray-400 hover:text-white hover:bg-gray-700' : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'}`}\r\n                            title=\"Close Sidebar\"\r\n                        >\r\n                            <FaTimes size={18} />\r\n                        </button>\r\n                    </div>\r\n                    <nav className=\"flex-1 overflow-y-auto p-4 space-y-2\">\r\n                        <button\r\n                            onClick={handleMyTeamsClick}\r\n                            className={`w-full text-left py-2 px-3 rounded-lg font-medium flex items-center transition-colors ${\r\n                                displayMode === 'MY_TEAMS'\r\n                                    ? 'bg-blue-600 text-white'\r\n                                    : theme === 'dark'\r\n                                    ? 'text-gray-300 hover:bg-gray-700 hover:text-white'\r\n                                    : 'text-gray-700 hover:bg-gray-200'\r\n                            }`}\r\n                        >\r\n                            <FaUsers className=\"mr-2\" size={16} />\r\n                            My Teams\r\n                        </button>\r\n                        <button\r\n                            onClick={handleAllTeamsClick}\r\n                            className={`w-full text-left py-2 px-3 rounded-lg font-medium flex items-center transition-colors ${\r\n                                displayMode === 'ALL_TEAMS'\r\n                                    ? 'bg-blue-600 text-white'\r\n                                    : theme === 'dark'\r\n                                    ? 'text-gray-300 hover:bg-gray-700 hover:text-white'\r\n                                    : 'text-gray-700 hover:bg-gray-200'\r\n                            }`}\r\n                        >\r\n                            <FaUsers className=\"mr-2\" size={16} />\r\n                            All Teams\r\n                        </button>\r\n                    </nav>\r\n                </aside>\r\n            )}\r\n\r\n            {isRightSidebarOpen && (\r\n                <div\r\n                    className=\"fixed inset-0 bg-black/50 z-40 lg:hidden\"\r\n                    onClick={() => setIsRightSidebarOpen(false)}\r\n                />\r\n            )}\r\n\r\n            {/* Custom Notification */}\r\n            <CustomNotification\r\n                isOpen={notification.isOpen}\r\n                onClose={closeNotification}\r\n                type={notification.type}\r\n                title={notification.title}\r\n                message={notification.message}\r\n                theme={theme}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AllTeams;\r\n"],"names":["_ref","isOpen","onClose","onConfirm","title","message","confirmText","isConfirming","theme","useContext","Context","_jsx","className","children","_jsxs","concat","style","borderColor","FaExclamationTriangle","onClick","FaTimes","disabled","_Fragment","useOutsideClick","handler","ignoreRefs","arguments","length","undefined","ref","useRef","useEffect","handleClickOutside","event","isIgnored","some","r","current","contains","target","document","addEventListener","removeEventListener","CustomNotification","type","isVisible","setIsVisible","useState","timer","setTimeout","handleClose","clearTimeout","getIcon","FaCheckCircle","FaInfoCircle","getTitleClass","X","size","InputField","_ref2","name","label","required","hint","placeholder","value","onChange","onBlur","isError","options","baseInputClass","map","opt","FaChevronDown","toLowerCase","IoWarning","ProjectDropdown","_ref3","error","setIsOpen","searchTerm","setSearchTerm","projects","setProjects","loading","setLoading","hasMoreData","setHasMoreData","currentPage","setCurrentPage","allDataLoaded","setAllDataLoaded","isFetchingRef","scrollAreaRef","dropdownRef","loadProjects","useCallback","async","page","append","_response$data","_response$data2","console","log","response","publicinfoApi","get","data","fetchedProjects","content","newProjects","Array","isArray","prev","last","_error$response","handleScroll","e","scrollTop","scrollHeight","clientHeight","filteredProjects","filter","proj","_proj$title","_proj$projectId","includes","projectId","toggleDropdown","AnimatePresence","motion","div","initial","opacity","y","animate","exit","FaSearch","onScroll","project","isSelected","handleSelect","client","projectStatus","IoCheckmarkCircle","EmployeeMultiSelectRoleDropdown","_ref4","employeeRoles","onSelectionChange","onRoleChange","employees","setEmployees","roleInputRefs","loadEmployees","responseData","fetchedEmployees","newEmployees","_error$response2","safeEmployees","filteredEmployees","emp","_emp$employeeId","displayName","firstName","lastName","employeeId","selectedEmployees","Object","keys","id","find","_objectSpread","role","item","employee","index","hasOwnProperty","checked","toggleSelection","stopPropagation","handleInternalRoleChange","LoadingSpinner","ErrorDisplay","_ref5","AllTeams","teams","setTeams","setError","isCreateModalOpen","setIsCreateModalOpen","isDeleteModalOpen","setIsDeleteModalOpen","selectedTeam","setSelectedTeam","expandedTeams","setExpandedTeams","Set","matchedArray","setMatchedArray","isRightSidebarOpen","setIsRightSidebarOpen","displayMode","setDisplayMode","adminallteams","setAdminAllTeams","teamName","setTeamName","setEmployeeRoles","selectedProject","setSelectedProject","isSubmitting","setIsSubmitting","formErrors","setFormErrors","notification","setNotification","userData","location","roles","useLocation","searchParams","URLSearchParams","search","fromContextMenu","targetEmployeeId","employeeIdToFetch","loggedinuserRole","showNotification","fetchTeams","teamsArray","err","_err$response","fetchAdminAllTeams","teamsData","_error$response3","fetchForPermissionArray","_response$data3","authApi","permissions","_error$response4","currentDataSource","toggleEmployeeSelection","newRoles","handleRoleChange","handleCreateTeam","preventDefault","validateForm","errors","trim","selectedIds","teamMembers","_employeeRoles$id","newTeamData","teamDescription","JSON","stringify","post","_err$response2","_err$response3","_err$response3$data","general","resetCreateModalState","hasAdminPermissions","FaChevronLeft","FaEye","FaUsers","FaPlus","renderContent","isMyTeamsMode","teamTitle","teamsToRenderAfterSearch","team","_team$employees","_team$employees2","_team$employees3","teamId","isExpanded","has","isTeamExpanded","leadOrManager","jobTitlePrimary","otherMembers","membersToShow","slice","hasMoreMembers","membersToDisplay","Link","to","btoa","toString","handleDeleteClick","FaTrash","member","isYou","isLead","tagClass","newExpandedTeams","delete","add","toggleTeamExpansion","FaChevronUp","onSubmit","ConfirmationModal","t","_err$response4","FaChevronRight","handleMyTeamsClick","handleAllTeamsClick","closeNotification"],"sourceRoot":""}