"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[404],{1024:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(5043),r=a(9910),i=a(579);const n=[{employeeId:"ACS00000001",name:"Arjun Reddy",attendanceId:"ACS00000001_2025-10-09",date:"2025-10-09",month:"October",year:2025,mode:"Office",loginTime:"2025-10-09T09:10:00Z",logoutTime:"2025-10-09T18:05:00Z",breaks:[{startTime:"2025-10-09T13:00:00Z",endTime:"2025-10-09T13:30:00Z"}],effectiveHours:"PT8H25M",attended:!0,leavesTaken:2},{employeeId:"ACS00000002",name:"Priya Sharma",attendanceId:"ACS00000002_2025-10-10",date:"2025-10-10",month:"October",year:2025,mode:"Remote",loginTime:"2025-10-10T09:00:00Z",logoutTime:"2025-10-10T17:30:00Z",breaks:[],effectiveHours:"PT8H30M",attended:!0,leavesTaken:5},{employeeId:"ACS00000003",name:"Vikram Singh",attendanceId:"ACS00000003_2025-09-28",date:"2025-09-28",month:"September",year:2025,mode:"Office",loginTime:"2025-09-28T09:30:00Z",logoutTime:"2025-09-28T17:00:00Z",breaks:[{startTime:"2025-09-28T12:00:00Z",endTime:"2025-09-28T12:30:00Z"},{startTime:"2025-09-28T15:00:00Z",endTime:"2025-09-28T15:15:00Z"}],effectiveHours:"PT7H15M",attended:!0,leavesTaken:0},{employeeId:"ACS00000004",name:"Sita Kumari",attendanceId:"ACS00000004_2025-10-05",date:"2025-10-05",month:"October",year:2025,mode:"Remote",loginTime:"2025-10-05T09:45:00Z",logoutTime:"2025-10-05T18:15:00Z",breaks:[{startTime:"2025-10-05T13:15:00Z",endTime:"2025-10-05T13:45:00Z"}],effectiveHours:"PT7H45M",attended:!0,leavesTaken:1},{employeeId:"ACS00000005",name:"Rahul Das",attendanceId:"ACS00000005_2025-08-15",date:"2025-08-15",month:"August",year:2025,mode:"Office",loginTime:"2025-08-15T08:50:00Z",logoutTime:"2025-08-15T17:50:00Z",breaks:[],effectiveHours:"PT9H0M",attended:!0,leavesTaken:3}],l=e=>{const t=Math.floor(e/60),a=e%60;return`${String(t).padStart(2,"0")}:${String(a).padStart(2,"0")}`},o=e=>{let{onBack:t}=e;const[a,o]=(0,s.useState)(""),[d,c]=(0,s.useState)("Recantly Added"),[m,x]=(0,s.useState)(""),{theme:g}=(0,s.useContext)(r.ob),h=(0,s.useMemo)(()=>{let e=[...n];switch(m&&(e=e.filter(e=>e.month.toLowerCase()===m.toLowerCase())),a&&(e=e.filter(e=>e.leavesTaken>0)),d){case"Ascending":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"Descending":e.sort((e,t)=>t.name.localeCompare(e.name));break;case"Last Month":const t=0===(new Date).getMonth()?"December":new Date(0,(new Date).getMonth()-1).toLocaleString("en-US",{month:"long"});e.sort((e,a)=>e.month===t&&a.month!==t?-1:e.month!==t&&a.month===t?1:0);break;case"Last 7 days":case"Recantly Added":default:e.sort((e,t)=>new Date(t.date)-new Date(e.date));break;case"This Month":const a=(new Date).toLocaleString("en-US",{month:"long"});e.sort((e,t)=>e.month===a&&t.month!==a?-1:e.month!==a&&t.month===a?1:0)}return e},[n,a,d,m]),u=(0,s.useMemo)(()=>new Set(n.map(e=>e.employeeId)).size,[n]);return(0,i.jsxs)("div",{className:`p-4 sm:p-8 ${"dark"===g?"bg-gray-400":"bg-gray-50"}min-h-screen`,children:[(0,i.jsxs)("h1",{className:"text-3xl font-extrabold text-indigo-800 mb-6 border-b pb-2",children:[(0,i.jsx)("span",{role:"img","aria-label":"clock",children:"\u23f0"})," Employee Attendance Tracker"]}),(0,i.jsx)("button",{onClick:t,className:"mb-4 px-4 py-2 bg-indigo-100 text-blue-600 rounded-lg font-semibold shadow hover:bg-indigo-200 transition",children:"\u2190 Back to Dashboard"}),(0,i.jsxs)("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 p-4 ${"dark"===g?"bg-gray-700":"bg-white"} rounded-xl shadow-lg border-l-4 border-indigo-500`,children:[(0,i.jsxs)("div",{className:`text-lg font-semibold ${"dark"===g?"text-gray-100":"text-gray-700"} mb-4 sm:mb-0`,children:["Total Employees: ",(0,i.jsx)("span",{className:"text-indigo-600 text-2xl",children:u})]}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,i.jsxs)("select",{value:a,onChange:e=>o(e.target.value),className:`p-2 border border-gray-300 rounded-lg text-sm ${"dark"===g?"bg-gray-700 text-gray-50":"bg-white"} hover:border-indigo-500 transition-colors focus:ring-2 focus:ring-indigo-300`,children:[(0,i.jsx)("option",{value:"",children:"Leave Type: All"}),(0,i.jsx)("option",{value:"sick",children:"Sick"}),(0,i.jsx)("option",{value:"paid",children:"Paid"}),(0,i.jsx)("option",{value:"unpaid",children:"Unpaid"}),(0,i.jsx)("option",{value:"casual",children:"Casual"})]}),(0,i.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:`p-2 border border-gray-300 rounded-lg text-sm ${"dark"===g?"bg-gray-700 text-gray-50":"bg-white"} hover:border-indigo-500 transition-colors focus:ring-2 focus:ring-indigo-300`,children:[(0,i.jsx)("option",{value:"",children:"Select Month: All"}),["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>(0,i.jsx)("option",{value:e,children:e.slice(0,3)},e))]}),(0,i.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:`p-2 border border-gray-300 rounded-lg text-sm ${"dark"===g?"bg-gray-700 text-gray-50":"bg-white"} hover:border-indigo-500 transition-colors focus:ring-2 focus:ring-indigo-300`,children:[(0,i.jsx)("option",{value:"Recantly Added",children:"Sorted By: Recently Added"}),(0,i.jsx)("option",{value:"Ascending",children:"Name: Ascending"}),(0,i.jsx)("option",{value:"Descending",children:"Name: Descending"}),(0,i.jsx)("option",{value:"This Month",children:"Date: This Month"}),(0,i.jsx)("option",{value:"Last Month",children:"Date: Last Month"}),(0,i.jsx)("option",{value:"Last 7 days",children:"Date: Last 7 days"})]})]})]}),(0,i.jsx)("div",{className:"overflow-x-auto shadow-2xl rounded-xl",children:(0,i.jsxs)("table",{className:"min-w-full bg-white border-collapse",children:[(0,i.jsx)("thead",{className:"bg-indigo-600 text-white sticky top-0",children:(0,i.jsxs)("tr",{children:[["EmployeeId","Date","Mode","Login","Logout","Total Duration","Break Duration","Effective Hours","Leaves Taken","Status"].map(e=>(0,i.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 hidden sm:table-cell",children:e},e)),(0,i.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 sm:hidden",children:"Employee Details"})]})}),(0,i.jsx)("tbody",{children:0===h.length?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:10,className:`text-center py-6 ${"dark"===g?" text-gray-50":"text-gray-500"}  text-lg`,children:"No attendance records found for the selected filters."})}):h.map((e,t)=>{const a=(e=>{const t=e.match(/PT(?:(\d+)H)?(?:(\d+)M)?/);return 60*(t[1]?parseInt(t[1],10):0)+(t[2]?parseInt(t[2],10):0)})(e.effectiveHours),s=(e=>{let t=0;return e.forEach(e=>{const a=new Date(e.startTime),s=new Date(e.endTime)-a;t+=Math.floor(s/6e4)}),t})(e.breaks),r=new Date(e.loginTime),n=new Date(e.logoutTime),o=Math.floor((n-r)/6e4),d=l(o),c=l(a),m=l(s),x=e.attended?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return(0,i.jsxs)("tr",{className:"border-b transition-colors duration-200  "+("dark"===g?"bg-gray-700 hover:bg-gray-600":"hover:bg-gray-200"),children:[(0,i.jsx)("td",{className:`py-4 px-4 ${"dark"===g?" text-gray-50":"text-gray-700"} font-medium hidden sm:table-cell`,children:e.employeeId}),(0,i.jsx)("td",{className:`py-4 px-4 text-sm${"dark"===g?" text-gray-50":"text-gray-700"}  hidden sm:table-cell`,children:e.date}),(0,i.jsx)("td",{className:"py-4 px-4 text-sm text-gray-600 hidden sm:table-cell",children:(0,i.jsx)("span",{className:"px-3 py-1 text-xs font-semibold rounded-full "+("Office"===e.mode?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.mode})}),(0,i.jsx)("td",{className:`py-4 px-4 text-sm ${"dark"===g?" text-gray-50":"text-gray-700"}  hidden sm:table-cell`,children:r.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"UTC"})}),(0,i.jsx)("td",{className:`py-4 px-4 text-sm${"dark"===g?" text-gray-50":"text-gray-700"}  hidden sm:table-cell`,children:n.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"UTC"})}),(0,i.jsx)("td",{className:`py-4 px-4 text-sm font-semibold ${"dark"===g?" text-indigo-500":"text-indigo-700"} hidden sm:table-cell`,children:d}),(0,i.jsx)("td",{className:`py-4 px-4 text-sm ${"dark"===g?" text-orange-300":"text-orange-600"} hidden sm:table-cell`,children:m}),(0,i.jsx)("td",{className:`py-4 px-4 text-sm font-bold ${"dark"===g?" text-green-300":"text-green-700"} hidden sm:table-cell`,children:c}),(0,i.jsx)("td",{className:`py-4 px-4 text-sm ${"dark"===g?" text-red-300":"text-red-600"} font-medium hidden sm:table-cell`,children:e.leavesTaken}),(0,i.jsx)("td",{className:"py-4 px-4 text-sm hidden sm:table-cell",children:(0,i.jsx)("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${x}`,children:e.attended?"Present":"Absent"})}),(0,i.jsx)("td",{className:"py-4 px-4 sm:hidden",children:(0,i.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,i.jsx)("span",{className:"text-base font-bold "+("dark"===g?" text-indigo-300":"text-indigo-700"),children:e.name}),(0,i.jsxs)("span",{className:"text-sm "+("dark"===g?" text-gray-100":"text-gray-600"),children:["Date: ",e.date," (",e.mode,")"]}),(0,i.jsxs)("span",{className:"text-sm "+("dark"===g?" text-gray-100":"text-gray-600"),children:[r.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"UTC"})," -",n.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"UTC"})]}),(0,i.jsxs)("div",{className:"text-xs font-medium mt-1",children:[(0,i.jsxs)("span",{className:("dark"===g?" text-green-400":"text-green-700")+" ",children:["Effective: ",c]})," |",(0,i.jsxs)("span",{className:""+("dark"===g?" text-red-400":"text-red-700"),children:[" Leaves: ",e.leavesTaken]})]})]})})]},e.attendanceId)})})]})}),(0,i.jsxs)("p",{className:`text-sm ${"dark"===g?" text-gray-50":"text-gray-700"}  mt-6 text-center`,children:["Data is displayed for **",h.length,"** attendance record(s) based on current filters."]})]})}},6404:(e,t,a)=>{a.r(t),a.d(t,{default:()=>fe});var s=a(5043),r=a(9910),i=a(3315),n=a(7012),l=a(7656),o=a(4187),d=a(9002),c=a(6992),m=a(6102),x=a(7869),g=a(379),h=a(95),u=a(1474),p=a(2185),y=a(760),b=a(7136),f=a(5440),j=a(3546),w=a(3895),v=a(3721),N=a(184),k=a(1816),D=a(4825),S=a(7137),T=a(2819),A=a(9804),$=a(3825),C=a(579);const P=[{title:"Total ClockIn",value:"104"},{title:"Not ClockIn ",value:"10"},{title:"On leave",value:"6"},{title:"Weekly Off",value:"5"},{title:"Holiday",value:"10"},{title:"ClockOut",value:"104"}],M=e=>{let{title:t,icontextcolor:a,icon:i,value:n,color:l}=e;const{theme:o}=(0,s.useContext)(r.ob);return(0,C.jsxs)(f.P.div,{className:" rounded-xl p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-300 h-full flex flex-col items-center justify-center text-center space-y-2 "+("dark"===o?"bg-gray-600 ":"bg-stone-100 "),initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[(0,C.jsx)("div",{className:`w-16 h-16 flex items-center justify-center rounded-full mb-2 p-2 ${l} ${a}`,children:s.cloneElement(i,{className:"w-10 h-10 rounded-full "})}),(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{className:"text-3xl font-bold mt-2 "+("dark"===o?"bg-gradient-to-br from-blue-100 to-blue-500 bg-clip-text text-transparent":"text-gray-800 "),children:n}),(0,C.jsx)("h3",{className:`text-sm  ${"dark"===o?"text-white ":"text-gray-800"} `,children:t})]})]})},I=()=>{const{theme:e}=(0,s.useContext)(r.ob);return(0,C.jsx)("div",{className:"p-2 h-full flex flex-col justify-between",children:(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-7 gap-6 h-full",children:[(0,C.jsx)(L,{}),P.map((e,t)=>{let a,s,r;switch(e.title){case"Total ClockIn":a=(0,C.jsx)(A.Aag,{className:"w-8 h-8 text-white"}),r="bg-orange-100",s="text-orange-400";break;case"Not ClockIn ":a=(0,C.jsx)(A.U0v,{className:"w-8 h-8 text-white"}),r="bg-red-100",s="text-red-400";break;case"On leave":a=(0,C.jsx)(A.W7G,{className:"w-8 h-8 text-white"}),r="bg-green-100",s="text-green-400";break;case"Weekly Off":a=(0,C.jsx)(A.V$M,{className:"w-8 h-8 text-white"}),r="bg-blue-100",s="text-blue-400";break;case"Holiday":a=(0,C.jsx)($.H9N,{className:"w-8 h-8 text-white"}),r="bg-indigo-100",s="text-indigo-400";break;case"ClockOut":a=(0,C.jsx)(A.DLy,{className:"w-8 h-8 text-white"}),r="bg-yellow-100",s="text-yellow-400";break;default:a=(0,C.jsx)(k.A,{className:"w-10 h-10 text-white"}),r="#D3D3D3",s="text-gray-100"}return(0,C.jsx)(M,{icon:a,color:r,value:e.value,title:e.title,icontextcolor:s},t)})]})})},E=[{title:"Total ClockIn",value:104},{title:"Not ClockIn ",value:10},{title:"On leave",value:6},{title:"Weekly Off",value:5},{title:"Holiday",value:10},{title:"ClockOut",value:104}],H=["#3B82F6","#F59E0B","#EF4444","#84CC16","#6B7280","#22C55E"],L=()=>{const{theme:e}=(0,s.useContext)(r.ob),t=E.reduce((e,t)=>e+t.value,0),a="dark"===e?"white":"black";return(0,C.jsx)("div",{className:"flex justify-center items-center",children:(0,C.jsxs)(c.r,{width:160,height:160,children:[(0,C.jsx)(m.F,{data:E,dataKey:"value",nameKey:"title",cx:"50%",cy:"50%",innerRadius:55,outerRadius:80,children:E.map((e,t)=>(0,C.jsx)(x.f,{fill:H[t%H.length]},`cell-${t}`))}),(0,C.jsxs)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",stroke:a,className:"text-sm font-small ",children:["Total Employees",(0,C.jsx)("span",{className:` ${"dark"===e?"text-gray-200":"text-gray-800"} text-xl font-bold `,children:t})]}),(0,C.jsx)(g.m,{})]})})},_=[{name:"John Doe",title:"UI/UX Designer",department:"UI/UX",status:"Clocked In",time:"09:15",Arrival:"On-Time"},{name:"Raju",title:"Project Manager",department:"Management",status:"Clocked In",time:"09:36",Arrival:"On-Time"},{name:"Srilekha",title:"PHP Developer",department:"Development",status:"Clocked In",time:"09:15",Arrival:"On-Time",details:{clockIn:"10:30 AM",clockOut:"09:45 AM",production:"09:21 Hrs"}},{name:"Anita",title:"Marketing Head",department:"Marketing",Arrival:"Late",lateTime:"30 Min",time:"10:35"}],F=["All Departments","UI/UX","Development","Management","HR","Marketing"],O=["Today","This week","This month","Last Month"];function B(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}const W=()=>{const{theme:e}=(0,s.useContext)(r.ob),[t,a]=(0,s.useState)("All Departments"),[i,l]=(0,s.useState)("Today");return(0,C.jsxs)(f.P.div,{className:" rounded-xl shadow-md p-2 w-full h-96 font-sans border border-gray-200  flex flex-col "+("dark"===e?"bg-gray-600 ":"bg-stone-100"),initial:{opacity:0,y:50},animate:{opacity:1,y:.5,scale:1},transition:{duration:.5,delay:.2},children:[(0,C.jsxs)("h2",{className:"flex items-start justify-start text-lg font-bold text-gray-800  "+("dark"===e?"text-white ":"text-gray-800"),children:[(0,C.jsx)(n.A,{className:"w-6 h-6 text-blue-600 mr-2"}),"Clock-In/Out"]}),(0,C.jsx)("div",{className:"flex items-end justify-end border-b pb-2 mb-2 border-gray-200 flex-wrap gap-2",children:(0,C.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,C.jsxs)(D.W1,{as:"div",className:"relative inline-block text-left",children:[(0,C.jsx)("div",{children:(0,C.jsxs)(D.IU,{className:"inline-flex justify-end w-full rounded-md border border-gray-200 shadow-sm px-4 py-2 text-sm font-medium  hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 "+("dark"===e?"bg-gray-600 text-white  hover:bg-gray-700":"bg-white text-gray-700"),children:[t,(0,C.jsx)(T.A,{className:"-mr-1 ml-2 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),(0,C.jsx)(S.e,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,C.jsx)(D.c,{className:"origin-top-right absolute right-0 mt-2 w-52 rounded-md shadow-lg  ring-1 ring-black ring-opacity-5 focus:outline-none z-10 "+("dark"===e?"bg-gray-600 text-white":"bg-white text-gray-700"),children:(0,C.jsx)("div",{className:"py-1",children:F.map(e=>(0,C.jsx)(D.Dr,{children:t=>{let{active:s}=t;return(0,C.jsx)("a",{href:"#",onClick:()=>a(e),className:B(s?"bg-gray-100 text-gray-900":"text-gray-200","block px-4 py-2 text-sm"),children:e})}},e))})})})]}),(0,C.jsxs)(D.W1,{as:"div",className:"relative inline-block text-left",children:[(0,C.jsx)("div",{children:(0,C.jsxs)(D.IU,{className:"inline-flex justify-end w-full rounded-md border border-gray-200 shadow-sm px-4 py-2 text-sm font-medium  hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 "+("dark"===e?"bg-gray-600 text-white  hover:bg-gray-700":"bg-white text-gray-700"),children:[i,(0,C.jsx)(T.A,{className:"-mr-1 ml-2 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),(0,C.jsx)(S.e,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,C.jsx)(D.c,{className:"origin-top-right absolute right-0 mt-2 w-52 rounded-md shadow-lg  ring-1 ring-black ring-opacity-5 focus:outline-none z-10 "+("dark"===e?"bg-gray-600 text-white":"bg-white text-gray-700"),children:(0,C.jsx)("div",{className:"py-1",children:O.map(e=>(0,C.jsx)(D.Dr,{children:t=>{let{active:a}=t;return(0,C.jsx)("a",{href:"#",onClick:()=>l(e),className:B(a?"bg-gray-100 text-gray-900":"text-gray-200","block px-4 py-2 text-sm"),children:e})}},e))})})})]})]})}),(0,C.jsx)("div",{className:"space-y-4 flex-grow overflow-y-auto custom-scrollbar pr-2",children:(0,C.jsx)(j.N,{children:_.map((t,a)=>(0,C.jsxs)(f.P.div,{className:"flex items-center justify-between rounded-lg p-2 transition-colors duration-200 hover:bg-blue-200 hover:text-gray-800 border "+("dark"===e?"bg-gray-600 border-gray-200":"bg-gray-100 "),initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:.05*a},children:[(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)(f.P.img,{className:"w-10 h-10 rounded-full mr-4 object-cover",src:"https://randomuser.me/api/portraits/lego/1.jpg",alt:t.name,whileHover:{scale:1.1}}),(0,C.jsxs)("div",{children:["  ",(0,C.jsx)("p",{className:"font-semibold  "+("dark"===e?"text-white  ":"text-gray-800 "),children:t.name}),"  ",(0,C.jsx)("p",{className:"text-sm "+("dark"===e?"text-white  ":"text-gray-800 "),children:t.title})," ",(0,C.jsx)("p",{className:"text-sm "+("dark"===e?"text-white  ":"text-gray-800 "),children:t.Arrival}),"  "]})]}),(0,C.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,C.jsx)(n.A,{className:"h-5 w-5 "+("dark"===e?"text-gray-200":"text-gray-400")}),(0,C.jsx)("div",{className:"px-3 py-1 rounded-full  text-sm font-medium "+("On-Time"===t.Arrival?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:t.time})]})]},a))})})]})},R=[{Date:"11",Month:"Aug",Year:"2025",NoofEmployee:100},{Date:"12",Month:"Aug",Year:"2025",NoofEmployee:120},{Date:"13",Month:"Aug",Year:"2025",NoofEmployee:80},{Date:"14",Month:"Aug",Year:"2025",NoofEmployee:150},{Date:"15",Month:"Aug",Year:"2025",NoofEmployee:7}],z=()=>{const{theme:e}=(0,s.useContext)(r.ob),t=R.map(e=>({name:`${e.Date}-${e.Month}`,employees:e.NoofEmployee})),a="dark"===e?"#FFFFFF":"#000000";return(0,C.jsxs)(f.P.div,{className:" rounded-xl shadow-md p-2 w-full h-96 font-sans border border-gray-200  flex flex-col "+("dark"===e?"bg-gray-700 text-gray-200 ":"bg-stone-100 text-gray-800"),initial:{opacity:0,y:50},animate:{opacity:1,y:.5,scale:1},transition:{duration:.5,delay:.2},children:[(0,C.jsx)(n.A,{className:"w-6 h-6 text-blue-600 inline-block mr-2"})," ",(0,C.jsx)("h2",{className:"text-xl font-semibold mb-4 text-start",children:" On-Time Employees"}),(0,C.jsx)(d.u,{width:"100%",height:"100%",children:(0,C.jsxs)(u.E,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,C.jsx)(p.W,{dataKey:"name",stroke:a,tick:{fill:a}}),(0,C.jsx)(y.h,{stroke:a,tick:{fill:a},hide:!0}),(0,C.jsx)(g.m,{contentStyle:{backgroundColor:"dark"===e?"#63676cff":"#fff",border:e?"1px solid #4B5563":"1px solid #ccc"}}),(0,C.jsx)(b.y,{dataKey:"employees",fill:"#ADD8E6"})]})})]})},Y=[{Date:"11",Month:"Aug",Year:"2025",NoofEmployee:50,Hour:3},{Date:"12",Month:"Aug",Year:"2025",NoofEmployee:60,Hour:5},{Date:"13",Month:"Aug",Year:"2025",NoofEmployee:10,Hour:10},{Date:"14",Month:"Aug",Year:"2025",NoofEmployee:8,Hour:15},{Date:"15",Month:"Aug",Year:"2025",NoofEmployee:40,Hour:20}],U=()=>{const{theme:e}=(0,s.useContext)(r.ob),[t,a]=(0,s.useState)("hours"),i=Y.map(e=>({name:`${e.Date}-${e.Month}`,hours:e.Hour,employees:e.NoofEmployee})),n="hours"===t?"hours":"employees",l="hours"===t?"Hours":"No. of Employees",o=e=>{a(e)},c="dark"===e?"#FFFFFF":"#000000";return(0,C.jsxs)(f.P.div,{className:" rounded-xl shadow-md p-2 w-full h-96 font-sans border border-gray-200  flex flex-col "+("dark"===e?"bg-gray-700 text-gray-200 ":"bg-stone-100 text-gray-800"),initial:{opacity:0,y:50},animate:{opacity:1,y:.5,scale:1},transition:{duration:.5,delay:.2},children:[(0,C.jsx)("h2",{className:"text-xl font-semibold mb-4 text-start",children:"OverTime"}),(0,C.jsxs)("div",{className:"absolute top-4 right-4 flex space-x-2",children:[(0,C.jsx)("button",{onClick:()=>o("hours"),className:"py-1 px-3 rounded-md text-sm font-medium "+("hours"===t?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),children:"Hours"}),(0,C.jsx)("button",{onClick:()=>o("employees"),className:"py-1 px-3 rounded-md text-sm font-medium "+("employees"===t?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),children:"Employees"})]}),(0,C.jsx)(d.u,{width:"100%",height:"100%",children:(0,C.jsxs)(u.E,{data:i,margin:{top:40,right:30,left:20,bottom:5},children:[(0,C.jsx)(p.W,{dataKey:"name",stroke:c,tick:{fill:c}}),(0,C.jsx)(y.h,{label:{value:l,angle:-90,position:"insideLeft"},stroke:c,tick:{fill:c},hide:!0}),(0,C.jsx)(g.m,{contentStyle:{backgroundColor:"dark"===e?"#63676cff":"#fff",border:e?"1px solid #4B5563":"1px solid #ccc"}}),(0,C.jsx)(b.y,{dataKey:n,fill:"#B19CD9",barSize:40})]})})]})},Z=()=>{const{theme:e}=(0,s.useContext)(r.ob),[t,a]=(0,s.useState)("All"),[i,l]=(0,s.useState)("Recently added"),[d,c]=(0,s.useState)(10),[m,x]=(0,s.useState)(1),g=[10,25,50,100],h=["All","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],[u,p]=(0,s.useState)(()=>{const e=localStorage.getItem("attendanceTableData");return e?JSON.parse(e):[]});(0,s.useEffect)(()=>{(async()=>{const e=new Date,t=e.getDate(),a=e.getMonth()+1,s=e.getFullYear();let r=`https://hrms.anasolconsultancyservices.com/api/attendance/admin/present/${s}/${a}/${t}?page=0&size=${g[g.length-1]}`;"This Month"===i&&(r=`https://hrms.anasolconsultancyservices.com/api/attendance/admin/month/${s}/${a}?page=0&size=${g[g.length-1]}`);try{const e=await fetch(r),t=await e.json();let a=[];Array.isArray(t)?a=t:Array.isArray(t.content)&&(a=t.content),p(a),localStorage.setItem("attendanceTableData",JSON.stringify(a))}catch(n){console.error("Failed to fetch attendance data:",n)}})()},[i]);const y=(e,t)=>{if(!e||!t)return 0;const a=new Date(`2000-01-01 ${e}`),s=(new Date(`2000-01-01 ${t}`)-a)/36e5;return s>0?s:0},b=(0,s.useMemo)(()=>{let e=[...u];if("All"!==t&&t){const a=h.indexOf(t)-1;e=e.filter(e=>new Date(e.date).getMonth()===a)}switch(i){case"Ascending":e.sort((e,t)=>new Date(e.date)-new Date(t.date));break;case"Descending":default:e.sort((e,t)=>new Date(t.date)-new Date(e.date));break;case"Last Month":const t=new Date;t.setMonth(t.getMonth()-1),e=e.filter(e=>new Date(e.date)>=t);break;case"Last 7 Days":const a=new Date;a.setDate(a.getDate()-7),e=e.filter(e=>new Date(e.date)>=a)}const a=e.map(e=>({...e,login_hours:y(e.login_time,e.logout_time),barWidth:y(e.login_time,e.logout_time)/10*100+"%"})),s=Math.ceil(a.length/d);return{paginatedData:a.slice((m-1)*d,m*d),totalPages:s,totalCount:a.length}},[u,t,i,d,m,h]),{paginatedData:w,totalPages:v}=b;return(0,C.jsx)(f.P.div,{className:"p-4 sm:p-6  rounded-xl border border-gray-200 shadow-lg mb-2 "+("dark"===e?"bg-gray-700 text-white":"bg-stone-100 text-gray-800"),initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:(0,C.jsxs)("section",{children:[(0,C.jsxs)("div",{className:"flex justify-between items-start sm:items-center mb-5 flex-wrap gap-4",children:[" ",(0,C.jsxs)("h2",{className:"text-xl sm:text-2xl font-extrabold "+("dark"===e?"bg-gradient-to-br from-green-300 to-green-600 bg-clip-text text-transparent":"text-gray-800"),children:[(0,C.jsx)(o.A,{className:"w-6 h-6 sm:w-7 sm:h-7 inline-block text-indigo-600 mr-2"})," Attendance Records"]}),(0,C.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsx)("label",{htmlFor:"month-select",className:"text-sm font-semibold mr-2 "+("dark"===e?"text-gray-300":"text-gray-700"),children:"Select Month:"}),(0,C.jsx)("select",{id:"month-select",value:t,onChange:e=>{a(e.target.value),x(1)},className:"border px-3 py-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium transition-colors cursor-pointer \n                                                                              "+("dark"===e?"bg-gray-700 text-white border-gray-600 hover:border-indigo-500":"bg-white text-gray-800 border-gray-300 hover:border-indigo-500"),children:h.map(e=>(0,C.jsx)("option",{value:e,children:e},e))})]}),(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsx)("label",{htmlFor:"sort-select",className:"text-sm font-semibold mr-2 "+("dark"===e?"text-gray-300":"text-gray-700"),children:"Sort by:"}),(0,C.jsx)("select",{id:"sort-select",value:i,onChange:e=>{l(e.target.value),x(1)},className:"border px-3 py-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium transition-colors cursor-pointer \n                                                                              "+("dark"===e?"bg-gray-700 text-white border-gray-600 hover:border-indigo-500":"bg-white text-gray-800 border-gray-300 hover:border-indigo-500"),children:["Recently added","Ascending","Descending","Last Month","Last 7 Days","This Month"].map(e=>(0,C.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,C.jsx)("div",{className:"overflow-x-auto rounded-lg border border-purple-400",children:(0,C.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,C.jsx)("thead",{className:""+("dark"===e?"bg-gray-500 text-white":"bg-gray-50 text-gray-800"),children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider "+("dark"===e?"text-white":"text-gray-600"),children:"Employee ID"}),(0,C.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider "+("dark"===e?"text-white":"text-gray-600"),children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(o.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-500"})," Date"]})}),(0,C.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider "+("dark"===e?"text-white":"text-gray-600"),children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(n.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"})," Login Time"]})}),(0,C.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider "+("dark"===e?"text-white":"text-gray-600"),children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(n.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})," Logout Time"]})}),(0,C.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider "+("dark"===e?"text-white":"text-gray-600"),children:"Login Hours"}),(0,C.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider "+("dark"===e?"text-white":"text-gray-600"),children:"Daily Progress"})]})}),(0,C.jsx)("tbody",{className:("dark"===e?"bg-gray-500 text-white":"bg-gray-50 text-gray-800")+" divide-y divide-gray-200",children:(0,C.jsx)(j.N,{children:w.length>0?w.map((t,a)=>(0,C.jsxs)(f.P.tr,{className:"hover:bg-indigo-200 transition-colors duration-150",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:.05*a},children:[(0,C.jsx)("td",{className:"px-4 py-3 text-sm  whitespace-nowrap "+("dark"===e?"text-white":"text-gray-600"),children:t.employee_id}),(0,C.jsx)("td",{className:"px-4 py-3 text-sm  whitespace-nowrap "+("dark"===e?"text-white":"text-gray-600"),children:t.date}),(0,C.jsx)("td",{className:"px-4 py-3 text-sm  whitespace-nowrap "+("dark"===e?"text-white":"text-gray-600"),children:t.login_time||(0,C.jsx)("span",{className:"text-red-500 font-semibold",children:"Absent"})}),(0,C.jsx)("td",{className:"px-4 py-3 text-sm  whitespace-nowrap "+("dark"===e?"text-white":"text-gray-600"),children:t.logout_time||(0,C.jsx)("span",{className:"text-red-500 font-semibold",children:"Absent"})}),(0,C.jsxs)("td",{className:"px-4 py-3 text-sm  whitespace-nowrap "+("dark"===e?"text-white":"text-gray-600"),children:[(0,C.jsx)("span",{className:"font-semibold text-indigo-700 "+("dark"===e?"text-white":"text-indigo-700"),children:t.login_hours.toFixed(2)})," hrs"]}),(0,C.jsx)("td",{className:"px-4 py-3 text-sm  whitespace-nowrap "+("dark"===e?"text-white":"text-gray-600"),children:(0,C.jsxs)("div",{className:"relative rounded-full h-4 w-full bg-indigo-100 overflow-hidden",children:[(0,C.jsx)(f.P.div,{className:"bg-blue-300 h-full rounded-full",initial:{width:0},animate:{width:t.barWidth},transition:{duration:.8,ease:"easeOut"}}),(0,C.jsxs)("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-semibold text-white mix-blend-difference",children:[t.login_hours.toFixed(1),"h"]})]})})]},a)):(0,C.jsx)("tr",{children:(0,C.jsx)("td",{colSpan:"5",className:`px-4 py-3 text-center  whitespace-nowrap ${"dark"===e?"text-white":"text-gray-600"}italic`,children:"No attendance records found for the selected options."})})})})]})}),(0,C.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between",children:[(0,C.jsxs)("div",{className:"flex items-center gap-2 mb-4 sm:mb-0",children:[(0,C.jsx)("span",{className:"text-sm text-gray-700 "+("dark"===e?"text-white":"text-gray-700"),children:"Rows per page:"}),(0,C.jsx)("select",{value:d,onChange:e=>{c(Number(e.target.value)),x(1)},className:"border border-gray-300 px-2 py-1 rounded-md text-sm "+("dark"===e?"bg-gray-600 text-white border-gray-500":"bg-white text-gray-800"),children:g.map(e=>(0,C.jsx)("option",{value:e,children:e},e))})]}),(0,C.jsxs)("nav",{className:"flex items-center gap-2",children:[(0,C.jsx)("button",{onClick:()=>x(e=>Math.max(e-1,1)),disabled:1===m,className:`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${"dark"===e?"bg-gray-600 text-white border-gray-500 hover:bg-gray-500":"bg-white text-gray-800"} `,children:"Previous"}),(0,C.jsxs)("span",{className:"text-sm text-gray-700 "+("dark"===e?"text-white":"text-gray-700"),children:["Page ",m," of ",v]}),(0,C.jsx)("button",{onClick:()=>x(e=>Math.min(e+1,v)),disabled:m===v||0===v,className:`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${"dark"===e?"bg-gray-600 text-white border-gray-500 hover:bg-gray-500":"bg-white text-gray-800"} `,children:"Next"})]})]})]})})};const J=function(e){let{onBack:t}=e;return(0,C.jsxs)("div",{className:"p-2 sm:p-4 min-h-screen font-sans",children:[(0,C.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,C.jsx)("button",{onClick:t,className:"mb-4 px-4 py-2 bg-indigo-100 text-blue-600 rounded-lg font-semibold shadow hover:bg-indigo-200 transition",children:"\u2190 Back to Dashboard"})}),(0,C.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-6 mb-2",children:(0,C.jsx)(I,{})}),(0,C.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3  gap-6 mb-8",children:[(0,C.jsx)(W,{}),(0,C.jsx)(z,{}),(0,C.jsx)(U,{})]}),(0,C.jsx)("div",{className:"w-full",children:(0,C.jsx)(Z,{})})]})};var K=a(2397),X=a(5394),V=a(1024),G=a(8877);const q=["#4F46E5","#F97316"],Q="#4F46E5",ee="#F97316",te=e=>(0,C.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,C.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,C.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,C.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),ae=e=>(0,C.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,C.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),se=e=>(0,C.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,C.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),re=e=>(0,C.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,C.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,C.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),ie=e=>(0,C.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("polyline",{points:"15 18 9 12 15 6"})}),ne=e=>(0,C.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("polyline",{points:"9 18 15 12 9 6"})}),le=e=>(0,C.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,C.jsx)("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),oe=e=>(0,C.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,C.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,C.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),de=[{employeeId:"EMP001",date:"15-10-2025",effectiveHour:"09:00:00",isPresent:"Present",day:"Wednesday",login:"09:00:00",logout:"17:00:00"},{employeeId:"EMP001",date:"16-10-2025",effectiveHour:"09:05:00",isPresent:"Present",day:"Thursday",login:"09:05:00",logout:"17:05:00"},{employeeId:"EMP001",date:"17-10-2025",effectiveHour:"N/A",isPresent:"Absent",day:"Friday",login:"N/A",logout:"N/A"},{employeeId:"EMP001",date:"20-10-2025",effectiveHour:"N/A",isPresent:"Holiday",day:"Monday",holiday:"Yes",login:"N/A",logout:"N/A"},{employeeId:"EMP001",date:"21-10-2025",effectiveHour:"08:58:00",isPresent:"Present",day:"Tuesday",login:"08:58:00",logout:"16:58:00"},{employeeId:"EMP001",date:"22-10-2025",effectiveHour:"09:10:00",isPresent:"Present",day:"Wednesday",login:"09:10:00",logout:"17:10:00"},{employeeId:"EMP001",date:"23-10-2025",effectiveHour:"N/A",isPresent:"Absent",day:"Thursday",login:"N/A",logout:"N/A"},{employeeId:"EMP001",date:"24-10-2025",effectiveHour:"09:00:00",isPresent:"Present",day:"Friday",login:"09:00:00",logout:"17:00:00"},{employeeId:"EMP001",date:"25-10-2025",effectiveHour:"09:15:00",isPresent:"Present",day:"Saturday",login:"09:15:00",logout:"17:15:00"}],ce=["January","February","March","April","May","June","July","August","September","October","November","December"],me=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],xe=e=>{if(!e)return"";const t=e.split("-");return 3===t.length?`${t[2]}-${t[1]}-${t[0]}`:e},ge=e=>{if(!e)return"";const t=e.split("-");return 3===t.length?`${t[2]}-${t[1]}-${t[0]}`:e},he=e=>{let{dayData:t,eventsOnThisDay:a,onClose:s}=e;if("blank"===t.type)return null;const{dateString:r,attendance:i}=t,n={employeeId:i.employeeId||"EMP001 (Default)",date:i.date||r,effectiveHour:i.effectiveHour||"N/A",isPresent:"N/A"===i.isPresent?"Not Logged":i.isPresent,login:i.login||"N/A",logout:i.logout||"N/A"};return(0,C.jsx)("div",{className:"absolute inset-0 flex justify-center items-center z-50 p-4 bg-white/50 bg-opacity-40 backdrop-blur-sm",children:(0,C.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-2xl w-full max-w-lg transform transition-all duration-300 scale-100",children:[(0,C.jsxs)("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[(0,C.jsxs)("h2",{className:"text-2xl font-bold text-indigo-700 flex items-center",children:[(0,C.jsx)(te,{className:"mr-2 w-6 h-6"})," Details for ",n.date]}),(0,C.jsx)("button",{onClick:s,className:"p-1 rounded-full text-gray-500 hover:bg-gray-200 transition",children:(0,C.jsx)(oe,{className:"w-6 h-6"})})]}),(0,C.jsxs)("div",{className:"mb-6 p-4 border rounded-lg bg-indigo-50",children:[(0,C.jsx)("h3",{className:"text-xl font-semibold text-indigo-800 mb-3 border-b pb-1",children:"Attendance"}),(0,C.jsxs)("div",{className:"space-y-2 text-gray-700",children:[(0,C.jsxs)("p",{children:[(0,C.jsx)("strong",{children:"Employee ID:"})," ",(0,C.jsx)("span",{className:"font-medium",children:n.employeeId})]}),(0,C.jsxs)("p",{children:[(0,C.jsx)("strong",{children:"Status:"}),(0,C.jsx)("span",{className:"font-bold ml-1 px-2 py-0.5 rounded-full text-sm "+("Present"===n.isPresent?"bg-green-200 text-green-800":"Absent"===n.isPresent?"bg-red-200 text-red-800":"Holiday"===n.isPresent?"bg-yellow-200 text-yellow-800":"bg-gray-200 text-gray-800"),children:n.isPresent})]}),(0,C.jsxs)("p",{children:[(0,C.jsx)("strong",{children:"Effective Hour:"})," ",(0,C.jsx)("span",{className:"font-medium",children:n.effectiveHour})]}),(0,C.jsxs)("p",{children:[(0,C.jsx)("strong",{children:"Login Time:"})," ",(0,C.jsx)("span",{className:"font-medium",children:n.login})]}),(0,C.jsxs)("p",{children:[(0,C.jsx)("strong",{children:"Logout Time:"})," ",(0,C.jsx)("span",{className:"font-medium",children:n.logout})]})]})]}),(0,C.jsxs)("div",{className:"p-4 border rounded-lg bg-teal-50",children:[(0,C.jsxs)("h3",{className:"text-xl font-semibold text-teal-800 mb-3 border-b pb-1",children:["Events (",a.length,")"]}),0===a.length?(0,C.jsx)("p",{className:"text-gray-500 italic",children:"No events scheduled for this day."}):(0,C.jsx)("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:a.map((e,t)=>(0,C.jsxs)("div",{className:"border-l-4 border-teal-400 pl-3 bg-white p-2 rounded shadow-sm",children:[(0,C.jsx)("p",{className:"font-bold text-gray-800",children:e.event}),(0,C.jsx)("p",{className:"text-sm text-gray-600 italic truncate",children:e.description}),e.startDate!==e.endDate&&(0,C.jsxs)("p",{className:"text-xs text-teal-600 mt-1",children:["Multi-day event: ",e.startDate," - ",e.endDate]})]},t))})]}),(0,C.jsx)("div",{className:"flex justify-end mt-6",children:(0,C.jsx)("button",{onClick:s,className:"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition duration-150",children:"Got It"})})]})})};function ue(){const[e,t]=(0,s.useState)(new Date),[a,r]=(0,s.useState)([]),[i,n]=(0,s.useState)({start:null,end:null}),[l,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1),[m,x]=(0,s.useState)(null),[g,h]=(0,s.useState)(!1),u=e.getFullYear(),p=e.getMonth(),y=(0,s.useMemo)(()=>{const e=new Date(u,p+1,0).getDate();const t=((e,t)=>new Date(e,t,1).getDay())(u,p),a=[];for(let s=0;s<t;s++)a.push({key:`blank-${s}`,type:"blank"});for(let s=1;s<=e;s++){const e=`${String(s).padStart(2,"0")}-${String(p+1).padStart(2,"0")}-${u}`,t=de.find(t=>t.date===e)||{isPresent:"N/A",login:"N/A",logout:"N/A"};a.push({date:e,type:"day",day:s,dateString:e,attendance:t})}return a},[u,p]),b=(0,s.useCallback)(e=>{t(t=>new Date(t.getFullYear(),t.getMonth()+e,1)),x(null),o(!1),c(!1)},[]),f=e=>{e.preventDefault();const t=e.target.event.value,a=e.target.description.value,s={startDate:ge(e.target.startDate.value),endDate:ge(e.target.endDate.value),event:t,description:a};r(e=>[...e,s]),o(!1),e.target.reset()},j=()=>(0,C.jsx)("div",{className:"absolute inset-0 flex justify-center items-center z-50 p-4 bg-white/50 bg-opacity-40 backdrop-blur-sm",children:(0,C.jsxs)("form",{onSubmit:f,className:"bg-white p-4 rounded-lg shadow-2xl w-full max-w-md transform transition-all duration-300 scale-100",children:[(0,C.jsxs)("h2",{className:"text-2xl font-bold text-indigo-700 mb-3 border-b pb-2 flex items-center",children:[(0,C.jsx)(te,{className:"mr-2"})," Add/Edit Event"]}),(0,C.jsxs)("div",{className:"mb-2",children:[(0,C.jsx)("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"start_date",children:"Start Date"}),(0,C.jsx)("input",{id:"startDate",name:"startDate",type:"date",required:!0,defaultValue:xe(i.start),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150"})]}),(0,C.jsxs)("div",{className:"mb-2",children:[(0,C.jsx)("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"end_date",children:"End Date"}),(0,C.jsx)("input",{id:"endDate",name:"endDate",type:"date",required:!0,defaultValue:xe(i.end),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150"})]}),(0,C.jsxs)("div",{className:"mb-2",children:[(0,C.jsx)("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"event",children:"Event Title"}),(0,C.jsx)("input",{id:"event",name:"event",type:"text",required:!0,placeholder:"e.g., Team Meeting",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150"})]}),(0,C.jsxs)("div",{className:"mb-3",children:[(0,C.jsx)("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"Description",children:"Description"}),(0,C.jsx)("textarea",{id:"description",name:"description",rows:"3",required:!0,placeholder:"Details about the event...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150"})]}),(0,C.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,C.jsx)("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition duration-150",children:"Cancel"}),(0,C.jsx)("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition duration-150 shadow-md",children:"Submit"})]})]})}),w=()=>{const e=a.filter(e=>{const t=new Date(e.startDate.split("-").reverse().join("-")),a=new Date(e.endDate.split("-").reverse().join("-")),s=new Date(u,p,1);return t<=new Date(u,p+1,0)&&a>=s}).sort((e,t)=>new Date(e.startDate.split("-").reverse().join("-"))-new Date(t.startDate.split("-").reverse().join("-")));return(0,C.jsx)("div",{className:"absolute inset-0 flex justify-center items-center z-50 p-4 bg-white/50 bg-opacity-40 backdrop-blur-sm",children:(0,C.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,C.jsxs)("div",{className:"flex justify-between items-center border-b-4 border-teal-300 pb-3 mb-6",children:[(0,C.jsxs)("h2",{className:"text-3xl font-extrabold text-teal-600 flex items-center",children:[(0,C.jsx)(te,{className:"mr-3 w-7 h-7"})," Events for ",ce[p]," ",u]}),(0,C.jsx)("button",{onClick:()=>c(!1),className:"p-1 rounded-full text-gray-500 hover:bg-gray-200 transition",children:(0,C.jsx)(oe,{className:"w-6 h-6"})})]}),0===e.length?(0,C.jsx)("p",{className:"text-gray-500 text-lg text-center py-10",children:"No events added for this month yet. \ud83c\udf89"}):(0,C.jsx)("div",{className:"space-y-6",children:e.map((e,t)=>(0,C.jsxs)("div",{className:"border border-teal-200 rounded-xl p-4 shadow-sm transition duration-200 bg-teal-50",children:[(0,C.jsxs)("p",{className:"text-lg font-bold text-teal-700 mb-1 border-b border-teal-100 pb-1",children:[(0,C.jsx)(ae,{className:"inline w-4 h-4 mr-2"}),"Date: ",e.startDate," ",e.startDate!==e.endDate&&`- ${e.endDate}`]}),(0,C.jsx)("p",{className:"text-xl font-semibold text-gray-800 mb-2",children:e.event}),(0,C.jsx)("p",{className:"text-gray-600 italic border-l-4 border-teal-400 pl-3",children:e.description})]},`${e.startDate}-${t}`))}),(0,C.jsx)("button",{onClick:()=>c(!1),className:"mt-8 px-6 py-2 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition duration-150 shadow-lg float-right",children:"Close"})]})})},v=e=>{let{dayData:t}=e;if("blank"===t.type)return(0,C.jsx)("div",{className:"p-2 border border-gray-100 bg-gray-50 min-h-[20px] sm:min-h-[40px]"});const{day:s,dateString:r,attendance:i}=t,l=r===(new Date).toLocaleDateString("en-GB").replace(/\//g,"-"),d=a.filter(e=>{const t=new Date(e.startDate.split("-").reverse().join("-")),a=new Date(e.endDate.split("-").reverse().join("-")),s=new Date(r.split("-").reverse().join("-"));return t.setHours(0,0,0,0),a.setHours(0,0,0,0),s.setHours(0,0,0,0),s>=t&&s<=a}),c=d.length>0;let m="bg-white",u=null;"Present"===i.isPresent?(m="bg-green-100 border-green-300",u=(0,C.jsx)(se,{className:"w-4 h-4 text-green-600"})):"Absent"===i.isPresent?(m="bg-red-100 border-red-300",u=(0,C.jsx)(re,{className:"w-4 h-4 text-red-600"})):"Holiday"===i.isPresent&&(m="bg-yellow-100 border-yellow-300",u=(0,C.jsx)(re,{className:"w-4 h-4 text-yellow-600"}));const p=()=>(0,C.jsxs)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 p-3 bg-white border border-indigo-300 rounded-lg shadow-xl z-10 w-48 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none text-left",children:[(0,C.jsx)("p",{className:"text-xs font-semibold text-indigo-600 border-b pb-1 mb-1",children:"Attendance Info"}),(0,C.jsxs)("div",{className:"text-sm space-y-1",children:[(0,C.jsxs)("p",{children:["\ud83d\udcc5 Date: ",(0,C.jsx)("span",{className:"font-medium",children:i.date||r})]}),(0,C.jsxs)("p",{children:["\u23f0 Hour: ",(0,C.jsx)("span",{className:"font-medium",children:i.effectiveHour||"N/A"})]}),(0,C.jsxs)("p",{children:["\u2705 Present: ",(0,C.jsx)("span",{className:"font-bold "+("Present"===i.isPresent?"text-green-600":"text-red-600"),children:i.isPresent})]})]})]});return(0,C.jsxs)("div",{className:`relative group p-2 sm:p-3 border border-gray-300 transition-all duration-200 cursor-pointer ${m} ${l?"ring-4 ring-indigo-400 font-bold":""} ${c?"shadow-lg border-2 border-indigo-500":"hover:shadow-lg"} min-h-[50px] sm:min-h-[70px] flex flex-col justify-start ${g?"cursor-crosshair ring-2 ring-pink-500":""}`,onClick:()=>(e=>{"blank"!==e.type&&(g?(n({start:e.dateString,end:e.dateString}),o(!0),h(!1)):x(e))})(t),children:[(0,C.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,C.jsx)("span",{className:"text-lg sm:text-xl "+(l?"text-indigo-700":"text-gray-900"),children:s}),(0,C.jsx)("div",{className:"flex-shrink-0",children:u})]}),c&&(0,C.jsx)("div",{className:"mt-auto",children:(0,C.jsxs)("p",{className:"text-xs text-indigo-700 font-semibold truncate "+(d.length>1?"border-t border-indigo-300 pt-1":""),children:[d.length," ",d.length>1?"Events":"Event"]})}),(0,C.jsx)(p,{})]})};return(0,C.jsx)("div",{className:"p-4 sm:p-8",children:(0,C.jsxs)("div",{className:"w-full max-w-4xl mx-auto bg-white shadow-2xl rounded-xl p-4 sm:p-6 relative",children:[l&&(0,C.jsx)(j,{}),d&&(0,C.jsx)(w,{}),m&&(0,C.jsx)(he,{dayData:m,eventsOnThisDay:a.filter(e=>{const t=new Date(e.start_date.split("-").reverse().join("-")),a=new Date(e.end_date.split("-").reverse().join("-")),s=new Date(m.dateString.split("-").reverse().join("-"));return t.setHours(0,0,0,0),a.setHours(0,0,0,0),s.setHours(0,0,0,0),s>=t&&s<=a}),onClose:()=>x(null)}),(0,C.jsxs)("div",{className:""+(l||d||m?"pointer-events-none opacity-50":""),children:[(0,C.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 border-b pb-4",children:[(0,C.jsxs)("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-800 mb-4 sm:mb-0",children:[ce[p]," ",(0,C.jsx)("span",{className:"text-indigo-600",children:u})]}),(0,C.jsxs)("div",{className:"flex space-x-2 sm:space-x-4",children:[(0,C.jsxs)("button",{onClick:()=>h(e=>!e),className:"flex items-center px-3 py-2 sm:px-4 sm:py-2 text-white font-semibold text-sm rounded-lg shadow-md transition duration-150 transform hover:scale-105 "+(g?"bg-indigo-700 hover:bg-indigo-800 ring-2 ring-pink-300":"bg-indigo-500 hover:bg-indigo-600"),children:[(0,C.jsx)(le,{className:"w-4 h-4 mr-1 sm:mr-2"})," ",g?"Cancel Edit":"Edit "]}),(0,C.jsxs)("button",{onClick:()=>c(!0),className:"flex items-center px-3 py-2 sm:px-4 sm:py-2 bg-pink-500 text-white font-semibold text-sm rounded-lg shadow-md hover:bg-pink-600 transition duration-150 transform hover:scale-105",children:[(0,C.jsx)(te,{className:"w-4 h-4 mr-1 sm:mr-2"})," Events"]}),(0,C.jsx)("button",{onClick:()=>b(-1),className:"p-2 bg-gray-200 text-gray-600 rounded-full hover:bg-gray-300 transition duration-150",children:(0,C.jsx)(ie,{className:"w-5 h-5"})}),(0,C.jsx)("button",{onClick:()=>b(1),className:"p-2 bg-gray-200 text-gray-600 rounded-full hover:bg-gray-300 transition duration-150",children:(0,C.jsx)(ne,{className:"w-5 h-5"})})]})]}),(0,C.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-1",children:me.map(e=>(0,C.jsx)("div",{className:"text-center font-semibold text-xs sm:text-sm text-indigo-700 p-2 bg-indigo-100 rounded",children:e},e))}),(0,C.jsx)("div",{className:"grid grid-cols-7 gap-1",children:y.map((e,t)=>(0,C.jsx)(v,{dayData:e},e.key||e.dateString||`day-${t}`))})]})]})})}const pe=(e,t)=>{if(!e||!t)return 0;const a=new Date(`2000-01-01 ${e}`),s=(new Date(`2000-01-01 ${t}`)-a)/36e5;return s>0?s:0},ye=e=>`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`,be=e=>{let{Data:t,selectedMetricDate:a}=e;const[i,n]=(0,s.useState)(null),{theme:l}=(0,s.useContext)(r.ob),o=(0,s.useCallback)(e=>{const[t,a]=e.split(" - "),[s,r]=t.split(":").map(Number),[i,n]=a.split(":").map(Number);return{start:s+r/60,end:i+n/60}},[]),d=e=>{const t=Math.floor(e/3600),a=Math.floor(e%3600/60),s=Math.floor(e%60);let r="";return t>0&&(r+=`${String(t).padStart(2,"0")}h `),a>0&&(r+=`${String(a).padStart(2,"0")}m `),s>0&&(r+=`${String(s).padStart(2,"0")}s`),r.trim()||"0s"},c=(0,s.useMemo)(()=>{if(!t||"All"===a)return null;const e=t.find(e=>`${e.Date}-${e.Month}-${e.Year}`===a);if(!e||!e.End_time||!e.Start_time)return null;const s=(new Date(`2000/01/01 ${e.End_time}`)-new Date(`2000/01/01 ${e.Start_time}`))/1e3;let r=0;e.Break_hour&&e.Break_hour.forEach(e=>{const[t,a]=e.Time.split(" - ");r+=(new Date(`2000/01/01 ${a}`)-new Date(`2000/01/01 ${t}`))/1e3});const i=s-r,n=Math.max(0,i-28800);return{totalWorkingHours:d(s),productiveHours:d(i),breakHours:d(r),overtime:d(n)}},[a,t]),m=(0,s.useCallback)(e=>(e-10)/10*100,[]),x=(0,s.useCallback)(()=>{if(!t||"All"===a)return(0,C.jsx)(f.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-center py-4 italic "+("dark"===l?"text-white":"text-gray-600"),children:"Select a specific day to view the timeline."});const e=t.find(e=>`${e.Date}-${e.Month}-${e.Year}`===a);if(!e)return(0,C.jsxs)(f.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-gray-500 text-center py-4 italic "+("dark"===l?"text-white":"text-gray-600"),children:["No schedule available for ",a,"."]});const s=new Set;e.Start_time&&s.add(e.Start_time),e.End_time&&s.add(e.End_time),e.Break_hour&&e.Break_hour.forEach(e=>{if(e.Time){const[t,a]=e.Time.split(" - ");t&&s.add(t),a&&s.add(a)}});const r=Array.from(s).sort((e,t)=>new Date(`2000/01/01 ${e}`)-new Date(`2000/01/01 ${t}`)),d=e=>{if(!e)return console.error("formatTimelineTime received a null or empty time string."),"Invalid Time";const[t,a]=e.split(":").map(Number);return`${t%12===0?12:t%12}${a>0?`:${a}`:""} ${t>=12?"PM":"AM"}`};var c,x;const g=[{type:"working",time:`${e.Start_time} - ${e.End_time}`,duration:(c=e.Start_time,x=e.End_time,(new Date(`2000/01/01 ${x}`)-new Date(`2000/01/01 ${c}`))/36e5)},...(e.Break_hour||[]).map(e=>({type:"break",time:e.Time,duration:e.hour}))].sort((e,t)=>o(e.time).start-o(t.time).start);return(0,C.jsxs)("div",{children:[(0,C.jsx)(f.P.div,{className:"w-full  h-10 bg-gray-200 relative rounded-xl overflow-hidden border border-gray-300",initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},transition:{duration:.8,ease:"easeOut"},style:{transformOrigin:"left"},children:g.map((e,t)=>{const{start:a,end:s}=o(e.time),r=m(a),l=m(s)-m(a),d="working"===e.type?"bg-green-300":"bg-yellow-300";return(0,C.jsx)(f.P.div,{className:`absolute h-full cursor-pointer transition-all duration-300 ${d}`,style:{left:`${r}%`,width:`${l}%`},onMouseEnter:()=>n(e),onMouseLeave:()=>n(null),initial:{opacity:0,scaleY:0},animate:{opacity:1,scaleY:1},transition:{delay:.3+.1*t,duration:.5},children:i===e&&(0,C.jsxs)("div",{className:"absolute bottom-full mb-2 p-2 rounded-md shadow-lg bg-gray-800 text-white text-xs whitespace-nowrap",style:{left:"50%",transform:"translateX(-50%)"},children:[(0,C.jsx)("p",{children:"working"===e.type?"Working":"Break"}),(0,C.jsxs)("p",{children:["Time: ",e.time]}),(0,C.jsxs)("p",{children:["Duration: ",e.duration.toFixed(2)," hours"]})]})},t)})}),(0,C.jsx)("div",{className:"flex justify-between text-xs sm:text-sm  mt-2  "+("dark"===l?"text-white":"text-gray-600"),children:r.map((e,t)=>(0,C.jsx)(f.P.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8+.1*t,duration:.3},children:d(e)},t))})]})},[a,t,i,o,m]);return(0,C.jsxs)(f.P.div,{className:"p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,C.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,C.jsxs)(f.P.div,{className:"flex flex-col items-center p-2 rounded-lg bg-gray-50 border border-gray-200 shadow-sm",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[(0,C.jsxs)("div",{className:"flex items-center text-gray-500 mb-2",children:[(0,C.jsx)("span",{className:"w-3 h-3 bg-gray-500 rounded-full mr-2"}),(0,C.jsx)("span",{className:"text-sm font-medium",children:"Total"})]}),(0,C.jsx)("span",{className:"text-lg sm:text-xl font-bold text-gray-800",children:(null===c||void 0===c?void 0:c.totalWorkingHours)||"N/A"})]}),(0,C.jsxs)(f.P.div,{className:"flex flex-col items-center p-2 rounded-lg bg-green-50 border border-green-200 shadow-sm",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[(0,C.jsxs)("div",{className:"flex items-center text-green-700 mb-2",children:[(0,C.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),(0,C.jsx)("span",{className:"text-sm font-medium",children:"Productive"})]}),(0,C.jsx)("span",{className:"text-lg sm:text-xl font-bold text-green-800",children:(null===c||void 0===c?void 0:c.productiveHours)||"N/A"})]}),(0,C.jsxs)(f.P.div,{className:"flex flex-col items-center p-2 rounded-lg bg-yellow-50 border border-yellow-200 shadow-sm",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[(0,C.jsxs)("div",{className:"flex items-center text-yellow-700 mb-2",children:[(0,C.jsx)("span",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),(0,C.jsx)("span",{className:"text-sm font-medium",children:"Break"})]}),(0,C.jsx)("span",{className:"text-lg sm:text-xl font-bold text-yellow-800",children:(null===c||void 0===c?void 0:c.breakHours)||"N/A"})]}),(0,C.jsxs)(f.P.div,{className:"flex flex-col items-center p-2 rounded-lg bg-blue-50 border border-blue-200 shadow-sm",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[(0,C.jsxs)("div",{className:"flex items-center text-blue-700 mb-2",children:[(0,C.jsx)("span",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),(0,C.jsx)("span",{className:"text-sm font-medium",children:"Overtime"})]}),(0,C.jsx)("span",{className:"text-lg sm:text-xl font-bold text-blue-800",children:(null===c||void 0===c?void 0:c.overtime)||"N/A"})]})]}),x()]})},fe=e=>{var t;let{onBack:a,currentUser:k}=e;const{empID:D}=(0,v.g)(),{userData:S,theme:T}=(0,s.useContext)(r.ob),A=((null===S||void 0===S||null===(t=S.roles)||void 0===t?void 0:t[0])||"").toUpperCase(),[$,P]=(0,s.useState)(!1),[M,I]=(0,s.useState)(null),[E,H]=(0,s.useState)(!1),[L,_]=(0,s.useState)(!1),F=["TEAM_LEAD","HR","MANAGER","ADMIN"].includes(A),[O,B]=(0,s.useState)("All"),[W,R]=(0,s.useState)("All"),[z,Y]=(0,s.useState)("All"),U=(0,w.A)("(max-width:768px)"),[Z,te]=(0,s.useState)(!1),[ae,se]=(0,s.useState)(null),[re,le]=(0,s.useState)(null),[oe,de]=(0,s.useState)("office"),[ce,me]=(0,s.useState)(new Date),[xe,ge]=(0,s.useState)(0),[he,fe]=(0,s.useState)(0),[je,we]=(0,s.useState)(!1),[ve,Ne]=(0,s.useState)(!1),[ke,De]=(0,s.useState)("Recently added"),[Se,Te]=(0,s.useState)(!1),[Ae,$e]=(0,s.useState)(10),[Ce,Pe]=(0,s.useState)(1),[Me,Ie]=(0,s.useState)({image:null,initials:"  "}),Ee=(0,s.useRef)(null),He=(0,s.useRef)(null),[Le,_e]=(0,s.useState)([]),Fe=["All","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],Oe="dark"===T?"#FFFFFF":"#000000",[Be,We]=(0,s.useState)([]),[Re,ze]=(0,s.useState)(null),Ye=null!==S&&void 0!==S&&S.roles[0]?`ROLE_${null===S||void 0===S?void 0:S.roles[0]}`:null;(0,s.useEffect)(()=>{(async()=>{let e=await K.ZQ.get(`role-access/${Ye}`);console.log("from Projects :",e.data),We(e.data)})()},[]),(0,s.useEffect)(()=>{Be&&ze(null===Be||void 0===Be?void 0:Be.permissions)},[Be]),console.log(Re);const[Ue,Ze]=(0,s.useState)([]);(0,s.useEffect)(()=>{Ze(null===S||void 0===S?void 0:S.permissions)},[S]),console.log("permissions from userdata:",Ue);const[Je,Ke]=(0,s.useState)([]),[Xe,Ve]=(0,s.useState)([]),[Ge,qe]=(0,s.useState)([]),[Qe,et]=(0,s.useState)([]),[tt,at]=(0,s.useState)([]),[st,rt]=(0,s.useState)(null),it="currentAttendanceId",nt=`attendanceClockInTime_${null===S||void 0===S?void 0:S.employeeId}`,[lt,ot]=(0,s.useState)({mode:"",shift:"",onTime:0,avgWorkingHours:0,loginTime:null,logoutTime:null,grossTimeDay:"",effectiveTimeDay:""}),dt=async(e,t)=>{const a=new Date,s=a.getDate(),r=a.getMonth()+1,i=a.getFullYear(),n=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===S||void 0===S?void 0:S.employeeId}/profile/${s}/${r}/${i}`;try{await K.HN.get(n,{[e]:t}),ot(a=>({...a,[e]:t}))}catch(l){console.error(`Error updating ${e}:`,l)}},[ct,mt]=(0,s.useState)(()=>localStorage.getItem(it)||null);(0,s.useEffect)(()=>{const e=localStorage.getItem(it);e&&mt(e)},[]),(0,s.useEffect)(()=>{const e=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===S||void 0===S?void 0:S.employeeId}/bar-chart?page=0&size=5`;K.HN.get(e).then(e=>{const t=e.data.map(e=>({Date:e.date,Month:e.month,Year:e.year,Work_Hours:e.working_hour,Break_Hours:e.break_hour}));Ke(t);const a=["All",...t.map(e=>e.Date)];qe(a)}).catch(e=>console.error("Error fetching bar chart data:",e))},[D]),(0,s.useEffect)(()=>{const e=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===S||void 0===S?void 0:S.employeeId}/attendance?page=0&size=10`;K.HN.get(e).then(e=>{_e(e.data);const t=["All",...e.map(e=>e.Date)];qe(t)}).catch(e=>console.error("Error fetching attendance data:",e))},[D]),(0,s.useEffect)(()=>{const e=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===S||void 0===S?void 0:S.employeeId}/pie-chart`;K.HN.get(e).then(e=>{const t=e.data.map(e=>({Date:e.date,Month:e.month,Year:e.year,Working_hour:e.working_hour,Break_hour:e.break_hour,EmployeeId:e.employeeId}));Ve(t);const a=["All",...t.map(e=>e.Date)];qe(a)}).catch(e=>console.error("Error fetching pie chart data:",e))},[D]),(0,s.useEffect)(()=>{const e=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===S||void 0===S?void 0:S.employeeId}/line-graph?page=0&size=5`;K.HN.get(e).then(e=>{const t=e.data.map(e=>({EmployeeId:e.employeeId,Date:e.date,Month:e.month,Year:e.year,Start_time:e.start_time,End_time:e.end_time,Break_hour:e.breaks.map(e=>({Time:e.time,hour:e.hour}))}));et(t);const a=["All",...t.map(e=>e.Date)];qe(a)}).catch(e=>console.error("Error fetching line graph data:",e))},[D]),(0,s.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("emppayload")),t=localStorage.getItem("loggedInUserImage"),a=((null===e||void 0===e?void 0:e.displayName)||"  ").split(" ").map(e=>e[0]).join("").substring(0,2);Ie({image:t,initials:a})},[S]),(0,s.useEffect)(()=>{const e=`attendanceClockInTime_${null===S||void 0===S?void 0:S.employeeId}`,t=localStorage.getItem(e);t?(te(!0),se(new Date(t))):(te(!1),se(null))},[null===S||void 0===S?void 0:S.employeeId]),(0,s.useEffect)(()=>{Z&&ae?(Ee.current&&clearInterval(Ee.current),Ee.current=setInterval(()=>{const e=(new Date-ae)/1e3;ge(e),fe(e)},1e3)):(ge(0),fe(0),Ee.current&&(clearInterval(Ee.current),Ee.current=null)),He.current||(He.current=setInterval(()=>me(new Date),1e3));const e=null===S||void 0===S?void 0:S.employeeId,t=ct,a=()=>{"hidden"===document.visibilityState?(async()=>{if(Z&&e&&t){console.log("Disconnecting due to visibility change or unload...");const s=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${e}/${t}/disconnected`;try{await fetch(s,{method:"PUT",headers:{accept:"*/*"}}),console.log("Disconnected endpoint hit successfully.")}catch(a){console.error("Disconnected API call failed:",a)}}})():"visible"===document.visibilityState&&(async()=>{if(Z&&e&&t){console.log("Connecting due to visibility change...");const s=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${e}/${t}/connected`;try{await fetch(s,{method:"PUT",headers:{accept:"*/*"}}),console.log("Connected endpoint hit successfully.")}catch(a){console.error("Connected API call failed:",a)}}})(),"hidden"===document.visibilityState&&Z&&console.log("User moved to another tab/window is minimized.")};return document.addEventListener("visibilitychange",a),()=>{Ee.current&&(clearInterval(Ee.current),Ee.current=null),He.current&&(clearInterval(He.current),He.current=null),document.removeEventListener("visibilitychange",a)}},[Z,ae,ct]);const xt=`attendanceRecords_${null===S||void 0===S?void 0:S.employeeId}`;(0,s.useEffect)(()=>{const e=(JSON.parse(localStorage.getItem(xt))||[]).filter(e=>e&&e.date);e.length>0&&_e(e)},[null===S||void 0===S?void 0:S.employeeId]);const gt=e=>{const t=Math.floor(e/3600),a=Math.floor(e%3600/60),s=Math.floor(e%60);return`${String(t).padStart(2,"0")}h ${String(a).padStart(2,"0")}m ${String(s).padStart(2,"0")}s`},ht=gt(xe),ut=gt(he),pt=(0,s.useMemo)(()=>{let e=[...Le];if("All"!==O&&O){const t=Fe.indexOf(O)-1;e=e.filter(e=>new Date(e.date).getMonth()===t)}switch(ke){case"Ascending":e.sort((e,t)=>new Date(e.date)-new Date(t.date));break;case"Descending":default:e.sort((e,t)=>new Date(t.date)-new Date(e.date));break;case"Last Month":const t=new Date;t.setMonth(t.getMonth()-1),e=e.filter(e=>new Date(e.date)>=t);break;case"Last 7 Days":const a=new Date;a.setDate(a.getDate()-7),e=e.filter(e=>new Date(e.date)>=a)}const t=e.map(e=>({...e,login_hours:pe(e.login_time,e.logout_time),barWidth:pe(e.login_time,e.logout_time)/8*100+"%"})),a=Math.ceil(t.length/Ae);return{paginatedData:t.slice((Ce-1)*Ae,Ce*Ae),totalPages:a,totalCount:t.length}},[Le,O,ke,Ae,Ce,Fe]),{paginatedData:yt,totalPages:bt}=pt,ft=(0,s.useMemo)(()=>{const e="All"===W?Xe:Xe.filter(e=>`${e.Date}-${e.Month}-${e.Year}`===W);return[{name:"Working Hours",value:e.reduce((e,t)=>e+t.Working_hour,0)},{name:"Break Hours",value:e.reduce((e,t)=>e+t.Break_hour,0)}]},[W,Xe]),jt=(0,s.useMemo)(()=>"All"===W?Je:Je.filter(e=>`${e.Date}-${e.Month}-${e.Year}`===W),[W,Je]);return Se?(0,C.jsx)("div",{className:"min-h-screen "+("dark"===T?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,C.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),(0,C.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,C.jsx)(X.SNd,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"})})]}),(0,C.jsx)("h2",{className:"text-lg sm:text-xl font-bold mb-2 "+("dark"===T?"text-white":"text-gray-800"),children:"Loading Employee Attendance"}),(0,C.jsx)("p",{className:"text-sm "+("dark"===T?"text-gray-300":"text-gray-600"),children:"Discovering your colleagues..."})]})})}):(0,C.jsxs)("div",{className:`min-h-screen ${"dark"===T?"bg-gray-900":"bg-gray-50"} font-sans text-gray-800 relative`,children:[(0,C.jsxs)(j.N,{children:[(Re||[]).includes("VIEW_ATTENDANCE_REPORTS")&&!$&&(0,C.jsx)(f.P.button,{onClick:()=>P(!0),className:"fixed right-0 top-1/2 transform -translate-y-1/2 bg-indigo-600 text-white p-2 rounded-l-lg shadow-lg z-50 hover:bg-indigo-700 transition-colors","aria-label":"Open Sidebar",children:(0,C.jsx)(ie,{})}),F&&$&&(0,C.jsxs)(f.P.div,{className:`fixed inset-y-0 right-0 w-80 ${"dark"===T?"bg-gray-900":"bg-stone-100"} shadow-xl z-40 p-4 flex flex-col`,children:[(0,C.jsxs)(f.P.h3,{className:"text-lg font-bold mt-20  cursor-pointer mb-1 p-2 rounded-md  hover:bg-blue-100 transition-colors duration-200 "+("dark"===T?"text-white hover:bg-gray-900":"text-gray-800"),onClick:()=>{I("attendance"),P(!1)},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,C.jsx)(G.Qak,{className:"w-5 h-5 inline-block mr-2"}),"Total Employee Attendance"]}),(0,C.jsxs)(f.P.h3,{className:"text-lg font-bold   cursor-pointer mb-4 p-2 rounded-md  hover:bg-blue-100 transition-colors duration-200 "+("dark"===T?"text-white hover:bg-gray-900":"text-gray-800"),onClick:()=>{I("attendanceReport"),P(!1)},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,C.jsx)(i.A,{className:"w-5 h-5 inline-block mr-2"})," Attendance Reports"]}),(0,C.jsx)("button",{onClick:()=>P(!1),className:"absolute left-0 top-1/2 -translate-x-1/2 -translate-y-1/2 p-2 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition-colors z-50","aria-label":"Close Sidebar",children:(0,C.jsx)(ne,{})})]},"sidebar")]}),(0,C.jsxs)("div",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 lg:p-8",children:[$&&(0,C.jsx)("div",{className:"md:hidden fixed inset-0 bg-black opacity-50 z-30",onClick:()=>P(!1)}),(0,C.jsxs)("main",{className:"p-2 sm:p-2 lg:p-4 "+($&&F?"filter blur-sm":""),children:[(0,C.jsx)("header",{className:"flex items-center justify-between mb-1",children:(0,C.jsx)(f.P.h1,{className:"text-2xl sm:text-4xl font-extrabold "+("dark"===T?"text-white":"text-gray-900"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:E?"Attendance Reports":""})}),(0,C.jsxs)(j.N,{mode:"wait",children:["attendance"===M&&(0,C.jsx)(f.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,C.jsx)(V.A,{onBack:()=>I(null)})},"attendance"),"attendanceReport"===M&&(0,C.jsx)(f.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"",children:(0,C.jsx)(J,{rawTableData:Le,role:A.toLowerCase(),onBack:()=>I(null)})},"reports"),null===M&&(0,C.jsxs)(f.P.div,{children:[(0,C.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-1 xl:grid-cols-2 gap-6 mb-2",children:[(0,C.jsx)(f.P.div,{className:"p-2 flex items-center justify-center w-full",animate:{opacity:1,scale:1},children:(0,C.jsxs)("div",{className:"rounded-3xl shadow-2xl p-4 w-full max-w-lg md:max-w-3xl transition-all hover:shadow-3xl duration-300 relative overflow-hidden \n                "+("dark"===T?"bg-gray-800 border border-indigo-500/50":"bg-white border border-gray-200"),children:[(0,C.jsx)("div",{className:"absolute -top-12 -right-12 w-48 h-48 rounded-full bg-gradient-to-tr from-purple-100 via-pink-200 to-red-300 opacity-30 z-0 animate-pulse-slow"}),(0,C.jsx)("div",{className:"absolute -bottom-10 -left-10 w-24 h-24 rounded-full bg-gradient-to-tr from-green-100 via-blue-200 to-purple-300 opacity-30 z-0 animate-pulse-slow-reverse"}),(0,C.jsxs)("div",{className:"flex flex-row items-start justify-between mb-2 relative z-10",children:[(0,C.jsxs)("div",{className:"flex items-start space-x-3 md:space-x-4",children:[(0,C.jsxs)("div",{className:"relative mt-1",children:[" ",(0,C.jsx)(f.P.div,{className:"w-14 h-14 md:w-16 md:h-16 rounded-full overflow-hidden border-4 flex items-center justify-center shadow-xl cursor-pointer \n                                "+("dark"===T?"border-gray-700 bg-gray-600":"border-white bg-indigo-500"),transition:{type:"spring",stiffness:400,damping:10},children:Me.image?(0,C.jsx)("img",{src:Me.image,alt:"Profile",className:"w-full h-full object-cover"}):(0,C.jsx)("span",{className:"text-lg md:text-xl font-bold text-white flex items-center justify-center w-full h-full",children:Me.initials})}),(0,C.jsx)(f.P.div,{className:`absolute bottom-0 right-0 w-4 h-4 md:w-5 md:h-5 rounded-full flex items-center justify-center border-2 \n                                ${"dark"===T?"border-gray-800":"border-white"} transition-colors \n                                ${"office"===oe?"bg-blue-500":"bg-green-500"}`,initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:20},children:"office"===oe?(0,C.jsx)(N.ymh,{className:"text-white text-xs"}):(0,C.jsx)(N.rQ8,{className:"text-white text-xs"})})]}),(0,C.jsxs)(f.P.div,{className:"text-start mt-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1,duration:.5},children:[(0,C.jsx)("p",{className:"text-xs md:text-sm font-semibold mb-0 "+("dark"===T?"text-gray-400":"text-gray-500"),children:"Welcome Back!"}),(0,C.jsxs)("h2",{className:"text-lg md:text-xl font-bold "+("dark"===T?"text-white":"text-gray-900"),children:[`${(null===S||void 0===S?void 0:S.fullName)||"Employee"}`," \ud83d\udc4b"]})]})]}),(0,C.jsxs)("div",{className:"flex space-x-1 md:space-x-2 mt-1",children:[(0,C.jsxs)(f.P.button,{onClick:()=>{const e=Z;te(!1),setTimeout(()=>te(e),0)},className:"p-2 rounded-full hover:shadow-lg flex items-center justify-center text-sm font-medium transition-transform duration-300 \n                            "+("dark"===T?"bg-gray-700 text-indigo-400 border border-gray-600":"bg-gray-100 text-indigo-600 border border-gray-300"),whileTap:{scale:.9},"aria-label":"Refresh Timer",children:[(0,C.jsx)(f.P.svg,{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 md:h-5 md:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,initial:{rotate:0},animate:{rotate:je?180:0},children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.001 8.001 0 01-15.357-2m15.357 2H15"})}),(0,C.jsx)("span",{className:"hidden sm:inline ml-1 text-xs",children:"Refresh"})," "]}),(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsxs)(f.P.button,{onClick:()=>we(!je),className:"px-2 py-1.5 md:px-4 md:py-2 rounded-full flex items-center justify-center gap-1 md:gap-2 text-sm font-medium shadow-md transition-transform duration-300 \n                                "+("dark"===T?"bg-indigo-600 text-white":"bg-gradient-to-br from-indigo-100 to-indigo-200 text-indigo-700 border border-indigo-300"),whileTap:{scale:.9},children:["office"===oe?(0,C.jsx)(f.P.div,{className:"w-4 h-4 md:w-5 md:h-5 rounded-full bg-blue-500 flex items-center justify-center",whileHover:{rotate:360},children:(0,C.jsx)(N.ymh,{className:"text-white text-xs"})}):(0,C.jsx)(f.P.div,{className:"w-4 h-4 md:w-5 md:h-5 rounded-full bg-green-500 flex items-center justify-center",whileHover:{rotate:360},children:(0,C.jsx)(N.rQ8,{className:"text-white text-xs"})}),(0,C.jsx)("span",{className:"capitalize hidden sm:inline text-sm",children:oe})," ",(0,C.jsx)(f.P.svg,{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 md:h-4 md:w-4 ml-0.5 transition-transform duration-200 hidden sm:block",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",initial:{rotate:0},animate:{rotate:je?180:0},children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,C.jsx)(j.N,{children:je&&(0,C.jsxs)(f.P.div,{className:"absolute top-full right-0 mt-2 w-48 p-3 border rounded-xl shadow-xl z-30 \n                                        "+("dark"===T?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"),initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},transition:{type:"spring",stiffness:300,damping:20},children:[(0,C.jsxs)("p",{className:("dark"===T?"text-gray-200":"text-gray-700")+" font-medium text-xs mb-3 text-center",children:["Switch to ","office"===oe?"Remote":"Office"," mode?"]}),(0,C.jsxs)("div",{className:"flex space-x-2",children:[(0,C.jsx)(f.P.button,{onClick:()=>{return dt("mode",e="office"===oe?"home":"office"),de(e),void we(!1);var e},className:"flex-1 px-3 py-1.5 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 transition-colors font-semibold text-sm",whileTap:{scale:.95},children:"Confirm"}),(0,C.jsx)(f.P.button,{onClick:()=>we(!1),className:"flex-1 px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium text-sm",whileTap:{scale:.95},children:"Cancel"})]})]})})]})]})]}),(0,C.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1",children:(0,C.jsxs)("div",{className:"flex flex-col items-start p-3 rounded-xl   shadow w-full "+("dark"===T?"bg-gray-800":"bg-gradient-to-br from-orange-50 via-white to-orange-100"),children:[(0,C.jsx)("span",{className:"text-lg font-semibold text-green-500 mb-1",children:"Attendance % (Ontime)"}),(0,C.jsxs)("span",{className:"font-bold text-lg md:text-xl mb-2 "+(lt.onTime>=75?"text-green-500":lt.onTime>=50?"text-yellow-500":"text-red-500"),children:[lt.onTime||0,"%"]}),(0,C.jsx)("div",{className:"flex flex-col items-start",children:(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4 w-full",children:[(0,C.jsxs)("span",{className:"text-sm  "+("dark"===T?"text-gray-400":"text-gray-500"),children:["shift: ",(0,C.jsx)("span",{className:"font-bold  "+("dark"===T?"text-gray-400":"text-gray-500"),children:lt.shift||"-"})]}),(0,C.jsxs)("span",{className:"text-sm  "+("dark"===T?"text-gray-400":"text-gray-500"),children:["Login: ",(0,C.jsx)("span",{className:"font-bold  "+("dark"===T?"text-gray-400":"text-gray-500"),children:lt.loginTime?new Date(lt.loginTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"})]}),(0,C.jsxs)("span",{className:"text-sm  "+("dark"===T?"text-gray-400":"text-gray-500"),children:["Avg. Working Hours: ",(0,C.jsx)("span",{className:"font-bold  "+("dark"===T?"text-gray-400":"text-gray-500"),children:lt.avgWorkingHours||0})]}),(0,C.jsxs)("span",{className:"text-sm  "+("dark"===T?"text-gray-400":"text-gray-500"),children:["Mode: ",(0,C.jsx)("span",{className:"font-bold  "+("dark"===T?"text-gray-400":"text-gray-500"),children:lt.mode||"-"})]}),(0,C.jsxs)("span",{className:"text-sm  "+("dark"===T?"text-gray-400":"text-gray-500"),children:["Logout: ",(0,C.jsx)("span",{className:"font-bold  "+("dark"===T?"text-gray-400":"text-gray-500"),children:lt.logoutTime?new Date(lt.logoutTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"})]})]})})]})}),(0,C.jsxs)("div",{className:"relative my-2 w-full flex justify-center",children:[(0,C.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,C.jsx)(f.P.div,{className:"w-full border-t "+("dark"===T?"border-gray-600":"border-gray-300"),initial:{scaleX:0},animate:{scaleX:1},transition:{delay:.6,duration:.8},style:{transformOrigin:"left"}})}),(0,C.jsx)("span",{className:"px-2 text-xs font-semibold z-10 "+("dark"===T?"bg-gray-800 text-indigo-400":"bg-white text-indigo-600"),children:"CURRENT CLOCK"})]}),(0,C.jsxs)("div",{className:"w-full flex flex-col items-center text-center mb-4 relative z-10",children:[(0,C.jsxs)("div",{className:"mb-4",children:[(0,C.jsxs)(f.P.div,{className:"flex items-center justify-center gap-2 text-indigo-600 font-medium mb-1",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8,duration:.5},children:[(0,C.jsx)(n.A,{className:"w-5 h-5 text-indigo-500"})," ",(0,C.jsx)("span",{className:"text-sm",children:"Current Time"})]}),(0,C.jsx)(f.P.p,{className:"text-3xl md:text-3xl lg:text-3xl font-extrabold tracking-tight mb-1 "+("dark"===T?"text-white":"text-gray-900"),initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5},children:ye(ce)}),(0,C.jsx)(f.P.p,{className:"text-sm md:text-base font-medium "+("dark"===T?"text-gray-400":"text-gray-600"),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.5},children:ce.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),(0,C.jsxs)("div",{className:"grid grid-cols-2 gap-3 w-full max-w-xs md:max-w-md",children:[(0,C.jsxs)(f.P.div,{className:"rounded-xl p-2 shadow-sm text-center "+("dark"===T?"bg-gray-700 text-white border border-indigo-500/50":"bg-indigo-50 border border-indigo-200"),transition:{type:"spring",stiffness:300},children:[(0,C.jsx)("p",{className:"text-xs font-small mb-1 uppercase "+("dark"===T?"text-indigo-400":"text-indigo-600"),children:"Gross Time (Day)"}),(0,C.jsx)("p",{className:"text-lg font-bold "+("dark"===T?"text-white":"text-purple-700"),children:ht})]}),(0,C.jsxs)(f.P.div,{className:"rounded-xl p-2 shadow-sm text-center "+("dark"===T?"bg-gray-700 text-white border border-pink-500/50":"bg-pink-50 border border-pink-200"),transition:{type:"spring",stiffness:300},children:[(0,C.jsx)("p",{className:"text-xs font-small mb-1 uppercase "+("dark"===T?"text-pink-400":"text-pink-600"),children:"Effective Time (Day)"}),(0,C.jsx)("p",{className:"text-lg font-bold "+("dark"===T?"text-white":"text-orange-700"),children:ut})]})]})]}),(0,C.jsx)("div",{className:"w-full flex justify-center mt-4 relative z-10",children:Z?(0,C.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center w-full max-w-sm",children:(0,C.jsx)(j.N,{mode:"wait",children:ve?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(f.P.button,{onClick:async()=>{const e=new Date,t={employee_id:[`${null===S||void 0===S?void 0:S.employeeId}`],clock_out_time:e.toISOString()};try{const e=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===S||void 0===S?void 0:S.employeeId}/clock-out`,a=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){const e=await a.text();console.error("Clock-out API call failed:",a.status,e),alert("Failed to record clock-out time on the server. Please try again or contact support.")}}catch(a){console.error("Error during clock-out API call:",a),alert("A network error occurred while clocking out. You have been logged out locally, but the server record might be missing.")}finally{mt(null),localStorage.removeItem(it),localStorage.removeItem(nt),te(!1),Ne(!1),le(e),_e(t=>{if(0===t.length)return t;const a=t.length-1,s=t[a];if(s.date===e.toLocaleDateString()&&!s.logout_time){const r=new Date(`2000-01-01 ${s.login_time}`),i=(e-r)/36e5,n={...s,logout_time:ye(e),login_hours:i>0?i:0,barWidth:i/8*100+"%"},l=JSON.parse(localStorage.getItem(xt))||[];return l[a]=n,localStorage.setItem(xt,JSON.stringify(l)),[...t.slice(0,a),n]}return t})}},className:"flex-1 items-center justify-center py-1 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 font-semibold text-sm",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},whileTap:{scale:.95},children:"Confirm Logout"},"confirm"),(0,C.jsx)(f.P.button,{onClick:()=>{Ne(!1)},className:"flex-1 items-center justify-center py-1 rounded-xl shadow-sm transition-all duration-200 font-medium text-sm \n                                            "+("dark"===T?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-700 hover:bg-gray-300"),initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},whileTap:{scale:.95},children:"Cancel"},"cancel")]}):(0,C.jsxs)(f.P.button,{onClick:()=>{Ne(!0)},className:"flex items-center justify-center w-36 py-1.5 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:from-red-600 hover:to-red-700 font-bold text-lg",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileTap:{scale:.95},children:[(0,C.jsx)(n.A,{className:"w-5 h-5 mr-1.5"}),"Clock Out"]},"logout")})}):(0,C.jsxs)(f.P.button,{onClick:()=>{const e=new Date;te(!0),se(e),le(null),ge(0),fe(0),localStorage.setItem(nt,e.toISOString());const t={employee_id:null===S||void 0===S?void 0:S.employeeId,date:e.toLocaleDateString(),login_time:ye(e),logout_time:null,login_hours:0,barWidth:"0%"},a=JSON.parse(localStorage.getItem(xt))||[];localStorage.setItem(xt,JSON.stringify([...a,t])),_e(e=>[...e,t]);const s=`https://hrms.anasolconsultancyservices.com/api/attendance/employee/${null===S||void 0===S?void 0:S.employeeId}/${oe}/clock-in`;fetch(s,{method:"PUT",headers:{accept:"*/*"}}).then(e=>{if(!e.ok){if(500===e.status)return e.text().then(t=>{throw new Error(`HTTP error! Status: ${e.status}. Server response: ${t||"No detailed server message available."}`)});throw new Error(`HTTP error! status: ${e.status}.`)}return e.json()}).then(e=>{console.log("Clock-in successful:",e);const t=e.attendanceId;t?(mt(t),localStorage.setItem(it,t),console.log(`Stored Attendance ID: ${t}`)):console.warn("Attendance ID not received in clock-in response.")}).catch(e=>{console.error("Clock-in failed:",e),te(!1),se(null)})},className:"flex items-center justify-center w-36 py-1.5 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:from-green-600 hover:to-green-700 font-bold text-lg",whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,C.jsx)(n.A,{className:"w-5 h-5 mr-1.5"}),"Clock In"]})})]})}),(0,C.jsx)(ue,{})]}),(0,C.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,C.jsxs)(f.P.section,{className:"rounded-xl shadow-lg p-6 border border-gray-200 flex flex-col justify-between min-h-[450px] "+("dark"===T?"bg-gray-700 text-white":"bg-stone-100 text-gray-800"),initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6},children:[(0,C.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold  mb-4 text-center "+("dark"===T?"bg-gradient-to-br from-blue-200 to-blue-600 bg-clip-text text-transparent":"text-gray-800"),children:[(0,C.jsx)(l.A,{className:"w-6 h-6 inline-block mr-2 text-indigo-600"})," Daily Activity Breakdown"]}),(0,C.jsx)("div",{className:"mb-6 flex justify-center gap-2 flex-wrap",children:(0,C.jsxs)("div",{className:"mb-6 flex justify-center gap-2 flex-wrap",children:[st>0&&(0,C.jsx)(f.P.button,{onClick:()=>rt(e=>Math.max(0,e-5)),className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full text-base sm:text-sm font-small flex items-center justify-center bg-gray-200 text-gray-700 ${"dark"===T?"bg-gray-400 text-gray-300":""} cursor-pointer hover:bg-indigo-500 hover:text-white transition-colors duration-200 ease-in-out`,whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":"Previous dates",children:(0,C.jsx)(ie,{className:"w-5 h-5"})}),Ge.filter(e=>"All"!==e).slice(st,st+5).map(e=>{const t=Xe.find(t=>t.Date===e),a=Je.find(t=>t.Date===e),s=t||a,r=s?`${s.Date}-${s.Month}-${s.Year}`:e;return(0,C.jsx)(f.P.button,{onClick:()=>Y(r),className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full text-base sm:text-sm font-small flex items-center justify-center bg-gray-200 text-gray-700 ${"dark"===T?"bg-gray-400 text-gray-300":""} cursor-pointer hover:bg-indigo-500 hover:text-white transition-colors duration-200 ease-in-out`,whileHover:{scale:1.1},whileTap:{scale:.9},children:e},e)}),st+5<Ge.length&&(0,C.jsx)(f.P.button,{onClick:()=>rt(e=>e+5),className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full text-base sm:text-sm font-small flex items-center justify-center bg-gray-200 text-gray-700 ${"dark"===T?"bg-gray-400 text-gray-300":""} cursor-pointer hover:bg-indigo-500 hover:text-white transition-colors duration-200 ease-in-out`,whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":"Next dates",children:(0,C.jsx)(ne,{className:"w-5 h-5"})})]})}),(0,C.jsx)(be,{Data:Qe,selectedMetricDate:z}),(0,C.jsx)("div",{className:"flex-grow flex items-center justify-center",children:(0,C.jsx)(d.u,{width:"100%",height:U?180:200,children:(0,C.jsxs)(c.r,{children:[(0,C.jsx)(m.F,{data:ft,dataKey:"value",nameKey:"name",outerRadius:U?60:80,label:e=>{let{percent:t}=e;return`${(100*t).toFixed(0)}%`},paddingAngle:2,children:ft.map((e,t)=>(0,C.jsx)(x.f,{fill:q[t%q.length]},`cell-${t}`))}),(0,C.jsx)(g.m,{formatter:e=>`${e.toFixed(1)} hours`}),(0,C.jsx)(h.s,{iconType:"circle",wrapperStyle:{paddingTop:"10px"}})]})})})]}),(0,C.jsxs)(f.P.section,{className:"rounded-xl shadow-lg p-6 border border-gray-200 flex flex-col justify-between min-h-[450px] "+("dark"===T?"bg-gray-700 text-white":"bg-stone-100 text-gray-800"),initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.8},children:[(0,C.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold  mb-4 text-center "+("dark"===T?"bg-gradient-to-br from-pink-200 to-pink-600 bg-clip-text text-transparent":"text-gray-800"),children:[(0,C.jsx)(i.A,{className:"w-6 h-6 inline-block mr-2 text-indigo-600"})," Weekly Login & Break Hours"]}),(0,C.jsx)("div",{className:"flex-grow flex items-center justify-center",children:(0,C.jsx)(d.u,{width:"100%",height:U?300:400,children:(0,C.jsxs)(u.E,{data:jt,margin:{top:20,right:10,left:5,bottom:5},children:[(0,C.jsx)(p.W,{dataKey:"Date",stroke:Oe,axisLine:!1,tickLine:!1,padding:{left:10,right:10},tickFormatter:(e,t)=>jt[t]?`${jt[t].Date}-${jt[t].Month}`:e,className:"text-sm "+("dark"===T?"text-white":"text-gray-500")}),(0,C.jsx)(y.h,{allowDecimals:!1,hide:!0}),(0,C.jsx)(g.m,{cursor:{fill:"rgba(0,0,0,0.05)"}}),(0,C.jsx)(h.s,{wrapperStyle:{paddingTop:"10px"}}),(0,C.jsx)(b.y,{dataKey:"Work_Hours",stackId:"a",fill:Q,name:"Work Hours"}),(0,C.jsx)(b.y,{dataKey:"Break_Hours",stackId:"a",fill:ee,name:"Break Hours"})]})})})]})]}),(0,C.jsx)(f.P.div,{className:"p-4 sm:p-6 rounded-xl border border-gray-200 shadow-lg mb-8 "+("dark"===T?"bg-gray-800 text-white border-gray-700":"bg-white text-gray-800 border-gray-200"),initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:(0,C.jsxs)("section",{children:[(0,C.jsxs)("div",{className:"flex justify-between items-start sm:items-center mb-5 flex-wrap gap-4",children:[(0,C.jsxs)("h2",{className:"text-xl sm:text-2xl font-extrabold "+("dark"===T?"bg-gradient-to-br from-green-300 to-green-600 bg-clip-text text-transparent":"text-gray-800"),children:[(0,C.jsx)(o.A,{className:"w-6 h-6 sm:w-7 sm:h-7 inline-block text-indigo-600 mr-2"})," Attendance Records"]}),(0,C.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsx)("label",{htmlFor:"month-select",className:"text-sm font-semibold mr-2 "+("dark"===T?"text-gray-300":"text-gray-700"),children:"Select Month:"}),(0,C.jsx)("select",{id:"month-select",value:O,onChange:e=>{B(e.target.value),Pe(1)},className:"border px-3 py-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium transition-colors cursor-pointer \n                                   "+("dark"===T?"bg-gray-700 text-white border-gray-600 hover:border-indigo-500":"bg-white text-gray-800 border-gray-300 hover:border-indigo-500"),children:Fe.map(e=>(0,C.jsx)("option",{value:e,children:e},e))})]}),(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsx)("label",{htmlFor:"sort-select",className:"text-sm font-semibold mr-2 "+("dark"===T?"text-gray-300":"text-gray-700"),children:"Sort by:"}),(0,C.jsx)("select",{id:"sort-select",value:ke,onChange:e=>{De(e.target.value),Pe(1)},className:"border px-3 py-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium transition-colors cursor-pointer \n                                   "+("dark"===T?"bg-gray-700 text-white border-gray-600 hover:border-indigo-500":"bg-white text-gray-800 border-gray-300 hover:border-indigo-500"),children:["Recently added","Ascending","Descending","Last Month","Last 7 Days"].map(e=>(0,C.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,C.jsx)("div",{className:"overflow-x-auto rounded-xl border border-gray-300 shadow-md",children:(0,C.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,C.jsx)("thead",{className:""+("dark"===T?"bg-gray-700 text-indigo-400":"bg-indigo-50 text-indigo-700"),children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider",children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(o.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-500"})," Date"]})}),(0,C.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider",children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(n.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"})," Login Time"]})}),(0,C.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider",children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(n.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})," Logout Time"]})}),(0,C.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider",children:"Login Hours"}),(0,C.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider",children:"Daily Progress"})]})}),(0,C.jsx)("tbody",{className:("dark"===T?"bg-gray-700 text-white":"bg-white text-gray-800")+" divide-y divide-gray-200",children:(0,C.jsx)(j.N,{children:yt.length>0?yt.filter(e=>e&&e.date).map((e,t)=>(0,C.jsxs)(f.P.tr,{className:("dark"===T?"hover:bg-gray-600":"hover:bg-indigo-50")+" transition-colors duration-150",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:.05*t},children:[(0,C.jsx)("td",{className:"px-4 py-3 text-sm whitespace-nowrap "+("dark"===T?"text-gray-300":"text-gray-700"),children:e.date}),(0,C.jsx)("td",{className:"px-4 py-3 text-sm whitespace-nowrap "+("dark"===T?"text-green-400":"text-green-600"),children:e.login_time||(0,C.jsx)("span",{className:"text-red-500 font-semibold",children:"Absent"})}),(0,C.jsx)("td",{className:"px-4 py-3 text-sm whitespace-nowrap "+("dark"===T?"text-red-400":"text-red-600"),children:e.logout_time||(0,C.jsx)("span",{className:"text-red-500 font-semibold",children:"-"})}),(0,C.jsxs)("td",{className:"px-4 py-3 text-sm whitespace-nowrap "+("dark"===T?"text-white":"text-indigo-700"),children:[(0,C.jsx)("span",{className:"font-bold",children:e.login_hours.toFixed(2)})," hrs"]}),(0,C.jsx)("td",{className:"px-4 py-3 text-sm whitespace-nowrap "+("dark"===T?"text-white":"text-gray-600"),children:(0,C.jsxs)("div",{className:"relative rounded-full h-4 w-full bg-gray-200 overflow-hidden",children:[(0,C.jsx)(f.P.div,{className:"bg-indigo-400 h-full rounded-full",initial:{width:0},animate:{width:e.barWidth},transition:{duration:.8,ease:"easeOut"}}),(0,C.jsxs)("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-semibold text-white",children:[e.login_hours.toFixed(1),"h"]})]})})]},t)):(0,C.jsx)("tr",{children:(0,C.jsx)("td",{colSpan:"5",className:`px-4 py-3 text-center whitespace-nowrap ${"dark"===T?"text-gray-400":"text-gray-600"} italic`,children:"No attendance records found for the selected options."})})})})]})}),(0,C.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-between",children:[(0,C.jsxs)("div",{className:"flex items-center gap-2 mb-4 sm:mb-0",children:[(0,C.jsx)("span",{className:"text-sm "+("dark"===T?"text-gray-300":"text-gray-700"),children:"Rows per page:"}),(0,C.jsx)("select",{value:Ae,onChange:e=>{$e(Number(e.target.value)),Pe(1)},className:"border px-2 py-1 rounded-md text-sm cursor-pointer "+("dark"===T?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"),children:[10,25,50,100].map(e=>(0,C.jsx)("option",{value:e,children:e},e))})]}),(0,C.jsxs)("nav",{className:"flex items-center gap-2",children:[(0,C.jsx)("button",{onClick:()=>Pe(e=>Math.max(e-1,1)),disabled:1===Ce,className:"px-4 py-2 text-sm font-medium border rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed "+("dark"===T?"bg-gray-600 text-white border-gray-500 hover:bg-gray-500":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"),children:"Previous"}),(0,C.jsxs)("span",{className:"text-sm "+("dark"===T?"text-gray-300":"text-gray-700"),children:["Page ",Ce," of ",bt]}),(0,C.jsx)("button",{onClick:()=>Pe(e=>Math.min(e+1,bt)),disabled:Ce===bt||0===bt,className:"px-4 py-2 text-sm font-medium border rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed "+("dark"===T?"bg-gray-600 text-white border-gray-500 hover:bg-gray-500":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"),children:"Next"})]})]})]})})]},"dashboard")]})]})]})]})}}}]);
//# sourceMappingURL=404.e104c538.chunk.js.map