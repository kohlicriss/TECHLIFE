{"version":3,"file":"static/js/245.1de1892b.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Projects/ProjectDashBoard.jsx","../node_modules/classnames/index.js","../node_modules/framer-motion/dist/es/utils/use-composed-ref.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/PopChild.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/utils.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"],"sourcesContent":["import React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\r\nimport { CircleUserRound } from 'lucide-react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer, Cell } from 'recharts';\r\nimport { FaCalendarAlt, FaTrashAlt, FaFileAlt, FaPlus, FaPaperclip, FaUsers, FaRegFolderOpen } from 'react-icons/fa';\r\nimport axios from 'axios';\r\nimport { Context } from '../HrmsContext';\r\nimport classNames from 'classnames';\r\nimport { FiDelete, FiEdit } from \"react-icons/fi\";\r\nimport { authApi } from '../../../../axiosInstance';\r\n\r\nconst SprintTable = ({ projectId }) => {\r\n  const { theme } = useContext(Context);\r\n  const [sprints, setSprints] = useState([]);\r\n  const [loadingSprints, setLoadingSprints] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [selectedSprint, setSelectedSprint] = useState(null);\r\n  const [showCreate, setShowCreate] = useState(false);\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [form, setForm] = useState({\r\n    sprintName: '',\r\n    startDate: '',\r\n    endDate: '',\r\n    status: 'PLANNED'\r\n  });\r\n  const API_HOST = 'http://192.168.0.112:8090/api/sprints';\r\n  const token = () => localStorage.getItem('accessToken');\r\n  const persistTokenFromRes = async (res, body) => {\r\n    try {\r\n      const authHeader = res.headers.get('authorization') || res.headers.get('Authorization');\r\n      if (authHeader) storeAccessToken(authHeader);\r\n      if (body?.accessToken || body?.token || body?.jwt) storeAccessToken(body?.accessToken || body?.token || body?.jwt);\r\n    } catch (e) { /* ignore */ }\r\n  };\r\n  const loadSprints = async () => {\r\n    if (!projectId) return;\r\n    setLoadingSprints(true);\r\n    setError(null);\r\n    try {\r\n      const res = await fetch(`${API_HOST}/project/${encodeURIComponent(projectId)}`, {\r\n        headers: { Accept: 'application/json', Authorization: token() ? `Bearer ${token()}` : undefined }\r\n      });\r\n      if (!res.ok) {\r\n        const txt = await res.text().catch(() => null);\r\n        throw new Error(txt || `HTTP ${res.status}`);\r\n      }\r\n      const body = await res.json().catch(() => []);\r\n      await persistTokenFromRes(res, body);\r\n      setSprints(Array.isArray(body) ? body : (body.sprints || []));\r\n      if (Array.isArray(body) && body.length) {\r\n        setSelectedSprint(body[0]);\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || 'Failed to load sprints');\r\n      setSprints([]);\r\n    } finally {\r\n      setLoadingSprints(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => { loadSprints(); }, [projectId]);\r\n  const openCreate = () => {\r\n    setForm({ sprintName: '', startDate: '', endDate: '', status: 'PLANNED' });\r\n    setShowCreate(true);\r\n  };\r\n  const openEdit = () => {\r\n    if (!selectedSprint) return;\r\n    setForm({\r\n      sprintName: selectedSprint.sprintName || selectedSprint.title || '',\r\n      startDate: selectedSprint.startDate || '',\r\n      endDate: selectedSprint.endDate || '',\r\n      status: selectedSprint.status || 'PLANNED'\r\n    });\r\n    setShowEdit(true);\r\n  };\r\n  const createSprint = async (e) => {\r\n    e?.preventDefault();\r\n    if (!projectId) return;\r\n    setSubmitting(true);\r\n    try {\r\n      const res = await fetch(`${API_HOST}/project/${encodeURIComponent(projectId)}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json', Authorization: token() ? `Bearer ${token()}` : undefined },\r\n        body: JSON.stringify(form)\r\n      });\r\n      const body = await res.json().catch(() => null);\r\n      await persistTokenFromRes(res, body);\r\n      if (!res.ok) throw new Error(body?.message || `Status ${res.status}`);\r\n      setShowCreate(false);\r\n      await loadSprints();\r\n    } catch (err) {\r\n      alert('Create failed: ' + (err.message || err));\r\n    } finally { setSubmitting(false); }\r\n  };\r\n  const updateSprint = async (e) => {\r\n    e?.preventDefault();\r\n    if (!projectId || !selectedSprint) return;\r\n    setSubmitting(true);\r\n    try {\r\n      const sprintId = selectedSprint.sprintId || selectedSprint.sprint_id || selectedSprint.id;\r\n      const res = await fetch(`${API_HOST}/${encodeURIComponent(projectId)}/${encodeURIComponent(sprintId)}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json', Authorization: token() ? `Bearer ${token()}` : undefined },\r\n        body: JSON.stringify(form)\r\n      });\r\n      const body = await res.json().catch(() => null);\r\n      await persistTokenFromRes(res, body);\r\n      if (!res.ok) throw new Error(body?.message || `Status ${res.status}`);\r\n      setShowEdit(false);\r\n      await loadSprints();\r\n    } catch (err) {\r\n      alert('Update failed: ' + (err.message || err));\r\n    } finally { setSubmitting(false); }\r\n  };\r\n  const deleteSprint = async (s) => {\r\n    if (!projectId || !s) return;\r\n    if (!window.confirm(`Delete sprint ${s.sprintId || s.sprint_id || s.id}?`)) return;\r\n    setSubmitting(true);\r\n    try {\r\n      const sprintId = s.sprintId || s.sprint_id || s.id;\r\n      const res = await fetch(`${API_HOST}/${encodeURIComponent(projectId)}/${encodeURIComponent(sprintId)}`, {\r\n        method: 'DELETE',\r\n        headers: { Authorization: token() ? `Bearer ${token()}` : undefined }\r\n      });\r\n      const body = await res.json().catch(() => null);\r\n      await persistTokenFromRes(res, body);\r\n      if (!res.ok) throw new Error(body?.message || `Status ${res.status}`);\r\n      await loadSprints();\r\n    } catch (err) {\r\n      alert('Delete failed: ' + (err.message || err));\r\n    } finally { setSubmitting(false); }\r\n  };\r\n  return (\r\n    <div className={`p-4 rounded-xl shadow-md ${theme === 'dark' ? 'bg-gray-800 text-gray-200' : 'bg-white text-gray-800'}`}>\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-xl font-bold\">Sprints</h3>\r\n        <div className=\"flex items-center gap-2\">\r\n          <button onClick={openCreate} title=\"Create Sprint\" className=\"p-2 rounded-md bg-green-600 text-white\"><FaPlus /></button>\r\n          <button onClick={openEdit} disabled={!selectedSprint} title=\"Edit Selected\" className=\"p-2 rounded-md bg-yellow-500 text-white\"><FiEdit /></button>\r\n          <button onClick={() => deleteSprint(selectedSprint)} disabled={!selectedSprint} title=\"Delete Selected\" className=\"p-2 rounded-md bg-red-600 text-white\"><FiDelete /></button>\r\n        </div>\r\n      </div>\r\n      {loadingSprints ? (\r\n        <div className=\"py-6 text-center text-sm text-indigo-500\">Loading sprints...</div>\r\n      ) : error ? (\r\n        <div className=\"py-4 text-center text-sm text-red-500\">{error}</div>\r\n      ) : sprints.length === 0 ? (\r\n        <div className=\"py-6 text-center text-sm text-gray-500\">No sprints found.</div>\r\n      ) : (\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full text-sm\">\r\n            <thead className=\"text-left text-xs uppercase text-gray-500\">\r\n              <tr>\r\n                <th className=\"py-2 px-3\">Sprint ID</th>\r\n                <th className=\"py-2 px-3\">Name</th>\r\n                <th className=\"py-2 px-3\">Start</th>\r\n                <th className=\"py-2 px-3\">End</th>\r\n                <th className=\"py-2 px-3\">Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {sprints.map((s, idx) => (\r\n                <tr\r\n                  key={s.sprintId || s.sprint_id || idx}\r\n                  onClick={() => setSelectedSprint(s)}\r\n                  className={`cursor-pointer ${selectedSprint === s ? 'ring-2 ring-indigo-300' : ''} hover:bg-gray-50`}\r\n                >\r\n                  <td className=\"py-2 px-3\">{s.sprintId || s.sprint_id || s.id || '-'}</td>\r\n                  <td className=\"py-2 px-3\">{s.sprintName || s.title || '-'}</td>\r\n                  <td className=\"py-2 px-3\">{s.startDate || '-'}</td>\r\n                  <td className=\"py-2 px-3\">{s.endDate || '-'}</td>\r\n                  <td className=\"py-2 px-3\">{s.status || '-'}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n{showCreate && (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm\">\r\n        <form onSubmit={createSprint} className={`w-full max-w-lg p-7 rounded-2xl shadow-2xl transition-all duration-300 ${theme === 'dark' ? 'bg-gray-800 text-gray-100 border border-gray-700' : 'bg-white text-gray-900 border border-gray-200'}`} onClick={e => e.stopPropagation()}>\r\n            <div className=\"flex justify-between items-start mb-5 pb-2 border-b border-gray-300/50 dark:border-gray-700\">\r\n                <h4 className=\"text-xl font-bold tracking-tight\">Create New Sprint</h4>\r\n                <button type=\"button\" onClick={() => setShowCreate(false)} className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors text-2xl leading-none\">&times;</button>\r\n            </div>\r\n            <div className=\"space-y-4\">\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-base ${theme === 'dark' ? 'bg-gray-700 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} placeholder=\"Sprint Name (e.g., Sprint 1, Q1 Project Kickoff)\" value={form.sprintName} onChange={e => setForm(prev => ({ ...prev, sprintName: e.target.value }))} required />\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                    <input type=\"date\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-300'}`} value={form.startDate} onChange={e => setForm(prev => ({ ...prev, startDate: e.target.value }))} required />\r\n                    <input type=\"date\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-300'}`} value={form.endDate} onChange={e => setForm(prev => ({ ...prev, endDate: e.target.value }))} required />\r\n                </div>\r\n                <select \r\n                    className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-gray-100' : 'bg-gray-50 border-gray-300 text-gray-900'}`} \r\n                    value={form.status} \r\n                    onChange={e => setForm(prev => ({ ...prev, status: e.target.value }))}>\r\n                    <option value=\"PLANNED\">PLANNED</option>\r\n                    <option value=\"ACTIVE\">ACTIVE</option>\r\n                    <option value=\"COMPLETED\">COMPLETED</option>\r\n                    <option value=\"CANCELLED\">CANCELLED</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-300/50 dark:border-gray-700\">\r\n                <button type=\"button\" onClick={() => setShowCreate(false)} className={`px-5 py-2 rounded-lg font-semibold transition-colors border ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}>Cancel</button>\r\n                <button  type=\"submit\"  disabled={submitting}  className=\"px-5 py-2 bg-green-600 text-white rounded-lg font-semibold shadow-md hover:bg-green-700 disabled:bg-green-400 disabled:cursor-not-allowed transition-colors\" >     {submitting ? 'Creating...' : 'Create'} </button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n)}\r\n{showEdit && selectedSprint && (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm\">\r\n        <form onSubmit={updateSprint} className={`w-full max-w-lg p-7 rounded-2xl shadow-2xl transition-all duration-300 ${theme === 'dark' ? 'bg-gray-800 text-gray-100 border border-gray-700' : 'bg-white text-gray-900 border border-gray-200'}`} onClick={e => e.stopPropagation()}>\r\n            <div className=\"flex justify-between items-start mb-5 pb-2 border-b border-gray-300/50 dark:border-gray-700\">\r\n                <h4 className=\"text-xl font-bold tracking-tight\">Update Sprint Details</h4>\r\n                <button type=\"button\" onClick={() => setShowEdit(false)} className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors text-2xl leading-none\"> &times; </button>\r\n            </div>\r\n            <div className=\"space-y-4\">\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-base ${theme === 'dark' ? 'bg-gray-700 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} placeholder=\"Sprint Name (e.g., Sprint 1, Q1 Project Kickoff)\" value={form.sprintName} onChange={e => setForm(prev => ({ ...prev, sprintName: e.target.value }))} required />\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                    <input type=\"date\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-300'}`} value={form.startDate} onChange={e => setForm(prev => ({ ...prev, startDate: e.target.value }))} required />\r\n                    <input type=\"date\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-300'}`} value={form.endDate} onChange={e => setForm(prev => ({ ...prev, endDate: e.target.value }))} required />\r\n                </div>\r\n                <select \r\n                    className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-gray-100' : 'bg-gray-50 border-gray-300 text-gray-900'}`} \r\n                    value={form.status} \r\n                    onChange={e => setForm(prev => ({ ...prev, status: e.target.value }))}>\r\n                    <option value=\"PLANNED\">PLANNED</option>\r\n                    <option value=\"ACTIVE\">ACTIVE</option>\r\n                    <option value=\"COMPLETED\">COMPLETED</option>\r\n                    <option value=\"CANCELLED\">CANCELLED</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-300/50 dark:border-gray-700\">\r\n                <button type=\"button\" onClick={() => setShowEdit(false)} className={`px-5 py-2 rounded-lg font-semibold transition-colors border ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}>    Cancel</button>\r\n                <button type=\"submit\" disabled={submitting} className=\"px-5 py-2 bg-yellow-500 text-white rounded-lg font-semibold shadow-md hover:bg-yellow-600 disabled:bg-yellow-400 disabled:cursor-not-allowed transition-colors\">    {submitting ? 'Updating...' : 'Update'}</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n)}\r\n    </div>\r\n  );\r\n};\r\nconst ProjectOverviewForm = ({ mode = 'create', projectId, initialData = {}, onClose = () => {}, onSuccess = () => {} }) => {\r\n  const { theme } = useContext(Context);\r\n  const [form, setForm] = useState({\r\n    timeline_progress: initialData.timeline_progress || '',\r\n    client: initialData.client || '',\r\n    total_cost: initialData.total_cost || '',\r\n    days_to_work: initialData.days_to_work || '',\r\n    priority: initialData.priority || '',\r\n    startedOn: initialData.startedOn ? initialData.startedOn.slice(0,10) : '',\r\n    endDate: initialData.endDate ? initialData.endDate.slice(0,10) : '',\r\n    manager_employeeId: initialData.manager?.employeeId || '',\r\n    manager_name: initialData.manager?.name || '',\r\n    dueAlert: typeof initialData.dueAlert !== 'undefined' ? initialData.dueAlert : 0,\r\n  });\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const base = 'https://hrms.anasolconsultancyservices.com/api/employee';\r\n  const handleChange = (k) => (e) => setForm(prev => ({ ...prev, [k]: e.target.value }));\r\n  const persistReturnedToken = async (res, bodyData) => {\r\n    const authHeader = res.headers.get('authorization') || res.headers.get('Authorization');\r\n    if (authHeader) {\r\n      const raw = String(authHeader).startsWith('Bearer ') ? authHeader.split(' ')[1] : authHeader;\r\n      try { localStorage.setItem('accessToken', raw); } catch {}\r\n    }\r\n    const returnedToken = bodyData?.accessToken || bodyData?.token || bodyData?.jwt;\r\n    if (returnedToken) {\r\n      const raw = String(returnedToken).startsWith('Bearer ') ? returnedToken.split(' ')[1] : returnedToken;\r\n      try { localStorage.setItem('accessToken', raw); } catch {}\r\n    }\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e?.preventDefault();\r\n    if (!projectId) return alert('Project id missing');\r\n    const token = localStorage.getItem('accessToken');\r\n    if (!token) return alert('Missing access token. Please login.');\r\n    const payload = {\r\n      timeline_progress: form.timeline_progress,\r\n      client: form.client,\r\n      total_cost: form.total_cost,\r\n      days_to_work: form.days_to_work,\r\n      priority: form.priority,\r\n      startedOn: form.startedOn || null,\r\n      endDate: form.endDate || null,\r\n      manager: { employeeId: form.manager_employeeId, name: form.manager_name },\r\n      dueAlert: Number(form.dueAlert || 0)\r\n    };\r\n    const url = mode === 'create'\r\n      ? `${base}/create/ProjectOverview/${encodeURIComponent(projectId)}`\r\n      : `${base}/update/ProjectOverview/${encodeURIComponent(projectId)}`;\r\n    setSubmitting(true);\r\n    try {\r\n      const res = await fetch(url, {\r\n        method: mode === 'create' ? 'POST' : 'PUT',\r\n        headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\r\n        body: JSON.stringify(payload)\r\n      });\r\n      const body = await res.json().catch(() => null);\r\n      await persistReturnedToken(res, body);\r\n      if (!res.ok) {\r\n        const msg = body?.message || res.statusText || `Status ${res.status}`;\r\n        throw new Error(msg);\r\n      }\r\n      onSuccess(body || payload);\r\n      onClose();\r\n    } catch (err) {\r\n      console.error(`${mode} overview failed`, err);\r\n      alert(`Failed to ${mode} overview: ${err.message || err}`);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm\">\r\n    <form onSubmit={handleSubmit} className={`w-full max-w-2xl p-8 rounded-2xl shadow-2xl transition-all duration-300 ${theme === 'dark' ? 'bg-gray-900 text-gray-100 border border-gray-700' : 'bg-white text-gray-800 border border-gray-200'}`} onClick={e => e.stopPropagation()}>\r\n        <div className=\"flex justify-between items-start mb-6 pb-2 border-b border-gray-300/50\">\r\n            <h3 className=\"text-2xl font-extrabold tracking-tight\">\r\n                {mode === 'create' ? 'Create Project Overview' : 'Update Project Overview'}\r\n            </h3>\r\n            <button type=\"button\" onClick={onClose} className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors text-2xl leading-none\">\r\n                &times;\r\n            </button>\r\n        </div>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4\">\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Timeline Progress</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.timeline_progress} onChange={handleChange('timeline_progress')} placeholder=\"e.g., 50%\" />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Client</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.client} onChange={handleChange('client')} placeholder=\"Client Company Name\" />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Total Cost</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.total_cost} onChange={handleChange('total_cost')} placeholder=\"e.g., $15,000\" />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Days to Work</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.days_to_work} onChange={handleChange('days_to_work')} placeholder=\"e.g., 45\" />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Priority</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.priority} onChange={handleChange('priority')} placeholder=\"e.g., High, Medium, Low\" />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Due Alert (days)</label>\r\n                <input type=\"number\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.dueAlert} onChange={handleChange('dueAlert')} placeholder=\"e.g., 7\" />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Start Date</label>\r\n                <input type=\"date\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.startedOn} onChange={handleChange('startedOn')} />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">End Date</label>\r\n                <input type=\"date\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.endDate} onChange={handleChange('endDate')} />\r\n            </div>\r\n            <div className=\"sm:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Manager Employee ID</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.manager_employeeId} onChange={handleChange('manager_employeeId')} placeholder=\"e.g., MGR101\" />\r\n            </div>\r\n            <div className=\"sm:col-span-2\"> \r\n                <label className=\"block text-sm font-medium mb-1\">Manager Name</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.manager_name} onChange={handleChange('manager_name')} placeholder=\"Full Name\" />\r\n            </div>\r\n        </div>\r\n        <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-300/50\">\r\n            <button type=\"button\" onClick={onClose} className={`px-5 py-2 rounded-lg font-semibold transition-colors border ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}>\r\n                Cancel\r\n            </button>\r\n            <button type=\"submit\" disabled={submitting} className=\"px-5 py-2 bg-blue-600 text-white rounded-lg font-semibold shadow-md hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed transition-colors\">\r\n                {submitting ? 'Saving...' : (mode === 'create' ? 'Create' : 'Update')}\r\n            </button>\r\n        </div>\r\n    </form>\r\n</div>\r\n  );\r\n};\r\nconst APIBASE_URL = 'https://hrms.anasolconsultancyservices.com/api/employee/overview/';\r\nconst storeAccessToken = (rawTokenOrHeader) => {\r\n    if (!rawTokenOrHeader) return;\r\n    const token = String(rawTokenOrHeader).startsWith('Bearer ')\r\n        ? String(rawTokenOrHeader).split(' ')[1]\r\n        : String(rawTokenOrHeader);\r\n    try { localStorage.setItem('accessToken', token); } catch (e) { /* ignore */ }\r\n};\r\n const ProjectDetails = () => {\r\n    const { projectId: paramProjectId } = useParams(); \r\n    const [projectId, setProjectId] = useState(() => paramProjectId || localStorage.getItem('selectedProjectId') || '');\r\n    const [projectData, setProjectData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const {theme} = useContext(Context);\r\n    const [showUpdateOverview, setShowUpdateOverview] = useState(false);\r\n    useEffect(() => {\r\n        if (paramProjectId && paramProjectId !== projectId) {\r\n            setProjectId(paramProjectId);\r\n            try { localStorage.setItem('selectedProjectId', paramProjectId); } catch {}\r\n        }\r\n    }, [paramProjectId]);\r\n    useEffect(() => {\r\n       const fetchProjectData = async () => {\r\n           setLoading(true);\r\n           setError(null);\r\n           if (!projectId) {\r\n               setError('No project selected. Select a project to view details.');\r\n               setLoading(false);\r\n               setProjectData(null);\r\n               return;\r\n           }\r\n           const url = `${APIBASE_URL}${encodeURIComponent(projectId)}`;\r\n           const token = localStorage.getItem('accessToken');\r\n           if (!token) {\r\n               setError('Access token missing. Please login (store accessToken in localStorage).');\r\n               setLoading(false);\r\n               return;\r\n           }\r\n           try {\r\n               const response = await fetch(url, {\r\n                   method: 'GET',\r\n                   headers: {\r\n                       'Authorization': `Bearer ${token}`,\r\n                       'Accept': 'application/json',\r\n                   },\r\n               });\r\n               const authHeader = response.headers.get('authorization') || response.headers.get('Authorization');\r\n               if (authHeader) storeAccessToken(authHeader);\r\n               if (response.status === 401) {\r\n                   setError('Unauthorized (401). Access token invalid or expired. Please re-login.');\r\n                   setProjectData(null);\r\n                   return;\r\n               }\r\n               if (!response.ok) {\r\n                   const txt = await response.text().catch(() => null);\r\n                   throw new Error(txt || `HTTP ${response.status}`);\r\n               }\r\n               const data = await response.json();\r\n               const returnedToken = data?.accessToken || data?.token || data?.jwt;\r\n               if (returnedToken) storeAccessToken(returnedToken);\r\n\r\n               setProjectData(data);\r\n           } catch (err) {\r\n               console.error(\"Fetch error:\", err);\r\n               setError(`Failed to fetch project data. Check the token and URL. Error: ${err.message}`);\r\n           } finally {\r\n               setLoading(false);\r\n           }\r\n       };\r\n       fetchProjectData();\r\n    }, [projectId]); \r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-40\"><p className=\"text-xl text-blue-600\">Loading project details...</p></div>\r\n        );\r\n    }\r\n    if (error) {\r\n        return (\r\n            <div className=\"bg-red-100 border border-red-400 text-red-700 p-4 rounded m-6\" role=\"alert\"><p className=\"font-bold\">Error!</p><p className=\"text-sm\">{error}</p></div>\r\n        );\r\n    }\r\n    if (!projectData) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-40\"><p className=\"text-xl text-gray-500\">No project data found.</p></div>\r\n        );\r\n    }\r\n    return (\r\n        <div className=\"p-2 space-y-4\">\r\n            <div className=\"flex items-end justify-end border-b pb-2 mb-2\">\r\n               <button title=\"Update Overview\" onClick={() => setShowUpdateOverview(true)} className=\"p-2 rounded-md bg-yellow-500 text-white hover:bg-yellow-600\"><FiEdit /></button>\r\n            </div>\r\n            {/* General Project Info */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\r\n                <InfoCard title=\"Client\" value={projectData.client} />\r\n                <InfoCard title=\"Total Cost\" value={`$${projectData.total_cost || 'N/A'}`} />\r\n                <InfoCard title=\"Timeline Progress\" value={projectData.timeline_progress} />\r\n                <InfoCard title=\"Priority\" value={projectData.priority} />\r\n            </div> \r\n             {showUpdateOverview && (\r\n              <ProjectOverviewForm mode=\"update\" projectId={projectId} initialData={projectData} onClose={() => setShowUpdateOverview(false)} onSuccess={(updated) => {  setProjectData(updated); }} />\r\n            )}           \r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <InfoCard title=\"Start Date\" value={projectData.startedOn ? new Date(projectData.startedOn).toLocaleDateString() : 'N/A'} />\r\n                <InfoCard title=\"End Date\" value={projectData.endDate ? new Date(projectData.endDate).toLocaleDateString() : 'N/A'} />\r\n                <InfoCard title=\"Days to Work\" value={projectData.days_to_work} />\r\n            </div>\r\n            {projectData.manager && (\r\n                <div className={`p-1 rounded-lg border-l-4 border-blue-500 shadow-md ${theme === 'dark' ? 'bg-gray-800' : 'bg-blue-50'}`}>\r\n                    <h2 className={`text-xl font-semibold ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'} mb-1`}>Project Manager</h2>\r\n                    <p className={`${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}><span className=\"font-medium\">Name:</span> {projectData.manager.name}</p>\r\n                    <p className={`${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}><span className=\"font-medium\">Employee ID:</span> {projectData.manager.employeeId}</p>\r\n                </div>\r\n            )}\r\n            \r\n            {/* Due Alert */}\r\n            <div className=\"pt-2 border-t mt-2\">\r\n                <p className={`text-lg font-bold ${projectData.dueAlert > 0 ? 'text-red-600' : 'text-green-600'}`}> Due Alert: {projectData.dueAlert} {projectData.dueAlert > 0 ? 'Days Overdue!' : 'No Alert'} </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Helper component for cleaner display\r\nconst InfoCard = ({ title, value }) => {\r\n    const {theme} = useContext(Context);\r\n    return (\r\n    <div className={`p-2 rounded-lg border shadow-sm ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}>\r\n        <p className={`text-sm font-medium ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>{title}</p>\r\n        <p className={`text-lg font-semibold ${theme === 'dark' ? 'text-gray-100' : 'text-gray-900'}`}>{value || 'N/A'}</p>\r\n    </div>\r\n    );  \r\n};\r\nconst projectData = {projectDetails: {},};\r\nconst calculateProgress = (startDateStr, endDateStr) => {\r\n    const start = new Date(startDateStr);\r\n    const end = new Date(endDateStr);\r\n    const today = new Date();\r\n\r\n    start.setHours(0,0,0,0);\r\n    end.setHours(0,0,0,0);\r\n    today.setHours(0,0,0,0);\r\n\r\n    const totalDuration = end.getTime() - start.getTime();\r\n    const elapsedDuration = today.getTime() - start.getTime();\r\n\r\n    if (totalDuration <= 0 || elapsedDuration < 0) return 0;\r\n    if (elapsedDuration >= totalDuration) return 100;\r\n\r\n    return Math.min(100, Math.round((elapsedDuration / totalDuration) * 100));\r\n};\r\nconst ProjectCard = () => {\r\n    const {theme,userData} = useContext(Context);\r\n    const motion = {\r\n        div: ({ children, ...props }) => <div {...props}>{children}</div>,\r\n        button: ({ children, ...props }) => <button {...props}>{children}</button>,\r\n        span: ({ children, ...props }) => <span {...props}>{children}</span>,\r\n        h2: ({ children, ...props }) => <h2 {...props}>{children}</h2>,\r\n        p: ({ children, ...props }) => <p {...props}>{children}</p>,\r\n    };\r\n    const { projectId: paramProjectId } = useParams();\r\n    const [projectId, setProjectId] = useState(() => paramProjectId || localStorage.getItem('selectedProjectId') || '');\r\n\r\n    const [rolesData, setRolesData] = useState(null);\r\n    const [rolesLoading, setRolesLoading] = useState(false); \r\n\r\n    const [localProjectData, setLocalProjectData] = useState(null);\r\n    const [showCreateOverview, setShowCreateOverview] = useState(false);\r\n    const [overviewSubmitting, setOverviewSubmitting] = useState(false);\r\n\r\n    const [showSprintModal, setShowSprintModal] = useState(false);\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [carouselProjects, setCarouselProjects] = useState([]);\r\n    const [loadingCarousel, setLoadingCarousel] = useState(false);\r\n    const [currentProject, setCurrentProject] = useState(null);\r\n    const [loadingProject, setLoadingProject] = useState(false);\r\n    const icon = currentProject?.icon || '';\r\n    const color = currentProject?.color || 'text-indigo-500';\r\n    // compute progress using the fetched localProjectData (fallback to module-level `projectData` if needed)\r\n    const progressSource = localProjectData || projectData;\r\n    const progressPercent = calculateProgress(progressSource?.projectDetails?.startedOn, progressSource?.projectDetails?.endDate);\r\n\r\n     const loadCarouselProjects = async () => {\r\n    setLoadingCarousel(true);\r\n    try {\r\n      const token = getAccessToken();\r\n      if (!token) return;\r\n      const list = await fetchProjects(0, 10, token).catch(() => []);\r\n      const arr = Array.isArray(list) ? list : (list.content || []);\r\n      setCarouselProjects(arr);\r\n      if (arr.length) {\r\n        setCurrentIndex(0);\r\n        await loadProjectDetailsById(arr[0].projectId || arr[0].project_id);\r\n      }\r\n    } catch (err) {\r\n      console.error('loadCarouselProjects error', err);\r\n    } finally {\r\n      setLoadingCarousel(false);\r\n    }\r\n  };\r\n  const loadProjectDetailsById = async (pid) => {\r\n    if (!pid) return;\r\n    setLoadingProject(true);\r\n    try {\r\n      const token = getAccessToken();\r\n      if (!token) throw new Error('Missing token');\r\n      const overviewUrl = `${APIBASE_URL}${encodeURIComponent(pid)}`;\r\n      const overviewRes = await fetch(overviewUrl, { headers: { Authorization: `Bearer ${token}`, Accept: 'application/json' } });\r\n      const overviewBody = overviewRes.ok ? await overviewRes.json().catch(() => null) : null;\r\n      const rolesUrl = `https://hrms.anasolconsultancyservices.com/api/employee/${encodeURIComponent(pid)}/roles`;\r\n      const rolesRes = await fetch(rolesUrl, { headers: { Authorization: `Bearer ${token}`, Accept: 'application/json' } });\r\n      const rolesBody = rolesRes.ok ? await rolesRes.json().catch(() => []) : [];\r\n      let kpiBody = null;\r\n      const empId = userData?.employeeId;\r\n      if (empId) {\r\n        try {\r\n          const kpiUrl = `http://192.168.0.112:8090/api/employee/kpi/${encodeURIComponent(empId)}/${encodeURIComponent(pid)}`;\r\n          const kpiRes = await fetch(kpiUrl, { headers: { Authorization: `Bearer ${token}`, Accept: 'application/json' } });\r\n          if (kpiRes.ok) kpiBody = await kpiRes.json().catch(() => null);\r\n        } catch (e) { /* ignore KPI error */ }\r\n      }\r\n      const normalized = {\r\n        projectId: pid,\r\n        name: overviewBody?.projectName || overviewBody?.title || overviewBody?.projectName || carouselProjects.find(p => (p.projectId||p.project_id) === pid)?.title || pid,\r\n        description: overviewBody?.projectDescription || overviewBody?.description || overviewBody?.project_details || '',\r\n        status: overviewBody?.status || overviewBody?.projectStatus || (overviewBody?.projectDetails?.status) || 'N/A',\r\n        kpis: kpiBody?.kpis || overviewBody?.kpis || overviewBody?.KPIs || carouselProjects.find(p => (p.projectId||p.project_id) === pid)?.kpis || {},\r\n        overview: overviewBody || null,\r\n        teamAllocation: Array.isArray(rolesBody) ? rolesBody : (rolesBody?.roles || []),\r\n      };\r\n      setCurrentProject(normalized);\r\n      setLocalProjectData(normalized.overview || null);\r\n    } catch (err) {\r\n      console.error('loadProjectDetailsById error', err);\r\n    } finally {\r\n      setLoadingProject(false);\r\n    }\r\n  };\r\n   useEffect(() => { loadCarouselProjects(); }, []);\r\n    const loadRoles = async (pid) => {\r\n     if (!pid) return;\r\n     setRolesLoading(true);\r\n     try {\r\n       const token = localStorage.getItem('accessToken');\r\n       const url = `https://hrms.anasolconsultancyservices.com/api/employee/${encodeURIComponent(pid)}/roles`;\r\n       const res = await fetch(url, { headers: { Accept: 'application/json', Authorization: token ? `Bearer ${token}` : undefined } });\r\n       if (!res.ok) {\r\n         console.warn('Failed to load roles', res.status);\r\n         setRolesData(null);\r\n         return;\r\n       }\r\n       const body = await res.json().catch(() => null);\r\n       if (Array.isArray(body)) {\r\n         const mapped = body.map(g => ({\r\n           role: g.role || 'Unknown',\r\n           count: typeof g.count === 'number' ? g.count : (Array.isArray(g.employees) ? g.employees.length : 0),\r\n           employees: Array.isArray(g.employees) ? g.employees.map(e => ({\r\n             employeeId: e.employeeId,\r\n             name: e.displayName || e.employeeName || e.name,\r\n             image: e.employeeImage || null\r\n           })) : []\r\n         }));\r\n         setRolesData(mapped);\r\n       } else {\r\n         setRolesData(null);\r\n       }\r\n     } catch (err) {\r\n       console.error('loadRoles error', err);\r\n       setRolesData(null);\r\n     } finally {\r\n       setRolesLoading(false);\r\n     }\r\n   };\r\n   useEffect(() => { if (projectId) loadRoles(projectId); }, [projectId]);\r\n    const handleDeleteOverview = async () => {\r\n       if (!projectId) return alert('Project id missing');\r\n       if (!window.confirm(`Delete overview for ${projectId}? This cannot be undone.`)) return;\r\n       const token = localStorage.getItem('accessToken');\r\n       if (!token) return alert('Missing access token. Please login.');\r\n       setOverviewSubmitting(true);\r\n       try {\r\n         const url = `https://hrms.anasolconsultancyservices.com/api/employee/delete/${encodeURIComponent(projectId)}`;\r\n         const res = await fetch(url, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` } });\r\n         const body = await res.json().catch(()=>null);\r\n         // persist token if returned\r\n         const authHeader = res.headers.get('authorization') || res.headers.get('Authorization');\r\n         if (authHeader) storeAccessToken(authHeader);\r\n         if (body?.accessToken || body?.token || body?.jwt) storeAccessToken(body?.accessToken || body?.token || body?.jwt);\r\n         if (!res.ok) throw new Error(body?.message || res.statusText || `Status ${res.status}`);\r\n         setLocalProjectData(null);\r\n         alert('Project overview deleted.');\r\n       } catch (err) {\r\n         console.error('Delete overview failed', err);\r\n         alert('Delete failed: ' + (err.message || err));\r\n       } finally {\r\n         setOverviewSubmitting(false);\r\n       }\r\n     };\r\n    const goToNextProject = async () => {\r\n      if (!carouselProjects.length) return;\r\n      const next = (currentIndex + 1) % carouselProjects.length;\r\n      setCurrentIndex(next);\r\n      const pid = carouselProjects[next].projectId || carouselProjects[next].project_id;\r\n      await loadProjectDetailsById(pid);\r\n    };\r\n    const goToPreviousProject = async () => {\r\n      if (!carouselProjects.length) return;\r\n      const prev = (currentIndex - 1 + carouselProjects.length) % carouselProjects.length;\r\n      setCurrentIndex(prev);\r\n      const pid = carouselProjects[prev].projectId || carouselProjects[prev].project_id;\r\n      await loadProjectDetailsById(pid);\r\n    };\r\n    const getAvatarUrl = (index) => `https://i.pravatar.cc/40?img=${index + 1}`;\r\n    const getStatusClasses = (status) => {\r\n        switch (status) {\r\n            case 'On Track':\r\n                return 'bg-green-100 text-green-800 ring-green-500';\r\n            case 'At Risk':\r\n                return 'bg-yellow-100 text-yellow-800 ring-yellow-500';\r\n            case 'Completed':\r\n                return 'bg-blue-100 text-blue-800 ring-blue-500';\r\n            default:\r\n                return 'bg-gray-100 text-gray-800 ring-gray-500';\r\n        }\r\n    };\r\n    return (\r\n        <motion.div className={`relative p-6 rounded-xl shadow-2xl mx-auto border border-orange-400  ${theme==='dark' ? 'bg-gray-700':'bg-gradient-to-r from-orange-10 to-orange-50'}`} key={currentIndex} >\r\n           <motion.span className={`absolute top-4 right-4 text-sm font-bold py-1 px-3 rounded-full shadow-md ring-2 ${getStatusClasses(currentProject?.status)}`} >\r\n                {currentProject?.status || 'N/A'}\r\n            </motion.span>\r\n            <div className=\"flex items-center mb-6 flex-wrap\">\r\n                 <motion.span className={`text-5xl mr-4 ${color}`} >{icon} </motion.span>\r\n                 <motion.h2 className={`text-3xl sm:text-4xl font-extrabold ${color} mt-2 sm:mt-0`} >{currentProject?.name || 'Project'} </motion.h2>\r\n            </div>\r\n            <motion.p className={`text-base sm:text-lg mb-6 leading-relaxed ${theme==='dark' ? 'text-gray-200':'text-gray-700'}`} >\r\n                {currentProject?.description || currentProject?.overview?.projectDescription || ''}\r\n             </motion.p>\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-2 \">\r\n              <motion.div className={`p-4 rounded-lg shadow-lg border border-gray-200 ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-gradient-to-br from-yellow-50 to-white'}`} >\r\n                   <div className=\"relative\">\r\n                     <button\r\n                       type=\"button\"\r\n                       title=\"Open Sprints\"\r\n                       onClick={() => setShowSprintModal(true)}\r\n                       className=\"absolute top-2 right-2 z-10 inline-flex items-center gap-2 px-2 py-1 rounded-md bg-indigo-600 text-white text-xs hover:bg-indigo-700\"\r\n                     >\r\n                       Sprints\r\n                     </button>\r\n                     <h2 className=\"text-xl font-bold mb-4 border-b pb-2 text-yellow-600\">Key Metrics (KPIs)</h2>\r\n                     <div className=\"mt-2\">\r\n                       <dl className=\"space-y-3\">\r\n                         {currentProject?.kpis && Object.keys(currentProject.kpis).length ? (\r\n                           Object.entries(currentProject.kpis).map(([key, value]) => (\r\n                             <div key={key} className=\"flex justify-between border-b border-gray-100 pb-2\">\r\n                               <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">{key}</dt>\r\n                               <dd className=\"text-md font-semibold text-gray-500 dark:text-gray-400\">{value}</dd>\r\n                             </div>\r\n                           ))\r\n                         ) : (\r\n                           <div className=\"text-sm text-gray-500\">No KPI data available for this project.</div>\r\n                         )}\r\n                       </dl>\r\n                     </div>\r\n                   </div>\r\n                </motion.div>\r\n                {showSprintModal && (\r\n                  <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40\">\r\n                    <div className=\"w-full max-w-4xl bg-white rounded-xl shadow-xl overflow-auto\">\r\n                      <div className=\"flex items-center justify-between p-4 border-b\">\r\n                        <h3 className=\"text-lg font-semibold\">Sprints for {projectId}</h3>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <button onClick={() => setShowSprintModal(false)} className=\"px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300\">Close</button>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"p-4\">\r\n                        <SprintTable projectId={projectId} />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <motion.div className={`p-4 rounded-lg shadow-lg border border-gray-200 col-span-1 lg:col-span-2 ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-gradient-to-br from-blue-50 to-white'} mt-6`} >\r\n                    <div className=\"flex items-start justify-between border-b pb-2 mb-2\">\r\n              <h1 className={`text-3xl font-extrabold ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Project Overview ({projectId})</h1>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button title=\"Create Overview\" onClick={() => setShowCreateOverview(true)} className=\"p-2 rounded-md bg-green-600 text-white hover:bg-green-700\"><FaPlus /></button>\r\n                <button title=\"Delete Overview\" onClick={handleDeleteOverview} disabled={overviewSubmitting} className=\"p-2 rounded-md bg-red-600 text-white hover:bg-red-700\"><FiDelete /></button>\r\n              </div>\r\n            </div>\r\n                    <ProjectDetails />\r\n                    <AnimatePresence>\r\n            {showCreateOverview && (\r\n              <ProjectOverviewForm mode=\"create\" projectId={projectId} initialData={{}} onClose={() => setShowCreateOverview(false)} onSuccess={(newData) => {  setLocalProjectData(newData); }} />\r\n            )}\r\n          </AnimatePresence>\r\n                </motion.div>\r\n                <motion.div className={`p-4 rounded-lg shadow-lg border border-gray-100 col-span-1 lg:col-span-3 ${theme==='dark' ? 'bg-gray-800 text-white':'bg-gradient-to-br from-indigo-50 to-white'}`} >\r\n                    <h3 className={`text-xl sm:text-2xl font-bold mb-4 border-b pb-2 ${theme==='dark' ? 'text-white':'text-gray-800'}`}>Team Allocation</h3>\r\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-y-4 gap-x-6\">\r\n                      {rolesLoading ? (\r\n                        <div className=\"col-span-3 py-6 text-center text-sm text-gray-500\">Loading team allocation...</div>\r\n                      ) : ((currentProject?.teamAllocation && currentProject.teamAllocation.length) ? currentProject.teamAllocation : (rolesData ?? currentProject?.team ?? [])).map((teamMember, index) => {\r\n                           const role = teamMember.role || teamMember.roleName || 'Team';\r\n                           const count = teamMember.count ?? (teamMember.avatars ? teamMember.avatars[0] : 0);\r\n                           const employees = teamMember.employees || teamMember.members || [];\r\n                          return (\r\n                            <motion.div key={role + index} className=\"flex flex-col sm:flex-row sm:items-center justify-between p-2 rounded-md transition border-l-4 border-indigo-400\" >\r\n                                <p className={`font-semibold text-base ${theme === 'dark' ? 'text-white' : 'text-gray-800'} mb-1 sm:mb-0`}>{role}</p>\r\n                                <div className=\"flex items-center\">\r\n                                    <span className=\"text-sm font-bold mr-3\">{count}</span>\r\n                                    <div className=\"flex -space-x-2 overflow-hidden\">\r\n                                      {employees.length ? (\r\n                                         employees.slice(0,4).map((emp, avatarIndex) => (\r\n                                          <img key={emp.employeeId || avatarIndex} className={`inline-block h-8 w-8 rounded-full ring-2 ${theme === 'dark' ? 'ring-gray-800' : 'ring-white'} object-cover`}  src={emp.image || emp.employeeImage || getAvatarUrl(avatarIndex + 1 + index * 5)}  alt={emp.name || emp.displayName || `Member ${avatarIndex+1}`}  title={emp.name || emp.displayName}/>\r\n                                        ))\r\n                                      ) : (\r\n                                        Array.from({ length: Math.min(count || 1, 4) }).map((_, avatarIndex) => (\r\n                                          <img key={avatarIndex} className={`inline-block h-8 w-8 rounded-full ring-2 ${theme === 'dark' ? 'ring-gray-800' : 'ring-white'} object-cover`} src={getAvatarUrl(avatarIndex + 1 + index * 5)} alt={`Avatar ${avatarIndex + 1}`} />\r\n                                        ))\r\n                                      )}\r\n                                      {count > 4 && (\r\n                                        <span className=\"flex items-center justify-center h-8 w-8 rounded-full bg-gray-300 text-xs font-medium text-gray-700 ring-2 ring-white dark:bg-gray-600 dark:text-white\">\r\n                                          +{count - 4}\r\n                                        </span>\r\n                                      )}\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n                          );\r\n                      })}\r\n                    </div>\r\n                </motion.div>\r\n            </div>\r\n            <div className=\"flex justify-between mt-8 flex-wrap gap-4\">\r\n                <div className=\"relative inline-flex items-center justify-center gap-4 group\">  \r\n                <div className=\"absolute inset-0 duration-1000 opacity-60 transitiona-all bg-gradient-to-r from-indigo-500 via-pink-500 to-yellow-400 rounded-xl blur-lg filter group-hover:opacity-100 group-hover:duration-200\" ></div>\r\n                <a\r\n                    role=\"button\"\r\n                    className=\"group relative inline-flex items-center justify-center text-base rounded-xl bg-gray-900 px-4 py-3 font-semibold text-white transition-all duration-200 hover:bg-gray-800 hover:shadow-lg hover:-translate-y-0.5 hover:shadow-gray-600/30\"\r\n                    title=\"Previous Project\"\r\n                    onClick={goToPreviousProject}\r\n                    href=\"#\"\r\n                    >Previous <svg aria-hidden=\"true\" viewBox=\"0 0 10 10\" height=\"10\" width=\"10\" fill=\"none\" className=\"mt-0.5 ml-2 -mr-1 stroke-white stroke-2\" >\r\n                        <path d=\"M0 5h7\" className=\"transition opacity-0 group-hover:opacity-100\" ></path>\r\n                        <path d=\"M1 1l4 4-4 4\" className=\"transition group-hover:translate-x-[3px]\" ></path>\r\n                    </svg>\r\n                </a>\r\n                </div>\r\n                <div className=\"relative inline-flex items-center justify-center gap-4 group\">\r\n                    <div\r\n                        className=\"absolute inset-0 duration-1000 opacity-60 transitiona-all bg-gradient-to-r from-indigo-500 via-pink-500 to-yellow-400 rounded-xl blur-lg filter group-hover:opacity-100 group-hover:duration-200\"\r\n                    ></div>\r\n                    <a\r\n                        role=\"button\"\r\n                        className=\"group relative inline-flex items-center justify-center text-base rounded-xl bg-gray-900 px-8 py-3 font-semibold text-white transition-all duration-200 hover:bg-gray-800 hover:shadow-lg hover:-translate-y-0.5 hover:shadow-gray-600/30\"\r\n                        title=\"Next Project\"\r\n                        onClick={goToNextProject}\r\n                        href=\"#\"\r\n                        >Next <svg aria-hidden=\"true\" viewBox=\"0 0 10 10\" height=\"10\" width=\"10\" fill=\"none\" className=\"mt-0.5 ml-2 -mr-1 stroke-white stroke-2\" >  <path d=\"M0 5h7\" className=\"transition opacity-0 group-hover:opacity-100\" ></path>  <path d=\"M1 1l4 4-4 4\" className=\"transition group-hover:translate-x-[3px]\" ></path></svg>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n};\r\nconst API_ENDPOINT = 'https://hrms.anasolconsultancyservices.com/api/employee/project';\r\nconst ProjectForm = ({ onClose, editProject = null, onSuccess = () => {} }) => {\r\n   const [formData, setFormData] = useState({\r\n     title: '',\r\n     description: '',\r\n     projectPriority: 'Medium',\r\n     projectStatus: 'Not Started',\r\n     startDate: '',\r\n     endDate: '',\r\n     openTask: 0,\r\n     closedTask: 0,\r\n     teamLeadId: [''],\r\n   });\r\n   const statusOptions = [\r\n    { value: 'IN_PROGRESS', label: 'In Progress' },\r\n    { value: 'COMPLETED', label: 'Completed' },\r\n    { value: 'NOT_STARTED', label: 'Not Started' },\r\n  ];\r\n   const [fileAttachment, setFileAttachment] = useState(null);\r\n   const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [rawErrorDetail, setRawErrorDetail] = useState(null);\r\n   const [submissionMessage, setSubmissionMessage] = useState('');\r\n  useEffect(() => {\r\n    if (!editProject) return;\r\n    setFormData({\r\n      title: editProject.title || editProject.project_name || editProject.title || '',\r\n      description: editProject.description || '',\r\n      projectPriority: editProject.projectPriority || editProject.Priority || 'Medium',\r\n      projectStatus: editProject.projectStatus || editProject.status || 'Not Started',\r\n      startDate: editProject.startDate || editProject.start_date || '',\r\n      endDate: editProject.endDate || editProject.end_date || '',\r\n      openTask: editProject.openTask ?? editProject.Open_task ?? 0,\r\n      closedTask: editProject.closedTask ?? editProject.Closed_task ?? 0,\r\n      teamLeadId: Array.isArray(editProject.teamLeadId) ? editProject.teamLeadId : (editProject.teamLeadId ? [String(editProject.teamLeadId)] : (editProject.Team_Lead ? [String(editProject.Team_Lead)] : [''])),\r\n    });\r\n    setFileAttachment(null);\r\n  }, [editProject]);\r\n   const handleChange = (e) => {\r\n     const { name, value } = e.target;\r\n     const processedValue = (name === 'openTask' || name === 'closedTask') ? parseInt(value) || 0 : value;\r\n     setFormData((prev) => ({ ...prev, [name]: processedValue }));\r\n   };\r\n   const handleFileChange = (e) => setFileAttachment(e.target.files?.[0] || null);\r\n   const handleTeamLeadChange = (e, idx) => {\r\n     const arr = [...formData.teamLeadId];\r\n     arr[idx] = e.target.value;\r\n     setFormData(prev => ({ ...prev, teamLeadId: arr }));\r\n   };\r\n   const submitProject = async (e) => {\r\n     e.preventDefault();\r\n     setIsSubmitting(true);\r\n     setSubmissionMessage('');\r\n     setRawErrorDetail(null);\r\n     const dto = {\r\n       title: formData.title,\r\n       description: formData.description,\r\n       projectPriority: formData.projectPriority,\r\n       projectStatus: formData.projectStatus,\r\n       startDate: formData.startDate,\r\n       endDate: formData.endDate,\r\n       openTask: Number(formData.openTask || 0),\r\n       closedTask: Number(formData.closedTask || 0),\r\n       teamLeadId: formData.teamLeadId.filter(Boolean),\r\n     };\r\n     const fd = new FormData();\r\n     fd.append('projectDTO', new Blob([JSON.stringify(dto)], { type: 'application/json' }));\r\n     if (fileAttachment) fd.append('details', fileAttachment, fileAttachment.name);\r\n     const token = localStorage.getItem('accessToken');\r\n     if (!token) {\r\n       setSubmissionMessage(' Authentication token missing. Please login.');\r\n       setIsSubmitting(false);\r\n       return;\r\n     }\r\n     try {\r\n      const url = editProject && (editProject.projectId || editProject.project_id)\r\n        ? `${API_ENDPOINT}/${editProject.projectId || editProject.project_id}`\r\n        : API_ENDPOINT;\r\n      const method = editProject ? 'PUT' : 'POST';\r\n            // include Accept header so backend returns JSON/text consistently\r\n      const res = await fetch(url, {\r\n        method,\r\n        headers: { Authorization: `Bearer ${token}`, Accept: 'application/json' },\r\n        body: fd,\r\n      });\r\n      // read raw text then try to parse JSON (safer for non-JSON error responses)\r\n      const raw = await res.text().catch(() => '');\r\n      let errorBody = null;\r\n      try { errorBody = raw ? JSON.parse(raw) : null; } catch (e) { errorBody = null; }\r\n      if (!res.ok) {\r\n        // surface validationErrors if present\r\n        if (errorBody?.validationErrors) {\r\n          const ve = Object.entries(errorBody.validationErrors).map(([k,v]) => `${k}: ${v}`).join('\\n');\r\n          setSubmissionMessage(` Validation failed:\\n${ve}`);\r\n        } else {\r\n          const message = errorBody?.message || raw || res.statusText || `Status ${res.status}`;\r\n          setSubmissionMessage(` Submission failed (${res.status}): ${message}`);\r\n        }\r\n        console.error('Project submit failed', { status: res.status, body: errorBody ?? raw });\r\n        setRawErrorDetail(raw || JSON.stringify(errorBody) || null);\r\n      } else {\r\n        setSubmissionMessage(editProject ? ' Project updated successfully!' : ' Project created successfully!');\r\n         setFormData({\r\n           title: '', description: '', projectPriority: 'Medium', projectStatus: 'Not Started',\r\n           startDate: '', endDate: '', openTask: 0, closedTask: 0, teamLeadId: [''],\r\n         });\r\n         setFileAttachment(null);\r\n          setTimeout(() => {\r\n           try { onSuccess(); } catch {}\r\n           try { onClose(); } catch {}\r\n         }, 600);\r\n       }\r\n         } catch (err) {\r\n       console.error(err);\r\n      setSubmissionMessage(` An error occurred: ${err.message}`);\r\n      setRawErrorDetail((err && err.stack) ? String(err.stack) : String(err));\r\n     } finally {\r\n       setIsSubmitting(false);\r\n     }\r\n   };\r\n   const inputClass = \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150\";\r\n   const labelClass = \"block text-sm font-medium text-gray-700 mb-1\";\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4\">\r\n      <motion.form onSubmit={submitProject} className=\"bg-white p-6 rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto\" >\r\n       <button \r\n             type=\"button\" \r\n             onClick={onClose} \r\n             className=\"absolute w-6 h-6 top-4 right-4 text-gray-400 hover:text-gray-600 text-3xl font-bold p-1 leading-none\"\r\n         >\r\n             &times;\r\n         </button>\r\n        <h1 className=\"text-3xl font-extrabold text-blue-700 border-b pb-3 mb-6 sticky top-0 bg-white z-10\">\r\n          {editProject ? 'Edit Project' : 'Create New Project'}\r\n        </h1>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n           <label htmlFor=\"title\" className={labelClass}>Project Title <span className=\"text-red-500\">*</span></label>\r\n            <input name=\"title\" value={formData.title} onChange={handleChange} required className={inputClass} />\r\n          </div>\r\n          <div>\r\n             <label htmlFor=\"startDate\" className={labelClass}>Start Date <span className=\"text-red-500\">*</span></label>\r\n            <input name=\"startDate\" type=\"date\" value={formData.startDate} onChange={handleChange} className={inputClass} />\r\n          </div>\r\n          <div>\r\n          <label htmlFor=\"endDate\" className={labelClass}>End Date <span className=\"text-red-500\">*</span></label>\r\n            <input name=\"endDate\" type=\"date\" value={formData.endDate} onChange={handleChange} className={inputClass} />\r\n          </div>\r\n          <div>\r\n            <label className={labelClass}>Priority</label>\r\n            <select name=\"projectPriority\" value={formData.projectPriority} onChange={handleChange} className={inputClass}>\r\n              <option>Low</option><option>Medium</option><option>High</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className={labelClass}>Status</label>\r\n            <select name=\"projectStatus\" value={formData.projectStatus} onChange={handleChange} className={inputClass}>\r\n              {statusOptions.map(o => <option key={o.value} value={o.value}>{o.label}</option>)}\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-4\">\r\n          <label htmlFor=\"description\" className={labelClass}>Description <span className=\"text-red-500\">*</span></label>\r\n          <textarea name=\"description\" rows=\"4\" value={formData.description} onChange={handleChange} className={inputClass} />\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\r\n          <div>\r\n            <label className={labelClass}>Open Tasks</label>\r\n            <input name=\"openTask\" type=\"number\" min=\"0\" value={formData.openTask} onChange={handleChange} className={inputClass} />\r\n          </div>\r\n          <div>\r\n            <label className={labelClass}>Closed Tasks</label>\r\n            <input name=\"closedTask\" type=\"number\" min=\"0\" value={formData.closedTask} onChange={handleChange} className={inputClass} />\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-4\">\r\n          <label className={labelClass}>Team Lead ID</label>\r\n          <input name=\"teamLead\" value={formData.teamLeadId[0]} onChange={(e) => handleTeamLeadChange(e, 0)} className={inputClass} placeholder=\"e.g., EMP-005\" />\r\n        </div>\r\n        <div className=\"mt-4 border-t pt-4\">\r\n          <label className={`${labelClass} text-base`}>Details (attach file)</label>\r\n          <input type=\"file\" onChange={handleFileChange} className=\"mt-2\" />\r\n          {fileAttachment && <p className=\"text-sm mt-2\">Selected: <strong>{fileAttachment.name}</strong></p>}\r\n        </div>\r\n        <div className=\"flex justify-end gap-3 mt-6\">\r\n          <button type=\"button\" onClick={onClose} className=\"px-4 py-2 border rounded\">Cancel</button>\r\n          <button type=\"submit\" disabled={isSubmitting} className=\"px-4 py-2 bg-blue-600 text-white rounded\">\r\n            {isSubmitting ? 'Creating...' : 'Create Project'}\r\n          </button>\r\n        </div>\r\n        {submissionMessage && (\r\n          <p className={`mt-4 p-2 rounded ${submissionMessage.startsWith('') ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`}>{submissionMessage}</p>\r\n        )}\r\n         {rawErrorDetail && (\r\n          <div className=\"mt-3 p-3 bg-gray-50 rounded border text-xs text-gray-700\">\r\n            <div className=\"font-semibold mb-1\">Server debug:</div>\r\n            <pre className=\"whitespace-pre-wrap break-words\">{rawErrorDetail}</pre>\r\n            <div className=\"flex gap-2 mt-3\">\r\n              <button type=\"button\" onClick={() => { setRawErrorDetail(null); setSubmissionMessage(''); }} className=\"px-3 py-1 border rounded\">Dismiss</button>\r\n              <button type=\"button\" onClick={submitProject} disabled={isSubmitting} className=\"px-3 py-1 bg-blue-600 text-white rounded\">Retry</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </motion.form>\r\n    </div>\r\n  );\r\n};\r\nconst getAccessToken = () => {\r\n    return localStorage.getItem('accessToken'); \r\n}\r\nconst API_BASE_URL = 'https://hrms.anasolconsultancyservices.com/api/employee'; \r\nconst fetchProjects = async (page, size, token, employeeId = null) => {\r\n    if (!token) throw new Error(\"Authentication token missing.\");\r\n    const url = employeeId\r\n      ? `${API_BASE_URL}/projects/${encodeURIComponent(employeeId)}`\r\n      : `${API_BASE_URL}/${page}/${size}/projectId/asc/projects`;\r\n    \r\n    const response = await fetch(url, {\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n        },\r\n    });\r\n    if (!response.ok) {\r\n        if (response.status === 401) {\r\n            throw new Error(\"Unauthorized: Token expired or invalid. Please log in again.\");\r\n        }\r\n        const errorBody = await response.json().catch(() => ({ message: response.statusText }));\r\n        throw new Error(`API Error: ${errorBody.message || response.statusText}`);\r\n    }\r\n    return response.json();\r\n};\r\nfunction Project() {\r\n    const { userData, theme } = useContext(Context);\r\n    const role = (userData?.roles?.[0] || \"\").toUpperCase();\r\n    const showSidebar = [\"TEAM_LEAD\", \"HR\", \"MANAGER\",\"ADMIN\"].includes(role);\r\n     const [loggedPermissiondata,setLoggedPermissionData]=useState([]);\r\n          const [matchedArray,setMatchedArray]=useState(null);\r\n           const LoggedUserRole=userData?.roles[0]?`ROLE_${userData?.roles[0]}`:null\r\n           useEffect(()=>{\r\n             let fetchedData=async()=>{\r\n                     let response = await authApi.get(`role-access/${LoggedUserRole}`);\r\n                     console.log(\"from MyTeam :\",response.data);\r\n                     setLoggedPermissionData(response.data);\r\n             }\r\n             fetchedData();\r\n             },[])\r\n        \r\n             useEffect(()=>{\r\n             if(loggedPermissiondata){\r\n                 setMatchedArray(loggedPermissiondata?.permissions)\r\n             }\r\n             },[loggedPermissiondata]);\r\n             console.log(matchedArray);\r\n             const [hasAccess,setHasAccess]=useState([])\r\n                   useEffect(()=>{\r\n                       setHasAccess(userData?.permissions)\r\n                   },[userData])\r\n                   console.log(\"permissions from userdata:\",hasAccess)\r\n    const [projectTableData, setProjectTableData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [paginationInfo, setPaginationInfo] = useState({\r\n        pageNumber: 0,\r\n        pageSize: 11,\r\n        totalElements: 0,\r\n        totalPages: 1,\r\n    });\r\n    const [showCreateForm, setShowCreateForm] = useState(false);\r\n    const [statusFilter, setStatusFilter] = useState(\"All\");\r\n    const navigate = useNavigate();\r\n     const loadProjects = useCallback(async (page, size) => {\r\n        setLoading(true);\r\n        setError(null);\r\n        const token = getAccessToken();\r\n        try {\r\n            const rawRole = Array.isArray(userData?.roles) ? userData.roles[0] : userData?.roles || \"\";\r\n            const normalizedRole = typeof rawRole === \"string\" ? rawRole.toUpperCase().replace(/^ROLE_/, \"\") : \"\";\r\n            const isAdmin = normalizedRole === 'ADMIN';\r\n            const employeeId = (!isAdmin && userData?.employeeId) ? userData.employeeId : null;\r\n            const data = await fetchProjects(page, size, token, employeeId);\r\n            if (employeeId && Array.isArray(data)) {\r\n                setProjectTableData(data || []);\r\n                setPaginationInfo(prev => ({ ...prev, totalElements: data.length || 0 }));\r\n            } else {\r\n                setProjectTableData(data.content || data || []);\r\n                setPaginationInfo({\r\n                    pageNumber: typeof data.pageNumber !== 'undefined' ? data.pageNumber : page,\r\n                    pageSize: typeof data.pageSize !== 'undefined' ? data.pageSize : size,\r\n                    totalElements: typeof data.totalElements !== 'undefined' ? data.totalElements : (Array.isArray(data) ? data.length : 0),\r\n                    totalPages: typeof data.totalPages !== 'undefined' ? data.totalPages : 1,\r\n                });\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Failed to load projects:\", err);\r\n            setError(err.message);\r\n            setProjectTableData([]); \r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [userData]); \r\n    useEffect(() => {\r\n        loadProjects(paginationInfo.pageNumber, paginationInfo.pageSize);\r\n    }, [loadProjects, paginationInfo.pageNumber, paginationInfo.pageSize]);\r\n    const handleRowClick = (proj) => {\r\n        const idKey = proj.projectId || proj.project_id; \r\n        try { localStorage.setItem('selectedProjectId', idKey); } catch {}\r\n        navigate(`/project-details/${idKey}`, { state: { project: proj } });\r\n    };\r\n    const handlePageChange = (newPage) => {\r\n        if (newPage >= 0 && newPage < paginationInfo.totalPages) {\r\n            setPaginationInfo(prev => ({ ...prev, pageNumber: newPage }));\r\n        }\r\n    };\r\n    const getPriorityColor = (priority) => {\r\n        switch (priority) {\r\n            case \"High\": return \"bg-green-100 text-green-800\";\r\n            case \"Medium\": return \"bg-orange-100 text-orange-800\";\r\n            case \"Low\": return \"bg-red-100 text-red-800\";\r\n            default: return \"bg-gray-100 text-gray-800\";\r\n        }\r\n    };\r\n    const getStatusColor = (status) => {\r\n        switch (status) {\r\n            case \"In Progress\": return \"bg-green-100 text-green-800\";\r\n            case \"Ongoing\": return \"bg-blue-100 text-blue-800\";\r\n            case \"Upcoming\": return \"bg-yellow-100 text-yellow-800\";\r\n            case \"Completed\": return \"bg-purple-100 text-purple-800\";\r\n            default: return \"bg-gray-100 text-gray-800\";\r\n        }\r\n    };\r\n       const getTeamLeadDisplay = (proj) => {\r\n        if (!proj) return \"N/A\";\r\n        if (Array.isArray(proj.teamLeadId) && proj.teamLeadId.length) return proj.teamLeadId.join(', ');\r\n        if (Array.isArray(proj.TeamLeadId) && proj.TeamLeadId.length) return proj.TeamLeadId.join(', ');\r\n        if (proj.teamLeadId) return String(proj.teamLeadId);\r\n        if (proj.TeamLeadId) return String(proj.TeamLeadId);\r\n        if (proj.TeamLead) return String(proj.TeamLead);\r\n        if (proj.Team_Lead) return String(proj.Team_Lead);\r\n        return \"N/A\";\r\n    };\r\n    const handleProjectSubmissionSuccess = () => {\r\n        setShowCreateForm(false);\r\n        loadProjects(paginationInfo.pageNumber, paginationInfo.pageSize); \r\n    };\r\n     const handleEditClick = (e, proj) => {\r\n        e.stopPropagation();\r\n        setShowCreateForm(true);\r\n        setEditTarget(proj);\r\n    };\r\n   const deleteProjectById = async (proj) => {\r\n    if (!proj) return alert('Select a project to delete.');\r\n    const id = proj.projectId || proj.project_id;\r\n    if (!id) return alert('Missing project id');\r\n    if (!window.confirm(`Delete project ${id}? This cannot be undone.`)) return;\r\n    const token = localStorage.getItem('accessToken');\r\n    if (!token) return alert('Missing auth token. Login required.');\r\n    try {\r\n      const resp = await fetch(`${API_ENDPOINT}/${id}`, {\r\n        method: 'DELETE',\r\n        headers: { Authorization: `Bearer ${token}`, 'Content-Type': 'application/json' }\r\n      });\r\n      const body = await resp.json().catch(() => null);\r\n      if (!resp.ok) {\r\n        if (resp.status === 500 && body?.error && /foreign key/i.test(body.error)) {\r\n          return alert(`Delete failed: ${body.message || 'Project has related data.'}\\nDelete related dependent resources first.`);\r\n        }\r\n        if (body?.validationErrors) {\r\n          const ve = Object.entries(body.validationErrors).map(([k,v]) => `${k}: ${v}`).join('\\n');\r\n          return alert(`Delete failed: ${body.message || resp.statusText}\\n${ve}`);\r\n        }\r\n        throw new Error(body?.message || resp.statusText || `Status ${resp.status}`);\r\n      }\r\n      // refresh list and clear selection\r\n      setSelectedRow(null);\r\n      loadProjects(paginationInfo.pageNumber, paginationInfo.pageSize);\r\n    } catch (err) {\r\n      console.error('Delete failed', err);\r\n      alert('Delete failed: ' + (err.message || 'Unknown error'));\r\n    }\r\n  };\r\n  const handleGlobalEdit = () => {\r\n    if (!selectedRow) return alert('Select a project first (click the select icon on a row).');\r\n    setEditTarget(selectedRow);\r\n    setShowCreateForm(true);\r\n  };\r\n  const handleGlobalCreate = () => {\r\n    setEditTarget(null);\r\n    setShowCreateForm(true);\r\n  };\r\n  const handleGlobalDelete = () => deleteProjectById(selectedRow);\r\n    const [editTarget, setEditTarget] = useState(null);\r\n     const [selectedRow, setSelectedRow] = useState(null);\r\n    const filteredProjects = projectTableData.filter(\r\n        (proj) => statusFilter === \"All\" || proj.projectStatus === statusFilter\r\n    );\r\n     const handleSelectRow = (proj, e) => {\r\n    if (e && e.stopPropagation) e.stopPropagation();\r\n    setSelectedRow(proj);\r\n  };\r\n   return (\r\n        <motion.div  className={`p-6 rounded-2xl shadow-2xl border border-purple-500 relative ${theme === 'dark' ? 'bg-gray-800' : 'bg-gradient-to-br from-purple-10 to-purple-50 '}`}>\r\n            <div className=\"flex justify-between items-center mb-4 border-b pb-4\">\r\n                <h2 className={`text-3xl font-extrabold ${theme === 'dark' ? 'text-purple-400' : 'text-purple-800'}`}>  Project Overview</h2>\r\n                <div className=\"flex items-center gap-2\">\r\n                  {(matchedArray || []).includes(\"CREATE_PROJECT\") && (\r\n                    <button title=\"Create Project\" onClick={handleGlobalCreate} className=\"p-2 rounded-md bg-green-600 text-white hover:bg-green-700\" >\r\n                      <FaPlus />\r\n                    </button>\r\n                  )}\r\n                  <button title=\"Edit selected\" onClick={handleGlobalEdit} disabled={!selectedRow} className={`p-2 rounded-md ${selectedRow ? 'bg-yellow-500 text-white hover:bg-yellow-600' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}>\r\n                    <FiEdit />\r\n                  </button>\r\n                  <button title=\"Delete selected\" onClick={handleGlobalDelete} disabled={!selectedRow} className={`p-2 rounded-md ${selectedRow ? 'bg-red-600 text-white hover:bg-red-700' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}>\r\n                    <FiDelete />\r\n                  </button>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n                <select value={statusFilter} onChange={(e) => setStatusFilter(e.target.value)} className={`min-w-[150px] border-2 border-purple-400 font-medium rounded-xl px-4 py-2 text-sm shadow-inner transition ${theme === 'dark' ? 'bg-gray-700 text-purple-200 focus:border-purple-500' : 'bg-white text-purple-800 focus:border-purple-600'}`} >\r\n                    <option value=\"All\" className={`${theme === 'dark' ? 'bg-gray-900' : 'bg-white'}`}>All Statuses</option>\r\n                    <option value=\"In Progress\" className={`${theme === 'dark' ? 'bg-gray-900' : 'bg-white'}`}>InProgress</option>\r\n                    <option value=\"Completed\" className={`${theme === 'dark' ? 'bg-gray-900' : 'bg-white'}`}>Completed</option>\r\n                    <option value=\"Not Started\" className={`${theme === 'dark' ? 'bg-gray-900' : 'bg-white'}`}>NotStarted</option>\r\n                </select>\r\n                {loading && <p className={`text-base ${theme === 'dark' ? 'text-purple-300' : 'text-purple-700'}`}>Loading projects...</p>}\r\n                {error && <p className=\"text-red-500 font-semibold text-base\">Error: {error}</p>}\r\n            </div>\r\n            <div className=\"overflow-x-auto rounded-xl shadow-2xl\">\r\n                <table className={`min-w-full divide-y divide-gray-200 ${theme === 'dark' ? 'bg-gray-700' : 'bg-white'}`}>\r\n                    <thead className={`text-left uppercase tracking-wider text-xs sm:text-sm ${theme === 'dark' ? 'bg-gray-700 text-purple-300 border-b border-purple-500' : 'bg-purple-100 text-purple-800'}`}>\r\n                        <tr>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\">Project</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\">Team Lead</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\"><FaCalendarAlt className=\"inline mr-1\" />Start</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\"><FaCalendarAlt className=\"inline mr-1\" />End</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\">Priority</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\">Status</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\">Open/Closed</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\">Details</th>\r\n                            \r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className={`divide-y divide-gray-100 ${theme === 'dark' ? 'divide-gray-600' : 'bg-white'}`}>\r\n                        <AnimatePresence mode=\"wait\">\r\n                            {filteredProjects.length > 0 ? (\r\n                                filteredProjects\r\n                                .map((proj, index) => \r\n                                    <motion.tr key={proj.projectId || proj.project_id} className={`border-t border-gray-100 ${theme === 'dark' ? 'text-gray-100 hover:bg-gray-600' : 'text-gray-800 hover:bg-purple-50'} cursor-pointer transition duration-150`} onClick={() => handleRowClick(proj)} >\r\n                                        <td className=\"py-3 px-4 text-sm font-bold max-w-[200px] whitespace-normal\"><button onClick={(e)=>handleSelectRow(proj,e)} className={`mr-2 px-2 py-1 rounded ${selectedRow===proj ? 'bg-indigo-600 text-white' : 'bg-gray-100 text-gray-700'}`}>  {selectedRow===proj ? 'Selected' : 'Select'}</button>{proj.title || proj.project_name}</td>\r\n                                        <td className=\"py-3 px-4 text-sm max-w-[150px] font-medium text-gray-600 whitespace-normal\">  {getTeamLeadDisplay(proj)}</td>\r\n                                        <td className=\"py-3 px-4 text-xs sm:text-sm whitespace-nowrap\">{proj.startDate}</td>\r\n                                        <td className=\"py-3 px-4 text-xs sm:text-sm whitespace-nowrap\">{proj.endDate}</td>\r\n                                        <td onClick={e => { e.stopPropagation()}} className=\"py-3 px-4\"><span className={`px-2 py-1 rounded-full text-xs font-semibold shadow-sm ${getPriorityColor(proj.projectPriority || proj.Priority)}`}>  {proj.projectPriority || proj.Priority}</span></td>\r\n                                        <td onClick={e => { e.stopPropagation()}} className=\"py-3 px-4\"><span className={`px-2 py-1 rounded-full text-xs font-semibold shadow-sm ${getStatusColor(proj.projectStatus || proj.status)}`}>  {proj.projectStatus || proj.status}</span></td>\r\n                                        <td onClick={e => { e.stopPropagation()}} className=\"py-3 px-4 text-sm whitespace-nowrap\"><span className=\"text-blue-600 font-semibold\">{proj.openTask || proj.Open_task || 0}</span> / <span className=\"text-gray-500\">{proj.closedTask || proj.Closed_task || 0}</span></td>\r\n                                        <td onClick={e => { e.stopPropagation()}} className=\"py-3 px-4 text-center\"><a href={proj.details || proj.Details} target=\"_blank\" rel=\"noopener noreferrer\" onClick={e=>e.stopPropagation()}><motion.div whileHover={{ scale: 1.2 }}>  <FaFileAlt className={`${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'} text-lg transition`} /></motion.div></a></td>\r\n                                    </motion.tr>\r\n                                )\r\n                            ) : (\r\n                                <tr><td colSpan=\"8\" className={`p-10 text-center text-lg ${theme === 'dark' ? 'text-gray-300' : 'text-gray-500'}`}>{loading ? 'Fetching data...' : 'No projects found matching the filter.'}</td></tr>\r\n                            )}\r\n                        </AnimatePresence>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div className={`flex flex-col sm:flex-row justify-between items-center mt-6 p-3 rounded-xl ${theme === 'dark' ? 'bg-gray-700 border border-gray-600 text-white' : 'bg-white border border-gray-200 text-gray-700'} shadow-md`}>\r\n                <span className=\"text-sm mb-2 sm:mb-0\"> Showing {projectTableData.length} projects out of {paginationInfo.totalElements} total </span>\r\n                <div className=\"flex space-x-2\">\r\n                    <button onClick={() => handlePageChange(paginationInfo.pageNumber - 1)} disabled={paginationInfo.pageNumber === 0} className=\"px-3 py-1 rounded-lg text-sm bg-purple-200 text-purple-800 hover:bg-purple-300 disabled:opacity-50 disabled:cursor-not-allowed transition\" >     &larr; Previous </button>\r\n                    <span className=\"px-3 py-1 rounded-lg text-sm bg-purple-600 text-white font-bold\">{paginationInfo.pageNumber + 1} / {paginationInfo.totalPages}</span>\r\n                    <button onClick={() => handlePageChange(paginationInfo.pageNumber + 1)} disabled={paginationInfo.pageNumber >= paginationInfo.totalPages - 1} className=\"px-3 py-1 rounded-lg text-sm bg-purple-200 text-purple-800 hover:bg-purple-300 disabled:opacity-50 disabled:cursor-not-allowed transition\" >     Next &rarr; </button>\r\n                </div>\r\n            </div>\r\n            <AnimatePresence>\r\n                {showCreateForm && (\r\n                  <ProjectForm\r\n                    onClose={() => { setShowCreateForm(false); setEditTarget(null); }}\r\n                    editProject={editTarget}\r\n                    onSuccess={() => { setShowCreateForm(false); setEditTarget(null); loadProjects(paginationInfo.pageNumber, paginationInfo.pageSize); }}\r\n                  />\r\n                )}\r\n            </AnimatePresence>\r\n        </motion.div>\r\n    );\r\n}\r\nconst ProjectDashboard = () => {\r\n    const {theme } = useContext(Context);\r\n    return (\r\n        <div className={`min-h-screen bg-gray-50 p-4 sm:p-8 ${theme===\"dark\"?\"bg-gray-900\":\"bg-gray-50 \"}`}>\r\n            <div className=\"mb-8\">\r\n                <ProjectCard />\r\n            </div>\r\n            <div>\r\n                <Project />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProjectDashboard;","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import * as React from 'react';\n\n/**\n * Taken from https://github.com/radix-ui/primitives/blob/main/packages/react/compose-refs/src/compose-refs.tsx\n */\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        return ref(value);\n    }\n    else if (ref !== null && ref !== undefined) {\n        ref.current = value;\n    }\n}\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs(...refs) {\n    return (node) => {\n        let hasCleanup = false;\n        const cleanups = refs.map((ref) => {\n            const cleanup = setRef(ref, node);\n            if (!hasCleanup && typeof cleanup === \"function\") {\n                hasCleanup = true;\n            }\n            return cleanup;\n        });\n        // React <19 will log an error to the console if a callback ref returns a\n        // value. We don't use ref cleanups internally so this will only happen if a\n        // user's ref callback returns a value, which we only expect if they are\n        // using the cleanup functionality added in React 19.\n        if (hasCleanup) {\n            return () => {\n                for (let i = 0; i < cleanups.length; i++) {\n                    const cleanup = cleanups[i];\n                    if (typeof cleanup === \"function\") {\n                        cleanup();\n                    }\n                    else {\n                        setRef(refs[i], null);\n                    }\n                }\n            };\n        }\n    };\n}\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs(...refs) {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { useComposedRefs };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport { isHTMLElement } from 'motion-dom';\nimport * as React from 'react';\nimport { useId, useRef, useContext, useInsertionEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { useComposedRefs } from '../../utils/use-composed-ref.mjs';\n\n/**\n * Measurement functionality has to be within a separate component\n * to leverage snapshot lifecycle.\n */\nclass PopChildMeasure extends React.Component {\n    getSnapshotBeforeUpdate(prevProps) {\n        const element = this.props.childRef.current;\n        if (element && prevProps.isPresent && !this.props.isPresent) {\n            const parent = element.offsetParent;\n            const parentWidth = isHTMLElement(parent)\n                ? parent.offsetWidth || 0\n                : 0;\n            const size = this.props.sizeRef.current;\n            size.height = element.offsetHeight || 0;\n            size.width = element.offsetWidth || 0;\n            size.top = element.offsetTop;\n            size.left = element.offsetLeft;\n            size.right = parentWidth - size.width - size.left;\n        }\n        return null;\n    }\n    /**\n     * Required with getSnapshotBeforeUpdate to stop React complaining.\n     */\n    componentDidUpdate() { }\n    render() {\n        return this.props.children;\n    }\n}\nfunction PopChild({ children, isPresent, anchorX, root }) {\n    const id = useId();\n    const ref = useRef(null);\n    const size = useRef({\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n        right: 0,\n    });\n    const { nonce } = useContext(MotionConfigContext);\n    const composedRef = useComposedRefs(ref, children?.ref);\n    /**\n     * We create and inject a style block so we can apply this explicit\n     * sizing in a non-destructive manner by just deleting the style block.\n     *\n     * We can't apply size via render as the measurement happens\n     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the\n     * styles directly on the DOM node, we might be overwriting\n     * styles set via the style prop.\n     */\n    useInsertionEffect(() => {\n        const { width, height, top, left, right } = size.current;\n        if (isPresent || !ref.current || !width || !height)\n            return;\n        const x = anchorX === \"left\" ? `left: ${left}` : `right: ${right}`;\n        ref.current.dataset.motionPopId = id;\n        const style = document.createElement(\"style\");\n        if (nonce)\n            style.nonce = nonce;\n        const parent = root ?? document.head;\n        parent.appendChild(style);\n        if (style.sheet) {\n            style.sheet.insertRule(`\n          [data-motion-pop-id=\"${id}\"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            ${x}px !important;\n            top: ${top}px !important;\n          }\n        `);\n        }\n        return () => {\n            if (parent.contains(style)) {\n                parent.removeChild(style);\n            }\n        };\n    }, [isPresent]);\n    return (jsx(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size, children: React.cloneElement(children, { ref: composedRef }) }));\n}\n\nexport { PopChild };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, anchorX, root }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    let isReusedContext = true;\n    let context = useMemo(() => {\n        isReusedContext = false;\n        return {\n            id,\n            initial,\n            isPresent,\n            custom,\n            onExitComplete: (childId) => {\n                presenceChildren.set(childId, true);\n                for (const isComplete of presenceChildren.values()) {\n                    if (!isComplete)\n                        return; // can stop searching when any is incomplete\n                }\n                onExitComplete && onExitComplete();\n            },\n            register: (childId) => {\n                presenceChildren.set(childId, false);\n                return () => presenceChildren.delete(childId);\n            },\n        };\n    }, [isPresent, presenceChildren, onExitComplete]);\n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    if (presenceAffectsLayout && isReusedContext) {\n        context = { ...context };\n    }\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = (jsx(PopChild, { isPresent: isPresent, anchorX: anchorX, root: root, children: children }));\n    }\n    return (jsx(PresenceContext.Provider, { value: context, children: children }));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { Children, isValidElement } from 'react';\n\nconst getChildKey = (child) => child.key || \"\";\nfunction onlyElements(children) {\n    const filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, (child) => {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n\nexport { getChildKey, onlyElements };\n","\"use client\";\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport { useMemo, useRef, useState, useContext } from 'react';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { usePresence } from './use-presence.mjs';\nimport { onlyElements, getChildKey } from './utils.mjs';\n\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nconst AnimatePresence = ({ children, custom, initial = true, onExitComplete, presenceAffectsLayout = true, mode = \"sync\", propagate = false, anchorX = \"left\", root }) => {\n    const [isParentPresent, safeToRemove] = usePresence(propagate);\n    /**\n     * Filter any children that aren't ReactElements. We can only track components\n     * between renders with a props.key.\n     */\n    const presentChildren = useMemo(() => onlyElements(children), [children]);\n    /**\n     * Track the keys of the currently rendered children. This is used to\n     * determine which children are exiting.\n     */\n    const presentKeys = propagate && !isParentPresent ? [] : presentChildren.map(getChildKey);\n    /**\n     * If `initial={false}` we only want to pass this to components in the first render.\n     */\n    const isInitialRender = useRef(true);\n    /**\n     * A ref containing the currently present children. When all exit animations\n     * are complete, we use this to re-render the component with the latest children\n     * *committed* rather than the latest children *rendered*.\n     */\n    const pendingPresentChildren = useRef(presentChildren);\n    /**\n     * Track which exiting children have finished animating out.\n     */\n    const exitComplete = useConstant(() => new Map());\n    /**\n     * Save children to render as React state. To ensure this component is concurrent-safe,\n     * we check for exiting children via an effect.\n     */\n    const [diffedChildren, setDiffedChildren] = useState(presentChildren);\n    const [renderedChildren, setRenderedChildren] = useState(presentChildren);\n    useIsomorphicLayoutEffect(() => {\n        isInitialRender.current = false;\n        pendingPresentChildren.current = presentChildren;\n        /**\n         * Update complete status of exiting children.\n         */\n        for (let i = 0; i < renderedChildren.length; i++) {\n            const key = getChildKey(renderedChildren[i]);\n            if (!presentKeys.includes(key)) {\n                if (exitComplete.get(key) !== true) {\n                    exitComplete.set(key, false);\n                }\n            }\n            else {\n                exitComplete.delete(key);\n            }\n        }\n    }, [renderedChildren, presentKeys.length, presentKeys.join(\"-\")]);\n    const exitingChildren = [];\n    if (presentChildren !== diffedChildren) {\n        let nextChildren = [...presentChildren];\n        /**\n         * Loop through all the currently rendered components and decide which\n         * are exiting.\n         */\n        for (let i = 0; i < renderedChildren.length; i++) {\n            const child = renderedChildren[i];\n            const key = getChildKey(child);\n            if (!presentKeys.includes(key)) {\n                nextChildren.splice(i, 0, child);\n                exitingChildren.push(child);\n            }\n        }\n        /**\n         * If we're in \"wait\" mode, and we have exiting children, we want to\n         * only render these until they've all exited.\n         */\n        if (mode === \"wait\" && exitingChildren.length) {\n            nextChildren = exitingChildren;\n        }\n        setRenderedChildren(onlyElements(nextChildren));\n        setDiffedChildren(presentChildren);\n        /**\n         * Early return to ensure once we've set state with the latest diffed\n         * children, we can immediately re-render.\n         */\n        return null;\n    }\n    if (process.env.NODE_ENV !== \"production\" &&\n        mode === \"wait\" &&\n        renderedChildren.length > 1) {\n        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to \"wait\". This will lead to odd visual behaviour.`);\n    }\n    /**\n     * If we've been provided a forceRender function by the LayoutGroupContext,\n     * we can use it to force a re-render amongst all surrounding components once\n     * all components have finished animating out.\n     */\n    const { forceRender } = useContext(LayoutGroupContext);\n    return (jsx(Fragment, { children: renderedChildren.map((child) => {\n            const key = getChildKey(child);\n            const isPresent = propagate && !isParentPresent\n                ? false\n                : presentChildren === renderedChildren ||\n                    presentKeys.includes(key);\n            const onExit = () => {\n                if (exitComplete.has(key)) {\n                    exitComplete.set(key, true);\n                }\n                else {\n                    return;\n                }\n                let isEveryExitComplete = true;\n                exitComplete.forEach((isExitComplete) => {\n                    if (!isExitComplete)\n                        isEveryExitComplete = false;\n                });\n                if (isEveryExitComplete) {\n                    forceRender?.();\n                    setRenderedChildren(pendingPresentChildren.current);\n                    propagate && safeToRemove?.();\n                    onExitComplete && onExitComplete();\n                }\n            };\n            return (jsx(PresenceChild, { isPresent: isPresent, initial: !isInitialRender.current || initial\n                    ? undefined\n                    : false, custom: custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode, root: root, onExitComplete: isPresent ? undefined : onExit, anchorX: anchorX, children: child }, key));\n        }) }));\n};\n\nexport { AnimatePresence };\n"],"names":["SprintTable","_ref","projectId","theme","useContext","Context","sprints","setSprints","useState","loadingSprints","setLoadingSprints","error","setError","selectedSprint","setSelectedSprint","showCreate","setShowCreate","showEdit","setShowEdit","submitting","setSubmitting","form","setForm","sprintName","startDate","endDate","status","API_HOST","token","localStorage","getItem","persistTokenFromRes","async","res","body","authHeader","headers","get","storeAccessToken","accessToken","jwt","e","loadSprints","fetch","concat","encodeURIComponent","Accept","Authorization","undefined","ok","txt","text","catch","Error","json","Array","isArray","length","err","message","useEffect","_jsxs","className","children","_jsx","onClick","openCreate","title","FaPlus","openEdit","disabled","FiEdit","s","window","confirm","sprintId","sprint_id","id","method","alert","deleteSprint","FiDelete","map","idx","onSubmit","preventDefault","JSON","stringify","stopPropagation","type","placeholder","value","onChange","prev","_objectSpread","target","required","ProjectOverviewForm","_ref2","_initialData$manager","_initialData$manager2","mode","initialData","onClose","onSuccess","timeline_progress","client","total_cost","days_to_work","priority","startedOn","slice","manager_employeeId","manager","employeeId","manager_name","name","dueAlert","base","handleChange","k","payload","Number","url","bodyData","raw","String","startsWith","split","setItem","_unused","returnedToken","_unused2","persistReturnedToken","msg","statusText","console","APIBASE_URL","rawTokenOrHeader","ProjectDetails","paramProjectId","useParams","setProjectId","projectData","setProjectData","loading","setLoading","showUpdateOverview","setShowUpdateOverview","_unused3","response","data","fetchProjectData","role","InfoCard","updated","Date","toLocaleDateString","_ref3","projectDetails","ProjectCard","_progressSource$proje","_progressSource$proje2","_currentProject$overv","_ref0","userData","motion","_ref4","props","_objectWithoutProperties","_excluded","_ref6","_excluded3","_ref7","_excluded4","_ref8","_excluded5","rolesData","setRolesData","rolesLoading","setRolesLoading","localProjectData","setLocalProjectData","showCreateOverview","setShowCreateOverview","overviewSubmitting","setOverviewSubmitting","showSprintModal","setShowSprintModal","currentIndex","setCurrentIndex","carouselProjects","setCarouselProjects","loadingCarousel","setLoadingCarousel","currentProject","setCurrentProject","loadingProject","setLoadingProject","icon","color","progressSource","loadProjectDetailsById","calculateProgress","startDateStr","endDateStr","start","end","today","setHours","totalDuration","getTime","elapsedDuration","Math","min","round","pid","_carouselProjects$fin","_overviewBody$project","_kpiBody","_carouselProjects$fin2","getAccessToken","overviewUrl","overviewRes","overviewBody","rolesUrl","rolesRes","rolesBody","kpiBody","empId","kpiUrl","kpiRes","normalized","projectName","find","p","project_id","description","projectDescription","project_details","projectStatus","kpis","KPIs","overview","teamAllocation","roles","list","fetchProjects","arr","content","loadCarouselProjects","warn","mapped","g","count","employees","displayName","employeeName","image","employeeImage","loadRoles","getAvatarUrl","index","getStatusClasses","Object","keys","entries","_ref9","key","AnimatePresence","newData","team","teamMember","_teamMember$count","roleName","avatars","members","emp","avatarIndex","src","alt","from","_","href","viewBox","height","width","fill","d","next","API_ENDPOINT","ProjectForm","_ref1","editProject","formData","setFormData","projectPriority","openTask","closedTask","teamLeadId","fileAttachment","setFileAttachment","isSubmitting","setIsSubmitting","rawErrorDetail","setRawErrorDetail","submissionMessage","setSubmissionMessage","_ref10","_editProject$openTask","_ref11","_editProject$closedTa","project_name","Priority","start_date","end_date","Open_task","Closed_task","Team_Lead","processedValue","parseInt","submitProject","dto","filter","Boolean","fd","FormData","append","Blob","errorBody","parse","setTimeout","_unused4","_unused5","_errorBody","_errorBody3","validationErrors","ve","_ref12","v","join","_errorBody2","stack","inputClass","labelClass","htmlFor","label","o","rows","handleTeamLeadChange","_e$target$files","files","API_BASE_URL","page","size","arguments","Project","_userData$roles","toUpperCase","loggedPermissiondata","setLoggedPermissionData","includes","matchedArray","setMatchedArray","LoggedUserRole","authApi","log","fetchedData","permissions","hasAccess","setHasAccess","projectTableData","setProjectTableData","paginationInfo","setPaginationInfo","pageNumber","pageSize","totalElements","totalPages","showCreateForm","setShowCreateForm","statusFilter","setStatusFilter","navigate","useNavigate","loadProjects","useCallback","rawRole","normalizedRole","replace","handlePageChange","newPage","getPriorityColor","getStatusColor","getTeamLeadDisplay","proj","TeamLeadId","TeamLead","editTarget","setEditTarget","selectedRow","setSelectedRow","filteredProjects","div","handleGlobalCreate","handleGlobalEdit","handleGlobalDelete","resp","test","_ref13","deleteProjectById","FaCalendarAlt","tr","idKey","_unused6","state","project","handleRowClick","handleSelectRow","details","Details","rel","whileHover","scale","FaFileAlt","colSpan","ProjectDashboard","hasOwn","hasOwnProperty","classNames","classes","i","arg","appendClass","parseValue","apply","toString","prototype","call","newClass","module","exports","default","setRef","ref","current","useComposedRefs","_len2","refs","_key2","React","_len","_key","node","hasCleanup","cleanups","cleanup","composeRefs","PopChildMeasure","getSnapshotBeforeUpdate","prevProps","element","this","childRef","isPresent","parent","offsetParent","parentWidth","isHTMLElement","offsetWidth","sizeRef","offsetHeight","top","offsetTop","left","offsetLeft","right","componentDidUpdate","render","PopChild","anchorX","root","useId","useRef","nonce","MotionConfigContext","composedRef","useInsertionEffect","x","dataset","motionPopId","style","document","createElement","head","appendChild","sheet","insertRule","contains","removeChild","jsx","PresenceChild","initial","onExitComplete","custom","presenceAffectsLayout","presenceChildren","useConstant","newChildrenMap","isReusedContext","context","useMemo","childId","set","isComplete","values","register","delete","forEach","PresenceContext","Provider","Map","getChildKey","child","onlyElements","filtered","Children","isValidElement","push","propagate","isParentPresent","safeToRemove","usePresence","presentChildren","presentKeys","isInitialRender","pendingPresentChildren","exitComplete","diffedChildren","setDiffedChildren","renderedChildren","setRenderedChildren","useIsomorphicLayoutEffect","exitingChildren","nextChildren","splice","forceRender","LayoutGroupContext","Fragment","onExit","has","isEveryExitComplete","isExitComplete"],"sourceRoot":""}