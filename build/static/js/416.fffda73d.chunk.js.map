{"version":3,"file":"static/js/416.fffda73d.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/PayRoll/EmployeePayRoll.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef, useCallback } from 'react';\r\nimport { Context } from '../HrmsContext';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\n\r\nconst DetailField = React.memo(\r\n  ({\r\n    label,\r\n    name,\r\n    value,\r\n    isEditing,\r\n    onChange,\r\n    type = \"text\",\r\n    placeholder = \"\",\r\n    showLPA = false\r\n  }) => {\r\n    const [localValue, setLocalValue] = useState(value || \"\");\r\n    const timeoutRef = useRef(null);\r\n\r\n    const { theme } = useContext(Context);\r\n    const isDark = theme === \"dark\";\r\n\r\n    \r\n    useEffect(() => {\r\n      if (value !== localValue) {\r\n        setLocalValue(value || \"\");\r\n      }\r\n    }, [value]); \r\n\r\n    const handleChange = (e) => {\r\n      const newValue = e.target.value;\r\n      setLocalValue(newValue);\r\n\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n\r\n      timeoutRef.current = setTimeout(() => {\r\n        if (onChange) {\r\n          const syntheticEvent = {\r\n            target: {\r\n              name: name,\r\n              value: newValue,\r\n              type: type,\r\n            },\r\n          };\r\n          onChange(syntheticEvent);\r\n        }\r\n      }, 2000);\r\n    };\r\n\r\n    useEffect(() => {\r\n      return () => {\r\n        if (timeoutRef.current) {\r\n          clearTimeout(timeoutRef.current);\r\n        }\r\n      };\r\n    }, []);\r\n\r\n    return (\r\n      <div className=\"flex flex-col\">\r\n        <label className={`text-sm font-medium mb-1 ${isDark ? 'text-gray-300' : 'text-gray-600'}`}>\r\n          {label}\r\n        </label>\r\n        {isEditing ? (\r\n          <input\r\n            type={type}\r\n            name={name}\r\n            value={localValue}\r\n            onChange={handleChange}\r\n            placeholder={placeholder}\r\n            className={`px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${\r\n              isDark \r\n                ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                : 'bg-white border-gray-300 text-gray-800'\r\n            }`}\r\n          />\r\n        ) : (\r\n          <div className=\"relative\">\r\n            <span className={`px-3 py-2 rounded-md block min-h-[42px] flex items-center ${\r\n              isDark ? 'bg-gray-700 text-gray-200' : 'bg-gray-50 text-gray-800'\r\n            }`}>\r\n              {value || \"N/A\"}\r\n            </span>\r\n            {showLPA && (\r\n              <span className={`absolute right-3 top-1/2 transform -translate-y-1/2 text-sm font-medium ${\r\n                isDark ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>\r\n                LPA\r\n              </span>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n\r\n\r\nconst EmployeePayRoll = () => {\r\n  const { empId } = useParams();\r\n  \r\n  console.log('Employee ID from URL (empId):', empId);\r\n\r\n  const [filters, setFilters] = useState({\r\n    month: '',\r\n    year: ''\r\n  });\r\n  const [selectedPayslip, setSelectedPayslip] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [payrollData, setPayrollData] = useState([]);\r\n  const [employee, setEmployee] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editFormData, setEditFormData] = useState({});\r\n  const [saveLoading, setSaveLoading] = useState(false);\r\n\r\n  // Remove this line: const [activeField, setActiveField] = useState(null);\r\n  const [activeField, setActiveField] = useState(null);\r\n\r\n  const token = localStorage.getItem(\"accessToken\");\r\n  const { theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n  const months = [\r\n    'January', 'February', 'March', 'April', 'May', 'June',\r\n    'July', 'August', 'September', 'October', 'November', 'December'\r\n  ];\r\n\r\n  const currentYear = new Date().getFullYear();\r\n  const years = Array.from({ length: 5 }, (_, i) => currentYear - i);\r\n\r\n \r\n  useEffect(() => {\r\n    const fetchPayrollData = async () => {\r\n      if (!token || !empId) {\r\n    \r\n        setError('Employee ID not found in URL.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setLoading(true);\r\n        console.log('Fetching data for employee ID:', empId);\r\n        \r\n        const payrollResponse = await axios.get(\r\n          `https://hrms.anasolconsultancyservices.com/api/payroll/payroll/employee/${empId}`,\r\n          {\r\n            headers: { Authorization: `Bearer ${token}` }\r\n          }\r\n        );\r\n        \r\n        \r\n        \r\n        if (payrollResponse.data) {\r\n          const payrollData = payrollResponse.data.data || \r\n                            payrollResponse.data.payroll || \r\n                            payrollResponse.data;\r\n          \r\n          setPayrollData(Array.isArray(payrollData) ? payrollData : []);\r\n        } else {\r\n          setPayrollData([]);\r\n        }\r\n\r\n        await fetchEmployeeDetails();\r\n\r\n      } catch (err) {\r\n       \r\n        setError(`Failed to fetch payroll data: ${err.response?.data?.message || err.message}`);\r\n        setPayrollData([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPayrollData();\r\n  }, [empId]);\r\n\r\n  const fetchEmployeeDetails = async () => {\r\n  try {\r\n    const employeeResponse = await axios.get(\r\n      `https://hrms.anasolconsultancyservices.com/api/payroll/employee/${empId}`,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      }\r\n    );\r\n    \r\n    \r\n    if (employeeResponse.data) {\r\n      const employeeData = employeeResponse.data.data || employeeResponse.data;\r\n      \r\n      \r\n      setEmployee(employeeData);\r\n      setEditFormData(employeeData);\r\n      \r\n     \r\n    } else {\r\n      \r\n      setEmployee(null);\r\n    }\r\n  } catch (err) {\r\n    console.error('Error fetching employee details:', err);\r\n  }\r\n};\r\n\r\n  const handleFilterChange = (newFilters) => {\r\n    setFilters(newFilters);\r\n  };\r\n\r\n  const handleViewPayslip = (payslip) => {\r\n    setSelectedPayslip(payslip);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\nconst handleDownloadPayslip = async (payslip) => {\r\n    try {\r\n      if (!employee) {\r\n        alert('Employee data not available');\r\n        return;\r\n      }\r\n\r\n      const payslipElement = document.createElement('div');\r\n      payslipElement.style.position = 'absolute';\r\n      payslipElement.style.left = '-9999px';\r\n      payslipElement.style.width = '800px';\r\n      payslipElement.style.padding = '20px'; // Reduced padding\r\n      payslipElement.style.backgroundColor = 'white';\r\n      payslipElement.style.fontFamily = \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\";\r\n      \r\n      const grossEarnings = (payslip.basicSalary || 0) + \r\n                           (payslip.hraAmount || 0) + \r\n                           (payslip.conveyanceAllowance || 0) +\r\n                           (payslip.medicalAllowance || 0) +\r\n                           (payslip.specialAllowance || 0) +\r\n                           (payslip.bonusAmount || 0);\r\n\r\n      const totalDeductions = (payslip.providentFund || 0) + \r\n                             (payslip.professionalTax || 0) +\r\n                             (payslip.incomeTax || 0);\r\n\r\n      const netSalary = payslip.netSalary || (grossEarnings - totalDeductions);\r\n\r\n      // Helper function to format numbers\r\n      const formatNumber = (value, decimals = 1) => {\r\n        const num = Number(value);\r\n        if (isNaN(num)) return '0';\r\n        \r\n        if (num % 1 === 0) {\r\n          return num.toString();\r\n        }\r\n        \r\n        return num.toFixed(decimals);\r\n      };\r\n\r\n      // Format currency function\r\n      const formatCurrency = (amount) => {\r\n        return 'â‚¹' + (amount || 0).toLocaleString('en-IN');\r\n      };\r\n\r\n      payslipElement.innerHTML = `\r\n        <div style=\"font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 800px; margin: 0 auto; color: #333; line-height: 1.3; font-size: 20px;\">\r\n          <!-- Company Header -->\r\n          <div style=\"border-bottom: 2px solid #2c5aa0; padding: 20px 0 10px 0; margin-bottom: 20px;\">\r\n            <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;\">\r\n              <div>\r\n                <div style=\"font-size: 20px; font-weight: 600; color: #2c5aa0; letter-spacing: 0.5px;\">ANASOL CONSULTANCY SERVICES PVT LTD</div>\r\n                <div style=\"font-size: 12px; color: #666; margin-top: 3px;\">\r\n                  #1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039\r\n                </div>\r\n              </div>\r\n              <div style=\"text-align: right;\">\r\n                <div style=\"font-size: 10px; font-weight: 600; color: #2c5aa0; margin-bottom: 3px;\">SALARY SLIP</div>\r\n                <div style=\"font-size: 12px; color: #d9534f; font-weight: 500; background: #f8f9fa; padding: 3px 10px; border-radius: 3px; display: inline-block;\">\r\n                  ${formatPayPeriod(payslip)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Employee Information -->\r\n          <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;\">\r\n            <div>\r\n              <div style=\"font-size: 14px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid #e0e0e0;\">EMPLOYEE DETAILS</div>\r\n              <table style=\"width: 100%; border-collapse: collapse; font-size: 12px;\">\r\n                <tr>\r\n                  <td style=\"padding: 6px 0; font-weight: 500; color: #555; width: 40%;\">Employee Name:</td>\r\n                  <td style=\"padding: 6px 0; font-weight: 600;\">${employee.empName}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td style=\"padding: 6px 0; font-weight: 500; color: #555;\">Employee ID:</td>\r\n                  <td style=\"padding: 6px 0;\">${employee.employeeId}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td style=\"padding: 6px 0; font-weight: 500; color: #555;\">Designation:</td>\r\n                  <td style=\"padding: 6px 0;\">${employee.designation || 'N/A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td style=\"padding: 6px 0; font-weight: 500; color: #555;\">Department:</td>\r\n                  <td style=\"padding: 6px 0;\">${employee.department || 'N/A'}</td>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n\r\n            <div>\r\n              <div style=\"font-size: 14px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid #e0e0e0;\">BANK & STATUTORY DETAILS</div>\r\n              <table style=\"width: 100%; border-collapse: collapse; font-size: 12px;\">\r\n                <tr>\r\n                  <td style=\"padding: 6px 0; font-weight: 500; color: #555; width: 40%;\">Bank A/C Name:</td>\r\n                  <td style=\"padding: 6px 0;\">${employee.bankName}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td style=\"padding: 6px 0; font-weight: 500; color: #555;\">PAN No:</td>\r\n                  <td style=\"padding: 6px 0;\">${employee.panNumber || 'N/A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td style=\"padding: 6px 0; font-weight: 500; color: #555;\">PF No:</td>\r\n                  <td style=\"padding: 6px 0;\">${employee.pfnum || 'N/A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td style=\"padding: 6px 0; font-weight: 500; color: #555;\">IFSC Code:</td>\r\n                  <td style=\"padding: 6px 0;\">${employee.ifsccode || 'N/A'}</td>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Attendance Information -->\r\n          <div style=\"margin: 20px 0;\">\r\n            <div style=\"font-size: 14px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid #e0e0e0;\">ATTENDANCE SUMMARY</div>\r\n            <table style=\"width: 100%; border-collapse: collapse; background: #f8f9fa; border-radius: 4px; overflow: hidden; font-size: 12px;\">\r\n              <thead>\r\n                <tr style=\"background: #2c5aa0; color: white;\">\r\n                  <th style=\"padding: 10px; text-align: center; font-weight: 600;\">Total Working Days</th>\r\n                  <th style=\"padding: 10px; text-align: center; font-weight: 600;\">Days Present</th>\r\n                  <th style=\"padding: 10px; text-align: center; font-weight: 600;\">Paid Days</th>\r\n                  <th style=\"padding: 10px; text-align: center; font-weight: 600;\">Loss of Pay Days</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td style=\"padding: 10px; text-align: center; background: white; border: 1px solid #e0e0e0;\">${formatNumber(payslip.totalWorkingDays || 0)}</td>\r\n                  <td style=\"padding: 10px; text-align: center; background: white; border: 1px solid #e0e0e0;\">${formatNumber(payslip.daysPresent || 0)}</td>\r\n                  <td style=\"padding: 10px; text-align: center; background: white; border: 1px solid #e0e0e0;\">${formatNumber(payslip.paidDays || 0)}</td>\r\n                  <td style=\"padding: 10px; text-align: center; background: white; border: 1px solid #e0e0e0;\">${formatNumber(payslip.lossOfPayDays || 0)}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <!-- Bonus Information - Only show if bonus exists -->\r\n          ${payslip.bonusAmount > 0 ? `\r\n          <div style=\"margin: 12px 0;\">\r\n            <div style=\"font-size: 14px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid #e0e0e0;\">ADDITIONAL COMPENSATION</div>\r\n            <table style=\"width: 100%; border-collapse: collapse; background: #f8f9fa; border-radius: 4px; overflow: hidden; font-size: 12px;\">\r\n              <thead>\r\n                <tr style=\"background: #28a745; color: white;\">\r\n                  <th style=\"padding: 10px; text-align: center; font-weight: 600;\">Bonus Amount</th>\r\n                  <th style=\"padding: 10px; text-align: center; font-weight: 600;\">Hike Percentage</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td style=\"padding: 10px; text-align: center; background: white; border: 1px solid #e0e0e0; font-weight: 600; color: #28a745;\">${formatCurrency(payslip.bonusAmount || 0)}</td>\r\n                  <td style=\"padding: 10px; text-align: center; background: white; border: 1px solid #e0e0e0; font-weight: 600; color: #28a745;\">${payslip.hikePercentage || 0}%</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          ` : ''}\r\n\r\n          <!-- Salary Details -->\r\n          <div style=\"margin: 20px 0;\">\r\n            <div style=\"font-size: 14px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid #e0e0e0;\">SALARY BREAKUP</div>\r\n            \r\n            <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px;\">\r\n              <!-- Earnings -->\r\n              <div>\r\n                <div style=\"font-size: 20px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; background: #f8f9fa; padding: 6px 10px; border-radius: 3px;\">EARNINGS</div>\r\n                <table style=\"width: 100%; border-collapse: collapse; border: 1px solid #e0e0e0; font-size: 12px;\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Basic Salary</td>\r\n                      <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(payslip.basicSalary || 0)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">HRA</td>\r\n                      <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(payslip.hraAmount || 0)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Conveyance Allowance</td>\r\n                      <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(payslip.conveyanceAllowance || 0)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Medical Allowance</td>\r\n                      <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(payslip.medicalAllowance || 0)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Special Allowance</td>\r\n                      <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(payslip.specialAllowance || 0)}</td>\r\n                    </tr>\r\n                    ${payslip.bonusAmount > 0 ? `\r\n                    <tr>\r\n                      <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Bonus</td>\r\n                      <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(payslip.bonusAmount || 0)}</td>\r\n                    </tr>\r\n                    ` : ''}\r\n                    <tr style=\"background: #e9ecef; font-weight: 600;\">\r\n                      <td style=\"padding: 10px;\">Gross Earnings</td>\r\n                      <td style=\"padding: 10px; text-align: right;\">${formatCurrency(grossEarnings)}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              <!-- Deductions -->\r\n              <div>\r\n                <div style=\"font-size: 20px; font-weight: 600; color: #2c5aa0; margin-bottom: 10px; background: #f8f9fa; padding: 6px 10px; border-radius: 3px;\">DEDUCTIONS</div>\r\n                <table style=\"width: 100%; border-collapse: collapse; border: 1px solid #e0e0e0; font-size: 12px;\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Provident Fund</td>\r\n                      <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(payslip.providentFund || 0)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Professional Tax</td>\r\n                      <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(payslip.professionalTax || 0)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td style=\"padding: 10px 10px; border-bottom: 1px solid #e0e0e0;\">Income Tax</td>\r\n                      <td style=\"padding: 10px 10px; text-align: right; border-bottom: 1px solid #e0e0e0;\">${formatCurrency(payslip.incomeTax || 0)}</td>\r\n                    </tr>\r\n                    <tr style=\"background: #e9ecef; font-weight: 600;\">\r\n                      <td style=\"padding: 10px;\">Total Deductions</td>\r\n                      <td style=\"padding: 10px; text-align: right;\">${formatCurrency(totalDeductions)}</td>\r\n                    </tr>\r\n                    <tr style=\"background: #d4edda; font-weight: 700; color: #155724; border: 2px solid #c3e6cb;\">\r\n                      <td style=\"padding: 12px 10px; font-size: 20px;\">NET SALARY PAYABLE</td>\r\n                      <td style=\"padding: 12px 10px; text-align: right; font-size: 20px;\">${formatCurrency(netSalary)}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Footer -->\r\n          <div style=\"margin-top: 20px; padding-top: 20px; border-top: 1px solid #e0e0e0; text-align: center; color: #666; font-size: 11px;\">\r\n            <div style=\"margin-bottom: 5px;\">\r\n              <strong>ANASOL CONSULTANCY SERVICES PVT LTD</strong> | \r\n              #1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039 |\r\n              Ph: 9632091726 | Email: hr@anasolconsultancy.com | www.anasol.com\r\n            </div>\r\n            <div style=\"color: #999; font-style: italic;\">\r\n              This is a system generated document and does not require signature\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n\r\n      document.body.appendChild(payslipElement);\r\n\r\n      const canvas = await html2canvas(payslipElement, {\r\n        scale: 2,\r\n        useCORS: true,\r\n        logging: false,\r\n        backgroundColor: '#ffffff'\r\n      });\r\n\r\n      document.body.removeChild(payslipElement);\r\n\r\n      const imgData = canvas.toDataURL('image/png');\r\n      \r\n      const pdf = new jsPDF('p', 'mm', 'a4');\r\n      const imgWidth = 210; \r\n      const imgHeight = (canvas.height * imgWidth) / canvas.width;\r\n      \r\n      pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);\r\n\r\n      const monthName = months[payslip.month - 1];\r\n      const fileName = `Payslip_${employee.empName}_${monthName}_${payslip.year}.pdf`;\r\n      \r\n      pdf.save(fileName);\r\n      \r\n    } catch (err) {\r\n      alert(`Failed to generate PDF payslip: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleViewDetails = async () => {\r\n    setShowDetails(true);\r\n    if (!employee) {\r\n      await fetchEmployeeDetails();\r\n    }\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n    setActiveField(null); \r\n  };\r\n  const handleInputChange = useCallback((e) => {\r\n    const { name, value } = e.target;\r\n    setEditFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  }, []);\r\n\r\nconst handleSave = async () => {\r\n  try {\r\n    setSaveLoading(true);\r\n    \r\n    const updateData = {\r\n      empName: editFormData.empName,\r\n      email: editFormData.email,\r\n      phoneNumber: editFormData.phoneNumber,\r\n      accountNumber: editFormData.accountNumber,\r\n      bankName: editFormData.bankName,\r\n      panNumber: editFormData.panNumber,\r\n      aadharNumber: editFormData.aadharNumber,\r\n      ifsccode: editFormData.ifsccode,\r\n      pfnum: editFormData.pfnum,\r\n      uanNumber: editFormData.uanNumber,\r\n      department: editFormData.department,\r\n      designation: editFormData.designation\r\n    };\r\n\r\n    console.log('Updating employee data:', updateData);\r\n\r\n    const response = await axios.put(\r\n      `https://hrms.anasolconsultancyservices.com/api/payroll/employee/${empId}/update`,\r\n      updateData,\r\n      {\r\n        headers: { \r\n          Authorization: `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      }\r\n    );\r\n\r\n\r\n\r\n    if (response.data && response.data.success) {\r\n    \r\n      const updatedEmployee = response.data.employee;\r\n      \r\n      if (updatedEmployee) {\r\n   \r\n        setEmployee(updatedEmployee);\r\n        setEditFormData(updatedEmployee);\r\n      } else {\r\n        \r\n        console.log('No employee data in response, refetching...');\r\n        await fetchEmployeeDetails();\r\n      }\r\n      \r\n      setIsEditing(false);\r\n      alert('Employee details updated successfully!');\r\n    } else {\r\n      alert('Failed to update employee details: ' + (response.data?.message || 'Unknown error'));\r\n    }\r\n  } catch (err) {\r\n    const errorMessage = err.response?.data?.message || err.message;\r\n    \r\n    if (err.response?.status === 401) {\r\n      alert('Admin access required to update employee details. Please check your permissions.');\r\n    } else {\r\n      alert(`Failed to update employee details: ${errorMessage}`);\r\n    }\r\n  } finally {\r\n    setSaveLoading(false);\r\n  }\r\n};\r\n\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n    setEditFormData(employee); \r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    if (!amount) return 'â‚¹0';\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatPayPeriod = (payrollItem) => {\r\n    if (!payrollItem) return 'N/A';\r\n    const month = payrollItem.month;\r\n    const year = payrollItem.year;\r\n    return `${months[month - 1]} ${year}`;\r\n  };\r\n\r\n  const getMonthFromPayroll = (payrollItem) => {\r\n    if (!payrollItem) return '';\r\n    return months[payrollItem.month - 1];\r\n  };\r\n\r\n  const getYearFromPayroll = (payrollItem) => {\r\n    if (!payrollItem) return '';\r\n    return payrollItem.year.toString();\r\n  };\r\n\r\n  const filteredData = Array.isArray(payrollData)\r\n    ? payrollData.filter(item => {\r\n        if (!item) return false;\r\n        \r\n        const itemMonth = item.month ? item.month.toString() : '';\r\n        const itemYear = item.year ? item.year.toString() : '';\r\n\r\n        console.log('Filtering item:', { itemMonth, itemYear, filters });\r\n\r\n        if (filters.month && itemMonth !== filters.month) return false;\r\n        if (filters.year && itemYear !== filters.year) return false;\r\n        \r\n        return true;\r\n      })\r\n    : [];\r\n\r\n  console.log('Final filtered data count:', filteredData.length);\r\n\r\n  const EmployeeDetails = () => {\r\n    if (!employee) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          <div className={`text-center py-8 ${isDark ? 'text-gray-400' : 'text-gray-500'}`}>\r\n            No employee details found.\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h2 className={`text-xl font-bold ${isDark ? 'text-white' : 'text-gray-800'}`}>My Details</h2>\r\n          <div className=\"flex space-x-3\">\r\n            {!isEditing ? (\r\n              <button\r\n                onClick={handleEdit}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                Edit Details\r\n              </button>\r\n            ) : (\r\n              <>\r\n                <button\r\n                  onClick={handleSave}\r\n                  disabled={saveLoading}\r\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50\"\r\n                >\r\n                  {saveLoading ? 'Saving...' : 'Save Changes'}\r\n                </button>\r\n                <button\r\n                  onClick={handleCancel}\r\n                  className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </>\r\n            )}\r\n            <button\r\n              onClick={() => setShowDetails(false)}\r\n              className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {/* Personal Information */}\r\n          <div className={`p-6 rounded-lg border shadow-sm ${\r\n            isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n          }`}>\r\n            <h3 className={`text-lg font-semibold mb-4 border-b pb-2 ${\r\n              isDark ? 'text-white border-gray-700' : 'text-gray-800 border-gray-200'\r\n            }`}>Personal Information</h3>\r\n            <div className=\"space-y-3\">\r\n              <DetailField \r\n                key=\"employeeId\"\r\n                label=\"Employee ID\" \r\n                value={employee.employeeId} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                key=\"empName\"\r\n                label=\"Full Name\" \r\n                name=\"empName\"\r\n                value={isEditing ? editFormData.empName : employee.empName} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                key=\"email\"\r\n                label=\"Email\" \r\n                name=\"email\"\r\n                value={isEditing ? editFormData.email : employee.email} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                type=\"email\"\r\n              />\r\n              <DetailField \r\n                key=\"phoneNumber\"\r\n                label=\"Phone Number\" \r\n                name=\"phoneNumber\"\r\n                value={isEditing ? editFormData.phoneNumber : employee.phoneNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                type=\"tel\"\r\n              />\r\n              <DetailField \r\n                key=\"aadharNumber\"\r\n                label=\"Aadhar Number\" \r\n                name=\"aadharNumber\"\r\n                value={isEditing ? editFormData.aadharNumber : employee.aadharNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                type=\"number\"\r\n              />\r\n              <DetailField \r\n                key=\"panNumber\"\r\n                label=\"PAN Number\" \r\n                name=\"panNumber\"\r\n                value={isEditing ? editFormData.panNumber : employee.panNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Employment Details */}\r\n          <div className={`p-6 rounded-lg border shadow-sm ${\r\n            isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n          }`}>\r\n            <h3 className={`text-lg font-semibold mb-4 border-b pb-2 ${\r\n              isDark ? 'text-white border-gray-700' : 'text-gray-800 border-gray-200'\r\n            }`}>Employment Details</h3>\r\n            <div className=\"space-y-3\">\r\n              <DetailField \r\n                key=\"department\"\r\n                label=\"Department\" \r\n                name=\"department\"\r\n                value={isEditing ? editFormData.department : employee.department} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                key=\"designation\"\r\n                label=\"Designation\" \r\n                name=\"designation\"\r\n                value={isEditing ? editFormData.designation : employee.designation} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Enter designation\"\r\n              />\r\n              <DetailField \r\n                key=\"jobType\"\r\n                label=\"Job Type\" \r\n                value={employee.jobType} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                key=\"intern\"\r\n                label=\"Intern\" \r\n                value={employee.stipend} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                key=\"level\"\r\n                label=\"Level\" \r\n                value={employee.level} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                key=\"startDate\"\r\n                label=\"Start Date\" \r\n                value={employee.startDate ? new Date(employee.startDate).toLocaleDateString('en-IN') : 'N/A'} \r\n                isEditing={false}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Bank & Salary Information */}\r\n          <div className={`p-6 rounded-lg border shadow-sm ${\r\n            isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n          }`}>\r\n            <h3 className={`text-lg font-semibold mb-4 border-b pb-2 ${\r\n              isDark ? 'text-white border-gray-700' : 'text-gray-800 border-gray-200'\r\n            }`}>Bank & Salary Information</h3>\r\n            <div className=\"space-y-3\">\r\n              <DetailField \r\n                key=\"bankName\"\r\n                label=\"Bank Name\" \r\n                name=\"bankName\"\r\n                value={isEditing ? editFormData.bankName : employee.bankName} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                key=\"accountNumber\"\r\n                label=\"Account Number\" \r\n                name=\"accountNumber\"\r\n                value={isEditing ? editFormData.accountNumber : employee.accountNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n                type=\"number\"\r\n              />\r\n              <DetailField \r\n                key=\"ifsccode\"\r\n                label=\"IFSC Code\" \r\n                name=\"ifsccode\"\r\n                value={isEditing ? editFormData.ifsccode : employee.ifsccode} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                key=\"pfnum\"\r\n                label=\"PF Number\" \r\n                name=\"pfnum\"\r\n                value={isEditing ? editFormData.pfnum : employee.pfnum} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                key=\"uanNumber\"\r\n                label=\"UAN Number\" \r\n                name=\"uanNumber\"\r\n                value={isEditing ? editFormData.uanNumber : employee.uanNumber} \r\n                isEditing={isEditing}\r\n                onChange={handleInputChange}\r\n              />\r\n              <DetailField \r\n                key=\"monthlySalary\"\r\n                label=\"Monthly Salary\" \r\n                value={formatCurrency(employee.monthlySalary)} \r\n                isEditing={false}\r\n              />\r\n              <DetailField \r\n                key=\"annualSalary\"\r\n                label=\"Annual Salary\" \r\n                value={formatCurrency(employee.annualSalary)} \r\n                isEditing={false}\r\n                showLPA={true}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  // Filter Section Component\r\n  const FilterSection = () => {\r\n    const handleMonthChange = (e) => {\r\n      handleFilterChange({ ...filters, month: e.target.value });\r\n    };\r\n\r\n    const handleYearChange = (e) => {\r\n      handleFilterChange({ ...filters, year: e.target.value });\r\n    };\r\n\r\n    return (\r\n      <div className={`p-6 border-b ${\r\n        isDark ? 'border-gray-700' : 'border-gray-200'\r\n      }`}>\r\n        <div className=\"container mx-auto px-4 pt-6\">\r\n      <button\r\n        onClick={() => window.history.back()}\r\n        className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${\r\n          isDark \r\n            ? 'bg-gray-700 text-gray-200 hover:bg-gray-600' \r\n            : 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-200'\r\n        }`}\r\n      >\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n        </svg>\r\n        <span>Back</span>\r\n      </button>\r\n    </div>\r\n        <div className=\"flex flex-wrap gap-4 items-center\">\r\n          \r\n          <div>\r\n            <label className={`block text-sm font-medium mb-1 ${\r\n              isDark ? 'text-gray-300' : 'text-gray-700'\r\n            }`}>\r\n              Month\r\n            </label>\r\n            <select \r\n              className={`w-40 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${\r\n                isDark \r\n                  ? 'bg-gray-700 border-gray-600 text-white' \r\n                  : 'bg-white border-gray-300 text-gray-800'\r\n              }`}\r\n              onChange={handleMonthChange}\r\n              value={filters.month}\r\n            >\r\n              <option value=\"\">All Months</option>\r\n              {months.map((month, index) => (\r\n                <option key={month} value={index + 1}>\r\n                  {month}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className={`block text-sm font-medium mb-1 ${\r\n              isDark ? 'text-gray-300' : 'text-gray-700'\r\n            }`}>\r\n              Year\r\n            </label>\r\n            <select \r\n              className={`w-32 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${\r\n                isDark \r\n                  ? 'bg-gray-700 border-gray-600 text-white' \r\n                  : 'bg-white border-gray-300 text-gray-800'\r\n              }`}\r\n              onChange={handleYearChange}\r\n              value={filters.year}\r\n            >\r\n              <option value=\"\">All Years</option>\r\n              {years.map(year => (\r\n                <option key={year} value={year}>\r\n                  {year}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"ml-auto flex space-x-3\">\r\n            <button \r\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n              onClick={handleViewDetails}\r\n            >\r\n              View  Details\r\n            </button>\r\n            <button \r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              onClick={() => handleFilterChange({ month: '', year: '' })}\r\n            >\r\n              Clear Filters\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const PayrollTable = () => {\r\n    if (loading) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          \r\n          <div className=\"flex justify-center items-center py-12\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n            <span className={`ml-4 ${isDark ? 'text-gray-300' : 'text-gray-600'}`}>Loading payroll data...</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (error) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          <div className={`text-center py-8 ${isDark ? 'text-red-400' : 'text-red-600'}`}>\r\n            {error}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!empId) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          <div className={`text-center py-8 ${isDark ? 'text-red-400' : 'text-red-600'}`}>\r\n            Employee ID not available. Please check your login.\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n   \r\nconst formatNumber = (value, decimals = 1) => {\r\n  const num = Number(value);\r\n  if (isNaN(num)) return '0';\r\n \r\n  if (num % 1 === 0) {\r\n    return num.toString();\r\n  }\r\n \r\n  return num.toFixed(decimals);\r\n};\r\n\r\n    return (\r\n    <div className=\"p-6\">\r\n      \r\n      <h2 className={`text-xl font-bold mb-4 ${isDark ? 'text-white' : 'text-gray-800'}`}>\r\n        Payroll History {employee && `- ${employee.empName}`}\r\n      </h2>\r\n      \r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full border-collapse\">\r\n          <thead>\r\n            <tr className=\"bg-gradient-to-r from-blue-800 to-indigo-800 text-white\">\r\n              <th className=\"px-4 py-3 text-left font-semibold\">Month</th>\r\n              <th className=\"px-4 py-3 text-left font-semibold\">Year</th>\r\n              <th className=\"px-4 py-3 text-right font-semibold\">Net Salary</th>\r\n              <th className=\"px-4 py-3 text-right font-semibold\">Bonus</th>\r\n              \r\n              <th className=\"px-4 py-3 text-center font-semibold\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredData.map((item) => (\r\n              <tr key={item.payrollId} className={`border-b ${\r\n                isDark \r\n                  ? 'border-gray-700 hover:bg-gray-800' \r\n                  : 'border-gray-200 hover:bg-gray-50'\r\n              }`}>\r\n                <td className={`px-4 py-3 font-medium ${\r\n                  isDark ? 'text-gray-200' : 'text-gray-700'\r\n                }`}>\r\n                  {getMonthFromPayroll(item)}\r\n                </td>\r\n                <td className={`px-4 py-3 ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>\r\n                  {getYearFromPayroll(item)}\r\n                </td>\r\n                <td className=\"px-4 py-3 text-right font-semibold text-green-600\">\r\n                  {formatCurrency(item.netSalary)}\r\n                </td>\r\n                <td className=\"px-4 py-3 text-right font-medium text-orange-600\">\r\n                  {formatCurrency(item.bonusAmount || 0)}\r\n                </td>\r\n               \r\n                <td className=\"px-4 py-3\">\r\n                  <div className=\"flex justify-center space-x-2\">\r\n                    <button\r\n                      onClick={() => handleViewPayslip(item)}\r\n                      className=\"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm\"\r\n                    >\r\n                      View\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDownloadPayslip(item)}\r\n                      className=\"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition-colors text-sm\"\r\n                    >\r\n                      Download\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n        {filteredData.length === 0 && !loading && (\r\n          <div className={`text-center py-8 ${isDark ? 'text-gray-400' : 'text-gray-500'}`}>\r\n            No payroll records found for the selected filters.\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Payslip Modal Component\r\n  const PayslipModal = () => {\r\n    if (!selectedPayslip || !employee) return null;\r\n\r\n   const grossEarnings = (selectedPayslip.basicSalary || 0) + \r\n                     (selectedPayslip.hraAmount || 0) + \r\n                     (selectedPayslip.conveyanceAllowance || 0) +\r\n                     (selectedPayslip.medicalAllowance || 0) +\r\n                     (selectedPayslip.specialAllowance || 0) +\r\n                     (selectedPayslip.bonusAmount || 0); \r\n\r\n    const totalDeductions = (selectedPayslip.providentFund || 0) + \r\n                           (selectedPayslip.professionalTax || 0) +\r\n                           (selectedPayslip.incomeTax || 0);\r\n\r\n    const earnings = [\r\n      { description: \"BASIC\", monthlyRate: formatCurrency(selectedPayslip.basicSalary), currentMonth: formatCurrency(selectedPayslip.basicSalary), arrear: \"0\", total: formatCurrency(selectedPayslip.basicSalary) },\r\n      { description: \"HRA\", monthlyRate: formatCurrency(selectedPayslip.hraAmount), currentMonth: formatCurrency(selectedPayslip.hraAmount), arrear: \"0\", total: formatCurrency(selectedPayslip.hraAmount) },\r\n      { description: \"CONVEYANCE\", monthlyRate: formatCurrency(selectedPayslip.conveyanceAllowance), currentMonth: formatCurrency(selectedPayslip.conveyanceAllowance), arrear: \"0\", total: formatCurrency(selectedPayslip.conveyanceAllowance) },\r\n      { description: \"MEDICAL\", monthlyRate: formatCurrency(selectedPayslip.medicalAllowance), currentMonth: formatCurrency(selectedPayslip.medicalAllowance), arrear: \"0\", total: formatCurrency(selectedPayslip.medicalAllowance) },\r\n      { description: \"SPECIAL ALLOWANCE\", monthlyRate: formatCurrency(selectedPayslip.specialAllowance), currentMonth: formatCurrency(selectedPayslip.specialAllowance), arrear: \"0\", total: formatCurrency(selectedPayslip.specialAllowance) }\r\n    ];\r\n\r\n    const deductions = [\r\n      { description: \"PROVIDENT FUND\", amount: formatCurrency(selectedPayslip.providentFund) },\r\n      { description: \"PROFESSIONAL TAX\", amount: formatCurrency(selectedPayslip.professionalTax) },\r\n      { description: \"INCOME TAX\", amount: formatCurrency(selectedPayslip.incomeTax) }\r\n    ];\r\n\r\n    if (selectedPayslip.bonusAmount > 0) {\r\n      earnings.push({\r\n        description: \"BONUS\",\r\n        monthlyRate: formatCurrency(selectedPayslip.bonusAmount),\r\n        currentMonth: formatCurrency(selectedPayslip.bonusAmount),\r\n        arrear: \"0\",\r\n        total: formatCurrency(selectedPayslip.bonusAmount)\r\n      });\r\n    }\r\n   \r\nconst formatNumber = (value, decimals = 1) => {\r\n  const num = Number(value);\r\n  if (isNaN(num)) return '0';\r\n  \r\n  \r\n  if (num % 1 === 0) {\r\n    return num.toString();\r\n  }\r\n\r\n  return num.toFixed(decimals);\r\n};\r\n\r\n return (\r\n <div className=\"fixed inset-0 bg-black/50 bg-opacity-50 backdrop-blur-md flex items-center justify-center p-4 z-50\">\r\n    <div className={`max-w-4xl w-full rounded-2xl shadow-2xl overflow-hidden border ${\r\n      isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-blue-100'\r\n    }`}>\r\n      \r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-blue-800 to-purple-800 text-white p-8\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold\">ANASOL CONSULTANCY SERVICES PVT LTD</h1>\r\n            <h2 className=\"text-xl mt-2 opacity-90\">SALARY SLIP</h2>\r\n            <div className=\"mt-3 bg-white/20 px-4 py-1 rounded-full inline-block text-sm\">\r\n              {formatPayPeriod(selectedPayslip)}\r\n            </div>\r\n          </div>\r\n          <div className=\"w-24 h-24 bg-white/20 rounded-xl flex items-center justify-center\">\r\n            <img \r\n              src=\"/assets/anasol-logo.png\" \r\n              alt=\"Anasol Logo\" \r\n              className=\"w-20 h-20 object-contain\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Action buttons */}\r\n      <div className={`p-4 border-b flex justify-between items-center ${\r\n        isDark ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'\r\n      }`}>\r\n        <button \r\n          onClick={() => setIsModalOpen(false)}\r\n          className=\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium\"\r\n        >\r\n          â† Back to Employee List\r\n        </button>\r\n        <button \r\n          onClick={() => handleDownloadPayslip(selectedPayslip)}\r\n          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium\"\r\n        >\r\n          Download PDF\r\n        </button>\r\n      </div>\r\n\r\n      {/* Pay Slip Content */}\r\n      <div className=\"p-8 max-h-[70vh] overflow-y-auto\">\r\n        {/* Employee Information */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n          <div className={`p-6 rounded-xl shadow-sm border ${\r\n            isDark ? 'bg-gray-700 border-gray-600' : 'bg-white border-blue-100'\r\n          }`}>\r\n            <h3 className={`text-lg font-semibold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n              isDark ? 'text-white' : 'text-gray-800'\r\n            }`}>Personal Information</h3>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Employee Name:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.empName}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Employee ID:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.employeeId}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Designation:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.designation || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Department:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.department || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Phone No:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.phoneNumber || 'N/A'}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`p-6 rounded-xl shadow-sm border ${\r\n            isDark ? 'bg-gray-700 border-gray-600' : 'bg-white border-blue-100'\r\n          }`}>\r\n            <h3 className={`text-lg font-semibold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n              isDark ? 'text-white' : 'text-gray-800'\r\n            }`}>Bank & Tax Information</h3>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Bank A/C Name:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.bankName}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>PAN No:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.panNumber || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>PF No:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.pfnum || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center pb-2 border-b border-gray-100\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>IFSC Code:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.ifsccode || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className={`font-medium ${\r\n                  isDark ? 'text-gray-300' : 'text-gray-600'\r\n                }`}>Email:</span>\r\n                <span className={`font-semibold ${\r\n                  isDark ? 'text-white' : 'text-gray-800'\r\n                }`}>{employee.email || 'N/A'}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Attendance Information */}\r\n        <div className=\"mb-8\">\r\n          <h3 className={`text-xl font-bold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n            isDark ? 'text-gray-200' : 'text-gray-800'\r\n          }`}>Attendance Information</h3>\r\n          <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n            isDark ? 'border-gray-600' : 'border-gray-200'\r\n          }`}>\r\n            <table className={`min-w-full ${\r\n              isDark ? 'bg-gray-800' : 'bg-white'\r\n            }`}>\r\n              <thead>\r\n                <tr className={`${\r\n                  isDark \r\n                    ? 'bg-gradient-to-r from-gray-700 to-gray-600' \r\n                    : 'bg-gradient-to-r from-gray-50 to-blue-50'\r\n                }`}>\r\n                  <th className={`border-b px-6 py-4 font-semibold ${\r\n                    isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                  }`}>Total Working Days</th>\r\n                  <th className={`border-b px-6 py-4 font-semibold ${\r\n                    isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                  }`}>Days Present</th>\r\n                  <th className={`border-b px-6 py-4 font-semibold ${\r\n                    isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                  }`}>Paid Days</th>\r\n                  <th className={`border-b px-6 py-4 font-semibold ${\r\n                    isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                  }`}>Loss of Pay Days</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td className={`border-b px-6 py-4 text-center font-medium ${\r\n                    isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                  }`}>{formatNumber(selectedPayslip.totalWorkingDays || 0)}</td>\r\n                  <td className={`border-b px-6 py-4 text-center font-medium ${\r\n                    isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                  }`}>{formatNumber(selectedPayslip.daysPresent || 0)}</td>\r\n                  <td className={`border-b px-6 py-4 text-center font-medium ${\r\n                    isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                  }`}>{formatNumber(selectedPayslip.paidDays || 0)}</td>\r\n                  <td className={`border-b px-6 py-4 text-center font-medium ${\r\n                    isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                  }`}>{formatNumber(selectedPayslip.lossOfPayDays || 0)}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bonus Information */}\r\n        {selectedPayslip.bonusAmount > 0 && (\r\n          <div className=\"mb-8\">\r\n            <h3 className={`text-xl font-bold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n              isDark ? 'text-gray-200' : 'text-gray-800'\r\n            }`}>Additional Compensation</h3>\r\n            <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n              isDark ? 'border-gray-600' : 'border-gray-200'\r\n            }`}>\r\n              <table className={`min-w-full ${\r\n                isDark ? 'bg-gray-800' : 'bg-white'\r\n              }`}>\r\n                <thead>\r\n                  <tr className={`${\r\n                    isDark \r\n                      ? 'bg-gradient-to-r from-yellow-900 to-orange-900' \r\n                      : 'bg-gradient-to-r from-yellow-50 to-orange-50'\r\n                  }`}>\r\n                    <th className={`border-b px-6 py-4 font-semibold ${\r\n                      isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                    }`}>Bonus Amount</th>\r\n                    <th className={`border-b px-6 py-4 font-semibold ${\r\n                      isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                    }`}>Hike Percentage</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td className={`border-b px-6 py-4 text-center font-bold ${\r\n                      isDark ? 'border-gray-700 text-yellow-400' : 'border-gray-100 text-yellow-700'\r\n                    }`}>{formatCurrency(selectedPayslip.bonusAmount || 0)}</td>\r\n                    <td className={`border-b px-6 py-4 text-center font-medium ${\r\n                      isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                    }`}>{selectedPayslip.hikePercentage || 0}%</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Salary Details */}\r\n        <div className=\"mb-8\">\r\n          <h3 className={`text-xl font-bold mb-4 border-l-4 border-blue-500 pl-3 ${\r\n            isDark ? 'text-gray-200' : 'text-gray-800'\r\n          }`}>Salary Details</h3>\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n            {/* Earnings */}\r\n            <div className=\"lg:col-span-2\">\r\n              <h4 className={`font-semibold mb-3 ${\r\n                isDark ? 'text-gray-300' : 'text-gray-700'\r\n              }`}>EARNINGS</h4>\r\n              <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n                isDark ? 'border-gray-600' : 'border-gray-200'\r\n              }`}>\r\n                <table className={`min-w-full ${\r\n                  isDark ? 'bg-gray-800' : 'bg-white'\r\n                }`}>\r\n                  <thead>\r\n                    <tr className={`${\r\n                      isDark \r\n                        ? 'bg-gradient-to-r from-gray-700 to-gray-600' \r\n                        : 'bg-gradient-to-r from-gray-50 to-blue-50'\r\n                    }`}>\r\n                      <th className={`border-b px-4 py-3 font-semibold ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Description</th>\r\n                      <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Monthly Rate</th>\r\n                      <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Current Month</th>\r\n                      <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Arrear (+/-)</th>\r\n                      <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Total</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {earnings.map((earning, index) => (\r\n                      <tr key={index} className={isDark ? 'hover:bg-gray-700' : 'hover:bg-gray-50'}>\r\n                        <td className={`border-b px-4 py-3 ${\r\n                          isDark ? 'border-gray-700 text-gray-300' : 'border-gray-100 text-gray-700'\r\n                        }`}>{earning.description}</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                        }`}>{earning.monthlyRate}</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                        }`}>{earning.currentMonth}</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                        }`}>{earning.arrear}</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-700 text-gray-200' : 'border-gray-100 text-gray-900'\r\n                        }`}>{earning.total}</td>\r\n                      </tr>\r\n                    ))}\r\n                    {selectedPayslip.bonusAmount > 0 && (\r\n                      <tr className={isDark ? 'bg-yellow-900 hover:bg-yellow-800' : 'bg-yellow-50 hover:bg-yellow-100'}>\r\n                        <td className={`border-b px-4 py-3 font-semibold ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                        }`}>BONUS</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                        }`}>-</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                        }`}>-</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                        }`}>-</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-bold ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-100 text-yellow-800'\r\n                        }`}>{formatCurrency(selectedPayslip.bonusAmount || 0)}</td>\r\n                      </tr>\r\n                    )}\r\n                    <tr className={isDark ? 'bg-blue-900' : 'bg-blue-50'}>\r\n                      <td className={`border-b px-4 py-3 font-semibold ${\r\n                        isDark ? 'border-gray-600 text-gray-200' : 'border-gray-200 text-gray-800'\r\n                      }`} colSpan=\"4\">GROSS EARNINGS</td>\r\n                      <td className={`border-b px-4 py-3 text-right font-semibold ${\r\n                        isDark ? 'border-gray-600 text-blue-300' : 'border-gray-200 text-blue-800'\r\n                      }`}>{formatCurrency(grossEarnings + (selectedPayslip.bonusAmount || 0))}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Deductions */}\r\n            <div>\r\n              <h4 className={`font-semibold mb-3 ${\r\n                isDark ? 'text-gray-300' : 'text-gray-700'\r\n              }`}>DEDUCTIONS</h4>\r\n              <div className={`overflow-x-auto rounded-xl shadow-sm border ${\r\n                isDark ? 'border-gray-600' : 'border-gray-200'\r\n              }`}>\r\n                <table className={`min-w-full ${\r\n                  isDark ? 'bg-gray-800' : 'bg-white'\r\n                }`}>\r\n                  <thead>\r\n                    <tr className={`${\r\n                      isDark \r\n                        ? 'bg-gradient-to-r from-gray-700 to-gray-600' \r\n                        : 'bg-gradient-to-r from-gray-50 to-blue-50'\r\n                    }`}>\r\n                      <th className={`border-b px-4 py-3 font-semibold ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Description</th>\r\n                      <th className={`border-b px-4 py-3 font-semibold text-right ${\r\n                        isDark ? 'border-gray-600 text-gray-300' : 'border-gray-200 text-gray-700'\r\n                      }`}>Amount</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {deductions.map((deduction, index) => (\r\n                      <tr key={index} className={isDark ? 'hover:bg-gray-700' : 'hover:bg-gray-50'}>\r\n                        <td className={`border-b px-4 py-3 ${\r\n                          isDark ? 'border-gray-700 text-gray-300' : 'border-gray-100 text-gray-700'\r\n                        }`}>{deduction.description}</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-medium ${\r\n                          isDark ? 'border-gray-700 text-red-400' : 'border-gray-100 text-red-600'\r\n                        }`}>{deduction.amount}</td>\r\n                      </tr>\r\n                    ))}\r\n                    <tr className={isDark ? 'bg-blue-900' : 'bg-blue-50'}>\r\n                      <td className={`border-b px-4 py-3 font-semibold ${\r\n                        isDark ? 'border-gray-600 text-gray-200' : 'border-gray-200 text-gray-800'\r\n                      }`}>TOTAL DEDUCTIONS</td>\r\n                      <td className={`border-b px-4 py-3 text-right font-semibold ${\r\n                        isDark ? 'border-gray-600 text-red-400' : 'border-gray-200 text-red-700'\r\n                      }`}>{formatCurrency(totalDeductions)}</td>\r\n                    </tr>\r\n                    {selectedPayslip.bonusAmount > 0 && (\r\n                      <tr className={isDark ? 'bg-yellow-900' : 'bg-yellow-50'}>\r\n                        <td className={`border-b px-4 py-3 font-semibold ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-200 text-yellow-800'\r\n                        }`}>BONUS ADDED</td>\r\n                        <td className={`border-b px-4 py-3 text-right font-semibold ${\r\n                          isDark ? 'border-gray-600 text-yellow-300' : 'border-gray-200 text-yellow-800'\r\n                        }`}>+ {formatCurrency(selectedPayslip.bonusAmount || 0)}</td>\r\n                      </tr>\r\n                    )}\r\n                    <tr className={isDark ? 'bg-green-900' : 'bg-green-50'}>\r\n                      <td className={`border-b px-4 py-3 font-bold ${\r\n                        isDark ? 'border-gray-600 text-green-300' : 'border-gray-200 text-green-800'\r\n                      }`}>NET SALARY</td>\r\n                      <td className={`border-b px-4 py-3 text-right font-bold ${\r\n                        isDark ? 'border-gray-600 text-green-300' : 'border-gray-200 text-green-800'\r\n                      }`}>{formatCurrency(selectedPayslip.netSalary)}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className={`mt-8 pt-6 border-t text-center text-sm ${\r\n          isDark ? 'border-gray-600 text-gray-400' : 'border-gray-300 text-gray-600'\r\n        }`}>\r\n          <p>#1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039 | Ph: 9632091726</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n  };\r\n\r\n  return (\r\n    <div className={`min-h-screen ${isDark ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        {/* Header */}\r\n        <header className=\"bg-gradient-to-r from-blue-800 to-indigo-800 text-white rounded-t-2xl mb-8\">\r\n          <div className=\"px-6 py-4 flex justify-between items-center\">\r\n            <div>\r\n              {employee ? (\r\n                <div className=\"mt-2\">\r\n                  <p className=\"text-blue-200 text-sm\">\r\n                    <strong> Employee:</strong> {employee.empName} | ID: {employee.employeeId}\r\n                  </p>\r\n                  <p className=\"text-blue-200 text-sm\">\r\n                    <strong>Department:</strong> {employee.department || 'N/A'} | <strong>Designation:</strong> {employee.designation || 'N/A'}\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-blue-200 text-sm mt-1\">\r\n                  Loading employee {empId} details...\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div className=\"w-16 h-16 bg-white/20 rounded-lg flex items-center justify-center text-white font-bold\">\r\n              <img \r\n                src=\"/assets/anasol-logo.png\" \r\n                alt=\"Anasol Logo\" \r\n                className=\"w-20 h-20 object-contain\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </header>\r\n        {/* Main Content */}\r\n        <div className={`rounded-2xl shadow-lg overflow-hidden ${\r\n          isDark ? 'bg-gray-800' : 'bg-white'\r\n        }`}>\r\n          {showDetails ? <EmployeeDetails /> : (\r\n            <>\r\n              <FilterSection />\r\n              <PayrollTable />\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {isModalOpen && <PayslipModal />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeePayRoll;"],"names":["DetailField","React","_ref","label","name","value","isEditing","onChange","type","placeholder","showLPA","localValue","setLocalValue","useState","timeoutRef","useRef","theme","useContext","Context","isDark","useEffect","current","clearTimeout","_jsxs","className","children","_jsx","concat","e","newValue","target","setTimeout","EmployeePayRoll","empId","useParams","console","log","filters","setFilters","month","year","selectedPayslip","setSelectedPayslip","isModalOpen","setIsModalOpen","payrollData","setPayrollData","employee","setEmployee","loading","setLoading","error","setError","showDetails","setShowDetails","setIsEditing","editFormData","setEditFormData","saveLoading","setSaveLoading","activeField","setActiveField","token","localStorage","getItem","months","currentYear","Date","getFullYear","years","Array","from","length","_","i","async","payrollResponse","axios","get","headers","Authorization","data","payroll","isArray","fetchEmployeeDetails","err","_err$response","_err$response$data","response","message","fetchPayrollData","employeeResponse","employeeData","handleFilterChange","newFilters","handleDownloadPayslip","alert","payslipElement","document","createElement","style","position","left","width","padding","backgroundColor","fontFamily","grossEarnings","payslip","basicSalary","hraAmount","conveyanceAllowance","medicalAllowance","specialAllowance","bonusAmount","totalDeductions","providentFund","professionalTax","incomeTax","netSalary","formatNumber","decimals","arguments","undefined","num","Number","isNaN","toString","toFixed","formatCurrency","amount","toLocaleString","innerHTML","formatPayPeriod","empName","employeeId","designation","department","bankName","panNumber","pfnum","ifsccode","totalWorkingDays","daysPresent","paidDays","lossOfPayDays","hikePercentage","body","appendChild","canvas","html2canvas","scale","useCORS","logging","removeChild","imgData","toDataURL","pdf","jsPDF","imgWidth","imgHeight","height","addImage","monthName","fileName","save","handleViewDetails","handleEdit","handleInputChange","useCallback","prev","_objectSpread","handleSave","updateData","email","phoneNumber","accountNumber","aadharNumber","uanNumber","put","success","updatedEmployee","_response$data","_err$response2","_err$response2$data","_err$response3","errorMessage","status","handleCancel","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format","payrollItem","getYearFromPayroll","filteredData","filter","item","itemMonth","itemYear","EmployeeDetails","_Fragment","onClick","disabled","jobType","stipend","level","startDate","toLocaleDateString","monthlySalary","annualSalary","FilterSection","window","history","back","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","index","PayrollTable","payrollId","PayslipModal","earnings","description","monthlyRate","currentMonth","arrear","total","deductions","push","src","alt","earning","colSpan","deduction"],"sourceRoot":""}