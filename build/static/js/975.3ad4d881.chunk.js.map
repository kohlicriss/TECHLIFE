{"version":3,"file":"static/js/975.3ad4d881.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/EmployeeDashboards/LeavesDashboard.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState, Fragment } from \"react\";\r\nimport { useMediaQuery } from \"@mui/material\";\r\nimport { Box } from \"@mui/material\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport {\r\n    PieChart,\r\n    Pie,\r\n    Cell,\r\n    ResponsiveContainer,\r\n    Tooltip,\r\n    BarChart,\r\n    Bar,\r\n    XAxis,\r\n    YAxis,\r\n    Label,\r\n} from \"recharts\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport Calendar from \"./Calender\";\r\nimport axios from 'axios';\r\nimport { Navigate, useParams } from \"react-router-dom\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport LeavesReports from \"./LeavesReports\";\r\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\r\nimport LeaveDetails from \"./LeaveDetails\";\r\nimport { FaFileAlt, FaRegFileAlt } from \"react-icons/fa\";\r\nimport { LiaFileAlt, LiaFileAltSolid } from \"react-icons/lia\";\r\nimport { IoPersonOutline } from \"react-icons/io5\";\r\nimport { authApi, dashboardApi } from \"../../../../axiosInstance\";\r\nimport EmployeeTable from \"./TotalEmployeeLeaves\";\r\n\r\n// AddLeaveForm component\r\n//const AddLeaveForm = ({ onClose, onAddLeave }) => {\r\n//    const { theme } = useContext(Context);\r\n//    const { empID } = useParams();\r\n//    const [showFromCalendar, setShowFromCalendar] = useState(false);\r\n//    const [showToCalendar, setShowToCalendar] = useState(false);\r\n//    const [fromDate, setFromDate] = useState(null);\r\n//    const [toDate, setToDate] = useState(null);\r\n//    const [selectedLeaveType, setSelectedLeaveType] = useState(\"\");\r\n//    const [reason, setReason] = useState(\"\");\r\n//    const [employeeId, setEmployeeId] = useState(empID || \"\");\r\n//    const [employeeName, setEmployeeName] = useState(\"\");\r\n//    const validity = [\r\n//        { sickLeave: \"5\" },\r\n//        { casualLeave: \"10\" },\r\n//        { unpaidLeave: \"0\" },\r\n//        { paidLeave: \"15\" },\r\n//    ];\r\n//    const handleLeaveTypeChange = (e) => {\r\n//        setSelectedLeaveType(e.target.value);\r\n//    };\r\n//   const handleSubmit = async (e) => {\r\n//    e.preventDefault();\r\n//\r\n//    // Map form fields to API variables\r\n//    const leaveRequest = {\r\n//        employeeId: employeeId,\r\n//        numberOfDays: fromDate && toDate\r\n//            ? Math.floor((toDate - fromDate) / (1000 * 60 * 60 * 24)) + 1\r\n//            : 1,\r\n//        req_To_from: fromDate ? fromDate.toISOString().slice(0, 10) : \"\",\r\n//        req_To_to: toDate ? toDate.toISOString().slice(0, 10) : \"\",\r\n//        leave_Reason: reason,\r\n//        isHalf_Day: false, // You can map this from your leave duration select if needed\r\n//        leave_Type: selectedLeaveType,\r\n//    };\r\n//\r\n//    try {\r\n//        // POST to the endpoint\r\n//        const response = await axios.post(\r\n//            `https://hrms.anasolconsultancyservices.com/api/attendance/employee/leaveRequest/${employeeId}`,\r\n//            leaveRequest\r\n//        );\r\n//\r\n//        // Store in localStorage\r\n//        const storedLeaves = JSON.parse(localStorage.getItem(`leaveHistory_${employeeId}`)) || [];\r\n//        localStorage.setItem(\r\n//            `leaveHistory_${employeeId}`,\r\n//            JSON.stringify([leaveRequest, ...storedLeaves])\r\n//        );\r\n//\r\n//        // Optionally call parent handler\r\n//        onAddLeave(leaveRequest);\r\n//        onClose();\r\n//    } catch (error) {\r\n//        console.error(\"Failed to submit leave request:\", error);\r\n//        alert(\"Failed to submit leave request. Please try again.\");\r\n//    }\r\n//};\r\n//\r\n//    return (\r\n//        <motion.div className=\"fixed inset-0 z-50 flex items-center justify-center bg-opacity-25 backdrop-blur-sm p-4\"    initial={{ opacity: 0 }}    animate={{ opacity: 1 }}    exit={{ opacity: 0 }}    transition={{ duration: 0.3 }}>\r\n//            <motion.div className=\"relative w-full max-w-3xl mx-auto  my-auto max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 md:scale-100\"    initial={{ scale: 0.9, opacity: 0 }}    animate={{ scale: 1, opacity: 1 }}    exit={{ scale: 0.9, opacity: 0 }}    transition={{ duration: 0.3 }}>\r\n//               \r\n//                <form onSubmit={handleSubmit} className={`relative w-full max-w-3xl mx-auto rounded-lg   shadow-2xl my-auto max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 md:scale-100 border border-green-200 ${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>\r\n//                   <div className=\" mb-4 text-center rounded-t bg-gradient-to-br from-orange-200 to-orange-600\"> \r\n//                    <h2 className={`text-2xl pt-6  font-bold border-b pb-8 ${theme === 'dark' ? 'text-white border-gray-100' : 'text-gray-800 border-gray-200'}`}>     Request a Leave</h2>\r\n//                    </div>\r\n//                    <div className=\"space-y-4 p-4\">\r\n//                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 \">\r\n//                            <motion.div initial={{ x: -20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.1 }}>\r\n//                                <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>\r\n//                                    Employee Id\r\n//                                </label>\r\n//                                <input    type=\"text\"    value={employeeId}    onChange={e => setEmployeeId(e.target.value)}    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white ':'border border-gray-300 text-black'}`}/>\r\n//                            </motion.div>\r\n//                            <motion.div initial={{ x: 20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.2 }}>\r\n//                                <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>    Employee Name</label>\r\n//                                <input    type=\"text\"    value={employeeName}    onChange={e => setEmployeeName(e.target.value)}    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white ':'border border-gray-300 text-black'}`}/>\r\n//                            </motion.div>\r\n//                        </div>\r\n//                        <motion.div initial={{ y: 20, opacity: 0 }} animate={{ y: 0, opacity: 1 }} transition={{ delay: 0.3 }}>\r\n//                             <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>   Leave Type</label>\r\n//                            <select    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100  ':'border border-gray-300 '} shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50`}    onChange={handleLeaveTypeChange}    value={selectedLeaveType}>\r\n//                                <option value=\"\"            className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Select</option>\r\n//                                <option value=\"Sick Leave\"  className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Sick Leave</option>\r\n//                                <option value=\"Casual Leave\"className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Casual Leave</option>\r\n//                                <option value=\"Unpaid Leave\"className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Unpaid Leave</option>\r\n//                                <option value=\"Paid Leave\"  className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Paid Leave</option>\r\n//                            </select>\r\n//                        </motion.div>\r\n//                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n//                            <motion.div initial={{ x: -20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.4 }}>\r\n//                                <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>   From</label>\r\n//                                <div className=\"relative mt-1\">\r\n//                                    <input type=\"text\" readOnly value={fromDate? fromDate.toLocaleDateString(\"en-GB\") : \"dd-mm-yyyy\"} onClick={() => setShowFromCalendar(!showFromCalendar)} className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white':'border border-gray-300 text-black'}`}/>\r\n//                                    {showFromCalendar && (\r\n//                                        <Calendar    selectedDate={fromDate}    onSelectDate={(date) => {        setFromDate(date);        setShowFromCalendar(false);    }}    onClose={() => setShowFromCalendar(false) } className={`$`} />\r\n//                                    )}\r\n//                                </div>\r\n//                            </motion.div>\r\n//                            <motion.div initial={{ x: 20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.5 }}>\r\n//                                 <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>     To</label>\r\n//                                <div className=\"relative mt-1\">\r\n//                                    <input    type=\"text\"    readOnly    value={        toDate ? toDate.toLocaleDateString(\"en-GB\") : \"dd-mm-yyyy\"    }    onClick={() => setShowToCalendar(!showToCalendar)}    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white':'border border-gray-300 text-black'}`}/>\r\n//                                    {showToCalendar && (\r\n//                                        <Calendar    selectedDate={toDate}    onSelectDate={(date) => {        setToDate(date);        setShowToCalendar(false);    }}    onClose={() => setShowToCalendar(false)}/>\r\n//                                    )}\r\n//                                </div>\r\n//                            </motion.div>\r\n//                        </div>\r\n//                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n//                            <motion.div initial={{ x: -20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.6 }}>\r\n//                                <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>    No. of Days</label>\r\n//                                <input    readOnly    type=\"text\"    value={        fromDate && toDate            ? `${            Math.floor((toDate - fromDate) / (1000 * 60 * 60 * 24)) +            1            } Days`            : \"0 Days\"    }    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white ':'border border-gray-300 text-black'}`}/>\r\n//                            </motion.div>\r\n//                            <motion.div initial={{ x: 20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.7 }}>\r\n//                               <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>     Leave Duration</label>\r\n//                                <select className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none  ${theme==='dark' ? 'border border-gray-100 text-white ':'border border-gray-300 text-black'}`}>\r\n//                                    <option value=\"\" className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Select</option>\r\n//                                     <option value=\"Full Day\" className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Full Day</option>\r\n//                                     <option value=\"First Half Day\"className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>First Half Day</option>\r\n//                                     <option value=\"Second Half Day\"className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Second Half Day</option>\r\n//                                </select>\r\n//                            </motion.div>\r\n//                        </div>\r\n//                        <motion.div initial={{ y: 20, opacity: 0 }} animate={{ y: 0, opacity: 1 }} transition={{ delay: 1 }}>\r\n//                            <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>    Reason</label>\r\n//                            <textarea    rows=\"3\"    value={reason}    onChange={(e) => setReason(e.target.value)}    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white ':'border border-gray-300 text-black'}`}></textarea>\r\n//                        </motion.div>\r\n//                    </div>\r\n//                    <div className=\"mt-6 flex justify-end space-x-3 border-t p-4\">\r\n//                        <motion.button    onClick={onClose}    type=\"button\"    className=\"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors\"    whileHover={{ scale: 1.05 }}    whileTap={{ scale: 0.95 }}>    Cancel</motion.button>\r\n//                        <motion.button    type=\"submit\"    className=\"rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors\"    whileHover={{ scale: 1.05 }}    whileTap={{ scale: 0.95 }}>    Add Leave</motion.button>\r\n//                    </div>\r\n//                </form>\r\n//            </motion.div>\r\n//        </motion.div>\r\n//    );\r\n//};\r\nconst AddLeaveForm = ({ onClose, onAddLeave }) => {\r\n    const { userData, theme } = useContext(Context);\r\n    const [fromDate, setFromDate] = useState(\"\");\r\n    const [toDate, setToDate] = useState(\"\");\r\n    const [leaveType, setLeaveType] = useState(\"\");\r\n    const [reason, setReason] = useState(\"\");\r\n    const [isHalfDay, setIsHalfDay] = useState(false);\r\n    const [employeeId, setEmployeeId] = useState(userData?.employeeId || \"\");\r\n\r\n    // Calculate number of days\r\n    const getNumberOfDays = () => {\r\n        if (!fromDate || !toDate) return 0;\r\n        const start = new Date(fromDate);\r\n        const end = new Date(toDate);\r\n        return Math.floor((end - start) / (1000 * 60 * 60 * 24)) + 1;\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        // e.preventDefault();\r\n        console.log(\"Submitting leave request:\", { fromDate, toDate, leaveType, reason, isHalfDay });\r\n        const leaveRequest = {\r\n            employeeId: userData?.employeeId,\r\n            numberOfDays: getNumberOfDays(),\r\n            req_To_from: fromDate,\r\n            req_To_to: toDate,\r\n            leave_Reason: reason,\r\n            isHalf_Day: isHalfDay,\r\n            leave_Type: leaveType,\r\n        };\r\n\r\n        try {\r\n            // POST to the endpoint\r\n            await axios.post(\r\n                `https://hrms.anasolconsultancyservices.com/api/attendance/employee/leaveRequest/${userData?.employeeId}`,\r\n                leaveRequest\r\n            );\r\n            console.log(\"Leave request submitted:\", leaveRequest);\r\n          \r\n            const key = `leaveHistory_${userData?.employeeId}`;\r\n            const storedLeaves = JSON.parse(localStorage.getItem(key)) || [];\r\n            localStorage.setItem(key, JSON.stringify([leaveRequest, ...storedLeaves]));\r\n            if (onAddLeave) onAddLeave(leaveRequest);\r\n            onClose();\r\n        } catch (error) {\r\n            // alert(\"Failed to submit leave request.\");\r\n            console.log(leaveRequest);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <motion.div className=\"fixed inset-0 z-50 flex items-center justify-center bg-opacity-25 backdrop-blur-sm p-4\"    initial={{ opacity: 0 }}    animate={{ opacity: 1 }}    exit={{ opacity: 0 }}    transition={{ duration: 0.3 }}>\r\n            <motion.div className=\"relative w-full max-w-3xl mx-auto  my-auto max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 md:scale-100\"    initial={{ scale: 0.9, opacity: 0 }}    animate={{ scale: 1, opacity: 1 }}    exit={{ scale: 0.9, opacity: 0 }}    transition={{ duration: 0.3 }}>\r\n                <form onSubmit={handleSubmit} className={`relative w-full max-w-3xl mx-auto rounded-lg   shadow-2xl my-auto max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 md:scale-100 border border-green-200 ${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>\r\n                   <div className=\" mb-4 text-center rounded-t bg-gradient-to-br from-orange-200 to-orange-600\"> \r\n                   <h2 className={`text-2xl pt-6  font-bold border-b pb-8 ${theme === 'dark' ? 'text-white border-gray-100' : 'text-gray-800 border-gray-200'}`}>     Request a Leave</h2>\r\n                    </div>\r\n                    <div className=\"space-y-4 p-4\">\r\n                    <motion.div initial={{ x: -20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.1 }}>\r\n                                <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>\r\n                                    Employee Id\r\n                                </label>\r\n                                <input    type=\"text\"    value={ employeeId}    onChange={e => setEmployeeId(e.target.value)}    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white ':'border border-gray-300 text-black'}`}/>\r\n                            </motion.div>\r\n                    <div>\r\n                        <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>From Date</label>\r\n                        <input type=\"date\" value={fromDate} onChange={e => setFromDate(e.target.value)} className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white':'border border-gray-300 text-black'}`} required />\r\n                    </div>\r\n                    <div>\r\n                        <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>To Date</label>\r\n                        <input type=\"date\" value={toDate} onChange={e => setToDate(e.target.value)} className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n                                               focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white':'border border-gray-300 text-black'}`} required />\r\n                    </div>\r\n                    <div>\r\n                        <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>Leave Type</label>\r\n                        <select value={leaveType} onChange={e => setLeaveType(e.target.value)} className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100  ':'border border-gray-300 '} shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50`} required>\r\n                            <option value=\"\"       className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Select</option>\r\n                            <option value=\"Sick\"   className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Sick</option>\r\n                            <option value=\"Casual\" className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Casual</option>\r\n                            <option value=\"Unpaid\" className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Unpaid</option>\r\n                            <option value=\"Paid\"   className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Paid</option>\r\n                        </select>\r\n                    </div>\r\n                    <div>\r\n                        <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>Reason</label>\r\n                        <textarea value={reason} onChange={e => setReason(e.target.value)} className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white ':'border border-gray-300 text-black'}`} required />\r\n                    </div>\r\n                    <div>\r\n                        <label>\r\n                            <input type=\"checkbox\" checked={isHalfDay} onChange={e => setIsHalfDay(e.target.checked)} />\r\n                            Half Day\r\n                        </label>\r\n                    </div>\r\n                    <div className=\"mt-6 flex justify-end space-x-3 border-t p-4\">\r\n                        <button type=\"submit\" className=\"rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors\"    whileHover={{ scale: 1.05 }}    whileTap={{ scale: 0.95 }}>Submit</button>\r\n                        <button type=\"button\" onClick={onClose} className=\"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors\"    whileHover={{ scale: 1.05 }}    whileTap={{ scale: 0.95 }}>Cancel</button>\r\n                    </div>\r\n                    </div>\r\n                </form>\r\n            </motion.div>\r\n        </motion.div>\r\n    );\r\n};\r\n// LeaveTypeCard component\r\nconst LeaveTypeCard = ({\r\n    title,\r\n    leaveData = { type: title, consumed: 0, remaining: 0, total: 0 },\r\n    color,\r\n}) => {\r\n    const isMobile = useMediaQuery(\"(max-width:500px)\");\r\n    const { type, consumed, remaining, total } = leaveData;\r\n    const chartData = [\r\n        { name: \"Consumed\", value: consumed },\r\n        { name: \"Remaining\", value: Math.max(total - consumed, 0) },\r\n    ];\r\n    const COLORS = [\"#8884d8\", \"#82ca9d\", \"#ffc658\", \"#ff8042\", \"#a4de6c\"];\r\n    const { theme } = useContext(Context);\r\n    return (\r\n        <motion.div\r\n            className={`rounded-xl shadow-lg p-6 h-full flex flex-col items-center justify-center border border-gray-200 hover:border-indigo-500 hover:shadow-2xl transition-all duration-300 ease-in-out ${theme === 'dark' ? 'bg-gray-600' : 'bg-stone-100 text-gray-800'}`}\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, ease: \"easeOut\" }}\r\n\r\n        >\r\n            <h1 className={`text-xl font-bold mb-4 text-center ${theme==='dark' ? 'bg-gradient-to-br from-yellow-100 to-yellow-400 bg-clip-text text-transparent border-gray-100':'text-gray-700'}`}>\r\n                {title}\r\n            </h1>\r\n            <Box\r\n                display=\"flex\"\r\n                flexDirection=\"column\"\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n                className=\"w-full\"\r\n            >\r\n                <>\r\n                <ResponsiveContainer width={140} height={140}>\r\n                    <PieChart>\r\n                        <Pie\r\n                            data={chartData}\r\n                            cx=\"50%\"\r\n                            cy=\"50%\"\r\n                            innerRadius={30}\r\n                            outerRadius={60}\r\n                            paddingAngle={3}\r\n                            dataKey=\"value\"\r\n                            stroke=\"none\"\r\n                            className=\"ml-0\"\r\n                        >\r\n                            {chartData.map((entry, index) => (\r\n                                <Cell key={`cell-${index}`} fill={COLORS[index]} />\r\n                            ))}\r\n                        </Pie>\r\n                        <text\r\n                            x=\"50%\"\r\n                            y=\"50%\"\r\n                            textAnchor=\"middle\"\r\n                            dominantBaseline=\"middle\"\r\n                            className={`text-lg font-semibold ${theme==='dark' ? 'text-gray-200':'text-gray-700'}`}\r\n                        >\r\n                            {type.split(\" \")[0]}\r\n                        </text>\r\n                        <Tooltip />\r\n                    </PieChart>\r\n                </ResponsiveContainer>\r\n                <div className={`text-center mt-4 space-y-2 text-sm ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n                    <div>\r\n                        <strong>Consumed:</strong>{\" \"}\r\n                        <span className=\"font-semibold text-sm text-red-600\">\r\n                            {consumed}\r\n                        </span>{\" \"}\r\n                        days\r\n                    </div>\r\n                    <div>\r\n                        <strong>Available:</strong>{\" \"}\r\n                        <span className=\"font-semibold text-sm text-green-600\">\r\n                            {\" \"}\r\n                            {remaining}\r\n                        </span>{\" \"}\r\n                        days\r\n                    </div>\r\n                    <div>\r\n                        <strong>Total:</strong> {total} days\r\n                    </div>\r\n                </div>\r\n                </>\r\n                \r\n            </Box>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\n// LeaveType component\r\nconst LeaveType = () => {\r\n    const COLORS = [\"#8884d8\", \"#82ca9d\", \"#ffc658\", \"#ff8042\", \"#a4de6c\"];\r\n    const { empID } = useParams();\r\n    const { userData,theme } = useContext(Context);\r\n    const [initialLeaveTypeData, setInitialLeaveTypeData] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n       const url = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/personalLeavesData`; \r\n        dashboardApi.get(url)\r\n            .then((response) => {\r\n                const formatted = response.data.map((item) => ({\r\n                    name: item.leaveType,\r\n                    value: item.days,\r\n                }));\r\n                setInitialLeaveTypeData(formatted);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error fetching personal leave data:\", error);\r\n            })\r\n            .finally(() => {\r\n                setIsLoading(false);\r\n            });\r\n    }, [empID]);\r\n//   const initialLeaveTypeData = [\r\n//  { employee: \"Rajesh\", leaveType: \"Sick Leave\", days: 5 },\r\n//  { employee: \"Rajesh\", leaveType: \"Paid Leave\", days: 2 },\r\n//  { employee: \"Rajesh\", leaveType: \"Unpaid Leave\", days: 4 },\r\n//  { employee: \"Rajesh\", leaveType: \"Casual Leave\", days: 3 },\r\n//];\r\n    const isMobile = useMediaQuery(\"(max-width:768px)\");\r\n    const renderCenterLabel = () => {\r\n        return (\r\n            <text\r\n                x=\"50%\"\r\n                y=\"50%\"\r\n                textAnchor=\"middle\"\r\n                dominantBaseline=\"middle\"\r\n                className=\"text-base font-semibold text-gray-700\"\r\n            >\r\n                Leave Types\r\n            </text>\r\n        );\r\n    };\r\n    const filteredData = initialLeaveTypeData.filter((item) => item.value > 0);\r\n\r\n    return (\r\n        <motion.div\r\n            className={` rounded-xl shadow-lg p-6 h-full flex flex-col border border-gray-200 hover:border-indigo-500 hover:shadow-2xl transition-all duration-300 ease-in-out ${theme === 'dark' ? 'bg-gray-600' : 'bg-stone-100 text-gray-800'}`}\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.2 }}\r\n        >\r\n             <h1 className={`text-2xl font-bold mb-4 text-center ${theme==='dark' ? 'bg-gradient-to-br from-purple-100 to-purple-400 bg-clip-text text-transparent border-gray-100':'text-gray-700 border-gray-200'} border-b pb-4`}>\r\n                Leave Type Breakdown\r\n            </h1>\r\n            <Box display=\"flex\" flexDirection={isMobile ? \"column\" : \"row\"} justifyContent=\"center\" alignItems=\"center\" height=\"100%\" gap={2} p={1}>\r\n                {isLoading ? (\r\n                    <div className=\"text-gray-500 text-center w-full\">Loading...</div>\r\n                ) :filteredData.length > 0 ? (\r\n                    <ResponsiveContainer width=\"100%\" height={250}>\r\n                        <PieChart>\r\n                            <Pie\r\n                                data={filteredData}\r\n                                cx=\"50%\"\r\n                                cy=\"50%\"\r\n                                innerRadius={60}\r\n                                outerRadius={100}\r\n                                fill=\"#8884d8\"\r\n                                dataKey=\"value\"\r\n                                paddingAngle={2}\r\n                                labelLine={false}\r\n                                label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\r\n                            >\r\n                                {filteredData.map((entry, index) => (\r\n                                    <Cell\r\n                                        key={`cell-${index}`}\r\n                                        fill={COLORS[index % COLORS.length]}\r\n                                    />\r\n                                ))}\r\n                            </Pie>\r\n                            <Label content={renderCenterLabel} position=\"center\" />\r\n                            <Tooltip />\r\n                        </PieChart>\r\n                    </ResponsiveContainer>\r\n                ) : (\r\n                    <div className={` text-center w-full ${theme === 'dark' ? 'text-white' : 'text-gray-500'} italic`}>\r\n                        No leave data available.\r\n                    </div>\r\n                )}\r\n            </Box>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\n// WeeklyPattern component\r\nconst WeeklyPattern = () => {\r\n    \r\n    const { employeeId } = useParams(); \r\n    // const { empID, employeeId } = useParams(); \r\n    \r\n    const { userData,theme } = useContext(Context);\r\n    const [selectedDay, setSelectedDay] = useState(\"All\");\r\n    const [rawData, setRawData] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(null); \r\n     const textColor = theme === 'dark' ? \"#FFFFFF\" : \"#000000\";\r\n\r\n   \r\n\r\n    useEffect(() => {\r\n        const url = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/leavesbar-graph`; \r\n        dashboardApi.get(url)\r\n            .then((response) => {\r\n                const formatted = response.data.map((item) => ({\r\n                  \r\n                    Day: item.day,\r\n                    Rate: item.rate,\r\n                }));\r\n                setRawData(formatted);\r\n                console.log(\"Give me Weekly pattern:\",formatted)\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error fetching leaves bar chart data:\", error);\r\n              \r\n                const errorMessage = error.response \r\n                    ? `Error: ${error.response.status} - ${error.response.statusText}` \r\n                    : \"Failed to load weekly leave pattern data.\";\r\n                setError(errorMessage);\r\n            })\r\n            .finally(() => {\r\n                setIsLoading(false);\r\n            });\r\n\r\n      \r\n        return () => {\r\n           \r\n        };\r\n\r\n   \r\n    }, [employeeId]); \r\n    const isMobile = useMediaQuery(\"(max-width:768px)\");\r\n    const dayOptions = [\"All\", ...new Set(rawData.map((d) => d.Day))];\r\n    const filteredData =\r\n        selectedDay === \"All\"\r\n            ? rawData\r\n            : rawData.filter((entry) => entry.Day === selectedDay);\r\n\r\n    return (\r\n        <motion.div\r\n            className={` shadow-lg rounded-xl p-6 h-full flex flex-col border border-gray-200 hover:border-indigo-500 hover:shadow-2xl transition-all duration-300 ease-in-out ${theme === 'dark' ? 'bg-gray-600' : 'bg-stone-100 text-gray-800'}`}\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.4 }}\r\n        >\r\n            <h1 className={`text-2xl font-bold mb-4 text-center ${theme==='dark' ? 'bg-gradient-to-br from-purple-100 to-purple-400 bg-clip-text text-transparent border-gray-100':'text-gray-700 border-gray-200'} border-b pb-4`}>\r\n                Weekly Leave Pattern\r\n            </h1>\r\n            \r\n            {/* Day Selector UI */}\r\n            <div className=\"mb-4 text-center\">\r\n                <label className={`mr-2 font-semibold  ${theme==='dark' ? 'text-white':'text-gray-700'}`}>Select Day:</label>\r\n                <select\r\n                    value={selectedDay}\r\n                    onChange={(e) => setSelectedDay(e.target.value)}\r\n                    className={`p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 ${theme==='dark' ? 'text-white':' text-gray-800 '}`}\r\n                    disabled={isLoading || error}\r\n                >\r\n                    {dayOptions.map((day) => (\r\n                        <option key={day} value={day}>\r\n                            {day}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n            \r\n            {/* Chart/Loading/Error Display Area */}\r\n            <Box\r\n                display=\"flex\"\r\n                flexDirection={isMobile ? \"column\" : \"row\"}\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n                height=\"100%\"\r\n                gap={5}\r\n                p={isMobile ? 1 : 2}\r\n            >\r\n                { filteredData.length > 0 ? (\r\n                    <ResponsiveContainer width=\"100%\" height={230}>\r\n                        <BarChart\r\n                            data={filteredData}\r\n                            margin={{ top: 10, right: 10, left: 10, bottom: 0 }}\r\n                        >\r\n                            <XAxis\r\n                                dataKey=\"Day\"\r\n                                axisLine={false}\r\n                                tickLine={false}\r\n                                stroke={textColor}\r\n                                className=\"text-sm text-gray-600\"\r\n                            />\r\n                            <YAxis hide />\r\n                            <Tooltip contentStyle={{ backgroundColor: theme ==='dark' ? \"#63676cff\" : \"#fff\", border: theme ? \"1px solid #4B5563\" : \"1px solid #ccc\" }} />\r\n                            <Bar dataKey=\"Rate\" fill=\"#69d6dbff\" radius={[8, 8, 0, 0]} />\r\n                        </BarChart>\r\n                    </ResponsiveContainer>\r\n                ) : ( \r\n                    <div className={` text-center w-full ${theme === 'dark' ? 'text-white' : 'text-gray-500'} italic`}>\r\n                        No weekly leave pattern data available.\r\n                    </div>\r\n                )}\r\n            </Box>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\n\r\n// LeaveHistory component\r\n//const LeaveHistory = ({ leaveHistoryData }) => {\r\n//    const [leaveTypeFilter, setLeaveTypeFilter] = useState(\"All\");\r\n//    const [statusFilter, setStatusFilter] = useState(\"All\");\r\n//    const [sortOption, setSortOption] = useState(\"Recently added\");\r\n//    const [apiPageSize, setApiPageSize] = useState(10);\r\n//   const [rowsPerPage, setRowsPerPage] = useState(10);\r\n//    const rowsPerPageOptions = [10, 25, 50, 100];\r\n//    const [currentPage, setCurrentPage] = useState(1);\r\n//    const [isLoading, setIsLoading] = useState(false);\r\n//    const { empID } = useParams();\r\n//    const [selectedLeave, setSelectedLeave] = useState(null);\r\n//    const { theme } = useContext(Context);\r\n//\r\n//const handleDetailsClick = (leave) => {\r\n//  setSelectedLeave(leave);\r\n//};\r\n//\r\n//const handleCloseModal = () => {\r\n//  setSelectedLeave(null);\r\n//};\r\n//\r\n//    const leaveTypes = [\"All\", ...new Set(leaveHistoryData.map((d) => d.Leave_type))];\r\n//    const statuses = [\"All\", ...new Set(leaveHistoryData.map((d) => d.status))];\r\n//    const sortOptions = [\"Recently added\", \"Ascending\", \"Descending\", \"Last Month\", \"Last 7 Days\"];\r\n//\r\n//    const filterAndSortData = () => {\r\n//        let data = [...leaveHistoryData];\r\n//        data = data.filter((item) => {\r\n//            return (\r\n//                (leaveTypeFilter === \"All\" || item.Leave_type === leaveTypeFilter) &&\r\n//                (statusFilter === \"All\" || item.status === statusFilter)\r\n//            );\r\n//        });\r\n//        switch (sortOption) {\r\n//            case \"Ascending\":\r\n//                data.sort((a, b) => a.Leave_type.localeCompare(b.Leave_type));\r\n//                break;\r\n//            case \"Descending\":\r\n//                data.sort((a, b) => b.Leave_type.localeCompare(a.Leave_type));\r\n//                break;\r\n//            case \"Last Month\":\r\n//                const lastMonth = new Date();\r\n//                lastMonth.setMonth(lastMonth.getMonth() - 1);\r\n//                data = data.filter((item) => new Date(item.Leave_On) >= lastMonth);\r\n//                break;\r\n//            case \"Last 7 Days\":\r\n//                const last7Days = new Date();\r\n//                last7Days.setDate(last7Days.getDate() - 7);\r\n//                data = data.filter((item) => new Date(item.Leave_On) >= last7Days);\r\n//                break;\r\n//            case \"Recently added\":\r\n//            default:\r\n//                data.sort((a, b) => new Date(b.Action_Date) - new Date(a.Action_Date));\r\n//                break;\r\n//        }\r\n//        return data;\r\n//    };\r\n//\r\n//    const filteredAndSortedData = filterAndSortData();\r\n//    const totalPages = Math.ceil(filteredAndSortedData.length / rowsPerPage);\r\n//    const paginatedData = filteredAndSortedData.slice(\r\n//        (currentPage - 1) * rowsPerPage,\r\n//        currentPage * rowsPerPage\r\n//    );\r\n//\r\n//    return (\r\n//        <motion.div\r\n//            className={`shadow-lg rounded-xl p-6 col-span-full border border-gray-200 hover:border-indigo-500 hover:shadow-2xl transition-all duration-300 ease-in-out ${theme === 'dark' ? 'bg-gray-600' : 'bg-stone-100 text-gray-800'}`}\r\n//            initial={{ opacity: 0, y: 50 }}\r\n//            animate={{ opacity: 1, y: 0 }}\r\n//            transition={{ duration: 0.5, delay: 0.6 }}\r\n//        >\r\n//            <h2 className={`text-2xl font-bold mb-4 text-left border-b pb-4 ${theme === 'dark' ? 'bg-gradient-to-br from-green-400 to-green-800 bg-clip-text text-transparent border-gray-100' : 'text-gray-800 border-gray-200'} `}>\r\n//                Leave Requests History\r\n//            </h2>\r\n//            <div className=\"flex flex-wrap items-center gap-4 mb-6\">\r\n//                <div className=\"relative\">\r\n//                    <label className={`text-base font-semibold mr-2 ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n//                        Leave Type:\r\n//                    </label>\r\n//                    <select\r\n//                        value={leaveTypeFilter}\r\n//                        onChange={(e) => setLeaveTypeFilter(e.target.value)}\r\n//                        className={`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 border ${theme==='dark' ? 'border-black  bg-gray-500 text-white':'border-gray-300'}`}\r\n//                    >\r\n//                        {leaveTypes.map((type) => (\r\n//                            <option key={type} value={type}>\r\n//                                {type}\r\n//                            </option>\r\n//                        ))}\r\n//                    </select>\r\n//                </div>\r\n//                <div>\r\n//                    <label className={`text-base font-semibold mr-2 ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n//                        Status:\r\n//                    </label>\r\n//                    <select\r\n//                        value={statusFilter}\r\n//                        onChange={(e) => setStatusFilter(e.target.value)}\r\n//                        className={`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 border ${theme==='dark' ? 'border-black bg-gray-500 text-white':'border-gray-300'}`}\r\n//                    >\r\n//                        {statuses.map((status) => (\r\n//                            <option key={status} value={status}>\r\n//                                {status}\r\n//                            </option>\r\n//                        ))}\r\n//                    </select>\r\n//                </div>\r\n//                <div className=\"relative\">\r\n//                     <label className={`text-base font-semibold mr-2 ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n//                        Sort by:\r\n//                    </label>\r\n//                    <select\r\n//                        value={sortOption}\r\n//                        onChange={(e) => setSortOption(e.target.value)}\r\n//                        className={`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 ${theme==='dark' ? 'border-black  bg-gray-500 text-white':'border-gray-300'} border`}\r\n//                    >\r\n//                        {sortOptions.map((option) => (\r\n//                            <option key={option} value={option}>\r\n//                                {option}\r\n//                            </option>\r\n//                        ))}\r\n//                    </select>\r\n//                </div>\r\n//            </div>\r\n//            <div className=\"overflow-x-auto rounded-xl\">\r\n//                <table className=\"min-w-full divide-y divide-gray-200 broder border-gray-200\">\r\n//                    <thead className={`bg-gray-50 ${theme==='dark' ? 'border-black  bg-gray-500 text-white':''}`}>\r\n//                        <tr>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Leave Type</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Leave On</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Status</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Request By</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Granted By</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Details</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Action Date</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Rejection Reason</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Action</th>\r\n//                        </tr>\r\n//                    </thead>\r\n//                    <tbody className=\"bg-white divide-y divide-gray-500\">\r\n//                        <AnimatePresence mode=\"wait\">\r\n//                             {paginatedData.length > 0 ? (\r\n//                                paginatedData.map((row, index) => (\r\n//                                    <motion.tr\r\n//                                        key={index}\r\n//                                        className=\"hover:bg-gray-50\"\r\n//                                        initial={{ opacity: 0, y: 20 }}\r\n//                                        animate={{ opacity: 1, y: 0 }}\r\n//                                        exit={{ opacity: 0, y: -20 }}\r\n//                                        transition={{ duration: 0.3, delay: index * 0.05 }}\r\n//                                    >\r\n//                                        <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>  {row.Leave_type}</td>\r\n//                                        <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}> {row.Leave_On}</td>\r\n//                                       <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500':''}`}>\r\n//                                            <span className={`px-2 py-1 rounded-full text-white text-xs font-semibold ${row.status === \"accepted\" ? \"bg-green-500\" : row.status === \"rejected\" ? \"bg-red-500\" : \"bg-blue-500\"}`}> {row.status}</span>\r\n//                                        </td>\r\n//                                        <td className={`px-4 py-3 whitespace-nowrap text-sm ${theme==='dark' ? ' bg-gray-500 text-gray-200 ':'text-gray-900'}`}> {row.Request_By || \"-\"}</td>\r\n//                                       <td className={`px-4 py-3 whitespace-nowrap text-sm ${theme==='dark' ?  ' bg-gray-500 text-gray-200':'text-gray-900'}`}> {row.Granted_By || \"-\"}</td>\r\n//                                       <td className={`px-4 py-3 whitespace-nowrap text-sm text-center ${theme==='dark' ?    'bg-gray-500 text-gray-200 ':''}`}>\r\n//                                            <button\r\n//                                                 onClick={() => handleDetailsClick(row)}\r\n//                                                 className=\"text-indigo-600 hover:text-indigo-800 text-lg\"\r\n//                                                 title=\"View Details\"\r\n//                                               >\r\n//                                                <FaFileAlt className={` ${theme==='dark'?'text-blue-200':'text-blue-600'} text-lg inline w-6 h-6 md:w-6 md:h-6 transition `} />\r\n//                                            </button>\r\n//                                        </td>\r\n//                                        <LeaveDetails leave={selectedLeave} onClose={handleCloseModal} />\r\n//                                        <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>\r\n//                                            {row.Action_Date}\r\n//                                        </td>\r\n//                                       <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>\r\n//                                            {row.Rejection_Reason || \"-\"}\r\n//                                        </td>\r\n//                                        <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>\r\n//                                            <a\r\n//                                                href={row.Action}\r\n//                                                target=\"_blank\"\r\n//                                                rel=\"noreferrer\"\r\n//                                                className={` ${theme==='dark'?'text-gray-200':'text-gray-600'} hover:text-gray-800 text-lg`}\r\n//                                            >\r\n//                                                \r\n//                                            </a>\r\n//                                        </td>\r\n//                                    </motion.tr>\r\n//                                ))\r\n//                            ) : (\r\n//                                <motion.tr\r\n//                                    initial={{ opacity: 0 }}\r\n//                                    animate={{ opacity: 1 }}\r\n//                                    transition={{ duration: 0.3 }}\r\n//                                >\r\n//                                    <td colSpan=\"12\" className={`text-center py-4 text-gray-500 ${theme==='dark' ? ' bg-gray-500 text-white':''} italic`}>\r\n//                                        {isLoading ? \"Loading...\" : \"No matching records found.\"}\r\n//                                    </td>\r\n//                                </motion.tr>\r\n//                            )}\r\n//                        </AnimatePresence>\r\n//                    </tbody>\r\n//                </table>\r\n//            </div>\r\n//             {/* PAGINATION CONTROLS */}\r\n//            <div className=\"mt-4 flex flex-col sm:flex-row items-center justify-between\">\r\n//                <div className=\"flex items-center gap-2 mb-4 sm:mb-0\">\r\n//                    <span className={`text-sm text-gray-700 ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>Rows per page:</span>\r\n//                    <select value={rowsPerPage} onChange={(e) => { setRowsPerPage(Number(e.target.value)); setCurrentPage(1); }} className={`border border-gray-300 px-2 py-1 rounded-md text-sm ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500' : 'bg-white text-gray-800'}`}>\r\n//                        {rowsPerPageOptions.map((option) => <option key={option} value={option}>{option}</option>)}\r\n//                    </select>\r\n//                </div>\r\n//                <nav className=\"flex items-center gap-2\">\r\n//                    <button onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))} disabled={currentPage === 1} className={`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500 hover:bg-gray-500' : 'bg-white text-gray-800'} `}>Previous</button>\r\n//                    <span  className={`text-sm text-gray-700 ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>Page {currentPage} of {totalPages}</span>\r\n//                    <button onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))} disabled={currentPage === totalPages || totalPages === 0} className={`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500 hover:bg-gray-500' : 'bg-white text-gray-800'} `}>Next</button>\r\n//                </nav>\r\n//            </div>\r\n//        </motion.div>\r\n//    );\r\n//};\r\nconst LeaveHistory = ({ leaveHistoryData }) => {\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [leaveTypeFilter, setLeaveTypeFilter] = useState(\"All\");\r\n    const [statusFilter, setStatusFilter] = useState(\"All\");\r\n    const [sortOption, setSortOption] = useState(\"Recently added\");\r\n   const [rowsPerPage, setRowsPerPage] = useState(10);\r\n    const rowsPerPageOptions = [10, 25, 50, 100];\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const { empID } = useParams();\r\n    const [selectedLeave, setSelectedLeave] = useState(null);\r\n    const { theme } = useContext(Context);\r\n    const sortOptions = [\"Recently added\", \"Ascending\", \"Descending\", \"Last Month\", \"Last 7 Days\"];\r\n\r\n    const leaveTypes = [\"All\", ...new Set(leaveHistoryData.map((d) => d.leave_type))];\r\n    const statuses = [\"All\", ...new Set(leaveHistoryData.map((d) => d.status))];\r\n    const handleDetailsClick = (leave) => {\r\n  setSelectedLeave(leave);\r\n};\r\n\r\nconst handleCloseModal = () => {\r\n  setSelectedLeave(null);\r\n};\r\n   // const sortOptions = [\"Recently added\", \"Ascending\", \"Descending\", \"Last Month\", \"Last 7 Days\"];\r\n    const filterAndSortData = () => {\r\n        let data = [...leaveHistoryData];\r\n        data = data.filter((item) => {\r\n            return (\r\n                (leaveTypeFilter === \"All\" || item.leave_type === leaveTypeFilter) &&\r\n                (statusFilter === \"All\" || item.status === statusFilter)\r\n            );\r\n        });\r\n        switch (sortOption) {\r\n            case \"Ascending\":\r\n                data.sort((a, b) => a.leave_type.localeCompare(b.leave_type));\r\n                break;\r\n            case \"Descending\":\r\n                data.sort((a, b) => b.leave_type.localeCompare(a.leave_type));\r\n                break;\r\n            case \"Last Month\":\r\n                const lastMonth = new Date();\r\n                lastMonth.setMonth(lastMonth.getMonth() - 1);\r\n                data = data.filter((item) => new Date(item.leave_On) >= lastMonth);\r\n                break;\r\n            case \"Last 7 Days\":\r\n                const last7Days = new Date();\r\n                last7Days.setDate(last7Days.getDate() - 7);\r\n                data = data.filter((item) => new Date(item.leave_On) >= last7Days);\r\n                break;\r\n            case \"Recently added\":\r\n            default:\r\n                data.sort((a, b) => new Date(b.action_Date) - new Date(a.action_Date));\r\n                break;\r\n        }\r\n        return data;\r\n    };\r\n   const filteredAndSortedData= filterAndSortData();\r\n    const totalPages = Math.ceil(filteredAndSortedData.length / rowsPerPage);\r\n    const paginatedData = filteredAndSortedData.slice(\r\n        (currentPage - 1) * rowsPerPage,\r\n        currentPage * rowsPerPage\r\n    );\r\n    return (\r\n        <div className={`shadow-lg rounded-xl p-6 border ${theme === 'dark' ? 'bg-gray-600' : 'bg-white'}`}>\r\n             <h2 className={`text-2xl font-bold mb-4 text-left border-b pb-4 ${theme === 'dark' ? 'bg-gradient-to-br from-green-400 to-green-800 bg-clip-text text-transparent border-gray-100' : 'text-gray-800 border-gray-200'} `}>\r\n               Leave Requests History\r\n           </h2>\r\n           <div className=\"flex flex-wrap items-center gap-4 mb-6\">\r\n               <div className=\"relative\">\r\n                   <label className={`text-base font-semibold mr-2 ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n                       Leave Type:\r\n                   </label>\r\n                   <select\r\n                       value={leaveTypeFilter}\r\n                       onChange={(e) => setLeaveTypeFilter(e.target.value)}\r\n                       className={`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 border ${theme==='dark' ? 'border-black  bg-gray-500 text-white':'border-gray-300'}`}\r\n                   >\r\n                       {leaveTypes.map((type) => (\r\n                           <option key={type} value={type}>\r\n                               {type}\r\n                           </option>\r\n                       ))}\r\n                   </select>\r\n               </div>\r\n               <div>\r\n                   <label className={`text-base font-semibold mr-2 ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n                       Status:\r\n                   </label>\r\n                   <select\r\n                       value={statusFilter}\r\n                       onChange={(e) => setStatusFilter(e.target.value)}\r\n                       className={`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 border ${theme==='dark' ? 'border-black bg-gray-500 text-white':'border-gray-300'}`}\r\n                   >\r\n                       {statuses.map((status) => (\r\n                           <option key={status} value={status}>\r\n                               {status}\r\n                           </option>\r\n                       ))}\r\n                   </select>\r\n               </div>\r\n               <div className=\"relative\">\r\n                    <label className={`text-base font-semibold mr-2 ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n                       Sort by:\r\n                   </label>\r\n                   <select\r\n                       value={sortOption}\r\n                       onChange={(e) => setSortOption(e.target.value)}\r\n                       className={`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 ${theme==='dark' ? 'border-black  bg-gray-500 text-white':'border-gray-300'} border`}\r\n                   >\r\n                       {sortOptions.map((option) => (\r\n                           <option key={option} value={option}>\r\n                               {option}\r\n                           </option>\r\n                       ))}\r\n                   </select>\r\n               </div>\r\n           </div>\r\n           <div className=\"overflow-x-auto rounded-xl\">\r\n               <table className=\"min-w-full divide-y divide-gray-200 broder border-gray-200\">\r\n                   <thead className={`bg-gray-50 ${theme==='dark' ? 'border-black  bg-gray-500 text-white':''}`}>\r\n                    <tr>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Status</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Details</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Action</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Leave Type</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Leave On</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Request By</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Action Date</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Rejection Reason</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>LeaveDetails</th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-500\">\r\n                    {paginatedData.length > 0 ? paginatedData.map((row, idx) => (\r\n                        <tr key={idx}>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}><span className={`px-2 py-1 rounded-full text-white text-xs font-semibold ${row.status === \"APPROVED\" ? \"bg-green-500\" : row.status === \"rejected\" ? \"bg-red-500\" : \"bg-blue-500\"}`}> {row.status}</span></td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.details}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.action}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.leave_type}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.leave_on}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.request_By}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.action_Date}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.rejection_Reason}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm text-center ${theme==='dark' ?    'bg-gray-500 text-gray-200 ':''}`}>\r\n                                            <button\r\n                                                 onClick={() => handleDetailsClick(row)}\r\n                                                 className=\"text-indigo-600 hover:text-indigo-800 text-lg\"\r\n                                                 title=\"View Details\"\r\n                                               >\r\n                                                <FaFileAlt className={` ${theme==='dark'?'text-blue-200':'text-blue-600'} text-lg inline w-6 h-6 md:w-6 md:h-6 transition `} />\r\n                                            </button>\r\n                                        </td>\r\n                                        <LeaveDetails leave={selectedLeave} onClose={handleCloseModal} />\r\n                        </tr>\r\n                    )) : (\r\n                        <tr>\r\n                            <td colSpan={8} className={`text-center py-4 text-gray-500 ${theme==='dark' ? ' bg-gray-500 text-white':''} italic`}>No leave history found.</td>\r\n                        </tr>\r\n                    )}\r\n                </tbody>\r\n            </table>\r\n              </div>\r\n            <div className=\"mt-4 flex flex-col sm:flex-row items-center justify-between\">\r\n               <div className=\"flex items-center gap-2 mb-4 sm:mb-0\">\r\n                   <span className={`text-sm text-gray-700 ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>Rows per page:</span>\r\n                   <select value={rowsPerPage} onChange={(e) => { setRowsPerPage(Number(e.target.value)); setCurrentPage(1); }} className={`border border-gray-300 px-2 py-1 rounded-md text-sm ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500' : 'bg-white text-gray-800'}`}>\r\n                       {rowsPerPageOptions.map((option) => <option key={option} value={option}>{option}</option>)}\r\n                   </select>\r\n               </div>\r\n               <nav className=\"flex items-center gap-2\">\r\n                   <button onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))} disabled={currentPage === 1} className={`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500 hover:bg-gray-500' : 'bg-white text-gray-800'} `}>Previous</button>\r\n                   <span  className={`text-sm text-gray-700 ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>Page {currentPage} of {totalPages}</span>\r\n                   <button onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))} disabled={currentPage === totalPages || totalPages === 0} className={`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500 hover:bg-gray-500' : 'bg-white text-gray-800'} `}>Next</button>\r\n               </nav>\r\n           </div>\r\n        </div>\r\n    );\r\n};\r\nconst UserGreeting = ({ handleRequestLeave }) => {\r\n    const { userData, theme } = useContext(Context);\r\n    const [loggedInUserProfile, setLoggedInUserProfile] = useState({\r\n        image: null,\r\n        initials: \" \"\r\n    });\r\n\r\n    // Attendance summary state\r\n    const [attendanceSummary, setAttendanceSummary] = useState(null);\r\n    const [summaryLoading, setSummaryLoading] = useState(true);\r\n\r\n    // --- Effects (Logic remains the same) ---\r\n    useEffect(() => {\r\n        const userPayload = JSON.parse(localStorage.getItem(\"emppayload\"));\r\n        const userImage = localStorage.getItem(\"loggedInUserImage\");\r\n\r\n        const initials = (userPayload?.displayName || \" \")\r\n            .split(\" \")\r\n            .map((word) => word[0])\r\n            .join(\"\")\r\n            .substring(0, 2)\r\n            .toUpperCase();\r\n\r\n        setLoggedInUserProfile({\r\n            image: userImage,\r\n            initials: initials,\r\n        });\r\n    }, [userData]);\r\n\r\n    useEffect(() => {\r\n        async function fetchAttendanceSummary() {\r\n            setSummaryLoading(true);\r\n            try {\r\n                const month = new Date().getMonth() + 1;\r\n                const year = new Date().getFullYear();\r\n                // Note: It's redundant to pass the query params if they are already in the path, \r\n                // but keeping the URL as is for functional correctness based on your original code.\r\n                const url = `https://hrms.anasolconsultancyservices.com/api/attendance/getLeaves/${userData?.employeeId}/${month}/${year}?employee_id=${userData?.employeeId}&month=${month}&year=${year}`;\r\n                const response = await axios.get(url);\r\n                setAttendanceSummary(response.data);\r\n            } catch (error) {\r\n                setAttendanceSummary(null);\r\n            } finally {\r\n                setSummaryLoading(false);\r\n            }\r\n        }\r\n        if (userData?.employeeId) fetchAttendanceSummary();\r\n    }, [userData?.employeeId]);\r\n\r\n    // --- Rendering (Visual Changes) ---\r\n    return (\r\n        <motion.div\r\n            className={`flex flex-col xl:flex-row justify-between items-start xl:items-center p-3 sm:p-4 rounded-2xl shadow-2xl mb-8 transition-all duration-300\r\n                        ${theme === 'dark'\r\n                            ? 'bg-gray-800 border-t-4 border-indigo-600' // Dark mode refinement\r\n                            : 'bg-white border-t-4 border-indigo-600' // Light mode clean look\r\n                        }`}\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, type: \"spring\", stiffness: 100 }}\r\n        >\r\n            {/* Greeting and Profile Section (More prominent on all screens) */}\r\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center space-y-4 sm:space-y-0 sm:space-x-6 w-full xl:w-3/5 mb-6 xl:mb-0\">\r\n                \r\n                {/* Profile Image/Initials - Increased Size */}\r\n                <motion.div\r\n                    className={`flex-shrink-0 w-16 h-16 sm:w-20 sm:h-20 rounded-full overflow-hidden flex items-center justify-center border-4 \r\n                        ${theme === 'dark' ? 'border-gray-700 bg-indigo-700' : 'border-indigo-100 bg-indigo-600'} shadow-xl`}\r\n                    whileHover={{ scale: 1.05 }}\r\n                    transition={{ type: \"spring\", stiffness: 300 }}\r\n                >\r\n                    {loggedInUserProfile.image ? (\r\n                        <img\r\n                            src={loggedInUserProfile.image}\r\n                            alt=\"Profile\"\r\n                            className=\"w-full h-full object-cover\"\r\n                        />\r\n                    ) : (\r\n                        <span className={`text-2xl sm:text-3xl font-extrabold text-white`}>\r\n                            {loggedInUserProfile.initials}\r\n                        </span>\r\n                    )}\r\n                </motion.div>\r\n\r\n                <div className=\"flex-1\">\r\n                    {/* Welcome Text - Larger and more impactful */}\r\n                    <h2 className={`text-2xl sm:text-4xl font-extrabold flex items-center ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                        Welcome, <span className=\"text-indigo-600 ml-2\">{userData?.fullName || 'User'}</span>!\r\n                    </h2>\r\n                    <p className={`text-sm sm:text-base mt-1 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                        Your monthly attendance summary for a quick glance.\r\n                    </p>\r\n\r\n                    {/* Attendance summary layout - Enhanced Dashboard Style */}\r\n                    <div className={`mt-4 p-4 rounded-xl transition-colors duration-300 \r\n                        ${theme === 'dark' ? 'bg-gray-900/50 backdrop-blur-sm' : 'bg-indigo-50/70'} border ${theme === 'dark' ? 'border-gray-700' : 'border-indigo-200'}`}>\r\n                        \r\n                        {summaryLoading ? (\r\n                            <span className=\"text-xs font-medium text-indigo-400\">Fetching attendance summary...</span>\r\n                        ) : attendanceSummary ? (\r\n                            <div className=\"grid grid-cols-2 md:grid-cols-5 gap-y-3 gap-x-6 text-sm\">\r\n                                \r\n                                {/* Leave Balances */}\r\n                                {['Paid', 'Sick', 'Casual', 'Unpaid'].map((type, index) => (\r\n                                    <div key={type} className=\"flex flex-col\">\r\n                                        <span className={`text-xs uppercase font-medium ${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>{type}</span>\r\n                                        <span className={`text-xl font-bold ${theme === 'dark' ? 'text-indigo-400' : 'text-indigo-600'}`}>\r\n                                            {attendanceSummary[type.toLowerCase()]}\r\n                                        </span>\r\n                                    </div>\r\n                                ))}\r\n\r\n                                {/* Shift Details - Made a focal point on desktop/tablet */}\r\n                                <div className=\"col-span-2 md:col-span-1 flex flex-col items-start md:items-center p-2 rounded-lg bg-white shadow-inner md:bg-transparent md:shadow-none\">\r\n                                    <span className={`text-xs uppercase font-medium ${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>Shift</span>\r\n                                    <span className={`text-sm font-semibold mt-1 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                                        {attendanceSummary.shiftName || 'N/A'}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <span className=\"text-sm font-medium text-red-500\">Could not load attendance summary.</span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Request Leave Button - More prominent and full-width on mobile */}\r\n            <motion.button\r\n                onClick={handleRequestLeave}\r\n                className=\"w-full xl:w-auto flex items-center justify-center px-6 py-3 mt-4 xl:mt-0 bg-gradient-to-r from-indigo-500 to-purple-600 text-base text-white font-bold rounded-xl shadow-lg hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-white transition-all duration-300 transform active:scale-98\"\r\n                whileHover={{ scale: 1.05, boxShadow: \"0 10px 20px -5px rgba(99, 102, 241, 0.7)\" }}\r\n                whileTap={{ scale: 0.98 }}\r\n            >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 inline mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4v16m8-8H4\" />\r\n                </svg>\r\n                Request New Leave\r\n            </motion.button>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\n// LeavesDashboard component\r\nconst LeavesDashboard = () => {\r\n    const { theme } = useContext(Context);\r\n    const [leaveSummaryData, setLeaveSummaryData] = useState([]);\r\n    const { empID,employeeId } = useParams();\r\n    const { userData } = useContext(Context);\r\n     const [sidebarView, setSidebarView] = useState(null);\r\n    const role = (userData?.roles?.[0] || \"\").toUpperCase();\r\n    const [sidebarOpen, setSidebarOpen] = useState(false);\r\n    const [showReport, setShowReport] = useState(false);\r\n    const [showMain,setShowMain]=useState(false);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n     const [error, setError] = useState(null);\r\n    const showSidebar = [\"TEAM_LEAD\", \"HR\", \"MANAGER\",\"ADMIN\"].includes(role);\r\n    const [currentLeaveHistoryData, setCurrentLeaveHistoryData] = useState([\r\n\r\n    ]);\r\n     const [loggedPermissiondata,setLoggedPermissionData]=useState([]);\r\n              const [matchedArray,setMatchedArray]=useState(null);\r\n               const LoggedUserRole=userData?.roles[0]?`ROLE_${userData?.roles[0]}`:null\r\n        \r\n        \r\n               useEffect(()=>{\r\n                 let fetchedData=async()=>{\r\n                         let response = await authApi.get(`role-access/${LoggedUserRole}`);\r\n                         console.log(\"from Employee :\",response.data);\r\n                         setLoggedPermissionData(response.data);\r\n                 }\r\n                 fetchedData();\r\n                 },[])\r\n            \r\n                 useEffect(()=>{\r\n                 if(loggedPermissiondata){\r\n                     setMatchedArray(loggedPermissiondata?.permissions)\r\n                 }\r\n                 },[loggedPermissiondata]);\r\n                 console.log(matchedArray);\r\n    \r\n        const [hasAccess,setHasAccess]=useState([])\r\n            useEffect(()=>{\r\n                setHasAccess(userData?.permissions)\r\n            },[userData])\r\n            console.log(\"permissions from userdata:\",hasAccess)\r\n        // When a new leave is added, prepend to localStorage and update state\r\n    function formatLeave(leave) {\r\n    return {\r\n        status: leave.status || \"pending\",\r\n        details: leave.details || \"-\",\r\n        action: leave.action || \"-\",\r\n        leave_type: leave.leave_type || leave.leave_Type || \"-\",\r\n        leave_on: leave.leave_on || leave.req_To_from || \"-\",\r\n        request_By: leave.request_By || leave.Request_By || \"-\",\r\n        action_Date: leave.action_Date || leave.Action_Date || \"-\",\r\n        rejection_Reason: leave.rejection_Reason || leave.Rejection_Reason || \"-\",\r\n    };\r\n}\r\n\r\nfunction deduplicateLeaves(leaves) {\r\n    const seen = new Set();\r\n    return leaves.filter(leave => {\r\n        const key = `${leave.leave_type}-${leave.leave_on}-${leave.status}`;\r\n        if (seen.has(key)) return false;\r\n        seen.add(key);\r\n        return true;\r\n    });\r\n}\r\n  useEffect(() => {\r\n    const fetchLeaveHistory = async () => {\r\n        if (!userData?.employeeId) return;\r\n        try {\r\n            const response = await dashboardApi.get(\r\n                `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/leaves?page=0&size=10`\r\n            );\r\n            const apiLeaves = Array.isArray(response.data) ? response.data : [];\r\n            const key = `leaveHistory_${userData.employeeId}`;\r\n            const localLeaves = JSON.parse(localStorage.getItem(key)) || [];\r\n            // Format all leaves\r\n            const formattedApiLeaves = apiLeaves.map(formatLeave);\r\n            const formattedLocalLeaves = localLeaves.map(formatLeave);\r\n            // Merge and deduplicate\r\n            const mergedLeaves = deduplicateLeaves([...formattedLocalLeaves, ...formattedApiLeaves]);\r\n            setCurrentLeaveHistoryData(mergedLeaves);\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch leave history:\", error);\r\n            setCurrentLeaveHistoryData([]);\r\n        }\r\n    };\r\n    fetchLeaveHistory();\r\n}, [userData?.employeeId]);\r\n\r\n    // When a new leave is added, prepend to localStorage and update state\r\n   const handleAddLeave = (newLeave) => {\r\n    const key = `leaveHistory_${userData.employeeId}`;\r\n    const storedLeaves = JSON.parse(localStorage.getItem(key)) || [];\r\n    const formattedLeave = formatLeave(newLeave);\r\n    const updatedLeaves = [formattedLeave, ...storedLeaves];\r\n    localStorage.setItem(key, JSON.stringify(updatedLeaves));\r\n    setCurrentLeaveHistoryData(updatedLeaves);\r\n};\r\n    // Always read from localStorage when employeeId changes\r\n    useEffect(() => {\r\n        if (userData?.employeeId) {\r\n            const storedLeaves = localStorage.getItem(`leaveHistory_${userData.employeeId}`);\r\n            setCurrentLeaveHistoryData(storedLeaves ? JSON.parse(storedLeaves) : []);\r\n        }\r\n    }, [userData?.employeeId]);\r\n\r\n    useEffect(() => {\r\n    const source = axios.CancelToken.source(); \r\n    // setIsLoading(true); \r\n    \r\n   \r\n    const fetchLeaveSummary = async () => {\r\n        try {\r\n            \r\n            const response = await dashboardApi.get(\r\n                `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/leave-summary`,\r\n                { cancelToken: source.token } \r\n            );\r\n\r\n            const typeMap = {\r\n                Casual: \"Casual Leave\",\r\n                Paid: \"Paid Leave\",\r\n                Unpaid: \"Unpaid Leave\",\r\n                Sick: \"Sick Leave\",\r\n                \r\n            };\r\n\r\n            const formattedData = response.data.map((item) => ({\r\n                type: typeMap[item.type] || item.type,\r\n                consumed: item.consumed,\r\n                remaining: item.remaining,\r\n                total: item.total,\r\n            }));\r\n\r\n            setLeaveSummaryData(formattedData);\r\n            // setIsLoading(false); \r\n\r\n        } catch (error) {\r\n           \r\n            if (axios.isCancel(error)) {\r\n                console.log('Request cancelled', error.message);\r\n            } else {\r\n                console.error(\"Error fetching line chart data:\", error);\r\n                // setIsLoading(false);\r\n            }\r\n        }\r\n    };\r\n    \r\n    \r\n    fetchLeaveSummary();\r\n\r\n    \r\n    return () => {\r\n        source.cancel('Operation canceled by the user.');\r\n    };\r\n    \r\n}, [employeeId]);\r\n\r\n    const [showAddLeaveForm, setShowAddLeaveForm] = useState(false);\r\n     const casualLeaveQuota = leaveSummaryData.find((item) => item.type === \"Casual Leave\");\r\n    const paidLeaveQuota = leaveSummaryData.find((item) => item.type === \"Paid Leave\");\r\n    const sickLeaveQuota = leaveSummaryData.find((item) => item.type === \"Sick Leave\");\r\n    const unpaidLeaveQuota = leaveSummaryData.find((item) => item.type === \"Unpaid Leave\");\r\n\r\n\r\n    const handleRequestLeave = () => {\r\n        setShowAddLeaveForm(true);\r\n    };\r\n    const handleCloseForm = () => {\r\n        setShowAddLeaveForm(false);\r\n    };\r\n    const handleShowReports = () => {\r\n        setSidebarView('leaveReports');\r\n        setSidebarOpen(false);\r\n    };\r\n    const handleShowMain=()=>{\r\n        \r\n        setShowMain(true);\r\n        setSidebarOpen(false);\r\n    }\r\n    const handleGoBackToDashboard = () => {\r\n        setShowReport(false);\r\n    };\r\n    const handleShowLeaves = () => {\r\n        setSidebarView('leaves');\r\n        setSidebarOpen(false);\r\n    };\r\n    //if (isLoading) {\r\n    //    return (\r\n    //      <div className={`min-h-screen ${theme === 'dark' ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'}`}>\r\n    //        <div className=\"min-h-screen flex items-center justify-center px-4\">\r\n    //          <div className=\"text-center\">\r\n    //            <div className=\"relative\">\r\n    //              <div className=\"animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4\"></div>\r\n    //              <div className=\"absolute inset-0 flex items-center justify-center\">\r\n    //                <IoPersonOutline className=\"w-5 h-5 sm:w-6 sm:h-6 text-blue-500\" />\r\n    //              </div>\r\n    //            </div>\r\n    //            <h2 className={`text-lg sm:text-xl font-bold mb-2 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Loading Employee Leaves</h2>\r\n    //            <p className={`text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>Discovering your colleagues...</p>\r\n    //          </div>\r\n    //        </div>\r\n    //      </div>\r\n    //    );\r\n    //  }\r\n\r\n    return (\r\n        <div className={`min-h-screen p-2 sm:p-3 lg:p-4 font-sans ${theme === \"dark\" ? \"bg-gray-900 text-white\" : \"bg-gray-100 text-gray-900\"}`}>\r\n            <AnimatePresence>\r\n                {/* Sidebar Trigger Button */}\r\n                {showSidebar && !sidebarOpen && (\r\n                    <motion.button\r\n                        key=\"open-sidebar\"\r\n                        onClick={() => setSidebarOpen(true)}\r\n                        className=\"fixed right-0 top-1/2 transform -translate-y-1/2 bg-indigo-600 text-white p-2 rounded-l-lg shadow-lg z-50 hover:bg-indigo-700 transition-colors\"\r\n                        aria-label=\"Open Sidebar\"\r\n                        initial={{ x: '100%' }}\r\n                        animate={{ x: '0%' }}\r\n                        exit={{ x: '100%' }}\r\n                        transition={{ duration: 0.3, delay: 0.2 }}\r\n                    >\r\n                        <ChevronLeft />\r\n                    </motion.button>\r\n                )}\r\n\r\n                {/* Sidebar */}\r\n                {(matchedArray || []).includes(\"VIEW_LEAVES_REPORTS\") && sidebarOpen && (\r\n                    <motion.div\r\n                        key=\"sidebar\"\r\n                        className={`fixed inset-y-0 right-0 w-80 ${theme==='dark'?'bg-gray-900':'bg-stone-100'} shadow-xl z-40 p-4 flex flex-col`}\r\n                        initial={{ x: '100%' }}\r\n                        animate={{ x: '0%' }}\r\n                        exit={{ x: '100%' }}\r\n                        transition={{ duration: 0.3 }}\r\n                    >\r\n                        <motion.h3\r\n                            className={`text-lg font-bold ${theme==='dark'?'text-gray-200 hover:bg-gray-500':'text-gray-900 hover:bg-blue-100'} cursor-pointer mb-1 mt-20  p-2 rounded-md`}\r\n                            onClick={handleShowMain}\r\n                            whileHover={{ scale: 1.05 }}\r\n                            whileTap={{ scale: 0.95 }}\r\n                        >\r\n                            <LiaFileAlt className=\"w-5 h-5 inline-block mr-2\"  />My Leaves \r\n                        </motion.h3>\r\n                        <motion.h3\r\n                            className={`text-lg font-bold ${theme==='dark'?'text-gray-200 hover:bg-gray-500':'text-gray-900 hover:bg-blue-100'} cursor-pointer mb-4   p-2 rounded-md`}\r\n                            onClick={handleShowReports}\r\n                            whileHover={{ scale: 1.05 }}\r\n                            whileTap={{ scale: 0.95 }}\r\n                        >\r\n                            <LiaFileAlt className=\"w-5 h-5 inline-block mr-2\"  />Leaves Reports\r\n                        </motion.h3>\r\n                        <motion.h3\r\n                            className={`text-lg font-bold ${theme==='dark'?'text-gray-200 hover:bg-gray-500':'text-gray-900 hover:bg-blue-100'} cursor-pointer mb-4   p-2 rounded-md`}\r\n                           onClick={handleShowLeaves}\r\n                            whileHover={{ scale: 1.05 }}\r\n                            whileTap={{ scale: 0.95 }}\r\n                        >\r\n                            <LiaFileAlt className=\"w-5 h-5 inline-block mr-2\"  />Total Employee Leaves\r\n                        </motion.h3>\r\n                        <button\r\n                            onClick={() => setSidebarOpen(false)}\r\n                            className=\"absolute left-0 top-1/2 -translate-x-1/2 -translate-y-1/2 p-2 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition-colors z-50\"\r\n                            aria-label=\"Close Sidebar\"\r\n                            initial={{ x: '100%' }}\r\n                            animate={{ x: '0%' }}\r\n                            exit={{ x: '100%' }}\r\n                            transition={{ duration: 0.3, delay: 0.2 }}\r\n                        >\r\n                            <ChevronRight />\r\n                        </button>\r\n                        \r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n\r\n            <div className={`flex-1 transition-all duration-300 p-2 sm:p-3 lg:p-4`}>\r\n         \r\n              {sidebarOpen && <div className=\"md:hidden fixed inset-0 bg-black opacity-50 z-30\" onClick={() => setSidebarOpen(false)}></div>}\r\n            <main className={`p-2 sm:p-2 lg:p-2 ${sidebarOpen && showSidebar ? 'filter blur-sm' : ''}`}>\r\n                <AnimatePresence mode=\"wait\">\r\n                    {sidebarView === 'leaves' &&(\r\n                     <motion.div\r\n                         key=\"leaves\"\r\n                         initial={{ opacity: 0, y: 20 }}\r\n                         animate={{ opacity: 1, y: 0 }}\r\n                         exit={{ opacity: 0, y: -20 }}\r\n                         transition={{ duration: 0.3 }}\r\n                     >\r\n                         <EmployeeTable onBack={() => setSidebarView(null)} />\r\n                     </motion.div>\r\n                 )}\r\n                    {sidebarView ==='leaveReports' &&  (\r\n                        <motion.div\r\n                            key=\"reports\"\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: -20 }}\r\n                            transition={{ duration: 0.3 }}\r\n                        >\r\n                            <LeavesReports\r\n                                onBack={() => setSidebarView(null)}\r\n                                leaveHistoryData={currentLeaveHistoryData}\r\n                                setLeaveHistoryData={setCurrentLeaveHistoryData}\r\n                            />\r\n                        </motion.div>\r\n                    )}  \r\n                     {sidebarView === null && (\r\n                        <motion.div\r\n                            key=\"dashboard\"\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: -20 }}\r\n                            transition={{ duration: 0.3 }}\r\n                        >\r\n                            <header className=\"p-3 mb-6 text-left\">\r\n                                <UserGreeting handleRequestLeave={handleRequestLeave} />\r\n                            </header>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6\">\r\n                                \r\n                                    <>\r\n                                        <LeaveTypeCard title=\"Casual Leave\" leaveData={casualLeaveQuota} color=\"#4CAF50\" />\r\n                                        <LeaveTypeCard title=\"Paid Leave\" leaveData={paidLeaveQuota} color=\"#2196F3\" />\r\n                                        <LeaveTypeCard title=\"Sick Leave\" leaveData={sickLeaveQuota} color=\"#FFC107\" />\r\n                                        <LeaveTypeCard title=\"Unpaid Leave\" leaveData={unpaidLeaveQuota} color=\"#EF5350\" />\r\n                                    </>\r\n                              \r\n                            </div>\r\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\r\n                                <LeaveType />\r\n                                <WeeklyPattern />\r\n                            </div>\r\n                             <LeaveHistory leaveHistoryData={currentLeaveHistoryData} />\r\n                             {showAddLeaveForm && (\r\n                                 <AddLeaveForm onClose={() => setShowAddLeaveForm(false)} onAddLeave={handleAddLeave} />\r\n                             )}\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </main>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LeavesDashboard;"],"names":["AddLeaveForm","_ref","onClose","onAddLeave","userData","theme","useContext","Context","fromDate","setFromDate","useState","toDate","setToDate","leaveType","setLeaveType","reason","setReason","isHalfDay","setIsHalfDay","employeeId","setEmployeeId","getNumberOfDays","start","Date","end","Math","floor","_jsx","motion","div","className","initial","opacity","animate","exit","transition","duration","children","scale","_jsxs","onSubmit","async","console","log","leaveRequest","numberOfDays","req_To_from","req_To_to","leave_Reason","isHalf_Day","leave_Type","axios","post","key","storedLeaves","JSON","parse","localStorage","getItem","setItem","stringify","error","x","delay","type","value","onChange","e","target","required","checked","whileHover","whileTap","onClick","LeaveTypeCard","_ref2","title","leaveData","consumed","remaining","total","color","useMediaQuery","chartData","name","max","COLORS","y","ease","Box","display","flexDirection","justifyContent","alignItems","_Fragment","ResponsiveContainer","width","height","PieChart","Pie","data","cx","cy","innerRadius","outerRadius","paddingAngle","dataKey","stroke","map","entry","index","Cell","fill","textAnchor","dominantBaseline","split","Tooltip","LeaveType","empID","useParams","initialLeaveTypeData","setInitialLeaveTypeData","isLoading","setIsLoading","useEffect","url","dashboardApi","get","then","response","formatted","item","days","catch","finally","isMobile","filteredData","filter","gap","p","length","labelLine","label","_ref3","percent","toFixed","Label","content","renderCenterLabel","position","WeeklyPattern","selectedDay","setSelectedDay","rawData","setRawData","setError","textColor","Day","day","Rate","rate","errorMessage","status","statusText","dayOptions","Set","d","disabled","BarChart","margin","top","right","left","bottom","XAxis","axisLine","tickLine","YAxis","hide","contentStyle","backgroundColor","border","Bar","radius","LeaveHistory","_ref4","leaveHistoryData","currentPage","setCurrentPage","leaveTypeFilter","setLeaveTypeFilter","statusFilter","setStatusFilter","sortOption","setSortOption","rowsPerPage","setRowsPerPage","selectedLeave","setSelectedLeave","leaveTypes","leave_type","statuses","handleCloseModal","filteredAndSortedData","filterAndSortData","sort","a","b","localeCompare","lastMonth","setMonth","getMonth","leave_On","last7Days","setDate","getDate","action_Date","totalPages","ceil","paginatedData","slice","option","row","idx","details","action","leave_on","request_By","rejection_Reason","FaFileAlt","LeaveDetails","leave","colSpan","Number","prev","min","UserGreeting","_ref5","handleRequestLeave","loggedInUserProfile","setLoggedInUserProfile","image","initials","attendanceSummary","setAttendanceSummary","summaryLoading","setSummaryLoading","userPayload","userImage","displayName","word","join","substring","toUpperCase","month","year","getFullYear","fetchAttendanceSummary","stiffness","src","alt","fullName","toLowerCase","shiftName","button","boxShadow","xmlns","viewBox","strokeWidth","strokeLinecap","strokeLinejoin","LeavesDashboard","_userData$roles","leaveSummaryData","setLeaveSummaryData","sidebarView","setSidebarView","role","roles","sidebarOpen","setSidebarOpen","showReport","setShowReport","showMain","setShowMain","showSidebar","includes","currentLeaveHistoryData","setCurrentLeaveHistoryData","loggedPermissiondata","setLoggedPermissionData","matchedArray","setMatchedArray","LoggedUserRole","authApi","fetchedData","permissions","hasAccess","setHasAccess","formatLeave","Request_By","Action_Date","Rejection_Reason","apiLeaves","Array","isArray","localLeaves","formattedApiLeaves","mergedLeaves","leaves","seen","has","add","deduplicateLeaves","fetchLeaveHistory","source","CancelToken","cancelToken","token","typeMap","Casual","Paid","Unpaid","Sick","formattedData","isCancel","message","fetchLeaveSummary","cancel","showAddLeaveForm","setShowAddLeaveForm","casualLeaveQuota","find","paidLeaveQuota","sickLeaveQuota","unpaidLeaveQuota","AnimatePresence","ChevronLeft","h3","handleShowMain","LiaFileAlt","handleShowReports","handleShowLeaves","ChevronRight","mode","EmployeeTable","onBack","LeavesReports","setLeaveHistoryData","newLeave","updatedLeaves"],"sourceRoot":""}