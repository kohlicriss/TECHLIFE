{"version":3,"file":"static/js/667.a1c7115a.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/AdminTickets/Filters.jsx","TechLife/HRMS/Components/AdminTickets/TicketCard.jsx","TechLife/HRMS/Components/AdminTickets/TicketModal.jsx","TechLife/HRMS/Components/AdminTickets/TicketStats.jsx","TechLife/HRMS/Components/AdminTickets/Tickets.jsx","../node_modules/lucide-react/src/icons/ticket.ts","../node_modules/lucide-react/src/icons/circle-check.ts","../node_modules/lucide-react/src/icons/triangle-alert.ts"],"sourcesContent":["import { useContext } from \"react\";\r\nimport { Context } from \"../HrmsContext\";\r\n\r\nexport default function Filters({ dateFilter, setDateFilter, searchTerm, setSearchTerm }) {\r\n  const { theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n\r\n  \r\n\r\n  return (\r\n    <div\r\n      className={`p-4 border-b flex flex-col md:flex-row md:items-center gap-4 md:gap-6 shadow-sm transition-colors ${\r\n        isDark ? \"bg-gray-900 border-gray-700\" : \"bg-white border-gray-200\"\r\n      }`}\r\n    >\r\n      \r\n      <div className=\"flex flex-col md:flex-row md:items-center gap-2 w-full md:w-auto\">\r\n        <label\r\n          className={`text-sm font-medium ${\r\n            isDark ? \"text-gray-300\" : \"text-gray-700\"\r\n          }`}\r\n          htmlFor=\"date-filter\"\r\n        >\r\n          Date\r\n        </label>\r\n        <select\r\n          id=\"date-filter\"\r\n          className={`border text-sm rounded-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent w-full md:w-auto ${\r\n            isDark\r\n              ? \"bg-gray-800 border-gray-600 text-gray-200 placeholder-gray-400\"\r\n              : \"bg-white border-gray-300 text-gray-700\"\r\n          }`}\r\n          value={dateFilter}\r\n          onChange={(e) => setDateFilter(e.target.value)}\r\n        >\r\n          <option>All</option>\r\n          <option>Last 30 days</option>\r\n          <option>Last 7 days</option>\r\n          <option>Today</option>\r\n        </select>\r\n      </div>\r\n\r\n    \r\n      <div className=\"flex flex-col md:flex-row md:items-center gap-2 w-full md:flex-1\">\r\n        <label\r\n          className={`text-sm font-medium ${\r\n            isDark ? \"text-gray-300\" : \"text-gray-700\"\r\n          }`}\r\n          htmlFor=\"search\"\r\n        >\r\n          Search\r\n        </label>\r\n        <input\r\n          id=\"search\"\r\n          type=\"text\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          placeholder=\"Search name, ID, issue, status, priority...\"\r\n          className={`border text-sm rounded-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent w-full ${\r\n            isDark\r\n              ? \"bg-gray-800 border-gray-600 text-gray-200 placeholder-gray-400\"\r\n              : \"bg-white border-gray-300 text-gray-700\"\r\n          }`}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport { Context } from \"../HrmsContext\";\r\n\r\nexport default function TicketCard({\r\n  employeeId,\r\n  employeeName,\r\n  priority,\r\n  title,\r\n  sentAt,\r\n  status,\r\n  onClick,\r\n}) {\r\n  const { theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n  const priorityColor = {\r\n    High: isDark\r\n      ? \"bg-red-900 text-red-300\"\r\n      : \"bg-red-100 text-red-700\",\r\n    Medium: isDark\r\n      ? \"bg-yellow-900 text-yellow-300\"\r\n      : \"bg-yellow-100 text-yellow-700\",\r\n    Low: isDark\r\n      ? \"bg-green-900 text-green-300\"\r\n      : \"bg-green-100 text-green-700\",\r\n  };\r\n\r\n  const statusColor = {\r\n    Pending: isDark\r\n      ? \"bg-gray-700 text-gray-300\"\r\n      : \"bg-gray-100 text-gray-700\",\r\n    Unsolved: isDark\r\n      ? \"bg-orange-900 text-orange-300\"\r\n      : \"bg-orange-100 text-orange-700\",\r\n    Opened: isDark\r\n      ? \"bg-blue-900 text-blue-300\"\r\n      : \"bg-blue-100 text-blue-700\",\r\n    Resolved: isDark\r\n      ? \"bg-emerald-900 text-emerald-300\"\r\n      : \"bg-emerald-100 text-emerald-700\",\r\n  };\r\n\r\n  const formatToIST = (dateString) => {\r\n    if (!dateString) return \"\";\r\n    const date = new Date(dateString + \"Z\");\r\n    return date.toLocaleString(\"en-IN\", {\r\n      timeZone: \"Asia/Kolkata\",\r\n      year: \"numeric\",\r\n      month: \"short\",\r\n      day: \"2-digit\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n      second: \"2-digit\",\r\n      hour12: true,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className={`group rounded-xl p-5 border transition-all duration-300 cursor-pointer transform hover:-translate-y-1 \r\n        ${isDark\r\n          ? \"bg-gray-800 border-gray-700 hover:border-blue-400 hover:shadow-lg\"\r\n          : \"bg-white border-gray-200 hover:border-blue-400 hover:shadow-lg shadow-sm\"\r\n        }`}\r\n    >\r\n      <div className=\"flex justify-between items-start mb-2\">\r\n        <h3\r\n          className={`font-semibold text-lg transition-colors ${\r\n            isDark\r\n              ? \"text-blue-300 group-hover:text-blue-400\"\r\n              : \"text-blue-900 group-hover:text-blue-700\"\r\n          }`}\r\n        >\r\n          {title}\r\n        </h3>\r\n        <span\r\n          className={`px-2 py-0.5 rounded-full text-xs font-medium ${priorityColor[priority]}`}\r\n        >\r\n          {priority}\r\n        </span>\r\n      </div>\r\n\r\n      <p\r\n        className={`text-sm mb-2 ${\r\n          isDark ? \"text-gray-400\" : \"text-gray-600\"\r\n        }`}\r\n      >\r\n        {employeeName}{\" \"}\r\n        <span className={isDark ? \"text-gray-500 text-xs\" : \"text-gray-400 text-xs\"}>\r\n          ({employeeId})\r\n        </span>\r\n      </p>\r\n\r\n      <div className=\"flex items-center gap-2 mb-3\">\r\n        <span\r\n          className={`px-2 py-0.5 rounded-full text-xs font-medium ${statusColor[status]}`}\r\n        >\r\n          {status}\r\n        </span>\r\n        <span className={`text-xs ${isDark ? \"text-gray-400\" : \"text-gray-500\"}`}>\r\n          üìÖ Created: {formatToIST(sentAt)}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef, useMemo,useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Context } from \"../HrmsContext\";\r\n\r\nexport default function TicketModal({\r\n  ticket,\r\n  onClose,\r\n  replyText,\r\n  setReplyText,\r\n  roles,\r\n  onStatusUpdate,\r\n}) {\r\n  const [showChat, setShowChat] = useState(false);\r\n  const [replies, setReplies] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [messageSent, setMessageSent] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const socketRef = useRef(null);\r\n  const [newStatus, setNewStatus] = useState(ticket?.status || \"\");\r\n\r\n  const [page, setPage] = useState(0);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const chatContainerRef = useRef(null);\r\n  const [matchedArray,setMatchedArray]=useState([]);\r\n\r\nconst prevScrollHeight = useRef(0);\r\nconst [loadingOlder, setLoadingOlder] = useState(false);\r\n const { theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n\r\n  \r\n  const formatDate = (date) => {\r\n    const d = new Date(date);\r\n    const today = new Date();\r\n    const yesterday = new Date();\r\n    yesterday.setDate(today.getDate() - 1);\r\n\r\n    if (d.toDateString() === today.toDateString()) return \"Today\";\r\n    if (d.toDateString() === yesterday.toDateString()) return \"Yesterday\";\r\n    return d.toLocaleDateString([], {\r\n      day: \"2-digit\",\r\n      month: \"short\",\r\n      year: \"numeric\",\r\n    });\r\n  };\r\n\r\n  \r\n  const formatToIST = (dateString) => {\r\n    if (!dateString) return \"\";\r\n    const date = new Date(dateString.endsWith(\"Z\") ? dateString : dateString + \"Z\");\r\n    return date.toLocaleString(\"en-IN\", {\r\n      timeZone: \"Asia/Kolkata\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n      day: \"2-digit\",\r\n      month: \"short\",\r\n      year: \"numeric\",\r\n      hour12: true,\r\n    });\r\n  };\r\n\r\n  \r\n  const formatChatTimeIST = (dateString) => {\r\n    if (!dateString) return \"\";\r\n    const date = new Date(dateString.endsWith(\"Z\") ? dateString : dateString + \"Z\");\r\n    return date.toLocaleTimeString(\"en-IN\", {\r\n      timeZone: \"Asia/Kolkata\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n      hour12: true,\r\n    });\r\n  };\r\n\r\n \r\n  const groupedReplies = useMemo(() => {\r\n    const groups = {};\r\n    const sortedReplies = [...replies].sort(\r\n      (a, b) => new Date(a.repliedAt) - new Date(b.repliedAt)\r\n    );\r\n    sortedReplies.forEach((msg) => {\r\n      const dateLabel = formatDate(msg.repliedAt);\r\n      if (!groups[dateLabel]) groups[dateLabel] = [];\r\n      groups[dateLabel].push(msg);\r\n    });\r\n    return groups;\r\n  }, [replies]);\r\n\r\n  \r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [replies]);\r\n\r\n \r\n useEffect(() => {\r\n  if (!ticket?.ticketId) return;\r\n\r\n  if (socketRef.current) {\r\n    socketRef.current.close();\r\n  }\r\n  const token = localStorage.getItem(\"accessToken\");\r\n\r\n const ws = new WebSocket(\r\n  `wss://hrms.anasolconsultancyservices.com/api/ticket/ws?ticketId=${ticket.ticketId}&token=${token}`\r\n);\r\n\r\n  socketRef.current = ws;\r\n\r\n  ws.onopen = () => console.log(\"‚úÖ WebSocket connected for\", ticket.ticketId);\r\n\r\n  ws.onmessage = (event) => {\r\n    try {\r\n      const msg = JSON.parse(event.data);\r\n      console.log(\"üì© Incoming WS message:\", msg);\r\n\r\n      if (msg && msg.replyText) {\r\n        setReplies((prev) => {\r\n          const exists = prev.some(\r\n            (m) =>\r\n              (m.id && msg.id && m.id === msg.id) ||\r\n              (m.replyText === msg.replyText && m.repliedAt === msg.repliedAt)\r\n          );\r\n          return exists ? prev : [...prev, msg];\r\n        });\r\n      }\r\n    } catch (e) {\r\n      console.error(\"‚ùå Error parsing WebSocket message\", e, event.data);\r\n    }\r\n  };\r\n\r\n  ws.onerror = (err) => console.error(\"‚ùå WebSocket error:\", err);\r\n  ws.onclose = () => console.log(\"üîå WebSocket disconnected\");\r\n\r\n  return () => ws.close();\r\n}, [ticket?.ticketId]);\r\n\r\n\r\nconst fetchReplies = async (pageNum = 0) => {\r\n  if (!ticket?.ticketId || loading || !hasMore) return;\r\n  setLoading(true);\r\n\r\n  try {\r\n    const container = chatContainerRef.current;\r\n    if (pageNum > 0 && container) {\r\n      prevScrollHeight.current = container.scrollHeight;\r\n      setLoadingOlder(true);\r\n    }\r\n\r\n    const token = localStorage.getItem(\"accessToken\");\r\n    const response = await axios.get(\r\n      `https://hrms.anasolconsultancyservices.com/api/ticket/admin/tickets/${ticket.ticketId}/reply`,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        params: { page: pageNum, size: 20 },\r\n      }\r\n    );\r\n\r\n    const messagesArray = Array.isArray(response.data?.content)\r\n      ? response.data.content\r\n      : [];\r\n\r\n    if (messagesArray.length === 0) {\r\n      setHasMore(false);\r\n    } else {\r\n      if (pageNum === 0) {\r\n        setReplies(messagesArray);\r\n      } else {\r\n        setReplies((prev) => [...messagesArray, ...prev]); \r\n      }\r\n      setPage(pageNum);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Failed to fetch replies\", error);\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n\r\nuseEffect(() => {\r\n  if (messageSent && messagesEndRef.current) {\r\n    messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  }\r\n}, [messageSent]);\r\nuseEffect(() => {\r\n  \r\n  const perms = JSON.parse(localStorage.getItem(\"permissions\") || \"[]\");\r\n  setMatchedArray(perms);\r\n}, []);\r\n\r\n\r\n\r\nuseEffect(() => {\r\n  if (loadingOlder && chatContainerRef.current) {\r\n    const container = chatContainerRef.current;\r\n    const newScrollHeight = container.scrollHeight;\r\n    container.scrollTop = newScrollHeight - prevScrollHeight.current;\r\n    setLoadingOlder(false);\r\n  }\r\n}, [replies]);\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (showChat) fetchReplies(0);\r\n  }, [ticket?.ticketId, showChat]);\r\n\r\nuseEffect(() => {\r\n  const container = chatContainerRef.current;\r\n  if (!container) return;\r\n\r\n  const handleScroll = () => {\r\n    if (container.scrollTop === 0 && hasMore && !loading) {\r\n      fetchReplies(page + 1);\r\n    }\r\n  };\r\n\r\n  container.addEventListener(\"scroll\", handleScroll);\r\n  return () => container.removeEventListener(\"scroll\", handleScroll);\r\n}, [page, hasMore, loading]);\r\n\r\n\r\n\r\n\r\nconst handleReply = async () => {\r\n  if (!replyText.trim() || !ticket?.ticketId) return;\r\n\r\n  const token = localStorage.getItem(\"accessToken\");\r\n  const payload = {\r\n    replyText: replyText.trim(),\r\n    repliedBy: \"admin\",\r\n    status: newStatus,\r\n    employeeId: ticket.employeeId || \"DEFAULT_EMPLOYEE\",\r\n    roles: roles && typeof roles === \"string\" ? `ROLE_${roles.toUpperCase()}` : \"ROLE_HR\",\r\n    repliedAt: new Date().toISOString(),\r\n  };\r\n\r\n  try {\r\n    const res = await axios.put(\r\n      `https://hrms.anasolconsultancyservices.com/api/ticket/admin/tickets/${ticket.ticketId}/reply`,\r\n      payload,\r\n      { headers: { Authorization: `Bearer ${token}` } }\r\n    );\r\n\r\n   \r\n    //setReplies((prev) => [...prev, res.data || payload]);\r\n\r\n    setReplyText(\"\");\r\n    setMessageSent(true);\r\n    setTimeout(() => setMessageSent(false), 2000);\r\n  } catch (error) {\r\n    console.error(\" Reply failed\", error.response?.data || error.message);\r\n  }\r\n};\r\n\r\n \r\n \r\n  const handleStatusChange = async () => {\r\n    if (!ticket?.ticketId) return;\r\n\r\n    const token = localStorage.getItem(\"accessToken\");\r\n    const payload = {\r\n      replyText: replyText.trim() || \"Status updated\",\r\n      repliedBy: \"admin\",\r\n      status: newStatus,\r\n      employeeId: ticket.employeeId || \"DEFAULT_EMPLOYEE\",\r\n      roles: roles && typeof roles === \"string\" ? `ROLE_${roles.toUpperCase()}` : \"ROLE_HR\",\r\n      repliedAt: new Date().toISOString(),\r\n    };\r\n\r\n    try {\r\n      const res = await axios.put(\r\n        `https://hrms.anasolconsultancyservices.com/api/ticket/admin/tickets/${ticket.ticketId}/reply`,\r\n        payload,\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      setReplies((prev) => [...prev, res.data]);\r\n\r\n      setNewStatus(res.data.status);\r\n      ticket.status = res.data.status;\r\n      if (onStatusUpdate) onStatusUpdate(res.data);\r\n      onClose();\r\n    } catch (err) {\r\n      console.error(\"Error updating status:\", err.response?.data || err.message);\r\n    }\r\n  };\r\n\r\n    const bgColor = isDark ? \"bg-gray-900 text-white\" : \"bg-white text-gray-900\";\r\n  const chatBg = isDark ? \"bg-gray-800 text-white\" : \"bg-white text-gray-900\";\r\n  const chatAltBg = isDark ? \"bg-gray-700 text-white\" : \"bg-white text-gray-900\";\r\n const borderColor =\r\n  bgColor === isDark\r\n    ? \"border-white\"\r\n    : bgColor === !isDark \r\n    ? \"border-black\"\r\n    : \"border-gray-300\"; \r\n\r\n\r\n  const displayRole = (role) => role?.replace(/^ROLE_/, \"\");\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4\">\r\n      <div className={`${bgColor} w-full max-w-[calc(100vw-5rem)] md:max-w-4xl rounded-2xl shadow-2xl relative transition-all duration-300`}>\r\n        <div className={`p-6 overflow-y-auto h-[90vh] scroll-smooth ${bgColor}`}>\r\n          {!showChat ? (\r\n            <>\r\n                <h2 className={`text-3xl font-extrabold mb-6 ${isDark ? \"text-white\" : \"text-blue-700\"}`}>\r\n                üé´ Ticket Details\r\n              </h2>\r\n\r\n              <div className={`grid grid-cols-1 md:grid-cols-2 gap-5 text-[15px] mb-8 ${isDark ? \"text-gray-200\" : \"text-gray-800\"}`}>\r\n                <p>\r\n                  <span className=\"font-semibold\">üë§ Employee ID:</span>{\" \"}\r\n                  {ticket.employeeId}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">üìõ Ticket ID:</span>{\" \"}\r\n                  {ticket.ticketId}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">üìù Issue:</span> {ticket.title}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">üßë‚Äçüíº Role:</span>{\" \"}\r\n                  {displayRole(ticket.roles)}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">‚ö†Ô∏è Description:</span>{\" \"}\r\n                  {ticket.description}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">‚ö†Ô∏è Priority:</span>{\" \"}\r\n                  {ticket.priority}\r\n                </p>\r\n               <p className=\"md:col-span-2\">\r\n  <span className=\"font-semibold\">üìÖ Created:</span>{\" \"}\r\n  {formatToIST(ticket.sentAt)}\r\n</p>\r\n\r\n\r\n                <div className=\"md:col-span-2\">\r\n                  <label className={`block font-medium text-gray-900 mb-2 ${isDark ? \"text-white\" : \"text-blue-700\"}`}>\r\n                    üìå Update Status\r\n                  </label>\r\n                 <select\r\n  value={newStatus}\r\n  onChange={(e) => setNewStatus(e.target.value)}\r\n  className={`w-full rounded-lg px-3 py-2 text-sm border focus:ring-2 focus:ring-blue-500 ${bgColor} ${borderColor}`}\r\n>\r\n  <option value=\"Unsolved\">Unsolved</option>\r\n  <option value=\"Resolved\">Resolved</option>\r\n</select>\r\n\r\n                </div>\r\n              </div>\r\n                \r\n               <button\r\n                onClick={() => setShowChat(true)}\r\n                className=\"mb-6 px-6 py-2 bg-blue-600 text-white font-medium rounded-full hover:bg-blue-700 transition-all duration-200 shadow\"\r\n              >\r\n                üí¨ Open Chat\r\n              </button>\r\n              \r\n\r\n              <div className=\"mt-10 flex justify-end gap-4\">\r\n                 <button\r\n                  onClick={onClose}\r\n                  className={`px-5 py-2 rounded-lg border ${borderColor} ${isDark ? \"text-gray-200 hover:bg-gray-800\" : \"text-gray-600 hover:bg-gray-100\"} transition`}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                 <button\r\n                  onClick={handleStatusChange}\r\n                  disabled={loading}\r\n                  className={`px-6 py-2 rounded-lg font-medium transition  ${borderColor} ${loading ? \"bg-gray-400 text-white cursor-not-allowed\" : \"bg-blue-600 text-white hover:bg-blue-700\"}`}\r\n                >\r\n                  {loading ? \"Saving...\" : \"Update Status\"}\r\n                </button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                  <h2 className={`text-2xl font-bold ${isDark ? \"text-white\" : \"text-blue-700\"}`}>üí¨ Chat with {ticket.employeeId}</h2>\r\n                <button onClick={() => setShowChat(false)} className={`text-sm ${isDark ? \"text-blue-400 hover:text-blue-200\" : \"text-blue-600 hover:underline\"}`}>\r\n                  Back to Ticket\r\n                </button>\r\n              </div>\r\n\r\n              <div ref={chatContainerRef} className={`max-h-72 overflow-y-auto space-y-3 p-4 rounded-xl border ${borderColor} shadow-inner ${isDark ? \"bg-gray-800\" : \"bg-gray-50\"}`}>\r\n                <div className={`${chatBg} border rounded-bl-none px-4 py-2 max-w-[75%] text-sm rounded-2xl shadow`}>\r\n                  <p>{ticket.title}</p>\r\n                  <div className=\"text-[10px] mt-1 text-left text-gray-500\">{formatChatTimeIST(ticket.sentAt)}</div>\r\n                </div>\r\n\r\n               {Object.keys(groupedReplies).map((date) => (\r\n                  <div key={date}>\r\n                    <div className={`text-center text-xs my-2 ${isDark ? \"text-gray-400\" : \"text-gray-500\"}`}>{date}</div>\r\n                    {groupedReplies[date].map((msg, idx) => (\r\n                      <div key={idx} className={`flex ${msg.repliedBy === \"admin\" ? \"justify-end\" : \"justify-start\"}`}>\r\n                        <div className={`inline-block px-4 py-2 text-sm rounded-2xl shadow transition ${msg.repliedBy === \"admin\" ? \"bg-blue-600 text-white rounded-br-none\" : chatAltBg + \" border rounded-bl-none\"}`}>\r\n                          <p className=\"whitespace-pre-line break-words\">{msg.replyText}</p>\r\n                          <div className={`text-[10px] mt-1 ${msg.repliedBy === \"admin\" ? \"text-white text-right\" : \"text-gray-400 text-left\"}`}>\r\n                            {formatChatTimeIST(msg.repliedAt)} {msg.repliedBy === \"admin\" && \"‚úì‚úì\"}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                       </div>\r\n                ))}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n\r\n              {ticket.status === \"Resolved\" ? (\r\n                  <div className={`text-center font-medium py-4 border-t ${borderColor} ${isDark ? \"text-red-400\" : \"text-red-600\"}`}>\r\n                  This ticket is Resolved. No further replies are allowed.\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  <label className={`block font-medium ${isDark ? \"text-gray-200\" : \"text-gray-800\"}`}>Reply as Admin</label>\r\n                  <textarea\r\n                    value={replyText}\r\n                    onChange={(e) => setReplyText(e.target.value)}\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === \"Enter\" && !e.shiftKey) {\r\n                        e.preventDefault();\r\n                        handleReply();\r\n                      }\r\n                    }}\r\n                    rows=\"3\"\r\n                    className={`w-full p-3 rounded-lg focus:ring-2 focus:ring-blue-400 resize-none text-sm shadow ${bgColor} ${borderColor}`}\r\n                    placeholder=\"Type your reply...\"\r\n                  />\r\n                \r\n                  <button\r\n                    onClick={handleReply}\r\n                    className=\"w-full bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition\"\r\n                  >\r\n                    Send\r\n                  </button>\r\n                 \r\n                  {messageSent && (\r\n                    <div className=\"text-green-600 text-sm text-center animate-pulse\">\r\n                      ‚úÖ Reply Sent\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n         <button\r\n          onClick={onClose}\r\n          className={`absolute top-4 right-4 text-2xl transition ${isDark ? \"text-gray-400 hover:text-white\" : \"text-gray-400 hover:text-gray-700\"}`}\r\n          aria-label=\"Close\"\r\n        >\r\n          &times;\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useContext } from \"react\";\r\nimport { Ticket, CheckCircle2, AlertTriangle } from \"lucide-react\";\r\nimport { Context } from \"../HrmsContext\";\r\n\r\nexport default function TicketStats({ tickets }) {\r\n  const { theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n  const total = tickets.length;\r\n  const resolved = tickets.filter((t) => t.status === \"Resolved\").length;\r\n  const unsolved = tickets.filter((t) => t.status !== \"Resolved\").length;\r\n\r\n  const cardBase = `flex items-center gap-4 p-5 rounded-xl border transition-all \r\n    ${isDark ? \"bg-gray-800 border-gray-700 shadow-md hover:shadow-lg\" : \"bg-white shadow-md hover:shadow-lg\"}\r\n  `;\r\n\r\n  const textMuted = isDark ? \"text-white\" : \"text-gray-500\";\r\n  const textPrimary = isDark ? \"text-white\" : \"text-blue-700\";\r\n\r\n  return (\r\n    <div className=\"px-4 pt-4\">\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n       \r\n        <div className={`${cardBase} ${isDark ? \"border-blue-800\" : \"border-blue-200\"}`}>\r\n          <div className={`${isDark ? \"bg-blue-900 text-blue-300\" : \"bg-blue-100 text-blue-600\"} p-3 rounded-full`}>\r\n            <Ticket size={28} />\r\n          </div>\r\n          <div>\r\n            <p className={`text-sm ${textMuted}`}>Total Tickets</p>\r\n            <h3 className={`text-3xl font-bold ${textPrimary}`}>{total}</h3>\r\n          </div>\r\n        </div>\r\n\r\n      \r\n      \r\n        <div className={`${cardBase} ${isDark ? \"border-emerald-800\" : \"border-emerald-200\"}`}>\r\n          <div className={`${isDark ? \"bg-emerald-900 text-emerald-300\" : \"bg-emerald-100 text-emerald-600\"} p-3 rounded-full`}>\r\n            <CheckCircle2 size={28} />\r\n          </div>\r\n          <div>\r\n            <p className={`text-sm ${textMuted}`}>Solved Tickets</p>\r\n            <h3 className=\"text-3xl font-bold text-emerald-600\">{resolved}</h3>\r\n          </div>\r\n        </div>\r\n\r\n      \r\n      \r\n        <div className={`${cardBase} ${isDark ? \"border-red-800\" : \"border-red-200\"}`}>\r\n          <div className={`${isDark ? \"bg-red-900 text-red-300\" : \"bg-red-100 text-red-600\"} p-3 rounded-full`}>\r\n            <AlertTriangle size={28} />\r\n          </div>\r\n          <div>\r\n            <p className={`text-sm ${textMuted}`}>Unsolved Tickets</p>\r\n            <h3 className=\"text-3xl font-bold text-red-600\">{unsolved}</h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef, useState, useContext } from \"react\";\r\nimport { Ticket } from \"lucide-react\";\r\nimport Filters from \"./Filters\";\r\nimport TicketCard from \"./TicketCard\";\r\nimport TicketModal from \"./TicketModal\";\r\nimport TicketStats from \"./TicketStats\";\r\nimport { motion } from \"framer-motion\";\r\nimport { FaArrowLeft, FaArrowRight ,FaBars , FaTicketAlt } from \"react-icons/fa\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport { ticketsApi } from \"../../../../axiosInstance\";\r\n\r\nexport default function TicketDashboard() {\r\n  \r\n  const { empID } = useParams();\r\n  const [tickets, setTickets] = useState([]);\r\n  const [filterStatus, setFilterStatus] = useState(\"all\");\r\n  const [dateFilter, setDateFilter] = useState(\"All\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [selectedTicket, setSelectedTicket] = useState(null);\r\n  const [replyText, setReplyText] = useState(\"\");\r\n  const [newStatus, setNewStatus] = useState(\"Pending\");\r\n  const [error, setError] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(true);\r\n // const [activeTab, setActiveTab] = useState(\"all\");\r\n\r\n    const { userData, theme } = useContext(Context);\r\n  const isDark = theme === \"dark\";\r\n\r\n  \r\n  \r\n\r\n  const [pageInfo, setPageInfo] = useState({\r\n    page: 0,\r\n    size: 9,\r\n    totalPages: 0,\r\n    totalElements: 0,\r\n  });\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const wsRef = useRef(null);\r\n  const repliedBy = \"admin\";\r\n  const navigate = useNavigate();\r\n\r\n  \r\n  const rawRole = Array.isArray(userData?.roles)\r\n    ? userData.roles[0]\r\n    : userData?.roles || \"\";\r\n  const normalizedRole =\r\n    typeof rawRole === \"string\"\r\n      ? rawRole.toUpperCase().startsWith(\"ROLE_\")\r\n        ? rawRole.toUpperCase()\r\n        : \"ROLE_\" + rawRole.toUpperCase()\r\n      : \"\";\r\n\r\n  const statusLabels = {\r\n    all: \"All\",\r\n    resolved: \"Resolved\",\r\n  };\r\n\r\n \r\n  const fetchTickets = async () => {\r\n    try {\r\n      if (!normalizedRole || !empID) {\r\n        throw new Error(\"Missing role or employee ID\");\r\n      }\r\n\r\n      const res = await ticketsApi.get(\r\n        `admin/tickets/role/${normalizedRole}/${empID}?page=${\r\n          currentPage - 1\r\n        }&size=${pageInfo.size}`\r\n      );\r\n\r\n      setTickets(res.data.content || []);\r\n      setPageInfo({\r\n        page: res.data.page,\r\n        size: res.data.size,\r\n        totalPages: res.data.totalPages,\r\n        totalElements: res.data.totalElements,\r\n      });\r\n\r\n      console.log(\"Fetched tickets:\", res.data.content);\r\n    } catch (err) {\r\n      console.error(\"Error fetching tickets:\", err);\r\n      setError(\"Failed to load tickets\");\r\n    }\r\n  };\r\n\r\n  const connectWebSocket = () => {\r\n  const token = localStorage.getItem(\"accessToken\");\r\n  if (!token) {\r\n    console.error(\"‚ùå No token found in localStorage\");\r\n    return;\r\n  }\r\n\r\n  const socket = new WebSocket(\r\n    `wss://hrms.anasolconsultancyservices.com/api/ticket/ws?token=${token}`\r\n  );\r\n\r\n  socket.onopen = () => console.log(\"‚úÖ WebSocket connected\");\r\n\r\n  socket.onmessage = (event) => {\r\n    try {\r\n      const message = JSON.parse(event.data);\r\n      updateTicketReplies(message);\r\n    } catch (err) {\r\n      console.error(\"‚ùå Failed to parse WS message\", err);\r\n    }\r\n  };\r\n\r\n  socket.onclose = () => {\r\n    console.warn(\"‚ö†Ô∏è WS disconnected. Reconnecting in 3s...\");\r\n    setTimeout(connectWebSocket, 3000);\r\n  };\r\n\r\n  socket.onerror = (e) => console.error(\"‚ùå WS error:\", e);\r\n\r\n  wsRef.current = socket;\r\n};\r\n\r\n\r\n  const updateTicketReplies = (replyDTO) => {\r\n    setTickets((prev) =>\r\n      prev.map((ticket) =>\r\n        ticket.ticketId === replyDTO.ticketId\r\n          ? {\r\n              ...ticket,\r\n              replies: Array.isArray(ticket.replies)\r\n                ? [...ticket.replies, replyDTO]\r\n                : [replyDTO],\r\n              status: replyDTO.status || ticket.status,\r\n            }\r\n          : ticket\r\n      )\r\n    );\r\n\r\n    if (selectedTicket?.ticketId === replyDTO.ticketId) {\r\n      setSelectedTicket((prev) => ({\r\n        ...prev,\r\n        replies: Array.isArray(prev?.replies)\r\n          ? [...prev.replies, replyDTO]\r\n          : [replyDTO],\r\n        status: replyDTO.status || prev.status,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const toggleSidebar = () => setIsSidebarCollapsed((prev) => !prev);\r\n\r\n  const handleReply = async () => {\r\n    if (!selectedTicket || !replyText.trim()) return;\r\n\r\n    const payload = {\r\n      ticketId: selectedTicket.ticketId,\r\n      replyText,\r\n      repliedBy,\r\n      repliedAt: new Date().toISOString(),\r\n      status: newStatus || selectedTicket.status,\r\n      employeeId: selectedTicket.employeeId,\r\n      roles: selectedTicket.roles,\r\n    };\r\n\r\n    try {\r\n      await fetch(\r\n        `https://hrms.anasolconsultancyservices.com/api/ticket/admin/tickets/${selectedTicket.ticketId}/reply`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(payload),\r\n        }\r\n      );\r\n\r\n      setMessages((prev) => [...prev, payload]);\r\n\r\n      if (wsRef.current?.readyState === WebSocket.OPEN) {\r\n        wsRef.current.send(JSON.stringify(payload));\r\n      }\r\n\r\n      setReplyText(\"\");\r\n    } catch (err) {\r\n      console.error(\"Reply failed\", err);\r\n    }\r\n  };\r\n  const bgClass = isDark ? \"bg-gray-900 text-white\" : \"bg-gray-50 text-gray-900\";\r\n  const cardBg = isDark ? \"bg-gray-800 text-white border-gray-700\" : \"bg-white text-gray-800 border-gray-300\";\r\n  const sidebarBg = isDark ? \"bg-gray-800 border-gray-700 text-gray-200\" : \"bg-white border-gray-200 text-gray-700\";\r\n  const btnPrimary = isDark\r\n    ? \"bg-blue-600 text-white hover:bg-blue-500\"\r\n    : \"bg-blue-600 text-white hover:bg-blue-700\";\r\n  const btnSecondary = isDark\r\n    ? \"bg-gray-700 text-gray-200 hover:bg-gray-600\"\r\n    : \"bg-gray-100 text-gray-700 hover:bg-gray-200\";\r\n  const handleStatusChange = async (statusToUpdate) => {\r\n    if (!selectedTicket) return;\r\n\r\n    const payload = {\r\n      ticketId: selectedTicket.ticketId,\r\n      replyText: \"\",\r\n      repliedBy,\r\n      repliedAt: new Date().toISOString(),\r\n      status: statusToUpdate,\r\n      employeeId: selectedTicket.employeeId,\r\n      roles: selectedTicket.roles,\r\n    };\r\n\r\n    try {\r\n      await fetch(\r\n        `https://hrms.anasolconsultancyservices.com/api/ticket/admin/tickets/${selectedTicket.ticketId}/reply`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(payload),\r\n        }\r\n      );\r\n    } catch (err) {\r\n      console.error(\"Status change failed\", err);\r\n    }\r\n  };\r\n\r\n const applyFilters = () => {\r\n  let filtered = [...tickets];\r\n\r\n  if (searchTerm.trim() !== '') {\r\n    const s = searchTerm.toLowerCase();\r\n    filtered = filtered.filter(t =>\r\n      (t.title || \"\").toLowerCase().includes(s) ||\r\n      (t.status || \"\").toLowerCase().includes(s) ||\r\n      (t.priority || \"\").toLowerCase().includes(s)\r\n    );\r\n  }\r\n\r\n \r\n  if (dateFilter !== \"All\") {\r\n    const now = new Date();\r\n\r\n    filtered = filtered.filter(t => {\r\n      const date = new Date(t.sentAt || t.createdAt);\r\n\r\n      if (dateFilter === \"Today\") {\r\n        return date.toDateString() === now.toDateString();\r\n      }\r\n\r\n      if (dateFilter === \"Last 7 days\") {\r\n        const last7 = new Date();\r\n        last7.setDate(now.getDate() - 7);\r\n        return date >= last7 && date <= now;\r\n      }\r\n\r\n      if (dateFilter === \"Last 30 days\") {\r\n        const last30 = new Date();\r\n        last30.setDate(now.getDate() - 30);\r\n        return date >= last30 && date <= now;\r\n      }\r\n\r\n      return true;\r\n    });\r\n  }\r\n\r\n \r\n  filtered.sort(\r\n    (a, b) => new Date(b.sentAt || b.createdAt) - new Date(a.sentAt || a.createdAt)\r\n  );\r\n\r\n  return filtered;\r\n};\r\n\r\n  const filtered = tickets\r\n    .filter(\r\n      (t) =>\r\n        filterStatus === \"all\" ||\r\n        t.status?.toLowerCase() === filterStatus.toLowerCase()\r\n    )\r\n    .filter((t) => {\r\n      const term = searchTerm.toLowerCase();\r\n      if (!term) return true;\r\n      return (\r\n        t.employeeName?.toLowerCase().includes(term) ||\r\n        String(t.employeeId || \"\").toLowerCase().includes(term) ||\r\n        t.priority?.toLowerCase().includes(term) ||\r\n        t.title?.toLowerCase().includes(term) ||\r\n        t.status?.toLowerCase().includes(term)\r\n      );\r\n    })\r\n    .sort((a, b) => new Date(b.sentAt) - new Date(a.sentAt));\r\n\r\n  const sidebarItems = [{ tab: \"My Tickets\", icon: Ticket }];\r\n\r\nconst handleTabClick = (tab) => {\r\n  if (tab === \"My Tickets\") {\r\n    navigate(`/tickets/employee/${empID}`);\r\n  }\r\n  \r\n  setIsSidebarCollapsed(true);\r\n};\r\n\r\n  useEffect(() => {\r\n    fetchTickets();\r\n  }, [normalizedRole, empID, currentPage]);\r\n\r\n  useEffect(() => {\r\n    connectWebSocket();\r\n    return () => wsRef.current?.close();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={`flex flex-row min-h-screen ${bgClass}`}>\r\n    \r\n\r\n      <main className=\"flex-1 relative\">\r\n        <div className=\"absolute inset-0 bg-[url('/your-image.jpg')] bg-cover bg-center\">\r\n          <div   className={`w-full h-full ${\r\n              isDark\r\n                ? \"bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900\"\r\n                : \"bg-gradient-to-b from-white/20 via-white/80 to-white\"\r\n            }`}></div>\r\n        </div>\r\n\r\n        <div className=\"relative z-10 px-4\">\r\n          <Filters\r\n            dateFilter={dateFilter}\r\n            setDateFilter={setDateFilter}\r\n            searchTerm={searchTerm}\r\n            setSearchTerm={setSearchTerm}\r\n          />\r\n\r\n      \r\n        {/* üîπ Filters Row with All/Resolved + Sidebar Items */}\r\n<div className=\"flex flex-wrap items-center gap-2 my-3\">\r\n\r\n  {/* All / Resolved buttons */}\r\n  {[\"all\", \"resolved\"].map((status) => (\r\n    <button\r\n      key={status}\r\n      className={`px-4 py-1 rounded-md font-medium border ${\r\n        filterStatus === status ? btnPrimary : `${btnSecondary} border`\r\n      }`}\r\n      onClick={() => {\r\n        setFilterStatus(status);\r\n        setCurrentPage(1);\r\n      }}\r\n    >\r\n      {statusLabels[status]}\r\n    </button>\r\n  ))}\r\n\r\n  {/* Sidebar Items as slider (mobile) */}\r\n  <div className=\"flex-1 overflow-x-auto flex gap-2 sm:hidden\">\r\n    {sidebarItems.map(({ tab, icon: Icon }) => (\r\n      <motion.button\r\n        key={tab}\r\n        onClick={() => handleTabClick(tab)}\r\n        className={`flex items-center gap-2 px-4 py-1 rounded-md font-medium whitespace-nowrap\r\n          ${isDark\r\n            ? sidebarItems === tab\r\n              ? \"bg-blue-600 text-white\"\r\n              : \"bg-gray-800 text-white hover:bg-gray-700\"\r\n            : sidebarItems === tab\r\n              ? \"bg-blue-600 text-white\"\r\n              : \"bg-gray-100 text-black hover:bg-gray-200\"}`}\r\n        whileHover={{ scale: 1.02 }}\r\n      >\r\n        <Icon size={16} />\r\n        {tab}\r\n      </motion.button>\r\n    ))}\r\n  </div>\r\n</div>\r\n\r\n        \r\n\r\n          {error && (\r\n            <div className={`p-2 border rounded mb-4 ${\r\n                isDark ? \"bg-red-900 text-red-200 border-red-700\" : \"bg-red-100 text-red-700 border-red-300\"\r\n              }`}\r\n>\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <TicketStats tickets={tickets} />\r\n\r\n         <div className=\"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n  {applyFilters()\r\n    .filter(\r\n      (t) =>\r\n        filterStatus === \"all\" ||\r\n        t.status?.toLowerCase() === filterStatus.toLowerCase()\r\n    )\r\n    .map((t) => (\r\n      <TicketCard\r\n        key={t.ticketId}\r\n        {...t}\r\n        className={`${cardBg}`}\r\n        onClick={() => {\r\n          setSelectedTicket({\r\n            ...t,\r\n            replies: Array.isArray(t.replies) ? t.replies : [],\r\n          });\r\n          setNewStatus(t.status);\r\n        }}\r\n      />\r\n    ))}\r\n</div>\r\n\r\n\r\n        \r\n          <div className=\"flex justify-center items-center space-x-2 my-6\">\r\n            <button\r\n              onClick={() => setCurrentPage((p) => Math.max(p - 1, 1))}\r\n              disabled={currentPage === 1}\r\n              className=\"px-3 py-1 border rounded disabled:opacity-50\"\r\n            >\r\n              Prev\r\n            </button>\r\n\r\n            {Array.from({ length: pageInfo.totalPages }, (_, i) => i + 1).map(\r\n              (num) => (\r\n                <button\r\n                  key={num}\r\n                  onClick={() => setCurrentPage(num)}\r\n                  className={`px-3 py-1 border rounded ${\r\n                    currentPage === num ? \"bg-blue-600 text-white\" : \"bg-white\"\r\n                  }`}\r\n                >\r\n                  {num}\r\n                </button>\r\n              )\r\n            )}\r\n\r\n            <button\r\n              onClick={() =>\r\n                setCurrentPage((p) => Math.min(p + 1, pageInfo.totalPages))\r\n              }\r\n              disabled={currentPage === pageInfo.totalPages}\r\n              className=\"px-3 py-1 border rounded disabled:opacity-50\"\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {selectedTicket && (\r\n          <TicketModal\r\n            ticket={selectedTicket}\r\n            onClose={() => setSelectedTicket(null)}\r\n            onReply={handleReply}\r\n            replyText={replyText}\r\n            setReplyText={setReplyText}\r\n            newStatus={newStatus}\r\n            setNewStatus={setNewStatus}\r\n            onStatusUpdate={(updatedTicket) => {\r\n              setTickets((prev) =>\r\n                prev.map((t) =>\r\n                  t.ticketId === updatedTicket.ticketId\r\n                    ? { ...t, status: updatedTicket.status }\r\n                    : t\r\n                )\r\n              );\r\n\r\n              setSelectedTicket((prev) =>\r\n                prev ? { ...prev, status: updatedTicket.status } : prev\r\n              );\r\n            }}\r\n          />\r\n        )}\r\n      </main>\r\n\r\n     \r\n<header className=\"sm:hidden relative  px-4 py-3 shadow-md\">\r\n \r\n  <button\r\n    onClick={toggleSidebar}\r\n    className=\"absolute top-2 right-4 p-2 rounded-md hover:bg-gray-200\"\r\n  >\r\n    <FaBars size={18} />\r\n  </button>\r\n</header>\r\n\r\n\r\n\r\n  <aside\r\n        className={`hidden sm:flex flex-col h-screen transition-all duration-200 z-40 ${sidebarBg} ${\r\n          isSidebarCollapsed ? \"w-[60px]\" : \"w-[250px]\"\r\n        }`}\r\n      >\r\n  <div className=\"flex justify-start p-2 items-center\">\r\n    <motion.button\r\n      onClick={toggleSidebar}\r\n      className=\"text-gray-500 hover:text-gray-700 focus:outline-none p-1.5 rounded-full hover:bg-gray-100\"\r\n      transition={{ duration: 0.3 }}\r\n    >\r\n      {isSidebarCollapsed ? <FaArrowRight size={16} /> : <FaArrowLeft size={16} />}\r\n    </motion.button>\r\n  </div>\r\n\r\n {!isSidebarCollapsed && (\r\n  <nav className=\"flex-1 space-y-2 px-2 mt-2\">\r\n    {sidebarItems.map(({ tab, icon: Icon }) => (\r\n      <motion.button\r\n        key={tab}\r\n        className={`w-full text-left py-2 px-2 rounded-md font-medium flex items-center hover:bg-gray-200 ${\r\n          isDark ? \"text-white\" : \"text-black\"\r\n        }`}\r\n        onClick={() => handleTabClick(tab)}\r\n        whileHover={{ x: -3 }}\r\n      >\r\n        <Icon size={16} className=\"mr-2\" />\r\n        <span>{tab}</span>\r\n      </motion.button>\r\n    ))}\r\n  </nav>\r\n)}\r\n</aside>\r\n\r\n\r\n{!isSidebarCollapsed && (\r\n  <div\r\n    className=\"sm:hidden fixed inset-0 bg-black/40 z-40\"\r\n    onClick={toggleSidebar}\r\n  />\r\n)}\r\n\r\n<aside\r\n  className={`sm:hidden fixed top-0 right-0 h-screen transition-transform duration-300 z-50\r\n  ${isSidebarCollapsed ? \"translate-x-full\" : \"translate-x-0\"} w-[250px]\r\n  ${isDark ? \"bg-gray-900 border-gray-700 text-white\" : \"bg-white border-gray-200 text-black\"}`}\r\n>\r\n  \r\n  <div\r\n    className={`flex justify-between p-3 items-center border-b ${\r\n      isDark ? \"border-gray-700 text-white\" : \"border-gray-200 text-black\"\r\n    }`}\r\n  >\r\n   <motion.button\r\n  onClick={() => {\r\n    handleTabClick(\"My Tickets\");\r\n    setIsSidebarCollapsed(true);\r\n  }}\r\n  className={`font-semibold px-3 py-2 mt-8 rounded-md transition flex items-center\r\n    ${isDark ? \"text-white hover:bg-gray-800\" : \"text-black hover:bg-gray-200\"}`}\r\n  whileHover={{ scale: 1.05 }}\r\n>\r\n  <FaTicketAlt size={16} className=\"mr-2\" />\r\n  My Tickets\r\n</motion.button>\r\n\r\n  </div>\r\n\r\n \r\n  <nav className=\"flex flex-col h-full px-2 mt-2\">\r\n    <div className=\"flex-1\" /> \r\n\r\n    {sidebarItems.map(({ tab, icon: Icon }) => (\r\n      <motion.button\r\n        key={tab}\r\n        className={`w-full text-left py-2 px-2 mb-2 rounded-md font-medium flex items-center transition\r\n        ${isDark ? \"text-white hover:bg-gray-800\" : \"text-black hover:bg-gray-200\"}`}\r\n        onClick={() => {\r\n          handleTabClick(tab);\r\n          setIsSidebarCollapsed(true);\r\n        }}\r\n        whileHover={{ x: -3 }}\r\n      >\r\n        <Icon size={16} className=\"mr-2\" />\r\n        <span>{tab}</span>\r\n      </motion.button>\r\n    ))}\r\n  </nav>\r\n</aside>\r\n    </div>\r\n  );\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z',\n      key: 'qn84l0',\n    },\n  ],\n  ['path', { d: 'M13 5v2', key: 'dyzc3o' }],\n  ['path', { d: 'M13 17v2', key: '1ont0d' }],\n  ['path', { d: 'M13 11v2', key: '1wjjxi' }],\n];\n\n/**\n * @component @name Ticket\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMiA5YTMgMyAwIDAgMSAwIDZ2MmEyIDIgMCAwIDAgMiAyaDE2YTIgMiAwIDAgMCAyLTJ2LTJhMyAzIDAgMCAxIDAtNlY3YTIgMiAwIDAgMC0yLTJINGEyIDIgMCAwIDAtMiAyWiIgLz4KICA8cGF0aCBkPSJNMTMgNXYyIiAvPgogIDxwYXRoIGQ9Ik0xMyAxN3YyIiAvPgogIDxwYXRoIGQ9Ik0xMyAxMXYyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/ticket\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Ticket = createLucideIcon('ticket', __iconNode);\n\nexport default Ticket;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n];\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('circle-check', __iconNode);\n\nexport default CircleCheck;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3',\n      key: 'wmoenq',\n    },\n  ],\n  ['path', { d: 'M12 9v4', key: 'juzpu7' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n];\n\n/**\n * @component @name TriangleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTMiIC8+CiAgPHBhdGggZD0iTTEyIDl2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTdoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/triangle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TriangleAlert = createLucideIcon('triangle-alert', __iconNode);\n\nexport default TriangleAlert;\n"],"names":["Filters","_ref","dateFilter","setDateFilter","searchTerm","setSearchTerm","theme","useContext","Context","isDark","_jsxs","className","children","_jsx","htmlFor","id","value","onChange","e","target","type","placeholder","TicketCard","employeeId","employeeName","priority","title","sentAt","status","onClick","priorityColor","High","Medium","Low","statusColor","Pending","Unsolved","Opened","Resolved","dateString","Date","toLocaleString","timeZone","year","month","day","hour","minute","second","hour12","formatToIST","TicketModal","ticket","onClose","replyText","setReplyText","roles","onStatusUpdate","showChat","setShowChat","useState","replies","setReplies","loading","setLoading","messageSent","setMessageSent","messagesEndRef","useRef","socketRef","newStatus","setNewStatus","page","setPage","hasMore","setHasMore","chatContainerRef","matchedArray","setMatchedArray","prevScrollHeight","loadingOlder","setLoadingOlder","formatChatTimeIST","endsWith","toLocaleTimeString","groupedReplies","useMemo","groups","sort","a","b","repliedAt","forEach","msg","dateLabel","date","d","today","yesterday","setDate","getDate","toDateString","toLocaleDateString","formatDate","push","useEffect","_messagesEndRef$curre","current","scrollIntoView","behavior","ticketId","close","token","localStorage","getItem","ws","WebSocket","onopen","console","log","onmessage","event","JSON","parse","data","prev","some","m","error","onerror","err","onclose","fetchReplies","async","pageNum","arguments","length","undefined","_response$data","container","scrollHeight","response","axios","get","headers","Authorization","params","size","messagesArray","Array","isArray","content","perms","newScrollHeight","scrollTop","handleScroll","addEventListener","removeEventListener","handleReply","trim","payload","repliedBy","toUpperCase","toISOString","put","setTimeout","_error$response","message","bgColor","chatBg","chatAltBg","borderColor","_Fragment","ref","Object","keys","map","idx","onKeyDown","key","shiftKey","preventDefault","rows","role","replace","description","res","_err$response","disabled","TicketStats","tickets","total","resolved","filter","t","unsolved","cardBase","textMuted","textPrimary","Ticket","CheckCircle2","AlertTriangle","TicketDashboard","empID","useParams","setTickets","filterStatus","setFilterStatus","selectedTicket","setSelectedTicket","setError","messages","setMessages","isSidebarCollapsed","setIsSidebarCollapsed","userData","pageInfo","setPageInfo","totalPages","totalElements","currentPage","setCurrentPage","wsRef","navigate","useNavigate","rawRole","normalizedRole","startsWith","statusLabels","all","connectWebSocket","socket","updateTicketReplies","warn","replyDTO","toggleSidebar","bgClass","cardBg","sidebarBg","btnPrimary","btnSecondary","sidebarItems","_t$status","toLowerCase","_t$employeeName","_t$priority","_t$title","_t$status2","term","includes","String","tab","icon","handleTabClick","Error","ticketsApi","fetchTickets","_wsRef$current2","Icon","motion","button","whileHover","scale","applyFilters","filtered","s","now","createdAt","last7","last30","_t$status3","p","Math","max","from","_","i","num","min","onReply","_wsRef$current","fetch","method","body","stringify","readyState","OPEN","send","updatedTicket","FaBars","transition","duration","FaArrowRight","FaArrowLeft","_ref2","x","FaTicketAlt","_ref3","createLucideIcon","CircleCheck","cx","cy","r","TriangleAlert"],"sourceRoot":""}