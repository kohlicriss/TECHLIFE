{"version":3,"file":"static/js/137.3f4ccfbc.chunk.js","mappings":"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","sources":["axiosInstance.js","TechLife/HRMS/Components/Teams/AllTeams.jsx"],"sourcesContent":["import axios from 'axios';\r\n \r\nconst AUTH_API_URL = 'http://hrms.anasolconsultancyservices.com/api/auth/refresh-token';\r\n \r\nfunction cloneFormData(formData) {\r\n    const newFormData = new FormData();\r\n    for (let [key, value] of formData.entries()) {\r\n        newFormData.append(key, value);\r\n    }\r\n    return newFormData;\r\n}\r\n \r\nlet isRefreshing = false;\r\nlet failedQueue = [];\r\n \r\nconst processQueue = (error, token = null) => {\r\n    failedQueue.forEach(prom => {\r\n        if (error) {\r\n            prom.reject(error);\r\n        } else {\r\n            prom.resolve(token);\r\n        }\r\n    });\r\n    failedQueue = [];\r\n};\r\n \r\nconst createAxiosInstance = (baseURL) => {\r\n    const instance = axios.create({\r\n        baseURL: baseURL,\r\n    });\r\n \r\n   \r\n    instance.interceptors.request.use(\r\n        (config) => {\r\n            const token = localStorage.getItem('accessToken');\r\n            if (token) {\r\n                config.headers['Authorization'] = `Bearer ${token}`;\r\n            }\r\n            return config;\r\n        },\r\n        (error) => Promise.reject(error)\r\n    );\r\n \r\n    instance.interceptors.response.use(\r\n        (response) => response,\r\n        async (error) => {\r\n            const originalRequest = error.config;\r\n \r\n            if (error.response?.status === 401 && !originalRequest._retry) {\r\n                if (isRefreshing) {\r\n                    return new Promise((resolve, reject) => {\r\n                        failedQueue.push({ resolve, reject });\r\n                    })\r\n                    .then(token => {\r\n                        originalRequest.headers['Authorization'] = `Bearer ${token}`;\r\n                        return instance(originalRequest);\r\n                    })\r\n                    .catch(err => Promise.reject(err));\r\n                }\r\n \r\n                originalRequest._retry = true;\r\n                isRefreshing = true;\r\n \r\n                const oldToken = localStorage.getItem('accessToken');\r\n                console.log(`ðŸ”´ Token expired for ${baseURL}. Old Token:`, oldToken);\r\n \r\n                try {\r\n                    const refreshResponse = await axios.post(\r\n                        AUTH_API_URL,\r\n                        {},\r\n                        { withCredentials: true }\r\n                    );\r\n \r\n                    const { accessToken } = refreshResponse.data;\r\n                    localStorage.setItem('accessToken', accessToken);\r\n                    console.log(`ðŸŸ¢ New Token for ${baseURL}:`, accessToken);\r\n \r\n                    if (originalRequest.data instanceof FormData) {\r\n                        originalRequest.data = cloneFormData(originalRequest.data);\r\n                    }\r\n \r\n                    processQueue(null, accessToken);\r\n \r\n                    const newInstance = createAxiosInstance(baseURL);\r\n                    originalRequest.headers['Authorization'] = `Bearer ${accessToken}`;\r\n \r\n                    return newInstance(originalRequest);\r\n \r\n                } catch (refreshError) {\r\n                    console.error(\"Refresh token failed. Logging out.\", refreshError);\r\n                    localStorage.clear();\r\n                    window.location.href = '/login';\r\n                    processQueue(refreshError);\r\n                    return Promise.reject(refreshError);\r\n \r\n                } finally {\r\n                    isRefreshing = false;\r\n                }\r\n            }\r\n \r\n            return Promise.reject(error);\r\n        }\r\n    );\r\n \r\n    return instance;\r\n};\r\n \r\nwindow.addEventListener('storage', (event) => {\r\n    if (event.key === 'accessToken') {\r\n        console.log(\"ðŸ”„ Token updated in another tab:\", event.newValue);\r\n    }\r\n});\r\n \r\nexport const tasksApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api');\r\nexport const publicinfoApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api');\r\nexport const chatApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api');\r\nexport const notificationsApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api/notification');\r\nexport const ticketsApi = createAxiosInstance('http://localhost:8088/api/ticket')","import React, { useState, useEffect, useContext } from 'react';\r\nimport { publicinfoApi } from '../../../../axiosInstance';\r\nimport { FaUsers, FaPlus, FaUserShield, FaTimes, FaChevronDown, FaChevronUp } from 'react-icons/fa';\r\nimport { IoCheckmarkCircle, IoWarning } from 'react-icons/io5';\r\nimport { Context } from '../HrmsContext';\r\nimport Select from 'react-select';\r\n\r\nconst LoadingSpinner = () => (\r\n  <div className=\"flex justify-center items-center h-64\">\r\n    <div className=\"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500\"></div>\r\n  </div>\r\n);\r\n\r\nconst ErrorDisplay = ({ message }) => (\r\n  <div className=\"text-center p-8 bg-red-100 text-red-700 rounded-lg\">\r\n    <h3 className=\"font-bold text-lg\">Oops! Something went wrong.</h3>\r\n    <p>{message}</p>\r\n  </div>\r\n);\r\n\r\nconst AllTeams = () => {\r\n  const [teams, setTeams] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [employees, setEmployees] = useState([]);\r\n  const [expandedTeams, setExpandedTeams] = useState(new Set());\r\n  \r\n  // Form state\r\n  const [teamName, setTeamName] = useState('');\r\n  const [teamLead, setTeamLead] = useState(null);\r\n  const [teamMembers, setTeamMembers] = useState([]);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [formErrors, setFormErrors] = useState({});\r\n  \r\n  const { userData, theme } = useContext(Context);\r\n  const userRoles = userData?.roles || [];\r\n  const canCreateTeam = userRoles.includes('ADMIN') || userRoles.includes('HR');\r\n\r\n  const toggleTeamExpansion = (teamId) => {\r\n    const newExpandedTeams = new Set(expandedTeams);\r\n    if (newExpandedTeams.has(teamId)) {\r\n      newExpandedTeams.delete(teamId);\r\n    } else {\r\n      newExpandedTeams.add(teamId);\r\n    }\r\n    setExpandedTeams(newExpandedTeams);\r\n  };\r\n\r\n  const isTeamExpanded = (teamId) => expandedTeams.has(teamId);\r\n\r\n  const fetchTeams = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const empID = userData?.employeeId;\r\n      \r\n      if (!empID) {\r\n        setError(\"Employee ID not found. Please login again.\");\r\n        return;\r\n      }\r\n      \r\n      const response = await publicinfoApi.get(`employee/team/${empID}`);\r\n      const teamsArray = Array.isArray(response.data) ? response.data : [response.data];\r\n      setTeams(teamsArray || []);\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error(\"Error fetching teams:\", err);\r\n      setError(\"Could not fetch teams data.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchEmployees = async () => {\r\n    try {\r\n      const response = await publicinfoApi.get('employee/0/1000/employeeId/asc/employees');\r\n      const formattedEmployees = response.data.map(emp => ({\r\n        value: emp.employeeId,\r\n        label: `${emp.displayName} (${emp.employeeId})`\r\n      }));\r\n      setEmployees(formattedEmployees);\r\n    } catch (err) {\r\n      console.error(\"Error fetching employees:\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTeams();\r\n    if (canCreateTeam) {\r\n      fetchEmployees();\r\n    }\r\n  }, [canCreateTeam]);\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    if (!teamName.trim()) errors.teamName = \"Team Name is required.\";\r\n    if (!teamLead) errors.teamLead = \"Team Lead is required.\";\r\n    if (teamMembers.length === 0) errors.teamMembers = \"At least one Team Member is required.\";\r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleCreateTeam = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateForm()) return;\r\n\r\n    setIsSubmitting(true);\r\n    setFormErrors({});\r\n\r\n    const newTeamData = {\r\n        teamName,\r\n        teamLeadId: teamLead.value,\r\n        employeeIds: teamMembers.map(member => member.value),\r\n    };\r\n\r\n    try {\r\n        await publicinfoApi.post('employee/team', newTeamData);\r\n        await fetchTeams();\r\n        \r\n        setIsModalOpen(false);\r\n        setTeamName('');\r\n        setTeamLead(null);\r\n        setTeamMembers([]);\r\n        alert('Team created successfully!');\r\n    } catch (err) {\r\n        console.error(\"Error creating team:\", err);\r\n        setFormErrors({ general: 'Failed to create team. Please check the data and try again.' });\r\n    } finally {\r\n        setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const renderField = (label, name, children) => {\r\n    const isError = formErrors[name];\r\n    return (\r\n      <div className=\"group relative\" key={name}>\r\n        <label className={`block text-sm font-semibold mb-3 flex items-center ${\r\n          theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n        }`}>\r\n          {label}\r\n          <span className=\"text-red-500 ml-1 text-base\">*</span>\r\n        </label>\r\n        {children}\r\n        {isError && (\r\n          <div className=\"mt-2 flex items-center space-x-2 text-red-600\">\r\n            <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n            <p className=\"text-sm font-medium\">{isError}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const customSelectStyles = {\r\n    control: (provided, state) => ({\r\n      ...provided,\r\n      padding: '0.6rem 0.5rem',\r\n      border: `2px solid ${state.isFocused ? '#3b82f6' : (formErrors[state.selectProps.name] ? '#f87171' : (theme === 'dark' ? '#4b5563' : '#e5e7eb'))}`,\r\n      backgroundColor: theme === 'dark' ? '#374151' : '#ffffff',\r\n      borderRadius: '0.75rem',\r\n      boxShadow: state.isFocused ? '0 0 0 4px rgba(59, 130, 246, 0.2)' : 'none',\r\n      '&:hover': {\r\n        borderColor: state.isFocused ? '#3b82f6' : (theme === 'dark' ? '#6b7280' : '#d1d5db'),\r\n      },\r\n    }),\r\n    multiValue: (styles) => ({\r\n      ...styles,\r\n      backgroundColor: theme === 'dark' ? '#4f46e5' : '#e0e7ff',\r\n      color: theme === 'dark' ? 'white' : '#3730a3',\r\n      borderRadius: '0.5rem',\r\n    }),\r\n    multiValueLabel: (styles) => ({\r\n      ...styles,\r\n      color: theme === 'dark' ? 'white' : '#3730a3',\r\n    }),\r\n    multiValueRemove: (styles) => ({\r\n      ...styles,\r\n      color: theme === 'dark' ? '#e0e7ff' : '#4f46e5',\r\n      ':hover': {\r\n        backgroundColor: theme === 'dark' ? '#6366f1' : '#c7d2fe',\r\n        color: 'white',\r\n      },\r\n    }),\r\n    option: (styles, { isFocused, isSelected }) => ({\r\n        ...styles,\r\n        backgroundColor: isSelected ? (theme === 'dark' ? '#4f46e5' : '#6366f1') : isFocused ? (theme === 'dark' ? '#374151' : '#f3f4f6') : (theme === 'dark' ? '#1f2937' : 'white'),\r\n        color: isSelected ? 'white' : (theme === 'dark' ? '#d1d5db' : '#1f2937'),\r\n    }),\r\n    menu: (provided) => ({\r\n        ...provided,\r\n        backgroundColor: theme === 'dark' ? '#1f2937' : 'white',\r\n        borderRadius: '0.75rem'\r\n    }),\r\n    singleValue: (provided) => ({\r\n        ...provided,\r\n        color: theme === 'dark' ? 'white' : 'black'\r\n    }),\r\n  };\r\n\r\n  const renderCreateTeamModal = () => {\r\n    if (!isModalOpen) return null;\r\n    \r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-4\">\r\n            <div className={`rounded-3xl w-full max-w-2xl max-h-[95vh] overflow-hidden shadow-2xl flex flex-col ${\r\n              theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n            }`}>\r\n                <div className=\"px-8 py-6 bg-gradient-to-r from-blue-500 to-indigo-700 text-white relative\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-4\">\r\n                            <div className=\"p-3 bg-white/20 rounded-xl\"><FaUsers className=\"w-8 h-8\" /></div>\r\n                            <div>\r\n                                <h2 className=\"text-2xl font-bold\">Create New Team</h2>\r\n                                <p className=\"text-white/90 text-sm\">Organize employees into a new team.</p>\r\n                            </div>\r\n                        </div>\r\n                        <button onClick={() => setIsModalOpen(false)} className=\"p-3 hover:bg-white/20 rounded-full transition-all group\">\r\n                            <FaTimes className=\"w-6 h-6 group-hover:rotate-90 transition-transform\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"overflow-y-auto flex-grow\">\r\n                    <form className=\"p-8\" onSubmit={handleCreateTeam}>\r\n                        <div className=\"space-y-6\">\r\n                            {renderField(\"Team Name\", \"teamName\", \r\n                                <input \r\n                                    type=\"text\" \r\n                                    value={teamName} \r\n                                    onChange={(e) => setTeamName(e.target.value)}\r\n                                    className={`w-full px-5 py-4 border-2 rounded-xl transition-all duration-300\r\n                                        focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n                                        ${formErrors.teamName ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20' : \r\n                                        theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500' : 'border-gray-200 bg-white hover:border-gray-300'}`}\r\n                                    placeholder=\"e.g., Development Team\"\r\n                                />\r\n                            )}\r\n                            {renderField(\"Team Lead\", \"teamLead\",\r\n                                <Select \r\n                                    name=\"teamLead\"\r\n                                    options={employees} \r\n                                    value={teamLead} \r\n                                    onChange={setTeamLead} \r\n                                    isClearable \r\n                                    styles={customSelectStyles}\r\n                                />\r\n                            )}\r\n                            {renderField(\"Team Members\", \"teamMembers\",\r\n                                <Select \r\n                                    name=\"teamMembers\"\r\n                                    isMulti \r\n                                    options={employees} \r\n                                    value={teamMembers} \r\n                                    onChange={setTeamMembers} \r\n                                    styles={customSelectStyles}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                        {formErrors.general && (\r\n                            <div className={`mt-6 p-4 border-l-4 border-red-400 rounded-r-lg ${theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'}`}>\r\n                                <div className=\"flex items-center\">\r\n                                    <IoWarning className=\"w-5 h-5 text-red-400 mr-3\" />\r\n                                    <p className={`font-medium ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>{formErrors.general}</p>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </form>\r\n                </div>\r\n                \r\n                <div className={`px-8 py-6 border-t flex justify-end space-x-4 ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'}`}>\r\n                    <button type=\"button\" onClick={() => setIsModalOpen(false)} className={`px-8 py-3 border-2 rounded-xl font-semibold transition-all ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-600' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}>\r\n                        Cancel\r\n                    </button>\r\n                    <button type=\"button\" onClick={handleCreateTeam} disabled={isSubmitting} className={`px-10 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white font-bold rounded-xl\r\n                                     hover:shadow-lg transform hover:scale-105 transition-all flex items-center space-x-2\r\n                                     ${isSubmitting ? 'cursor-not-allowed opacity-75' : ''}`}>\r\n                        {isSubmitting ? (\r\n                            <>\r\n                                <div className=\"h-5 w-5 border-4 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                                <span>Creating...</span>\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <IoCheckmarkCircle className=\"w-5 h-5\" />\r\n                                <span>Create Team</span>\r\n                            </>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`p-6 md:p-8 min-h-screen ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className={`text-3xl font-bold flex items-center ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n          <FaUsers className=\"mr-3 text-blue-500\" /> All Teams\r\n        </h1>\r\n        {canCreateTeam && (\r\n          <button\r\n            onClick={() => setIsModalOpen(true)}\r\n            className=\"bg-black text-white px-5 py-2 rounded-lg font-semibold hover:bg-gray-800 transition-colors flex items-center shadow-md\"\r\n          >\r\n            <FaPlus className=\"mr-2\" /> Create Team\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {loading ? (\r\n        <LoadingSpinner />\r\n      ) : error ? (\r\n        <ErrorDisplay message={error} />\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {teams.map((team, index) => {\r\n            const teamId = team.teamId || index;\r\n            const isExpanded = isTeamExpanded(teamId);\r\n            const membersToShow = isExpanded ? team.employees : team.employees?.slice(0, 5);\r\n            const hasMoreMembers = team.employees?.length > 5;\r\n            \r\n            return (\r\n              <div key={teamId} className={`rounded-lg shadow-lg overflow-hidden border transition-shadow duration-300 ${theme === 'dark' ? 'bg-gray-800 border-gray-700 hover:shadow-blue-500/20' : 'bg-white border-gray-200 hover:shadow-xl'}`}>\r\n                <div className=\"p-5\">\r\n                  <h2 className={`text-xl font-bold truncate ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>{team.teamName}</h2>\r\n                  {team.teamLead && (\r\n                    <div className={`flex items-center text-md mt-2 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                      <FaUserShield className=\"mr-2 text-green-500\" />\r\n                      <strong>Lead:</strong><span className=\"ml-1\">{team.teamLead}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className={`px-5 py-4 border-t ${theme === 'dark' ? 'bg-gray-800/50 border-gray-700' : 'bg-gray-50 border-gray-200'}`}>\r\n                  <h3 className={`font-semibold mb-2 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>Members ({team.employees?.length || 0})</h3>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {membersToShow?.map(member => (\r\n                        <span key={member.employeeId} className={`text-xs font-semibold px-2.5 py-1 rounded-full ${theme === 'dark' ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800'}`}>\r\n                          {member.displayName}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                    {hasMoreMembers && (\r\n                      <button \r\n                        onClick={() => toggleTeamExpansion(teamId)}\r\n                        className=\"flex items-center space-x-1 text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors\"\r\n                      >\r\n                        {isExpanded ? (\r\n                          <><span>Show Less</span><FaChevronUp className=\"w-3 h-3\" /></>\r\n                        ) : (\r\n                          <><span>+{team.employees.length - 5} more</span><FaChevronDown className=\"w-3 h-3\" /></>\r\n                        )}\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n      \r\n      {renderCreateTeamModal()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllTeams;"],"names":["isRefreshing","failedQueue","processQueue","error","token","arguments","length","undefined","forEach","prom","reject","resolve","createAxiosInstance","baseURL","instance","axios","create","interceptors","request","use","config","localStorage","getItem","headers","Promise","response","async","_error$response","originalRequest","status","_retry","push","then","catch","err","oldToken","console","log","refreshResponse","post","withCredentials","accessToken","data","setItem","FormData","formData","newFormData","key","value","entries","append","cloneFormData","newInstance","refreshError","clear","window","location","href","addEventListener","event","newValue","tasksApi","publicinfoApi","chatApi","notificationsApi","ticketsApi","LoadingSpinner","_jsx","className","children","ErrorDisplay","_ref","message","_jsxs","AllTeams","teams","setTeams","useState","loading","setLoading","setError","isModalOpen","setIsModalOpen","employees","setEmployees","expandedTeams","setExpandedTeams","Set","teamName","setTeamName","teamLead","setTeamLead","teamMembers","setTeamMembers","isSubmitting","setIsSubmitting","formErrors","setFormErrors","userData","theme","useContext","Context","userRoles","roles","canCreateTeam","includes","fetchTeams","empID","employeeId","get","teamsArray","Array","isArray","useEffect","formattedEmployees","map","emp","label","displayName","fetchEmployees","handleCreateTeam","e","preventDefault","validateForm","errors","trim","Object","keys","newTeamData","teamLeadId","employeeIds","member","alert","general","renderField","name","isError","IoWarning","customSelectStyles","control","provided","state","padding","border","isFocused","selectProps","backgroundColor","borderRadius","boxShadow","borderColor","multiValue","styles","color","multiValueLabel","multiValueRemove","option","_ref2","isSelected","menu","singleValue","FaUsers","onClick","FaPlus","team","index","_team$employees","_team$employees2","_team$employees3","teamId","isExpanded","has","isTeamExpanded","membersToShow","slice","hasMoreMembers","FaUserShield","newExpandedTeams","delete","add","toggleTeamExpansion","_Fragment","FaChevronUp","FaChevronDown","FaTimes","onSubmit","type","onChange","target","placeholder","Select","options","isClearable","isMulti","disabled","IoCheckmarkCircle"],"sourceRoot":""}