{"version":3,"file":"static/js/492.ecf96bb7.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Profile/tabs/About.jsx","TechLife/HRMS/Components/Profile/tabs/Profile.jsx","TechLife/HRMS/Components/Profile/tabs/Job.jsx","TechLife/HRMS/Components/Profile/tabs/Document.jsx","TechLife/HRMS/Components/Profile/tabs/Achievements.jsx","TechLife/HRMS/Components/Profile/Profiles.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext, useCallback } from \"react\";\r\nimport { Context } from \"../../HrmsContext\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport { IoEye, IoWarning, IoClose } from \"react-icons/io5\";\r\nimport { publicinfoApi } from \"../../../../../axiosInstance\";\r\n\r\nconst initialFieldState = { text: \"\", isEditing: false };\r\n\r\nconst About = () => {\r\n  const { theme, userData, matchedArray } = useContext(Context); \r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n  const employeeIdToFetch = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n  const isCurrentUser = String(userData?.employeeId) === String(employeeIdToFetch);\r\n  \r\n  const isReadOnly = fromContextMenu || !isCurrentUser;\r\n\r\n  const hasEditPermission = matchedArray?.includes(\"EDIT_PER\");\r\n  const canEdit = isCurrentUser || (fromContextMenu && hasEditPermission);\r\n\r\n  const [responses, setResponses] = useState({\r\n    about: initialFieldState,\r\n    jobLove: initialFieldState,\r\n    hobbies: initialFieldState,\r\n  });\r\n  const [editCache, setEditCache] = useState({\r\n    about: '',\r\n    jobLove: '',\r\n    hobbies: ''\r\n  });\r\n  const [recordExists, setRecordExists] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const revertState = useCallback((allPrevState, field, errorMessage) => {\r\n    setResponses(allPrevState);\r\n    if (field) {\r\n      setEditCache(prev => ({ ...prev, [field]: allPrevState[field].text }));\r\n    } else {\r\n      setEditCache({\r\n        about: allPrevState.about.text,\r\n        jobLove: allPrevState.jobLove.text,\r\n        hobbies: allPrevState.hobbies.text,\r\n      });\r\n    }\r\n    setError(errorMessage);\r\n  }, []);\r\n\r\n  const fetchAbout = useCallback(async () => {\r\n    if (!employeeIdToFetch) {\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await publicinfoApi.get(`employee/about/${employeeIdToFetch}`);\r\n      const apiData = response.data || {};\r\n      setResponses({\r\n        about: { text: apiData.about || \"\", isEditing: false },\r\n        jobLove: { text: apiData.jobLove || \"\", isEditing: false },\r\n        hobbies: { text: apiData.hobbies || \"\", isEditing: false },\r\n      });\r\n      setEditCache({\r\n        about: apiData.about || \"\",\r\n        jobLove: apiData.jobLove || \"\",\r\n        hobbies: apiData.hobbies || \"\",\r\n      });\r\n      setRecordExists(!!(apiData.about || apiData.jobLove || apiData.hobbies));\r\n    } catch (err) {\r\n      if (err.response && err.response.status === 404) setRecordExists(false);\r\n      else setError(\"Failed to load profile data.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [employeeIdToFetch]);\r\n\r\n  useEffect(() => {\r\n    fetchAbout();\r\n  }, [fetchAbout]);\r\n\r\n  const updateEditCache = (field, value) => setEditCache(prev => ({ ...prev, [field]: value }));\r\n\r\n  const handleEdit = (field) => {\r\n    //  isReadOnly  canEdit \r\n    if (!canEdit) return; \r\n    setResponses((prev) => ({ ...prev, [field]: { ...prev[field], isEditing: true } }));\r\n    setEditCache(prev => ({ ...prev, [field]: responses[field].text }));\r\n  };\r\n\r\n  const handleCancel = (field) => {\r\n    setResponses((prev) => ({ ...prev, [field]: { ...prev[field], isEditing: false } }));\r\n    setEditCache(prev => ({ ...prev, [field]: responses[field].text }));\r\n  };\r\n\r\n  const handleDelete = async (field) => {\r\n    //  isReadOnly  canEdit \r\n    if (isSaving || !canEdit) return;\r\n    const allPreviousState = responses;\r\n    setResponses(prev => ({ ...prev, [field]: { text: \"\", isEditing: false } }));\r\n    setEditCache(prev => ({ ...prev, [field]: \"\" }));\r\n    setIsSaving(true); setError(null);\r\n    try {\r\n      const payload = {\r\n        employeeId: employeeIdToFetch,\r\n        about: field === 'about' ? \"\" : allPreviousState.about.text,\r\n        jobLove: field === 'jobLove' ? \"\" : allPreviousState.jobLove.text,\r\n        hobbies: field === 'hobbies' ? \"\" : allPreviousState.hobbies.text,\r\n      };\r\n      \r\n      const isAllEmpty = !payload.about.trim() && !payload.jobLove.trim() && !payload.hobbies.trim();\r\n      const endpoint = `employee/${employeeIdToFetch}/${recordExists ? 'updateAbout' : 'createAbout'}`;\r\n      \r\n      await publicinfoApi[recordExists ? 'put' : 'post'](endpoint, payload);\r\n      \r\n      if (isAllEmpty) setRecordExists(false);\r\n      else if (!recordExists) setRecordExists(true);\r\n\r\n    } catch (err) {\r\n      revertState(allPreviousState, field, `Failed to delete ${field}. Please try again.`);\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async (field) => {\r\n    //  isReadOnly  canEdit \r\n    if (!canEdit) return;\r\n    const newValue = editCache[field].trim();\r\n    if (!newValue) {\r\n      handleDelete(field); \r\n      return;\r\n    }\r\n\r\n    setIsSaving(true); setError(null);\r\n    const allPreviousState = responses;\r\n    \r\n    // Optimistic Update\r\n    setResponses(prev => ({ ...prev, [field]: { text: newValue, isEditing: false } }));\r\n    \r\n    const payload = {\r\n      employeeId: employeeIdToFetch,\r\n      about: field === 'about' ? newValue : allPreviousState.about.text,\r\n      jobLove: field === 'jobLove' ? newValue : allPreviousState.jobLove.text,\r\n      hobbies: field === 'hobbies' ? newValue : allPreviousState.hobbies.text,\r\n    };\r\n    \r\n    try {\r\n      const endpoint = `employee/${employeeIdToFetch}/${recordExists ? 'updateAbout' : 'createAbout'}`;\r\n      \r\n      if (recordExists) {\r\n        await publicinfoApi.put(endpoint, payload);\r\n      } else {\r\n        await publicinfoApi.post(endpoint, payload);\r\n        setRecordExists(true);\r\n      }\r\n    } catch (err) {\r\n      const isAlreadyRecordedError =\r\n        err.response &&\r\n        (err.response.status === 500 || err.response.status === 409 ||\r\n          (err.response.status === 400 && JSON.stringify(err.response.data).toLowerCase().includes(\"already recorded\")));\r\n      \r\n      if (isAlreadyRecordedError && !recordExists) {\r\n        try {\r\n          await publicinfoApi.put(`employee/${employeeIdToFetch}/updateAbout`, payload);\r\n          setRecordExists(true);\r\n        } catch {\r\n          revertState(allPreviousState, field, `Failed to save ${field}. Try again.`);\r\n          return;\r\n        }\r\n      } else revertState(allPreviousState, field, `Failed to save ${field}. Please try again.`);\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const EditButton = ({ onClick, disabled }) => (\r\n    <button\r\n      onClick={onClick}\r\n      disabled={disabled}\r\n      className={`px-2 py-0.5 border shadow-sm text-xs sm:text-xs transition ${\r\n        theme === 'dark'\r\n          ? 'bg-gray-700 border-gray-600 text-gray-300 hover:text-gray-100 hover:border-gray-500'\r\n          : 'bg-white border-gray-200 text-gray-600 hover:text-gray-800 hover:border-gray-300'\r\n      } disabled:opacity-50 disabled:cursor-not-allowed`}\r\n      aria-label=\"Edit section\"\r\n    >\r\n      Edit\r\n    </button>\r\n  );\r\n\r\n  const renderResponseSection = (field, title) => {\r\n    const { text, isEditing } = responses[field];\r\n\r\n    if (isLoading) {\r\n      return <div className={`h-20 w-full ${theme === \"dark\" ? \"bg-gray-800\" : \"bg-gray-100\"} rounded-md animate-pulse`} />;\r\n    }\r\n\r\n    if (!text && !isEditing) {\r\n      return (\r\n        <button\r\n          onClick={() => handleEdit(field)}\r\n          //   isReadOnly  canEdit \r\n          disabled={!canEdit} \r\n          className={`w-full border rounded-md px-2 py-2 text-xs sm:text-sm transition-colors duration-200 ${\r\n            !canEdit\r\n              ? theme === 'dark'\r\n                ? 'text-gray-500 border-gray-600 cursor-not-allowed'\r\n                : 'text-gray-400 border-gray-300 cursor-not-allowed'\r\n              : theme === 'dark'\r\n              ? 'text-purple-400 border-purple-400 hover:bg-purple-900/20'\r\n              : 'text-purple-600 border-purple-600 hover:bg-purple-50'\r\n          }`}\r\n          aria-label={!canEdit ? `No ${title} added` : `Add your ${title}`}\r\n        >\r\n          {!canEdit ? `No ${title} added` : `Add your ${title}`}\r\n        </button>\r\n      );\r\n    }\r\n\r\n    if (isEditing) {\r\n      return (\r\n        <div className=\"space-y-1 sm:space-y-2 w-full\">\r\n          <textarea\r\n            className={`w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 transition-colors duration-200 text-xs sm:text-sm ${\r\n              theme === \"dark\"\r\n                ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                : \"bg-white border-gray-300 text-gray-900 placeholder-gray-500\"\r\n            }`}\r\n            rows={field === \"about\" ? 5 : 3}\r\n            value={editCache[field]}\r\n            onChange={(e) => updateEditCache(field, e.target.value)}\r\n            placeholder={`Tell us about your ${title.toLowerCase()}...`}\r\n            disabled={!canEdit || isSaving} //  canEdit \r\n            style={{ minHeight: '48px', resize: 'vertical' }}\r\n          />\r\n          <div className=\"flex flex-col sm:flex-row-reverse justify-end space-y-2 sm:space-y-0 sm:space-x-2 w-full\">\r\n            <div className=\"flex gap-2 w-full sm:w-auto\">\r\n              <button\r\n                onClick={() => handleCancel(field)}\r\n                disabled={isSaving}\r\n                className={`w-full sm:w-auto px-2 py-1 rounded-md text-xs disabled:opacity-50 disabled:cursor-not-allowed ${\r\n                  theme === 'dark'\r\n                    ? 'text-gray-300 border border-gray-600 hover:bg-gray-700'\r\n                    : 'text-gray-600 border border-gray-300 hover:bg-gray-100'\r\n                }`}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={() => handleSave(field)}\r\n                //   disabled={!editCache[field].trim() || isSaving}  isSaving  \r\n                //  blank    handleDelete  (handleSave   ).\r\n                //  user input  Save button enable  ,    .\r\n                disabled={!editCache[field].trim() || isSaving} \r\n                className={`w-full sm:w-auto px-2 py-1 rounded-md text-xs disabled:opacity-50 disabled:cursor-not-allowed ${\r\n                  theme === 'dark'\r\n                    ? 'bg-purple-600 text-white hover:bg-purple-700'\r\n                    : 'bg-purple-600 text-white hover:bg-purple-700'\r\n                }`}\r\n              >\r\n                {isSaving ? 'Saving...' : 'Save'}\r\n              </button>\r\n            </div>\r\n            {responses[field].text && (\r\n              <button\r\n                onClick={() => handleDelete(field)}\r\n                disabled={isSaving}\r\n                className={`w-full sm:w-auto px-2 py-1 rounded-md text-xs disabled:opacity-50 disabled:cursor-not-allowed ${\r\n                  theme === 'dark'\r\n                    ? 'text-red-400 border border-red-400 hover:bg-red-900/20'\r\n                    : 'text-red-600 border border-red-600 hover:bg-red-50'\r\n                }`}\r\n              >\r\n                Delete\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={`p-3 rounded-md w-full relative group transition-colors duration-200 ${\r\n          theme === 'dark'\r\n            ? 'bg-gray-800 border border-gray-700'\r\n            : 'bg-gray-50 border border-gray-200'\r\n        }`}\r\n      >\r\n        {/* Edit button rendering logic  */}\r\n        {canEdit && (\r\n          <div className=\"absolute top-1 right-1 flex\">\r\n            <div className=\"sm:hidden\">\r\n              <EditButton onClick={() => handleEdit(field)} disabled={isSaving} />\r\n            </div>\r\n            <div className=\"hidden sm:block opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\r\n              <EditButton onClick={() => handleEdit(field)} disabled={isSaving} />\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <p className={`whitespace-pre-wrap text-xs sm:text-sm break-words ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n          {text}\r\n        </p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`px-2 sm:px-3 md:px-4 py-3 sm:py-4 transition-colors duration-200 min-h-screen w-full ${theme === 'dark' ? 'bg-gray-900' : 'bg-white'}`}>\r\n      {(fromContextMenu || !isCurrentUser) && (\r\n        <div className={`mb-3 sm:mb-5 p-2 sm:p-3 mx-2 sm:mx-0 rounded-md border-l-4 border-blue-500 shadow-sm ${theme === 'dark' ? 'bg-blue-900/20 border-blue-400' : 'bg-blue-50 border-blue-500'}`}>\r\n          <div className=\"flex items-center space-x-2 w-full\">\r\n            <IoEye className={`w-4 h-4 flex-shrink-0 ${theme === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} />\r\n            <div className=\"min-w-0 flex-1\">\r\n              <p className={`font-semibold text-xs sm:text-sm ${theme === 'dark' ? 'text-blue-400' : 'text-blue-800'}`}>\r\n                {isCurrentUser ? \"Your Profile\" : \"Viewing Employee About Details\"}\r\n              </p>\r\n              <p className={`text-[10px] sm:text-xs break-words ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                Employee ID: {employeeIdToFetch}\r\n                {isReadOnly && \"  Read-only access\"}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {error && (\r\n        <div className={`mb-3 sm:mb-5 p-2 sm:p-3 mx-2 sm:mx-0 rounded-md text-xs font-medium ${theme === 'dark' ? 'bg-red-900/40 text-red-300' : 'bg-red-100 text-red-700'}`}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"space-y-3 sm:space-y-4 mx-1 sm:mx-0\">\r\n        <h2 className={`text-base sm:text-lg md:text-xl font-semibold ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>Description</h2>\r\n        <div className=\"space-y-3 sm:space-y-4\">\r\n          <div>\r\n            <h3 className={`text-sm sm:text-base font-medium mb-2 sm:mb-3 break-words ${theme === 'dark' ? 'text-gray-200' : 'text-gray-900'}`}>About</h3>\r\n            {renderResponseSection(\"about\", \"About Me\")}\r\n          </div>\r\n          <div>\r\n            <h3 className={`text-sm sm:text-base font-medium mb-2 sm:mb-3 break-words ${theme === 'dark' ? 'text-gray-200' : 'text-gray-900'}`}>What I love about my job?</h3>\r\n            {renderResponseSection(\"jobLove\", \"Job Love\")}\r\n          </div>\r\n          <div>\r\n            <h3 className={`text-sm sm:text-base font-medium mb-2 sm:mb-3 break-words ${theme === 'dark' ? 'text-gray-200' : 'text-gray-900'}`}>My hobbies</h3>\r\n            {renderResponseSection(\"hobbies\", \"Hobbies\")}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;","import React, { useState, useEffect, useContext, useRef } from 'react';\r\nimport { IoClose, IoPersonOutline, IoCheckmarkCircle, IoWarning, IoAdd, IoMailOutline, IoLocationOutline, IoSchoolOutline, IoBriefcaseOutline, IoCloudUpload, IoEye, IoCreateOutline } from \"react-icons/io5\";\r\nimport { Context } from \"../../HrmsContext\";\r\nimport { publicinfoApi } from \"../../../../../axiosInstance\";\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\n\r\n// --- Reusable Modal Component ---\r\nconst Modal = ({ children, onClose, title, type, theme }) => {\r\n  let titleClass = \"\";\r\n  let icon = null;\r\n\r\n  if (type === \"success\") {\r\n    titleClass = \"text-green-600\";\r\n    icon = <IoCheckmarkCircle className=\"h-5 w-5 sm:h-6 sm:w-6 text-green-500\" />;\r\n  } else if (type === \"error\") {\r\n    titleClass = \"text-red-600\";\r\n    icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-red-500\" />;\r\n  } else if (type === \"confirm\") {\r\n    titleClass = \"text-yellow-600\";\r\n    icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-[250]\">\r\n      <div className={`p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-md m-4 border ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n        <div className=\"flex items-center mb-4\">\r\n          {icon && <span className=\"mr-3\">{icon}</span>}\r\n          <h3 className={`text-lg sm:text-xl font-bold ${titleClass}`}>{title}</h3>\r\n        </div>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst sectionFields = {\r\n  primaryDetails: [\r\n    {\r\n      label: \"First Name\",\r\n      name: \"firstName\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter your first name (up to 50 characters)\"\r\n    },\r\n    {\r\n      label: \"Middle Name\",\r\n      name: \"middleName\",\r\n      type: \"text\",\r\n      hint: \"Enter your middle name if applicable (up to 50 characters)\"\r\n    },\r\n    {\r\n      label: \"Last Name\",\r\n      name: \"lastName\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter your last name (up to 50 characters)\"\r\n    },\r\n    {\r\n      label: \"Display Name\",\r\n      name: \"displayName\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Name to display in system (up to 100 characters)\"\r\n    },\r\n    {\r\n      label: \"Gender\",\r\n      name: \"gender\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"Male\", \"Female\", \"Other\"],\r\n      hint: \"Select your gender\"\r\n    },\r\n    {\r\n      label: \"Date of Birth\",\r\n      name: \"dateOfBirth\",\r\n      type: \"date\",\r\n      required: true,\r\n      hint: \"Select your birth date (must be in the past)\"\r\n    },\r\n    {\r\n      label: \"Marital Status\",\r\n      name: \"maritalStatus\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"Single\", \"Married\", \"Divorced\", \"Widowed\"],\r\n      hint: \"Select your current marital status\"\r\n    },\r\n    {\r\n      label: \"Blood Group\",\r\n      name: \"bloodGroup\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"A+\", \"A-\", \"B+\", \"B-\", \"AB+\", \"AB-\", \"O+\", \"O-\"],\r\n      hint: \"Select your blood group\"\r\n    },\r\n    {\r\n      label: \"Physically Handicapped\",\r\n      name: \"physicallyHandicapped\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"Yes\", \"No\"],\r\n      hint: \"Indicate if you have any physical disabilities\"\r\n    },\r\n    {\r\n      label: \"Nationality\",\r\n      name: \"nationality\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"Indian\", \"American\", \"British\", \"Canadian\", \"Australian\", \"German\", \"French\", \"Japanese\", \"Chinese\", \"Brazilian\", \"Mexican\", \"Italian\", \"Spanish\", \"Russian\", \"South Korean\", \"Indonesian\", \"Saudi Arabian\", \"Turkish\", \"Argentine\", \"Other\"],\r\n      hint: \"Select your nationality\"\r\n    },\r\n  ],\r\n  contactDetails: [\r\n    {\r\n      label: \"Work Email\",\r\n      name: \"workEmail\",\r\n      type: \"email\",\r\n      required: true,\r\n      hint: \"Enter your official work email address\"\r\n    },\r\n    {\r\n      label: \"Personal Email\",\r\n      name: \"personalEmail\",\r\n      type: \"email\",\r\n      hint: \"Enter your personal email address\"\r\n    },\r\n    {\r\n      label: \"Mobile Number\",\r\n      name: \"mobileNumber\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter 10-digit Indian mobile number starting with 6-9\"\r\n    },\r\n    {\r\n      label: \"Work Number\",\r\n      name: \"workNumber\",\r\n      type: \"text\",\r\n      hint: \"Enter work phone number (3-15 digits)\"\r\n    },\r\n  ],\r\n  address: [\r\n    {\r\n      label: \"Street\",\r\n      name: \"street\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter street address (up to 100 characters)\"\r\n    },\r\n    {\r\n      label: \"City\",\r\n      name: \"city\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter city name (up to 50 characters)\"\r\n    },\r\n    {\r\n      label: \"State\",\r\n      name: \"state\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter state name (up to 50 characters)\"\r\n    },\r\n    {\r\n      label: \"Zip\",\r\n      name: \"zip\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter 6-digit Indian ZIP code\"\r\n    },\r\n    {\r\n      label: \"Country\",\r\n      name: \"country\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter country name (up to 50 characters)\"\r\n    },\r\n    {\r\n      label: \"District\",\r\n      name: \"district\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter district name (up to 50 characters)\"\r\n    },\r\n  ],\r\n  education: [\r\n    {\r\n      label: \"Degree Type\",\r\n      name: \"degreeType\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter degree name (up to 100 characters)\"\r\n    },\r\n    {\r\n      label: \"Institution\",\r\n      name: \"universityOrCollege\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter university/college name (up to 200 characters)\"\r\n    },\r\n    {\r\n      label: \"Specialization\",\r\n      name: \"branchOrSpecialization\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter branch or specialization (up to 100 characters)\"\r\n    },\r\n    {\r\n      label: \"Start Month\",\r\n      name: \"startMonth\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n      hint: \"Select the starting month\"\r\n    },\r\n    {\r\n      label: \"Start Year\",\r\n      name: \"startYear\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter year between 1900-2099\"\r\n    },\r\n    {\r\n      label: \"End Month\",\r\n      name: \"endMonth\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n      hint: \"Select the ending month\"\r\n    },\r\n    {\r\n      label: \"End Year\",\r\n      name: \"endYear\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter year between 1900-2099\"\r\n    },\r\n    {\r\n      label: \"CGPA/Percentage\",\r\n      name: \"cgpaOrPercentage\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter CGPA or percentage (0-100)\"\r\n    },\r\n    {\r\n      label: \"Degree Certificate\",\r\n      name: \"addFiles\",\r\n      type: \"file\",\r\n      required: true,\r\n      hint: \"Upload degree certificate (JPG, PNG, PDF)\"\r\n    },\r\n  ],\r\n  experience: [\r\n    {\r\n      label: \"Company Name\",\r\n      name: \"companyName\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter company name (2-100 characters)\"\r\n    },\r\n    {\r\n      label: \"Job Title\",\r\n      name: \"jobTitle\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter job title/position (2-100 characters)\"\r\n    },\r\n    {\r\n      label: \"Location\",\r\n      name: \"location\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter work location/city\"\r\n    },\r\n    {\r\n      label: \"Description\",\r\n      name: \"description\",\r\n      type: \"textarea\",\r\n      hint: \"Describe your role and responsibilities (up to 1000 characters)\"\r\n    },\r\n    {\r\n      label: \"Start Month\",\r\n      name: \"startMonth\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n      hint: \"Select the starting month\"\r\n    },\r\n    {\r\n      label: \"Start Year\",\r\n      name: \"startYear\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter 4-digit year (e.g., 2020)\"\r\n    },\r\n    {\r\n      label: \"End Month\",\r\n      name: \"endMonth\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n      hint: \"Select the ending month\"\r\n    },\r\n    {\r\n      label: \"End Year\",\r\n      name: \"endYear\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter 4-digit year (e.g., 2023)\"\r\n    },\r\n  ],\r\n};\r\n\r\nconst sectionConfig = {\r\n  primaryDetails: {\r\n    icon: IoPersonOutline,\r\n    color: 'from-blue-500 to-blue-700',\r\n    bgColor: 'bg-blue-50',\r\n    darkBgColor: 'bg-blue-900/20',\r\n    borderColor: 'border-blue-200',\r\n    darkBorderColor: 'border-blue-700',\r\n    textColor: 'text-blue-700',\r\n    darkTextColor: 'text-blue-400',\r\n    title: 'Primary Details',\r\n    description: 'Personal information and basic details'\r\n  },\r\n  contactDetails: {\r\n    icon: IoMailOutline,\r\n    color: 'from-green-500 to-green-700',\r\n    bgColor: 'bg-green-50',\r\n    darkBgColor: 'bg-green-900/20',\r\n    borderColor: 'border-green-200',\r\n    darkBorderColor: 'border-green-700',\r\n    textColor: 'text-green-700',\r\n    darkTextColor: 'text-green-400',\r\n    title: 'Contact Details',\r\n    description: 'Email addresses and phone numbers'\r\n  },\r\n  address: {\r\n    icon: IoLocationOutline,\r\n    color: 'from-orange-500 to-orange-700',\r\n    bgColor: 'bg-orange-50',\r\n    darkBgColor: 'bg-orange-900/20',\r\n    borderColor: 'border-orange-200',\r\n    darkBorderColor: 'border-orange-700',\r\n    textColor: 'text-orange-700',\r\n    darkTextColor: 'text-orange-400',\r\n    title: 'Address Information',\r\n    description: 'Current residential address'\r\n  },\r\n  education: {\r\n    icon: IoSchoolOutline,\r\n    color: 'from-yellow-500 to-amber-700',\r\n    bgColor: 'bg-yellow-50',\r\n    darkBgColor: 'bg-yellow-900/20',\r\n    borderColor: 'border-yellow-200',\r\n    darkBorderColor: 'border-yellow-700',\r\n    textColor: 'text-yellow-700',\r\n    darkTextColor: 'text-yellow-400',\r\n    title: 'Education Details',\r\n    description: 'Academic qualifications and achievements'\r\n  },\r\n  experience: {\r\n    icon: IoBriefcaseOutline,\r\n    color: 'from-indigo-500 to-indigo-700',\r\n    bgColor: 'bg-indigo-50',\r\n    darkBgColor: 'bg-indigo-900/20',\r\n    borderColor: 'border-indigo-200',\r\n    darkBorderColor: 'border-indigo-700',\r\n    textColor: 'text-indigo-700',\r\n    darkTextColor: 'text-indigo-400',\r\n    title: 'Previous Experience',\r\n    description: 'Professional work history'\r\n  },\r\n};\r\n\r\nconst hasActualData = (data, sectionKey) => {\r\n  if (!data) return false;\r\n\r\n  if (Array.isArray(data)) {\r\n    return data.length > 0;\r\n  }\r\n\r\n  const fieldsToCheck = sectionFields[sectionKey];\r\n  if (!fieldsToCheck) return false;\r\n\r\n  return fieldsToCheck.some(field => {\r\n    const value = data[field.name];\r\n    return value && value !== \"\" && value !== null && value !== undefined;\r\n  });\r\n};\r\n\r\nconst getMaxDate = () => {\r\n  const today = new Date();\r\n  const maxYear = today.getFullYear() - 18;\r\n  const maxDate = new Date(maxYear, today.getMonth(), today.getDate());\r\n\r\n  return maxDate.toISOString().split('T')[0];\r\n};\r\n\r\nconst isAtLeast18YearsOld = (dateString) => {\r\n  if (!dateString) return true;\r\n\r\n  const selectedDate = new Date(dateString);\r\n  const today = new Date();\r\n  const minDate = new Date(today.getFullYear() - 18, today.getMonth(), today.getDate());\r\n\r\n  return selectedDate <= minDate;\r\n};\r\n\r\nconst validateFieldByHint = (fieldName, value, hint, fieldType) => {\r\n  if (!value || value.trim() === '') return null;\r\n\r\n  const trimmedValue = value.trim();\r\n\r\n  switch (fieldName) {\r\n    case 'firstName':\r\n    case 'middleName':\r\n    case 'lastName':\r\n      if (trimmedValue.length > 50) {\r\n        return `${fieldName} must not exceed 50 characters`;\r\n      }\r\n      if (!/^[A-Za-z\\s]+$/.test(trimmedValue)) {\r\n        return `${fieldName} must contain only letters and spaces`;\r\n      }\r\n      break;\r\n\r\n    case 'displayName':\r\n      if (trimmedValue.length > 100) {\r\n        return 'Display name must not exceed 100 characters';\r\n      }\r\n      break;\r\n\r\n    case 'nationality':\r\n      if (trimmedValue.length > 50) {\r\n        return 'Nationality must not exceed 50 characters';\r\n      }\r\n      if (!/^[A-Za-z\\s]+$/.test(trimmedValue)) {\r\n        return 'Nationality must contain only letters and spaces';\r\n      }\r\n      break;\r\n\r\n    case 'dateOfBirth':\r\n      const birthDate = new Date(trimmedValue);\r\n      const today = new Date();\r\n      if (birthDate >= today) {\r\n        return 'Date of birth must be in the past';\r\n      }\r\n      if (!isAtLeast18YearsOld(trimmedValue)) {\r\n        return 'You must be at least 18 years old.';\r\n      }\r\n      break;\r\n\r\n    case 'workEmail':\r\n    case 'personalEmail':\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      if (!emailRegex.test(trimmedValue)) {\r\n        return 'Please enter a valid email address';\r\n      }\r\n      break;\r\n\r\n    case 'mobileNumber':\r\n      const cleanMobile = trimmedValue.replace(/\\D/g, '');\r\n      if (cleanMobile.length !== 10) {\r\n        return 'Mobile number must be exactly 10 digits';\r\n      }\r\n      if (!/^[6-9]/.test(cleanMobile)) {\r\n        return 'Indian mobile number must start with 6, 7, 8, or 9';\r\n      }\r\n      break;\r\n\r\n    case 'workNumber':\r\n      const cleanWork = trimmedValue.replace(/\\D/g, '');\r\n      if (cleanWork.length < 3 || cleanWork.length > 15) {\r\n        return 'Work number must be between 3-15 digits';\r\n      }\r\n      break;\r\n\r\n    case 'street':\r\n      if (trimmedValue.length > 100) {\r\n        return 'Street address must not exceed 100 characters';\r\n      }\r\n      break;\r\n\r\n    case 'city':\r\n    case 'state':\r\n    case 'country':\r\n    case 'district':\r\n      if (trimmedValue.length > 50) {\r\n        return `${fieldName} must not exceed 50 characters`;\r\n      }\r\n      if (!/^[A-Za-z\\s]+$/.test(trimmedValue)) {\r\n        return `${fieldName} must contain only letters and spaces`;\r\n      }\r\n      break;\r\n\r\n    case 'zip':\r\n      const cleanZip = trimmedValue.replace(/\\D/g, '');\r\n      if (cleanZip.length !== 6) {\r\n        return 'ZIP code must be exactly 6 digits';\r\n      }\r\n      break;\r\n\r\n    case 'degreeType':\r\n      if (trimmedValue.length > 100) {\r\n        return 'Degree type must not exceed 100 characters';\r\n      }\r\n      break;\r\n\r\n    case 'universityOrCollege':\r\n      if (trimmedValue.length > 200) {\r\n        return 'Institution name must not exceed 200 characters';\r\n      }\r\n      break;\r\n\r\n    case 'branchOrSpecialization':\r\n      if (trimmedValue.length > 100) {\r\n        return 'Specialization must not exceed 100 characters';\r\n      }\r\n      break;\r\n\r\n    case 'startYear':\r\n    case 'endYear':\r\n      const year = parseInt(trimmedValue);\r\n      if (isNaN(year) || year < 1900 || year > 2099) {\r\n        return 'Year must be between 1900-2099';\r\n      }\r\n      break;\r\n\r\n    case 'cgpaOrPercentage':\r\n      const score = parseFloat(trimmedValue);\r\n      if (isNaN(score) || score < 0 || score > 100) {\r\n        return 'CGPA/Percentage must be between 0-100';\r\n      }\r\n      break;\r\n\r\n    case 'companyName':\r\n    case 'jobTitle':\r\n      if (trimmedValue.length < 2 || trimmedValue.length > 100) {\r\n        return `${fieldName} must be between 2-100 characters`;\r\n      }\r\n      break;\r\n\r\n    case 'description':\r\n      if (trimmedValue.length > 1000) {\r\n        return 'Description must not exceed 1000 characters';\r\n      }\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nconst handleNetworkError = (error) => {\r\n  if (!navigator.onLine) {\r\n    return 'No internet connection. Please check your network and try again.';\r\n  }\r\n\r\n  if (error.code === 'NETWORK_ERROR' || error.message === 'Network Error') {\r\n    return 'Network error occurred. Please check your internet connection and try again.';\r\n  }\r\n\r\n  if (error.code === 'ECONNABORTED' || error.message.includes('timeout')) {\r\n    return 'Request timed out. Please check your connection and try again.';\r\n  }\r\n\r\n  if (error.response) {\r\n    switch (error.response.status) {\r\n      case 400:\r\n        return error.response.data?.message || 'Invalid data provided. Please check all fields.';\r\n      case 401:\r\n        return 'Session expired. Please log in again.';\r\n      case 403:\r\n        return 'You do not have permission to perform this action.';\r\n      case 404:\r\n        return 'Resource not found. Please refresh the page and try again.';\r\n      case 500:\r\n        return 'Server error occurred. Please try again later.';\r\n      case 502:\r\n      case 503:\r\n      case 504:\r\n        return 'Service temporarily unavailable. Please try again in a few moments.';\r\n      default:\r\n        return 'An unexpected error occurred. Please try again.';\r\n    }\r\n  } else if (error.request) {\r\n    return 'Unable to connect to the server. Please check your internet connection.';\r\n  } else {\r\n    return 'An unexpected error occurred. Please try again.';\r\n  }\r\n};\r\n\r\nfunction Profile() {\r\n  const [editingSection, setEditingSection] = useState(null);\r\n  const [primarydata, setPrimaryData] = useState(null);\r\n  const [contactdetails, setContactDetails] = useState(null);\r\n  const [addressData, setAddressData] = useState(null);\r\n  const [eduData, setEduData] = useState([]);\r\n  const [experience, setExperience] = useState([]);\r\n  const { theme, userData, matchedArray } = useContext(Context);\r\n  const [editingData, setEditingData] = useState({});\r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n  const [loading, setLoading] = useState(true);\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n  const [completionStats, setCompletionStats] = useState({ completed: 0, total: 5 });\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n  const [initialEditingData, setInitialEditingData] = useState({});\r\n  const [noChangesModal, setNoChangesModal] = useState({\r\n    show: false,\r\n    section: null,\r\n    onContinue: null\r\n  });\r\n\r\n  const [networkError, setNetworkError] = useState(null);\r\n\r\n  const [popup, setPopup] = useState({ show: false, message: '', type: '' });\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n  const profileEmployeeId = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n\r\n  const loggedInEmpID = userData?.employeeId;\r\n  const isOwnProfile = String(loggedInEmpID) === String(profileEmployeeId);\r\n  const hasEditPermission = matchedArray?.includes(\"EDIT_PER\");\r\n\r\n  const isReadOnly = (\r\n    !isOwnProfile &&\r\n    (\r\n      !fromContextMenu ||\r\n      (fromContextMenu && !hasEditPermission)\r\n    )\r\n  );\r\n  const isAdmin = userData?.roles?.[0]?.toUpperCase() === 'ADMIN';\r\n\r\n  const hasFormChanges = (currentData, initialData, selectedFile = null) => {\r\n    if (selectedFile) return true;\r\n\r\n    const normalizeValue = (value) => {\r\n      if (value === null || value === undefined) return '';\r\n      return String(value).trim();\r\n    };\r\n\r\n    const currentFields = Object.keys(currentData || {});\r\n    const initialFields = Object.keys(initialData || {});\r\n\r\n    if (currentFields.length !== initialFields.length) return true;\r\n\r\n    for (const key of currentFields) {\r\n      const currentValue = normalizeValue(currentData[key]);\r\n      const initialValue = normalizeValue(initialData[key]);\r\n\r\n      if (currentValue !== initialValue) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (editingSection) {\r\n      localStorage.setItem(`profile-editing-${editingSection.section}`, JSON.stringify(editingData));\r\n    }\r\n  }, [editingData, editingSection]);\r\n\r\n  useEffect(() => {\r\n    if (fromContextMenu && targetEmployeeId) {\r\n      console.log(\"Viewing profile from context menu for employee:\", targetEmployeeId);\r\n    }\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const [primaryRes, contactRes, addressRes, eduRes, expRes] = await Promise.all([\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/primary/details`).catch(err => ({ data: null })),\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/contact`).catch(err => ({ data: null })),\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/address`).catch(err => ({ data: null })),\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/degreeDetails`).catch(err => ({ data: [] })),\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/previousExperience`).catch(err => ({ data: [] })),\r\n        ]);\r\n\r\n        setPrimaryData(primaryRes.data);\r\n        setContactDetails(contactRes.data);\r\n        setAddressData(addressRes.data);\r\n        setEduData(eduRes.data);\r\n        setExperience(expRes.data);\r\n\r\n        const sections = [\r\n          hasActualData(primaryRes.data, 'primaryDetails'),\r\n          hasActualData(contactRes.data, 'contactDetails'),\r\n          hasActualData(addressRes.data, 'address'),\r\n          hasActualData(eduRes.data, 'education'),\r\n          hasActualData(expRes.data, 'experience'),\r\n        ];\r\n        const completed = sections.filter(Boolean).length;\r\n        setCompletionStats({ completed, total: 5 });\r\n\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch data:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (profileEmployeeId) {\r\n      fetchData();\r\n    }\r\n  }, [profileEmployeeId, fromContextMenu, targetEmployeeId]);\r\n\r\n  const openEditSection = (section, itemData = null, isAdd = false) => {\r\n    if (isReadOnly) {\r\n      setPopup({ show: true, message: \"You can only view this employee's profile. Editing is not allowed.\", type: 'error' });\r\n      return;\r\n    }\r\n    setErrors({});\r\n    setNetworkError(null);\r\n\r\n    const savedData = localStorage.getItem(`profile-editing-${section}`);\r\n    if (savedData && !itemData && !isAdd) {\r\n      const parsedData = JSON.parse(savedData);\r\n      setEditingData(parsedData);\r\n      setInitialEditingData(parsedData);\r\n    } else {\r\n      let dataToEdit = {};\r\n      if (section === \"primaryDetails\") {\r\n        dataToEdit = primarydata;\r\n      } else if (section === \"contactDetails\") {\r\n        dataToEdit = contactdetails;\r\n      } else if (section === \"address\") {\r\n        dataToEdit = addressData;\r\n      } else if (section === \"education\") {\r\n        if (itemData) {\r\n          dataToEdit = itemData;\r\n        } else if (isAdd || (eduData && eduData.length === 0)) {\r\n          dataToEdit = {};\r\n        } else {\r\n          dataToEdit = eduData[0];\r\n        }\r\n      } else if (section === \"experience\") {\r\n        if (itemData) {\r\n          dataToEdit = itemData;\r\n        } else if (isAdd || (experience && experience.length === 0)) {\r\n          dataToEdit = {};\r\n        } else {\r\n          dataToEdit = experience[0];\r\n        }\r\n      }\r\n      const finalData = dataToEdit || {};\r\n      setEditingData(finalData);\r\n      setInitialEditingData(finalData);\r\n    }\r\n\r\n    setSelectedFile(null);\r\n    setEditingSection({ section, isAdd: isAdd || !itemData });\r\n  };\r\n\r\n  const handleEditFieldChange = (field, value) => {\r\n    setEditingData((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n\r\n    setNetworkError(null);\r\n\r\n    if (errors[field]) {\r\n      setErrors((prev) => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[field];\r\n        return newErrors;\r\n      });\r\n    }\r\n\r\n    const fieldConfig = sectionFields[editingSection?.section]?.find(f => f.name === field);\r\n    if (fieldConfig) {\r\n      const validationError = validateFieldByHint(field, value, fieldConfig.hint, fieldConfig.type);\r\n      if (validationError) {\r\n        setErrors((prev) => ({\r\n          ...prev,\r\n          [field]: validationError\r\n        }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (file) => {\r\n    setSelectedFile(file);\r\n  };\r\n\r\n  const handleUpdatePrimaryDetails = async () => {\r\n    setNetworkError(null);\r\n    try {\r\n      const url = `/employee/${profileEmployeeId}/primary/details`;\r\n      await publicinfoApi.put(url, editingData);\r\n      const updatedData = await publicinfoApi.get(url);\r\n      setPrimaryData(updatedData.data);\r\n\r\n      const sections = [\r\n        hasActualData(updatedData.data, 'primaryDetails'),\r\n        hasActualData(contactdetails, 'contactDetails'),\r\n        hasActualData(addressData, 'address'),\r\n        hasActualData(eduData, 'education'),\r\n        hasActualData(experience, 'experience'),\r\n      ];\r\n      setCompletionStats({ completed: sections.filter(Boolean).length, total: 5 });\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Failed to update primary details:\", error);\r\n      if (error.response && error.response.status === 400) {\r\n        setErrors(error.response.data);\r\n      } else {\r\n        const networkErrorMessage = handleNetworkError(error);\r\n        setNetworkError(networkErrorMessage);\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleUpdateContactDetails = async () => {\r\n    setNetworkError(null);\r\n    try {\r\n      const url = `/employee/${profileEmployeeId}/contact`;\r\n      await publicinfoApi.put(url, editingData);\r\n      const updatedData = await publicinfoApi.get(url);\r\n      setContactDetails(updatedData.data);\r\n\r\n      const sections = [\r\n        hasActualData(primarydata, 'primaryDetails'),\r\n        hasActualData(updatedData.data, 'contactDetails'),\r\n        hasActualData(addressData, 'address'),\r\n        hasActualData(eduData, 'education'),\r\n        hasActualData(experience, 'experience'),\r\n      ];\r\n      setCompletionStats({ completed: sections.filter(Boolean).length, total: 5 });\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Failed to update contact details:\", error);\r\n      if (error.response && error.response.status === 400) {\r\n        setErrors(error.response.data);\r\n      } else {\r\n        const networkErrorMessage = handleNetworkError(error);\r\n        setNetworkError(networkErrorMessage);\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleUpdateAddress = async () => {\r\n    setNetworkError(null);\r\n    try {\r\n      const url = `/employee/${profileEmployeeId}/address`;\r\n      await publicinfoApi.put(url, editingData);\r\n      const updatedData = await publicinfoApi.get(url);\r\n      setAddressData(updatedData.data);\r\n\r\n      const sections = [\r\n        hasActualData(primarydata, 'primaryDetails'),\r\n        hasActualData(contactdetails, 'contactDetails'),\r\n        hasActualData(updatedData.data, 'address'),\r\n        hasActualData(eduData, 'education'),\r\n        hasActualData(experience, 'experience'),\r\n      ];\r\n      setCompletionStats({ completed: sections.filter(Boolean).length, total: 5 });\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Failed to update address:\", error);\r\n      if (error.response && error.response.status === 400) {\r\n        setErrors(error.response.data);\r\n      } else {\r\n        const networkErrorMessage = handleNetworkError(error);\r\n        setNetworkError(networkErrorMessage);\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleUpdateEducation = async () => {\r\n    setNetworkError(null);\r\n    try {\r\n      const isUpdate = !!(editingData && editingData.id);\r\n      const method = isUpdate ? 'put' : 'post';\r\n      const url = isUpdate\r\n        ? `/employee/${profileEmployeeId}/degreeDetails/${editingData.id}`\r\n        : `/employee/${profileEmployeeId}/degreeDetails`;\r\n\r\n      const formData = new FormData();\r\n      if (selectedFile) {\r\n        formData.append(\"addFiles\", selectedFile);\r\n      }\r\n      formData.append(\"degree\", new Blob([JSON.stringify(editingData)], { type: \"application/json\" }));\r\n\r\n      await publicinfoApi[method](url, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n\r\n      const updatedEduRes = await publicinfoApi.get(`employee/${profileEmployeeId}/degreeDetails`);\r\n      setEduData(updatedEduRes.data);\r\n\r\n      const sections = [\r\n        hasActualData(primarydata, 'primaryDetails'),\r\n        hasActualData(contactdetails, 'contactDetails'),\r\n        hasActualData(addressData, 'address'),\r\n        hasActualData(updatedEduRes.data, 'education'),\r\n        hasActualData(experience, 'experience'),\r\n      ];\r\n      setCompletionStats({ completed: sections.filter(Boolean).length, total: 5 });\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Failed to update education details:\", error);\r\n      if (error.response && error.response.status === 400) {\r\n        setErrors(error.response.data);\r\n      } else {\r\n        const networkErrorMessage = handleNetworkError(error);\r\n        setNetworkError(networkErrorMessage);\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleUpdateExperience = async () => {\r\n    setNetworkError(null);\r\n    try {\r\n      const isUpdate = !!(editingData && editingData.id);\r\n      const url = `/employee/${profileEmployeeId}/previousExperience/${editingData.id}`;\r\n      const method = isUpdate ? 'put' : 'post';\r\n\r\n      if (isUpdate) {\r\n        await publicinfoApi.put(url, editingData);\r\n      } else {\r\n        await publicinfoApi.post(`/employee/${profileEmployeeId}/previousExperience`, editingData);\r\n      }\r\n\r\n      const updatedExperienceRes = await publicinfoApi.get(`employee/${profileEmployeeId}/previousExperience`);\r\n      setExperience(updatedExperienceRes.data);\r\n\r\n      const sections = [\r\n        hasActualData(primarydata, 'primaryDetails'),\r\n        hasActualData(contactdetails, 'contactDetails'),\r\n        hasActualData(addressData, 'address'),\r\n        hasActualData(eduData, 'education'),\r\n        hasActualData(updatedExperienceRes.data, 'experience'),\r\n      ];\r\n      setCompletionStats({ completed: sections.filter(Boolean).length, total: 5 });\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Failed to update experience details:\", error);\r\n      if (error.response && error.response.status === 400) {\r\n        setErrors(error.response.data);\r\n      } else {\r\n        const networkErrorMessage = handleNetworkError(error);\r\n        setNetworkError(networkErrorMessage);\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (section) => {\r\n    setNetworkError(null);\r\n\r\n    const fields = sectionFields[section] || [];\r\n    const validationErrors = {};\r\n\r\n    fields.forEach(field => {\r\n      const value = editingData[field.name];\r\n      if (field.required && (!value || (typeof value === 'string' && value.trim() === ''))) {\r\n        if (field.type === 'file') {\r\n          if (!editingData[field.name] && !selectedFile) {\r\n            validationErrors[field.name] = `${field.label} is required`;\r\n          }\r\n        } else {\r\n          validationErrors[field.name] = `${field.label} is required`;\r\n        }\r\n      } else if (value && typeof value === 'string' && value.trim() !== '') {\r\n        const validationError = validateFieldByHint(field.name, value, field.hint, field.type);\r\n        if (validationError) {\r\n          validationErrors[field.name] = validationError;\r\n        }\r\n      }\r\n    });\r\n\r\n    if (Object.keys(validationErrors).length > 0) {\r\n      setErrors(validationErrors);\r\n      return;\r\n    }\r\n\r\n    const hasChanges = hasFormChanges(editingData, initialEditingData, selectedFile);\r\n\r\n    if (!hasChanges) {\r\n      setNoChangesModal({\r\n        show: true,\r\n        section: section,\r\n        onContinue: () => {\r\n          setNoChangesModal({ show: false, section: null, onContinue: null });\r\n          proceedWithSubmission(section);\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    proceedWithSubmission(section);\r\n  };\r\n\r\n  const proceedWithSubmission = async (section) => {\r\n    setIsUpdating(true);\r\n    let success = false;\r\n    try {\r\n      switch (section) {\r\n        case \"primaryDetails\":\r\n          success = await handleUpdatePrimaryDetails();\r\n          break;\r\n        case \"contactDetails\":\r\n          success = await handleUpdateContactDetails();\r\n          break;\r\n        case \"address\":\r\n          success = await handleUpdateAddress();\r\n          break;\r\n        case \"education\":\r\n          success = await handleUpdateEducation();\r\n          break;\r\n        case \"experience\":\r\n          success = await handleUpdateExperience();\r\n          break;\r\n        default:\r\n          console.error(\"Unknown section:\", section);\r\n          setErrors({ general: \"Unknown section selected for update.\" });\r\n      }\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n\r\n    if (success) {\r\n      setEditingSection(null);\r\n      setErrors({});\r\n      setNetworkError(null);\r\n      localStorage.removeItem(`profile-editing-${section}`);\r\n      setPopup({ show: true, message: 'Profile section updated successfully!', type: 'success' });\r\n    }\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    if (editingSection) {\r\n      localStorage.removeItem(`profile-editing-${editingSection.section}`);\r\n    }\r\n    setEditingSection(null);\r\n    setNetworkError(null);\r\n  };\r\n\r\n  const renderField = (label, name, type = \"text\", required = false, options = [], hint = \"\") => {\r\n    const isError = errors[name];\r\n    const fieldValue = editingData[name] || \"\";\r\n\r\n    if (type === \"file\") {\r\n      return (\r\n        <div className=\"relative\" key={name}>\r\n          <label className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ${\r\n            theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n            }`}>\r\n            {label}\r\n            {required && <span className=\"text-red-500 ml-1 text-sm sm:text-base\">*</span>}\r\n          </label>\r\n\r\n          {hint && (\r\n            <p className={`text-xs mb-2 ${\r\n              theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>\r\n              {hint}\r\n            </p>\r\n          )}\r\n\r\n          <div className={`relative border-2 border-dashed rounded-lg sm:rounded-xl\r\n            ${isError\r\n              ? 'border-red-300 bg-red-50'\r\n              : theme === 'dark'\r\n                ? 'border-gray-600 bg-gray-800'\r\n                : 'border-gray-300 bg-gray-50'\r\n            }`}>\r\n            <input\r\n              type=\"file\"\r\n              onChange={(e) => handleFileChange(e.target.files?.[0])}\r\n              className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\r\n              accept=\".jpg,.jpeg,.png,.pdf\"\r\n            />\r\n            <div className=\"px-4 sm:px-6 py-6 sm:py-8 text-center\">\r\n              <IoCloudUpload className={`mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ${\r\n                theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                }`} />\r\n              <p className={`text-xs sm:text-sm font-medium mb-1 ${\r\n                theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>\r\n                Drop your file here, or <span className=\"text-blue-600\">browse</span>\r\n              </p>\r\n              <p className={`text-xs ${\r\n                theme === 'dark' ? 'text-gray-500' : 'text-gray-500'\r\n                }`}>PNG, JPG, PDF up to 10MB</p>\r\n\r\n              {selectedFile && (\r\n                <p className={`mt-2 text-xs sm:text-sm font-medium ${theme === 'dark' ? 'text-green-400' : 'text-green-600'}`}>\r\n                  Selected: {selectedFile.name}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {isError && (\r\n            <div className=\"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600\">\r\n              <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n              <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"relative\" key={name}>\r\n        <label className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ${\r\n          theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n          }`}>\r\n          {label}\r\n          {required && <span className=\"text-red-500 ml-1 text-sm sm:text-base\">*</span>}\r\n        </label>\r\n\r\n        {hint && (\r\n          <p className={`text-xs mb-2 ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n            }`}>\r\n            {hint}\r\n          </p>\r\n        )}\r\n\r\n        {type === \"select\" ? (\r\n          <div className=\"relative\">\r\n            <select\r\n              value={fieldValue}\r\n              onChange={(e) => handleEditFieldChange(name, e.target.value)}\r\n              className={`w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl appearance-none text-sm\r\n                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n                ${isError\r\n                  ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n                  : theme === 'dark'\r\n                    ? 'border-gray-600 bg-gray-700 text-white'\r\n                    : 'border-gray-200 bg-white'\r\n                }`}\r\n            >\r\n              <option value=\"\">Choose {label}</option>\r\n              {options.map((opt) => (<option key={opt} value={opt}>{opt}</option>))}\r\n            </select>\r\n            <div className=\"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 pointer-events-none\">\r\n              <svg className={`w-4 h-4 sm:w-5 sm:h-5 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        ) : type === \"date\" ? (\r\n          <input\r\n            type=\"date\"\r\n            value={fieldValue}\r\n            onChange={(e) => handleEditFieldChange(name, e.target.value)}\r\n            max={name === 'dateOfBirth' ? getMaxDate() : undefined}\r\n            className={`w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl text-sm\r\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n              ${isError\r\n                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n                : theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-700 text-white'\r\n                  : 'border-gray-200 bg-white'\r\n              }`}\r\n          />\r\n        ) : type === \"textarea\" ? (\r\n          <textarea\r\n            value={fieldValue}\r\n            onChange={(e) => handleEditFieldChange(name, e.target.value)}\r\n            className={`w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl text-sm resize-none h-24 sm:h-32\r\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n              ${isError\r\n                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n                : theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-700 text-white'\r\n                  : 'border-gray-200 bg-white'\r\n              }`}\r\n            placeholder={`Enter ${label.toLowerCase()}...`}\r\n            required={required}\r\n          />\r\n        ) : (\r\n          <input\r\n            type={type}\r\n            value={fieldValue}\r\n            onChange={(e) => handleEditFieldChange(name, e.target.value)}\r\n            className={`w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl text-sm\r\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n              ${isError\r\n                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n                : theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-700 text-white'\r\n                  : 'border-gray-200 bg-white'\r\n              }`}\r\n            placeholder={`Enter ${label.toLowerCase()}...`}\r\n            required={required}\r\n          />\r\n        )}\r\n\r\n        {isError && (\r\n          <div className=\"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600\">\r\n            <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n            <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderEditModal = () => {\r\n    if (!editingSection) return null;\r\n    const { section, isAdd } = editingSection;\r\n    const fields = sectionFields[section] || [];\r\n    const config = sectionConfig[section];\r\n    const IconComponent = config.icon;\r\n\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4\">\r\n        <div className={`rounded-2xl sm:rounded-3xl w-full max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl flex flex-col ${\r\n          theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n          }`}>\r\n          <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ${config.color} text-white relative overflow-hidden`}>\r\n            <div className=\"absolute inset-0 bg-black/10\"></div>\r\n            <div className=\"relative flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n                <div className=\"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl flex-shrink-0\">\r\n                  <IconComponent className=\"w-6 h-6 sm:w-8 sm:h-8\" />\r\n                </div>\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <h2 className=\"text-lg sm:text-xl md:text-2xl font-bold break-words\">\r\n                    {isAdd ? `Add ${config.title}` : `Edit ${config.title}`}\r\n                  </h2>\r\n                  <p className=\"text-white/90 text-xs sm:text-sm break-words\">{config.description}</p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={handleCancelEdit}\r\n                className=\"p-2 sm:p-3 rounded-full flex-shrink-0\"\r\n                aria-label=\"Close\"\r\n              >\r\n                <IoClose className=\"w-5 h-5 sm:w-6 sm:h-6\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"overflow-y-auto flex-grow\">\r\n            <form className=\"p-4 sm:p-6 md:p-8\" onSubmit={(e) => { e.preventDefault(); handleSubmit(section); }}>\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8\">\r\n                {fields.map((f) => renderField(f.label, f.name, f.type, f.required, f.options, f.hint))}\r\n              </div>\r\n\r\n              {networkError && (\r\n                <div className={`mt-4 sm:mt-6 p-3 sm:p-4 md:p-5 border-l-4 border-red-400 rounded-r-lg sm:rounded-r-xl ${\r\n                  theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'\r\n                  }`}>\r\n                  <div className=\"flex items-start\">\r\n                    <IoWarning className=\"w-5 h-5 sm:w-6 sm:h-6 text-red-400 mr-3 flex-shrink-0 mt-0.5\" />\r\n                    <div className=\"flex-1\">\r\n                      <h4 className={`font-medium text-sm ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>\r\n                        Network Error\r\n                      </h4>\r\n                      <p className={`font-medium text-sm mt-1 ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>\r\n                        {networkError}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {errors.general && (\r\n                <div className={`mt-4 sm:mt-6 p-3 sm:p-4 md:p-5 border-l-4 border-red-400 rounded-r-lg sm:rounded-r-xl ${\r\n                  theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'\r\n                  }`}>\r\n                  <div className=\"flex items-center\">\r\n                    <IoWarning className=\"w-5 h-5 sm:w-6 sm:h-6 text-red-400 mr-3 flex-shrink-0\" />\r\n                    <p className={`font-medium text-sm ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>{errors.general}</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </form>\r\n          </div>\r\n\r\n          <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 ${\r\n            theme === 'dark'\r\n              ? 'bg-gray-700 border-gray-600'\r\n              : 'bg-gray-50 border-gray-200'\r\n            }`}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleCancelEdit}\r\n              className={`w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold focus:ring-4 focus:ring-gray-500/20 text-sm ${\r\n                theme === 'dark'\r\n                  ? 'border-gray-600 text-gray-300 bg-gray-600'\r\n                  : 'border-gray-300 text-gray-700 bg-white'\r\n                }`}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => handleSubmit(section)}\r\n              disabled={isUpdating}\r\n              className={`w-full sm:w-auto px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r ${config.color} text-white font-bold rounded-lg sm:rounded-xl\r\n                focus:ring-4 focus:ring-blue-500/30 flex items-center justify-center space-x-2 text-sm\r\n                ${isUpdating ? 'cursor-not-allowed opacity-75' : ''}`}\r\n            >\r\n              {isUpdating ? (\r\n                <>\r\n                  <div className=\"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full\"></div>\r\n                  <span>{isAdd ? 'Adding...' : 'Updating...'}</span>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                  <span>{isAdd ? 'Add Information' : 'Update Information'}</span>\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const DetailItem = ({ label, value }) => (\r\n    <div className={`p-3 sm:p-4 rounded-lg sm:rounded-xl border ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600'\r\n        : 'bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100'\r\n      }`}>\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex-1 min-w-0\">\r\n          <span className={`text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n            }`}>\r\n            {label}\r\n          </span>\r\n          <p className={`text-xs sm:text-sm font-semibold leading-relaxed break-words ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n            }`}>\r\n            {value || (\r\n              <span className={`italic ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>Not provided</span>\r\n            )}\r\n          </p>\r\n        </div>\r\n\r\n      </div>\r\n      </div>\r\n  );\r\n\r\n  const EducationExperienceItem = ({ type, item, index, onEdit }) => {\r\n    const config = sectionConfig[type];\r\n    const IconComponent = config.icon;\r\n\r\n    return (\r\n      <div className={`col-span-full border-2 rounded-lg sm:rounded-xl p-4 sm:p-6 ${\r\n        theme === 'dark'\r\n          ? `bg-gray-700 ${config.darkBorderColor}`\r\n          : `bg-gray-50 ${config.borderColor}`\r\n        }`}>\r\n        <div className=\"flex items-start justify-between mb-4\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className={`p-2 rounded-lg ${\r\n              theme === 'dark' ? 'bg-gray-600' : 'bg-white'\r\n              }`}>\r\n              <IconComponent className={`w-5 h-5 ${\r\n                theme === 'dark' ? config.darkTextColor : config.textColor\r\n                }`} />\r\n            </div>\r\n            <div>\r\n              <h4 className={`font-bold text-sm sm:text-base ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                }`}>\r\n                {type === 'education' ? item.degreeType : item.companyName}\r\n              </h4>\r\n              <p className={`text-xs sm:text-sm ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n                }`}>\r\n                {type === 'education' ? item.universityOrCollege : item.jobTitle}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {!isReadOnly && (\r\n            <div className=\"flex items-center space-x-2\">\r\n              <button\r\n                onClick={() => onEdit(item)}\r\n                className={`p-2 rounded-lg ${\r\n                  theme === 'dark'\r\n                    ? 'bg-blue-600 text-white'\r\n                    : 'bg-blue-500 text-white'\r\n                  }`}\r\n                title=\"Edit\"\r\n              >\r\n                <IoCreateOutline className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3\">\r\n          {type === 'education' ? (\r\n            <>\r\n              <DetailItem label=\"Specialization\" value={item.branchOrSpecialization} />\r\n              <DetailItem label=\"Years\" value={`${item.startYear} - ${item.endYear}`} />\r\n              <DetailItem label=\"CGPA/Percentage\" value={item.cgpaOrPercentage} />\r\n              {item.addFiles && (\r\n                <div className=\"col-span-full\">\r\n                  <a href={item.addFiles} target=\"_blank\" rel=\"noopener noreferrer\" className={`inline-flex items-center space-x-2 p-2 sm:p-3 rounded-lg border ${\r\n                    theme === 'dark'\r\n                      ? 'bg-gray-600 border-gray-500 text-white'\r\n                      : 'bg-white border-gray-200 text-gray-900'\r\n                    }`}>\r\n                    <IoCheckmarkCircle className=\"w-4 h-4 text-green-500\" />\r\n                    <span className=\"font-semibold text-xs sm:text-sm\">View Certificate</span>\r\n                  </a>\r\n                </div>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <>\r\n              <DetailItem label=\"Location\" value={item.location} />\r\n              <DetailItem label=\"Duration\" value={`${item.startMonth} ${item.startYear} - ${item.endMonth ? item.endMonth + ' ' + item.endYear : 'Present'}`} />\r\n              <DetailItem label=\"Description\" value={item.description} />\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const Section = ({ sectionKey, title, children, data }) => {\r\n    const config = sectionConfig[sectionKey];\r\n    const IconComponent = config.icon;\r\n\r\n    const hasData = hasActualData(data, sectionKey);\r\n\r\n    return (\r\n      <div className={`border-2 rounded-none sm:rounded-2xl shadow-lg\r\n                         overflow-hidden mb-6 sm:mb-8 ${\r\n        theme === 'dark'\r\n          ? `bg-gray-800 ${config.darkBorderColor}`\r\n          : `bg-white ${config.borderColor}`\r\n        }`}>\r\n        <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b-2 relative overflow-hidden ${\r\n          theme === 'dark'\r\n            ? `${config.darkBgColor} ${config.darkBorderColor}`\r\n            : `${config.bgColor} ${config.borderColor}`\r\n          }`}>\r\n          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent to-white/30\"></div>\r\n          <div className=\"relative flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0\">\r\n            <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n              <div className={`p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl shadow-md flex-shrink-0 ${\r\n                theme === 'dark' ? 'bg-gray-700' : 'bg-white'\r\n                }`}>\r\n                <IconComponent className={`w-6 h-6 sm:w-8 sm:h-8 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                  }`} />\r\n              </div>\r\n              <div className=\"min-w-0 flex-1\">\r\n                <h4 className={`font-bold text-lg sm:text-xl flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                  }`}>\r\n                  <span className=\"break-words\">{title}</span>\r\n                  {hasData && (\r\n                    <div className=\"flex items-center space-x-1\">\r\n                      <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-500\" />\r\n                      <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium\">\r\n                        Complete\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </h4>\r\n                <p className={`text-xs sm:text-sm mt-1 break-words ${\r\n                  theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n                  }`}>{config.description}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto\">\r\n              {(sectionKey === 'education' || sectionKey === 'experience') && !isReadOnly && (\r\n                <button\r\n                  onClick={() => openEditSection(sectionKey, null, true)}\r\n                  className=\"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-lg sm:rounded-xl shadow-lg text-sm\"\r\n                >\r\n                  <IoAdd className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                  <span className=\"hidden sm:inline\">Add {sectionKey === 'education' ? 'Education' : 'Experience'}</span>\r\n                  <span className=\"sm:hidden\">Add</span>\r\n                </button>\r\n              )}\r\n\r\n              {!isReadOnly && !['education', 'experience'].includes(sectionKey) && (\r\n                <button\r\n                  onClick={() => openEditSection(sectionKey)}\r\n                  className={`flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 cursor-pointer rounded-lg sm:rounded-xl font-semibold\r\n                                 focus:ring-4 focus:ring-blue-500/20 shadow-md text-sm\r\n                                 ${hasData\r\n                      ? theme === 'dark'\r\n                        ? `${config.darkTextColor} bg-gray-700 border-2 ${config.darkBorderColor}`\r\n                        : `${config.textColor} bg-white border-2 ${config.borderColor}`\r\n                      : 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white'\r\n                    }`}\r\n                >\r\n                  {hasData ? (\r\n                    <>\r\n                      <IoCreateOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                      <span className=\"hidden sm:inline\">Edit Details</span>\r\n                      <span className=\"sm:hidden\">Edit</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <IoAdd className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                      <span className=\"hidden sm:inline\">Add Information</span>\r\n                      <span className=\"sm:hidden\">Add</span>\r\n                    </>\r\n                  )}\r\n                </button>\r\n              )}\r\n\r\n              {isReadOnly && (\r\n                <div className={`px-4 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-sm ${\r\n                  theme === 'dark'\r\n                    ? 'bg-gray-700 text-gray-400 border-2 border-gray-600'\r\n                    : 'bg-gray-100 text-gray-500 border-2 border-gray-300'\r\n                  }`}>\r\n                  <IoEye className=\"w-3 h-3 sm:w-4 sm:h-4 inline mr-2\" />\r\n                  <span>View Only</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-4 sm:p-6 md:p-8\">\r\n          {hasData ? (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4\">\r\n              {children}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 sm:py-12\">\r\n              <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${\r\n                theme === 'dark' ? config.darkBgColor : config.bgColor\r\n                }`}>\r\n                <IconComponent className={`w-8 h-8 sm:w-10 sm:h-10 opacity-50 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                  }`} />\r\n              </div>\r\n              <h3 className={`text-base sm:text-lg font-semibold mb-2 ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                }`}>No {title} Added</h3>\r\n              <p className={`text-sm mb-4 sm:mb-6 max-w-sm mx-auto px-4 ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                }`}>\r\n                {isReadOnly\r\n                  ? `This employee hasn't added their ${title.toLowerCase()} information yet.`\r\n                  : `Add your ${title.toLowerCase()} to complete your profile information.`\r\n                }\r\n              </p>\r\n              {!isReadOnly && (\r\n                <button\r\n                  onClick={() => openEditSection(sectionKey, null, true)}\r\n                  className=\"inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600\r\n                                 text-white font-semibold rounded-lg sm:rounded-xl shadow-lg text-sm\"\r\n                >\r\n                  <IoAdd className=\"w-4 h-4\" />\r\n                  <span>Add {title}</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const ProgressIndicator = () => {\r\n    const profileSections = [\r\n      hasActualData(primarydata, 'primaryDetails'),\r\n      hasActualData(contactdetails, 'contactDetails'),\r\n      hasActualData(addressData, 'address'),\r\n      hasActualData(eduData, 'education'),\r\n      hasActualData(experience, 'experience')\r\n    ];\r\n    const completedCount = profileSections.filter(Boolean).length;\r\n    const totalCount = profileSections.length;\r\n    const percentage = totalCount > 0 ? (completedCount / totalCount) * 100 : 0;\r\n\r\n    return (\r\n      <div className={`rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border ${\r\n        theme === 'dark'\r\n          ? 'bg-gray-800 border-gray-700'\r\n          : 'bg-white border-gray-200'\r\n        }`}>\r\n        <div className=\"flex items-center justify-between mb-3 sm:mb-4\">\r\n          <h3 className={`text-base sm:text-lg font-bold ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>\r\n            {isReadOnly ? 'Profile Status' : 'Profile Completion'}\r\n          </h3>\r\n          <span className={`text-sm font-medium ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n            }`}>\r\n            {completedCount}/{totalCount} Sections\r\n          </span>\r\n        </div>\r\n        <div className={`w-full rounded-full h-2 sm:h-3 mb-3 sm:mb-4 overflow-hidden ${\r\n          theme === 'dark' ? 'bg-gray-700' : 'bg-gray-200'\r\n          }`}>\r\n          <div\r\n            className=\"bg-gradient-to-r from-blue-500 to-green-500 h-2 sm:h-3 rounded-full\"\r\n            style={{ width: `${percentage}%` }}\r\n          ></div>\r\n        </div>\r\n        <div className=\"flex justify-between text-sm\">\r\n          <span className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>{percentage.toFixed(0)}% Complete</span>\r\n          {percentage === 100 && (\r\n            <span className=\"text-green-600 font-semibold flex items-center\">\r\n              <IoCheckmarkCircle className=\"w-4 h-4 mr-1\" />\r\n              All Set!\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={`min-h-screen ${\r\n        theme === 'dark'\r\n          ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900'\r\n          : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n        }`}>\r\n        <div className=\"min-h-screen flex items-center justify-center px-4\">\r\n          <div className=\"text-center\">\r\n            <div className=\"relative\">\r\n              <div className=\"rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6\"></div>\r\n              <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                <IoPersonOutline className=\"w-6 h-6 sm:w-8 sm:h-8 text-blue-500\" />\r\n              </div>\r\n            </div>\r\n            <h2 className={`text-xl sm:text-2xl font-bold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n              }`}>Loading Profile</h2>\r\n            <p className={`text-sm sm:text-base ${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n              }`}>Fetching profile information...</p>\r\n            <div className=\"flex justify-center space-x-2 mt-4\">\r\n              {[...Array(4)].map((_, i) => (\r\n                <div key={i} className={`w-2 h-2 rounded-full bg-blue-500`}></div>\r\n              ))}\r\n            </div>\r\n        </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`min-h-screen ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900'\r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n      }`}>\r\n      <div className=\"max-w-8xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-6 sm:py-8 md:py-12\">\r\n        {fromContextMenu && (\r\n          <div className={`mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-l-4 border-blue-500 shadow-lg ${\r\n            theme === 'dark' ? 'bg-blue-900/20 border-blue-400' : 'bg-blue-50 border-blue-500'\r\n            }`}>\r\n            <div className=\"flex items-center space-x-3\">\r\n              <IoEye className={`w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 ${theme === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} />\r\n              <div className=\"min-w-0 flex-1\">\r\n                <p className={`font-semibold text-sm sm:text-base ${theme === 'dark' ? 'text-blue-400' : 'text-blue-800'}`}>\r\n                  Viewing Employee Profile\r\n                </p>\r\n                <p className={`text-xs sm:text-sm break-words ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                  Employee ID: {targetEmployeeId}\r\n                  {isReadOnly && \"  Read-only access\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"mb-8 sm:mb-12 mx-4 sm:mx-0\">\r\n          <ProgressIndicator />\r\n        </div>\r\n\r\n        <div className=\"space-y-6 sm:space-y-8\">\r\n          <>\r\n            <Section sectionKey=\"primaryDetails\" title=\"Primary Details\" data={primarydata}>\r\n              <DetailItem label=\"First Name\" value={primarydata?.firstName} />\r\n              <DetailItem label=\"Middle Name\" value={primarydata?.middleName} />\r\n              <DetailItem label=\"Last Name\" value={primarydata?.lastName} />\r\n              <DetailItem label=\"Display Name\" value={primarydata?.displayName} />\r\n              <DetailItem label=\"Gender\" value={primarydata?.gender} />\r\n              <DetailItem label=\"Date of Birth\" value={primarydata?.dateOfBirth} />\r\n              <DetailItem label=\"Marital Status\" value={primarydata?.maritalStatus} />\r\n              <DetailItem label=\"Blood Group\" value={primarydata?.bloodGroup} />\r\n              <DetailItem label=\"Physically Handicapped\" value={primarydata?.physicallyHandicapped} />\r\n              <DetailItem label=\"Nationality\" value={primarydata?.nationality} />\r\n            </Section>\r\n            <Section sectionKey=\"contactDetails\" title=\"Contact Details\" data={contactdetails}>\r\n              <DetailItem label=\"Work Email\" value={contactdetails?.workEmail} />\r\n              <DetailItem label=\"Personal Email\" value={contactdetails?.personalEmail} />\r\n              <DetailItem label=\"Mobile Number\" value={contactdetails?.mobileNumber} />\r\n              <DetailItem label=\"Work Number\" value={contactdetails?.workNumber} />\r\n            </Section>\r\n            <Section sectionKey=\"address\" title=\"Address Information\" data={addressData}>\r\n              <DetailItem label=\"Street\" value={addressData?.street} />\r\n              <DetailItem label=\"City\" value={addressData?.city} />\r\n              <DetailItem label=\"State\" value={addressData?.state} />\r\n              <DetailItem label=\"Zip\" value={addressData?.zip} />\r\n              <DetailItem label=\"Country\" value={addressData?.country} />\r\n              <DetailItem label=\"District\" value={addressData?.district} />\r\n            </Section>\r\n\r\n            <Section sectionKey=\"education\" title=\"Education Details\" data={eduData}>\r\n              {eduData?.map((edu, index) => (\r\n                <EducationExperienceItem\r\n                  key={edu.id || index}\r\n                  type=\"education\"\r\n                  item={edu}\r\n                  index={index}\r\n                  onEdit={(item) => openEditSection('education', item)}\r\n                />\r\n              ))}\r\n            </Section>\r\n\r\n            <Section sectionKey=\"experience\" title=\"Previous Experience\" data={experience}>\r\n              {experience?.map((exp, index) => (\r\n                <EducationExperienceItem\r\n                  key={exp.id || index}\r\n                  type=\"experience\"\r\n                  item={exp}\r\n                  index={index}\r\n                  onEdit={(item) => openEditSection('experience', item)}\r\n                />\r\n              ))}\r\n            </Section>\r\n          </>\r\n        </div>\r\n\r\n        {renderEditModal()}\r\n\r\n        {popup.show && (\r\n          <Modal\r\n            onClose={() => setPopup({ show: false, message: '', type: '' })}\r\n            title={popup.type === 'success' ? 'Success' : 'Error'}\r\n            type={popup.type}\r\n            theme={theme}\r\n          >\r\n            <p className={`mb-4 sm:mb-6 text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>{popup.message}</p>\r\n            <div className=\"flex justify-end\">\r\n              <button\r\n                onClick={() => setPopup({ show: false, message: '', type: '' })}\r\n                className={`${popup.type === 'success' ? 'bg-green-600' : 'bg-red-600'} text-white font-semibold py-2 px-4 sm:px-6 rounded-lg text-sm`}\r\n              >\r\n                OK\r\n              </button>\r\n            </div>\r\n          </Modal>\r\n        )}\r\n\r\n        {noChangesModal.show && (\r\n          <Modal\r\n            onClose={() => setNoChangesModal({ show: false, section: null, onContinue: null })}\r\n            title=\"No Changes Detected\"\r\n            type=\"confirm\"\r\n            theme={theme}\r\n          >\r\n            <p className={`mb-4 sm:mb-6 text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>\r\n              You haven't made any changes to the form. Are you sure you want to submit without any modifications?\r\n            </p>\r\n            <div className=\"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3\">\r\n              <button\r\n                onClick={() => setNoChangesModal({ show: false, section: null, onContinue: null })}\r\n                className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-sm ${theme === 'dark' ? 'bg-gray-600 text-gray-200' : 'bg-gray-200 text-gray-700'}`}\r\n              >\r\n                Go Back & Make Changes\r\n              </button>\r\n              <button\r\n                onClick={noChangesModal.onContinue}\r\n                className=\"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white bg-yellow-600 text-sm\"\r\n              >\r\n                Continue Anyway\r\n              </button>\r\n            </div>\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","// src/TechLife/HRMS/Components/Profile/tabs/Job.jsx\r\n\r\nimport React, { useEffect, useState, useContext } from 'react';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport { Context } from '../../HrmsContext';\r\nimport { publicinfoApi } from '../../../../../axiosInstance';\r\nimport { \r\n  IoBriefcaseOutline, \r\n  IoTimeOutline, \r\n  IoDocumentTextOutline, \r\n  IoBusinessOutline, \r\n  IoCheckmarkCircle, \r\n  IoWarning,\r\n  IoEye\r\n} from 'react-icons/io5';\r\n\r\n// Static data for other sections\r\nconst employeeTime = [\r\n  { label: \"SHIFT\", value: \"10 AM - 8 PM\" },\r\n  { label: \"WEEKLY OFF POLICY\", value: \"All Sat - Sun\" },\r\n  { label: \"LEAVE PLAN\", value: \"Leave Plan\" },\r\n  { label: \"HOLIDAY CALENDAR\", value: \"Anasol Holiday Plan\" },\r\n  { label: \"ATTENDANCE NUMBER\", value: \"-\" },\r\n  { label: \"PAYROLL TIME SOURCE\", value: \"Attendance\" },\r\n  { label: \"ATTENDANCE CAPTURE SCHEME\", value: \"Capture Scheme Anasol\" },\r\n  { label: \"ATTENDANCE PENALIZATION POLICY\", value: \"Anasol Penalization Policy\" },\r\n  { label: \"SHIFT WEEKLY OFF RULE\", value: \"-Not Set-\" },\r\n  { label: \"SHIFT ALLOWANCE POLICY\", value: \"-Not Set-\" },\r\n  { label: \"OVERTIME\", value: \"-Not Set-\" },\r\n];\r\n\r\nconst otherPolicies = [\r\n  { label: \"EXPENSE POLICY\", value: \"-\" },\r\n  { label: \"TIMESHEET POLICY\", value: \"-\" },\r\n  { label: \"LOAN POLICY\", value: \"-\" },\r\n  { label: \"AIR TICKET POLICY\", value: \"-\" },\r\n];\r\n\r\nconst organizationDetails = [\r\n  { label: \"BUSINESS UNIT\", value: \"-\" },\r\n  { label: \"DEPARTMENT\", value: \"Software Development\" },\r\n  { label: \"LOCATION\", value: \"ANASOL CONSULTANCY SERVICES PRIVATE...\" },\r\n  { label: \"COST CENTER\", value: \"-Not Set-\" },\r\n  { label: \"LEGAL ENTITY\", value: \"ANASOL PRIVATE LIMITED\" },\r\n  { label: \"REPORTS TO\", value: \"-\" },\r\n  { label: \"MANAGER OF MANAGER (L2 MANAGER)\", value: \"-\" },\r\n  { label: \"DIRECT REPORTS\", value: \"0 Employees\" },\r\n];\r\n\r\n// Section configurations with icons and colors\r\nconst sectionConfig = {\r\n  jobDetails: {\r\n    icon: IoBriefcaseOutline,\r\n    color: 'from-blue-500 to-blue-700',\r\n    bgColor: 'bg-blue-50',\r\n    darkBgColor: 'bg-blue-900/20',\r\n    borderColor: 'border-blue-200',\r\n    darkBorderColor: 'border-blue-700',\r\n    textColor: 'text-blue-700',\r\n    darkTextColor: 'text-blue-400',\r\n    title: 'Job Details',\r\n    description: 'Employment information and job specifications'\r\n  },\r\n  employeeTime: {\r\n    icon: IoTimeOutline,\r\n    color: 'from-green-500 to-green-700',\r\n    bgColor: 'bg-green-50',\r\n    darkBgColor: 'bg-green-900/20',\r\n    borderColor: 'border-green-200',\r\n    darkBorderColor: 'border-green-700',\r\n    textColor: 'text-green-700',\r\n    darkTextColor: 'text-green-400',\r\n    title: 'Employee Time',\r\n    description: 'Work schedule and attendance policies'\r\n  },\r\n  otherPolicies: {\r\n    icon: IoDocumentTextOutline,\r\n    color: 'from-orange-500 to-orange-700',\r\n    bgColor: 'bg-orange-50',\r\n    darkBgColor: 'bg-orange-900/20',\r\n    borderColor: 'border-orange-200',\r\n    darkBorderColor: 'border-orange-700',\r\n    textColor: 'text-orange-700',\r\n    darkTextColor: 'text-orange-400',\r\n    title: 'Other Policies',\r\n    description: 'Additional company policies and guidelines'\r\n  },\r\n  organizationDetails: {\r\n    icon: IoBusinessOutline,\r\n    color: 'from-purple-500 to-purple-700',\r\n    bgColor: 'bg-purple-50',\r\n    darkBgColor: 'bg-purple-900/20',\r\n    borderColor: 'border-purple-200',\r\n    darkBorderColor: 'border-purple-700',\r\n    textColor: 'text-purple-700',\r\n    darkTextColor: 'text-purple-400',\r\n    title: 'Organization Details',\r\n    description: 'Departmental and reporting structure'\r\n  },\r\n};\r\n\r\nconst DetailItem = ({ label, value, note, status, theme }) => (\r\n  <div className={`p-3 sm:p-4 rounded-none sm:rounded-lg md:rounded-xl border ${\r\n    theme === 'dark'\r\n      ? 'bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600'\r\n      : 'bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100'\r\n  }`}>\r\n    <div className=\"flex items-start justify-between\">\r\n      <div className=\"flex-1 min-w-0\">\r\n        <span className={`text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 ${\r\n          theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n        }`}>\r\n          {label}\r\n        </span>\r\n        {status === \"active\" ? (\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\r\n              <span className={`text-sm font-semibold break-words ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n              }`}>{value}</span>\r\n            </div>\r\n            {note && (\r\n              <span className={`text-xs px-2 py-1 rounded-full break-words ${\r\n                theme === 'dark' ? 'text-gray-400 bg-gray-700' : 'text-gray-500 bg-gray-100'\r\n              }`}>\r\n                {note}\r\n              </span>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <p className={`text-sm font-semibold leading-relaxed break-words ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n            }`}>\r\n              {value || (\r\n                <span className={`italic ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>Not provided</span>\r\n              )}\r\n            </p>\r\n            {note && (\r\n              <p className={`text-xs mt-1 px-2 py-1 rounded-md inline-block break-words ${\r\n                theme === 'dark' ? 'bg-blue-900/40 text-blue-300' : 'bg-blue-50 text-blue-700'\r\n              }`}>\r\n                {note}\r\n              </p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst Section = ({ sectionKey, title, data, children, theme }) => {\r\n  const config = sectionConfig[sectionKey];\r\n  const IconComponent = config.icon;\r\n  const hasData = data && data.length > 0;\r\n  \r\n  return (\r\n    <div className={`border-2 rounded-none sm:rounded-xl md:rounded-2xl shadow-lg overflow-hidden mb-4 sm:mb-6 md:mb-8 ${\r\n      theme === 'dark'\r\n        ? `bg-gray-800 ${config.darkBorderColor}`\r\n        : `bg-white ${config.borderColor}`\r\n    }`}>\r\n      <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b-2 relative overflow-hidden ${\r\n        theme === 'dark'\r\n          ? `${config.darkBgColor} ${config.darkBorderColor}`\r\n          : `${config.bgColor} ${config.borderColor}`\r\n      }`}>\r\n        <div className=\"absolute inset-0 bg-gradient-to-r from-transparent to-white/30\"></div>\r\n        <div className=\"relative flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n            <div className={`p-2 sm:p-3 rounded-lg sm:rounded-xl shadow-md ${\r\n              theme === 'dark' ? 'bg-gray-700' : 'bg-white'\r\n            }`}>\r\n              <IconComponent className={`w-6 h-6 sm:w-8 sm:h-8 ${\r\n                theme === 'dark' ? config.darkTextColor : config.textColor\r\n              }`} />\r\n            </div>\r\n            <div className=\"min-w-0 flex-1\">\r\n              <h4 className={`text-lg sm:text-xl font-bold flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 ${\r\n                theme === 'dark' ? config.darkTextColor : config.textColor\r\n              }`}>\r\n                <span className=\"break-words\">{title}</span>\r\n                {hasData && (\r\n                  <div className=\"flex items-center space-x-1\">\r\n                    <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-500\" />\r\n                    <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium\">\r\n                      Active\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </h4>\r\n              <p className={`text-xs sm:text-sm mt-1 break-words ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n              }`}>{config.description}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"p-4 sm:p-6 md:p-8\">\r\n        {hasData ? (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-3 md:gap-4\">\r\n            {data.map((item, index) => (\r\n              <DetailItem \r\n                key={index} \r\n                label={item.label} \r\n                value={item.value} \r\n                note={item.note} \r\n                status={item.status} \r\n                theme={theme}\r\n              />\r\n            ))}\r\n            {children}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8 sm:py-12\">\r\n            <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${\r\n              theme === 'dark' ? config.darkBgColor : config.bgColor\r\n            }`}>\r\n              <IconComponent className={`w-8 h-8 sm:w-10 sm:h-10 opacity-50 ${\r\n                theme === 'dark' ? config.darkTextColor : config.textColor\r\n              }`} />\r\n            </div>\r\n            <h3 className={`text-base sm:text-lg font-semibold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>No {title} Available</h3>\r\n            <p className={`text-sm mb-4 sm:mb-6 max-w-sm mx-auto px-4 ${\r\n              theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n            }`}>\r\n              {title} information is not currently available or configured.\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ProgressIndicator = ({ completedSections, totalSections, theme }) => {\r\n  const percentage = (completedSections / totalSections) * 100;\r\n  \r\n  return (\r\n    <div className={`rounded-none sm:rounded-xl md:rounded-2xl p-4 sm:p-6 shadow-lg border ${\r\n      theme === 'dark' \r\n        ? 'bg-gray-800 border-gray-700' \r\n        : 'bg-white border-gray-200'\r\n    }`}>\r\n      <div className=\"flex items-center justify-between mb-3 sm:mb-4\">\r\n        <h3 className={`text-base sm:text-lg font-bold ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n        }`}>Job Information</h3>\r\n        <span className={`text-sm font-medium ${\r\n          theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n        }`}>\r\n          {completedSections}/{totalSections} Sections\r\n        </span>\r\n      </div>\r\n      <div className={`w-full rounded-full h-2 sm:h-3 mb-3 sm:mb-4 overflow-hidden ${\r\n        theme === 'dark' ? 'bg-gray-700' : 'bg-gray-200'\r\n      }`}>\r\n        <div \r\n          className=\"bg-gradient-to-r from-blue-500 to-green-500 h-2 sm:h-3 rounded-full\"\r\n          style={{ width: `${percentage}%` }}\r\n        ></div>\r\n      </div>\r\n      <div className=\"flex justify-between text-sm\">\r\n        <span className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>{percentage.toFixed(0)}% Complete</span>\r\n        {percentage === 100 && (\r\n          <span className=\"text-green-600 font-semibold flex items-center\">\r\n            <IoCheckmarkCircle className=\"w-4 h-4 mr-1\" />\r\n            All Set!\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SkeletonCard = ({ theme }) => (\r\n  <div className={`border rounded-none sm:rounded-xl md:rounded-2xl shadow-sm overflow-hidden ${\r\n    theme === 'dark' \r\n      ? 'bg-gray-800 border-gray-700' \r\n      : 'bg-white border-gray-200'\r\n  }`}>\r\n    <div className={`p-4 sm:p-6 border-b ${\r\n      theme === 'dark' \r\n        ? 'bg-gray-700 border-gray-600' \r\n        : 'bg-gray-100 border-gray-200'\r\n    }`}>\r\n      <div className=\"flex items-center space-x-3 sm:space-x-4\">\r\n        <div className={`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl ${\r\n          theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n        }`}></div>\r\n        <div className=\"flex-1 min-w-0\">\r\n          <div className={`h-4 sm:h-5 rounded w-24 sm:w-32 mb-2 ${\r\n            theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n          }`}></div>\r\n          <div className={`h-3 rounded w-32 sm:w-48 ${\r\n            theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n          }`}></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div className=\"p-4 sm:p-6\">\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-3 md:gap-4\">\r\n        {[...Array(6)].map((_, i) => (\r\n          <div key={i} className={`p-3 sm:p-4 rounded-none sm:rounded-lg md:rounded-xl ${\r\n            theme === 'dark' ? 'bg-gray-700' : 'bg-gray-50'\r\n          }`}>\r\n            <div className={`h-3 rounded w-16 sm:w-20 mb-2 ${\r\n              theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n            }`}></div>\r\n            <div className={`h-4 rounded w-24 sm:w-32 ${\r\n              theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n            }`}></div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst AttendanceToggle = ({ theme }) => {\r\n  const [isDisabled, setIsDisabled] = useState(false);\r\n  \r\n  return (\r\n    <div className={`col-span-1 lg:col-span-2 p-4 sm:p-6 rounded-none sm:rounded-lg md:rounded-xl border ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-indigo-900/30 to-purple-900/30 border-indigo-700'\r\n        : 'bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-200'\r\n    }`}>\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0\">\r\n        <div className=\"min-w-0 flex-1\">\r\n          <h4 className={`text-sm font-semibold mb-1 ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n          }`}>Attendance Tracking</h4>\r\n          <p className={`text-xs break-words ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n          }`}>Control automated attendance monitoring</p>\r\n        </div>\r\n        <label className=\"relative inline-flex items-center cursor-pointer flex-shrink-0\">\r\n          <input \r\n            type=\"checkbox\" \r\n            className=\"sr-only peer\" \r\n            checked={isDisabled}\r\n            onChange={(e) => setIsDisabled(e.target.checked)}\r\n          />\r\n          <div className={`w-12 h-7 sm:w-14 sm:h-8 rounded-full peer \r\n                         peer-checked:after:translate-x-5 sm:peer-checked:after:translate-x-6 peer-checked:after:border-white \r\n                         after:content-[''] after:absolute after:top-1 after:left-1 \r\n                         after:bg-white after:border after:rounded-full \r\n                         after:h-5 after:w-5 sm:after:h-6 sm:after:w-6 after:shadow-md\r\n                         peer-checked:bg-gradient-to-r peer-checked:from-purple-500 peer-checked:to-indigo-600 ${\r\n            theme === 'dark' \r\n              ? 'bg-gray-600 after:border-gray-500' \r\n              : 'bg-gray-200 after:border-gray-300'\r\n          }`}>\r\n          </div>\r\n          <span className={`ml-3 text-sm font-medium ${\r\n            theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n          }`}>\r\n            {isDisabled ? 'Disabled' : 'Enabled'}\r\n          </span>\r\n        </label>\r\n      </div>\r\n      {isDisabled && (\r\n        <div className={`mt-3 p-3 border rounded-lg ${\r\n          theme === 'dark'\r\n            ? 'bg-yellow-900/30 border-yellow-700'\r\n            : 'bg-yellow-50 border-yellow-200'\r\n        }`}>\r\n          <div className=\"flex items-center space-x-2\">\r\n            <IoWarning className=\"w-4 h-4 text-yellow-600 flex-shrink-0\" />\r\n            <p className={`text-xs break-words ${\r\n              theme === 'dark' ? 'text-yellow-300' : 'text-yellow-700'\r\n            }`}>\r\n              Attendance tracking is currently disabled for this employee\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Job = () => {\r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n  const { theme } = useContext(Context);\r\n  const [jobdetails, setJobDetails] = useState(null);\r\n  const [displayJobDetails, setDisplayJobDetails] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [completionStats, setCompletionStats] = useState({ completed: 0, total: 4 });\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n  const jobEmployeeId = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n  const isReadOnly = fromContextMenu && targetEmployeeId && targetEmployeeId !== empID;\r\n\r\n  useEffect(() => {\r\n    let jobDetailsFetch = async () => {\r\n      try {\r\n        let response = await publicinfoApi.get(`employee/${jobEmployeeId}/job/details`);\r\n        console.log(\"job data : \", response.data);\r\n        setJobDetails(response.data);\r\n      } catch (error) {\r\n        console.log(\"job error : \", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    jobDetailsFetch();\r\n  }, [jobEmployeeId]);\r\n\r\n  useEffect(() => {\r\n    if (jobdetails) {\r\n      const formattedData = [\r\n        { label: \"EMPLOYEE NUMBER\", value: jobdetails.employeeId },\r\n        { label: \"DATE OF JOINING\", value: jobdetails.dateOfJoining },\r\n        { label: \"JOB TITLE - PRIMARY\", value: jobdetails.jobTitlePrimary },\r\n        { label: \"JOB TITLE - SECONDARY\", value: jobdetails.jobTitleSecondary || \"-\" },\r\n        {\r\n          label: \"IN PROBATION?\",\r\n          value: `${jobdetails.inProbation} ${jobdetails.probationStartDate || \"-\"} - ${jobdetails.probationEndDate || \"-\"}`,\r\n          note: jobdetails.probationPolicy || \"Default Probation Policy\"\r\n        },\r\n        { label: \"NOTICE PERIOD\", value: \"-\" },\r\n        { label: \"WORKER TYPE\", value: jobdetails.workerType || \"Intern\" },\r\n        { label: \"TIME TYPE\", value: jobdetails.timeType },\r\n        {\r\n          label: \"CONTRACT STATUS\",\r\n          value: jobdetails.contractStatus,\r\n          note: jobdetails.contractStartDate,\r\n          status: jobdetails.contractStatus === \"Active\" ? \"active\" : \"\"\r\n        },\r\n      ];\r\n      setDisplayJobDetails(formattedData);\r\n\r\n      const sections = [jobdetails, employeeTime, otherPolicies, organizationDetails];\r\n      const completed = sections.filter(section => section && section.length > 0).length;\r\n      setCompletionStats({ completed: completed || 1, total: 4 });\r\n    }\r\n  }, [jobdetails]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className={`min-h-screen ${\r\n        theme === 'dark' \r\n          ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n          : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n      }`}>\r\n        <div className=\"min-h-screen flex items-center justify-center px-4\">\r\n          <div className=\"text-center\">\r\n            <div className=\"relative\">\r\n              <div className=\"rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6\"></div>\r\n              <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                <IoBriefcaseOutline className=\"w-6 h-6 sm:w-8 sm:h-8 text-blue-500\" />\r\n              </div>\r\n            </div>\r\n            <h2 className={`text-xl sm:text-2xl font-bold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>Loading Job Information</h2>\r\n            <p className={`text-sm sm:text-base ${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n            }`}>Fetching employment details and policies...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!displayJobDetails) {\r\n    return (\r\n      <div className={`min-h-screen ${\r\n        theme === 'dark' \r\n          ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n          : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n      }`}>\r\n        <div className=\"min-h-screen flex items-center justify-center px-4\">\r\n          <div className=\"text-center\">\r\n            <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${\r\n              theme === 'dark' ? 'bg-red-900/30' : 'bg-red-100'\r\n            }`}>\r\n              <IoWarning className=\"w-8 h-8 sm:w-10 sm:h-10 text-red-500\" />\r\n            </div>\r\n            <h2 className={`text-xl sm:text-2xl font-bold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>Unable to Load Job Details</h2>\r\n            <p className={`text-sm sm:text-base ${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n            }`}>Job information is not available for this employee.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`min-h-screen ${\r\n      theme === 'dark' \r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"max-w-7xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8 lg:py-12\">\r\n        {fromContextMenu && (\r\n          <div className={`mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-xl md:rounded-2xl border-l-4 border-blue-500 shadow-lg ${\r\n            theme === 'dark' ? 'bg-blue-900/20 border-blue-400' : 'bg-blue-50 border-blue-500'\r\n          }`}>\r\n            <div className=\"flex items-center space-x-3\">\r\n              <IoEye className={`w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 ${theme === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} />\r\n              <div className=\"min-w-0 flex-1\">\r\n                <p className={`font-semibold text-sm sm:text-base ${theme === 'dark' ? 'text-blue-400' : 'text-blue-800'}`}>\r\n                  Viewing Employee Job Details\r\n                </p>\r\n                <p className={`text-xs sm:text-sm break-words ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                  Employee ID: {targetEmployeeId} \r\n                  {isReadOnly && \"  Read-only access\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"mb-6 sm:mb-8 md:mb-12 mx-4 sm:mx-0\">\r\n          <ProgressIndicator \r\n            completedSections={completionStats.completed} \r\n            totalSections={completionStats.total} \r\n            theme={theme}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-4 sm:space-y-6 md:space-y-8\">\r\n          <Section sectionKey=\"jobDetails\" title=\"Job Details\" data={displayJobDetails} theme={theme} />\r\n          <Section sectionKey=\"employeeTime\" title=\"Employee Time\" data={employeeTime} theme={theme}>\r\n            <AttendanceToggle theme={theme} />\r\n          </Section>\r\n          <Section sectionKey=\"otherPolicies\" title=\"Other Policies\" data={otherPolicies} theme={theme} />\r\n          <Section sectionKey=\"organizationDetails\" title=\"Organization Details\" data={organizationDetails} theme={theme} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Job;\r\n","import React, { useState, useEffect, useContext, useRef } from 'react';\r\nimport { IoClose, IoDocumentText, IoCheckmarkCircle, IoWarning, IoEye, IoAdd, IoCloudUpload } from 'react-icons/io5';\r\nimport { Context } from '../../HrmsContext';\r\nimport { publicinfoApi } from '../../../../../axiosInstance';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\n\r\nconst Modal = ({ children, onClose, title, type, theme }) => {\r\n  let titleClass;\r\n  let icon = null;\r\n\r\n  if (type === 'success') {\r\n    titleClass = 'text-green-600';\r\n    icon = <IoCheckmarkCircle className=\"h-5 w-5 sm:h-6 sm:w-6 text-green-500\" />;\r\n  } else if (type === 'error') {\r\n    titleClass = 'text-red-600';\r\n    icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-red-500\" />;\r\n  } else if (type === 'confirm') {\r\n    titleClass = 'text-yellow-600';\r\n    icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 /60 backdrbg-blackop-blur-md flex justify-center items-center z-250\">\r\n      <div className={`p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-md m-4 border ${\r\n        theme === 'dark'\r\n          ? 'bg-gray-800 border-gray-700'\r\n          : 'bg-white border-gray-200'\r\n      }`}>\r\n        <div className=\"flex items-center mb-4\">\r\n          {icon && <span className=\"mr-3\">{icon}</span>}\r\n          <h3 className={`text-lg sm:text-xl font-bold ${titleClass}`}>{title}</h3>\r\n        </div>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst identityFields = {\r\n  aadhaar: [\r\n    {\r\n      label: \"Aadhaar Number\",\r\n      name: \"aadhaarNumber\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Must be 12 digits starting with 2-9 (e.g., 234567891012)\"\r\n    },\r\n    {\r\n      label: \"Enrollment Number\",\r\n      name: \"enrollmentNumber\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Format: 1234/12345/1234567\"\r\n    },\r\n    {\r\n      label: \"Date of Birth\",\r\n      name: \"dateOfBirth\",\r\n      type: \"date\",\r\n      required: true,\r\n      hint: \"Select your birth date\"\r\n    },\r\n    {\r\n      label: \"Name\",\r\n      name: \"aadhaarName\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Name as per Aadhaar card (3-50 characters)\"\r\n    },\r\n    {\r\n      label: \"Address\",\r\n      name: \"address\",\r\n      type: \"textarea\",\r\n      required: true,\r\n      hint: \"Complete address as per Aadhaar (10-200 characters)\"\r\n    },\r\n    {\r\n      label: \"Gender\",\r\n      name: \"gender\",\r\n      type: \"select\",\r\n      options: [\"Male\", \"Female\", \"Other\"],\r\n      required: true,\r\n      hint: \"Select your gender\"\r\n    },\r\n    {\r\n      label: \"Aadhaar Image\",\r\n      name: \"aadhaarImage\",\r\n      type: \"file\",\r\n      required: true,\r\n      hint: \"Upload clear image of your Aadhaar card\"\r\n    },\r\n  ],\r\n  pan: [\r\n    {\r\n      label: \"PAN Number\",\r\n      name: \"panNumber\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"10-character format: 5 letters + 4 digits + 1 letter (e.g., ABCDE1234F)\"\r\n    },\r\n    {\r\n      label: \"PAN Name\",\r\n      name: \"panName\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Name as per PAN card (3-100 characters)\"\r\n    },\r\n    {\r\n      label: \"Date of Birth\",\r\n      name: \"dateOfBirth\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Format: YYYY-MM-DD (e.g., 1990-01-15)\"\r\n    },\r\n    {\r\n      label: \"Parent's Name\",\r\n      name: \"parentsName\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Father's or mother's name as per PAN\"\r\n    },\r\n    {\r\n      label: \"PAN Image\",\r\n      name: \"panImage\",\r\n      type: \"file\",\r\n      required: true,\r\n      hint: \"Upload clear image of your PAN card\"\r\n    },\r\n  ],\r\n  drivingLicense: [\r\n    {\r\n      label: \"License Number\",\r\n      name: \"licenseNumber\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Your driving license number (up to 20 characters)\"\r\n    },\r\n    {\r\n      label: \"Name\",\r\n      name: \"name\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Name as per driving license (up to 100 characters)\"\r\n    },\r\n    {\r\n      label: \"Date of Birth\",\r\n      name: \"dateOfBirth\",\r\n      type: \"date\",\r\n      required: true,\r\n      hint: \"Select your birth date as per license\"\r\n    },\r\n    {\r\n      label: \"Blood Group\",\r\n      name: \"bloodGroup\",\r\n      type: \"select\",\r\n      options: [\"A+\", \"A-\", \"B+\", \"B-\", \"AB+\", \"AB-\", \"O+\", \"O-\"],\r\n      required: true,\r\n      hint: \"Select your blood group\"\r\n    },\r\n    {\r\n      label: \"Father's Name\",\r\n      name: \"fatherName\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Father's name as per license (up to 100 characters)\"\r\n    },\r\n    {\r\n      label: \"Issue Date\",\r\n      name: \"issueDate\",\r\n      type: \"date\",\r\n      required: true,\r\n      hint: \"Date when license was issued\"\r\n    },\r\n    {\r\n      label: \"Expiry Date\",\r\n      name: \"expiresOn\",\r\n      type: \"date\",\r\n      required: true,\r\n      hint: \"License expiration date\"\r\n    },\r\n    {\r\n      label: \"Address\",\r\n      name: \"address\",\r\n      type: \"textarea\",\r\n      required: true,\r\n      hint: \"Address as per driving license (up to 255 characters)\"\r\n    },\r\n    {\r\n      label: \"License Image\",\r\n      name: \"licenseImage\",\r\n      type: \"file\",\r\n      required: true,\r\n      hint: \"Upload clear image of your driving license\"\r\n    },\r\n  ],\r\n  passport: [\r\n    {\r\n      label: \"Passport Number\",\r\n      name: \"passportNumber\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"6-9 characters starting with letter (e.g., A1234567)\"\r\n    },\r\n    {\r\n      label: \"Country Code\",\r\n      name: \"countryCode\",\r\n      type: \"select\",\r\n      options: [\"IND\", \"USA\", \"PAK\", \"CAN\", \"GBR\", \"AUS\", \"JPN\", \"DEU\", \"CHN\", \"RUS\", \"BRA\", \"ZAF\"],\r\n      required: true,\r\n      hint: \"Select the 3-character country code\"\r\n    },\r\n    {\r\n      label: \"Passport Type\",\r\n      name: \"passportType\",\r\n      type: \"select\",\r\n      options: [\"Regular\", \"Official\", \"Diplomatic\"],\r\n      required: true,\r\n      hint: \"Select the type of your passport\"\r\n    },\r\n    {\r\n      label: \"Date of Birth\",\r\n      name: \"dateOfBirth\",\r\n      type: \"date\",\r\n      required: true,\r\n      hint: \"Select your birth date as per passport\"\r\n    },\r\n    {\r\n      label: \"Name\",\r\n      name: \"name\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Name as per passport (3-100 characters)\"\r\n    },\r\n    {\r\n      label: \"Gender\",\r\n      name: \"gender\",\r\n      type: \"select\",\r\n      options: [\"Male\", \"Female\", \"Other\"],\r\n      required: true,\r\n      hint: \"Select your gender as per passport\"\r\n    },\r\n    {\r\n      label: \"Date of Issue\",\r\n      name: \"dateOfIssue\",\r\n      type: \"date\",\r\n      required: true,\r\n      hint: \"Passport issue date\"\r\n    },\r\n    {\r\n      label: \"Place of Issue\",\r\n      name: \"placeOfIssue\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"City/location where passport was issued\"\r\n    },\r\n    {\r\n      label: \"Place of Birth\",\r\n      name: \"placeOfBirth\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Your birth place as per passport\"\r\n    },\r\n    {\r\n      label: \"Date of Expiration\",\r\n      name: \"dateOfExpiration\",\r\n      type: \"date\",\r\n      required: true,\r\n      hint: \"Passport expiry date\"\r\n    },\r\n    {\r\n      label: \"Address\",\r\n      name: \"address\",\r\n      type: \"textarea\",\r\n      required: true,\r\n      hint: \"Current address as per passport\"\r\n    },\r\n    {\r\n      label: \"Passport Image\",\r\n      name: \"passportImage\",\r\n      type: \"file\",\r\n      required: true,\r\n      hint: \"Upload clear image of your passport\"\r\n    },\r\n  ],\r\n  voter: [\r\n    {\r\n      label: \"Voter ID Number\",\r\n      name: \"voterIdNumber\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Format: 3 letters + 7 digits (e.g., ABC1234567)\"\r\n    },\r\n    {\r\n      label: \"Full Name\",\r\n      name: \"fullName\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Name as per voter ID (3-100 characters)\"\r\n    },\r\n    {\r\n      label: \"Relation Name\",\r\n      name: \"relationName\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Father's/Husband's name (3-100 characters)\"\r\n    },\r\n    {\r\n      label: \"Gender\",\r\n      name: \"gender\",\r\n      type: \"select\",\r\n      options: [\"Male\", \"Female\", \"Other\"],\r\n      required: true,\r\n      hint: \"Select your gender as per voter ID\"\r\n    },\r\n    {\r\n      label: \"Date of Birth\",\r\n      name: \"dateOfBirth\",\r\n      type: \"date\",\r\n      required: true,\r\n      hint: \"Select your birth date\"\r\n    },\r\n    {\r\n      label: \"Address\",\r\n      name: \"address\",\r\n      type: \"textarea\",\r\n      required: true,\r\n      hint: \"Address as per voter ID card\"\r\n    },\r\n    {\r\n      label: \"Issued Date\",\r\n      name: \"issuedDate\",\r\n      type: \"date\",\r\n      required: true,\r\n      hint: \"Date when voter ID was issued\"\r\n    },\r\n    {\r\n      label: \"Voter Image\",\r\n      name: \"uploadVoter\",\r\n      type: \"file\",\r\n      required: true,\r\n      hint: \"Upload clear image of your voter ID\"\r\n    },\r\n  ],\r\n};\r\n\r\nconst documentConfig = {\r\n  aadhaar: {\r\n    icon: IoDocumentText,\r\n    color: 'from-blue-500 to-blue-700',\r\n    bgColor: 'bg-blue-50',\r\n    darkBgColor: 'bg-blue-900/20',\r\n    borderColor: 'border-blue-200',\r\n    darkBorderColor: 'border-blue-700',\r\n    textColor: 'text-blue-700',\r\n    darkTextColor: 'text-blue-400',\r\n    title: 'Aadhaar Card',\r\n    description: 'Government issued identity document'\r\n  },\r\n  pan: {\r\n    icon: IoDocumentText,\r\n    color: 'from-green-500 to-green-700',\r\n    bgColor: 'bg-green-50',\r\n    darkBgColor: 'bg-green-900/20',\r\n    borderColor: 'border-green-200',\r\n    darkBorderColor: 'border-green-700',\r\n    textColor: 'text-green-700',\r\n    darkTextColor: 'text-green-400',\r\n    title: 'PAN Card',\r\n    description: 'Permanent Account Number for taxation'\r\n  },\r\n  drivingLicense: {\r\n    icon: IoDocumentText,\r\n    color: 'from-orange-500 to-orange-700',\r\n    bgColor: 'bg-orange-50',\r\n    darkBgColor: 'bg-orange-900/20',\r\n    borderColor: 'border-orange-200',\r\n    darkBorderColor: 'border-orange-700',\r\n    textColor: 'text-orange-700',\r\n    darkTextColor: 'text-orange-400',\r\n    title: 'Driving License',\r\n    description: 'Valid driving permit document'\r\n  },\r\n  passport: {\r\n    icon: IoDocumentText,\r\n    color: 'from-purple-500 to-purple-700',\r\n    bgColor: 'bg-purple-50',\r\n    darkBgColor: 'bg-purple-900/20',\r\n    borderColor: 'border-purple-200',\r\n    darkBorderColor: 'border-purple-700',\r\n    textColor: 'text-purple-700',\r\n    darkTextColor: 'text-purple-400',\r\n    title: 'Passport',\r\n    description: 'International travel document'\r\n  },\r\n  voter: {\r\n    icon: IoDocumentText,\r\n    color: 'from-red-500 to-red-700',\r\n    bgColor: 'bg-red-50',\r\n    darkBgColor: 'bg-red-900/20',\r\n    borderColor: 'border-red-200',\r\n    darkBorderColor: 'border-red-700',\r\n    textColor: 'text-red-700',\r\n    darkTextColor: 'text-red-400',\r\n    title: 'Voter ID Card',\r\n    description: 'Electoral identity verification'\r\n  },\r\n};\r\n\r\nconst Document = () => {\r\n  const [editingSection, setEditingSection] = useState(null);\r\n  const [identityData, setIdentityData] = useState({});\r\n  const [editingData, setEditingData] = useState({});\r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n  const fileInputRef = useRef(null);\r\n  const { theme, userData,matchedArray } = useContext(Context);\r\n  const [loading, setLoading] = useState(true);\r\n  const [errors, setErrors] = useState({});\r\n  const [searchFilter, setSearchFilter] = useState('');\r\n  const [completionStats, setCompletionStats] = useState({ completed: 0, total: 5 });\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n\r\n  const [popup, setPopup] = useState({ show: false, message: '', type: '' });\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n  const documentEmployeeId = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n\r\n  const loggedInEmpID = userData?.employeeId;\r\n  const isOwnProfile = String(loggedInEmpID) === String(documentEmployeeId);\r\n\r\n  const hasEditPermission = matchedArray?.includes(\"PROFILE_DOCUMENTS_EDIT_ADMIN\");\r\n\r\n  const isReadOnly = (\r\n    !isOwnProfile &&\r\n    (\r\n      !fromContextMenu ||\r\n      (fromContextMenu && !hasEditPermission)\r\n    )\r\n  );\r\n\r\n  const isAdmin = userData?.roles?.[0]?.toUpperCase() === 'ADMIN';\r\n\r\n  const validatePanData = (data) => {\r\n    const errors = {};\r\n    if (!data.panNumber) {\r\n      errors.panNumber = 'PAN number is required';\r\n    } else if (!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(data.panNumber)) {\r\n      errors.panNumber = 'Invalid PAN format (e.g., ABCDE1234F)';\r\n    }\r\n\r\n    if (!data.panName) {\r\n      errors.panName = 'PAN name is required';\r\n    } else if (data.panName.length < 3 || data.panName.length > 100) {\r\n      errors.panName = 'PAN name must be between 3 and 100 characters';\r\n    }\r\n\r\n    if (!data.dateOfBirth) {\r\n      errors.dateOfBirth = 'Date of birth is required';\r\n    } else if (!/^\\d{4}-\\d{2}-\\d{2}$/.test(data.dateOfBirth)) {\r\n      errors.dateOfBirth = 'Date of birth must be in YYYY-MM-DD format';\r\n    }\r\n\r\n    if (!data.parentsName) {\r\n      errors.parentsName = \"Parent's name is required\";\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const validateAadhaarData = (data) => {\r\n    const errors = {};\r\n    if (!data.aadhaarNumber) {\r\n      errors.aadhaarNumber = 'Aadhaar number is required';\r\n    } else if (!/^[2-9][0-9]{11}$/.test(data.aadhaarNumber)) {\r\n      errors.aadhaarNumber = 'Invalid Aadhaar number format';\r\n    }\r\n\r\n    if (!data.enrollmentNumber) {\r\n      errors.enrollmentNumber = 'Enrollment number is required';\r\n    } else if (!/^[0-9]{4}\\/[0-9]{5}\\/[0-9]{7}$/.test(data.enrollmentNumber)) {\r\n      errors.enrollmentNumber = 'Invalid enrollment number format (e.g., 1234/12345/1234567)';\r\n    }\r\n\r\n    if (!data.dateOfBirth) {\r\n      errors.dateOfBirth = 'Date of birth is required';\r\n    }\r\n\r\n    if (!data.aadhaarName) {\r\n      errors.aadhaarName = 'Name is required';\r\n    }\r\n\r\n    if (!data.address) {\r\n      errors.address = 'Address is required';\r\n    }\r\n\r\n    if (!data.gender) {\r\n      errors.gender = 'Gender is required';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const validateDrivingLicenseData = (data) => {\r\n    const errors = {};\r\n    if (!data.licenseNumber) {\r\n      errors.licenseNumber = 'License number is required';\r\n    }\r\n\r\n    if (!data.name) {\r\n      errors.name = 'Name is required';\r\n    }\r\n\r\n    if (!data.dateOfBirth) {\r\n      errors.dateOfBirth = 'Date of birth is required';\r\n    }\r\n\r\n    if (!data.bloodGroup) {\r\n      errors.bloodGroup = 'Blood group is required';\r\n    }\r\n\r\n    if (!data.fatherName) {\r\n      errors.fatherName = \"Father's name is required\";\r\n    }\r\n\r\n    if (!data.issueDate) {\r\n      errors.issueDate = 'Issue date is required';\r\n    }\r\n\r\n    if (!data.expiresOn) {\r\n      errors.expiresOn = 'Expiry date is required';\r\n    }\r\n\r\n    if (!data.address) {\r\n      errors.address = 'Address is required';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const validatePassportData = (data) => {\r\n    const errors = {};\r\n    if (!data.passportNumber) {\r\n      errors.passportNumber = 'Passport number is required';\r\n    } else if (!/^[A-Z][0-9]{6,9}$/.test(data.passportNumber)) {\r\n      errors.passportNumber = 'Invalid passport number format';\r\n    }\r\n\r\n    if (!data.countryCode) {\r\n      errors.countryCode = 'Country code is required';\r\n    }\r\n\r\n    if (!data.passportType) {\r\n      errors.passportType = 'Passport type is required';\r\n    }\r\n\r\n    if (!data.dateOfBirth) {\r\n      errors.dateOfBirth = 'Date of birth is required';\r\n    }\r\n\r\n    if (!data.name) {\r\n      errors.name = 'Name is required';\r\n    }\r\n\r\n    if (!data.gender) {\r\n      errors.gender = 'Gender is required';\r\n    }\r\n\r\n    if (!data.dateOfIssue) {\r\n      errors.dateOfIssue = 'Date of issue is required';\r\n    }\r\n\r\n    if (!data.placeOfIssue) {\r\n      errors.placeOfIssue = 'Place of issue is required';\r\n    }\r\n\r\n    if (!data.placeOfBirth) {\r\n      errors.placeOfBirth = 'Place of birth is required';\r\n    }\r\n\r\n    if (!data.dateOfExpiration) {\r\n      errors.dateOfExpiration = 'Date of expiration is required';\r\n    }\r\n\r\n    if (!data.address) {\r\n      errors.address = 'Address is required';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const validateVoterData = (data) => {\r\n    const errors = {};\r\n    if (!data.voterIdNumber) {\r\n      errors.voterIdNumber = 'Voter ID number is required';\r\n    } else if (!/^[A-Z]{3}[0-9]{7}$/.test(data.voterIdNumber)) {\r\n      errors.voterIdNumber = 'Invalid Voter ID format (e.g., ABC1234567)';\r\n    }\r\n\r\n    if (!data.fullName) {\r\n      errors.fullName = 'Full name is required';\r\n    }\r\n\r\n    if (!data.relationName) {\r\n      errors.relationName = 'Relation name is required';\r\n    }\r\n\r\n    if (!data.gender) {\r\n      errors.gender = 'Gender is required';\r\n    }\r\n\r\n    if (!data.dateOfBirth) {\r\n      errors.dateOfBirth = 'Date of birth is required';\r\n    }\r\n\r\n    if (!data.address) {\r\n      errors.address = 'Address is required';\r\n    }\r\n\r\n    if (!data.issuedDate) {\r\n      errors.issuedDate = 'Issued date is required';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const validateFormData = (subSection, data) => {\r\n    switch (subSection) {\r\n      case 'pan':\r\n        return validatePanData(data);\r\n      case 'aadhaar':\r\n        return validateAadhaarData(data);\r\n      case 'drivingLicense':\r\n        return validateDrivingLicenseData(data);\r\n      case 'passport':\r\n        return validatePassportData(data);\r\n      case 'voter':\r\n        return validateVoterData(data);\r\n      default:\r\n        return {};\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (fromContextMenu && targetEmployeeId) {\r\n      console.log(\"clicked user from context\", targetEmployeeId);\r\n    }\r\n\r\n    const fetchIdentityData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const identityPromises = [\r\n          publicinfoApi.get(`employee/${documentEmployeeId}/aadhaar`).catch(() => ({ data: null })),\r\n          publicinfoApi.get(`employee/${documentEmployeeId}/pan`).catch(() => ({ data: null })),\r\n          publicinfoApi.get(`employee/${documentEmployeeId}/driving`).catch(() => ({ data: null })),\r\n          publicinfoApi.get(`employee/${documentEmployeeId}/passport`).catch(() => ({ data: null })),\r\n          publicinfoApi.get(`employee/${documentEmployeeId}/voter`).catch(() => ({ data: null })),\r\n        ];\r\n\r\n        const [aadhaarRes, panRes, drivingRes, passportRes, voterRes] = await Promise.all(identityPromises);\r\n\r\n        const data = {\r\n          aadhaar: aadhaarRes.data,\r\n          pan: panRes.data,\r\n          drivingLicense: drivingRes.data,\r\n          passport: passportRes.data,\r\n          voter: voterRes.data,\r\n        };\r\n\r\n        setIdentityData(data);\r\n\r\n        const completed = Object.values(data).filter(Boolean).length;\r\n        setCompletionStats({ completed, total: 5 });\r\n      } catch (err) {\r\n        console.error('Failed to fetch identity data', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (documentEmployeeId) {\r\n      fetchIdentityData();\r\n    }\r\n  }, [documentEmployeeId, fromContextMenu, targetEmployeeId]);\r\n\r\n  const openEditSection = (subSection) => {\r\n    if (isReadOnly) {\r\n      setPopup({ show: true, message: 'You can only view this employee\\'s documents. Editing is not allowed.', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    setErrors({});\r\n    const dataToEdit = identityData[subSection];\r\n    setEditingData(dataToEdit || {});\r\n    setEditingSection(subSection);\r\n  };\r\n\r\n  const handleEditFieldChange = (field, value) => {\r\n    setEditingData(prev => ({ ...prev, [field]: value }));\r\n    if (errors[field]) {\r\n      setErrors(prev => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[field];\r\n        return newErrors;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (field, file) => {\r\n    setEditingData(prev => ({...prev, [field]: file }));\r\n  };\r\n\r\n  const handleUpdate = async (subSection) => {\r\n    setIsUpdating(true);\r\n    try {\r\n      const validationErrors = validateFormData(subSection, editingData);\r\n      if (Object.keys(validationErrors).length > 0) {\r\n        setErrors(validationErrors);\r\n        setIsUpdating(false);\r\n        return;\r\n      }\r\n\r\n      const existingData = identityData[subSection];\r\n      const method = existingData ? 'put' : 'post';\r\n      const formData = new FormData();\r\n\r\n      const filePartNames = {\r\n        aadhaar: 'aadhaarImage',\r\n        pan: 'panImage',\r\n        drivingLicense: 'licenseImage',\r\n        passport: 'passportImage',\r\n        voter: 'voterImage',\r\n      };\r\n\r\n      const fileInputNames = {\r\n        aadhaar: 'aadhaarImage',\r\n        pan: 'panImage',\r\n        drivingLicense: 'licenseImage',\r\n        passport: 'passportImage',\r\n        voter: 'uploadVoter',\r\n      };\r\n\r\n      let backendDtoPartName;\r\n      switch (subSection) {\r\n        case 'pan':\r\n          backendDtoPartName = method === 'post' ? 'panDetails' : 'panDTO';\r\n          break;\r\n        case 'voter':\r\n          backendDtoPartName = method === 'post' ? 'voterDetails' : 'voterDTO';\r\n          break;\r\n        case 'aadhaar':\r\n          backendDtoPartName = 'aadhaar';\r\n          break;\r\n        case 'drivingLicense':\r\n          backendDtoPartName = 'drivingLicense';\r\n          break;\r\n        case 'passport':\r\n          backendDtoPartName = 'passportDetails';\r\n          break;\r\n        default:\r\n          throw new Error('Invalid subsection for DTO part name');\r\n      }\r\n\r\n      const fileInputField = fileInputNames[subSection];\r\n      const file = editingData[fileInputField];\r\n\r\n      if (file && file instanceof File) {\r\n        formData.append(filePartNames[subSection], file);\r\n      }\r\n\r\n      const dto = { ...editingData };\r\n      delete dto[fileInputField];\r\n      formData.append(backendDtoPartName, new Blob([JSON.stringify(dto)], { type: 'application/json' }));\r\n\r\n      const updateEmployeeId = documentEmployeeId;\r\n      let url;\r\n      switch (subSection) {\r\n        case 'aadhaar':\r\n          url = `employee/${method === 'put' ? `${updateEmployeeId}/aadhaar` : `aadhaar/${updateEmployeeId}`}`;\r\n          break;\r\n        case 'pan':\r\n          url = `employee/${updateEmployeeId}/pan`;\r\n          break;\r\n        case 'drivingLicense':\r\n          url = `employee/${method === 'put' ? `${updateEmployeeId}/driving` : `drivinglicense/${updateEmployeeId}`}`;\r\n          break;\r\n        case 'passport':\r\n          url = `employee/${method === 'put' ? `${updateEmployeeId}/passport` : `passport/details/${updateEmployeeId}`}`;\r\n          break;\r\n        case 'voter':\r\n          url = `employee/${updateEmployeeId}/voter`;\r\n          break;\r\n        default:\r\n          throw new Error('Invalid subsection for URL');\r\n      }\r\n\r\n      await publicinfoApi[method](url, formData);\r\n\r\n      setEditingSection(null);\r\n      setErrors({});\r\n\r\n      const getUrlKey = (subSection) => (subSection === 'drivingLicense' ? 'driving' : subSection);\r\n      const updatedIdentityData = await publicinfoApi.get(`employee/${documentEmployeeId}/${getUrlKey(subSection)}`);\r\n\r\n      setIdentityData(prev => {\r\n        const newData = { ...prev, [subSection]: updatedIdentityData.data };\r\n        const completed = Object.values(newData).filter(Boolean).length;\r\n        setCompletionStats({ completed, total: 5 });\r\n        return newData;\r\n      });\r\n\r\n      setPopup({ show: true, message: 'Document saved successfully!', type: 'success' });\r\n    } catch (error) {\r\n      console.error(`Update for ${subSection} failed:`, error);\r\n      const errorMessage = error.response?.data?.message || 'An unexpected error occurred. Please try again.';\r\n      setPopup({ show: true, message: errorMessage, type: 'error' });\r\n\r\n      if (error.response && error.response.status === 400 && typeof error.response.data === 'object' && !error.response.data.timestamp) {\r\n        setErrors(error.response.data);\r\n      } else {\r\n        setErrors({ general: errorMessage });\r\n      }\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n  };\r\n\r\n  const SkeletonCard = () => (\r\n    <div className={`border rounded-none sm:rounded-2xl shadow-sm overflow-hidden ${\r\n      theme === 'dark'\r\n        ? 'bg-gray-800 border-gray-700'\r\n        : 'bg-white border-gray-200'\r\n    }`}>\r\n      <div className={`p-4 sm:p-6 border-b ${\r\n        theme === 'dark'\r\n          ? 'bg-gray-700 border-gray-600'\r\n          : 'bg-gray-100 border-gray-200'\r\n      }`}>\r\n        <div className=\"flex justify-between items-center\">\r\n          <div className=\"flex items-center space-x-3 sm:space-x-4\">\r\n            <div className={`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl ${\r\n              theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n            }`}></div>\r\n            <div>\r\n              <div className={`h-4 sm:h-5 rounded w-24 sm:w-32 mb-2 ${\r\n                theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n              }`}></div>\r\n              <div className={`h-3 rounded w-32 sm:w-48 ${\r\n                theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n              }`}></div>\r\n            </div>\r\n          </div>\r\n          <div className={`h-8 sm:h-9 rounded-lg w-16 sm:w-20 ${\r\n            theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n          }`}></div>\r\n        </div>\r\n      </div>\r\n      <div className=\"p-4 sm:p-6\">\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4\">\r\n          {[...Array(6)].map((_, i) => (\r\n            <div key={i} className={`p-3 sm:p-4 rounded-lg sm:rounded-xl ${\r\n              theme === 'dark' ? 'bg-gray-700' : 'bg-gray-50'\r\n            }`}>\r\n              <div className={`h-3 rounded w-16 sm:w-20 mb-2 ${\r\n                theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n              }`}></div>\r\n              <div className={`h-4 rounded w-24 sm:w-32 ${\r\n                theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n              }`}></div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderField = (label, name, type = 'text', required = false, options = [], isDisabled = false, hint = '') => {\r\n    const isError = errors[name];\r\n    const fieldValue = editingData[name] || '';\r\n\r\n    const handleLocalFieldChange = (value) => {\r\n      handleEditFieldChange(name, value);\r\n\r\n      if (name === 'panNumber' && value) {\r\n        if (!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(value)) {\r\n          setErrors(prev => ({ ...prev, [name]: 'PAN format: 5 letters + 4 digits + 1 letter (e.g., ABCDE1234F)' }));\r\n        }\r\n      } else if (name === 'aadhaarNumber' && value) {\r\n        if (!/^[2-9][0-9]{11}$/.test(value)) {\r\n          setErrors(prev => ({ ...prev, [name]: 'Aadhaar must be 12 digits starting with 2-9' }));\r\n        }\r\n      } else if (name === 'voterIdNumber' && value) {\r\n        if (!/^[A-Z]{3}[0-9]{7}$/.test(value)) {\r\n          setErrors(prev => ({ ...prev, [name]: 'Voter ID format: 3 letters + 7 digits (e.g., ABC1234567)' }));\r\n        }\r\n      }\r\n    };\r\n\r\n    const newlySelectedFile = editingData[name] instanceof File ? editingData[name] : null;\r\n\r\n    return (\r\n      <div className=\"group relative\" key={name}>\r\n        <label className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ${\r\n          theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n        }`}>\r\n          {label}\r\n          {required && <span className=\"text-red-500 ml-1 text-sm sm:text-base\">*</span>}\r\n          {isDisabled && (\r\n            <span className={`ml-2 px-2 py-1 text-xs rounded-full ${\r\n              theme === 'dark' ? 'bg-gray-700 text-gray-400' : 'bg-gray-100 text-gray-500'\r\n            }`}>\r\n              Read Only\r\n            </span>\r\n          )}\r\n        </label>\r\n\r\n        {hint && (\r\n          <p className={`text-xs mb-2 ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n          }`}>\r\n            {hint}\r\n          </p>\r\n        )}\r\n\r\n        {type === 'select' ? (\r\n          <div className=\"relative\">\r\n            <select\r\n              value={fieldValue}\r\n              onChange={(e) => handleLocalFieldChange(e.target.value)}\r\n              className={`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl appearance-none focus:ring-4 focus:ring-blue-500/20 focus:outline-none ${\r\n                isError\r\n                  ? 'border-red-300 bg-red-50 focus:ring-red-500/20'\r\n                  : theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-700 text-white '\r\n                  : 'border-gray-200 bg-white '\r\n              } ${\r\n                isDisabled\r\n                  ? theme === 'dark'\r\n                    ? 'bg-gray-800 cursor-not-allowed opacity-60'\r\n                    : 'bg-gray-50 cursor-not-allowed opacity-60'\r\n                  : ''\r\n              }`}\r\n              disabled={isDisabled}\r\n            >\r\n              <option value=\"\">Choose {label}</option>\r\n              {options.map((opt) => (\r\n                <option key={opt} value={opt}>\r\n                  {opt}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <div className=\"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 pointer-events-none\">\r\n              <svg className={`w-4 h-4 sm:w-5 sm:h-5 ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-400'\r\n              }`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        ) : type === 'date' ? (\r\n          <input\r\n            type=\"date\"\r\n            value={fieldValue}\r\n            onChange={(e) => handleLocalFieldChange(e.target.value)}\r\n            className={`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:outline-none ${\r\n              isError\r\n                ? 'border-red-300 bg-red-50 focus:ring-red-500/20'\r\n                : theme === 'dark'\r\n                ? 'border-gray-600 bg-gray-700 text-white '\r\n                : 'border-gray-200 bg-white '\r\n            } ${\r\n              isDisabled\r\n                ? theme === 'dark'\r\n                  ? 'bg-gray-800 cursor-not-allowed opacity-60'\r\n                  : 'bg-gray-50 cursor-not-allowed opacity-60'\r\n                : ''\r\n            }`}\r\n            disabled={isDisabled}\r\n          />\r\n        ) : type === 'file' ? (\r\n          <div className={`relative border-2 border-dashed rounded-lg sm:rounded-xl ${\r\n            isError\r\n              ? 'border-red-300 bg-red-50'\r\n              : theme === 'dark'\r\n              ? 'border-gray-600 bg-gray-800'\r\n              : 'border-gray-300 bg-gray-50'\r\n          } ${isDisabled ? 'opacity-60 cursor-not-allowed' : 'cursor-pointer'}`}>\r\n            <input\r\n              type=\"file\"\r\n              ref={fileInputRef}\r\n              onChange={(e) => handleFileChange(name, e.target.files?.[0])}\r\n              className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\r\n              disabled={isDisabled}\r\n              accept=\".jpg,.jpeg,.png,.pdf\"\r\n            />\r\n            {newlySelectedFile ? (\r\n              <div className=\"px-4 sm:px-6 py-6 sm:py-8 text-center\">\r\n                <IoDocumentText className={`mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ${\r\n                  theme === 'dark' ? 'text-blue-400' : 'text-blue-600'\r\n                }`} />\r\n                <p className={`text-xs sm:text-sm font-medium mb-3 truncate ${\r\n                  theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                }`} title={newlySelectedFile.name}>\r\n                  {newlySelectedFile.name}\r\n                </p>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleFileChange(name, null);\r\n                    if(fileInputRef.current) {\r\n                        fileInputRef.current.value = \"\";\r\n                    }\r\n                  }}\r\n                  className={`inline-flex items-center space-x-1 px-3 py-1 text-xs rounded-full font-semibold ${\r\n                    theme === 'dark'\r\n                      ? 'bg-red-900/50 text-red-300'\r\n                      : 'bg-red-100 text-red-700'\r\n                  }`}\r\n                >\r\n                  {}\r\n                  {}\r\n                  <span>Remove File</span>\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"px-4 sm:px-6 py-6 sm:py-8 text-center\">\r\n                <IoCloudUpload className={`mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ${\r\n                  theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                }`} />\r\n                <p className={`text-xs sm:text-sm font-medium mb-1 ${\r\n                  theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>\r\n                  {editingData[name] && typeof editingData[name] === 'string' ? \"Replace current file or \" : \"Drop your file here, or \"}\r\n                  <span className=\"text-blue-600\">browse</span>\r\n                </p>\r\n                <p className={`text-xs ${\r\n                  theme === 'dark' ? 'text-gray-500' : 'text-gray-500'\r\n                }`}>\r\n                  PNG, JPG, PDF up to 10MB\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : type === 'textarea' ? (\r\n          <textarea\r\n            value={fieldValue}\r\n            onChange={(e) => handleLocalFieldChange(e.target.value)}\r\n            className={`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl resize-none h-24 sm:h-32 focus:ring-4 focus:ring-blue-500/20 focus:outline-none ${\r\n              isError\r\n                ? 'border-red-300 bg-red-50 focus:ring-red-500/20'\r\n                : theme === 'dark'\r\n                ? 'border-gray-600 bg-gray-700 text-white '\r\n                : 'border-gray-200 bg-white '\r\n            } ${\r\n              isDisabled\r\n                ? theme === 'dark'\r\n                  ? 'bg-gray-800 cursor-not-allowed opacity-60'\r\n                  : 'bg-gray-50 cursor-not-allowed opacity-60'\r\n                : ''\r\n            }`}\r\n            placeholder={`Enter ${label.toLowerCase()}...`}\r\n            required={required}\r\n            disabled={isDisabled}\r\n          />\r\n        ) : (\r\n          <input\r\n            type={type}\r\n            value={fieldValue}\r\n            onChange={(e) => handleLocalFieldChange(e.target.value)}\r\n            className={`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:outline-none ${\r\n              isError\r\n                ? 'border-red-300 bg-red-50 focus:ring-red-500/20'\r\n                : theme === 'dark'\r\n                ? 'border-gray-600 bg-gray-700 text-white '\r\n                : 'border-gray-200 bg-white '\r\n            } ${\r\n              isDisabled\r\n                ? theme === 'dark'\r\n                  ? 'bg-gray-800 cursor-not-allowed opacity-60'\r\n                  : 'bg-gray-50 cursor-not-allowed opacity-60'\r\n                : ''\r\n            }`}\r\n            placeholder={`Enter ${label.toLowerCase()}...`}\r\n            required={required}\r\n            disabled={isDisabled}\r\n          />\r\n        )}\r\n\r\n        {isError && (\r\n          <div className=\"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600\">\r\n            <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n            <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderEditModal = () => {\r\n    if (!editingSection) return null;\r\n\r\n    const subSection = editingSection;\r\n    const fields = identityFields[subSection];\r\n    const isUpdate = !!identityData[subSection];\r\n    const config = documentConfig[subSection];\r\n\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-200 p-2 sm:p-4\">\r\n        <div className={`rounded-2xl sm:rounded-3xl w-full max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl ${\r\n          theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n        }`}>\r\n          <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ${config.color} text-white relative overflow-hidden`}>\r\n            <div className=\"absolute inset-0 bg-black/10\"></div>\r\n            <div className=\"relative flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-3 sm:space-x-4\">\r\n                <div className=\"text-2xl sm:text-3xl md:text-4xl\">\r\n                  <config.icon />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-lg sm:text-xl md:text-2xl font-bold\">\r\n                    {isUpdate ? 'Update' : 'Add'} {config.title}\r\n                  </h2>\r\n                  <p className=\"text-white/90 text-xs sm:text-sm\">{config.description}</p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={() => setEditingSection(null)}\r\n                className=\"p-2 sm:p-3 rounded-full group\"\r\n                aria-label=\"Close\"\r\n              >\r\n                <IoClose className=\"w-5 h-5 sm:w-6 sm:h-6 \" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"overflow-y-auto max-h-[calc(95vh-200px)]\">\r\n            <form className=\"p-4 sm:p-6 md:p-8\" onSubmit={(e) => { e.preventDefault(); handleUpdate(subSection); }}>\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8\">\r\n                {fields.map((f) => {\r\n                  const isIdField = ['aadhaarNumber', 'panNumber', 'licenseNumber', 'passportNumber', 'voterIdNumber'].includes(f.name);\r\n                  const isDisabled = isUpdate && isIdField;\r\n\r\n                  let isRequired = f.required;\r\n\r\n                  const fileFieldsOptionalOnUpdate = ['aadhaarImage', 'panImage', 'uploadVoter', 'licenseImage', 'passportImage'];\r\n                  if (f.type === 'file' && isUpdate && fileFieldsOptionalOnUpdate.includes(f.name)) {\r\n                    isRequired = false;\r\n                  }\r\n\r\n                  return renderField(f.label, f.name, f.type, isRequired, f.options, isDisabled, f.hint);\r\n                })}\r\n              </div>\r\n\r\n              {errors.general && (\r\n                <div className={`mt-4 sm:mt-6 p-4 sm:p-5 border-l-4 border-red-400 rounded-r-xl ${\r\n                  theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'\r\n                }`}>\r\n                  <div className=\"flex items-center\">\r\n                    <IoWarning className=\"w-5 h-5 sm:w-6 sm:h-6 text-red-400 mr-3\" />\r\n                    <p className={`font-medium ${\r\n                      theme === 'dark' ? 'text-red-300' : 'text-red-800'\r\n                    }`}>\r\n                      {errors.general}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </form>\r\n          </div>\r\n\r\n          <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 ${\r\n            theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'\r\n          }`}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setEditingSection(null)}\r\n              className={`px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold focus:ring-4 focus:ring-gray-500/20 ${\r\n                theme === 'dark'\r\n                  ? 'border-gray-600 text-gray-300'\r\n                  : 'border-gray-300 text-gray-700'\r\n              }`}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => handleUpdate(subSection)}\r\n              disabled={isUpdating}\r\n              className={`px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r ${config.color} text-white font-bold rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/30 flex items-center justify-center space-x-2 ${\r\n                isUpdating ? 'cursor-not-allowed opacity-75' : ''\r\n              }`}\r\n            >\r\n              {isUpdating ? (\r\n                <>\r\n                  <div className=\"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full\"></div>\r\n                  <span>Updating...</span>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                  <span>{isUpdate ? 'Update Document' : 'Save Document'}</span>\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const DetailItem = ({ label, value }) => (\r\n    <div className={`group p-3 sm:p-4 rounded-lg sm:rounded-xl border ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600'\r\n        : 'bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100'\r\n    }`}>\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex-1 min-w-0\">\r\n          <span className={`text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n          }`}>\r\n            {label}\r\n          </span>\r\n          <p className={`text-xs sm:text-sm font-semibold leading-relaxed break-words ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n          }`}>\r\n            {value || (\r\n              <span className={`italic ${\r\n                theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n              }`}>\r\n                Not provided\r\n              </span>\r\n            )}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const DetailItemWithLink = ({ label, link }) => (\r\n    <div className={`group p-3 sm:p-4 rounded-lg sm:rounded-xl border ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-blue-900/30 to-indigo-900/30 border-blue-700'\r\n        : 'bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-100'\r\n    }`}>\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex-1 min-w-0\">\r\n          <span className={`text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 ${\r\n            theme === 'dark' ? 'text-blue-400' : 'text-blue-600'\r\n          }`}>\r\n            {label}\r\n          </span>\r\n          {link ? (\r\n            <a\r\n              href={link}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className={`inline-flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm font-semibold group break-words ${\r\n                theme === 'dark'\r\n                  ? 'text-blue-300'\r\n                  : 'text-blue-700'\r\n              }`}\r\n            >\r\n              <IoEye className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n              <span>View Document</span>\r\n              <svg className=\"w-3 h-3 \" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\r\n              </svg>\r\n            </a>\r\n          ) : (\r\n            <p className={`text-xs sm:text-sm font-medium italic break-words ${\r\n              theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n            }`}>\r\n              Document not uploaded\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const IdentitySubSection = ({ title, data, onEdit, subSectionKey }) => {\r\n    const config = documentConfig[subSectionKey];\r\n    const hasData = !!data;\r\n\r\n    return (\r\n      <div className={`border-2 rounded-none sm:rounded-2xl shadow-lg shadow-xl transition-all duration-500\r\n                          overflow-hidden group scale-[1.02] ${\r\n        theme === 'dark'\r\n          ? `bg-gray-800 ${config.darkBorderColor} shadow-blue-500/20`\r\n          : `bg-white ${config.borderColor}`\r\n      }`}>\r\n        <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b-2 relative overflow-hidden ${\r\n          theme === 'dark'\r\n            ? `${config.darkBgColor} ${config.darkBorderColor}`\r\n            : `${config.bgColor} ${config.borderColor}`\r\n        }`}>\r\n          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent to-white/30 z-[0]\"></div>\r\n          <div className=\"relative flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n              <div className=\"text-2xl sm:text-3xl md:text-4xl \">\r\n                <config.icon />\r\n              </div>\r\n              <div className=\"min-w-0 flex-1\">\r\n                <h4 className={`text-lg sm:text-xl font-bold flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                }`}>\r\n                  <span className=\"break-words\">{title}</span>\r\n                  {hasData && (\r\n                    <div className=\"flex items-center space-x-1\">\r\n                      <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-500\" />\r\n                      <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium\">\r\n                        Verified\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </h4>\r\n                <p className={`text-xs sm:text-sm mt-1 break-words ${\r\n                  theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n                }`}>\r\n                  {config.description}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-col sm:flex-row items-end sm:items-center space-y-2 sm:space-y-0 sm:space-x-2\">\r\n             {}\r\n\r\n              {}\r\n              {!isReadOnly && (\r\n                <button\r\n                  onClick={() => onEdit(subSectionKey)}\r\n                  className={`flex items-center space-x-1 sm:space-x-2 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold transition-all duration-300 transform scale-105 focus:ring-4 focus:ring-blue-500/20 shadow-md shadow-lg text-xs sm:text-sm ${\r\n                    hasData\r\n                      ? theme === 'dark'\r\n                        ? `${config.darkTextColor} bg-gray-700 border-2 ${config.darkBorderColor} bg-gray-600`\r\n                        : `${config.textColor} bg-white border-2 ${config.borderColor} bg-gray-50`\r\n                      : 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white from-blue-600 to-indigo-700'\r\n                  }`}\r\n                >\r\n                  {hasData ? (\r\n                    <>\r\n                      <IoDocumentText className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                      <span>Edit Details</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <IoAdd className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                      <span>Add Document</span>\r\n                    </>\r\n                  )}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-4 sm:p-6 md:p-8\">\r\n          {hasData ? (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4\">\r\n              {Object.keys(data).map((key) => {\r\n                if (key === 'employee') return null;\r\n\r\n                if (['uploadAadhaar', 'panImage', 'licenseImage', 'passportImage', 'uploadVoter'].includes(key)) {\r\n                  return (\r\n                    <DetailItemWithLink\r\n                      key={key}\r\n                      label={key.replace(/([A-Z])/g, ' $1')}\r\n                      link={data[key]}\r\n                    />\r\n                  );\r\n                }\r\n\r\n                return (\r\n                  <DetailItem\r\n                    key={key}\r\n                    label={key.replace(/([A-Z])/g, ' $1')}\r\n                    value={data[key]}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 sm:py-12\">\r\n              <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${\r\n                theme === 'dark' ? config.darkBgColor : config.bgColor\r\n              }`}>\r\n                <div className={`text-2xl sm:text-3xl opacity-50 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                }`}>\r\n                  <config.icon />\r\n                </div>\r\n              </div>\r\n              <h3 className={`text-base sm:text-lg font-semibold mb-2 ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n              }`}>\r\n                No {title} Added\r\n              </h3>\r\n              <p className={`text-sm mb-4 sm:mb-6 max-w-sm mx-auto px-4 ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>\r\n                {isReadOnly\r\n                  ? `This employee hasn't added their ${title.toLowerCase()} information yet.`\r\n                  : `Add your ${title.toLowerCase()} information to complete your profile and enhance security.`}\r\n              </p>\r\n              {!isReadOnly && (\r\n                <button\r\n                  onClick={() => onEdit(subSectionKey)}\r\n                  className=\"inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-lg sm:rounded-xl shadow-lg text-sm\"\r\n                >\r\n                  <IoAdd className=\"w-4 h-4\" />\r\n                  <span>Add {title}</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const ProgressIndicator = () => {\r\n    const percentage = (completionStats.completed / completionStats.total) * 100;\r\n\r\n    return (\r\n      <div className={`rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border ${\r\n        theme === 'dark'\r\n          ? 'bg-gray-800 border-gray-700'\r\n          : 'bg-white border-gray-200'\r\n      }`}>\r\n        <div className=\"flex items-center justify-between mb-3 sm:mb-4\">\r\n          <h3 className={`text-base sm:text-lg font-bold ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n          }`}>\r\n            {isReadOnly ? 'Document Status' : 'Profile Completion'}\r\n          </h3>\r\n          <span className={`text-sm font-medium ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n          }`}>\r\n            {completionStats.completed}/{completionStats.total} Documents\r\n          </span>\r\n        </div>\r\n        <div className={`w-full rounded-full h-2 sm:h-3 mb-3 sm:mb-4 overflow-hidden ${\r\n          theme === 'dark' ? 'bg-gray-700' : 'bg-gray-200'\r\n        }`}>\r\n          <div\r\n            className=\"bg-gradient-to-r from-blue-500 to-green-500 h-2 sm:h-3 rounded-full\"\r\n            style={{ width: `${percentage}%` }}\r\n          ></div>\r\n        </div>\r\n        <div className=\"flex justify-between text-sm\">\r\n          <span className={theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}>\r\n            {percentage.toFixed(0)}% Complete\r\n          </span>\r\n          {percentage === 100 && (\r\n            <span className=\"text-green-600 font-semibold flex items-center\">\r\n              <IoCheckmarkCircle className=\"w-4 h-4 mr-1\" />\r\n              All Set!\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const filteredSections = Object.keys(documentConfig).filter(key =>\r\n    documentConfig[key].title.toLowerCase().includes(searchFilter.toLowerCase()) ||\r\n    documentConfig[key].description.toLowerCase().includes(searchFilter.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className={`min-h-screen ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900'\r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      {loading ? (\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <div className=\"text-center px-4\">\r\n            <div className=\"relative\">\r\n              <div className=\" rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6\"></div>\r\n              <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                <IoDocumentText className=\"w-6 h-6 sm:w-8 sm:h-8 text-blue-500\" />\r\n              </div>\r\n            </div>\r\n            <h2 className={`text-xl sm:text-2xl font-bold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>\r\n              Loading Documents\r\n            </h2>\r\n            <p className={theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}>\r\n              Fetching identity information securely...\r\n            </p>\r\n            <div className=\"flex justify-center space-x-2 mt-4\">\r\n              {[...Array(5)].map((_, i) => (\r\n                <div\r\n                  key={i}\r\n                  className=\"w-2 h-2 rounded-full bg-blue-500\"\r\n                  style={{ animationDelay: `${i * 0.2}s` }}\r\n                ></div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"max-w-8xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-6 sm:py-8 md:py-12\">\r\n          {fromContextMenu && (\r\n            <div className={`mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-l-4 border-blue-500 shadow-lg ${\r\n              theme === 'dark' ? 'bg-blue-900/20 border-blue-400' : 'bg-blue-50 border-blue-500'\r\n            }`}>\r\n              <div className=\"flex items-center space-x-3\">\r\n                <IoEye className={`w-4 h-4 sm:w-5 sm:h-5 ${theme === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} />\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <p className={`font-semibold text-sm sm:text-base ${theme === 'dark' ? 'text-blue-400' : 'text-blue-800'}`}>\r\n                    Viewing Employee Documents\r\n                  </p>\r\n                  <p className={`text-xs sm:text-sm break-words ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                    Employee ID: {targetEmployeeId}\r\n                    {isReadOnly && '  Read-only access'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-8 sm:mb-12\">\r\n            <div className=\"lg:col-span-2 mx-4 sm:mx-0\">\r\n              <ProgressIndicator />\r\n            </div>\r\n            <div className={`rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border mx-4 sm:mx-0 ${\r\n              theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n            }`}>\r\n              <div className=\"relative\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search documents...\"\r\n                  value={searchFilter}\r\n                  onChange={(e) => setSearchFilter(e.target.value)}\r\n                  className={`w-full px-4 sm:px-5 py-3 sm:py-4 pl-10 sm:pl-12 border-2 rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/20 ${\r\n                    theme === 'dark'\r\n                      ? 'border-gray-600 bg-gray-700 text-white placeholder-gray-400'\r\n                      : 'border-gray-200 bg-white text-black placeholder-gray-500'\r\n                  }`}\r\n                />\r\n                <svg className={`absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 ${\r\n                  theme === 'dark' ? 'text-gray-400' : 'text-gray-400'\r\n                }`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {renderEditModal()}\r\n\r\n          {popup.show && (\r\n            <Modal\r\n              onClose={() => setPopup({ show: false, message: '', type: '' })}\r\n              title={popup.type === 'success' ? 'Success' : 'Error'}\r\n              type={popup.type}\r\n              theme={theme}\r\n            >\r\n              <p className={`mb-4 sm:mb-6 ${\r\n                theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n              }`}>\r\n                {popup.message}\r\n              </p>\r\n              <div className=\"flex justify-end\">\r\n                <button\r\n                  onClick={() => setPopup({ show: false, message: '', type: '' })}\r\n                  className={`${\r\n                    popup.type === 'success' ? 'bg-green-600' : 'bg-red-600'\r\n                  } text-white font-semibold py-2 px-4 sm:px-6 rounded-lg text-sm`}\r\n                >\r\n                  OK\r\n                </button>\r\n              </div>\r\n            </Modal>\r\n          )}\r\n\r\n          <div className=\"space-y-4 sm:space-y-6 md:space-y-8\">\r\n            {filteredSections.map((key) => (\r\n              <IdentitySubSection\r\n                key={key}\r\n                title={documentConfig[key].title}\r\n                data={identityData[key]}\r\n                onEdit={openEditSection}\r\n                subSectionKey={key}\r\n\r\n              />\r\n            ))}\r\n\r\n            {filteredSections.length === 0 && searchFilter && (\r\n              <div className=\"text-center py-12 sm:py-16 mx-4 sm:mx-0\">\r\n                <div className={`w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${\r\n                  theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'\r\n                }`}>\r\n                  <svg className={`w-6 h-6 sm:w-8 sm:h-8 ${\r\n                    theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                  }`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                  </svg>\r\n                </div>\r\n                <h3 className={`text-base sm:text-lg font-semibold mb-2 ${\r\n                  theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                }`}>\r\n                  No documents found\r\n                </h3>\r\n                <p className={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>\r\n                  Try adjusting your search terms\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {}\r\n          {}\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Document;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { IoClose, IoDocumentText, IoCheckmarkCircle, IoPencil,IoWarning, IoEye, IoAdd, IoCloudUpload, IoTrashOutline } from 'react-icons/io5';\r\nimport { Context } from '../../HrmsContext';\r\nimport { publicinfoApi } from '../../../../../axiosInstance';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\n\r\n// Reusable Modal Component\r\nconst Modal = ({ children, onClose, title, type, theme }) => {\r\n  let titleClass;\r\n  let icon = null;\r\n\r\n  if (type === 'success') {\r\n    titleClass = 'text-green-600';\r\n    icon = <IoCheckmarkCircle className=\"h-5 w-5 sm:h-6 sm:w-6 text-green-500\" />;\r\n  } else if (type === 'error') {\r\n    titleClass = 'text-red-600';\r\n    icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-red-500\" />;\r\n  } else if (type === 'confirm') {\r\n    titleClass = 'text-yellow-600';\r\n    icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 sm:p-6 z-[1000]\">\r\n      <div className={`w-full max-w-md rounded-2xl sm:rounded-3xl shadow-2xl transform-gpu ${\r\n        theme === 'dark' ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-200'\r\n      }`}>\r\n        <div className=\"p-4 sm:p-6\">\r\n          <div className=\"flex items-center space-x-3 sm:space-x-4 mb-4 sm:mb-6\">\r\n            {icon}\r\n            <h3 className={`text-lg sm:text-xl font-bold ${titleClass} ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>\r\n              {title}\r\n            </h3>\r\n          </div>\r\n          <div className=\"space-y-4 sm:space-y-6\">\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Reusable Input Field Component\r\nconst InputField = ({\r\n  name,\r\n  label,\r\n  type = 'text',\r\n  required = false,\r\n  hint,\r\n  placeholder,\r\n  value,\r\n  onChange,\r\n  onBlur,\r\n  isError,\r\n  options = [],\r\n  multiple = false,\r\n  accept,\r\n  theme\r\n}) => {\r\n  const baseInputClass = `w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n    isError\r\n      ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n      : theme === 'dark'\r\n      ? 'border-gray-600 bg-gray-700 text-white'\r\n      : 'border-gray-200 bg-white'\r\n  }`;\r\n\r\n  const textareaClass = `w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl resize-none h-24 sm:h-32 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n    isError\r\n      ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n      : theme === 'dark'\r\n      ? 'border-gray-600 bg-gray-700 text-white'\r\n      : 'border-gray-200 bg-white'\r\n  }`;\r\n\r\n  const selectClass = `w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl appearance-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n    isError\r\n      ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n      : theme === 'dark'\r\n      ? 'border-gray-600 bg-gray-700 text-white'\r\n      : 'border-gray-200 bg-white'\r\n  }`;\r\n\r\n  return (\r\n    <div className=\"group relative\" key={name}>\r\n      <label className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ${\r\n        theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n      }`}>\r\n        {label}\r\n        {required && <span className=\"text-red-500 ml-1 text-sm sm:text-base\">*</span>}\r\n      </label>\r\n\r\n      {hint && (\r\n        <p className={`text-xs mb-2 ${\r\n          theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n        }`}>\r\n          {hint}\r\n        </p>\r\n      )}\r\n\r\n      {type === 'select' ? (\r\n        <div className=\"relative\">\r\n          <select\r\n            name={name}\r\n            value={value}\r\n            onChange={onChange}\r\n            onBlur={onBlur}\r\n            className={selectClass}\r\n            required={required}\r\n          >\r\n            <option value=\"\">Select {label.toLowerCase()}</option>\r\n            {options.map((option, index) => (\r\n              <option key={index} value={option.value || option}>\r\n                {option.label || option}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <div className={`absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n          }`}>\r\n            <svg className=\"w-4 h-4 fill-current\" viewBox=\"0 0 20 20\">\r\n              <path d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      ) : type === 'textarea' ? (\r\n        <textarea\r\n          name={name}\r\n          value={value}\r\n          onChange={onChange}\r\n          onBlur={onBlur}\r\n          placeholder={placeholder}\r\n          className={textareaClass}\r\n          required={required}\r\n          rows={4}\r\n        />\r\n      ) : type === 'file' ? (\r\n        <div className={`relative border-2 border-dashed rounded-lg sm:rounded-xl ${\r\n          isError\r\n            ? 'border-red-300 bg-red-50'\r\n            : theme === 'dark'\r\n            ? 'border-gray-600 bg-gray-800'\r\n            : 'border-gray-300 bg-gray-50'\r\n        } cursor-pointer`}>\r\n          <input\r\n            type=\"file\"\r\n            name={name}\r\n            accept={accept}\r\n            multiple={multiple}\r\n            onChange={onChange}\r\n            className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\r\n          />\r\n          <div className=\"px-4 sm:px-6 py-6 sm:py-8 text-center\">\r\n            <IoCloudUpload className={`mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ${\r\n              theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n            }`} />\r\n            <p className={`text-xs sm:text-sm font-medium mb-1 ${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n            }`}>\r\n              Drop your file here, or <span className=\"text-blue-600\">browse</span>\r\n            </p>\r\n            <p className={`text-xs ${\r\n              theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n            }`}>\r\n              {accept || 'All file types supported'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <input\r\n          type={type}\r\n          name={name}\r\n          value={value}\r\n          onChange={onChange}\r\n          onBlur={onBlur}\r\n          placeholder={placeholder}\r\n          className={baseInputClass}\r\n          required={required}\r\n        />\r\n      )}\r\n\r\n      {isError && (\r\n        <div className=\"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600\">\r\n          <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n          <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Achivements = () => {\r\n  const [achievements, setAchievements] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n  const { userData, theme, matchedArray } = useContext(Context);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [selectedAchievement, setSelectedAchievement] = useState(null);\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n\r\n  // State for popups\r\n  const [popup, setPopup] = useState({ show: false, message: '', type: '' });\r\n  const [deleteConfirmation, setDeleteConfirmation] = useState({ show: false, achievementId: null });\r\n\r\n  // Form state\r\n  const [formData, setFormData] = useState({\r\n    certificationName: '',\r\n    issuingAuthorityName: '',\r\n    certificationURL: '',\r\n    issueMonth: '',\r\n    issueYear: '',\r\n    expirationMonth: '',\r\n    expirationYear: '',\r\n    licenseNumber: '',\r\n    achievementFile: null\r\n  });\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [uploadedFiles, setUploadedFiles] = useState([]);\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n  const employeeIdToFetch = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n\r\n  const loggedInEmpID = userData?.employeeId;\r\n  const isOwnProfile = String(employeeIdToFetch) === String(loggedInEmpID);\r\n  const hasEditPermission = matchedArray?.includes(\"EDIT_PER\"); // Using \"EDIT_PER\" as requested\r\n\r\n  //  UPDATED canEdit LOGIC: User can edit if it's their own profile OR (from context menu AND has EDIT_PER)\r\n  const canEdit = isOwnProfile || (fromContextMenu && hasEditPermission);\r\n\r\n  // Configuration for different achievement types\r\n  const config = {\r\n    title: \"Achievements & Certifications\",\r\n    subtitle: \"Professional certifications and achievements\",\r\n    color: \"from-blue-500 to-purple-600\",\r\n    icon: IoDocumentText\r\n  };\r\n\r\n  const achievementFormFields = [\r\n    {\r\n      name: 'certificationName',\r\n      label: 'Certification Name',\r\n      type: 'text',\r\n      required: true,\r\n      placeholder: 'e.g., AWS Certified Solutions Architect',\r\n      hint: 'Enter the full name of your certification or achievement'\r\n    },\r\n    {\r\n      name: 'issuingAuthorityName',\r\n      label: 'Issuing Authority',\r\n      type: 'text',\r\n      required: true,\r\n      placeholder: 'e.g., Amazon Web Services',\r\n      hint: 'Organization that issued this certification'\r\n    },\r\n    {\r\n      name: 'issueMonth',\r\n      label: 'Issue Month',\r\n      type: 'select',\r\n      required: true,\r\n      options: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\r\n    },\r\n    {\r\n      name: 'issueYear',\r\n      label: 'Issue Year',\r\n      type: 'number',\r\n      required: true,\r\n      placeholder: 'e.g., 2023'\r\n    },\r\n    {\r\n      name: 'expirationMonth',\r\n      label: 'Expiration Month',\r\n      type: 'select',\r\n      required: false,\r\n      options: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\r\n      hint: 'Optional - leave blank if certification does not expire'\r\n    },\r\n    {\r\n      name: 'expirationYear',\r\n      label: 'Expiration Year',\r\n      type: 'number',\r\n      required: false,\r\n      placeholder: 'e.g., 2026',\r\n      hint: 'Optional - leave blank if certification does not expire'\r\n    },\r\n    {\r\n      name: 'licenseNumber',\r\n      label: 'License/Certificate Number',\r\n      type: 'text',\r\n      required: false,\r\n      placeholder: 'e.g., AWS-ASA-12345',\r\n      hint: 'Optional - unique identifier for this certification'\r\n    },\r\n    {\r\n      name: 'certificationURL',\r\n      label: 'Certification URL',\r\n      type: 'url',\r\n      required: false,\r\n      placeholder: 'https://...',\r\n      hint: 'Optional - link to verify your certification online'\r\n    },\r\n    {\r\n      name: 'achievementFile',\r\n      label: 'Achievement Certificate',\r\n      type: 'file',\r\n      required: false,\r\n      accept: 'image/*,.pdf,.doc,.docx',\r\n      hint: 'Optional - upload your certificate or achievement document'\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchAchievements();\r\n  }, [employeeIdToFetch]);\r\n\r\n  const fetchAchievements = async () => {\r\n    if (!employeeIdToFetch) return;\r\n    try {\r\n      setLoading(true);\r\n      const response = await publicinfoApi.get(`/employee/${employeeIdToFetch}/achievements`);\r\n      console.log(`Fetching achievements for: ${employeeIdToFetch}`, response.data);\r\n      setAchievements(response.data);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError('Failed to fetch achievements. Please try again later.');\r\n      console.error(\"Error fetching achievements:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n\r\n    if (files) {\r\n      setFormData(prev => ({ ...prev, [name]: files[0] }));\r\n      setUploadedFiles([...files]);\r\n    } else {\r\n      setFormData(prev => ({ ...prev, [name]: value }));\r\n    }\r\n\r\n    // Clear error when user starts typing\r\n    if (formErrors[name]) {\r\n      setFormErrors(prev => ({ ...prev, [name]: null }));\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n\r\n    achievementFormFields.forEach(field => {\r\n      if (field.required && !formData[field.name]) {\r\n        errors[field.name] = `${field.label} is required`;\r\n      }\r\n\r\n      if (field.type === 'url' && formData[field.name] && !isValidUrl(formData[field.name])) {\r\n        errors[field.name] = 'Please enter a valid URL';\r\n      }\r\n    });\r\n\r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const isValidUrl = (string) => {\r\n    try {\r\n      new URL(string);\r\n      return true;\r\n    } catch (_) {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = (achievement = null) => {\r\n    if (!canEdit) {\r\n      setPopup({ show: true, message: 'You do not have permission to add or edit achievements for this user.', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    if (achievement) {\r\n      setSelectedAchievement(achievement);\r\n      setIsEditMode(true);\r\n      setFormData({\r\n        certificationName: achievement.certificationName || '',\r\n        issuingAuthorityName: achievement.issuingAuthorityName || '',\r\n        certificationURL: achievement.certificationURL || '',\r\n        issueMonth: achievement.issueMonth || '',\r\n        issueYear: achievement.issueYear || '',\r\n        expirationMonth: achievement.expirationMonth || '',\r\n        expirationYear: achievement.expirationYear || '',\r\n        licenseNumber: achievement.licenseNumber || '',\r\n        // NOTE: We don't populate achievementFile here for security reasons, only link/URL\r\n        achievementFile: null\r\n      });\r\n    } else {\r\n      setSelectedAchievement(null);\r\n      setIsEditMode(false);\r\n      setFormData({\r\n        certificationName: '',\r\n        issuingAuthorityName: '',\r\n        certificationURL: '',\r\n        issueMonth: '',\r\n        issueYear: '',\r\n        expirationMonth: '',\r\n        expirationYear: '',\r\n        licenseNumber: '',\r\n        achievementFile: null\r\n      });\r\n    }\r\n    setFormErrors({});\r\n    setUploadedFiles([]);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsModalOpen(false);\r\n    setSelectedAchievement(null);\r\n    setFormData({\r\n      certificationName: '',\r\n      issuingAuthorityName: '',\r\n      certificationURL: '',\r\n      issueMonth: '',\r\n      issueYear: '',\r\n      expirationMonth: '',\r\n      expirationYear: '',\r\n      licenseNumber: '',\r\n      achievementFile: null\r\n    });\r\n    setFormErrors({});\r\n    setUploadedFiles([]);\r\n  };\r\n\r\n  const handleDelete = (achievementId) => {\r\n    setDeleteConfirmation({ show: true, achievementId });\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    const { achievementId } = deleteConfirmation;\r\n    if (!canEdit) {\r\n      setPopup({ show: true, message: 'You do not have permission to delete achievements.', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // NOTE: API URL changed from old request version for consistency with delete method\r\n      await publicinfoApi.delete(`/employee/${employeeIdToFetch}/${achievementId}/achievements`);\r\n      setAchievements(achievements.filter(ach => ach.id !== achievementId));\r\n      setPopup({ show: true, message: 'Achievement deleted successfully!', type: 'success' });\r\n    } catch (err) {\r\n      console.error('Error deleting achievement:', err.response?.data || err.message);\r\n      setPopup({ show: true, message: 'Failed to delete achievement. Please try again.', type: 'error' });\r\n    } finally {\r\n      setDeleteConfirmation({ show: false, achievementId: null });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      setPopup({ show: true, message: 'Please fix the errors in the form before submitting.', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    if (!canEdit) {\r\n      setPopup({ show: true, message: 'You do not have permission to save achievements.', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    const achievementDTO = {\r\n      certificationName: formData.certificationName,\r\n      issuingAuthorityName: formData.issuingAuthorityName,\r\n      certificationURL: formData.certificationURL,\r\n      issueMonth: formData.issueMonth,\r\n      issueYear: formData.issueYear,\r\n      expirationMonth: formData.expirationMonth,\r\n      expirationYear: formData.expirationYear,\r\n      licenseNumber: formData.licenseNumber\r\n    };\r\n\r\n    const submissionData = new FormData();\r\n\r\n    if (formData.achievementFile) {\r\n      submissionData.append('achievementFile', formData.achievementFile);\r\n    }\r\n\r\n    if (isEditMode && selectedAchievement?.id) {\r\n      achievementDTO.id = selectedAchievement.id;\r\n    }\r\n\r\n    submissionData.append('achievementsDTO', new Blob([JSON.stringify(achievementDTO)], { type: 'application/json' }));\r\n\r\n    try {\r\n      if (isEditMode) {\r\n        const url = `/employee/${employeeIdToFetch}/${selectedAchievement.id}/achievements`;\r\n        await publicinfoApi.put(url, submissionData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n        setPopup({ show: true, message: 'Achievement updated successfully!', type: 'success' });\r\n      } else {\r\n        const url = `/employee/achievements/${employeeIdToFetch}`;\r\n        await publicinfoApi.post(url, submissionData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n        setPopup({ show: true, message: 'Achievement added successfully!', type: 'success' });\r\n      }\r\n\r\n      await fetchAchievements();\r\n      handleCloseModal();\r\n\r\n    } catch (err) {\r\n      console.error('Error saving achievement:', err.response?.data || err.message);\r\n      setPopup({\r\n        show: true,\r\n        message: err.response?.data?.message || 'Failed to save achievement. Please check your input and try again.',\r\n        type: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const getAchievementFileUrl = (filePath) => {\r\n    if (!filePath) return null;\r\n    return filePath;\r\n  };\r\n\r\n  if (loading) return (\r\n    <div className={`min-h-screen flex items-center justify-center ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900'\r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"text-center px-4\">\r\n        <div className=\"relative\">\r\n          <div className=\"animate-spin rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6\"></div>\r\n          <div className=\"absolute inset-0 flex items-center justify-center\">\r\n            <IoDocumentText className=\"w-6 h-6 sm:w-8 sm:h-8 text-blue-500\" />\r\n          </div>\r\n        </div>\r\n        <h2 className={`text-xl sm:text-2xl font-bold mb-2 ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n        }`}>Loading Achievements</h2>\r\n        <p className={`text-sm sm:text-base ${\r\n          theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n        }`}>Fetching certifications and achievements...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (error) return (\r\n    <div className={`min-h-screen flex items-center justify-center ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900'\r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"text-center px-4\">\r\n        <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${\r\n          theme === 'dark' ? 'bg-red-900/30' : 'bg-red-100'\r\n        }`}>\r\n          <IoDocumentText className=\"w-8 h-8 sm:w-10 sm:h-10 text-red-500\" />\r\n        </div>\r\n        <h2 className={`text-xl sm:text-2xl font-bold mb-2 ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n        }`}>Error Loading Achievements</h2>\r\n        <p className={`text-sm sm:text-base ${\r\n          theme === 'dark' ? 'text-red-300' : 'text-red-500'\r\n        }`}>{error}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className={`min-h-screen ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900'\r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"max-w-8xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-6 sm:py-8 md:py-12\">\r\n        {/* Header Section */}\r\n        <div className={`rounded-none sm:rounded-2xl md:rounded-3xl p-4 sm:p-6 md:p-8 shadow-lg border mb-6 sm:mb-8 mx-4 sm:mx-0 ${\r\n          theme === 'dark'\r\n            ? 'bg-gray-800 border-gray-700'\r\n            : 'bg-white border-gray-200'\r\n        }`}>\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0\">\r\n            <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n              <div className={`p-2 sm:p-3 md:p-4 rounded-lg sm:rounded-xl shadow-md flex-shrink-0 bg-gradient-to-r ${config.color}`}>\r\n                <config.icon className=\"w-6 h-6 sm:w-8 sm:h-8 text-white\" />\r\n              </div>\r\n              <div className=\"min-w-0 flex-1\">\r\n                <h1 className={`text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold break-words ${\r\n                  theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                }`}>\r\n                  {config.title}\r\n                </h1>\r\n                <p className={`text-xs sm:text-sm md:text-base break-words ${\r\n                  theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n                }`}>\r\n                  {isOwnProfile ? `Your ${config.subtitle.toLowerCase()}` : config.subtitle}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            {canEdit && (\r\n              <button\r\n                onClick={() => handleOpenModal()}\r\n                className={`w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r ${config.color} text-white font-bold rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/30 text-sm sm:text-base flex items-center justify-center space-x-2`}\r\n              >\r\n                <IoAdd className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                <span>Add Achievement</span>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Achievement List */}\r\n        <div className=\"mx-4 sm:mx-0\">\r\n          {achievements.length === 0 ? (\r\n            <div className={`text-center py-12 sm:py-16 md:py-20 px-4 sm:px-6 md:px-8 rounded-none sm:rounded-2xl md:rounded-3xl shadow-lg border ${\r\n              theme === 'dark'\r\n                ? 'bg-gray-800 border-gray-700'\r\n                : 'bg-white border-gray-200'\r\n            }`}>\r\n              <div className={`w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${\r\n                theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100'\r\n              }`}>\r\n                <IoDocumentText className={`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 ${\r\n                  theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                }`} />\r\n              </div>\r\n              <h3 className={`text-lg sm:text-xl md:text-2xl font-semibold mb-2 sm:mb-4 ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n              }`}>\r\n                {isOwnProfile ? 'No Achievements Yet' : 'No Achievements Found'}\r\n              </h3>\r\n              <p className={`text-sm sm:text-base max-w-md mx-auto break-words ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>\r\n                {isOwnProfile\r\n                  ? 'No achievements have been recorded yet. Add your certifications and accomplishments to showcase your expertise.'\r\n                  : 'This employee has not added any achievements or certifications yet.'\r\n                }\r\n              </p>\r\n              {canEdit && isOwnProfile && (\r\n                <button\r\n                  onClick={() => handleOpenModal()}\r\n                  className={`mt-6 sm:mt-8 px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r ${config.color} text-white font-bold rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/30 text-sm sm:text-base flex items-center space-x-2 mx-auto`}\r\n                >\r\n                  <IoAdd className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                  <span>Add Your First Achievement</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 gap-4 sm:gap-6 md:gap-8\">\r\n              {achievements.map((achievement) => {\r\n                const hasCredentialUrl = !!achievement.certificationURL;\r\n                const hasAchievementFile = !!achievement.achievementFile;\r\n                const fileUrl = getAchievementFileUrl(achievement.achievementFile);\r\n\r\n                return (\r\n                  <div key={achievement.id} className={`p-4 sm:p-6 md:p-8 rounded-none sm:rounded-2xl md:rounded-3xl shadow-lg border relative group ${\r\n                    theme === 'dark'\r\n                      ? 'bg-gray-800 border-gray-700'\r\n                      : 'bg-white border-gray-200'\r\n                  }`}>\r\n                   {canEdit && (\r\n  <div className={`absolute top-4 right-4 sm:top-6 sm:right-6 flex space-x-2 ${\r\n    // Always visible on mobile (xs), only on hover on sm+\r\n    'opacity-100 sm:opacity-0 sm:group-hover:opacity-100'\r\n  }`}>\r\n    <button\r\n      onClick={() => handleOpenModal(achievement)}\r\n      className={`p-2 rounded-lg ${\r\n        theme === 'dark'\r\n          ? 'text-gray-400'\r\n          : 'text-gray-500'\r\n      }`}\r\n      title=\"Edit achievement\"\r\n    >\r\n      <IoPencil className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n    </button>\r\n    <button\r\n      onClick={() => handleDelete(achievement.id)}\r\n      className={`p-2 rounded-lg ${\r\n        theme === 'dark'\r\n          ? 'text-gray-400'\r\n          : 'text-gray-500'\r\n      }`}\r\n      title=\"Delete achievement\"\r\n    >\r\n      <IoTrashOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n    </button>\r\n  </div>\r\n)}\r\n\r\n                    <div className=\"flex flex-col lg:flex-row items-start space-y-4 lg:space-y-0 lg:space-x-6\">\r\n                      <div className={`p-3 sm:p-4 rounded-lg sm:rounded-xl shadow-md flex-shrink-0 bg-gradient-to-r ${config.color}`}>\r\n                        <IoDocumentText className=\"text-2xl sm:text-3xl text-white\" />\r\n                      </div>\r\n\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"mb-4 sm:mb-6\">\r\n                          <h3 className={`text-lg sm:text-xl md:text-2xl font-bold mb-2 break-words ${\r\n                            theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                          }`}>\r\n                            {achievement.certificationName}\r\n                          </h3>\r\n                          <p className={`text-sm sm:text-base md:text-lg flex items-center break-words ${\r\n                            theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n                          }`}>\r\n                            <IoDocumentText className=\"mr-2 flex-shrink-0\" />\r\n                            {achievement.issuingAuthorityName}\r\n                          </p>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 text-xs sm:text-sm md:text-base\">\r\n                          <div className={`p-3 sm:p-4 rounded-lg ${\r\n                            theme === 'dark' ? 'bg-gray-700/50' : 'bg-gray-50'\r\n                          }`}>\r\n                            <div className=\"flex items-center mb-2\">\r\n                              <IoDocumentText className={`mr-2 text-xs ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                              }`} />\r\n                              <span className={`text-xs font-semibold uppercase tracking-wide ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                              }`}>\r\n                                Issued\r\n                              </span>\r\n                            </div>\r\n                            <span className={`font-medium break-words ${\r\n                              theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                            }`}>\r\n                              {achievement.issueMonth} {achievement.issueYear}\r\n                            </span>\r\n                          </div>\r\n\r\n                          <div className={`p-3 sm:p-4 rounded-lg ${\r\n                            theme === 'dark' ? 'bg-gray-700/50' : 'bg-gray-50'\r\n                          }`}>\r\n                            <div className=\"flex items-center mb-2\">\r\n                              <IoDocumentText className={`mr-2 text-xs ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                              }`} />\r\n                              <span className={`text-xs font-semibold uppercase tracking-wide ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                              }`}>\r\n                                Expires\r\n                              </span>\r\n                            </div>\r\n                            <span className={`font-medium break-words ${\r\n                              theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                            }`}>\r\n                              {achievement.expirationMonth && achievement.expirationYear\r\n                                ? `${achievement.expirationMonth} ${achievement.expirationYear}`\r\n                                : 'No Expiration'}\r\n                            </span>\r\n                          </div>\r\n\r\n                          <div className={`p-3 sm:p-4 rounded-lg sm:col-span-2 lg:col-span-1 ${\r\n                            theme === 'dark' ? 'bg-gray-700/50' : 'bg-gray-50'\r\n                          }`}>\r\n                            <div className=\"flex items-center mb-2\">\r\n                              <IoDocumentText className={`mr-2 text-xs ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                              }`} />\r\n                              <span className={`text-xs font-semibold uppercase tracking-wide ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                              }`}>\r\n                                License No\r\n                              </span>\r\n                            </div>\r\n                            <span className={`font-medium break-words ${\r\n                              theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                            }`}>\r\n                              {achievement.licenseNumber || 'N/A'}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {(hasCredentialUrl || hasAchievementFile) && (\r\n                          <div className=\"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-200 dark:border-gray-700 flex flex-wrap gap-3\">\r\n                            {hasCredentialUrl && (\r\n                              <a\r\n                                href={achievement.certificationURL}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className={`inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold text-xs sm:text-sm ${\r\n                                  theme === 'dark'\r\n                                    ? 'text-blue-400 bg-blue-900/20 border border-blue-700'\r\n                                    : 'text-blue-600 bg-blue-50 border border-blue-200'\r\n                                }`}\r\n                              >\r\n                                <span>View Credential</span>\r\n                                <IoEye className=\"ml-2 w-3 h-3 sm:w-4 sm:h-4\" />\r\n                              </a>\r\n                            )}\r\n                            {hasAchievementFile && (\r\n                              <a\r\n                                href={fileUrl}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className={`inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold text-xs sm:text-sm ${\r\n                                  theme === 'dark'\r\n                                    ? 'text-purple-400 bg-purple-900/20 border border-purple-700'\r\n                                    : 'text-purple-600 bg-purple-50 border border-purple-200'\r\n                                }`}\r\n                              >\r\n                                <span>View File</span>\r\n                                <IoDocumentText className=\"ml-2 w-3 h-3 sm:w-4 sm:h-4\" />\r\n                              </a>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Add/Edit Modal */}\r\n       {isModalOpen && (\r\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] p-2 sm:p-4\">\r\n      <div className={`rounded-2xl sm:rounded-3xl w-full max-w-6xl max-h-[95vh] flex flex-col shadow-2xl ${\r\n        theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n      }`}>\r\n        {/* Fixed Header */}\r\n        <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ${config.color} text-white flex-shrink-0`}>\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <h2 className=\"text-lg sm:text-xl md:text-2xl font-bold\">\r\n                {isEditMode ? 'Edit Achievement' : 'Add New Achievement'}\r\n              </h2>\r\n              <p className=\"text-xs sm:text-sm opacity-90 mt-1\">\r\n                {isEditMode ? 'Update the achievement details' : 'Fill in the details to add a new achievement'}\r\n              </p>\r\n            </div>\r\n            <button onClick={handleCloseModal} className=\"p-2 rounded-lg\">\r\n              <IoClose className=\"w-5 h-5 sm:w-6 sm:h-6\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Scrollable Form Content */}\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          <form onSubmit={handleSubmit} className=\"p-4 sm:p-6 md:p-8\">\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8\">\r\n              {achievementFormFields.map((field) => (\r\n                <div key={field.name} className={field.name === 'certificationURL' || field.name === 'achievementFile' ? 'lg:col-span-2' : ''}>\r\n                  <InputField\r\n                    {...field}\r\n                    value={formData[field.name] || ''}\r\n                    onChange={handleInputChange}\r\n                    onBlur={() => {}}\r\n                    isError={formErrors[field.name]}\r\n                    theme={theme}\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Uploaded Files Display */}\r\n            {uploadedFiles.length > 0 && (\r\n              <div className=\"mt-4 sm:mt-6\">\r\n                <h4 className={`text-sm font-semibold mb-3 ${\r\n                  theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>\r\n                  Uploaded Files:\r\n                </h4>\r\n                <div className=\"space-y-2\">\r\n                  {Array.from(uploadedFiles).map((file, index) => (\r\n                    <div key={index} className={`flex items-center justify-between p-2 sm:p-3 rounded-lg border ${\r\n                      theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'\r\n                    }`}>\r\n                      <div className=\"flex items-center space-x-3 min-w-0 flex-1\">\r\n                        <IoDocumentText className={`w-4 h-4 flex-shrink-0 ${\r\n                          theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                        }`} />\r\n                        <span className={`text-xs sm:text-sm truncate ${\r\n                          theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                        }`}>\r\n                          {file.name}\r\n                        </span>\r\n                      </div>\r\n                      <span className={`text-xs flex-shrink-0 ml-2 ${\r\n                        theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                      }`}>\r\n                        {(file.size / 1024 / 1024).toFixed(2)} MB\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </form>\r\n        </div>\r\n\r\n        {/* Fixed Footer */}\r\n        <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex-shrink-0 ${\r\n          theme === 'dark' ? 'border-gray-700 bg-gray-900/50' : 'border-gray-200 bg-gray-50/50'\r\n        } flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4`}>\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleCloseModal}\r\n            className={`px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold focus:ring-4 focus:ring-gray-500/20 text-sm sm:text-base ${\r\n              theme === 'dark'\r\n                ? 'border-gray-600 text-gray-300'\r\n                : 'border-gray-300 text-gray-700'\r\n            }`}\r\n          >\r\n            Cancel\r\n          </button>\r\n\r\n          {isEditMode ? (\r\n            <button\r\n              type=\"submit\"\r\n              onClick={handleSubmit}\r\n              className={`px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-purple-600 to-indigo-700 text-white font-bold rounded-lg sm:rounded-xl focus:ring-4 focus:ring-purple-500/30 text-sm sm:text-base`}\r\n            >\r\n              Update Achievement\r\n            </button>\r\n          ) : (\r\n            <button\r\n              type=\"submit\"\r\n              onClick={handleSubmit}\r\n              className={`px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-lg sm:rounded-xl focus:ring-4 focus:ring-green-500/30 text-sm sm:text-base`}\r\n            >\r\n              Add Achievement\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )}\r\n\r\n        {/* Success/Error Popup */}\r\n        {popup.show && (\r\n          <Modal\r\n            onClose={() => setPopup({ show: false, message: '', type: '' })}\r\n            title={popup.type === 'success' ? 'Success' : 'Error'}\r\n            type={popup.type}\r\n            theme={theme}\r\n          >\r\n            <p className={`text-sm sm:text-base mb-4 sm:mb-6 ${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n            }`}>\r\n              {popup.message}\r\n            </p>\r\n            <div className=\"flex justify-end\">\r\n              <button\r\n                onClick={() => setPopup({ show: false, message: '', type: '' })}\r\n                className={`px-4 sm:px-6 py-2 sm:py-3 font-semibold rounded-lg text-sm sm:text-base ${\r\n                  popup.type === 'success'\r\n                    ? 'bg-green-600 text-white'\r\n                    : 'bg-red-600 text-white'\r\n                }`}\r\n              >\r\n                OK\r\n              </button>\r\n            </div>\r\n          </Modal>\r\n        )}\r\n\r\n        {/* Delete Confirmation Modal */}\r\n        {deleteConfirmation.show && (\r\n          <Modal\r\n            onClose={() => setDeleteConfirmation({ show: false, achievementId: null })}\r\n            title=\"Delete Achievement\"\r\n            type=\"confirm\"\r\n            theme={theme}\r\n          >\r\n            <p className={`text-sm sm:text-base mb-4 sm:mb-6 ${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n            }`}>\r\n              Are you sure you want to delete this achievement? This action cannot be undone.\r\n            </p>\r\n            <div className=\"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4\">\r\n              <button\r\n                onClick={() => setDeleteConfirmation({ show: false, achievementId: null })}\r\n                className={`px-4 sm:px-6 py-2 sm:py-3 border-2 rounded-lg font-semibold text-sm sm:text-base ${\r\n                  theme === 'dark'\r\n                    ? 'border-gray-600 text-gray-300'\r\n                    : 'border-gray-300 text-gray-700'\r\n                }`}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={confirmDelete}\r\n                className=\"px-4 sm:px-6 py-2 sm:py-3 bg-red-600 text-white font-semibold rounded-lg text-sm sm:text-base\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Achivements;\r\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport {\r\n    Routes,\r\n    Route,\r\n    Navigate,\r\n    useLocation,\r\n    useNavigate,\r\n    useParams,\r\n} from \"react-router-dom\";\r\nimport About from \"./tabs/About\";\r\nimport Profile from \"./tabs/Profile\";\r\nimport Job from \"./tabs/Job\";\r\nimport Document from \"./tabs/Document\";\r\nimport Achievements from \"./tabs/Achievements\";\r\nimport { HiIdentification, HiPencil } from \"react-icons/hi\";\r\nimport {\r\n    MdWork,\r\n    MdBusiness,\r\n    MdEmail,\r\n    MdPerson,\r\n    MdChevronLeft,\r\n    MdChevronRight,\r\n    MdStar,\r\n    MdLocationOn,\r\n    MdEdit,\r\n} from \"react-icons/md\";\r\nimport { FaPhone, FaBuilding, FaCamera, FaTrash, FaTimes, FaExpand, FaCompress, FaChevronDown, FaCheckCircle, FaExclamationTriangle } from \"react-icons/fa\";\r\nimport { IoClose, IoDocumentText, IoCheckmarkCircle, IoWarning, IoAdd, IoTrash, IoPencil } from 'react-icons/io5';\r\nimport { publicinfoApi } from \"../../../../axiosInstance\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\n// =================================================================\r\n//  MODIFIED CustomNotification Component for Right Bottom Swipe-Out (1.5s)\r\n// =================================================================\r\nconst CustomNotification = ({ isOpen, onClose, type, title, message, theme }) => {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            // Show the notification instantly\r\n            setIsVisible(true); \r\n            // Set a timer to start closing after 1.5 seconds for auto-closing types\r\n            if (type === 'success' || type === 'error') {\r\n                const timer = setTimeout(() => {\r\n                    handleClose();\r\n                }, 1500); // **1.5 seconds**\r\n                return () => clearTimeout(timer);\r\n            }\r\n            // For 'info' type, it stays open until manually closed\r\n        } else {\r\n            // Reset visibility when isOpen is false\r\n            setIsVisible(false);\r\n        }\r\n    }, [isOpen, type, onClose]);\r\n    // Function to start the closing animation\r\n    const handleClose = () => {\r\n        setIsVisible(false);\r\n        // Wait for CSS transition (300ms) before calling parent's onClose\r\n        setTimeout(() => onClose(), 300); \r\n    };\r\n    if (!isOpen) return null;\r\n    const getIcon = () => {\r\n        switch (type) {\r\n            case 'success': return <FaCheckCircle className=\"w-6 h-6 text-green-500\" />;\r\n            case 'error': return <FaExclamationTriangle className=\"w-6 h-6 text-red-500\" />;\r\n            case 'info': return <IoWarning className=\"w-6 h-6 text-blue-500\" />;\r\n            default: return null;\r\n        }\r\n    };\r\n    const getTitleClass = () => {\r\n        switch (type) {\r\n            case 'success': return 'text-green-600 dark:text-green-400';\r\n            case 'error': return 'text-red-600 dark:text-red-400';\r\n            case 'info': return 'text-blue-600 dark:text-blue-400';\r\n            default: return theme === 'dark' ? 'text-white' : 'text-gray-800';\r\n        }\r\n    };\r\n    return (\r\n        //  POSITION MODIFIED: fixed bottom-4 right-4 for right-bottom position\r\n        //  TRANSITION MODIFIED: Using transform/opacity for swipe effect\r\n        <div className={`fixed bottom-4 right-4 z-[300] transition-all duration-300 ease-in-out\r\n            ${isVisible ? 'opacity-100 translate-x-0' : 'opacity-0 translate-x-full'}`}>\r\n            <div className={`p-4 rounded-xl shadow-2xl w-full max-w-xs sm:max-w-sm m-4 border ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n                <div className=\"flex items-center\">\r\n                    {getIcon()}\r\n                    <div className=\"ml-3 flex-1\">\r\n                        <h3 className={`text-md font-bold ${getTitleClass()}`}>{title}</h3>\r\n                        <p className={`text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{message}</p>\r\n                    </div>\r\n                    {/* Allow manual close for all types, in case user swipes before 1.5s */}\r\n                    <button onClick={handleClose} className=\"ml-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200\">\r\n                        <IoClose size={16} />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Custom Confirmation Modal Component (Unchanged)\r\nconst CustomConfirmModal = ({ isOpen, onClose, onConfirm, title, message, confirmText, isConfirming, theme, type = 'warning' }) => {\r\n    if (!isOpen) return null;\r\n    const getIcon = () => {\r\n        switch (type) {\r\n            case 'danger': return <FaExclamationTriangle className=\"w-6 h-6 text-red-500\" />;\r\n            case 'warning': return <IoWarning className=\"w-6 h-6 text-yellow-500\" />;\r\n            case 'info': return <IoWarning className=\"w-6 h-6 text-blue-500\" />;\r\n            default: return <IoWarning className=\"w-6 h-6 text-yellow-500\" />;\r\n        }\r\n    };\r\n    const getConfirmButtonClass = () => {\r\n        switch (type) {\r\n            case 'danger': return 'bg-red-600 hover:bg-red-700';\r\n            case 'warning': return 'bg-yellow-600 hover:bg-yellow-700';\r\n            case 'info': return 'bg-blue-600 hover:bg-blue-700';\r\n            default: return 'bg-yellow-600 hover:bg-yellow-700';\r\n        }\r\n    };\r\n    return (\r\n        <div className={`fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] transition-opacity duration-300`}>\r\n            <motion.div\r\n                initial={{ scale: 0.95, y: 20 }}\r\n                animate={{ scale: 1, y: 0 }}\r\n                exit={{ scale: 0.95, y: 20 }}\r\n                className={`p-6 rounded-3xl shadow-2xl w-full max-w-md m-4 border ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"flex items-center mb-4\">\r\n                    {getIcon()}\r\n                    <h3 className={`text-xl font-bold ml-3 ${type === 'danger' ? 'text-red-600' : 'text-yellow-600'} dark:text-white`}>{title}</h3>\r\n                    <button onClick={onClose} className=\"ml-auto p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200\">\r\n                        <FaTimes size={20} />\r\n                    </button>\r\n                </div>\r\n                <p className={`mb-6 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{message}</p>\r\n                <div className=\"flex justify-end space-x-3\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className={`px-4 py-2 rounded-lg font-medium transition-colors ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`}\r\n                        disabled={isConfirming}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button\r\n                        onClick={onConfirm}\r\n                        disabled={isConfirming}\r\n                        className={`px-4 py-2 rounded-lg font-medium text-white transition-colors flex items-center ${getConfirmButtonClass()} ${isConfirming ? 'opacity-75 cursor-not-allowed' : ''}`}\r\n                    >\r\n                        {isConfirming ? (\r\n                            <>\r\n                                <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                                Processing...\r\n                            </>\r\n                        ) : (\r\n                            confirmText\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </motion.div>\r\n        </div>\r\n    );\r\n};\r\n// =================================================================\r\n\r\nconst Profiles = () => {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const { empID } = useParams();\r\n    const { userprofiledata, setUserProfileData, theme, userData, matchedArray } = useContext(Context);\r\n    const searchParams = new URLSearchParams(location.search);\r\n    const fromContextMenu = searchParams.get(\"fromContextMenu\") === \"true\";\r\n    const targetEmployeeId = searchParams.get(\"targetEmployeeId\");\r\n    const profileEmployeeId = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n    const isOwnProfile = profileEmployeeId === empID;\r\n    const isAdmin = userData?.roles?.[0]?.toUpperCase() === 'ADMIN';\r\n    const canEditHeader = isOwnProfile || (isAdmin && !isOwnProfile);\r\n    \r\n    const [activeTab, setActiveTab] = useState(location.pathname);\r\n    const [depdata, setDeptdata] = useState([]);\r\n    const [sidebarOpen, setSidebarOpen] = useState(true);\r\n    const [profileImagePreview, setProfileImagePreview] = useState(null);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [employeeData, setEmployeeData] = useState({});\r\n    const [viewedEmployeeData, setViewedEmployeeData] = useState(null);\r\n    const [headerData, setHeaderData] = useState(null);\r\n    const [viewedEmployeeHeaderData, setViewedEmployeeHeaderData] = useState(null);\r\n    const [isEditingHeader, setIsEditingHeader] = useState(false);\r\n    const [editingHeaderData, setEditingHeaderData] = useState({});\r\n    \r\n    //  NEW: Add states for change detection and error handling\r\n    const [initialHeaderData, setInitialHeaderData] = useState({});\r\n    const [formError, setFormError] = useState(null);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    //  NEW: Add mobile validation error state\r\n    const [mobileError, setMobileError] = useState(null);\r\n    \r\n    const [isImageModalOpen, setIsImageModalOpen] = useState(false);\r\n    const [isImageFullView, setIsImageFullView] = useState(false);\r\n    const fileInputRef = useRef(null);\r\n    \r\n    // Department dropdown states\r\n    const [departmentDropdownOpen, setDepartmentDropdownOpen] = useState(false);\r\n    const [departmentPage, setDepartmentPage] = useState(0);\r\n    const [departmentLoading, setDepartmentLoading] = useState(false);\r\n    const [departmentHasMore, setDepartmentHasMore] = useState(true);\r\n    const [allDepartments, setAllDepartments] = useState([]);\r\n    const [selectedDepartmentDisplay, setSelectedDepartmentDisplay] = useState('');\r\n    const [selectedDepartmentValue, setSelectedDepartmentValue] = useState('');\r\n    const departmentDropdownRef = useRef(null);\r\n    \r\n    // --- Custom Notification/Modal States ---\r\n    const [notification, setNotification] = useState({\r\n        isOpen: false,\r\n        type: '',\r\n        title: '',\r\n        message: ''\r\n    });\r\n    const [confirmModal, setConfirmModal] = useState({\r\n        isOpen: false,\r\n        title: '',\r\n        message: '',\r\n        confirmText: '',\r\n        onConfirm: null,\r\n        type: 'warning',\r\n        isConfirming: false\r\n    });\r\n    \r\n    const showNotification = (type, title, message) => {\r\n        setNotification({ isOpen: true, type, title, message });\r\n    };\r\n    const closeNotification = () => {\r\n        setNotification({ isOpen: false, type: '', title: '', message: '' });\r\n    };\r\n    const showConfirmModal = (title, message, confirmText, onConfirm, type = 'warning') => {\r\n        setConfirmModal({\r\n            isOpen: true,\r\n            title,\r\n            message,\r\n            confirmText,\r\n            onConfirm,\r\n            type,\r\n            isConfirming: false\r\n        });\r\n    };\r\n    const closeConfirmModal = () => {\r\n        setConfirmModal({\r\n            isOpen: false,\r\n            title: '',\r\n            message: '',\r\n            confirmText: '',\r\n            onConfirm: null,\r\n            type: 'warning',\r\n            isConfirming: false\r\n        });\r\n    };\r\n    // ----------------------------------------\r\n    \r\n    // Define computed variables AFTER state variables\r\n    const display = !isOwnProfile ? viewedEmployeeData : userprofiledata;\r\n    const displayHeader = !isOwnProfile ? (viewedEmployeeHeaderData || viewedEmployeeData) : (headerData || userprofiledata);\r\n    const initials = (displayHeader?.name || displayHeader?.displayName || display?.displayName || \"  \")\r\n        .split(\" \")\r\n        .map(w => w[0])\r\n        .join(\"\")\r\n        .substring(0, 2);\r\n    \r\n    const tabs = [\r\n        { name: \"About\", path: \"about\", icon: MdPerson },\r\n        { name: \"Profile\", path: \"profile\", icon: HiIdentification },\r\n        { name: \"Job\", path: \"job\", icon: MdWork },\r\n        { name: \"Documents\", path: \"documents\", icon: MdBusiness },\r\n        { name: \"Achievements\", path: \"achievements\", icon: MdStar },\r\n    ];\r\n\r\n    //  NEW: Mobile number validation function\r\n    const validateMobileNumber = (number) => {\r\n        // Remove all non-digit characters for validation\r\n        const cleanNumber = number.replace(/\\D/g, '');\r\n        \r\n        if (cleanNumber.length === 11) {\r\n            return {\r\n                isValid: false,\r\n                error: \"Mobile number cannot be 11 digits. Please enter a 10-digit mobile number.\"\r\n            };\r\n        }\r\n        \r\n        if (cleanNumber.length > 0 && cleanNumber.length < 10) {\r\n            return {\r\n                isValid: false,\r\n                error: \"Mobile number must be at least 10 digits.\"\r\n            };\r\n        }\r\n        \r\n        if (cleanNumber.length > 12) {\r\n            return {\r\n                isValid: false,\r\n                error: \"Mobile number cannot exceed 12 digits.\"\r\n            };\r\n        }\r\n        \r\n        return {\r\n            isValid: true,\r\n            error: null\r\n        };\r\n    };\r\n\r\n    //  NEW: Function to check if form has changes\r\n    const hasFormChanges_ProfileOriginal = () => {\r\n        const currentData = {\r\n            ...editingHeaderData,\r\n            department: selectedDepartmentValue || editingHeaderData.department\r\n        };\r\n        \r\n        return Object.keys(currentData).some(key => \r\n            currentData[key] !== initialHeaderData[key]\r\n        );\r\n    };\r\n\r\n    // Load initial departments\r\n    useEffect(() => {\r\n        fetchDepartments(0, true);\r\n    }, []);\r\n\r\n    const fetchDepartments = async (page = 0, reset = false) => {\r\n        if (departmentLoading) return;\r\n        setDepartmentLoading(true);\r\n        try {\r\n            const response = await publicinfoApi.get(`employee/${page}/10/departmentId/asc/all/departments`);\r\n            console.log(\"Department Response:\", response.data);\r\n            if (reset) {\r\n                setAllDepartments(response.data.content);\r\n            } else {\r\n                setAllDepartments(prev => [...prev, ...response.data.content]);\r\n            }\r\n            setDepartmentHasMore(response.data.length === 10);\r\n            setDepartmentPage(page);\r\n        } catch (error) {\r\n            console.log(\"Error fetching departments:\", error);\r\n            setDepartmentHasMore(false);\r\n        } finally {\r\n            setDepartmentLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDepartmentScroll = (e) => {\r\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n        if (scrollHeight - scrollTop <= clientHeight + 5 && departmentHasMore && !departmentLoading) {\r\n            fetchDepartments(departmentPage + 1, false);\r\n        }\r\n    };\r\n\r\n    const handleDepartmentSelect = (department) => {\r\n        setSelectedDepartmentDisplay(`${department.departmentId}(${department.departmentName})`);\r\n        setSelectedDepartmentValue(department.departmentName);\r\n        setEditingHeaderData(prev => ({\r\n            ...prev,\r\n            department: department.departmentName\r\n        }));\r\n        setDepartmentDropdownOpen(false);\r\n    };\r\n\r\n    // Initialize department values when editing starts\r\n    useEffect(() => {\r\n        if (isEditingHeader && displayHeader?.department) {\r\n            setSelectedDepartmentValue(displayHeader.department);\r\n            const matchingDept = allDepartments.find(dept =>\r\n                dept.departmentName === displayHeader.department ||\r\n                displayHeader.department.includes(dept.departmentName)\r\n            );\r\n            if (matchingDept) {\r\n                setSelectedDepartmentDisplay(`${matchingDept.departmentId}(${matchingDept.departmentName})`);\r\n            } else {\r\n                setSelectedDepartmentDisplay(displayHeader.department);\r\n            }\r\n        }\r\n    }, [isEditingHeader, displayHeader?.department, allDepartments]);\r\n\r\n    // Close dropdown when clicking outside\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            if (departmentDropdownRef.current && !departmentDropdownRef.current.contains(event.target)) {\r\n                setDepartmentDropdownOpen(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener('mousedown', handleClickOutside);\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!profileEmployeeId) return;\r\n        const fetchEmployeeDetails = async () => {\r\n            try {\r\n                const response = await publicinfoApi.get(`employee/${profileEmployeeId}`);\r\n                const headerResponse = await publicinfoApi.get(`employee/${profileEmployeeId}/header`);\r\n                if (fromContextMenu && targetEmployeeId && targetEmployeeId !== empID) {\r\n                    setViewedEmployeeData(response.data);\r\n                    setViewedEmployeeHeaderData(headerResponse.data);\r\n                } else {\r\n                    setUserProfileData(response.data);\r\n                    setEmployeeData(response.data);\r\n                    setHeaderData(headerResponse.data);\r\n                }\r\n            } catch (err) {\r\n                console.error(\" Error fetching details:\", err);\r\n                try {\r\n                    const response = await publicinfoApi.get(`employee/${profileEmployeeId}`);\r\n                    if (fromContextMenu && targetEmployeeId && targetEmployeeId !== empID) {\r\n                        setViewedEmployeeData(response.data);\r\n                    } else {\r\n                        setUserProfileData(response.data);\r\n                        setEmployeeData(response.data);\r\n                    }\r\n                } catch (mainErr) {\r\n                    console.error(\" Error fetching main employee details:\", mainErr);\r\n                }\r\n            }\r\n        };\r\n        fetchEmployeeDetails();\r\n    }, [profileEmployeeId, setUserProfileData, fromContextMenu, targetEmployeeId, empID]);\r\n\r\n    useEffect(() => {\r\n        setActiveTab(location.pathname);\r\n    }, [location.pathname]);\r\n\r\n const handleImageUpload = async (e) => {\r\n  const file = e.target.files[0];\r\n  if (!file) return;\r\n\r\n  //  Preview the selected image before upload\r\n  const reader = new FileReader();\r\n  reader.onloadend = () => setProfileImagePreview(reader.result);\r\n  reader.readAsDataURL(file);\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"employeeImage\", file);\r\n\r\n  try {\r\n    const res = await publicinfoApi.post(\r\n      `employee/${profileEmployeeId}/upload`,\r\n      formData,\r\n      { headers: { \"Content-Type\": \"multipart/form-data\" } }\r\n    );\r\n\r\n    //  If not own profile, update viewed employee data\r\n    if (!isOwnProfile) {\r\n      setViewedEmployeeHeaderData((prev) => ({\r\n        ...prev,\r\n        employeeImage: res.data.employeeImage,\r\n      }));\r\n    } \r\n    //  If its own profile\r\n    else {\r\n      // 1 Update React header state (UI updates immediately)\r\n      setHeaderData((prev) => ({\r\n        ...prev,\r\n        employeeImage: res.data.employeeImage,\r\n      }));\r\n\r\n      // 2 Check if \"loggedInUserImage\" exists\r\n      const existingImage = localStorage.getItem(\"loggedInUserImage\");\r\n\r\n      if (existingImage) {\r\n        console.log(\" Key exists  updating stored image address...\");\r\n      } else {\r\n        console.log(\" Key not found  creating new key and storing image address...\");\r\n      }\r\n\r\n      // 3 Either way, set the image (setItem creates or updates)\r\n      localStorage.setItem(\"loggedInUserImage\", res.data.employeeImage);\r\n    }\r\n\r\n    //  Show success message and close modals\r\n    showNotification(\"success\", \"Success\", \"Profile picture updated successfully!\");\r\n    setIsImageModalOpen(false);\r\n    setIsImageFullView(false);\r\n  } catch (err) {\r\n    console.error(\"Error uploading image:\", err);\r\n    showNotification(\"error\", \"Error\", \"Failed to upload image. Please try again.\");\r\n    setProfileImagePreview(null);\r\n  }\r\n};\r\n\r\n\r\n    const handleDeleteImage = () => {\r\n    showConfirmModal(\r\n      'Confirm Delete',\r\n      'Are you sure you want to delete the profile picture? This action cannot be undone.',\r\n      'Delete',\r\n      async () => {\r\n        setConfirmModal(prev => ({ ...prev, isConfirming: true }));\r\n        try {\r\n          await publicinfoApi.delete(`employee/${profileEmployeeId}/deleteImage`);\r\n          if (!isOwnProfile) {\r\n            setViewedEmployeeHeaderData(prev => ({ ...prev, employeeImage: null }));\r\n          } else {\r\n            setHeaderData(prev => ({ ...prev, employeeImage: null }));\r\n            //  ADD THIS LINE to remove from local storage\r\n            localStorage.removeItem(\"loggedInUserImage\");\r\n          }\r\n          setProfileImagePreview(null);\r\n          closeConfirmModal();\r\n          showNotification('success', 'Success', 'Profile picture deleted successfully!');\r\n          setIsImageModalOpen(false);\r\n          setIsImageFullView(false);\r\n        } catch (err) {\r\n          console.error(\"Error deleting image:\", err);\r\n          closeConfirmModal();\r\n          showNotification('error', 'Error', 'Failed to delete image. Please try again.');\r\n        }\r\n      },\r\n      'danger'\r\n    );\r\n  };\r\n\r\n    const handleEditClick = () => {\r\n        setEmployeeData(display);\r\n        setIsEditing(true);\r\n    };\r\n\r\n    const handleSave = e => {\r\n        e.preventDefault();\r\n        // Assuming this will eventually call an API and show a notification\r\n        setIsEditing(false);\r\n    };\r\n\r\n    const handleInputChange = e => {\r\n        setEmployeeData(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n    };\r\n\r\n    //  MODIFIED: handleHeaderEditClick to store initial data for comparison\r\n    const handleHeaderEditClick = () => {\r\n        if (!canEditHeader) return;\r\n        const currentData = displayHeader || {};\r\n        setEditingHeaderData(currentData);\r\n        setInitialHeaderData(currentData); // Store initial state for comparison\r\n        setFormError(null); // Clear any previous errors\r\n        setMobileError(null); // Clear mobile validation error\r\n        setIsEditingHeader(true);\r\n    };\r\n\r\n    //  MODIFIED: handleHeaderSave with change detection and error handling\r\n    const handleHeaderSave = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        // Clear any previous errors\r\n        setFormError(null);\r\n        setMobileError(null);\r\n        \r\n        //  NEW: Validate mobile number first\r\n        if (editingHeaderData.contact) {\r\n            const mobileValidation = validateMobileNumber(editingHeaderData.contact);\r\n            if (!mobileValidation.isValid) {\r\n                setMobileError(mobileValidation.error);\r\n                return;\r\n            }\r\n        }\r\n        \r\n        // Check if there are any changes\r\n        if (!hasFormChanges_ProfileOriginal()) {\r\n            showConfirmModal(\r\n                'No Changes Detected',\r\n                'You haven\\'t made any changes to the form. Please make some changes before submitting.',\r\n                'OK',\r\n                () => {\r\n                    closeConfirmModal();\r\n                },\r\n                'info'\r\n            );\r\n            return;\r\n        }\r\n\r\n        setIsSubmitting(true);\r\n        \r\n        try {\r\n            const payload = {\r\n                ...editingHeaderData,\r\n                department: selectedDepartmentValue || editingHeaderData.department\r\n            };\r\n            console.log(\"Sending payload:\", payload);\r\n            const res = await publicinfoApi.put(`employee/${profileEmployeeId}/header`, payload);\r\n            \r\n            //  PRESERVE existing employeeImage when updating\r\n            if (!isOwnProfile) {\r\n                setViewedEmployeeHeaderData(prev => ({\r\n                    ...res.data,\r\n                    employeeImage: prev?.employeeImage || res.data.employeeImage\r\n                }));\r\n            } else {\r\n                setHeaderData(prev => ({\r\n                    ...res.data,\r\n                    employeeImage: prev?.employeeImage || res.data.employeeImage\r\n                }));\r\n            }\r\n            \r\n            setIsEditingHeader(false);\r\n            setSelectedDepartmentDisplay('');\r\n            setSelectedDepartmentValue('');\r\n            setFormError(null);\r\n            setMobileError(null);\r\n            showNotification('success', 'Success', 'Header information updated successfully!');\r\n            \r\n        } catch (err) {\r\n            console.error(\" Error updating header:\", err);\r\n            \r\n            // Handle different types of API errors\r\n            let errorMessage = 'Failed to update header information. Please try again.';\r\n            \r\n            if (err.response?.data?.message) {\r\n                errorMessage = err.response.data.message;\r\n            } else if (err.response?.data?.error) {\r\n                errorMessage = err.response.data.error;\r\n            } else if (err.response?.status === 400) {\r\n                errorMessage = 'Invalid data provided. Please check all fields and try again.';\r\n            } else if (err.response?.status === 401) {\r\n                errorMessage = 'You are not authorized to perform this action.';\r\n            } else if (err.response?.status === 403) {\r\n                errorMessage = 'Access denied. You don\\'t have permission to edit this information.';\r\n            } else if (err.response?.status === 404) {\r\n                errorMessage = 'Employee not found. Please refresh the page and try again.';\r\n            } else if (err.response?.status >= 500) {\r\n                errorMessage = 'Server error occurred. Please try again later.';\r\n            }\r\n            \r\n            // Set the error to display below the form\r\n            setFormError(errorMessage);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    //  MODIFIED: handleHeaderInputChange with mobile validation\r\n    const handleHeaderInputChange = e => {\r\n        const { name, value } = e.target;\r\n        \r\n        //  NEW: Special handling for contact field\r\n        if (name === 'contact') {\r\n            // Clear mobile error when user starts typing\r\n            setMobileError(null);\r\n            \r\n            // Validate on every change for immediate feedback\r\n            if (value.length > 0) {\r\n                const validation = validateMobileNumber(value);\r\n                if (!validation.isValid) {\r\n                    setMobileError(validation.error);\r\n                }\r\n            }\r\n        }\r\n        \r\n        setEditingHeaderData(prev => ({ ...prev, [name]: value }));\r\n        \r\n        // Clear form error when user starts typing\r\n        if (formError) {\r\n            setFormError(null);\r\n        }\r\n    };\r\n\r\n    const handleTabClick = path => {\r\n        const base = `/profile/${empID}/${path}`;\r\n        navigate(fromContextMenu && targetEmployeeId ? `${base}?fromContextMenu=true&targetEmployeeId=${targetEmployeeId}` : base);\r\n    };\r\n\r\n    const handleImageFullView = () => {\r\n        setIsImageFullView(true);\r\n    };\r\n\r\n    const handleCloseFullView = () => {\r\n        setIsImageFullView(false);\r\n    };\r\n\r\n    const handleModalClose = () => {\r\n        setIsImageModalOpen(false);\r\n        setIsImageFullView(false);\r\n    };\r\n\r\n    // Add new address function\r\n    const handleAddAddress = () => {\r\n        // Implementation for adding new address\r\n        showNotification('info', 'Info', 'Add address functionality would be implemented here');\r\n    };\r\n\r\n    // Delete address function\r\n    const handleDeleteAddress = (addressId) => {\r\n        showConfirmModal(\r\n            'Confirm Delete',\r\n            'Are you sure you want to delete this address?',\r\n            'Delete',\r\n            () => {\r\n                // Implementation for deleting address\r\n                showNotification('success', 'Success', 'Address deleted successfully!');\r\n            },\r\n            'danger'\r\n        );\r\n    };\r\n\r\n    // Add new job function\r\n    const handleAddJob = () => {\r\n        // Implementation for adding new job\r\n        showNotification('info', 'Info', 'Add job functionality would be implemented here');\r\n    };\r\n\r\n    // Delete job function\r\n    const handleDeleteJob = (jobId) => {\r\n        showConfirmModal(\r\n            'Confirm Delete',\r\n            'Are you sure you want to delete this job record?',\r\n            'Delete',\r\n            () => {\r\n                // Implementation for deleting job\r\n                showNotification('success', 'Success', 'Job record deleted successfully!');\r\n            },\r\n            'danger'\r\n        );\r\n    };\r\n\r\n    // Add new document function\r\n    const handleAddDocument = () => {\r\n        // Implementation for adding new document\r\n        showNotification('info', 'Info', 'Add document functionality would be implemented here');\r\n    };\r\n\r\n    // Delete document function\r\n    const handleDeleteDocument = (documentId) => {\r\n        showConfirmModal(\r\n            'Confirm Delete',\r\n            'Are you sure you want to delete this document?',\r\n            'Delete',\r\n            () => {\r\n                // Implementation for deleting document\r\n                showNotification('success', 'Success', 'Document deleted successfully!');\r\n            },\r\n            'danger'\r\n        );\r\n    };\r\n\r\n    // Add new achievement function\r\n    const handleAddAchievement = () => {\r\n        // Implementation for adding new achievement\r\n        showNotification('info', 'Info', 'Add achievement functionality would be implemented here');\r\n    };\r\n\r\n    // Delete achievement function\r\n    const handleDeleteAchievement = (achievementId) => {\r\n        showConfirmModal(\r\n            'Confirm Delete',\r\n            'Are you sure you want to delete this achievement?',\r\n            'Delete',\r\n            () => {\r\n                // Implementation for deleting achievement\r\n                showNotification('success', 'Success', 'Achievement deleted successfully!');\r\n            },\r\n            'danger'\r\n        );\r\n    };\r\n\r\n    const renderMobile = () => (\r\n        <div className=\"md:hidden\">\r\n            <div className={`relative p-4 w-full max-w-md mx-auto rounded-xl ${theme === 'dark' ? 'bg-gray-800' : 'bg-[#B7D4FF]'}`}>\r\n                {matchedArray.includes(\"PROFILE_EDIT_HEADER\") && (\r\n                    <button\r\n                        onClick={handleHeaderEditClick}\r\n                        className={`absolute top-2 right-2 p-2 rounded-full transition-colors ${theme === 'dark' ? 'text-gray-300 hover:text-white hover:bg-gray-700' : 'text-gray-600 hover:text-black hover:bg-gray-200'}`}\r\n                        title=\"Edit Header\"\r\n                    >\r\n                        <MdEdit className=\"w-4 h-4\" />\r\n                    </button>\r\n                )}\r\n                {/* Name on top */}\r\n                <div className={`font-bold text-lg text-center mb-2 mx-auto ${theme === 'dark' ? 'text-white' : 'text-black'}`}>\r\n                    {displayHeader?.name || display?.displayName}\r\n                </div>\r\n                {/* Table-like layout: 3 columns without borders */}\r\n                <div className={`grid grid-cols-3 gap-x-2 text-xs ${theme === 'dark' ? 'text-white' : 'text-black'}`}>\r\n                    {/* Column 1: Profile Picture - LEFT aligned */}\r\n                    <div className=\"flex justify-start items-center\" style={{ transform: 'translateY(-18px)' }}>\r\n                        <div onClick={() => setIsImageModalOpen(true)} className=\"cursor-pointer\">\r\n                            {displayHeader?.employeeImage || profileImagePreview ? (\r\n                                <img\r\n                                    src={profileImagePreview || displayHeader.employeeImage}\r\n                                    alt=\"Profile\"\r\n                                    className=\"w-16 h-16 rounded-full border border-white shadow object-cover\"\r\n                                />\r\n                            ) : (\r\n                                <div className=\"w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold text-base\">\r\n                                    {initials}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    {/* Column 2: First 3 Details - More LEFT with spacing */}\r\n                    <div className=\"space-y-3 -ml-2\">\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <HiIdentification className=\"flex-shrink-0\" />\r\n                            <span className=\"truncate\">{displayHeader?.employeeId}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <MdWork className=\"flex-shrink-0\" />\r\n                            <span className=\"truncate\">{displayHeader?.jobTitlePrimary}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <MdEmail className=\"flex-shrink-0\" />\r\n                            <span className=\"truncate\">{displayHeader?.workEmail}</span>\r\n                        </div>\r\n                    </div>\r\n                    {/* Column 3: Next 3 Details - More gap from column 2 */}\r\n                    <div className=\"space-y-3 pl-2\">\r\n                        {displayHeader?.department && (\r\n                            <div className=\"flex items-center space-x-2\">\r\n                                <MdBusiness className=\"flex-shrink-0\" />\r\n                                <span className=\"truncate\">{displayHeader.department}</span>\r\n                            </div>\r\n                        )}\r\n                        {displayHeader?.contact && (\r\n                            <div className=\"flex items-center space-x-2\">\r\n                                <FaPhone className=\"flex-shrink-0\" />\r\n                                <span className=\"truncate\">{displayHeader.contact}</span>\r\n                            </div>\r\n                        )}\r\n                        {displayHeader?.location && (\r\n                            <div className=\"flex items-center space-x-2\">\r\n                                <MdLocationOn className=\"flex-shrink-0\" />\r\n                                <span className=\"truncate\">{displayHeader.location}</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/* FIXED MOBILE NAVBAR - Perfect Equal Spacing */}\r\n            <div className={`sticky top-0 z-[1] flex w-full max-w-md mx-auto border-t ${theme === 'dark' ? 'border-gray-700 bg-gray-800' : 'border-black bg-[#B7D4FF]'}`}>\r\n                {tabs.map(tab => {\r\n                    const active = location.pathname.endsWith(tab.path);\r\n                    return (\r\n                        <button\r\n                            key={tab.name}\r\n                            onClick={() => handleTabClick(tab.path)}\r\n                            className={`flex-1 py-2 px-1 text-xs text-center rounded transition-all duration-200 ${\r\n                                active\r\n                                    ? `${theme === 'dark' ? 'text-white border-b-2 border-white' : 'text-black border-b-2 border-black'} font-semibold`\r\n                                    : `${theme === 'dark' ? 'text-gray-400 hover:text-gray-200' : 'text-black opacity-50 hover:opacity-75'}`\r\n                                }`}\r\n                        >\r\n                            {tab.name}\r\n                        </button>\r\n                    );\r\n                })}\r\n            </div>\r\n            <div className=\"max-w-md mx-auto p-3\">\r\n                <Routes>\r\n                    <Route index element={<Navigate to=\"profile\" replace />} />\r\n                    {/*  FIX APPLIED HERE */}\r\n                    <Route path=\"about\" element={<About />} /> \r\n                    <Route path=\"profile\" element={<Profile />} />\r\n                    <Route path=\"job\" element={<Job />} />\r\n                    <Route path=\"documents\" element={<Document />} />\r\n                    <Route path=\"achievements\" element={<Achievements />} />\r\n                </Routes>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className={`min-h-screen flex flex-col ${theme === \"dark\" ? \"bg-gray-900\" : \"bg-gray-50\"}`}>\r\n            <div className={`hidden md:block h-auto md:h-48 relative ${theme === \"dark\" ? \"bg-gray-800\" : \"bg-[#B7D4FF]\"}`}>\r\n                {matchedArray.includes(\"PROFILE_EDIT_HEADER\") && (\r\n                    <button\r\n                        onClick={handleHeaderEditClick}\r\n                        className={`absolute top-4 right-8 p-2 rounded-full transition-colors ${theme === 'dark' ? 'text-gray-300 hover:text-white hover:bg-gray-700' : 'text-gray-600 hover:text-black hover:bg-gray-200'}`}\r\n                        title=\"Edit Header Information\"\r\n                    >\r\n                        <MdEdit className=\"w-5 h-5\" />\r\n                    </button>\r\n                )}\r\n                <div className=\"flex items-start pt-4 px-8\">\r\n                    <div className=\"relative group cursor-pointer\" onClick={() => canEditHeader && setIsImageModalOpen(true)}>\r\n                        {displayHeader?.employeeImage || profileImagePreview ? (\r\n                            <img\r\n                                src={profileImagePreview || displayHeader.employeeImage}\r\n                                alt=\"Profile\"\r\n                                className=\"w-24 h-24 md:w-32 md:h-32 rounded-full border border-white shadow object-cover\"\r\n                            />\r\n                        ) : (\r\n                            <div className=\"w-24 h-24 md:w-32 md:h-32 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold text-5xl md:text-6xl\">\r\n                                {initials}\r\n                            </div>\r\n                        )}\r\n                        {canEditHeader && (\r\n                            <div className=\"absolute inset-0 rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 flex items-center justify-center\">\r\n                                <FaCamera className=\"text-white text-3xl\" />\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className={`ml-8 ${theme === 'dark' ? 'text-white' : 'text-black'}`}>\r\n                        <h1 className=\"text-3xl font-bold\">{displayHeader?.name || display?.displayName}</h1>\r\n                        <div className={`grid grid-cols-1 sm:grid-cols-2 gap-x-10 gap-y-2 mt-2 ${theme === 'dark' ? 'text-white' : 'text-black'}`}>\r\n                            <div className=\"flex items-center space-x-2\"><HiIdentification /> <span>{displayHeader?.employeeId}</span></div>\r\n                            <div className=\"flex items-center space-x-2\"><MdWork /> <span>{displayHeader?.jobTitlePrimary}</span></div>\r\n                            <div className=\"flex items-center space-x-2\"><MdEmail /> <span>{displayHeader?.workEmail}</span></div>\r\n                            {displayHeader?.department && (\r\n                                <div className=\"flex items-center space-x-2\"><MdBusiness /> <span>{displayHeader.department}</span></div>\r\n                            )}\r\n                            {displayHeader?.contact && (\r\n                                <div className=\"flex items-center space-x-2\"><FaPhone /> <span>{displayHeader.contact}</span></div>\r\n                            )}\r\n                            {displayHeader?.location && (\r\n                                <div className=\"flex items-center space-x-2\"><MdLocationOn /> <span>{displayHeader.location}</span></div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {renderMobile()}\r\n            <div className=\"hidden md:flex flex-1\">\r\n                <main className={`flex-1 p-6 ${theme === \"dark\" ? \"bg-gray-900\" : \"bg-gray-50\"}`}>\r\n                    <Routes>\r\n                        <Route index element={<Navigate to=\"profile\" replace />} />\r\n                        <Route path=\"about\" element={\r\n                            <div className=\"relative\">\r\n                                {matchedArray.includes(\"CREATE_ADDRESS\") && (\r\n                                    <button\r\n                                        onClick={handleAddAddress}\r\n                                        className=\"absolute top-0 right-10 p-2 rounded-full transition-colors\"\r\n                                        title=\"Add Address\"\r\n                                    >\r\n                                        <IoAdd className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                {matchedArray.includes(\"DELETE_ADDRESS\") && (\r\n                                    <button\r\n                                        onClick={() => handleDeleteAddress(1)}\r\n                                        className=\"absolute top-0 right-0 p-2 rounded-full transition-colors\"\r\n                                        title=\"Delete Address\"\r\n                                    >\r\n                                        <IoTrash className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                <About />\r\n                            </div>\r\n                        } />\r\n                        <Route path=\"profile\" element={\r\n                            <div className=\"relative\">\r\n                                {matchedArray.includes(\"CREATE_PROFILE\") && (\r\n                                    <button\r\n                                        onClick={handleEditClick}\r\n                                        className=\"absolute top-0 right-0 p-2 rounded-full transition-colors\"\r\n                                        title=\"Edit Profile\"\r\n                                    >\r\n                                        <IoPencil className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                <Profile />\r\n                            </div>\r\n                        } />\r\n                        <Route path=\"job\" element={\r\n                            <div className=\"relative\">\r\n                                {matchedArray.includes(\"CREATE_JOB\") && (\r\n                                    <button\r\n                                        onClick={handleAddJob}\r\n                                        className=\"absolute top-0 right-10 p-2 rounded-full transition-colors\"\r\n                                        title=\"Add Job\"\r\n                                    >\r\n                                        <IoAdd className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                {matchedArray.includes(\"DELETE_JOB\") && (\r\n                                    <button\r\n                                        onClick={() => handleDeleteJob(1)}\r\n                                        className=\"absolute top-0 right-0 p-2 rounded-full transition-colors\"\r\n                                        title=\"Delete Job\"\r\n                                    >\r\n                                        <IoTrash className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                <Job />\r\n                            </div>\r\n                        } />\r\n                        <Route path=\"documents\" element={\r\n                            <div className=\"relative\">\r\n                                {matchedArray.includes(\"CREATE_DOCUMENT\") && (\r\n                                    <button\r\n                                        onClick={handleAddDocument}\r\n                                        className=\"absolute top-0 right-10 p-2 rounded-full transition-colors\"\r\n                                        title=\"Add Document\"\r\n                                    >\r\n                                        <IoAdd className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                {matchedArray.includes(\"DELETE_DOCUMENT\") && (\r\n                                    <button\r\n                                        onClick={() => handleDeleteDocument(1)}\r\n                                        className=\"absolute top-0 right-0 p-2 rounded-full transition-colors\"\r\n                                        title=\"Delete Document\"\r\n                                    >\r\n                                        <IoTrash className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                <Document />\r\n                            </div>\r\n                        } />\r\n                        <Route path=\"achievements\" element={\r\n                            <div className=\"relative\">\r\n                                {matchedArray.includes(\"CREATE_ACHIEVEMENT\") && (\r\n                                    <button\r\n                                        onClick={handleAddAchievement}\r\n                                        className=\"absolute top-0 right-10 p-2 rounded-full transition-colors\"\r\n                                        title=\"Add Achievement\"\r\n                                    >\r\n                                        {/* <IoAdd className=\"w-5 h-5\" /> */}\r\n                                    </button>\r\n                                )}\r\n                                {matchedArray.includes(\"DELETE_ACHIEVEMENT\") && (\r\n                                    <button\r\n                                        onClick={() => handleDeleteAchievement(1)}\r\n                                        className=\"absolute top-0 right-0 p-2 rounded-full transition-colors\"\r\n                                        title=\"Delete Achievement\"\r\n                                    >\r\n                                        {/* <IoTrash className=\"w-5 h-5\" /> */}\r\n                                    </button>\r\n                                )}\r\n                                <Achievements />\r\n                            </div>\r\n                        } />\r\n                    </Routes>\r\n                </main>\r\n                <div className={`transition-all ${sidebarOpen ? \"w-64\" : \"w-20\"} border-l ${theme === \"dark\" ? \"bg-gray-900 border-gray-700\" : \"bg-gray-50 border-gray-200\"}`}>\r\n                    <button\r\n                        onClick={() => setSidebarOpen(!sidebarOpen)}\r\n                        className={`absolute -left-3 top-4 rounded-full border p-1 shadow z-10 ${theme === \"dark\" ? \"bg-gray-800 border-gray-600 hover:bg-gray-700 text-white\" : \"bg-white border-gray-300 hover:bg-gray-100 text-gray-600\"}`}\r\n                    >\r\n                        {sidebarOpen ? <MdChevronRight /> : <MdChevronLeft />}\r\n                    </button>\r\n                    <nav className=\"p-4 sticky top-0\">\r\n                        {tabs.map(tab => {\r\n                            const active = location.pathname.endsWith(tab.path);\r\n                            return (\r\n                                <div key={tab.path} onClick={() => handleTabClick(tab.path)} className={`flex items-center gap-3 px-4 py-3 rounded-lg cursor-pointer ${active ? (theme === \"dark\" ? \"bg-blue-600 text-white\" : \"bg-black text-white\") : (theme === \"dark\" ? \"text-gray-300 hover:bg-gray-800\" : \"text-gray-700 hover:bg-gray-100\")}`}>\r\n                                    <tab.icon className={`w-5 h-5 ${active ? \"text-white\" : (theme === \"dark\" ? \"text-gray-400\" : \"text-gray-500\")}`} />\r\n                                    {sidebarOpen && <span>{tab.name}</span>}\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n            {/* All existing modals and editing forms remain exactly the same... */}\r\n            {isEditingHeader && (\r\n              <motion.div\r\n    initial={{ opacity: 0 }}\r\n    animate={{ opacity: 1 }}\r\n    exit={{ opacity: 0 }}\r\n    className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4\"\r\n>\r\n    <motion.div\r\n        initial={{ scale: 0.95, y: 20 }}\r\n        animate={{ scale: 1, y: 0 }}\r\n        exit={{ scale: 0.95, y: 20 }}\r\n        className={`w-full max-w-6xl mx-auto rounded-2xl shadow-2xl border-0 overflow-hidden flex flex-col ${\r\n            theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n        }`}\r\n    >\r\n        {/* Fixed Header */}\r\n        <div className=\"relative bg-gradient-to-r from-blue-600 to-blue-700 p-6 sm:p-8 flex-shrink-0\">\r\n            <div className=\"flex items-center space-x-4\">\r\n                <div className=\"flex-shrink-0\">\r\n                    <IoDocumentText className=\"h-8 w-8 text-white\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                    <h3 className=\"text-2xl sm:text-3xl font-bold text-white\">\r\n                        Edit Header Information\r\n                    </h3>\r\n                    <p className=\"mt-1 text-blue-100 text-sm sm:text-base\">\r\n                        Update employee header details and contact information\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <button\r\n                onClick={() => {\r\n                    setIsEditingHeader(false);\r\n                    setFormError(null);\r\n                    setMobileError(null);\r\n                    setSelectedDepartmentDisplay('');\r\n                    setSelectedDepartmentValue('');\r\n                }}\r\n                className=\"absolute top-4 right-4 sm:top-6 sm:right-6 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-all duration-200 text-white\"\r\n            >\r\n                <IoClose className=\"h-5 w-5 sm:h-6 sm:h-6\" />\r\n            </button>\r\n        </div>\r\n        \r\n        {/* Scrollable Form Content */}\r\n        <div className=\"flex-1 overflow-y-auto max-h-[60vh]\">\r\n            <div className=\"p-6 sm:p-8\">\r\n                <form onSubmit={handleHeaderSave} className=\"space-y-6\">\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                        <div className=\"group\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Employee ID\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                               <input\r\n  type=\"text\"\r\n  name=\"employeeId\"\r\n  value={editingHeaderData.employeeId || ''}\r\n  onChange={handleHeaderInputChange}\r\n  disabled\r\n  className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 \r\n  focus:border-blue-500 focus:ring-4 focus:ring-blue-100 pointer-events-none cursor-not-allowed opacity-70 ${\r\n    theme === 'dark'\r\n      ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n      : 'bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500'\r\n  }`}\r\n  placeholder=\"Enter employee ID\"\r\n/>\r\n\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Unique identifier for the employee\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Full Name\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"name\"\r\n                                    value={editingHeaderData.name || ''}\r\n                                    onChange={handleHeaderInputChange}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-blue-300 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                    placeholder=\"Enter full name\"\r\n                                />\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Complete name of the employee\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Job Title\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"jobTitlePrimary\"\r\n                                    value={editingHeaderData.jobTitlePrimary || ''}\r\n                                    onChange={handleHeaderInputChange}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-green-300 focus:border-green-500 focus:ring-4 focus:ring-green-100 ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                    placeholder=\"Enter job title\"\r\n                                />\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Primary role or position title\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Department\r\n                            </label>\r\n                            <div className=\"relative\" ref={departmentDropdownRef}>\r\n                                <div\r\n                                    onClick={() => setDepartmentDropdownOpen(!departmentDropdownOpen)}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 cursor-pointer flex justify-between items-center group-hover:border-purple-300 focus:border-purple-500 ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900'\r\n                                    }`}\r\n                                >\r\n                                    <span className={selectedDepartmentDisplay || editingHeaderData.department ? '' : (theme === 'dark' ? 'text-gray-400' : 'text-gray-500')}>\r\n                                        {selectedDepartmentDisplay || editingHeaderData.department || 'Select department'}\r\n                                    </span>\r\n                                    <FaChevronDown className={`transition-transform duration-200 ${departmentDropdownOpen ? 'rotate-180' : ''}`} />\r\n                                </div>\r\n                                {departmentDropdownOpen && (\r\n                                    <div className={`absolute z-50 w-full mt-2 max-h-60 overflow-y-auto rounded-xl border-2 shadow-lg ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600'\r\n                                            : 'bg-white border-gray-300'\r\n                                    }`}\r\n                                        onScroll={handleDepartmentScroll}\r\n                                    >\r\n                                        {allDepartments.map((department) => (\r\n                                            <div\r\n                                                key={department.departmentId}\r\n                                                onClick={() => handleDepartmentSelect(department)}\r\n                                                className={`px-4 py-3 cursor-pointer border-b hover:bg-opacity-80 transition-colors ${\r\n                                                    theme === 'dark'\r\n                                                        ? 'text-white hover:bg-gray-600 border-gray-600'\r\n                                                        : 'text-gray-900 hover:bg-gray-100 border-gray-200'\r\n                                                } ${department === allDepartments[allDepartments.length - 1] ? 'border-b-0' : ''}`}\r\n                                            >\r\n                                                {department.departmentId}({department.departmentName})\r\n                                            </div>\r\n                                        ))}\r\n                                        {departmentLoading && (\r\n                                            <div className={`px-4 py-3 text-center ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                                Loading more departments...\r\n                                            </div>\r\n                                        )}\r\n                                        {!departmentHasMore && allDepartments.length > 0 && (\r\n                                            <div className={`px-4 py-3 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                                No more departments\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Department or division name (Only department name will be saved)\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Work Email\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"email\"\r\n                                    name=\"workEmail\"\r\n                                    value={editingHeaderData.workEmail || ''}\r\n                                    onChange={handleHeaderInputChange}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-orange-300 focus:border-orange-500 focus:ring-4 focus:ring-orange-100 ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                    placeholder=\"Enter work email\"\r\n                                />\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Official company email address\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Contact Number\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"contact\"\r\n                                    value={editingHeaderData.contact || ''}\r\n                                    onChange={handleHeaderInputChange}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-teal-300 focus:border-teal-500 focus:ring-4 focus:ring-teal-100 ${\r\n                                        mobileError ? (theme === 'dark' ? 'border-red-500 bg-red-900/20' : 'border-red-500 bg-red-50') :\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                    placeholder=\"Enter contact number\"\r\n                                />\r\n                                {/*  NEW: Mobile validation error display */}\r\n                                {mobileError && (\r\n                                    <div className=\"absolute top-full left-0 mt-1 flex items-center space-x-1\">\r\n                                        <FaExclamationTriangle className=\"w-3 h-3 text-red-500 flex-shrink-0\" />\r\n                                        <span className={`text-xs ${theme === 'dark' ? 'text-red-400' : 'text-red-600'}`}>\r\n                                            {mobileError}\r\n                                        </span>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${mobileError ? 'mt-6' : 'mt-2'} ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Primary contact phone number (10 digits recommended)\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"group lg:col-span-2\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Location\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"location\"\r\n                                    value={editingHeaderData.location || ''}\r\n                                    onChange={handleHeaderInputChange}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-indigo-300 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                    placeholder=\"Enter work location\"\r\n                                />\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Office location or branch name\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    {/*  MODIFIED: Error Display Section - Updated to handle mobile errors */}\r\n                    {(formError || mobileError) && (\r\n                        <div className={`mt-6 p-4 rounded-xl border-l-4 ${theme === 'dark' ? 'bg-red-900/20 border-red-500 text-red-300' : 'bg-red-50 border-red-500 text-red-700'}`}>\r\n                            <div className=\"flex items-start\">\r\n                                <FaExclamationTriangle className={`flex-shrink-0 w-5 h-5 mt-0.5 mr-3 ${theme === 'dark' ? 'text-red-400' : 'text-red-500'}`} />\r\n                                <div className=\"flex-1\">\r\n                                    <h4 className={`font-medium ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>\r\n                                        {mobileError ? 'Mobile Number Validation Error' : 'Error Updating Header'}\r\n                                    </h4>\r\n                                    <p className={`mt-1 text-sm ${theme === 'dark' ? 'text-red-400' : 'text-red-700'}`}>\r\n                                        {mobileError || formError}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </form>\r\n            </div>\r\n        </div>\r\n        \r\n        {/* Fixed Footer */}\r\n        <div className=\"p-6 sm:p-8 border-t border-gray-200 dark:border-gray-600 flex-shrink-0\">\r\n            <div className=\"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4\">\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                        setIsEditingHeader(false);\r\n                        setFormError(null);\r\n                        setMobileError(null);\r\n                        setSelectedDepartmentDisplay('');\r\n                        setSelectedDepartmentValue('');\r\n                    }}\r\n                    disabled={isSubmitting}\r\n                    className={`w-full sm:w-auto px-8 py-3 border-2 rounded-xl font-semibold text-base transition-all duration-300 transform hover:scale-105 ${\r\n                        theme === 'dark'\r\n                            ? 'border-gray-600 text-gray-300 hover:bg-gray-700 hover:border-gray-500'\r\n                            : 'border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400'\r\n                    } ${isSubmitting ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                >\r\n                    Cancel Changes\r\n                </button>\r\n                <button\r\n                    type=\"submit\"\r\n                    onClick={handleHeaderSave}\r\n                    disabled={isSubmitting || mobileError}\r\n                    className={`w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl text-base transition-all duration-300 transform hover:scale-105 hover:from-blue-700 hover:to-blue-800 focus:ring-4 focus:ring-blue-200 shadow-lg flex items-center justify-center ${\r\n                        isSubmitting || mobileError ? 'opacity-75 cursor-not-allowed' : ''\r\n                    }`}\r\n                >\r\n                    {isSubmitting ? (\r\n                        <>\r\n                            <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                            Saving...\r\n                        </>\r\n                    ) : (\r\n                        'Save Changes'\r\n                    )}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </motion.div>\r\n</motion.div>\r\n            )}\r\n            <AnimatePresence>\r\n                {isImageModalOpen && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"fixed inset-0 backdrop-blur-sm bg-black bg-opacity-75 flex items-center justify-center z-[200] p-2 sm:p-4\"\r\n                        onClick={handleModalClose}\r\n                    >\r\n                        {isImageFullView ? (\r\n                            <motion.div\r\n                                initial={{ scale: 0.8, opacity: 0 }}\r\n                                animate={{ scale: 1, opacity: 1 }}\r\n                                exit={{ scale: 0.8, opacity: 0 }}\r\n                                className=\"relative max-w-[90vw] max-h-[90vh] flex items-center justify-center\"\r\n                                onClick={(e) => e.stopPropagation()}\r\n                            >\r\n                                <button\r\n                                    onClick={handleCloseFullView}\r\n                                    className=\"absolute top-2 right-2 sm:top-4 sm:right-4 z-10 p-2 sm:p-3 rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-70 transition-all duration-200\"\r\n                                    title=\"Back to Modal\"\r\n                                >\r\n                                    <FaCompress className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                                </button>\r\n                                {(profileImagePreview || displayHeader?.employeeImage) ? (\r\n                                    <img\r\n                                        src={profileImagePreview || displayHeader.employeeImage}\r\n                                        alt=\"Profile Full View\"\r\n                                        className=\"max-w-full max-h-full object-contain rounded-xl shadow-2xl\"\r\n                                    />\r\n                                ) : (\r\n                                    <div className={`w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 rounded-xl shadow-2xl flex items-center justify-center text-6xl sm:text-8xl font-medium ${theme === 'dark' ? 'bg-gray-600 text-white' : 'bg-gray-200 text-gray-600'}`}>\r\n                                        {initials}\r\n                                    </div>\r\n                                )}\r\n                            </motion.div>\r\n                        ) : (\r\n                            <motion.div\r\n                                initial={{ scale: 0.9, y: 20 }}\r\n                                animate={{ scale: 1, y: 0 }}\r\n                                exit={{ scale: 0.9, y: 20 }}\r\n                                className={`relative rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 text-center w-full max-w-sm sm:max-w-md ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}\r\n                                onClick={(e) => e.stopPropagation()}\r\n                            >\r\n                                <button\r\n                                    onClick={handleModalClose}\r\n                                    className={`absolute top-3 right-3 sm:top-4 sm:right-4 p-2 rounded-full transition-all duration-200 ${theme === 'dark' ? 'text-gray-400 hover:bg-gray-700 hover:text-white' : 'text-gray-500 hover:bg-gray-200 hover:text-gray-700'}`}\r\n                                >\r\n                                    <FaTimes className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                                </button>\r\n                                <h3 className={`text-xl sm:text-2xl font-bold mb-4 sm:mb-6 ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>\r\n                                    Profile Picture\r\n                                </h3>\r\n                                <div className=\"mb-4 sm:mb-6 relative group\">\r\n                                    {(profileImagePreview || displayHeader?.employeeImage) ? (\r\n                                        <div className=\"relative cursor-pointer\" onClick={handleImageFullView}>\r\n                                            <img\r\n                                                src={profileImagePreview || displayHeader.employeeImage}\r\n                                                alt=\"Profile Preview\"\r\n                                                className=\"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full object-cover mx-auto shadow-xl transition-transform duration-300 group-hover:scale-105\"\r\n                                            />\r\n                                            <div className=\"absolute inset-0 rounded-full bg-opacity-0 group-hover:bg-opacity-40 flex items-center justify-center transition-all duration-300\">\r\n                                                <FaExpand className=\"text-white opacity-0 group-hover:opacity-100 text-lg sm:text-2xl transition-all duration-300 transform group-hover:scale-110\" />\r\n                                            </div>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div\r\n                                            className={`w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full mx-auto shadow-xl flex items-center justify-center text-3xl sm:text-4xl md:text-5xl font-medium cursor-pointer transition-transform duration-300 group-hover:scale-105 relative ${theme === 'dark' ? 'bg-gray-600 text-white' : 'bg-gray-200 text-gray-600'}`}\r\n                                            onClick={handleImageFullView}\r\n                                        >\r\n                                            {initials}\r\n                                            <div className=\"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-40 flex items-center justify-center transition-all duration-300\">\r\n                                                <FaExpand className=\"text-white opacity-0 group-hover:opacity-100 text-lg sm:text-2xl transition-all duration-300 transform group-hover:scale-110\" />\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4\">\r\n                                    {matchedArray.includes(\"PROFILE_ADD_IMAGE\") && <button\r\n                                        onClick={() => fileInputRef.current.click()}\r\n                                        className=\"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-all duration-200 transform hover:scale-105 shadow-lg text-sm sm:text-base\"\r\n                                    >\r\n                                        <FaCamera className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                        <span>Change</span>\r\n                                    </button>}\r\n                                    {displayHeader?.employeeImage && (\r\n                                        <button\r\n                                            onClick={handleDeleteImage}\r\n                                            className=\"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition-all duration-200 transform hover:scale-105 shadow-lg text-sm sm:text-base\"\r\n                                        >\r\n                                            <FaTrash className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                            <span>Delete</span>\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                                <input\r\n                                    type=\"file\"\r\n                                    ref={fileInputRef}\r\n                                    onChange={handleImageUpload}\r\n                                    accept=\"image/*\"\r\n                                    className=\"hidden\"\r\n                                />\r\n                            </motion.div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n            {/* Editing modal (kept as is, no alerts here) */}\r\n            {isEditing && (\r\n                <div className=\"fixed inset-0 backdrop-blur-sm bg-black bg-opacity-50 flex items-center justify-center z-[200] p-4\">\r\n                    <div className={`rounded-lg p-4 sm:p-6 w-full max-w-md sm:max-w-lg shadow-2xl ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}>\r\n                        <h2 className={`text-xl sm:text-2xl font-bold mb-4 ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>Edit Profile</h2>\r\n                        <form onSubmit={handleSave}>\r\n                            <div className=\"space-y-4\">\r\n                                {[\"name\", \"empId\", \"company\", \"department\", \"email\", \"contact\", \"role\"].map((field) => (\r\n                                    <div key={field}>\r\n                                        <label className={`block text-sm font-medium capitalize ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>{field}</label>\r\n                                        <input\r\n                                            type={field === \"email\" ? \"email\" : \"text\"}\r\n                                            name={field}\r\n                                            value={employeeData[field] || ''}\r\n                                            onChange={handleInputChange}\r\n                                            className={`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 text-sm ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500'}`}\r\n                                        />\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            <div className=\"mt-6 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setIsEditing(false)}\r\n                                    className={`w-full sm:w-auto px-4 py-2 border rounded-md transition-colors text-sm ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-50'}`}\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"w-full sm:w-auto px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-sm\"\r\n                                >\r\n                                    Save Changes\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            {/* Custom Notification Component (Modified) */}\r\n            <CustomNotification\r\n                isOpen={notification.isOpen}\r\n                onClose={closeNotification}\r\n                type={notification.type}\r\n                title={notification.title}\r\n                message={notification.message}\r\n                theme={theme}\r\n            />\r\n            {/* Custom Confirmation Modal */}\r\n            <CustomConfirmModal\r\n                isOpen={confirmModal.isOpen}\r\n                onClose={closeConfirmModal}\r\n                onConfirm={confirmModal.onConfirm}\r\n                title={confirmModal.title}\r\n                message={confirmModal.message}\r\n                confirmText={confirmModal.confirmText}\r\n                isConfirming={confirmModal.isConfirming}\r\n                theme={theme}\r\n                type={confirmModal.type}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profiles;"],"names":["initialFieldState","text","isEditing","About","theme","userData","matchedArray","useContext","Context","empID","useParams","location","useLocation","searchParams","URLSearchParams","search","fromContextMenu","get","targetEmployeeId","employeeIdToFetch","isCurrentUser","String","employeeId","isReadOnly","hasEditPermission","includes","canEdit","responses","setResponses","useState","about","jobLove","hobbies","editCache","setEditCache","recordExists","setRecordExists","isLoading","setIsLoading","isSaving","setIsSaving","error","setError","revertState","useCallback","allPrevState","field","errorMessage","prev","_objectSpread","fetchAbout","async","apiData","publicinfoApi","concat","data","err","response","status","useEffect","handleEdit","handleDelete","allPreviousState","payload","isAllEmpty","trim","endpoint","EditButton","_ref","onClick","disabled","_jsx","className","children","renderResponseSection","title","_jsxs","rows","value","onChange","e","updateEditCache","target","placeholder","toLowerCase","style","minHeight","resize","handleCancel","newValue","put","post","JSON","stringify","_unused","handleSave","IoEye","Modal","onClose","type","titleClass","icon","IoCheckmarkCircle","IoWarning","sectionFields","primaryDetails","label","name","required","hint","options","contactDetails","address","education","experience","sectionConfig","IoPersonOutline","color","bgColor","darkBgColor","borderColor","darkBorderColor","textColor","darkTextColor","description","IoMailOutline","IoLocationOutline","IoSchoolOutline","IoBriefcaseOutline","hasActualData","sectionKey","Array","isArray","length","fieldsToCheck","some","undefined","getMaxDate","today","Date","maxYear","getFullYear","getMonth","getDate","toISOString","split","validateFieldByHint","fieldName","fieldType","trimmedValue","test","dateString","selectedDate","isAtLeast18YearsOld","cleanMobile","replace","cleanWork","year","parseInt","isNaN","score","parseFloat","handleNetworkError","_error$response$data","navigator","onLine","code","message","request","_userData$roles","_userData$roles$","editingSection","setEditingSection","primarydata","setPrimaryData","contactdetails","setContactDetails","addressData","setAddressData","eduData","setEduData","setExperience","editingData","setEditingData","loading","setLoading","isUpdating","setIsUpdating","errors","setErrors","completionStats","setCompletionStats","completed","total","selectedFile","setSelectedFile","initialEditingData","setInitialEditingData","noChangesModal","setNoChangesModal","show","section","onContinue","networkError","setNetworkError","popup","setPopup","profileEmployeeId","loggedInEmpID","isOwnProfile","roles","toUpperCase","localStorage","setItem","console","log","primaryRes","contactRes","addressRes","eduRes","expRes","Promise","all","catch","filter","Boolean","fetchData","openEditSection","itemData","arguments","isAdd","savedData","getItem","dataToEdit","finalData","parsedData","parse","handleEditFieldChange","_sectionFields$editin","newErrors","fieldConfig","find","f","validationError","handleSubmit","validationErrors","forEach","Object","keys","hasChanges","currentData","initialData","normalizeValue","currentFields","initialFields","key","hasFormChanges","proceedWithSubmission","success","url","updatedData","sections","networkErrorMessage","handleUpdatePrimaryDetails","handleUpdateContactDetails","handleUpdateAddress","isUpdate","id","method","formData","FormData","append","Blob","headers","updatedEduRes","handleUpdateEducation","updatedExperienceRes","handleUpdateExperience","general","removeItem","handleCancelEdit","renderField","isError","fieldValue","_e$target$files","file","files","accept","IoCloudUpload","map","opt","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","max","DetailItem","_ref2","EducationExperienceItem","_ref3","item","index","onEdit","config","IconComponent","degreeType","companyName","universityOrCollege","jobTitle","IoCreateOutline","_Fragment","branchOrSpecialization","startYear","endYear","cgpaOrPercentage","addFiles","href","rel","startMonth","endMonth","Section","_ref4","hasData","IoAdd","ProgressIndicator","profileSections","completedCount","totalCount","percentage","width","toFixed","_","i","firstName","middleName","lastName","displayName","gender","dateOfBirth","maritalStatus","bloodGroup","physicallyHandicapped","nationality","workEmail","personalEmail","mobileNumber","workNumber","street","city","state","zip","country","district","edu","exp","renderEditModal","fields","IoClose","onSubmit","preventDefault","employeeTime","otherPolicies","organizationDetails","jobDetails","IoTimeOutline","IoDocumentTextOutline","IoBusinessOutline","note","completedSections","totalSections","AttendanceToggle","_ref5","isDisabled","setIsDisabled","checked","Job","jobdetails","setJobDetails","displayJobDetails","setDisplayJobDetails","jobEmployeeId","jobDetailsFetch","formattedData","dateOfJoining","jobTitlePrimary","jobTitleSecondary","inProbation","probationStartDate","probationEndDate","probationPolicy","workerType","timeType","contractStatus","contractStartDate","identityFields","aadhaar","pan","drivingLicense","passport","voter","documentConfig","IoDocumentText","Document","identityData","setIdentityData","fileInputRef","useRef","searchFilter","setSearchFilter","documentEmployeeId","identityPromises","aadhaarRes","panRes","drivingRes","passportRes","voterRes","values","fetchIdentityData","subSection","handleFileChange","handleUpdate","validateFormData","panNumber","panName","parentsName","validatePanData","aadhaarNumber","enrollmentNumber","aadhaarName","validateAadhaarData","licenseNumber","fatherName","issueDate","expiresOn","validateDrivingLicenseData","passportNumber","countryCode","passportType","dateOfIssue","placeOfIssue","placeOfBirth","dateOfExpiration","validatePassportData","voterIdNumber","fullName","relationName","issuedDate","validateVoterData","filePartNames","fileInputNames","backendDtoPartName","Error","fileInputField","File","dto","updateEmployeeId","getUrlKey","updatedIdentityData","newData","_error$response","timestamp","handleLocalFieldChange","newlySelectedFile","ref","stopPropagation","current","DetailItemWithLink","link","IdentitySubSection","subSectionKey","filteredSections","animationDelay","isIdField","isRequired","InputField","onBlur","multiple","baseInputClass","textareaClass","selectClass","option","Achivements","achievements","setAchievements","isModalOpen","setIsModalOpen","selectedAchievement","setSelectedAchievement","isEditMode","setIsEditMode","deleteConfirmation","setDeleteConfirmation","achievementId","setFormData","certificationName","issuingAuthorityName","certificationURL","issueMonth","issueYear","expirationMonth","expirationYear","achievementFile","formErrors","setFormErrors","uploadedFiles","setUploadedFiles","subtitle","achievementFormFields","fetchAchievements","handleInputChange","isValidUrl","string","URL","handleOpenModal","achievement","handleCloseModal","validateForm","achievementDTO","submissionData","_err$response2","_err$response3","_err$response3$data","hasCredentialUrl","hasAchievementFile","fileUrl","IoPencil","IoTrashOutline","from","size","delete","ach","_err$response","CustomNotification","isOpen","isVisible","setIsVisible","timer","setTimeout","handleClose","clearTimeout","getIcon","FaCheckCircle","FaExclamationTriangle","getTitleClass","CustomConfirmModal","onConfirm","confirmText","isConfirming","motion","div","initial","scale","y","animate","exit","FaTimes","getConfirmButtonClass","Profiles","navigate","useNavigate","userprofiledata","setUserProfileData","isAdmin","canEditHeader","activeTab","setActiveTab","pathname","depdata","setDeptdata","sidebarOpen","setSidebarOpen","profileImagePreview","setProfileImagePreview","setIsEditing","employeeData","setEmployeeData","viewedEmployeeData","setViewedEmployeeData","headerData","setHeaderData","viewedEmployeeHeaderData","setViewedEmployeeHeaderData","isEditingHeader","setIsEditingHeader","editingHeaderData","setEditingHeaderData","initialHeaderData","setInitialHeaderData","formError","setFormError","isSubmitting","setIsSubmitting","mobileError","setMobileError","isImageModalOpen","setIsImageModalOpen","isImageFullView","setIsImageFullView","departmentDropdownOpen","setDepartmentDropdownOpen","departmentPage","setDepartmentPage","departmentLoading","setDepartmentLoading","departmentHasMore","setDepartmentHasMore","allDepartments","setAllDepartments","selectedDepartmentDisplay","setSelectedDepartmentDisplay","selectedDepartmentValue","setSelectedDepartmentValue","departmentDropdownRef","notification","setNotification","confirmModal","setConfirmModal","showNotification","showConfirmModal","closeConfirmModal","display","displayHeader","initials","w","join","substring","tabs","path","MdPerson","HiIdentification","MdWork","MdBusiness","MdStar","validateMobileNumber","number","cleanNumber","isValid","fetchDepartments","page","reset","content","department","matchingDept","dept","departmentName","departmentId","handleClickOutside","event","contains","document","addEventListener","removeEventListener","headerResponse","mainErr","fetchEmployeeDetails","handleHeaderEditClick","handleHeaderSave","contact","mobileValidation","hasFormChanges_ProfileOriginal","res","employeeImage","_err$response$data","_err$response2$data","_err$response4","_err$response5","_err$response6","_err$response7","handleHeaderInputChange","validation","handleTabClick","base","handleImageFullView","handleModalClose","MdEdit","src","alt","FaCamera","MdEmail","FaPhone","MdLocationOn","transform","tab","active","endsWith","Routes","Route","element","Navigate","to","Profile","Achievements","handleAddAddress","IoTrash","handleEditClick","handleAddJob","handleAddDocument","handleAddAchievement","MdChevronRight","MdChevronLeft","opacity","FaChevronDown","onScroll","scrollTop","scrollHeight","clientHeight","handleDepartmentSelect","AnimatePresence","handleCloseFullView","FaCompress","FaExpand","click","handleDeleteImage","FaTrash","reader","FileReader","onloadend","result","readAsDataURL","closeNotification"],"sourceRoot":""}