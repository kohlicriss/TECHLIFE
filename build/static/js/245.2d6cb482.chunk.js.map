{"version":3,"file":"static/js/245.2d6cb482.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Projects/ProjectDashBoard.jsx"],"sourcesContent":["import React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer, Cell } from 'recharts';\r\nimport { FaCalendarAlt, FaTrashAlt, FaFileAlt, FaPlus, FaPaperclip, FaUsers, FaRegFolderOpen } from 'react-icons/fa';\r\nimport axios from 'axios';\r\nimport { Context } from '../HrmsContext';\r\nimport { FiDelete, FiEdit } from \"react-icons/fi\";\r\nimport { authApi } from '../../../../axiosInstance';\r\n\r\nconst SprintTable = ({ projectId }) => {\r\n  const { theme } = useContext(Context);\r\n  const [sprints, setSprints] = useState([]);\r\n  const [loadingSprints, setLoadingSprints] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [selectedSprint, setSelectedSprint] = useState(null);\r\n  const [showCreate, setShowCreate] = useState(false);\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [form, setForm] = useState({\r\n    sprintName: '',\r\n    startDate: '',\r\n    endDate: '',\r\n    status: 'PLANNED'\r\n  });\r\n  const API_HOST = 'https://hrms.anasolconsultancyservices.com/api/employee/sprints';\r\n  const token = () => localStorage.getItem('accessToken');\r\n  const persistTokenFromRes = async (res, body) => {\r\n    try {\r\n      const authHeader = res.headers.get('authorization') || res.headers.get('Authorization');\r\n      if (authHeader) storeAccessToken(authHeader);\r\n      if (body?.accessToken || body?.token || body?.jwt) storeAccessToken(body?.accessToken || body?.token || body?.jwt);\r\n    } catch (e) { /* ignore */ }\r\n  };\r\n  const loadSprints = async () => {\r\n    if (!projectId) return;\r\n    setLoadingSprints(true);\r\n    setError(null);\r\n    try {\r\n      const res = await fetch(`${API_HOST}/project/${encodeURIComponent(projectId)}`, {\r\n        headers: { Accept: 'application/json', Authorization: token() ? `Bearer ${token()}` : undefined }\r\n      });\r\n      if (!res.ok) {\r\n        const txt = await res.text().catch(() => null);\r\n        throw new Error(txt || `HTTP ${res.status}`);\r\n      }\r\n      const body = await res.json().catch(() => []);\r\n      await persistTokenFromRes(res, body);\r\n      setSprints(Array.isArray(body) ? body : (body.sprints || []));\r\n      if (Array.isArray(body) && body.length) {\r\n        setSelectedSprint(body[0]);\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || 'Failed to load sprints');\r\n      setSprints([]);\r\n    } finally {\r\n      setLoadingSprints(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => { loadSprints(); }, [projectId]);\r\n  const openCreate = () => {\r\n    setForm({ sprintName: '', startDate: '', endDate: '', status: 'PLANNED' });\r\n    setShowCreate(true);\r\n  };\r\n  const openEdit = () => {\r\n    if (!selectedSprint) return;\r\n    setForm({\r\n      sprintName: selectedSprint.sprintName || selectedSprint.title || '',\r\n      startDate: selectedSprint.startDate || '',\r\n      endDate: selectedSprint.endDate || '',\r\n      status: selectedSprint.status || 'PLANNED'\r\n    });\r\n    setShowEdit(true);\r\n  };\r\n  const createSprint = async (e) => {\r\n    e?.preventDefault();\r\n    if (!projectId) return;\r\n    setSubmitting(true);\r\n    try {\r\n      const res = await fetch(`${API_HOST}/project/${encodeURIComponent(projectId)}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json', Authorization: token() ? `Bearer ${token()}` : undefined },\r\n        body: JSON.stringify(form)\r\n      });\r\n      const body = await res.json().catch(() => null);\r\n      await persistTokenFromRes(res, body);\r\n      if (!res.ok) throw new Error(body?.message || `Status ${res.status}`);\r\n      setShowCreate(false);\r\n      await loadSprints();\r\n    } catch (err) {\r\n      alert('Create failed: ' + (err.message || err));\r\n    } finally { setSubmitting(false); }\r\n  };\r\n  const updateSprint = async (e) => {\r\n    e?.preventDefault();\r\n    if (!projectId || !selectedSprint) return;\r\n    setSubmitting(true);\r\n    try {\r\n      const sprintId = selectedSprint.sprintId || selectedSprint.sprint_id || selectedSprint.id;\r\n      const res = await fetch(`${API_HOST}/${encodeURIComponent(projectId)}/${encodeURIComponent(sprintId)}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json', Authorization: token() ? `Bearer ${token()}` : undefined },\r\n        body: JSON.stringify(form)\r\n      });\r\n      const body = await res.json().catch(() => null);\r\n      await persistTokenFromRes(res, body);\r\n      if (!res.ok) throw new Error(body?.message || `Status ${res.status}`);\r\n      setShowEdit(false);\r\n      await loadSprints();\r\n    } catch (err) {\r\n      alert('Update failed: ' + (err.message || err));\r\n    } finally { setSubmitting(false); }\r\n  };\r\n  const deleteSprint = async (s) => {\r\n    if (!projectId || !s) return;\r\n    if (!window.confirm(`Delete sprint ${s.sprintId || s.sprint_id || s.id}?`)) return;\r\n    setSubmitting(true);\r\n    try {\r\n      const sprintId = s.sprintId || s.sprint_id || s.id;\r\n      const res = await fetch(`${API_HOST}/${encodeURIComponent(projectId)}/${encodeURIComponent(sprintId)}`, {\r\n        method: 'DELETE',\r\n        headers: { Authorization: token() ? `Bearer ${token()}` : undefined }\r\n      });\r\n      const body = await res.json().catch(() => null);\r\n      await persistTokenFromRes(res, body);\r\n      if (!res.ok) throw new Error(body?.message || `Status ${res.status}`);\r\n      await loadSprints();\r\n    } catch (err) {\r\n      alert('Delete failed: ' + (err.message || err));\r\n    } finally { setSubmitting(false); }\r\n  };\r\n  return (\r\n    <div className={`p-4 rounded-xl shadow-md ${theme === 'dark' ? 'bg-gray-800 text-gray-200' : 'bg-white text-gray-800'}`}>\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-xl font-bold\">Sprints</h3>\r\n        <div className=\"flex items-center gap-2\">\r\n          <button onClick={openCreate} title=\"Create Sprint\" className=\"p-2 rounded-md bg-green-600 text-white\"><FaPlus /></button>\r\n          <button onClick={openEdit} disabled={!selectedSprint} title=\"Edit Selected\" className=\"p-2 rounded-md bg-yellow-500 text-white\"><FiEdit /></button>\r\n          <button onClick={() => deleteSprint(selectedSprint)} disabled={!selectedSprint} title=\"Delete Selected\" className=\"p-2 rounded-md bg-red-600 text-white\"><FiDelete /></button>\r\n        </div>\r\n      </div>\r\n      {loadingSprints ? (\r\n        <div className=\"py-6 text-center text-sm text-indigo-500\">Loading sprints...</div>\r\n      ) : error ? (\r\n        <div className=\"py-4 text-center text-sm text-red-500\">{error}</div>\r\n      ) : sprints.length === 0 ? (\r\n        <div className=\"py-6 text-center text-sm text-gray-500\">No sprints found.</div>\r\n      ) : (\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full text-sm\">\r\n            <thead className=\"text-left text-xs uppercase text-gray-500\">\r\n              <tr>\r\n                <th className=\"py-2 px-3\">Sprint ID</th>\r\n                <th className=\"py-2 px-3\">Name</th>\r\n                <th className=\"py-2 px-3\">Start</th>\r\n                <th className=\"py-2 px-3\">End</th>\r\n                <th className=\"py-2 px-3\">Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {sprints.map((s, idx) => (\r\n                <tr\r\n                  key={s.sprintId || s.sprint_id || idx}\r\n                  onClick={() => setSelectedSprint(s)}\r\n                  className={`cursor-pointer ${selectedSprint === s ? 'ring-2 ring-indigo-300' : ''} hover:bg-gray-50`}\r\n                >\r\n                  <td className=\"py-2 px-3\">{s.sprintId || s.sprint_id || s.id || '-'}</td>\r\n                  <td className=\"py-2 px-3\">{s.sprintName || s.title || '-'}</td>\r\n                  <td className=\"py-2 px-3\">{s.startDate || '-'}</td>\r\n                  <td className=\"py-2 px-3\">{s.endDate || '-'}</td>\r\n                  <td className=\"py-2 px-3\">{s.status || '-'}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n{showCreate && (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm\">\r\n        <form onSubmit={createSprint} className={`w-full max-w-lg p-7 rounded-2xl shadow-2xl transition-all duration-300 ${theme === 'dark' ? 'bg-gray-800 text-gray-100 border border-gray-700' : 'bg-white text-gray-900 border border-gray-200'}`} onClick={e => e.stopPropagation()}>\r\n            <div className=\"flex justify-between items-start mb-5 pb-2 border-b border-gray-300/50 dark:border-gray-700\">\r\n                <h4 className=\"text-xl font-bold tracking-tight\">Create New Sprint</h4>\r\n                <button type=\"button\" onClick={() => setShowCreate(false)} className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors text-2xl leading-none\">&times;</button>\r\n            </div>\r\n            <div className=\"space-y-4\">\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-base ${theme === 'dark' ? 'bg-gray-700 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} placeholder=\"Sprint Name (e.g., Sprint 1, Q1 Project Kickoff)\" value={form.sprintName} onChange={e => setForm(prev => ({ ...prev, sprintName: e.target.value }))} required />\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                    <input type=\"date\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-300'}`} value={form.startDate} onChange={e => setForm(prev => ({ ...prev, startDate: e.target.value }))} required />\r\n                    <input type=\"date\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-300'}`} value={form.endDate} onChange={e => setForm(prev => ({ ...prev, endDate: e.target.value }))} required />\r\n                </div>\r\n                <select \r\n                    className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-gray-100' : 'bg-gray-50 border-gray-300 text-gray-900'}`} \r\n                    value={form.status} \r\n                    onChange={e => setForm(prev => ({ ...prev, status: e.target.value }))}>\r\n                    <option value=\"PLANNED\">PLANNED</option>\r\n                    <option value=\"ACTIVE\">ACTIVE</option>\r\n                    <option value=\"COMPLETED\">COMPLETED</option>\r\n                    <option value=\"CANCELLED\">CANCELLED</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-300/50 dark:border-gray-700\">\r\n                <button type=\"button\" onClick={() => setShowCreate(false)} className={`px-5 py-2 rounded-lg font-semibold transition-colors border ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}>Cancel</button>\r\n                <button  type=\"submit\"  disabled={submitting}  className=\"px-5 py-2 bg-green-600 text-white rounded-lg font-semibold shadow-md hover:bg-green-700 disabled:bg-green-400 disabled:cursor-not-allowed transition-colors\" >     {submitting ? 'Creating...' : 'Create'} </button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n)}\r\n{showEdit && selectedSprint && (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm\">\r\n        <form onSubmit={updateSprint} className={`w-full max-w-lg p-7 rounded-2xl shadow-2xl transition-all duration-300 ${theme === 'dark' ? 'bg-gray-800 text-gray-100 border border-gray-700' : 'bg-white text-gray-900 border border-gray-200'}`} onClick={e => e.stopPropagation()}>\r\n            <div className=\"flex justify-between items-start mb-5 pb-2 border-b border-gray-300/50 dark:border-gray-700\">\r\n                <h4 className=\"text-xl font-bold tracking-tight\">Update Sprint Details</h4>\r\n                <button type=\"button\" onClick={() => setShowEdit(false)} className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors text-2xl leading-none\"> &times; </button>\r\n            </div>\r\n            <div className=\"space-y-4\">\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-base ${theme === 'dark' ? 'bg-gray-700 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} placeholder=\"Sprint Name (e.g., Sprint 1, Q1 Project Kickoff)\" value={form.sprintName} onChange={e => setForm(prev => ({ ...prev, sprintName: e.target.value }))} required />\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                    <input type=\"date\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-300'}`} value={form.startDate} onChange={e => setForm(prev => ({ ...prev, startDate: e.target.value }))} required />\r\n                    <input type=\"date\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-300'}`} value={form.endDate} onChange={e => setForm(prev => ({ ...prev, endDate: e.target.value }))} required />\r\n                </div>\r\n                <select \r\n                    className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-gray-100' : 'bg-gray-50 border-gray-300 text-gray-900'}`} \r\n                    value={form.status} \r\n                    onChange={e => setForm(prev => ({ ...prev, status: e.target.value }))}>\r\n                    <option value=\"PLANNED\">PLANNED</option>\r\n                    <option value=\"ACTIVE\">ACTIVE</option>\r\n                    <option value=\"COMPLETED\">COMPLETED</option>\r\n                    <option value=\"CANCELLED\">CANCELLED</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-300/50 dark:border-gray-700\">\r\n                <button type=\"button\" onClick={() => setShowEdit(false)} className={`px-5 py-2 rounded-lg font-semibold transition-colors border ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}>    Cancel</button>\r\n                <button type=\"submit\" disabled={submitting} className=\"px-5 py-2 bg-yellow-500 text-white rounded-lg font-semibold shadow-md hover:bg-yellow-600 disabled:bg-yellow-400 disabled:cursor-not-allowed transition-colors\">    {submitting ? 'Updating...' : 'Update'}</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n)}\r\n    </div>\r\n  );\r\n};\r\nconst ProjectOverviewForm = ({ mode = 'create', projectId, initialData = {}, onClose = () => {}, onSuccess = () => {} }) => {\r\n  const { theme } = useContext(Context);\r\n  const [form, setForm] = useState({\r\n    timeline_progress: initialData.timeline_progress || '',\r\n    client: initialData.client || '',\r\n    total_cost: initialData.total_cost || '',\r\n    days_to_work: initialData.days_to_work || '',\r\n    priority: initialData.priority || '',\r\n    startedOn: initialData.startedOn ? initialData.startedOn.slice(0,10) : '',\r\n    endDate: initialData.endDate ? initialData.endDate.slice(0,10) : '',\r\n    manager_employeeId: initialData.manager?.employeeId || '',\r\n    manager_name: initialData.manager?.name || '',\r\n    dueAlert: typeof initialData.dueAlert !== 'undefined' ? initialData.dueAlert : 0,\r\n  });\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const base = 'https://hrms.anasolconsultancyservices.com/api/employee';\r\n  const handleChange = (k) => (e) => setForm(prev => ({ ...prev, [k]: e.target.value }));\r\n  const persistReturnedToken = async (res, bodyData) => {\r\n    const authHeader = res.headers.get('authorization') || res.headers.get('Authorization');\r\n    if (authHeader) {\r\n      const raw = String(authHeader).startsWith('Bearer ') ? authHeader.split(' ')[1] : authHeader;\r\n      try { localStorage.setItem('accessToken', raw); } catch {}\r\n    }\r\n    const returnedToken = bodyData?.accessToken || bodyData?.token || bodyData?.jwt;\r\n    if (returnedToken) {\r\n      const raw = String(returnedToken).startsWith('Bearer ') ? returnedToken.split(' ')[1] : returnedToken;\r\n      try { localStorage.setItem('accessToken', raw); } catch {}\r\n    }\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e?.preventDefault();\r\n    if (!projectId) return alert('Project id missing');\r\n    const token = localStorage.getItem('accessToken');\r\n    if (!token) return alert('Missing access token. Please login.');\r\n    const payload = {\r\n      timeline_progress: form.timeline_progress,\r\n      client: form.client,\r\n      total_cost: form.total_cost,\r\n      days_to_work: form.days_to_work,\r\n      priority: form.priority,\r\n      startedOn: form.startedOn || null,\r\n      endDate: form.endDate || null,\r\n      manager: { employeeId: form.manager_employeeId, name: form.manager_name },\r\n      dueAlert: Number(form.dueAlert || 0)\r\n    };\r\n    const url = mode === 'create'\r\n      ? `${base}/create/ProjectOverview/${encodeURIComponent(projectId)}`\r\n      : `${base}/update/ProjectOverview/${encodeURIComponent(projectId)}`;\r\n    setSubmitting(true);\r\n    try {\r\n      const res = await fetch(url, {\r\n        method: mode === 'create' ? 'POST' : 'PUT',\r\n        headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\r\n        body: JSON.stringify(payload)\r\n      });\r\n      const body = await res.json().catch(() => null);\r\n      await persistReturnedToken(res, body);\r\n      if (!res.ok) {\r\n        const msg = body?.message || res.statusText || `Status ${res.status}`;\r\n        throw new Error(msg);\r\n      }\r\n      onSuccess(body || payload);\r\n      onClose();\r\n    } catch (err) {\r\n      console.error(`${mode} overview failed`, err);\r\n      alert(`Failed to ${mode} overview: ${err.message || err}`);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm\">\r\n    <form onSubmit={handleSubmit} className={`w-full max-w-2xl p-8 rounded-2xl shadow-2xl transition-all duration-300 ${theme === 'dark' ? 'bg-gray-900 text-gray-100 border border-gray-700' : 'bg-white text-gray-800 border border-gray-200'}`} onClick={e => e.stopPropagation()}>\r\n        <div className=\"flex justify-between items-start mb-6 pb-2 border-b border-gray-300/50\">\r\n            <h3 className=\"text-2xl font-extrabold tracking-tight\">\r\n                {mode === 'create' ? 'Create Project Overview' : 'Update Project Overview'}\r\n            </h3>\r\n            <button type=\"button\" onClick={onClose} className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors text-2xl leading-none\">\r\n                &times;\r\n            </button>\r\n        </div>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4\">\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Timeline Progress</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.timeline_progress} onChange={handleChange('timeline_progress')} placeholder=\"e.g., 50%\" />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Client</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.client} onChange={handleChange('client')} placeholder=\"Client Company Name\" />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Total Cost</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.total_cost} onChange={handleChange('total_cost')} placeholder=\"e.g., $15,000\" />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Days to Work</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.days_to_work} onChange={handleChange('days_to_work')} placeholder=\"e.g., 45\" />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Priority</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.priority} onChange={handleChange('priority')} placeholder=\"e.g., High, Medium, Low\" />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Due Alert (days)</label>\r\n                <input type=\"number\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.dueAlert} onChange={handleChange('dueAlert')} placeholder=\"e.g., 7\" />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Start Date</label>\r\n                <input type=\"date\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.startedOn} onChange={handleChange('startedOn')} />\r\n            </div>\r\n            <div>\r\n                <label className=\"block text-sm font-medium mb-1\">End Date</label>\r\n                <input type=\"date\" className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.endDate} onChange={handleChange('endDate')} />\r\n            </div>\r\n            <div className=\"sm:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Manager Employee ID</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.manager_employeeId} onChange={handleChange('manager_employeeId')} placeholder=\"e.g., MGR101\" />\r\n            </div>\r\n            <div className=\"sm:col-span-2\"> \r\n                <label className=\"block text-sm font-medium mb-1\">Manager Name</label>\r\n                <input className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${theme === 'dark' ? 'bg-gray-800 border-gray-600 placeholder-gray-400' : 'bg-gray-50 border-gray-300'}`} value={form.manager_name} onChange={handleChange('manager_name')} placeholder=\"Full Name\" />\r\n            </div>\r\n        </div>\r\n        <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-300/50\">\r\n            <button type=\"button\" onClick={onClose} className={`px-5 py-2 rounded-lg font-semibold transition-colors border ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}>\r\n                Cancel\r\n            </button>\r\n            <button type=\"submit\" disabled={submitting} className=\"px-5 py-2 bg-blue-600 text-white rounded-lg font-semibold shadow-md hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed transition-colors\">\r\n                {submitting ? 'Saving...' : (mode === 'create' ? 'Create' : 'Update')}\r\n            </button>\r\n        </div>\r\n    </form>\r\n</div>\r\n  );\r\n};\r\nconst APIBASE_URL = 'https://hrms.anasolconsultancyservices.com/api/employee/overview/';\r\nconst storeAccessToken = (rawTokenOrHeader) => {\r\n    if (!rawTokenOrHeader) return;\r\n    const token = String(rawTokenOrHeader).startsWith('Bearer ')\r\n        ? String(rawTokenOrHeader).split(' ')[1]\r\n        : String(rawTokenOrHeader);\r\n    try { localStorage.setItem('accessToken', token); } catch (e) { /* ignore */ }\r\n};\r\n const ProjectDetails = ({ projectId: propProjectId }) => {\r\n    const { projectId: paramProjectId } = useParams();\r\n    const [projectId, setProjectId] = useState(() => propProjectId || paramProjectId || localStorage.getItem('selectedProjectId') || '');\r\n    const [projectData, setProjectData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const {theme, userData} = useContext(Context);\r\n    const [showUpdateOverview, setShowUpdateOverview] = useState(false);\r\n    const [loggedPermissiondata,setLoggedPermissionData]=useState([]);\r\n          const [matchedArray,setMatchedArray]=useState(null);\r\n           const LoggedUserRole=userData?.roles[0]?`ROLE_${userData?.roles[0]}`:null\r\n           useEffect(()=>{\r\n             let fetchedData=async()=>{\r\n                     let response = await authApi.get(`role-access/${LoggedUserRole}`);\r\n                     console.log(\"from MyTeam :\",response.data);\r\n                     setLoggedPermissionData(response.data);\r\n             }\r\n             fetchedData();\r\n             },[])\r\n        \r\n             useEffect(()=>{\r\n             if(loggedPermissiondata){\r\n                 setMatchedArray(loggedPermissiondata?.permissions)\r\n             }\r\n             },[loggedPermissiondata]);\r\n             console.log(matchedArray);\r\n    useEffect(() => {\r\n        if (propProjectId && propProjectId !== projectId) {\r\n            setProjectId(propProjectId);\r\n            try { localStorage.setItem('selectedProjectId', propProjectId); } catch {}\r\n        }\r\n    }, [propProjectId]);\r\n    useEffect(() => {\r\n       const fetchProjectData = async () => {\r\n           setLoading(true);\r\n           setError(null);\r\n           if (!projectId) {\r\n               setError('No project selected. Select a project to view details.');\r\n               setLoading(false);\r\n               setProjectData(null);\r\n               return;\r\n           }\r\n           const url = `${APIBASE_URL}${encodeURIComponent(projectId)}`;\r\n           const token = localStorage.getItem('accessToken');\r\n           if (!token) {\r\n               setError('Access token missing. Please login (store accessToken in localStorage).');\r\n               setLoading(false);\r\n               return;\r\n           }\r\n           try {\r\n               const response = await fetch(url, {\r\n                   method: 'GET',\r\n                   headers: {\r\n                       'Authorization': `Bearer ${token}`,\r\n                       'Accept': 'application/json',\r\n                   },\r\n               });\r\n               const authHeader = response.headers.get('authorization') || response.headers.get('Authorization');\r\n               if (authHeader) storeAccessToken(authHeader);\r\n               if (response.status === 401) {\r\n                   setError('Unauthorized (401). Access token invalid or expired. Please re-login.');\r\n                   setProjectData(null);\r\n                   return;\r\n               }\r\n               if (!response.ok) {\r\n                   const txt = await response.text().catch(() => null);\r\n                   throw new Error(txt || `HTTP ${response.status}`);\r\n               }\r\n               const data = await response.json();\r\n               const returnedToken = data?.accessToken || data?.token || data?.jwt;\r\n               if (returnedToken) storeAccessToken(returnedToken);\r\n\r\n               setProjectData(data);\r\n           } catch (err) {\r\n               console.error(\"Fetch error:\", err);\r\n               setError(`Failed to fetch project data. Check the token and URL. Error: ${err.message}`);\r\n           } finally {\r\n               setLoading(false);\r\n           }\r\n       };\r\n       fetchProjectData();\r\n     }, [projectId]); \r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-40\"><p className=\"text-xl text-blue-600\">Loading project details...</p></div>\r\n        );\r\n    }\r\n    if (error) {\r\n        return (\r\n            <div className=\"bg-red-100 border border-red-400 text-red-700 p-4 rounded m-6\" role=\"alert\"><p className=\"font-bold\">Error!</p><p className=\"text-sm\">{error}</p></div>\r\n        );\r\n    }\r\n    if (!projectData) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-40\"><p className=\"text-xl text-gray-500\">No project data found.</p></div>\r\n        );\r\n    }\r\n    return (\r\n        <div className=\"p-2 space-y-4\">\r\n            <div className=\"flex items-end justify-end border-b pb-2 mb-2\">\r\n               {(matchedArray || []).includes(\"EDIT_PROJECT_OVERVIEW\") && (<button title=\"Update Overview\" onClick={() => setShowUpdateOverview(true)} className=\"p-2 rounded-md bg-yellow-500 text-white hover:bg-yellow-600\"><FiEdit /></button>)}\r\n            </div>\r\n            {/* General Project Info */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\r\n                <InfoCard title=\"Client\" value={projectData.client} />\r\n                <InfoCard title=\"Total Cost\" value={`$${projectData.total_cost || 'N/A'}`} />\r\n                <InfoCard title=\"Timeline Progress\" value={projectData.timeline_progress} />\r\n                <InfoCard title=\"Priority\" value={projectData.priority} />\r\n            </div> \r\n             {showUpdateOverview && (\r\n              <ProjectOverviewForm mode=\"update\" projectId={projectId} initialData={projectData} onClose={() => setShowUpdateOverview(false)} onSuccess={(updated) => {  setProjectData(updated); }} />\r\n            )}           \r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <InfoCard title=\"Start Date\" value={projectData.startedOn ? new Date(projectData.startedOn).toLocaleDateString() : 'N/A'} />\r\n                <InfoCard title=\"End Date\" value={projectData.endDate ? new Date(projectData.endDate).toLocaleDateString() : 'N/A'} />\r\n                <InfoCard title=\"Days to Work\" value={projectData.days_to_work} />\r\n            </div>\r\n            {projectData.manager && (\r\n                <div className={`p-1 rounded-lg border-l-4 border-blue-500 shadow-md ${theme === 'dark' ? 'bg-gray-800' : 'bg-blue-50'}`}>\r\n                    <h2 className={`text-xl font-semibold ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'} mb-1`}>Project Manager</h2>\r\n                    <p className={`${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}><span className=\"font-medium\">Name:</span> {projectData.manager.name}</p>\r\n                    <p className={`${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}><span className=\"font-medium\">Employee ID:</span> {projectData.manager.employeeId}</p>\r\n                </div>\r\n            )}\r\n            \r\n            {/* Due Alert */}\r\n            <div className=\"pt-2 border-t mt-2\">\r\n                <p className={`text-lg font-bold ${projectData.dueAlert > 0 ? 'text-red-600' : 'text-green-600'}`}> Due Alert: {projectData.dueAlert} {projectData.dueAlert > 0 ? 'Days Overdue!' : 'No Alert'} </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Helper component for cleaner display\r\nconst InfoCard = ({ title, value }) => {\r\n    const {theme} = useContext(Context);\r\n    return (\r\n    <div className={`p-2 rounded-lg border shadow-sm ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}>\r\n        <p className={`text-sm font-medium ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>{title}</p>\r\n        <p className={`text-lg font-semibold ${theme === 'dark' ? 'text-gray-100' : 'text-gray-900'}`}>{value || 'N/A'}</p>\r\n    </div>\r\n    );  \r\n};\r\nconst projectData = {projectDetails: {},};\r\nconst calculateProgress = (startDateStr, endDateStr) => {\r\n    const start = new Date(startDateStr);\r\n    const end = new Date(endDateStr);\r\n    const today = new Date();\r\n\r\n    start.setHours(0,0,0,0);\r\n    end.setHours(0,0,0,0);\r\n    today.setHours(0,0,0,0);\r\n\r\n    const totalDuration = end.getTime() - start.getTime();\r\n    const elapsedDuration = today.getTime() - start.getTime();\r\n\r\n    if (totalDuration <= 0 || elapsedDuration < 0) return 0;\r\n    if (elapsedDuration >= totalDuration) return 100;\r\n\r\n    return Math.min(100, Math.round((elapsedDuration / totalDuration) * 100));\r\n};\r\nconst ProjectCard = () => {\r\n    const {theme,userData} = useContext(Context);\r\n    const motion = {\r\n        div: ({ children, ...props }) => <div {...props}>{children}</div>,\r\n        button: ({ children, ...props }) => <button {...props}>{children}</button>,\r\n        span: ({ children, ...props }) => <span {...props}>{children}</span>,\r\n        h2: ({ children, ...props }) => <h2 {...props}>{children}</h2>,\r\n        p: ({ children, ...props }) => <p {...props}>{children}</p>,\r\n    };\r\n    const { projectId: paramProjectId } = useParams();\r\n    const [projectId, setProjectId] = useState(() => paramProjectId || localStorage.getItem('selectedProjectId') || '');\r\n\r\n    const [rolesData, setRolesData] = useState(null);\r\n    const [rolesLoading, setRolesLoading] = useState(false); \r\n\r\n    const [localProjectData, setLocalProjectData] = useState(null);\r\n    const [showCreateOverview, setShowCreateOverview] = useState(false);\r\n    const [overviewSubmitting, setOverviewSubmitting] = useState(false);\r\n\r\n    const [showSprintModal, setShowSprintModal] = useState(false);\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [carouselProjects, setCarouselProjects] = useState([]);\r\n    const [loadingCarousel, setLoadingCarousel] = useState(false);\r\n    const [currentProject, setCurrentProject] = useState(null);\r\n    const [loadingProject, setLoadingProject] = useState(false);\r\n    const icon = currentProject?.icon || '';\r\n    const color = currentProject?.color || 'text-indigo-500';\r\n    // compute progress using the fetched localProjectData (fallback to module-level `projectData` if needed)\r\n    const progressSource = localProjectData || projectData;\r\n    const progressPercent = calculateProgress(progressSource?.projectDetails?.startedOn, progressSource?.projectDetails?.endDate);\r\n\r\n    const [loggedPermissiondata,setLoggedPermissionData]=useState([]);\r\n          const [matchedArray,setMatchedArray]=useState(null);\r\n           const LoggedUserRole=userData?.roles[0]?`ROLE_${userData?.roles[0]}`:null\r\n           useEffect(()=>{\r\n             let fetchedData=async()=>{\r\n                     let response = await authApi.get(`role-access/${LoggedUserRole}`);\r\n                     console.log(\"from MyTeam :\",response.data);\r\n                     setLoggedPermissionData(response.data);\r\n             }\r\n             fetchedData();\r\n             },[])\r\n        \r\n             useEffect(()=>{\r\n             if(loggedPermissiondata){\r\n                 setMatchedArray(loggedPermissiondata?.permissions)\r\n             }\r\n             },[loggedPermissiondata]);\r\n             console.log(matchedArray);\r\n     const loadCarouselProjects = async () => {\r\n    setLoadingCarousel(true);\r\n    try {\r\n      const token = getAccessToken();\r\n      if (!token) return;\r\n      const list = await fetchProjects(0, 10, token).catch(() => []);\r\n      const arr = Array.isArray(list) ? list : (list.content || []);\r\n      setCarouselProjects(arr);\r\n      if (arr.length) {\r\n        setCurrentIndex(0);\r\n        await loadProjectDetailsById(arr[0].projectId || arr[0].project_id);\r\n      }\r\n    } catch (err) {\r\n      console.error('loadCarouselProjects error', err);\r\n    } finally {\r\n      setLoadingCarousel(false);\r\n    }\r\n  };\r\n  const loadProjectDetailsById = async (pid) => {\r\n    if (!pid) return;\r\n    setLoadingProject(true);\r\n    try {\r\n      const token = getAccessToken();\r\n      if (!token) throw new Error('Missing token');\r\n      const overviewUrl = `${APIBASE_URL}${encodeURIComponent(pid)}`;\r\n      const overviewRes = await fetch(overviewUrl, { headers: { Authorization: `Bearer ${token}`, Accept: 'application/json' } });\r\n      const overviewBody = overviewRes.ok ? await overviewRes.json().catch(() => null) : null;\r\n      const rolesUrl = `https://hrms.anasolconsultancyservices.com/api/employee/${encodeURIComponent(pid)}/roles`;\r\n      const rolesRes = await fetch(rolesUrl, { headers: { Authorization: `Bearer ${token}`, Accept: 'application/json' } });\r\n      const rolesBody = rolesRes.ok ? await rolesRes.json().catch(() => []) : [];\r\n      let kpiBody = null;\r\n      const empId = userData?.employeeId;\r\n      if (empId) {\r\n        try {\r\n          const kpiUrl = `https://hrms.anasolconsultancyservices.com/api/employee/kpi/${encodeURIComponent(empId)}/${encodeURIComponent(pid)}`;\r\n          const kpiRes = await fetch(kpiUrl, { headers: { Authorization: `Bearer ${token}`, Accept: 'application/json' } });\r\n          if (kpiRes.ok) kpiBody = await kpiRes.json().catch(() => null);\r\n        } catch (e) { /* ignore KPI error */ }\r\n      }\r\n      const normalized = {\r\n        projectId: pid,\r\n        name: overviewBody?.projectName || overviewBody?.title || overviewBody?.projectName || carouselProjects.find(p => (p.projectId||p.project_id) === pid)?.title || pid,\r\n        description: overviewBody?.projectDescription || overviewBody?.description || overviewBody?.project_details || '',\r\n        status: overviewBody?.status || overviewBody?.projectStatus || (overviewBody?.projectDetails?.status) || 'N/A',\r\n        kpis: kpiBody?.kpis || overviewBody?.kpis || overviewBody?.KPIs || carouselProjects.find(p => (p.projectId||p.project_id) === pid)?.kpis || {},\r\n        overview: overviewBody || null,\r\n        teamAllocation: Array.isArray(rolesBody) ? rolesBody : (rolesBody?.roles || []),\r\n      };\r\n      setCurrentProject(normalized);\r\n      setLocalProjectData(normalized.overview || null);\r\n      try { setProjectId(pid); localStorage.setItem('selectedProjectId', pid); } catch {}\r\n    } catch (err) {\r\n      console.error('loadProjectDetailsById error', err);\r\n    } finally {\r\n      setLoadingProject(false);\r\n    }\r\n  };\r\n   useEffect(() => { loadCarouselProjects(); }, []);\r\n    const loadRoles = async (pid) => {\r\n     if (!pid) return;\r\n     setRolesLoading(true);\r\n     try {\r\n       const token = localStorage.getItem('accessToken');\r\n       const url = `https://hrms.anasolconsultancyservices.com/api/employee/${encodeURIComponent(pid)}/roles`;\r\n       const res = await fetch(url, { headers: { Accept: 'application/json', Authorization: token ? `Bearer ${token}` : undefined } });\r\n       if (!res.ok) {\r\n         console.warn('Failed to load roles', res.status);\r\n         setRolesData(null);\r\n         return;\r\n       }\r\n       const body = await res.json().catch(() => null);\r\n       if (Array.isArray(body)) {\r\n         const mapped = body.map(g => ({\r\n           role: g.role || 'Unknown',\r\n           count: typeof g.count === 'number' ? g.count : (Array.isArray(g.employees) ? g.employees.length : 0),\r\n           employees: Array.isArray(g.employees) ? g.employees.map(e => ({\r\n             employeeId: e.employeeId,\r\n             name: e.displayName || e.employeeName || e.name,\r\n             image: e.employeeImage || null\r\n           })) : []\r\n         }));\r\n         setRolesData(mapped);\r\n       } else {\r\n         setRolesData(null);\r\n       }\r\n     } catch (err) {\r\n       console.error('loadRoles error', err);\r\n       setRolesData(null);\r\n     } finally {\r\n       setRolesLoading(false);\r\n     }\r\n   };\r\n   useEffect(() => { if (projectId) loadRoles(projectId); }, [projectId]);\r\n    const handleDeleteOverview = async () => {\r\n       if (!projectId) return alert('Project id missing');\r\n       if (!window.confirm(`Delete overview for ${projectId}? This cannot be undone.`)) return;\r\n       const token = localStorage.getItem('accessToken');\r\n       if (!token) return alert('Missing access token. Please login.');\r\n       setOverviewSubmitting(true);\r\n       try {\r\n         const url = `https://hrms.anasolconsultancyservices.com/api/employee/delete/${encodeURIComponent(projectId)}`;\r\n         const res = await fetch(url, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` } });\r\n         const body = await res.json().catch(()=>null);\r\n         // persist token if returned\r\n         const authHeader = res.headers.get('authorization') || res.headers.get('Authorization');\r\n         if (authHeader) storeAccessToken(authHeader);\r\n         if (body?.accessToken || body?.token || body?.jwt) storeAccessToken(body?.accessToken || body?.token || body?.jwt);\r\n         if (!res.ok) throw new Error(body?.message || res.statusText || `Status ${res.status}`);\r\n         setLocalProjectData(null);\r\n         alert('Project overview deleted.');\r\n       } catch (err) {\r\n         console.error('Delete overview failed', err);\r\n         alert('Delete failed: ' + (err.message || err));\r\n       } finally {\r\n         setOverviewSubmitting(false);\r\n       }\r\n     };\r\n    const goToNextProject = async () => {\r\n      if (!carouselProjects.length) return;\r\n      const next = (currentIndex + 1) % carouselProjects.length;\r\n      setCurrentIndex(next);\r\n      const pid = carouselProjects[next].projectId || carouselProjects[next].project_id;\r\n      await loadProjectDetailsById(pid);\r\n    };\r\n    const goToPreviousProject = async () => {\r\n      if (!carouselProjects.length) return;\r\n      const prev = (currentIndex - 1 + carouselProjects.length) % carouselProjects.length;\r\n      setCurrentIndex(prev);\r\n      const pid = carouselProjects[prev].projectId || carouselProjects[prev].project_id;\r\n      await loadProjectDetailsById(pid);\r\n    };\r\n    const getAvatarUrl = (index) => `https://i.pravatar.cc/40?img=${index + 1}`;\r\n    const getStatusClasses = (status) => {\r\n        switch (status) {\r\n            case 'On Track':\r\n                return 'bg-green-100 text-green-800 ring-green-500';\r\n            case 'At Risk':\r\n                return 'bg-yellow-100 text-yellow-800 ring-yellow-500';\r\n            case 'Completed':\r\n                return 'bg-blue-100 text-blue-800 ring-blue-500';\r\n            default:\r\n                return 'bg-gray-100 text-gray-800 ring-gray-500';\r\n        }\r\n    };\r\n    return (\r\n        <motion.div className={`relative p-6 rounded-xl shadow-2xl mx-auto border border-orange-400  ${theme==='dark' ? 'bg-gray-700':'bg-gradient-to-r from-orange-10 to-orange-50'}`} key={currentIndex} >\r\n           <motion.span className={`absolute top-4 right-4 text-sm font-bold py-1 px-3 rounded-full shadow-md ring-2 ${getStatusClasses(currentProject?.status)}`} >\r\n                {currentProject?.status || 'N/A'}\r\n            </motion.span>\r\n            <div className=\"flex items-center mb-6 flex-wrap\">\r\n                 <motion.span className={`text-5xl mr-4 ${color}`} >{icon} </motion.span>\r\n                 <motion.h2 className={`text-3xl sm:text-4xl font-extrabold ${color} mt-2 sm:mt-0`} >{currentProject?.name || 'Project'} </motion.h2>\r\n            </div>\r\n            <motion.p className={`text-base sm:text-lg mb-6 leading-relaxed ${theme==='dark' ? 'text-gray-200':'text-gray-700'}`} >\r\n                {currentProject?.description || currentProject?.overview?.projectDescription || ''}\r\n             </motion.p>\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-2 \">\r\n              <motion.div className={`p-4 rounded-lg shadow-lg border border-gray-200 ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-gradient-to-br from-yellow-50 to-white'}`} >\r\n                   <div className=\"relative\">\r\n                     {(matchedArray || []).includes(\"CREATE_SPRINT\") && (<button\r\n                       type=\"button\"\r\n                       title=\"Open Sprints\"\r\n                       onClick={() => setShowSprintModal(true)}\r\n                       className=\"absolute top-2 right-2 z-10 inline-flex items-center gap-2 px-2 py-1 rounded-md bg-indigo-600 text-white text-xs hover:bg-indigo-700\"\r\n                     >\r\n                       Sprints\r\n                     </button>)}\r\n                     <h2 className=\"text-xl font-bold mb-2 border-b pb-2 text-yellow-600\">Key Metrics (KPIs)</h2>\r\n                     <div className=\"mt-2\">\r\n                       <dl className=\"space-y-3\">\r\n                         {currentProject?.kpis && Object.keys(currentProject.kpis).length ? (\r\n                           Object.entries(currentProject.kpis).map(([key, value]) => (\r\n                             <div key={key} className=\"flex justify-between border-b border-gray-100 pb-2\">\r\n                               <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">{key}</dt>\r\n                               <dd className=\"text-md font-semibold text-gray-500 dark:text-gray-400\">{value}</dd>\r\n                             </div>\r\n                           ))\r\n                         ) : (\r\n                           <div className=\"text-sm text-gray-500\">No KPI data available for this project.</div>\r\n                         )}\r\n                       </dl>\r\n                     </div>\r\n                   </div>\r\n                </motion.div>\r\n                {showSprintModal && (\r\n                  <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40\">\r\n                    <div className=\"w-full max-w-4xl bg-white rounded-xl shadow-xl overflow-auto\">\r\n                      <div className=\"flex items-center justify-between p-4 border-b\">\r\n                        <h3 className=\"text-lg font-semibold\">Sprints for {projectId}</h3>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <button onClick={() => setShowSprintModal(false)} className=\"px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300\">Close</button>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"p-4\">\r\n                        <SprintTable projectId={projectId} />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <motion.div className={`p-4 rounded-lg shadow-lg border border-gray-200 col-span-1 lg:col-span-2 ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-gradient-to-br from-blue-50 to-white'} mt-6`} >\r\n                    <div className=\"flex items-start justify-between border-b pb-2 mb-2\">\r\n              <h1 className={`text-3xl font-extrabold ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Project Overview ({projectId})</h1>\r\n              <div className=\"flex items-center gap-2\">\r\n                {(matchedArray || []).includes(\"CREATE_PROJECT_OVERVIEW\") && (<button title=\"Create Overview\" onClick={() => setShowCreateOverview(true)} className=\"p-2 rounded-md bg-green-600 text-white hover:bg-green-700\"><FaPlus /></button>\r\n                )}\r\n                {(matchedArray || []).includes(\"DELETE_PROJECT_OVERVIEW\") && (<button title=\"Delete Overview\" onClick={handleDeleteOverview} disabled={overviewSubmitting} className=\"p-2 rounded-md bg-red-600 text-white hover:bg-red-700\"><FiDelete /></button>)}\r\n              </div>\r\n            </div>\r\n                   <ProjectDetails projectId={projectId} />\r\n                    <AnimatePresence>\r\n            {showCreateOverview && (\r\n              <ProjectOverviewForm mode=\"create\" projectId={projectId} initialData={{}} onClose={() => setShowCreateOverview(false)} onSuccess={(newData) => {  setLocalProjectData(newData); }} />\r\n            )}\r\n          </AnimatePresence>\r\n                </motion.div>\r\n                <motion.div className={`p-4 rounded-lg shadow-lg border border-gray-100 col-span-1 lg:col-span-3 ${theme==='dark' ? 'bg-gray-800 text-white':'bg-gradient-to-br from-indigo-50 to-white'}`} >\r\n                    <h3 className={`text-xl sm:text-2xl font-bold mb-4 border-b pb-2 ${theme==='dark' ? 'text-white':'text-gray-800'}`}>Team Allocation</h3>\r\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-y-4 gap-x-6\">\r\n                      {rolesLoading ? (\r\n                        <div className=\"col-span-3 py-6 text-center text-sm text-gray-500\">Loading team allocation...</div>\r\n                      ) : ((currentProject?.teamAllocation && currentProject.teamAllocation.length) ? currentProject.teamAllocation : (rolesData ?? currentProject?.team ?? [])).map((teamMember, index) => {\r\n                           const role = teamMember.role || teamMember.roleName || 'Team';\r\n                           const count = teamMember.count ?? (teamMember.avatars ? teamMember.avatars[0] : 0);\r\n                           const employees = teamMember.employees || teamMember.members || [];\r\n                          return (\r\n                            <motion.div key={role + index} className=\"flex flex-col sm:flex-row sm:items-center justify-between p-2 rounded-md transition border-l-4 border-indigo-400\" >\r\n                                <p className={`font-semibold text-base ${theme === 'dark' ? 'text-white' : 'text-gray-800'} mb-1 sm:mb-0`}>{role}</p>\r\n                                <div className=\"flex items-center\">\r\n                                    <span className=\"text-sm font-bold mr-3\">{count}</span>\r\n                                    <div className=\"flex -space-x-2 overflow-hidden\">\r\n                                      {employees.length ? (\r\n                                         employees.slice(0,4).map((emp, avatarIndex) => (\r\n                                          <img key={emp.employeeId || avatarIndex} className={`inline-block h-8 w-8 rounded-full ring-2 ${theme === 'dark' ? 'ring-gray-800' : 'ring-white'} object-cover`}  src={emp.image || emp.employeeImage || getAvatarUrl(avatarIndex + 1 + index * 5)}  alt={emp.name || emp.displayName || `Member ${avatarIndex+1}`}  title={emp.name || emp.displayName}/>\r\n                                        ))\r\n                                      ) : (\r\n                                        Array.from({ length: Math.min(count || 1, 4) }).map((_, avatarIndex) => (\r\n                                          <img key={avatarIndex} className={`inline-block h-8 w-8 rounded-full ring-2 ${theme === 'dark' ? 'ring-gray-800' : 'ring-white'} object-cover`} src={getAvatarUrl(avatarIndex + 1 + index * 5)} alt={`Avatar ${avatarIndex + 1}`} />\r\n                                        ))\r\n                                      )}\r\n                                      {count > 4 && (\r\n                                        <span className=\"flex items-center justify-center h-8 w-8 rounded-full bg-gray-300 text-xs font-medium text-gray-700 ring-2 ring-white dark:bg-gray-600 dark:text-white\">\r\n                                          +{count - 4}\r\n                                        </span>\r\n                                      )}\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n                          );\r\n                      })}\r\n                    </div>\r\n                </motion.div>\r\n            </div>\r\n            <div className=\"flex justify-between mt-8 flex-wrap gap-4\">\r\n                <div className=\"relative inline-flex items-center justify-center gap-4 group\">  \r\n                <div className=\"absolute inset-0 duration-1000 opacity-60 transitiona-all bg-gradient-to-r from-indigo-500 via-pink-500 to-yellow-400 rounded-xl blur-lg filter group-hover:opacity-100 group-hover:duration-200\" ></div>\r\n                <a\r\n                    role=\"button\"\r\n                    className=\"group relative inline-flex items-center justify-center text-base rounded-xl bg-gray-900 px-4 py-3 font-semibold text-white transition-all duration-200 hover:bg-gray-800 hover:shadow-lg hover:-translate-y-0.5 hover:shadow-gray-600/30\"\r\n                    title=\"Previous Project\"\r\n                    onClick={goToPreviousProject}\r\n                    href=\"#\"\r\n                    >Previous <svg aria-hidden=\"true\" viewBox=\"0 0 10 10\" height=\"10\" width=\"10\" fill=\"none\" className=\"mt-0.5 ml-2 -mr-1 stroke-white stroke-2\" >\r\n                        <path d=\"M0 5h7\" className=\"transition opacity-0 group-hover:opacity-100\" ></path>\r\n                        <path d=\"M1 1l4 4-4 4\" className=\"transition group-hover:translate-x-[3px]\" ></path>\r\n                    </svg>\r\n                </a>\r\n                </div>\r\n                <div className=\"relative inline-flex items-center justify-center gap-4 group\">\r\n                    <div\r\n                        className=\"absolute inset-0 duration-1000 opacity-60 transitiona-all bg-gradient-to-r from-indigo-500 via-pink-500 to-yellow-400 rounded-xl blur-lg filter group-hover:opacity-100 group-hover:duration-200\"\r\n                    ></div>\r\n                    <a\r\n                        role=\"button\"\r\n                        className=\"group relative inline-flex items-center justify-center text-base rounded-xl bg-gray-900 px-8 py-3 font-semibold text-white transition-all duration-200 hover:bg-gray-800 hover:shadow-lg hover:-translate-y-0.5 hover:shadow-gray-600/30\"\r\n                        title=\"Next Project\"\r\n                        onClick={goToNextProject}\r\n                        href=\"#\"\r\n                        >Next <svg aria-hidden=\"true\" viewBox=\"0 0 10 10\" height=\"10\" width=\"10\" fill=\"none\" className=\"mt-0.5 ml-2 -mr-1 stroke-white stroke-2\" >  <path d=\"M0 5h7\" className=\"transition opacity-0 group-hover:opacity-100\" ></path>  <path d=\"M1 1l4 4-4 4\" className=\"transition group-hover:translate-x-[3px]\" ></path></svg>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n};\r\nconst API_ENDPOINT = 'https://hrms.anasolconsultancyservices.com/api/employee/project';\r\nconst ProjectForm = ({ onClose, editProject = null, onSuccess = () => {} }) => {\r\n   const [formData, setFormData] = useState({\r\n     title: '',\r\n     description: '',\r\n     projectPriority: 'Medium',\r\n     projectStatus: 'Not Started',\r\n     startDate: '',\r\n     endDate: '',\r\n     openTask: 0,\r\n     closedTask: 0,\r\n     teamLeadId: [''],\r\n   });\r\n   const statusOptions = [\r\n    { value: 'In Progress', label: 'In Progress' },\r\n    { value: 'Completed', label: 'Completed' },\r\n    { value: 'Not Started', label: 'Not Started' },\r\n  ];\r\n   const [fileAttachment, setFileAttachment] = useState(null);\r\n   const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [rawErrorDetail, setRawErrorDetail] = useState(null);\r\n   const [submissionMessage, setSubmissionMessage] = useState('');\r\n  useEffect(() => {\r\n    if (!editProject) return;\r\n    setFormData({\r\n      title: editProject.title || editProject.project_name || editProject.title || '',\r\n      description: editProject.description || '',\r\n      projectPriority: editProject.projectPriority || editProject.Priority || 'Medium',\r\n      projectStatus: editProject.projectStatus || editProject.status || 'Not Started',\r\n      startDate: editProject.startDate || editProject.start_date || '',\r\n      endDate: editProject.endDate || editProject.end_date || '',\r\n      openTask: editProject.openTask ?? editProject.Open_task ?? 0,\r\n      closedTask: editProject.closedTask ?? editProject.Closed_task ?? 0,\r\n      teamLeadId: Array.isArray(editProject.teamLeadId) ? editProject.teamLeadId : (editProject.teamLeadId ? [String(editProject.teamLeadId)] : (editProject.Team_Lead ? [String(editProject.Team_Lead)] : [''])),\r\n    });\r\n    setFileAttachment(null);\r\n  }, [editProject]);\r\n   const handleChange = (e) => {\r\n     const { name, value } = e.target;\r\n     const processedValue = (name === 'openTask' || name === 'closedTask') ? parseInt(value) || 0 : value;\r\n     setFormData((prev) => ({ ...prev, [name]: processedValue }));\r\n   };\r\n   const handleFileChange = (e) => setFileAttachment(e.target.files?.[0] || null);\r\n   const handleTeamLeadChange = (e, idx) => {\r\n     const arr = [...formData.teamLeadId];\r\n     arr[idx] = e.target.value;\r\n     setFormData(prev => ({ ...prev, teamLeadId: arr }));\r\n   };\r\n   const submitProject = async (e) => {\r\n     e.preventDefault();\r\n     setIsSubmitting(true);\r\n     setSubmissionMessage('');\r\n     setRawErrorDetail(null);\r\n     const dto = {\r\n       title: formData.title,\r\n       description: formData.description,\r\n       projectPriority: formData.projectPriority,\r\n       projectStatus: formData.projectStatus,\r\n       startDate: formData.startDate,\r\n       endDate: formData.endDate,\r\n       openTask: Number(formData.openTask || 0),\r\n       closedTask: Number(formData.closedTask || 0),\r\n       teamLeadId: formData.teamLeadId.filter(Boolean),\r\n     };\r\n     const fd = new FormData();\r\n     fd.append('projectDTO', new Blob([JSON.stringify(dto)], { type: 'application/json' }));\r\n     if (fileAttachment) fd.append('details', fileAttachment, fileAttachment.name);\r\n     const token = localStorage.getItem('accessToken');\r\n     if (!token) {\r\n       setSubmissionMessage(' Authentication token missing. Please login.');\r\n       setIsSubmitting(false);\r\n       return;\r\n     }\r\n     try {\r\n      const url = editProject && (editProject.projectId || editProject.project_id)\r\n        ? `${API_ENDPOINT}/${editProject.projectId || editProject.project_id}`\r\n        : API_ENDPOINT;\r\n      const method = editProject ? 'PUT' : 'POST';\r\n            // include Accept header so backend returns JSON/text consistently\r\n      const res = await fetch(url, {\r\n        method,\r\n        headers: { Authorization: `Bearer ${token}`, Accept: 'application/json' },\r\n        body: fd,\r\n      });\r\n      // read raw text then try to parse JSON (safer for non-JSON error responses)\r\n      const raw = await res.text().catch(() => '');\r\n      let errorBody = null;\r\n      try { errorBody = raw ? JSON.parse(raw) : null; } catch (e) { errorBody = null; }\r\n      if (!res.ok) {\r\n        // surface validationErrors if present\r\n        if (errorBody?.validationErrors) {\r\n          const ve = Object.entries(errorBody.validationErrors).map(([k,v]) => `${k}: ${v}`).join('\\n');\r\n          setSubmissionMessage(` Validation failed:\\n${ve}`);\r\n        } else {\r\n          const message = errorBody?.message || raw || res.statusText || `Status ${res.status}`;\r\n          setSubmissionMessage(` Submission failed (${res.status}): ${message}`);\r\n        }\r\n        console.error('Project submit failed', { status: res.status, body: errorBody ?? raw });\r\n        setRawErrorDetail(raw || JSON.stringify(errorBody) || null);\r\n      } else {\r\n        setSubmissionMessage(editProject ? ' Project updated successfully!' : ' Project created successfully!');\r\n         setFormData({\r\n           title: '', description: '', projectPriority: 'Medium', projectStatus: 'Not Started',\r\n           startDate: '', endDate: '', openTask: 0, closedTask: 0, teamLeadId: [''],\r\n         });\r\n         setFileAttachment(null);\r\n          setTimeout(() => {\r\n           try { onSuccess(); } catch {}\r\n           try { onClose(); } catch {}\r\n         }, 600);\r\n       }\r\n         } catch (err) {\r\n       console.error(err);\r\n      setSubmissionMessage(` An error occurred: ${err.message}`);\r\n      setRawErrorDetail((err && err.stack) ? String(err.stack) : String(err));\r\n     } finally {\r\n       setIsSubmitting(false);\r\n     }\r\n   };\r\n   const inputClass = \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150\";\r\n   const labelClass = \"block text-sm font-medium text-gray-700 mb-1\";\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4\">\r\n      <motion.form onSubmit={submitProject} className=\"bg-white p-6 rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto\" >\r\n       <button \r\n             type=\"button\" \r\n             onClick={onClose} \r\n             className=\"absolute w-6 h-6 top-4 right-4 text-gray-400 hover:text-gray-600 text-3xl font-bold p-1 leading-none\"\r\n         >\r\n             &times;\r\n         </button>\r\n        <h1 className=\"text-3xl font-extrabold text-blue-700 border-b pb-3 mb-6 sticky top-0 bg-white z-10\">\r\n          {editProject ? 'Edit Project' : 'Create New Project'}\r\n        </h1>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n           <label htmlFor=\"title\" className={labelClass}>Project Title <span className=\"text-red-500\">*</span></label>\r\n            <input name=\"title\" value={formData.title} onChange={handleChange} required className={inputClass} />\r\n          </div>\r\n          <div>\r\n             <label htmlFor=\"startDate\" className={labelClass}>Start Date <span className=\"text-red-500\">*</span></label>\r\n            <input name=\"startDate\" type=\"date\" value={formData.startDate} onChange={handleChange} className={inputClass} />\r\n          </div>\r\n          <div>\r\n          <label htmlFor=\"endDate\" className={labelClass}>End Date <span className=\"text-red-500\">*</span></label>\r\n            <input name=\"endDate\" type=\"date\" value={formData.endDate} onChange={handleChange} className={inputClass} />\r\n          </div>\r\n          <div>\r\n            <label className={labelClass}>Priority</label>\r\n            <select name=\"projectPriority\" value={formData.projectPriority} onChange={handleChange} className={inputClass}>\r\n              <option>Low</option><option>Medium</option><option>High</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className={labelClass}>Status</label>\r\n            <select name=\"projectStatus\" value={formData.projectStatus} onChange={handleChange} className={inputClass}>\r\n              {statusOptions.map(o => <option key={o.value} value={o.value}>{o.label}</option>)}\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-4\">\r\n          <label htmlFor=\"description\" className={labelClass}>Description <span className=\"text-red-500\">*</span></label>\r\n          <textarea name=\"description\" rows=\"4\" value={formData.description} onChange={handleChange} className={inputClass} />\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\r\n          <div>\r\n            <label className={labelClass}>Open Tasks</label>\r\n            <input name=\"openTask\" type=\"number\" min=\"0\" value={formData.openTask} onChange={handleChange} className={inputClass} />\r\n          </div>\r\n          <div>\r\n            <label className={labelClass}>Closed Tasks</label>\r\n            <input name=\"closedTask\" type=\"number\" min=\"0\" value={formData.closedTask} onChange={handleChange} className={inputClass} />\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-4\">\r\n          <label className={labelClass}>Team Lead ID</label>\r\n          <input name=\"teamLead\" value={formData.teamLeadId[0]} onChange={(e) => handleTeamLeadChange(e, 0)} className={inputClass} placeholder=\"e.g., EMP-005\" />\r\n        </div>\r\n        <div className=\"mt-4 border-t pt-4\">\r\n          <label className={`${labelClass} text-base`}>Details (attach file)</label>\r\n          <input type=\"file\" onChange={handleFileChange} className=\"mt-2\" />\r\n          {fileAttachment && <p className=\"text-sm mt-2\">Selected: <strong>{fileAttachment.name}</strong></p>}\r\n        </div>\r\n        <div className=\"flex justify-end gap-3 mt-6\">\r\n          <button type=\"button\" onClick={onClose} className=\"px-4 py-2 border rounded\">Cancel</button>\r\n          <button type=\"submit\" disabled={isSubmitting} className=\"px-4 py-2 bg-blue-600 text-white rounded\">\r\n            {isSubmitting ? 'Creating...' : 'Create Project'}\r\n          </button>\r\n        </div>\r\n        {submissionMessage && (\r\n          <p className={`mt-4 p-2 rounded ${submissionMessage.startsWith('') ? 'bg-green-50 text-green-700' : 'bg-red-50 text-red-700'}`}>{submissionMessage}</p>\r\n        )}\r\n         {rawErrorDetail && (\r\n          <div className=\"mt-3 p-3 bg-gray-50 rounded border text-xs text-gray-700\">\r\n            <div className=\"font-semibold mb-1\">Server debug:</div>\r\n            <pre className=\"whitespace-pre-wrap break-words\">{rawErrorDetail}</pre>\r\n            <div className=\"flex gap-2 mt-3\">\r\n              <button type=\"button\" onClick={() => { setRawErrorDetail(null); setSubmissionMessage(''); }} className=\"px-3 py-1 border rounded\">Dismiss</button>\r\n              <button type=\"button\" onClick={submitProject} disabled={isSubmitting} className=\"px-3 py-1 bg-blue-600 text-white rounded\">Retry</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </motion.form>\r\n    </div>\r\n  );\r\n};\r\nconst getAccessToken = () => {\r\n    return localStorage.getItem('accessToken'); \r\n}\r\nconst API_BASE_URL = 'https://hrms.anasolconsultancyservices.com/api/employee'; \r\nconst fetchProjects = async (page, size, token, employeeId = null) => {\r\n    if (!token) throw new Error(\"Authentication token missing.\");\r\n    const url = employeeId\r\n      ? `${API_BASE_URL}/projects/${encodeURIComponent(employeeId)}`\r\n      : `${API_BASE_URL}/${page}/${size}/projectId/asc/projects`;\r\n    \r\n    const response = await fetch(url, {\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n        },\r\n    });\r\n    if (!response.ok) {\r\n        if (response.status === 401) {\r\n            throw new Error(\"Unauthorized: Token expired or invalid. Please log in again.\");\r\n        }\r\n        const errorBody = await response.json().catch(() => ({ message: response.statusText }));\r\n        throw new Error(`API Error: ${errorBody.message || response.statusText}`);\r\n    }\r\n    return response.json();\r\n};\r\nfunction Project() {\r\n    const { userData, theme } = useContext(Context);\r\n    const role = (userData?.roles?.[0] || \"\").toUpperCase();\r\n    const showSidebar = [\"TEAM_LEAD\", \"HR\", \"MANAGER\",\"ADMIN\"].includes(role);\r\n     const [loggedPermissiondata,setLoggedPermissionData]=useState([]);\r\n          const [matchedArray,setMatchedArray]=useState(null);\r\n           const LoggedUserRole=userData?.roles[0]?`ROLE_${userData?.roles[0]}`:null\r\n           useEffect(()=>{\r\n             let fetchedData=async()=>{\r\n                     let response = await authApi.get(`role-access/${LoggedUserRole}`);\r\n                     console.log(\"from MyTeam :\",response.data);\r\n                     setLoggedPermissionData(response.data);\r\n             }\r\n             fetchedData();\r\n             },[])\r\n        \r\n             useEffect(()=>{\r\n             if(loggedPermissiondata){\r\n                 setMatchedArray(loggedPermissiondata?.permissions)\r\n             }\r\n             },[loggedPermissiondata]);\r\n             console.log(matchedArray);\r\n             const [hasAccess,setHasAccess]=useState([])\r\n                   useEffect(()=>{\r\n                       setHasAccess(userData?.permissions)\r\n                   },[userData])\r\n                   console.log(\"permissions from userdata:\",hasAccess)\r\n    const [projectTableData, setProjectTableData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [paginationInfo, setPaginationInfo] = useState({\r\n        pageNumber: 0,\r\n        pageSize: 11,\r\n        totalElements: 0,\r\n        totalPages: 1,\r\n    });\r\n    const [showCreateForm, setShowCreateForm] = useState(false);\r\n    const [statusFilter, setStatusFilter] = useState(\"All\");\r\n    const navigate = useNavigate();\r\n     const loadProjects = useCallback(async (page, size) => {\r\n        setLoading(true);\r\n        setError(null);\r\n        const token = getAccessToken();\r\n        try {\r\n            const rawRole = Array.isArray(userData?.roles) ? userData.roles[0] : userData?.roles || \"\";\r\n            const normalizedRole = typeof rawRole === \"string\" ? rawRole.toUpperCase().replace(/^ROLE_/, \"\") : \"\";\r\n            const isAdmin = normalizedRole === 'ADMIN';\r\n            const employeeId = (!isAdmin && userData?.employeeId) ? userData.employeeId : null;\r\n            const data = await fetchProjects(page, size, token, employeeId);\r\n            if (employeeId && Array.isArray(data)) {\r\n                setProjectTableData(data || []);\r\n                setPaginationInfo(prev => ({ ...prev, totalElements: data.length || 0 }));\r\n            } else {\r\n                setProjectTableData(data.content || data || []);\r\n                setPaginationInfo({\r\n                    pageNumber: typeof data.pageNumber !== 'undefined' ? data.pageNumber : page,\r\n                    pageSize: typeof data.pageSize !== 'undefined' ? data.pageSize : size,\r\n                    totalElements: typeof data.totalElements !== 'undefined' ? data.totalElements : (Array.isArray(data) ? data.length : 0),\r\n                    totalPages: typeof data.totalPages !== 'undefined' ? data.totalPages : 1,\r\n                });\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Failed to load projects:\", err);\r\n            setError(err.message);\r\n            setProjectTableData([]); \r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [userData]); \r\n    useEffect(() => {\r\n        loadProjects(paginationInfo.pageNumber, paginationInfo.pageSize);\r\n    }, [loadProjects, paginationInfo.pageNumber, paginationInfo.pageSize]);\r\n    const handleRowClick = (proj) => {\r\n        const idKey = proj.projectId || proj.project_id; \r\n        try { localStorage.setItem('selectedProjectId', idKey); } catch {}\r\n        navigate(`/project-details/${idKey}`, { state: { project: proj } });\r\n    };\r\n    const handlePageChange = (newPage) => {\r\n        if (newPage >= 0 && newPage < paginationInfo.totalPages) {\r\n            setPaginationInfo(prev => ({ ...prev, pageNumber: newPage }));\r\n        }\r\n    };\r\n    const getPriorityColor = (priority) => {\r\n        switch (priority) {\r\n            case \"High\": return \"bg-green-100 text-green-800\";\r\n            case \"Medium\": return \"bg-orange-100 text-orange-800\";\r\n            case \"Low\": return \"bg-red-100 text-red-800\";\r\n            default: return \"bg-gray-100 text-gray-800\";\r\n        }\r\n    };\r\n    const getStatusColor = (status) => {\r\n        switch (status) {\r\n            case \"In Progress\": return \"bg-green-100 text-green-800\";\r\n            case \"Ongoing\": return \"bg-blue-100 text-blue-800\";\r\n            case \"Upcoming\": return \"bg-yellow-100 text-yellow-800\";\r\n            case \"Completed\": return \"bg-purple-100 text-purple-800\";\r\n            default: return \"bg-gray-100 text-gray-800\";\r\n        }\r\n    };\r\n       const getTeamLeadDisplay = (proj) => {\r\n        if (!proj) return \"N/A\";\r\n        if (Array.isArray(proj.teamLeadId) && proj.teamLeadId.length) return proj.teamLeadId.join(', ');\r\n        if (Array.isArray(proj.TeamLeadId) && proj.TeamLeadId.length) return proj.TeamLeadId.join(', ');\r\n        if (proj.teamLeadId) return String(proj.teamLeadId);\r\n        if (proj.TeamLeadId) return String(proj.TeamLeadId);\r\n        if (proj.TeamLead) return String(proj.TeamLead);\r\n        if (proj.Team_Lead) return String(proj.Team_Lead);\r\n        return \"N/A\";\r\n    };\r\n    const handleProjectSubmissionSuccess = () => {\r\n        setShowCreateForm(false);\r\n        loadProjects(paginationInfo.pageNumber, paginationInfo.pageSize); \r\n    };\r\n     const handleEditClick = (e, proj) => {\r\n        e.stopPropagation();\r\n        setShowCreateForm(true);\r\n        setEditTarget(proj);\r\n    };\r\n   const deleteProjectById = async (proj) => {\r\n    if (!proj) return alert('Select a project to delete.');\r\n    const id = proj.projectId || proj.project_id;\r\n    if (!id) return alert('Missing project id');\r\n    if (!window.confirm(`Delete project ${id}? This cannot be undone.`)) return;\r\n    const token = localStorage.getItem('accessToken');\r\n    if (!token) return alert('Missing auth token. Login required.');\r\n    try {\r\n      const resp = await fetch(`${API_ENDPOINT}/${id}`, {\r\n        method: 'DELETE',\r\n        headers: { Authorization: `Bearer ${token}`, 'Content-Type': 'application/json' }\r\n      });\r\n      const body = await resp.json().catch(() => null);\r\n      if (!resp.ok) {\r\n        if (resp.status === 500 && body?.error && /foreign key/i.test(body.error)) {\r\n          return alert(`Delete failed: ${body.message || 'Project has related data.'}\\nDelete related dependent resources first.`);\r\n        }\r\n        if (body?.validationErrors) {\r\n          const ve = Object.entries(body.validationErrors).map(([k,v]) => `${k}: ${v}`).join('\\n');\r\n          return alert(`Delete failed: ${body.message || resp.statusText}\\n${ve}`);\r\n        }\r\n        throw new Error(body?.message || resp.statusText || `Status ${resp.status}`);\r\n      }\r\n      // refresh list and clear selection\r\n      setSelectedRow(null);\r\n      loadProjects(paginationInfo.pageNumber, paginationInfo.pageSize);\r\n    } catch (err) {\r\n      console.error('Delete failed', err);\r\n      alert('Delete failed: ' + (err.message || 'Unknown error'));\r\n    }\r\n  };\r\n  const handleGlobalEdit = () => {\r\n    if (!selectedRow) return alert('Select a project first (click the select icon on a row).');\r\n    setEditTarget(selectedRow);\r\n    setShowCreateForm(true);\r\n  };\r\n  const handleGlobalCreate = () => {\r\n    setEditTarget(null);\r\n    setShowCreateForm(true);\r\n  };\r\n  const handleGlobalDelete = () => deleteProjectById(selectedRow);\r\n    const [editTarget, setEditTarget] = useState(null);\r\n     const [selectedRow, setSelectedRow] = useState(null);\r\n    const filteredProjects = projectTableData.filter(\r\n        (proj) => statusFilter === \"All\" || proj.projectStatus === statusFilter\r\n    );\r\n     const handleSelectRow = (proj, e) => {\r\n    if (e && e.stopPropagation) e.stopPropagation();\r\n    setSelectedRow(proj);\r\n  };\r\n   return (\r\n        <motion.div  className={`p-6 rounded-2xl shadow-2xl border border-purple-500 relative ${theme === 'dark' ? 'bg-gray-800' : 'bg-gradient-to-br from-purple-10 to-purple-50 '}`}>\r\n            <div className=\"flex justify-between items-center mb-4 border-b pb-4\">\r\n                <h2 className={`text-3xl font-extrabold ${theme === 'dark' ? 'text-purple-400' : 'text-purple-800'}`}>  Project Overview</h2>\r\n                <div className=\"flex items-center gap-2\">\r\n                  {(matchedArray || []).includes(\"CREATE_PROJECT\") && (\r\n                    <button title=\"Create Project\" onClick={handleGlobalCreate} className=\"p-2 rounded-md bg-green-600 text-white hover:bg-green-700\" >\r\n                      <FaPlus />\r\n                    </button>\r\n                  )}\r\n                  {(matchedArray || []).includes(\"EDIT_PROJECT\") && (<button title=\"Edit selected\" onClick={handleGlobalEdit} disabled={!selectedRow} className={`p-2 rounded-md ${selectedRow ? 'bg-yellow-500 text-white hover:bg-yellow-600' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}>\r\n                    <FiEdit />\r\n                  </button>\r\n                  )}\r\n                  {(matchedArray || []).includes(\"DELETE_PROJECT\") && (\r\n                  <button title=\"Delete selected\" onClick={handleGlobalDelete} disabled={!selectedRow} className={`p-2 rounded-md ${selectedRow ? 'bg-red-600 text-white hover:bg-red-700' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}>\r\n                    <FiDelete />\r\n                  </button>\r\n                  )}\r\n                </div>\r\n            </div>\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n                <select value={statusFilter} onChange={(e) => setStatusFilter(e.target.value)} className={`min-w-[150px] border-2 border-purple-400 font-medium rounded-xl px-4 py-2 text-sm shadow-inner transition ${theme === 'dark' ? 'bg-gray-700 text-purple-200 focus:border-purple-500' : 'bg-white text-purple-800 focus:border-purple-600'}`} >\r\n                    <option value=\"All\" className={`${theme === 'dark' ? 'bg-gray-900' : 'bg-white'}`}>All Statuses</option>\r\n                    <option value=\"In Progress\" className={`${theme === 'dark' ? 'bg-gray-900' : 'bg-white'}`}>InProgress</option>\r\n                    <option value=\"Completed\" className={`${theme === 'dark' ? 'bg-gray-900' : 'bg-white'}`}>Completed</option>\r\n                    <option value=\"Not Started\" className={`${theme === 'dark' ? 'bg-gray-900' : 'bg-white'}`}>NotStarted</option>\r\n                </select>\r\n                {loading && <p className={`text-base ${theme === 'dark' ? 'text-purple-300' : 'text-purple-700'}`}>Loading projects...</p>}\r\n                {error && <p className=\"text-red-500 font-semibold text-base\">Error: {error}</p>}\r\n            </div>\r\n            <div className=\"overflow-x-auto rounded-xl shadow-2xl\">\r\n                <table className={`min-w-full divide-y divide-gray-200 ${theme === 'dark' ? 'bg-gray-700' : 'bg-white'}`}>\r\n                    <thead className={`text-left uppercase tracking-wider text-xs sm:text-sm ${theme === 'dark' ? 'bg-gray-700 text-purple-300 border-b border-purple-500' : 'bg-purple-100 text-purple-800'}`}>\r\n                        <tr>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\">Project</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\">Team Lead</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\"><FaCalendarAlt className=\"inline mr-1\" />Start</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\"><FaCalendarAlt className=\"inline mr-1\" />End</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\">Priority</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\">Status</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\">Open/Closed</th>\r\n                            <th className=\"py-3 px-4 text-xs sm:text-sm font-semibold whitespace-nowrap\">Details</th>\r\n                            \r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className={`divide-y divide-gray-100 ${theme === 'dark' ? 'divide-gray-600' : 'bg-white'}`}>\r\n                        <AnimatePresence mode=\"wait\">\r\n                            {filteredProjects.length > 0 ? (\r\n                                filteredProjects\r\n                                .map((proj, index) => \r\n                                    <motion.tr key={proj.projectId || proj.project_id} className={`border-t border-gray-100 ${theme === 'dark' ? 'text-gray-100 hover:bg-gray-600' : 'text-gray-800 hover:bg-purple-50'} cursor-pointer transition duration-150`} onClick={() => handleRowClick(proj)} >\r\n                                        <td className=\"py-3 px-4 text-sm font-bold max-w-[200px] whitespace-normal\">{(matchedArray || []).includes(\"SELECT_PROJECT\") && (<button onClick={(e)=>handleSelectRow(proj,e)} className={`mr-2 px-2 py-1 rounded ${selectedRow===proj ? 'bg-indigo-600 text-white' : 'bg-gray-100 text-gray-700'}`}>  {selectedRow===proj ? 'Selected' : 'Select'}</button>)}{proj.title || proj.project_name}</td>\r\n                                        <td className=\"py-3 px-4 text-sm max-w-[150px] font-medium text-gray-600 whitespace-normal\">  {getTeamLeadDisplay(proj)}</td>\r\n                                        <td className=\"py-3 px-4 text-xs sm:text-sm whitespace-nowrap\">{proj.startDate}</td>\r\n                                        <td className=\"py-3 px-4 text-xs sm:text-sm whitespace-nowrap\">{proj.endDate}</td>\r\n                                        <td onClick={e => { e.stopPropagation()}} className=\"py-3 px-4\"><span className={`px-2 py-1 rounded-full text-xs font-semibold shadow-sm ${getPriorityColor(proj.projectPriority || proj.Priority)}`}>  {proj.projectPriority || proj.Priority}</span></td>\r\n                                        <td onClick={e => { e.stopPropagation()}} className=\"py-3 px-4\"><span className={`px-2 py-1 rounded-full text-xs font-semibold shadow-sm ${getStatusColor(proj.projectStatus || proj.status)}`}>  {proj.projectStatus || proj.status}</span></td>\r\n                                        <td onClick={e => { e.stopPropagation()}} className=\"py-3 px-4 text-sm whitespace-nowrap\"><span className=\"text-blue-600 font-semibold\">{proj.openTask || proj.Open_task || 0}</span> / <span className=\"text-gray-500\">{proj.closedTask || proj.Closed_task || 0}</span></td>\r\n                                        <td onClick={e => { e.stopPropagation()}} className=\"py-3 px-4 text-center\"><a href={proj.details || proj.Details} target=\"_blank\" rel=\"noopener noreferrer\" onClick={e=>e.stopPropagation()}><motion.div whileHover={{ scale: 1.2 }}>  <FaFileAlt className={`${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'} text-lg transition`} /></motion.div></a></td>\r\n                                    </motion.tr>\r\n                                )\r\n                            ) : (\r\n                                <tr><td colSpan=\"8\" className={`p-10 text-center text-lg ${theme === 'dark' ? 'text-gray-300' : 'text-gray-500'}`}>{loading ? 'Fetching data...' : 'No projects found matching the filter.'}</td></tr>\r\n                            )}\r\n                        </AnimatePresence>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div className={`flex flex-col sm:flex-row justify-between items-center mt-6 p-3 rounded-xl ${theme === 'dark' ? 'bg-gray-700 border border-gray-600 text-white' : 'bg-white border border-gray-200 text-gray-700'} shadow-md`}>\r\n                <span className=\"text-sm mb-2 sm:mb-0\"> Showing {projectTableData.length} projects out of {paginationInfo.totalElements} total </span>\r\n                <div className=\"flex space-x-2\">\r\n                    <button onClick={() => handlePageChange(paginationInfo.pageNumber - 1)} disabled={paginationInfo.pageNumber === 0} className=\"px-3 py-1 rounded-lg text-sm bg-purple-200 text-purple-800 hover:bg-purple-300 disabled:opacity-50 disabled:cursor-not-allowed transition\" >     &larr; Previous </button>\r\n                    <span className=\"px-3 py-1 rounded-lg text-sm bg-purple-600 text-white font-bold\">{paginationInfo.pageNumber + 1} / {paginationInfo.totalPages}</span>\r\n                    <button onClick={() => handlePageChange(paginationInfo.pageNumber + 1)} disabled={paginationInfo.pageNumber >= paginationInfo.totalPages - 1} className=\"px-3 py-1 rounded-lg text-sm bg-purple-200 text-purple-800 hover:bg-purple-300 disabled:opacity-50 disabled:cursor-not-allowed transition\" >     Next &rarr; </button>\r\n                </div>\r\n            </div>\r\n            <AnimatePresence>\r\n                {showCreateForm && (\r\n                  <ProjectForm\r\n                    onClose={() => { setShowCreateForm(false); setEditTarget(null); }}\r\n                    editProject={editTarget}\r\n                    onSuccess={() => { setShowCreateForm(false); setEditTarget(null); loadProjects(paginationInfo.pageNumber, paginationInfo.pageSize); }}\r\n                  />\r\n                )}\r\n            </AnimatePresence>\r\n        </motion.div>\r\n    );\r\n}\r\nconst ProjectDashboard = () => {\r\n    const {theme } = useContext(Context);\r\n    return (\r\n        <div className={`min-h-screen bg-gray-50 p-4 sm:p-8 ${theme===\"dark\"?\"bg-gray-900\":\"bg-gray-50 \"}`}>\r\n            <div className=\"mb-8\">\r\n                <ProjectCard />\r\n            </div>\r\n            <div>\r\n                <Project />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProjectDashboard;"],"names":["SprintTable","_ref","projectId","theme","useContext","Context","sprints","setSprints","useState","loadingSprints","setLoadingSprints","error","setError","selectedSprint","setSelectedSprint","showCreate","setShowCreate","showEdit","setShowEdit","submitting","setSubmitting","form","setForm","sprintName","startDate","endDate","status","API_HOST","token","localStorage","getItem","persistTokenFromRes","async","res","body","authHeader","headers","get","storeAccessToken","accessToken","jwt","e","loadSprints","fetch","concat","encodeURIComponent","Accept","Authorization","undefined","ok","txt","text","catch","Error","json","Array","isArray","length","err","message","useEffect","_jsxs","className","children","_jsx","onClick","openCreate","title","FaPlus","openEdit","disabled","FiEdit","s","window","confirm","sprintId","sprint_id","id","method","alert","deleteSprint","FiDelete","map","idx","onSubmit","preventDefault","JSON","stringify","stopPropagation","type","placeholder","value","onChange","prev","_objectSpread","target","required","ProjectOverviewForm","_ref2","_initialData$manager","_initialData$manager2","mode","initialData","onClose","onSuccess","timeline_progress","client","total_cost","days_to_work","priority","startedOn","slice","manager_employeeId","manager","employeeId","manager_name","name","dueAlert","base","handleChange","k","payload","Number","url","bodyData","raw","String","startsWith","split","setItem","_unused","returnedToken","_unused2","persistReturnedToken","msg","statusText","console","APIBASE_URL","rawTokenOrHeader","ProjectDetails","_ref3","propProjectId","paramProjectId","useParams","setProjectId","projectData","setProjectData","loading","setLoading","userData","showUpdateOverview","setShowUpdateOverview","loggedPermissiondata","setLoggedPermissionData","matchedArray","setMatchedArray","LoggedUserRole","roles","response","authApi","log","data","fetchedData","permissions","_unused3","fetchProjectData","role","includes","InfoCard","updated","Date","toLocaleDateString","_ref4","projectDetails","ProjectCard","_progressSource$proje","_progressSource$proje2","_currentProject$overv","_ref1","motion","_ref5","props","_objectWithoutProperties","_excluded","_ref7","_excluded3","_ref8","_excluded4","_ref9","_excluded5","rolesData","setRolesData","rolesLoading","setRolesLoading","localProjectData","setLocalProjectData","showCreateOverview","setShowCreateOverview","overviewSubmitting","setOverviewSubmitting","showSprintModal","setShowSprintModal","currentIndex","setCurrentIndex","carouselProjects","setCarouselProjects","loadingCarousel","setLoadingCarousel","currentProject","setCurrentProject","loadingProject","setLoadingProject","icon","color","progressSource","calculateProgress","startDateStr","endDateStr","start","end","today","setHours","totalDuration","getTime","elapsedDuration","Math","min","round","loadProjectDetailsById","pid","_carouselProjects$fin","_overviewBody$project","_kpiBody","_carouselProjects$fin2","getAccessToken","overviewUrl","overviewRes","overviewBody","rolesUrl","rolesRes","rolesBody","kpiBody","empId","kpiUrl","kpiRes","normalized","projectName","find","p","project_id","description","projectDescription","project_details","projectStatus","kpis","KPIs","overview","teamAllocation","_unused4","list","fetchProjects","arr","content","loadCarouselProjects","warn","mapped","g","count","employees","displayName","employeeName","image","employeeImage","loadRoles","getAvatarUrl","index","getStatusClasses","Object","keys","entries","_ref0","key","AnimatePresence","newData","team","teamMember","_teamMember$count","roleName","avatars","members","emp","avatarIndex","src","alt","from","_","href","viewBox","height","width","fill","d","next","API_ENDPOINT","ProjectForm","_ref10","editProject","formData","setFormData","projectPriority","openTask","closedTask","teamLeadId","fileAttachment","setFileAttachment","isSubmitting","setIsSubmitting","rawErrorDetail","setRawErrorDetail","submissionMessage","setSubmissionMessage","_ref11","_editProject$openTask","_ref12","_editProject$closedTa","project_name","Priority","start_date","end_date","Open_task","Closed_task","Team_Lead","processedValue","parseInt","submitProject","dto","filter","Boolean","fd","FormData","append","Blob","errorBody","parse","setTimeout","_unused5","_unused6","_errorBody","_errorBody3","validationErrors","ve","_ref13","v","join","_errorBody2","stack","inputClass","labelClass","htmlFor","label","o","rows","handleTeamLeadChange","_e$target$files","files","API_BASE_URL","page","size","arguments","Project","_userData$roles","toUpperCase","hasAccess","setHasAccess","projectTableData","setProjectTableData","paginationInfo","setPaginationInfo","pageNumber","pageSize","totalElements","totalPages","showCreateForm","setShowCreateForm","statusFilter","setStatusFilter","navigate","useNavigate","loadProjects","useCallback","rawRole","normalizedRole","replace","handlePageChange","newPage","getPriorityColor","getStatusColor","getTeamLeadDisplay","proj","TeamLeadId","TeamLead","editTarget","setEditTarget","selectedRow","setSelectedRow","filteredProjects","div","handleGlobalCreate","handleGlobalEdit","handleGlobalDelete","resp","test","_ref14","deleteProjectById","FaCalendarAlt","tr","idKey","_unused7","state","project","handleRowClick","handleSelectRow","details","Details","rel","whileHover","scale","FaFileAlt","colSpan","ProjectDashboard"],"sourceRoot":""}