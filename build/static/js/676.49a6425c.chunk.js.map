{"version":3,"file":"static/js/676.49a6425c.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Teams/ConfirmationModal.jsx","TechLife/HRMS/Components/Teams/AllTeams.jsx"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { FaTimes, FaExclamationTriangle } from 'react-icons/fa';\r\nimport { Context } from '../HrmsContext';\r\n\r\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message, confirmText = 'Confirm', isConfirming }) => {\r\n    const { theme } = useContext(Context);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[250] p-2 sm:p-4\">\r\n            <div className={`rounded-xl sm:rounded-2xl w-full max-w-sm sm:max-w-md shadow-xl flex flex-col ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-white'}`}>\r\n                {/* Header */}\r\n                <div className=\"p-4 sm:p-6 flex justify-between items-center border-b\" style={{borderColor: theme === 'dark' ? '#4b5563' : '#e5e7eb'}}>\r\n                    <h3 className=\"text-lg sm:text-xl font-bold flex items-center min-w-0 flex-1\">\r\n                        <FaExclamationTriangle className=\"text-yellow-400 mr-2 sm:mr-3 w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0\" />\r\n                        <span className=\"break-words\">{title}</span>\r\n                    </h3>\r\n                    <button \r\n                        onClick={onClose} \r\n                        className=\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors flex-shrink-0 ml-2\"\r\n                    >\r\n                        <FaTimes className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Message Content */}\r\n                <div className=\"p-4 sm:p-6\">\r\n                    <p className={`text-sm sm:text-base break-words ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                        {message}\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Footer Buttons */}\r\n                <div className={`p-3 sm:p-4 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 border-t ${theme === 'dark' ? 'bg-gray-700/50 border-gray-700' : 'bg-gray-50 border-gray-200'}`}>\r\n                    <button \r\n                        onClick={onClose} \r\n                        className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button \r\n                        onClick={onConfirm}\r\n                        disabled={isConfirming}\r\n                        className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white transition-colors flex items-center justify-center text-sm\r\n                                    ${isConfirming ? 'bg-red-400 cursor-not-allowed' : 'bg-red-600 hover:bg-red-700'}`}\r\n                    >\r\n                        {isConfirming ? (\r\n                            <>\r\n                                <div className=\"h-3 w-3 sm:h-4 sm:w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                                <span>Deleting...</span>\r\n                            </>\r\n                        ) : (\r\n                            <span>{confirmText}</span>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ConfirmationModal;\r\n","import React, { useState, useEffect, useContext, useRef, useCallback } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { publicinfoApi, authApi } from '../../../../axiosInstance';\r\nimport { FaUsers, FaPlus, FaUserShield, FaTimes, FaChevronDown, FaChevronUp, FaTrash, FaEye, FaSearch, FaChevronLeft, FaChevronRight } from 'react-icons/fa'; \r\nimport { IoCheckmarkCircle, IoWarning, IoAddCircleOutline, IoKeyOutline } from 'react-icons/io5';\r\nimport { Context } from '../HrmsContext';\r\nimport ConfirmationModal from './ConfirmationModal';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\n// --- Reusable Input Field Component (Copied Styling) ---\r\nconst InputField = ({\r\n    name,\r\n    label,\r\n    type = 'text',\r\n    required = false,\r\n    hint,\r\n    placeholder,\r\n    value,\r\n    onChange,\r\n    onBlur,\r\n    isError,\r\n    options = [],\r\n    theme\r\n}) => {\r\n    const baseInputClass = `w-full px-3 sm:px-4 py-2 sm:py-3 border-2 rounded-lg transition-all duration-300 text-sm\r\n        focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n        isError\r\n            ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n            : theme === 'dark'\r\n            ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500'\r\n            : 'border-gray-200 bg-white hover:border-gray-300'\r\n        }`;\r\n\r\n    return (\r\n        <div className=\"group relative\" key={name}>\r\n            <label className={`block text-xs sm:text-sm font-semibold mb-2 flex items-center ${\r\n                theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n            }`}>\r\n                {label}\r\n                {required && <span className=\"text-red-500 ml-1 text-sm\">*</span>}\r\n            </label>\r\n\r\n            {hint && (\r\n                <p className={`text-xs mb-2 ${\r\n                    theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                }`}>\r\n                    {hint}\r\n                </p>\r\n            )}\r\n\r\n            {type === 'select' ? (\r\n                <div className=\"relative\">\r\n                    <select\r\n                        name={name}\r\n                        value={value || ''}\r\n                        onChange={onChange}\r\n                        onBlur={onBlur}\r\n                        className={`${baseInputClass} appearance-none`}\r\n                        required={required}\r\n                    >\r\n                        <option value=\"\">Choose {label}</option>\r\n                        {options.map((opt) => (\r\n                            <option key={opt} value={opt}>\r\n                                {opt}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <div className=\"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 pointer-events-none\">\r\n                        <FaChevronDown className={`w-4 h-4 sm:w-5 sm:h-5 ${\r\n                            theme === 'dark' ? 'text-gray-400' : 'text-gray-400'\r\n                        }`} />\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <input\r\n                    type={type}\r\n                    name={name}\r\n                    value={value || ''}\r\n                    onChange={onChange}\r\n                    onBlur={onBlur}\r\n                    className={baseInputClass}\r\n                    placeholder={placeholder || `Enter ${label.toLowerCase()}...`}\r\n                    required={required}\r\n                />\r\n            )}\r\n\r\n            {isError && (\r\n                <div className=\"mt-1 sm:mt-2 flex items-center space-x-2 text-red-600\">\r\n                    <IoWarning className=\"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0\" />\r\n                    <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n// --- End Reusable Input Field Component ---\r\n\r\n\r\n// Utility Hook for Outside Click\r\nconst useOutsideClick = (handler, ignoreRefs = []) => {\r\n    const ref = useRef(null);\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            const isIgnored = ignoreRefs.some(\r\n                (r) => r.current && r.current.contains(event.target)\r\n            );\r\n            if (ref.current && !ref.current.contains(event.target) && !isIgnored) {\r\n                handler(event);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, [handler, ignoreRefs]);\r\n    return ref;\r\n};\r\n\r\n// Project Dropdown with Infinite Scroll\r\nconst ProjectDropdown = ({ value, onChange, theme, error, disabled }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [projects, setProjects] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasMoreData, setHasMoreData] = useState(true);\r\n    \r\n    // Pagination States\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [totalPages, setTotalPages] = useState(1);\r\n    const [allDataLoaded, setAllDataLoaded] = useState(false);\r\n    const PAGE_SIZE = 10; \r\n    \r\n    const isFetchingRef = useRef(false);\r\n    const scrollAreaRef = useRef(null);\r\n    const dropdownRef = useOutsideClick(() => setIsOpen(false), [scrollAreaRef]);\r\n\r\n    // Load projects for the current page\r\n    const loadProjects = useCallback(async (page = 0, append = false) => {\r\n        if (isFetchingRef.current || (page > 0 && !hasMoreData && !searchTerm)) return; // Prevent unnecessary re-fetches\r\n\r\n        isFetchingRef.current = true;\r\n        setLoading(true);\r\n        \r\n        try {\r\n            console.log(`[API CALL - ProjectDropdown] Fetching projects: Page ${page}, Size ${PAGE_SIZE}`);\r\n            // Note: SearchTerm functionality would require adapting the backend endpoint to support search. \r\n            // For now, this loads pages sequentially.\r\n            const response = await publicinfoApi.get(`employee/${page}/${PAGE_SIZE}/projectId/asc/projects`);\r\n            console.log(`[API SUCCESS - ProjectDropdown] Projects fetched for page ${page}:`, response.data);\r\n            \r\n            const fetchedProjects = response.data?.content || [];\r\n            const newProjects = Array.isArray(fetchedProjects) ? fetchedProjects : [];\r\n            \r\n            setProjects(prev => append ? [...prev, ...newProjects] : newProjects);\r\n            \r\n            setCurrentPage(page);\r\n            setTotalPages(response.data?.totalPages || 1);\r\n            \r\n            if (response.data?.last === true || newProjects.length < PAGE_SIZE) {\r\n                setHasMoreData(false);\r\n                setAllDataLoaded(true);\r\n            } else {\r\n                setHasMoreData(true);\r\n            }\r\n        } catch (error) {\r\n            console.error('[API ERROR - ProjectDropdown] Error fetching projects:', error.response?.data || error.message);\r\n            if (!append) {\r\n                setProjects([]);\r\n                setTotalPages(1);\r\n            }\r\n            setHasMoreData(false);\r\n        } finally {\r\n            setLoading(false);\r\n            isFetchingRef.current = false;\r\n        }\r\n    }, [hasMoreData, searchTerm]); // Added searchTerm dependency for future API adaptation\r\n\r\n    // Handle scroll event for infinite loading\r\n    const handleScroll = useCallback((e) => {\r\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n        \r\n        // Check if user scrolled near bottom (within 50px)\r\n        if (scrollHeight - scrollTop <= clientHeight + 50) {\r\n            if (hasMoreData && !loading && !isFetchingRef.current && !searchTerm) {\r\n                loadProjects(currentPage + 1, true);\r\n            }\r\n        }\r\n    }, [currentPage, hasMoreData, loading, loadProjects, searchTerm]);\r\n\r\n    // FIX: Only load initially if opened and list is empty\r\n    useEffect(() => {\r\n        if (isOpen && projects.length === 0 && !loading && !searchTerm) {\r\n            loadProjects(0, false); \r\n        }\r\n    }, [isOpen, loadProjects, projects.length, loading, searchTerm]);\r\n    \r\n    // FIX: Clear state when closing or starting a new search\r\n    useEffect(() => {\r\n        if (!isOpen) {\r\n            setSearchTerm('');\r\n            setProjects([]);\r\n            setAllDataLoaded(false);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const handleSelect = (project) => {\r\n        onChange({ value: project.projectId, label: `${project.projectId}(${project.title})` });\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const toggleDropdown = () => {\r\n        if (!disabled) setIsOpen(!isOpen);\r\n    };\r\n\r\n    const safeProjects = Array.isArray(projects) ? projects : [];\r\n\r\n    const filteredProjects = safeProjects.filter(proj => \r\n        proj.title?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        proj.projectId?.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"relative\" ref={dropdownRef}>\r\n            <div \r\n                onClick={toggleDropdown} \r\n                // Adjusted styling to match InputField\r\n                className={`w-full px-3 sm:px-4 py-2 sm:py-3 border-2 rounded-lg transition-all duration-300 cursor-pointer flex items-center justify-between text-sm \r\n                    focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n                    error ? 'border-red-300 bg-red-50' : (theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500' : 'border-gray-200 bg-white hover:border-gray-300')\r\n                } ${disabled ? 'opacity-50' : ''}`}\r\n            >\r\n                <span className={!value ? (theme === 'dark' ? 'text-gray-400' : 'text-gray-500') : ''}>\r\n                    {value ? value.label : 'Select project...'}\r\n                </span>\r\n                <FaChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''} ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </div>\r\n            {error && <p className=\"text-red-500 text-xs mt-1\">{error}</p>} \r\n            <AnimatePresence>\r\n                {isOpen && !disabled && (\r\n                    <motion.div \r\n                        initial={{ opacity: 0, y: -10 }} \r\n                        animate={{ opacity: 1, y: 0 }} \r\n                        exit={{ opacity: 0, y: -10 }} \r\n                        className={`absolute top-full left-0 right-0 mt-2 border rounded-lg shadow-lg z-50 ${\r\n                            theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-white border-gray-200'\r\n                        }`}\r\n                    >\r\n                        <div className=\"p-2 border-b border-gray-200 dark:border-gray-600\">\r\n                            <div className=\"relative\">\r\n                                <FaSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                                <input \r\n                                    type=\"text\" \r\n                                    placeholder=\"Search projects...\" \r\n                                    value={searchTerm} \r\n                                    onChange={(e) => setSearchTerm(e.target.value)} \r\n                                    className={`w-full pl-10 pr-4 py-2 border rounded-lg text-sm ${\r\n                                        theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`} \r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div \r\n                            className=\"max-h-60 overflow-y-auto\" \r\n                            ref={scrollAreaRef}\r\n                            onScroll={handleScroll}\r\n                        >\r\n                            {/* Display projects filtered by the local list */}\r\n                            {filteredProjects.length > 0 ? (\r\n                                filteredProjects.map(project => {\r\n                                    const isSelected = value?.value === project.projectId;\r\n                                    return (\r\n                                        <div \r\n                                            key={project.projectId} \r\n                                            onClick={() => handleSelect(project)} \r\n                                            className={`p-3 cursor-pointer flex items-center justify-between ${\r\n                                                isSelected ? 'bg-blue-50 dark:bg-blue-900/50' : `hover:${theme === 'dark' ? 'bg-gray-600' : 'bg-gray-50'}`\r\n                                            }`}\r\n                                        >\r\n                                            <div className={theme === 'dark' ? 'text-white' : 'text-gray-900'}>\r\n                                                <div className=\"font-medium text-sm\">{project.projectId}({project.title})</div>\r\n                                                <div className={`text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                                    Client: {project.client} â€¢ Status: {project.projectStatus}\r\n                                                </div>\r\n                                            </div>\r\n                                            {isSelected && <IoCheckmarkCircle className=\"w-5 h-5 text-blue-500\" />}\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            ) : searchTerm ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No projects matching \"{searchTerm}\"\r\n                                </div>\r\n                            ) : loading && projects.length === 0 ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading projects...\r\n                                </div>\r\n                            ) : (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No projects found.\r\n                                </div>\r\n                            )}\r\n                            \r\n                            {/* Loading indicator for infinite scroll */}\r\n                            {loading && projects.length > 0 && (\r\n                                <div className={`p-2 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading more projects...\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        \r\n                        {allDataLoaded && projects.length > 0 && (\r\n                            <div className={`p-2 border-t text-center text-xs font-medium ${theme === 'dark' ? 'text-gray-500 border-gray-600' : 'text-gray-400 border-gray-200'}`}>\r\n                                ðŸŽ¯ All projects loaded\r\n                            </div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Employee Dropdown with Infinite Scroll\r\nconst EmployeeDropdown = ({ value, onChange, theme, error, disabled, isMulti = false, placeholder }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [employees, setEmployees] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasMoreData, setHasMoreData] = useState(true);\r\n    \r\n    // Pagination States\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [totalPages, setTotalPages] = useState(1);\r\n    const [allDataLoaded, setAllDataLoaded] = useState(false);\r\n    const PAGE_SIZE = 15;\r\n    \r\n    const isFetchingRef = useRef(false);\r\n    const scrollAreaRef = useRef(null);\r\n    const dropdownRef = useOutsideClick(() => setIsOpen(false), [scrollAreaRef]);\r\n    \r\n    // Load employees for the current page\r\n    const loadEmployees = useCallback(async (page = 0, append = false) => {\r\n        if (isFetchingRef.current || (page > 0 && !hasMoreData && !searchTerm)) return; // Prevent unnecessary re-fetches\r\n\r\n        isFetchingRef.current = true;\r\n        setLoading(true);\r\n        \r\n        try {\r\n            console.log(`[API CALL - EmployeeDropdown] Fetching employees: Page ${page}, Size ${PAGE_SIZE}`);\r\n             // Note: SearchTerm functionality would require adapting the backend endpoint to support search. \r\n            // For now, this loads pages sequentially.\r\n            const response = await publicinfoApi.get(`employee/${page}/${PAGE_SIZE}/employeeId/asc/employees`);\r\n            console.log(`[API SUCCESS - EmployeeDropdown] Employees fetched for page ${page}:`, response.data);\r\n            \r\n            const responseData = response.data || {};\r\n            const fetchedEmployees = responseData.content || []; \r\n            const newEmployees = Array.isArray(fetchedEmployees) ? fetchedEmployees : [];\r\n            \r\n            setEmployees(prev => append ? [...prev, ...newEmployees] : newEmployees);\r\n            \r\n            setCurrentPage(page);\r\n            setTotalPages(responseData.totalPages || 1);\r\n            \r\n            // Check if we've reached the end using responseData.last\r\n            if (responseData.last === true || newEmployees.length < PAGE_SIZE) {\r\n                setHasMoreData(false);\r\n                setAllDataLoaded(true);\r\n            } else {\r\n                setHasMoreData(true);\r\n            }\r\n        } catch (error) {\r\n            console.error('[API ERROR - EmployeeDropdown] Error fetching employees:', error.response?.data || error.message);\r\n            if (!append) {\r\n                setEmployees([]);\r\n                setTotalPages(1);\r\n            }\r\n            setHasMoreData(false);\r\n        } finally {\r\n            setLoading(false);\r\n            isFetchingRef.current = false; \r\n        }\r\n    }, [hasMoreData, searchTerm]); // Added searchTerm dependency for future API adaptation\r\n\r\n    // Handle scroll event for infinite loading\r\n    const handleScroll = useCallback((e) => {\r\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n        \r\n        // Check if user scrolled near bottom (within 50px)\r\n        if (scrollHeight - scrollTop <= clientHeight + 50) {\r\n            if (hasMoreData && !loading && !isFetchingRef.current && !searchTerm) {\r\n                loadEmployees(currentPage + 1, true);\r\n            }\r\n        }\r\n    }, [currentPage, hasMoreData, loading, loadEmployees, searchTerm]);\r\n\r\n    // FIX: Only load initially if opened and list is empty\r\n    useEffect(() => {\r\n        if (isOpen && employees.length === 0 && !loading && !searchTerm) {\r\n            loadEmployees(0, false);\r\n        }\r\n    }, [isOpen, loadEmployees, employees.length, loading, searchTerm]);\r\n    \r\n     // FIX: Clear state when closing or starting a new search\r\n    useEffect(() => {\r\n        if (!isOpen) {\r\n            setSearchTerm('');\r\n            setEmployees([]);\r\n            setAllDataLoaded(false);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const handleSelect = (employee) => {\r\n        const employeeLabel = `${employee.displayName || employee.firstName + ' ' + employee.lastName} (${employee.employeeId})`;\r\n        if (isMulti) {\r\n            const currentValues = Array.isArray(value) ? value : [];\r\n            const isSelected = currentValues.some(item => item.value === employee.employeeId);\r\n            if (isSelected) {\r\n                onChange(currentValues.filter(item => item.value !== employee.employeeId));\r\n            } else {\r\n                onChange([...currentValues, { value: employee.employeeId, label: employeeLabel }]);\r\n            }\r\n        } else {\r\n            onChange({ value: employee.employeeId, label: employeeLabel });\r\n            setIsOpen(false);\r\n        }\r\n    };\r\n\r\n    const toggleDropdown = () => {\r\n        if (!disabled) setIsOpen(!isOpen);\r\n    };\r\n\r\n    const safeEmployees = Array.isArray(employees) ? employees : [];\r\n    \r\n    const filteredEmployees = safeEmployees.filter(emp => {\r\n        const displayName = emp.displayName || (emp.firstName + ' ' + emp.lastName);\r\n        return (\r\n            displayName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            emp.employeeId?.toLowerCase().includes(searchTerm.toLowerCase())\r\n        );\r\n    });\r\n\r\n    const renderSelectedValue = () => {\r\n        const defaultPlaceholder = placeholder || (isMulti ? 'Select team members...' : 'Select a team lead...');\r\n        \r\n        if (isMulti) {\r\n            const currentValues = Array.isArray(value) ? value : [];\r\n            if (currentValues.length === 0) return <span className={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>{defaultPlaceholder}</span>;\r\n            return (\r\n                <div className=\"flex flex-wrap gap-1\">\r\n                    {currentValues.map(item => (\r\n                        <div key={item.value} className={`text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full ${theme === 'dark' ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800'}`}>\r\n                            {item.label}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            );\r\n        } else {\r\n            if (!value) return <span className={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>{defaultPlaceholder}</span>;\r\n            return <span>{value.label}</span>;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative\" ref={dropdownRef}>\r\n            <div onClick={toggleDropdown} \r\n                // Adjusted styling to match InputField\r\n                className={`w-full px-3 sm:px-4 py-2 sm:py-3 border-2 rounded-lg transition-all duration-300 cursor-pointer flex items-center justify-between text-sm \r\n                    focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n                    error ? 'border-red-300 bg-red-50' : (theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500' : 'border-gray-200 bg-white hover:border-gray-300')\r\n                } ${disabled ? 'opacity-50' : ''}`}\r\n            >\r\n                <div className=\"flex-1\">{renderSelectedValue()}</div>\r\n                <FaChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''} ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </div>\r\n             {error && <p className=\"text-red-500 text-xs mt-1\">{error}</p>} \r\n            <AnimatePresence>\r\n                {isOpen && !disabled && (\r\n                    <motion.div initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -10 }} className={`absolute top-full left-0 right-0 mt-2 border rounded-lg shadow-lg z-50 ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-white border-gray-200'}`}>\r\n                        <div className=\"p-2 border-b border-gray-200 dark:border-gray-600\">\r\n                            <div className=\"relative\">\r\n                                <FaSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                                <input type=\"text\" placeholder=\"Search employees...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className={`w-full pl-10 pr-4 py-2 border rounded-lg text-sm ${theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'}`} />\r\n                            </div>\r\n                        </div>\r\n                        <div \r\n                            className=\"max-h-60 overflow-y-auto\" \r\n                            ref={scrollAreaRef}\r\n                            onScroll={handleScroll}\r\n                        >\r\n                            {filteredEmployees.length > 0 ? (\r\n                                filteredEmployees.map(employee => {\r\n                                    const isSelected = isMulti ? (Array.isArray(value) && value.some(item => item.value === employee.employeeId)) : value?.value === employee.employeeId;\r\n                                    const displayName = employee.displayName || (employee.firstName + ' ' + employee.lastName);\r\n                                    return (\r\n                                        <div key={employee.employeeId} onClick={() => handleSelect(employee)} className={`p-3 cursor-pointer flex items-center justify-between ${isSelected ? 'bg-blue-50 dark:bg-blue-900/50' : `hover:${theme === 'dark' ? 'bg-gray-600' : 'bg-gray-50'}`}`}>\r\n                                            <div className={theme === 'dark' ? 'text-white' : 'text-gray-900'}>\r\n                                                <div className=\"font-medium text-sm\">{displayName}</div>\r\n                                                <div className={`text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>{employee.employeeId}</div>\r\n                                            </div>\r\n                                            {isSelected && <IoCheckmarkCircle className=\"w-5 h-5 text-blue-500\" />}\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            ) : searchTerm ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No employees matching \"{searchTerm}\"\r\n                                </div>\r\n                            ) : loading && employees.length === 0 ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading employees...\r\n                                </div>\r\n                            ) : (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No employees found.\r\n                                </div>\r\n                            )}\r\n                            \r\n                            {loading && employees.length > 0 && (\r\n                                <div className={`p-2 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading more employees...\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        \r\n                        {allDataLoaded && employees.length > 0 && (\r\n                            <div className={`p-2 border-t text-center text-xs font-medium ${theme === 'dark' ? 'text-gray-500 border-gray-600' : 'text-gray-400 border-gray-200'}`}>\r\n                                ðŸ‘¥ All employees loaded\r\n                            </div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Loading and Error Components\r\nconst LoadingSpinner = () => (\r\n    <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-16 w-16 sm:h-32 sm:w-32 border-t-2 border-b-2 border-blue-500\"></div>\r\n    </div>\r\n);\r\n\r\nconst ErrorDisplay = ({ message }) => (\r\n    <div className=\"text-center p-6 sm:p-8 bg-red-100 text-red-700 rounded-lg\">\r\n        <h3 className=\"font-bold text-base sm:text-lg\">Oops! Something went wrong.</h3>\r\n        <p className=\"text-sm sm:text-base\">{message}</p>\r\n    </div>\r\n);\r\n\r\n// Main AllTeams Component\r\nconst AllTeams = () => {\r\n    const [teams, setTeams] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n    const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n    const [selectedTeam, setSelectedTeam] = useState(null);\r\n    const [expandedTeams, setExpandedTeams] = useState(new Set()); \r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [matchedArray, setMatchedArray] = useState(null);\r\n    const [isRightSidebarOpen, setIsRightSidebarOpen] = useState(false); \r\n    const [displayMode, setDisplayMode] = useState('MY_TEAMS'); \r\n    const [adminallteams, setAdminAllTeams] = useState([]); \r\n\r\n    // Form state\r\n    const [teamName, setTeamName] = useState('');\r\n    const [teamLead, setTeamLead] = useState(null);\r\n    const [teamMembers, setTeamMembers] = useState([]);\r\n    const [selectedProject, setSelectedProject] = useState(null);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [formErrors, setFormErrors] = useState({});\r\n\r\n    const { userData, theme } = useContext(Context);\r\n    const userRoles = userData?.roles || [];\r\n    const canModifyTeam = userRoles.includes('ADMIN') || userRoles.includes('HR') || userRoles.includes('MANAGER');\r\n    const canCreateTeam = userRoles.includes('ADMIN') || userRoles.includes('HR');\r\n\r\n    const location = useLocation();\r\n    const searchParams = new URLSearchParams(location.search);\r\n    const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n    const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n    const employeeIdToFetch = fromContextMenu && targetEmployeeId ? targetEmployeeId : userData?.employeeId;\r\n\r\n    const loggedinuserRole = userData?.roles[0] \r\n        ? `ROLE_${userData.roles[0]}` \r\n        : null;\r\n\r\n    const toggleTeamExpansion = (teamId) => {\r\n        const newExpandedTeams = new Set(expandedTeams);\r\n        if (newExpandedTeams.has(teamId)) {\r\n            newExpandedTeams.delete(teamId);\r\n        } else {\r\n            newExpandedTeams.add(teamId);\r\n        }\r\n        setExpandedTeams(newExpandedTeams);\r\n    };\r\n\r\n    const isTeamExpanded = (teamId) => expandedTeams.has(teamId);\r\n\r\n    const fetchTeams = async () => {\r\n        try {\r\n            setLoading(true);\r\n            \r\n            if (!employeeIdToFetch) {\r\n                setError(\"Employee ID not found. Please login again.\");\r\n                return;\r\n            }\r\n\r\n            console.log(`[API CALL - fetchTeams] Fetching teams for employee: ${employeeIdToFetch}`);\r\n            const response = await publicinfoApi.get(`employee/team/${employeeIdToFetch}`);\r\n            console.log('[API SUCCESS - fetchTeams] Teams fetched:', response.data);\r\n            \r\n            const teamsArray = Array.isArray(response.data) ? response.data : [response.data];\r\n            setTeams(teamsArray || []);\r\n            setError(null);\r\n        } catch (err) {\r\n            console.error('[API ERROR - fetchTeams] Error fetching teams:', err.response?.data || err.message);\r\n            setError(`Could not fetch teams data for employee ${employeeIdToFetch}.`);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchAdminAllTeams = async () => {\r\n        if (!matchedArray || !matchedArray.includes(\"ADMIN_FETCHING_ALLTEAMS\")) {\r\n            setAdminAllTeams([]);\r\n            setLoading(false);\r\n            return;\r\n        }\r\n        \r\n        setLoading(true);\r\n        setAdminAllTeams([]);\r\n        \r\n        try {\r\n            console.log(\"[API CALL - fetchAdminAllTeams] Fetching all teams for admin view.\");\r\n            let response = await publicinfoApi.get(\r\n                \"employee/0/19/teamId/asc/teams\"\r\n            );\r\n            \r\n            const teamsData = response.data.content;\r\n            setAdminAllTeams(teamsData);\r\n            console.log(\"Admin Fetched Teams (ALL_TEAMS view) âœ…\", teamsData);\r\n            setError(null);\r\n        } catch (error) {\r\n            console.error(\"[API ERROR - fetchAdminAllTeams] Error From Admin Fetching All Teams âŒ\", error.response?.data || error.message);\r\n            setAdminAllTeams([]); \r\n            setError('Failed to load all teams directory.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if(loggedinuserRole) {\r\n            let fetchForPermissionArray = async () => {\r\n                try {\r\n                    console.log(`[API CALL - fetchForPermissionArray] Fetching role access for role: ${loggedinuserRole}`);\r\n                    let response = await authApi.get(`role-access/${loggedinuserRole}`);\r\n                    console.log('[API SUCCESS - fetchForPermissionArray] Role permissions fetched:', response.data);\r\n                    setMatchedArray(response?.data?.permissions);\r\n                } catch (error) {\r\n                    console.error(\"[API ERROR - fetchForPermissionArray] Error from Fetching Error matching Objects:\", error.response?.data || error.message);\r\n                }\r\n            }\r\n            fetchForPermissionArray();\r\n        }\r\n    },[loggedinuserRole]);\r\n\r\n    useEffect(() => {\r\n        if (displayMode === 'MY_TEAMS') {\r\n            fetchTeams();\r\n        } else if (displayMode === 'ALL_TEAMS') {\r\n            fetchAdminAllTeams();\r\n        }\r\n    }, [displayMode, canCreateTeam, employeeIdToFetch, matchedArray]);\r\n    \r\n    const currentDataSource = displayMode === 'MY_TEAMS' ? teams : adminallteams;\r\n\r\n    const filteredCurrentTeams = (Array.isArray(currentDataSource) ? currentDataSource : []).filter(team =>\r\n        team.teamName && team.teamName.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    const validateForm = () => {\r\n        const errors = {};\r\n        if (!teamName.trim()) errors.teamName = \"Team Name is required.\";\r\n        if (!teamLead) errors.teamLead = \"Team Lead is required.\";\r\n        if (teamMembers.length === 0) errors.teamMembers = \"At least one Team Member is required.\";\r\n        if (!selectedProject) errors.selectedProject = \"Project selection is required.\";\r\n        setFormErrors(errors);\r\n        return Object.keys(errors).length === 0;\r\n    };\r\n\r\n    const handleCreateTeam = async (e) => {\r\n        e.preventDefault();\r\n        if (!validateForm()) return;\r\n\r\n        setIsSubmitting(true);\r\n        setFormErrors({});\r\n\r\n        const newTeamData = {\r\n            teamName,\r\n            teamDescription: \"Default Description\",\r\n            employeeIds: [teamLead?.value, ...teamMembers.map(member => member.value)].filter(Boolean),\r\n            projectId: selectedProject?.value\r\n        };\r\n\r\n        try {\r\n            console.log('[API CALL - handleCreateTeam] Creating new team with data:', newTeamData);\r\n            await publicinfoApi.post('employee/team', newTeamData);\r\n            console.log('[API SUCCESS - handleCreateTeam] Team created successfully.');\r\n            \r\n            if (displayMode === 'MY_TEAMS') {\r\n                await fetchTeams();\r\n            }\r\n\r\n            setIsCreateModalOpen(false);\r\n            setTeamName('');\r\n            setTeamLead(null);\r\n            setTeamMembers([]);\r\n            setSelectedProject(null);\r\n            alert('Team created successfully!');\r\n        } catch (err) {\r\n            console.error('[API ERROR - handleCreateTeam] Failed to create team:', err.response?.data || err.message);\r\n            setFormErrors({ general: err.response?.data?.message || 'Failed to create team. Please check the data and try again.' });\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const handleDeleteClick = (team) => {\r\n        setSelectedTeam(team);\r\n        setIsDeleteModalOpen(true);\r\n    };\r\n\r\n    const confirmDelete = async () => {\r\n        if (!selectedTeam) return;\r\n\r\n        setIsSubmitting(true);\r\n        \r\n        try {\r\n            console.log(`[API CALL - confirmDelete] Deleting team with ID: ${selectedTeam.teamId}`);\r\n            await publicinfoApi.delete(`employee/${selectedTeam.teamId}/team`);\r\n            console.log('[API SUCCESS - confirmDelete] Team deleted successfully.');\r\n            \r\n            if (displayMode === 'MY_TEAMS') {\r\n                setTeams(teams.filter(t => t.teamId !== selectedTeam.teamId));\r\n            } else if (displayMode === 'ALL_TEAMS') {\r\n                setAdminAllTeams(adminallteams.filter(t => t.teamId !== selectedTeam.teamId));\r\n            }\r\n            \r\n            setIsDeleteModalOpen(false);\r\n            setSelectedTeam(null);\r\n            alert('Team deleted successfully!');\r\n        } catch (err) {\r\n            console.error('[API ERROR - confirmDelete] Failed to delete team:', err.response?.data || err.message);\r\n            alert('Failed to delete team.');\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const renderCreateTeamModal = () => {\r\n        if (!isCreateModalOpen) return null;\r\n\r\n        return (\r\n            <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4\">\r\n                <div className={`rounded-2xl sm:rounded-3xl w-full max-w-sm sm:max-w-md lg:max-w-2xl max-h-[95vh] overflow-hidden shadow-2xl flex flex-col ${\r\n                    theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n                }`}>\r\n                    <div className=\"px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r from-blue-500 to-indigo-700 text-white relative\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n                                <div className=\"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl flex-shrink-0\">\r\n                                    <FaUsers className=\"w-6 h-6 sm:w-8 sm:h-8\" />\r\n                                </div>\r\n                                <div className=\"min-w-0 flex-1\">\r\n                                    <h2 className=\"text-lg sm:text-xl md:text-2xl font-bold break-words\">Create New Team</h2>\r\n                                    <p className=\"text-white/90 text-xs sm:text-sm break-words\">Organize employees into a new team.</p>\r\n                                </div>\r\n                            </div>\r\n                            <button onClick={() => {\r\n                                setIsCreateModalOpen(false);\r\n                                setTeamName('');\r\n                                setTeamLead(null);\r\n                                setTeamMembers([]);\r\n                                setSelectedProject(null);\r\n                                setFormErrors({});\r\n                            }} className=\"p-2 sm:p-3 hover:bg-white/20 rounded-full transition-all group flex-shrink-0\">\r\n                                <FaTimes className=\"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"overflow-y-auto flex-grow\">\r\n                        <form className=\"p-4 sm:p-6 md:p-8\" onSubmit={handleCreateTeam}>\r\n                            <div className=\"grid grid-cols-1 gap-4 sm:gap-6\">\r\n                                \r\n                                {/* Team Name - Uses InputField */}\r\n                                <div>\r\n                                    <InputField\r\n                                        name=\"teamName\"\r\n                                        label=\"Team Name\"\r\n                                        type=\"text\"\r\n                                        required={true}\r\n                                        placeholder=\"e.g., Development Team\"\r\n                                        value={teamName}\r\n                                        onChange={(e) => setTeamName(e.target.value)}\r\n                                        isError={formErrors.teamName}\r\n                                        theme={theme}\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Project - Uses ProjectDropdown */}\r\n                                <div>\r\n                                    <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                        Project <span className=\"text-red-500\">*</span>\r\n                                    </label>\r\n                                    <ProjectDropdown \r\n                                        value={selectedProject} \r\n                                        onChange={setSelectedProject} \r\n                                        theme={theme} \r\n                                        error={formErrors.selectedProject} \r\n                                    />\r\n                                    {formErrors.selectedProject && <p className=\"text-red-500 text-xs mt-1\">{formErrors.selectedProject}</p>}\r\n                                </div>\r\n\r\n                                {/* Team Lead - Uses EmployeeDropdown (Single) */}\r\n                                <div>\r\n                                    <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                        Team Lead <span className=\"text-red-500\">*</span>\r\n                                    </label>\r\n                                    <EmployeeDropdown \r\n                                        value={teamLead} \r\n                                        onChange={setTeamLead} \r\n                                        theme={theme} \r\n                                        error={formErrors.teamLead} \r\n                                        isMulti={false}\r\n                                    />\r\n                                    {formErrors.teamLead && <p className=\"text-red-500 text-xs mt-1\">{formErrors.teamLead}</p>}\r\n                                </div>\r\n                                \r\n                                {/* Team Members - Uses EmployeeDropdown (Multi) */}\r\n                                <div>\r\n                                    <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                        Team Members <span className=\"text-red-500\">*</span>\r\n                                    </label>\r\n                                    <EmployeeDropdown \r\n                                        value={teamMembers} \r\n                                        onChange={setTeamMembers} \r\n                                        theme={theme} \r\n                                        error={formErrors.teamMembers} \r\n                                        isMulti={true} \r\n                                    />\r\n                                    {formErrors.teamMembers && <p className=\"text-red-500 text-xs mt-1\">{formErrors.teamMembers}</p>}\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            {formErrors.general && (\r\n                                <div className={`mt-4 sm:mt-6 p-3 sm:p-4 border-l-4 border-red-400 rounded-r-lg ${theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'}`}>\r\n                                    <div className=\"flex items-center\">\r\n                                        <IoWarning className=\"w-4 h-4 sm:w-5 sm:h-5 text-red-400 mr-3 flex-shrink-0\" />\r\n                                        <p className={`font-medium text-sm ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>{formErrors.general}</p>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </form>\r\n                    </div>\r\n\r\n                    <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'}`}>\r\n                        <button \r\n                            type=\"button\" \r\n                            onClick={() => {\r\n                                setIsCreateModalOpen(false);\r\n                                setTeamName('');\r\n                                setTeamLead(null);\r\n                                setTeamMembers([]);\r\n                                setSelectedProject(null);\r\n                                setFormErrors({});\r\n                            }} \r\n                            className={`w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg font-semibold transition-all text-sm ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-600' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button \r\n                            type=\"button\" \r\n                            onClick={handleCreateTeam} \r\n                            disabled={isSubmitting} \r\n                            className={`w-full sm:w-auto px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white font-bold rounded-lg\r\n                                            hover:shadow-lg transform hover:scale-105 transition-all flex items-center justify-center space-x-2 text-sm\r\n                                            ${isSubmitting ? 'cursor-not-allowed opacity-75' : ''}`}\r\n                        >\r\n                            {isSubmitting ? (\r\n                                <>\r\n                                    <div className=\"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                                    <span>Creating...</span>\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                                    <span>Create Team</span>\r\n                                </>\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const handleMyTeamsClick = () => {\r\n        setDisplayMode('MY_TEAMS');\r\n        setIsRightSidebarOpen(false);\r\n    };\r\n\r\n    const handleAllTeamsClick = () => {\r\n        setDisplayMode('ALL_TEAMS');\r\n        setIsRightSidebarOpen(false);\r\n        fetchAdminAllTeams();\r\n    };\r\n\r\n    const renderContent = () => {\r\n        const isMyTeamsMode = displayMode === 'MY_TEAMS';\r\n        const teamTitle = isMyTeamsMode ? 'My Teams' : 'All Teams';\r\n\r\n        if (loading) {\r\n            return <LoadingSpinner />;\r\n        }\r\n\r\n        if (error && isMyTeamsMode) {\r\n            return <ErrorDisplay message={error} />;\r\n        }\r\n        \r\n        const teamsToRenderAfterSearch = (Array.isArray(currentDataSource) ? currentDataSource : []).filter(team =>\r\n            team.teamName && team.teamName.toLowerCase().includes(searchTerm.toLowerCase())\r\n        );\r\n        \r\n        if (teamsToRenderAfterSearch.length === 0) {\r\n            return (\r\n                <div className=\"text-center py-12 sm:py-16 px-4\">\r\n                    <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${\r\n                        theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100'\r\n                    }`}>\r\n                        <FaUsers className={`w-8 h-8 sm:w-10 sm:h-10 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} />\r\n                    </div>\r\n                    <h2 className={`text-lg sm:text-xl font-bold mb-2 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                        {searchTerm ? `No Teams Found matching \"${searchTerm}\"` : `${teamTitle} Not Available`}\r\n                    </h2>\r\n                    <p className={`text-sm sm:text-base mb-4 max-w-md mx-auto ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                        {isMyTeamsMode\r\n                            ? 'You are not part of any teams yet. Ask your manager to add you.'\r\n                            : 'No teams are currently listed in the directory or unable to fetch directory data.'\r\n                        }\r\n                    </p>\r\n                </div>\r\n            );\r\n        }\r\n        \r\n        return (\r\n            <>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mx-4 sm:mx-0\">\r\n                    {teamsToRenderAfterSearch.map((team, index) => {\r\n                        const teamId = team.teamId || index;\r\n                        const isExpanded = isTeamExpanded(teamId);\r\n                        \r\n                        const leadOrManager = team.employees?.find(emp => emp.jobTitlePrimary === 'TEAM_LEAD' || emp.jobTitlePrimary === 'MANAGER');\r\n                        const otherMembers = team.employees?.filter(emp => emp !== leadOrManager) || [];\r\n                        \r\n                        const membersToShow = isExpanded ? otherMembers : otherMembers.slice(0, 4);\r\n                        const hasMoreMembers = otherMembers.length > 4;\r\n                        \r\n                        const membersToDisplay = leadOrManager ? [leadOrManager, ...membersToShow] : membersToShow;\r\n                        const teamLead = leadOrManager?.jobTitlePrimary === 'TEAM_LEAD' ? leadOrManager : null;\r\n\r\n                        return (\r\n                            <div key={teamId} className={`rounded-none sm:rounded-lg shadow-lg overflow-hidden border transition-shadow duration-300 flex flex-col ${theme === 'dark' ? 'bg-gray-800 border-gray-700 hover:shadow-blue-500/20' : 'bg-white border-gray-200 hover:shadow-xl'}`}>\r\n                                <div className=\"p-4 sm:p-5\">\r\n                                    <div className=\"flex justify-between items-start\">\r\n                                        <div className=\"flex-1 min-w-0\">\r\n                                            <h2 className={`text-lg sm:text-xl font-bold break-words ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>\r\n                                                {team.teamName}\r\n                                            </h2>\r\n                                            {leadOrManager && (\r\n                                                <div className={`flex items-center text-sm sm:text-md mt-2 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                                                    <FaUserShield className=\"mr-2 text-green-500 flex-shrink-0\" />\r\n                                                    <strong>{leadOrManager.jobTitlePrimary}:</strong><span className=\"ml-1 break-words\">{leadOrManager.displayName || leadOrManager.firstName + ' ' + leadOrManager.lastName}</span>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                        <div className=\"flex space-x-2 flex-shrink-0\">\r\n                                            <Link to={`/teams/${teamId}`} title=\"View Details\" className=\"p-2 text-gray-500 hover:text-blue-500 transition-colors\">\r\n                                                <FaEye className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                            </Link>\r\n                                            {matchedArray?.includes(\"TEAM_DELETE_BTN\") && !fromContextMenu && (\r\n                                                <button onClick={() => handleDeleteClick(team)} title=\"Delete Team\" className=\"p-2 text-gray-500 hover:text-red-500 transition-colors\">\r\n                                                    <FaTrash className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className={`px-4 sm:px-5 py-3 sm:py-4 border-t mt-auto ${theme === 'dark' ? 'bg-gray-800/50 border-gray-700' : 'bg-gray-50 border-gray-200'}`}>\r\n                                    <h3 className={`font-semibold mb-2 text-sm sm:text-base ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                                        Members ({team.employees?.length || 0})\r\n                                    </h3>\r\n                                    <div className=\"space-y-2\">\r\n                                        <div className=\"flex flex-wrap gap-1 sm:gap-2\">\r\n                                            {membersToDisplay?.map(member => {\r\n                                                        const displayName = member.displayName || (member.firstName + ' ' + member.lastName);\r\n                                                        const isYou = member.employeeId === employeeIdToFetch;\r\n                                                        const isLead = member.jobTitlePrimary === 'TEAM_LEAD' || member.jobTitlePrimary === 'MANAGER';\r\n                                                        \r\n                                                        let tagClass;\r\n                                                        if (isYou) {\r\n                                                            tagClass = theme === 'dark' ? 'bg-green-900 text-green-300' : 'bg-green-100 text-green-800';\r\n                                                        } else if (isLead) {\r\n                                                            tagClass = theme === 'dark' ? 'bg-indigo-900 text-indigo-300' : 'bg-indigo-100 text-indigo-800';\r\n                                                        } else {\r\n                                                            tagClass = theme === 'dark' ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800';\r\n                                                        }\r\n\r\n                                                        return (\r\n                                                            <span key={member.employeeId} className={`text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full break-words ${tagClass}`}>\r\n                                                                {displayName}\r\n                                                                {isYou && ' (You)'}\r\n                                                                {isLead && !isYou && ` (${member.jobTitlePrimary})`}\r\n                                                            </span>\r\n                                                        );\r\n                                                    })}\r\n                                        </div>\r\n                                        {hasMoreMembers && (\r\n                                            <button\r\n                                                onClick={() => toggleTeamExpansion(teamId)}\r\n                                                className=\"flex items-center space-x-1 text-xs sm:text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors\"\r\n                                            >\r\n                                                {isExpanded ? (\r\n                                                    <><span>Show Less</span><FaChevronUp className=\"w-3 h-3\" /></>\r\n                                                ) : (\r\n                                                    <><span>+{otherMembers.length - 4} more</span><FaChevronDown className=\"w-3 h-3\" /></>\r\n                                                )}\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n\r\n    const hasAdminPermissions = matchedArray && matchedArray.includes(\"ADMIN_FETCHING_ALLTEAMS\");\r\n\r\n    return (\r\n        <div className={`relative flex min-h-screen ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n            \r\n            {hasAdminPermissions && !isRightSidebarOpen && (\r\n                <button\r\n                    onClick={() => setIsRightSidebarOpen(true)}\r\n                    className=\"fixed right-0 top-1/2 -translate-y-1/2 p-2 rounded-l-lg bg-indigo-600 text-white shadow-lg z-50 hover:bg-indigo-700 transition-colors\"\r\n                    aria-label=\"Open Navigation Sidebar\"\r\n                    title=\"Open Navigation\"\r\n                >\r\n                    <FaChevronLeft size={24} />\r\n                </button>\r\n            )}\r\n\r\n            <div className={`flex-1 transition-all duration-300 ${isRightSidebarOpen ? 'lg:mr-60' : 'mr-0'}`}>\r\n                <div className={`px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8`}>\r\n                    {fromContextMenu && targetEmployeeId && (\r\n                        <div className={`mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-xl border-l-4 border-blue-500 shadow-md flex items-center space-x-3 ${theme === 'dark' ? 'bg-blue-900/20 text-blue-300' : 'bg-blue-50 text-blue-800'}`}>\r\n                            <FaEye className=\"flex-shrink-0\" />\r\n                            <p className=\"font-semibold text-sm sm:text-base break-words\">\r\n                                ðŸ” Viewing teams for employee: <span className=\"font-mono\">{targetEmployeeId}</span>\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 sm:mb-6 gap-4 mx-4 sm:mx-0\">\r\n                        <h1 className={`text-xl sm:text-2xl md:text-3xl font-bold flex items-center ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                            <FaUsers className=\"mr-2 sm:mr-3 text-blue-500\" /> \r\n                            {displayMode === 'MY_TEAMS' ? 'My Teams' : (fromContextMenu ? 'Employee Teams' : 'All Teams')}\r\n                        </h1>\r\n                        <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 w-full md:w-auto\">\r\n                            <div className=\"relative w-full sm:w-64\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Search by team name...\"\r\n                                    value={searchTerm}\r\n                                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                                    className={`w-full pl-8 sm:pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/30 transition-colors text-sm ${theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-800 placeholder-gray-500'}`}\r\n                                />\r\n                                <FaSearch className={`absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n                            </div>\r\n                            {matchedArray?.includes(\"CREATE_TEAM\") && !fromContextMenu && (\r\n                                <button\r\n                                    onClick={() => setIsCreateModalOpen(true)}\r\n                                    className=\"w-full sm:w-auto bg-black text-white px-4 sm:px-5 py-2 rounded-lg font-semibold hover:bg-gray-800 transition-colors flex items-center justify-center shadow-md text-sm\"\r\n                                >\r\n                                    <FaPlus className=\"mr-2\" /> Create Team\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {renderContent()}\r\n\r\n                    {renderCreateTeamModal()}\r\n                    \r\n                    <ConfirmationModal\r\n                        isOpen={isDeleteModalOpen}\r\n                        onClose={() => setIsDeleteModalOpen(false)}\r\n                        onConfirm={confirmDelete}\r\n                        title=\"Delete Team\"\r\n                        message={`Are you sure you want to delete the team \"${selectedTeam?.teamName}\"? This action cannot be undone.`}\r\n                        confirmText=\"Delete\"\r\n                        isConfirming={isSubmitting}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {hasAdminPermissions && (\r\n                <aside\r\n                    className={`fixed top-16 right-0 h-[calc(100vh-4rem)] border-l transition-all duration-300 z-50 flex flex-col ${\r\n                        isRightSidebarOpen ? 'w-60 translate-x-0' : 'w-0 translate-x-full'\r\n                    } ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}\r\n                >\r\n                    {isRightSidebarOpen && (\r\n                        <button\r\n                            onClick={() => setIsRightSidebarOpen(false)}\r\n                            className=\"absolute -left-12 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition-colors z-50 hidden md:block\"\r\n                            aria-label=\"Close Navigation Sidebar\"\r\n                            title=\"Close Navigation\"\r\n                        >\r\n                            <FaChevronRight size={24} />\r\n                        </button>\r\n                    )}\r\n\r\n                    <div className=\"p-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-700\">\r\n                        <h3 className={`text-lg font-bold ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Navigation</h3>\r\n                        <button\r\n                            onClick={() => setIsRightSidebarOpen(false)}\r\n                            className={`p-1 rounded-full ${theme === 'dark' ? 'text-gray-400 hover:text-white hover:bg-gray-700' : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'}`}\r\n                            title=\"Close Sidebar\"\r\n                        >\r\n                            <FaTimes size={18} />\r\n                        </button>\r\n                    </div>\r\n                    <nav className=\"flex-1 overflow-y-auto p-4 space-y-2\">\r\n                        <button\r\n                            onClick={handleMyTeamsClick}\r\n                            className={`w-full text-left py-2 px-3 rounded-lg font-medium flex items-center transition-colors ${\r\n                                displayMode === 'MY_TEAMS'\r\n                                    ? 'bg-blue-600 text-white'\r\n                                    : theme === 'dark'\r\n                                    ? 'text-gray-300 hover:bg-gray-700 hover:text-white'\r\n                                    : 'text-gray-700 hover:bg-gray-200'\r\n                            }`}\r\n                        >\r\n                            <FaUsers className=\"mr-2\" size={16} />\r\n                            My Teams\r\n                        </button>\r\n                        <button\r\n                            onClick={handleAllTeamsClick}\r\n                            className={`w-full text-left py-2 px-3 rounded-lg font-medium flex items-center transition-colors ${\r\n                                displayMode === 'ALL_TEAMS'\r\n                                    ? 'bg-blue-600 text-white'\r\n                                    : theme === 'dark'\r\n                                    ? 'text-gray-300 hover:bg-gray-700 hover:text-white'\r\n                                    : 'text-gray-700 hover:bg-gray-200'\r\n                            }`}\r\n                        >\r\n                            <FaUsers className=\"mr-2\" size={16} />\r\n                            All Teams\r\n                        </button>\r\n                    </nav>\r\n                </aside>\r\n            )}\r\n\r\n            {isRightSidebarOpen && (\r\n                <div\r\n                    className=\"fixed inset-0 bg-black/50 z-40 lg:hidden\"\r\n                    onClick={() => setIsRightSidebarOpen(false)}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AllTeams;"],"names":["_ref","isOpen","onClose","onConfirm","title","message","confirmText","isConfirming","theme","useContext","Context","_jsx","className","children","_jsxs","concat","style","borderColor","FaExclamationTriangle","onClick","FaTimes","disabled","_Fragment","InputField","name","label","type","required","hint","placeholder","value","onChange","onBlur","isError","options","baseInputClass","map","opt","FaChevronDown","toLowerCase","IoWarning","useOutsideClick","handler","ignoreRefs","arguments","length","undefined","ref","useRef","useEffect","handleClickOutside","event","isIgnored","some","r","current","contains","target","document","addEventListener","removeEventListener","ProjectDropdown","_ref2","error","setIsOpen","useState","searchTerm","setSearchTerm","projects","setProjects","loading","setLoading","hasMoreData","setHasMoreData","currentPage","setCurrentPage","totalPages","setTotalPages","allDataLoaded","setAllDataLoaded","isFetchingRef","scrollAreaRef","dropdownRef","loadProjects","useCallback","async","page","append","_response$data","_response$data2","_response$data3","console","log","response","publicinfoApi","get","data","fetchedProjects","content","newProjects","Array","isArray","prev","last","_error$response","handleScroll","e","scrollTop","scrollHeight","clientHeight","filteredProjects","filter","proj","_proj$title","_proj$projectId","includes","projectId","toggleDropdown","AnimatePresence","motion","div","initial","opacity","y","animate","exit","FaSearch","onScroll","project","isSelected","handleSelect","client","projectStatus","IoCheckmarkCircle","EmployeeDropdown","_ref3","isMulti","employees","setEmployees","loadEmployees","responseData","fetchedEmployees","newEmployees","_error$response2","filteredEmployees","emp","_emp$employeeId","displayName","firstName","lastName","employeeId","renderSelectedValue","defaultPlaceholder","currentValues","item","employee","employeeLabel","LoadingSpinner","ErrorDisplay","_ref4","AllTeams","teams","setTeams","setError","isCreateModalOpen","setIsCreateModalOpen","isDeleteModalOpen","setIsDeleteModalOpen","selectedTeam","setSelectedTeam","expandedTeams","setExpandedTeams","Set","matchedArray","setMatchedArray","isRightSidebarOpen","setIsRightSidebarOpen","displayMode","setDisplayMode","adminallteams","setAdminAllTeams","teamName","setTeamName","teamLead","setTeamLead","teamMembers","setTeamMembers","selectedProject","setSelectedProject","isSubmitting","setIsSubmitting","formErrors","setFormErrors","userData","userRoles","roles","canCreateTeam","location","useLocation","searchParams","URLSearchParams","search","fromContextMenu","targetEmployeeId","employeeIdToFetch","loggedinuserRole","fetchTeams","teamsArray","err","_err$response","fetchAdminAllTeams","teamsData","_error$response3","fetchForPermissionArray","_response$data4","authApi","permissions","_error$response4","currentDataSource","handleCreateTeam","team","preventDefault","validateForm","errors","trim","Object","keys","newTeamData","teamDescription","employeeIds","member","Boolean","post","alert","_err$response2","_err$response3","_err$response3$data","general","hasAdminPermissions","FaChevronLeft","size","FaEye","FaUsers","FaPlus","renderContent","isMyTeamsMode","teamTitle","teamsToRenderAfterSearch","index","_team$employees","_team$employees2","_team$employees3","teamId","isExpanded","has","isTeamExpanded","leadOrManager","find","jobTitlePrimary","otherMembers","membersToShow","slice","hasMoreMembers","membersToDisplay","FaUserShield","Link","to","handleDeleteClick","FaTrash","isYou","isLead","tagClass","newExpandedTeams","delete","add","toggleTeamExpansion","FaChevronUp","onSubmit","ConfirmationModal","t","_err$response4","FaChevronRight","handleMyTeamsClick","handleAllTeamsClick"],"sourceRoot":""}