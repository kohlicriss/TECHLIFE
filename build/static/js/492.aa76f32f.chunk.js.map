{"version":3,"file":"static/js/492.aa76f32f.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Profile/tabs/About.jsx","TechLife/HRMS/Components/Profile/tabs/Profile.jsx","TechLife/HRMS/Components/Profile/tabs/Job.jsx","TechLife/HRMS/Components/Profile/tabs/Document.jsx","TechLife/HRMS/Components/Profile/tabs/Achievements.jsx","TechLife/HRMS/Components/Profile/Profiles.jsx"],"sourcesContent":["// src/TechLife/HRMS/Components/Profile/tabs/About.jsx\r\n\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport { Context } from \"../../HrmsContext\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport { IoEye } from \"react-icons/io5\";\r\n\r\nconst About = () => {\r\n  const { theme } = useContext(Context);\r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n  const isReadOnly = fromContextMenu && targetEmployeeId && targetEmployeeId !== empID;\r\n\r\n  const [responses, setResponses] = useState(() => {\r\n    const savedResponses = localStorage.getItem(\"aboutResponses\");\r\n    return savedResponses\r\n      ? JSON.parse(savedResponses)\r\n      : {\r\n          about: { text: \"\", isEditing: false },\r\n          jobLove: { text: \"\", isEditing: false },\r\n          interests: { text: \"\", isEditing: false },\r\n        };\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"aboutResponses\", JSON.stringify(responses));\r\n  }, [responses]);\r\n\r\n  const handleEdit = (field) => {\r\n    if (isReadOnly) return;\r\n    setResponses((prev) => ({\r\n      ...prev,\r\n      [field]: { ...prev[field], isEditing: true },\r\n    }));\r\n  };\r\n\r\n  const handleSave = (field, value) => {\r\n    setResponses((prev) => ({\r\n      ...prev,\r\n      [field]: { text: value, isEditing: false },\r\n    }));\r\n  };\r\n\r\n  const handleCancel = (field) => {\r\n    setResponses((prev) => ({\r\n      ...prev,\r\n      [field]: { ...prev[field], isEditing: false },\r\n    }));\r\n  };\r\n\r\n  const renderResponseSection = (field, title) => {\r\n    const { text, isEditing } = responses[field];\r\n\r\n    if (!text && !isEditing) {\r\n      return (\r\n        <button\r\n          onClick={() => handleEdit(field)}\r\n          disabled={isReadOnly}\r\n          className={`w-full sm:w-auto border rounded-lg px-3 sm:px-4 py-2 transition-colors duration-200 text-sm sm:text-base ${\r\n            isReadOnly\r\n              ? theme === 'dark'\r\n                ? 'text-gray-500 border-gray-600 cursor-not-allowed'\r\n                : 'text-gray-400 border-gray-300 cursor-not-allowed'\r\n              : theme === 'dark'\r\n              ? 'text-purple-400 border-purple-400 hover:bg-purple-900/20'\r\n              : 'text-purple-600 border-purple-600 hover:bg-purple-50'\r\n          }`}\r\n        >\r\n          {isReadOnly ? 'No response added' : 'Add your response'}\r\n        </button>\r\n      );\r\n    }\r\n\r\n    if (isEditing) {\r\n      return (\r\n        <div className=\"space-y-2 sm:space-y-3\">\r\n          <textarea\r\n            className={`w-full p-2 sm:p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 transition-colors duration-200 text-sm sm:text-base ${\r\n              theme === 'dark'\r\n                ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\r\n            }`}\r\n            rows=\"4\"\r\n            defaultValue={text}\r\n            id={`${field}-textarea`}\r\n            placeholder=\"Type your response here...\"\r\n          />\r\n          <div className=\"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2\">\r\n            <button\r\n              onClick={() => handleCancel(field)}\r\n              className={`w-full sm:w-auto px-3 sm:px-4 py-2 rounded-lg transition-colors duration-200 text-sm ${\r\n                theme === 'dark'\r\n                  ? 'text-gray-300 hover:bg-gray-700'\r\n                  : 'text-gray-600 hover:bg-gray-100'\r\n              }`}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={() =>\r\n                handleSave(\r\n                  field,\r\n                  document.getElementById(`${field}-textarea`).value\r\n                )\r\n              }\r\n              className={`w-full sm:w-auto px-3 sm:px-4 py-2 rounded-lg transition-colors duration-200 text-sm ${\r\n                theme === 'dark'\r\n                  ? 'bg-purple-600 text-white hover:bg-purple-700'\r\n                  : 'bg-purple-600 text-white hover:bg-purple-700'\r\n              }`}\r\n            >\r\n              Save\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className={`p-3 sm:p-4 rounded-lg relative group transition-colors duration-200 ${\r\n        theme === 'dark'\r\n          ? 'bg-gray-800 border border-gray-700'\r\n          : 'bg-gray-50 border border-gray-200'\r\n      }`}>\r\n        <p className={`whitespace-pre-wrap text-sm sm:text-base break-words ${\r\n          theme === 'dark' ? 'text-gray-200' : 'text-gray-700'\r\n        }`}>{text}</p>\r\n        {!isReadOnly && (\r\n          <button\r\n            onClick={() => handleEdit(field)}\r\n            className={`absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all duration-200\r\n              px-2 sm:px-3 py-1 border rounded-lg shadow-sm text-xs sm:text-sm ${\r\n              theme === 'dark'\r\n                ? 'bg-gray-700 border-gray-600 text-gray-300 hover:text-gray-100 hover:border-gray-500'\r\n                : 'bg-white border-gray-200 text-gray-600 hover:text-gray-800 hover:border-gray-300'\r\n            }`}\r\n          >\r\n            Edit\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`px-0 sm:px-4 md:px-6 py-4 sm:py-6 transition-colors duration-200 min-h-screen ${\r\n      theme === 'dark' ? 'bg-gray-900' : 'bg-white'\r\n    }`}>\r\n\r\n      {fromContextMenu && (\r\n        <div className={`mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-l-4 border-blue-500 shadow-lg ${\r\n          theme === 'dark' ? 'bg-blue-900/20 border-blue-400' : 'bg-blue-50 border-blue-500'\r\n        }`}>\r\n          <div className=\"flex items-center space-x-3\">\r\n            <IoEye className={`w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 ${theme === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} />\r\n            <div className=\"min-w-0 flex-1\">\r\n              <p className={`font-semibold text-sm sm:text-base ${theme === 'dark' ? 'text-blue-400' : 'text-blue-800'}`}>\r\n                Viewing Employee About Details\r\n              </p>\r\n              <p className={`text-xs sm:text-sm break-words ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                Employee ID: {targetEmployeeId}\r\n                {isReadOnly && \"  Read-only access\"}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"space-y-4 sm:space-y-6 mx-4 sm:mx-0\">\r\n        <h2 className={`text-lg sm:text-xl md:text-2xl font-semibold ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n        }`}>About</h2>\r\n\r\n        <div className=\"space-y-4 sm:space-y-6\">\r\n          {renderResponseSection(\"about\", \"About\")}\r\n\r\n          <div className=\"space-y-4 sm:space-y-6\">\r\n            <div>\r\n              <h3 className={`text-base sm:text-lg font-medium mb-3 sm:mb-4 break-words ${\r\n                theme === 'dark' ? 'text-gray-200' : 'text-gray-900'\r\n              }`}>\r\n                What I love about my job?\r\n              </h3>\r\n              {renderResponseSection(\"jobLove\", \"Job Love\")}\r\n            </div>\r\n\r\n            <div>\r\n              <h3 className={`text-base sm:text-lg font-medium mb-3 sm:mb-4 break-words ${\r\n                theme === 'dark' ? 'text-gray-200' : 'text-gray-900'\r\n              }`}>\r\n                My interests and hobbies\r\n              </h3>\r\n              {renderResponseSection(\"interests\", \"Interests\")}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { IoClose, IoPersonOutline, IoCheckmarkCircle, IoWarning, IoAdd, IoMailOutline, IoLocationOutline, IoSchoolOutline, IoPeopleOutline, IoBriefcaseOutline, IoCloudUpload, IoEye, IoTrashOutline, IoCreateOutline } from \"react-icons/io5\";\r\nimport { Context } from \"../../HrmsContext\";\r\nimport { publicinfoApi } from \"../../../../../axiosInstance\";\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\n\r\n// --- Reusable Modal Component ---\r\nconst Modal = ({ children, onClose, title, type, theme }) => {\r\n    let titleClass = \"\";\r\n    let icon = null;\r\n\r\n    if (type === \"success\") {\r\n        titleClass = \"text-green-600\";\r\n        icon = <IoCheckmarkCircle className=\"h-5 w-5 sm:h-6 sm:w-6 text-green-500\" />;\r\n    } else if (type === \"error\") {\r\n        titleClass = \"text-red-600\";\r\n        icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-red-500\" />;\r\n    } else if (type === \"confirm\") {\r\n        titleClass = \"text-yellow-600\";\r\n        icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500\" />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-[250]\">\r\n            <div className={`p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-md m-4 border ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n                <div className=\"flex items-center mb-4\">\r\n                    {icon && <span className=\"mr-3\">{icon}</span>}\r\n                    <h3 className={`text-lg sm:text-xl font-bold ${titleClass}`}>{title}</h3>\r\n                </div>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Default Profile (Only static relations/identity)\r\nconst defaultProfile = {\r\n  relations: {\r\n    fatherName: \"Albert Smith\",\r\n    motherName: \"Marry Smith\",\r\n    spouseName: \"Jane Smith\",\r\n    children: \"2\",\r\n    siblings: \"1\",\r\n  },\r\n};\r\n\r\nconst sectionFields = {\r\n  primaryDetails: [\r\n    { \r\n      label: \"First Name\", \r\n      name: \"firstName\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter your first name (up to 50 characters)\"\r\n    },\r\n    { \r\n      label: \"Middle Name\", \r\n      name: \"middleName\", \r\n      type: \"text\",\r\n      hint: \"Enter your middle name if applicable (up to 50 characters)\"\r\n    },\r\n    { \r\n      label: \"Last Name\", \r\n      name: \"lastName\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter your last name (up to 50 characters)\"\r\n    },\r\n    {\r\n      label: \"Display Name\",\r\n      name: \"displayName\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Name to display in system (up to 100 characters)\"\r\n    },\r\n    {\r\n      label: \"Gender\",\r\n      name: \"gender\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"Male\", \"Female\", \"Other\"],\r\n      hint: \"Select your gender\"\r\n    },\r\n    {\r\n      label: \"Date of Birth\",\r\n      name: \"dateOfBirth\",\r\n      type: \"date\",\r\n      required: true,\r\n      hint: \"Select your birth date (must be in the past)\"\r\n    },\r\n    {\r\n      label: \"Marital Status\",\r\n      name: \"maritalStatus\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"Single\", \"Married\", \"Divorced\", \"Widowed\"],\r\n      hint: \"Select your current marital status\"\r\n    },\r\n    {\r\n      label: \"Blood Group\",\r\n      name: \"bloodGroup\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"A+\", \"A-\", \"B+\", \"B-\", \"AB+\", \"AB-\", \"O+\", \"O-\"],\r\n      hint: \"Select your blood group\"\r\n    },\r\n    {\r\n      label: \"Physically Handicapped\",\r\n      name: \"physicallyHandicapped\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"Yes\", \"No\"],\r\n      hint: \"Indicate if you have any physical disabilities\"\r\n    },\r\n    {\r\n      label: \"Nationality\",\r\n      name: \"nationality\",\r\n      type: \"text\",\r\n      required: true,\r\n      hint: \"Enter your nationality (up to 50 characters)\"\r\n    },\r\n  ],\r\n  contactDetails: [\r\n    { \r\n      label: \"Work Email\", \r\n      name: \"workEmail\", \r\n      type: \"email\", \r\n      required: true,\r\n      hint: \"Enter your official work email address\"\r\n    },\r\n    { \r\n      label: \"Personal Email\", \r\n      name: \"personalEmail\", \r\n      type: \"email\",\r\n      hint: \"Enter your personal email address\"\r\n    },\r\n    { \r\n      label: \"Mobile Number\", \r\n      name: \"mobileNumber\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter 10-digit Indian mobile number starting with 6-9\"\r\n    },\r\n    { \r\n      label: \"Work Number\", \r\n      name: \"workNumber\", \r\n      type: \"text\",\r\n      hint: \"Enter work phone number (3-15 digits)\"\r\n    },\r\n  ],\r\n  address: [\r\n    { \r\n      label: \"Street\", \r\n      name: \"street\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter street address (up to 100 characters)\"\r\n    },\r\n    { \r\n      label: \"City\", \r\n      name: \"city\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter city name (up to 50 characters)\"\r\n    },\r\n    { \r\n      label: \"State\", \r\n      name: \"state\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter state name (up to 50 characters)\"\r\n    },\r\n    { \r\n      label: \"Zip\", \r\n      name: \"zip\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter 6-digit Indian ZIP code\"\r\n    },\r\n    { \r\n      label: \"Country\", \r\n      name: \"country\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter country name (up to 50 characters)\"\r\n    },\r\n    { \r\n      label: \"District\", \r\n      name: \"district\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter district name (up to 50 characters)\"\r\n    },\r\n  ],\r\n  relations: [\r\n    { \r\n      label: \"Father Name\", \r\n      name: \"fatherName\", \r\n      type: \"text\",\r\n      hint: \"Enter your father's name\"\r\n    },\r\n    { \r\n      label: \"Mother Name\", \r\n      name: \"motherName\", \r\n      type: \"text\",\r\n      hint: \"Enter your mother's name\"\r\n    },\r\n    { \r\n      label: \"Spouse Name\", \r\n      name: \"spouseName\", \r\n      type: \"text\",\r\n      hint: \"Enter your spouse's name if married\"\r\n    },\r\n    { \r\n      label: \"Children\", \r\n      name: \"children\", \r\n      type: \"number\",\r\n      hint: \"Enter number of children\"\r\n    },\r\n    { \r\n      label: \"Siblings\", \r\n      name: \"siblings\", \r\n      type: \"number\",\r\n      hint: \"Enter number of siblings\"\r\n    },\r\n  ],\r\n  education: [\r\n    { \r\n      label: \"Degree Type\", \r\n      name: \"degreeType\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter degree name (up to 100 characters)\"\r\n    },\r\n    { \r\n      label: \"Institution\", \r\n      name: \"universityOrCollege\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter university/college name (up to 200 characters)\"\r\n    },\r\n    { \r\n      label: \"Specialization\", \r\n      name: \"branchOrSpecialization\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter branch or specialization (up to 100 characters)\"\r\n    },\r\n    { \r\n      label: \"Start Month\", \r\n      name: \"startMonth\", \r\n      type: \"select\", \r\n      required: true,\r\n      options: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n      hint: \"Select the starting month\"\r\n    },\r\n    { \r\n      label: \"Start Year\", \r\n      name: \"startYear\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter year between 1900-2099\"\r\n    },\r\n    { \r\n      label: \"End Month\", \r\n      name: \"endMonth\", \r\n      type: \"select\", \r\n      required: true,\r\n      options: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n      hint: \"Select the ending month\"\r\n    },\r\n    { \r\n      label: \"End Year\", \r\n      name: \"endYear\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter year between 1900-2099\"\r\n    },\r\n    { \r\n      label: \"CGPA/Percentage\", \r\n      name: \"cgpaOrPercentage\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter CGPA or percentage (0-100)\"\r\n    },\r\n    { \r\n      label: \"Degree Certificate\", \r\n      name: \"addFiles\", \r\n      type: \"file\",\r\n      hint: \"Upload degree certificate (JPG, PNG, PDF)\"\r\n    },\r\n  ],\r\n  experience: [\r\n    { \r\n      label: \"Company Name\", \r\n      name: \"companyName\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter company name (2-100 characters)\"\r\n    },\r\n    { \r\n      label: \"Job Title\", \r\n      name: \"jobTitle\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter job title/position (2-100 characters)\"\r\n    },\r\n    { \r\n      label: \"Location\", \r\n      name: \"location\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter work location/city\"\r\n    },\r\n    { \r\n      label: \"Description\", \r\n      name: \"description\", \r\n      type: \"textarea\",\r\n      hint: \"Describe your role and responsibilities (up to 1000 characters)\"\r\n    },\r\n    { \r\n      label: \"Start Month\", \r\n      name: \"startMonth\", \r\n      type: \"select\", \r\n      required: true,\r\n      options: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n      hint: \"Select the starting month\"\r\n    },\r\n    { \r\n      label: \"Start Year\", \r\n      name: \"startYear\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter 4-digit year (e.g., 2020)\"\r\n    },\r\n    { \r\n      label: \"End Month\", \r\n      name: \"endMonth\", \r\n      type: \"select\", \r\n      required: true,\r\n      options: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n      hint: \"Select the ending month\"\r\n    },\r\n    { \r\n      label: \"End Year\", \r\n      name: \"endYear\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Enter 4-digit year (e.g., 2023)\"\r\n    },\r\n  ],\r\n};\r\n\r\n// Section configurations with icons and colors\r\nconst sectionConfig = {\r\n  primaryDetails: {\r\n    icon: IoPersonOutline,\r\n    color: 'from-blue-500 to-blue-700',\r\n    bgColor: 'bg-blue-50',\r\n    darkBgColor: 'bg-blue-900/20',\r\n    borderColor: 'border-blue-200',\r\n    darkBorderColor: 'border-blue-700',\r\n    textColor: 'text-blue-700',\r\n    darkTextColor: 'text-blue-400',\r\n    title: 'Primary Details',\r\n    description: 'Personal information and basic details'\r\n  },\r\n  contactDetails: {\r\n    icon: IoMailOutline,\r\n    color: 'from-green-500 to-green-700',\r\n    bgColor: 'bg-green-50',\r\n    darkBgColor: 'bg-green-900/20',\r\n    borderColor: 'border-green-200',\r\n    darkBorderColor: 'border-green-700',\r\n    textColor: 'text-green-700',\r\n    darkTextColor: 'text-green-400',\r\n    title: 'Contact Details',\r\n    description: 'Email addresses and phone numbers'\r\n  },\r\n  address: {\r\n    icon: IoLocationOutline,\r\n    color: 'from-orange-500 to-orange-700',\r\n    bgColor: 'bg-orange-50',\r\n    darkBgColor: 'bg-orange-900/20',\r\n    borderColor: 'border-orange-200',\r\n    darkBorderColor: 'border-orange-700',\r\n    textColor: 'text-orange-700',\r\n    darkTextColor: 'text-orange-400',\r\n    title: 'Address Information',\r\n    description: 'Current residential address'\r\n  },\r\n  relations: {\r\n    icon: IoPeopleOutline,\r\n    color: 'from-purple-500 to-purple-700',\r\n    bgColor: 'bg-purple-50',\r\n    darkBgColor: 'bg-purple-900/20',\r\n    borderColor: 'border-purple-200',\r\n    darkBorderColor: 'border-purple-700',\r\n    textColor: 'text-purple-700',\r\n    darkTextColor: 'text-purple-400',\r\n    title: 'Family Relations',\r\n    description: 'Family members and relationships'\r\n  },\r\n  education: {\r\n    icon: IoSchoolOutline,\r\n    color: 'from-yellow-500 to-amber-700',\r\n    bgColor: 'bg-yellow-50',\r\n    darkBgColor: 'bg-yellow-900/20',\r\n    borderColor: 'border-yellow-200',\r\n    darkBorderColor: 'border-yellow-700',\r\n    textColor: 'text-yellow-700',\r\n    darkTextColor: 'text-yellow-400',\r\n    title: 'Education Details',\r\n    description: 'Academic qualifications and achievements'\r\n  },\r\n  experience: {\r\n    icon: IoBriefcaseOutline,\r\n    color: 'from-indigo-500 to-indigo-700',\r\n    bgColor: 'bg-indigo-50',\r\n    darkBgColor: 'bg-indigo-900/20',\r\n    borderColor: 'border-indigo-200',\r\n    darkBorderColor: 'border-indigo-700',\r\n    textColor: 'text-indigo-700',\r\n    darkTextColor: 'text-indigo-400',\r\n    title: 'Previous Experience',\r\n    description: 'Professional work history'\r\n  },\r\n};\r\n\r\n//  NEW: Helper function to check if data has meaningful values\r\nconst hasActualData = (data, sectionKey) => {\r\n  if (!data) return false;\r\n  \r\n  // For arrays (education/experience), check if array has elements\r\n  if (Array.isArray(data)) {\r\n    return data.length > 0;\r\n  }\r\n  \r\n  // For objects, check if any field has meaningful value\r\n  const fieldsToCheck = sectionFields[sectionKey];\r\n  if (!fieldsToCheck) return false;\r\n  \r\n  return fieldsToCheck.some(field => {\r\n    const value = data[field.name];\r\n    return value && value !== \"\" && value !== null && value !== undefined;\r\n  });\r\n};\r\n\r\n//  NEW: Comprehensive validation function based on hints\r\nconst validateFieldByHint = (fieldName, value, hint, fieldType) => {\r\n  if (!value || value.trim() === '') return null;\r\n  \r\n  const trimmedValue = value.trim();\r\n  \r\n  // Extract validation rules from hints\r\n  switch (fieldName) {\r\n    case 'firstName':\r\n    case 'middleName':\r\n    case 'lastName':\r\n      if (trimmedValue.length > 50) {\r\n        return `${fieldName} must not exceed 50 characters`;\r\n      }\r\n      if (!/^[A-Za-z\\s]+$/.test(trimmedValue)) {\r\n        return `${fieldName} must contain only letters and spaces`;\r\n      }\r\n      break;\r\n      \r\n    case 'displayName':\r\n      if (trimmedValue.length > 100) {\r\n        return 'Display name must not exceed 100 characters';\r\n      }\r\n      break;\r\n      \r\n    case 'nationality':\r\n      if (trimmedValue.length > 50) {\r\n        return 'Nationality must not exceed 50 characters';\r\n      }\r\n      if (!/^[A-Za-z\\s]+$/.test(trimmedValue)) {\r\n        return 'Nationality must contain only letters and spaces';\r\n      }\r\n      break;\r\n      \r\n    case 'dateOfBirth':\r\n      const birthDate = new Date(trimmedValue);\r\n      const today = new Date();\r\n      if (birthDate >= today) {\r\n        return 'Date of birth must be in the past';\r\n      }\r\n      break;\r\n      \r\n    case 'workEmail':\r\n    case 'personalEmail':\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      if (!emailRegex.test(trimmedValue)) {\r\n        return 'Please enter a valid email address';\r\n      }\r\n      break;\r\n      \r\n    case 'mobileNumber':\r\n      const cleanMobile = trimmedValue.replace(/\\D/g, '');\r\n      if (cleanMobile.length !== 10) {\r\n        return 'Mobile number must be exactly 10 digits';\r\n      }\r\n      if (!/^[6-9]/.test(cleanMobile)) {\r\n        return 'Indian mobile number must start with 6, 7, 8, or 9';\r\n      }\r\n      break;\r\n      \r\n    case 'workNumber':\r\n      const cleanWork = trimmedValue.replace(/\\D/g, '');\r\n      if (cleanWork.length < 3 || cleanWork.length > 15) {\r\n        return 'Work number must be between 3-15 digits';\r\n      }\r\n      break;\r\n      \r\n    case 'street':\r\n      if (trimmedValue.length > 100) {\r\n        return 'Street address must not exceed 100 characters';\r\n      }\r\n      break;\r\n      \r\n    case 'city':\r\n    case 'state':\r\n    case 'country':\r\n    case 'district':\r\n      if (trimmedValue.length > 50) {\r\n        return `${fieldName} must not exceed 50 characters`;\r\n      }\r\n      if (!/^[A-Za-z\\s]+$/.test(trimmedValue)) {\r\n        return `${fieldName} must contain only letters and spaces`;\r\n      }\r\n      break;\r\n      \r\n    case 'zip':\r\n      const cleanZip = trimmedValue.replace(/\\D/g, '');\r\n      if (cleanZip.length !== 6) {\r\n        return 'ZIP code must be exactly 6 digits';\r\n      }\r\n      break;\r\n      \r\n    case 'degreeType':\r\n      if (trimmedValue.length > 100) {\r\n        return 'Degree type must not exceed 100 characters';\r\n      }\r\n      break;\r\n      \r\n    case 'universityOrCollege':\r\n      if (trimmedValue.length > 200) {\r\n        return 'Institution name must not exceed 200 characters';\r\n      }\r\n      break;\r\n      \r\n    case 'branchOrSpecialization':\r\n      if (trimmedValue.length > 100) {\r\n        return 'Specialization must not exceed 100 characters';\r\n      }\r\n      break;\r\n      \r\n    case 'startYear':\r\n    case 'endYear':\r\n      const year = parseInt(trimmedValue);\r\n      if (isNaN(year) || year < 1900 || year > 2099) {\r\n        return 'Year must be between 1900-2099';\r\n      }\r\n      break;\r\n      \r\n    case 'cgpaOrPercentage':\r\n      const score = parseFloat(trimmedValue);\r\n      if (isNaN(score) || score < 0 || score > 100) {\r\n        return 'CGPA/Percentage must be between 0-100';\r\n      }\r\n      break;\r\n      \r\n    case 'companyName':\r\n    case 'jobTitle':\r\n      if (trimmedValue.length < 2 || trimmedValue.length > 100) {\r\n        return `${fieldName} must be between 2-100 characters`;\r\n      }\r\n      break;\r\n      \r\n    case 'description':\r\n      if (trimmedValue.length > 1000) {\r\n        return 'Description must not exceed 1000 characters';\r\n      }\r\n      break;\r\n      \r\n    default:\r\n      break;\r\n  }\r\n  \r\n  return null;\r\n};\r\n\r\n//  NEW: Network error handler\r\nconst handleNetworkError = (error) => {\r\n  if (!navigator.onLine) {\r\n    return 'No internet connection. Please check your network and try again.';\r\n  }\r\n  \r\n  if (error.code === 'NETWORK_ERROR' || error.message === 'Network Error') {\r\n    return 'Network error occurred. Please check your internet connection and try again.';\r\n  }\r\n  \r\n  if (error.code === 'ECONNABORTED' || error.message.includes('timeout')) {\r\n    return 'Request timed out. Please check your connection and try again.';\r\n  }\r\n  \r\n  if (error.response) {\r\n    // Server responded with error status\r\n    switch (error.response.status) {\r\n      case 400:\r\n        return error.response.data?.message || 'Invalid data provided. Please check all fields.';\r\n      case 401:\r\n        return 'Session expired. Please log in again.';\r\n      case 403:\r\n        return 'You do not have permission to perform this action.';\r\n      case 404:\r\n        return 'Resource not found. Please refresh the page and try again.';\r\n      case 500:\r\n        return 'Server error occurred. Please try again later.';\r\n      case 502:\r\n      case 503:\r\n      case 504:\r\n        return 'Service temporarily unavailable. Please try again in a few moments.';\r\n      default:\r\n        return 'An unexpected error occurred. Please try again.';\r\n    }\r\n  } else if (error.request) {\r\n    // Request was made but no response received\r\n    return 'Unable to connect to server. Please check your internet connection.';\r\n  } else {\r\n    // Something else happened\r\n    return 'An unexpected error occurred. Please try again.';\r\n  }\r\n};\r\n\r\nfunction Profile() {\r\n  const [editingSection, setEditingSection] = useState(null);\r\n  const [primarydata, setPrimaryData] = useState(null);\r\n  const [contactdetails, setContactDetails] = useState(null);\r\n  const [addressData, setAddressData] = useState(null);\r\n  const [eduData, setEduData] = useState([]);\r\n  const [experience, setExperience] = useState([]);\r\n  const { theme, userData,matchedArray } = useContext(Context);\r\n  const [editingData, setEditingData] = useState({});\r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n  const [loading, setLoading] = useState(true);\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n  const [completionStats, setCompletionStats] = useState({ completed: 0, total: 6 });\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n  //  NEW: State for tracking initial form data and change detection\r\n  const [initialEditingData, setInitialEditingData] = useState({});\r\n  const [noChangesModal, setNoChangesModal] = useState({ \r\n    show: false, \r\n    section: null,\r\n    onContinue: null \r\n  });\r\n\r\n  //  NEW: State for network errors\r\n  const [networkError, setNetworkError] = useState(null);\r\n\r\n  // State for popups\r\n  const [popup, setPopup] = useState({ show: false, message: '', type: '' });\r\n  const [deleteConfirmation, setDeleteConfirmation] = useState({ show: false, sectionKey: null });\r\n\r\n  // NEW: State for individual education and experience editing\r\n  const [deleteItemConfirmation, setDeleteItemConfirmation] = useState({ show: false, type: '', item: null, id: null });\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n  const profileEmployeeId = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n\r\n  const isAdmin = userData?.roles?.[0]?.toUpperCase() === 'ADMIN';\r\n\r\n  const isReadOnly = fromContextMenu && targetEmployeeId && targetEmployeeId !== empID && !isAdmin;\r\n\r\n  //  NEW: Function to check if form has changes\r\n  const hasFormChanges = (currentData, initialData, selectedFile = null) => {\r\n    // If there's a file selected, consider it as a change\r\n    if (selectedFile) return true;\r\n\r\n    // Deep compare objects\r\n    const normalizeValue = (value) => {\r\n      if (value === null || value === undefined) return '';\r\n      return String(value).trim();\r\n    };\r\n\r\n    const currentFields = Object.keys(currentData || {});\r\n    const initialFields = Object.keys(initialData || {});\r\n    \r\n    // Check if number of fields changed\r\n    if (currentFields.length !== initialFields.length) return true;\r\n\r\n    // Check each field\r\n    for (const key of currentFields) {\r\n      const currentValue = normalizeValue(currentData[key]);\r\n      const initialValue = normalizeValue(initialData[key]);\r\n      \r\n      if (currentValue !== initialValue) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  // Save editing data to localStorage\r\n  useEffect(() => {\r\n    if (editingSection) {\r\n      localStorage.setItem(`profile-editing-${editingSection.section}`, JSON.stringify(editingData));\r\n    }\r\n  }, [editingData, editingSection]);\r\n\r\n  useEffect(() => {\r\n    if (fromContextMenu && targetEmployeeId) {\r\n      console.log(\"Viewing profile from context menu for employee:\", targetEmployeeId);\r\n    }\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const [primaryRes, contactRes, addressRes, eduRes, expRes] = await Promise.all([\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/primary/details`).catch(err => ({ data: null })),\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/contact`).catch(err => ({ data: null })),\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/address`).catch(err => ({ data: null })),\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/degreeDetails`).catch(err => ({ data: [] })),\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/previousExperience`).catch(err => ({ data: [] })),\r\n        ]);\r\n\r\n        setPrimaryData(primaryRes.data);\r\n        setContactDetails(contactRes.data);\r\n        setAddressData(addressRes.data);\r\n        setEduData(eduRes.data);\r\n        setExperience(expRes.data);\r\n\r\n        // Updated completion calculation using hasActualData\r\n        const sections = [\r\n          hasActualData(primaryRes.data, 'primaryDetails'), \r\n          hasActualData(contactRes.data, 'contactDetails'), \r\n          hasActualData(addressRes.data, 'address'), \r\n          hasActualData(eduRes.data, 'education'), \r\n          hasActualData(expRes.data, 'experience'), \r\n          hasActualData(defaultProfile.relations, 'relations')\r\n        ];\r\n        const completed = sections.filter(Boolean).length;\r\n        setCompletionStats({ completed, total: 6 });\r\n\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch data:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (profileEmployeeId) {\r\n      fetchData();\r\n    }\r\n  }, [profileEmployeeId, fromContextMenu, targetEmployeeId]);\r\n\r\n  //  MODIFIED: openEditSection to store initial data\r\n  const openEditSection = (section, itemData = null, isAdd = false) => {\r\n    if (isReadOnly) {\r\n      setPopup({ show: true, message: \"You can only view this employee's profile. Editing is not allowed.\", type: 'error' });\r\n      return;\r\n    }\r\n    setErrors({});\r\n    setNetworkError(null); // Clear any previous network errors\r\n    \r\n    // Load from localStorage if available\r\n    const savedData = localStorage.getItem(`profile-editing-${section}`);\r\n    if (savedData && !itemData && !isAdd) {\r\n      const parsedData = JSON.parse(savedData);\r\n      setEditingData(parsedData);\r\n      setInitialEditingData(parsedData); // Store as initial data\r\n    } else {\r\n      let dataToEdit = {};\r\n      if (section === \"primaryDetails\") {\r\n        dataToEdit = primarydata;\r\n      } else if (section === \"contactDetails\") {\r\n        dataToEdit = contactdetails;\r\n      } else if (section === \"address\") {\r\n        dataToEdit = addressData;\r\n      } else if (section === \"relations\") {\r\n        dataToEdit = defaultProfile.relations;\r\n      } else if (section === \"education\") {\r\n        if (itemData) {\r\n          dataToEdit = itemData; // Edit specific education item\r\n        } else if (isAdd || (eduData && eduData.length === 0)) {\r\n          dataToEdit = {}; // Add new education\r\n        } else {\r\n          dataToEdit = eduData[0]; // Default to first education item\r\n        }\r\n      } else if (section === \"experience\") {\r\n        if (itemData) {\r\n          dataToEdit = itemData; // Edit specific experience item\r\n        } else if (isAdd || (experience && experience.length === 0)) {\r\n          dataToEdit = {}; // Add new experience\r\n        } else {\r\n          dataToEdit = experience[0]; // Default to first experience item\r\n        }\r\n      }\r\n      const finalData = dataToEdit || {};\r\n      setEditingData(finalData);\r\n      setInitialEditingData(finalData); // Store initial state for comparison\r\n    }\r\n\r\n    setSelectedFile(null);\r\n    setEditingSection({ section, isAdd: isAdd || !itemData });\r\n  };\r\n\r\n  const handleDelete = (sectionKey) => {\r\n    setDeleteConfirmation({ show: true, sectionKey });\r\n  };\r\n\r\n  // NEW: Handle individual item deletion\r\n  const handleDeleteItem = (type, item, id) => {\r\n    setDeleteItemConfirmation({ show: true, type, item, id });\r\n  };\r\n\r\n  // NEW: Confirm individual item deletion\r\n  const confirmDeleteItem = async () => {\r\n    const { type, item, id } = deleteItemConfirmation;\r\n    \r\n    try {\r\n      if (type === 'education') {\r\n        await publicinfoApi.delete(`employee/${profileEmployeeId}/degreeDetails/${id}`);\r\n        const updatedEduRes = await publicinfoApi.get(`employee/${profileEmployeeId}/degreeDetails`);\r\n        setEduData(updatedEduRes.data);\r\n        setPopup({ show: true, message: 'Education record deleted successfully.', type: 'success' });\r\n      } else if (type === 'experience') {\r\n        await publicinfoApi.delete(`employee/${profileEmployeeId}/previousExperience/${id}`);\r\n        const updatedExpRes = await publicinfoApi.get(`employee/${profileEmployeeId}/previousExperience`);\r\n        setExperience(updatedExpRes.data);\r\n        setPopup({ show: true, message: 'Experience record deleted successfully.', type: 'success' });\r\n      }\r\n    } catch (err) {\r\n      console.error(`Failed to delete ${type}:`, err);\r\n      setPopup({ show: true, message: `Error deleting ${type} record.`, type: 'error' });\r\n    } finally {\r\n      setDeleteItemConfirmation({ show: false, type: '', item: null, id: null });\r\n    }\r\n  };\r\n  \r\n  const confirmDelete = async () => {\r\n    const { sectionKey } = deleteConfirmation;\r\n    const sectionTitle = sectionConfig[sectionKey].title;\r\n    \r\n    try {\r\n      let url = '';\r\n\r\n      switch (sectionKey) {\r\n        case 'primaryDetails':\r\n          url = `employee/${profileEmployeeId}/primary/details`;\r\n          break;\r\n        case 'contactDetails':\r\n          url = `employee/${profileEmployeeId}/contact`;\r\n          break;\r\n        case 'address':\r\n          url = `employee/${profileEmployeeId}/address`;\r\n          break;\r\n        case 'education':\r\n          setPopup({show: true, message: \"Education deletion should be done per entry. This feature needs backend support for bulk deletion.\", type: 'error'});\r\n          return;\r\n        case 'experience':\r\n          setPopup({show: true, message: \"Experience deletion should be done per entry. This feature needs backend support for bulk deletion.\", type: 'error'});\r\n          return;\r\n        case 'relations':\r\n          setPopup({show: true, message: \"Relations cannot be deleted as they are static data.\", type: 'error'});\r\n          return;\r\n        default:\r\n          throw new Error(\"Invalid section for deletion\");\r\n      }\r\n\r\n      await publicinfoApi.delete(url);\r\n      setPopup({show: true, message: `${sectionTitle} deleted successfully.`, type: 'success'});\r\n\r\n      switch (sectionKey) {\r\n        case 'primaryDetails':\r\n          setPrimaryData(null);\r\n          break;\r\n        case 'contactDetails':\r\n          setContactDetails(null);\r\n          break;\r\n        case 'address':\r\n          setAddressData(null);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n\r\n      // Updated completion calculation\r\n      const sections = [\r\n        sectionKey === 'primaryDetails' ? false : hasActualData(primarydata, 'primaryDetails'),\r\n        sectionKey === 'contactDetails' ? false : hasActualData(contactdetails, 'contactDetails'),\r\n        sectionKey === 'address' ? false : hasActualData(addressData, 'address'),\r\n        hasActualData(eduData, 'education'),\r\n        hasActualData(experience, 'experience'),\r\n        hasActualData(defaultProfile.relations, 'relations')\r\n      ];\r\n      const completed = sections.filter(Boolean).length;\r\n      setCompletionStats({ completed, total: 6 });\r\n\r\n    } catch (err) {\r\n      console.error(`Failed to delete ${sectionTitle}:`, err);\r\n      setPopup({show: true, message: `Error deleting ${sectionTitle}. You may not have the required permissions.`, type: 'error'});\r\n    } finally {\r\n        setDeleteConfirmation({ show: false, sectionKey: null });\r\n    }\r\n  };\r\n\r\n  //  MODIFIED: handleEditFieldChange with real-time validation\r\n  const handleEditFieldChange = (field, value) => {\r\n    setEditingData((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n    \r\n    // Clear network error when user starts typing\r\n    setNetworkError(null);\r\n    \r\n    // Clear existing field error\r\n    if (errors[field]) {\r\n      setErrors((prev) => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[field];\r\n        return newErrors;\r\n      });\r\n    }\r\n    \r\n    //  NEW: Real-time validation based on hints\r\n    const fieldConfig = sectionFields[editingSection?.section]?.find(f => f.name === field);\r\n    if (fieldConfig) {\r\n      const validationError = validateFieldByHint(field, value, fieldConfig.hint, fieldConfig.type);\r\n      if (validationError) {\r\n        setErrors((prev) => ({\r\n          ...prev,\r\n          [field]: validationError\r\n        }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (file) => {\r\n    setSelectedFile(file);\r\n  };\r\n\r\n  //  MODIFIED: handleUpdatePrimaryDetails with network error handling\r\n  const handleUpdatePrimaryDetails = async () => {\r\n    setNetworkError(null);\r\n    try {\r\n      const url = `/employee/${profileEmployeeId}/primary/details`;\r\n      await publicinfoApi.put(url, editingData);\r\n      const updatedData = await publicinfoApi.get(url);\r\n      setPrimaryData(updatedData.data);\r\n      \r\n      // Updated completion calculation\r\n      const sections = [\r\n        hasActualData(updatedData.data, 'primaryDetails'), \r\n        hasActualData(contactdetails, 'contactDetails'), \r\n        hasActualData(addressData, 'address'), \r\n        hasActualData(eduData, 'education'), \r\n        hasActualData(experience, 'experience'), \r\n        hasActualData(defaultProfile.relations, 'relations')\r\n      ];\r\n      setCompletionStats({ completed: sections.filter(Boolean).length, total: 6 });\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Failed to update primary details:\", error);\r\n      if (error.response && error.response.status === 400) {\r\n        setErrors(error.response.data);\r\n      } else {\r\n        const networkErrorMessage = handleNetworkError(error);\r\n        setNetworkError(networkErrorMessage);\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n\r\n  //  MODIFIED: handleUpdateContactDetails with network error handling\r\n  const handleUpdateContactDetails = async () => {\r\n    setNetworkError(null);\r\n    try {\r\n      const url = `/employee/${profileEmployeeId}/contact`;\r\n      await publicinfoApi.put(url, editingData);\r\n      const updatedData = await publicinfoApi.get(url);\r\n      setContactDetails(updatedData.data);\r\n      \r\n      // Updated completion calculation\r\n      const sections = [\r\n        hasActualData(primarydata, 'primaryDetails'), \r\n        hasActualData(updatedData.data, 'contactDetails'), \r\n        hasActualData(addressData, 'address'), \r\n        hasActualData(eduData, 'education'), \r\n        hasActualData(experience, 'experience'), \r\n        hasActualData(defaultProfile.relations, 'relations')\r\n      ];\r\n      setCompletionStats({ completed: sections.filter(Boolean).length, total: 6 });\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Failed to update contact details:\", error);\r\n      if (error.response && error.response.status === 400) {\r\n        setErrors(error.response.data);\r\n      } else {\r\n        const networkErrorMessage = handleNetworkError(error);\r\n        setNetworkError(networkErrorMessage);\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n\r\n  //  MODIFIED: handleUpdateAddress with network error handling\r\n  const handleUpdateAddress = async () => {\r\n    setNetworkError(null);\r\n    try {\r\n      const url = `/employee/${profileEmployeeId}/address`;\r\n      await publicinfoApi.put(url, editingData);\r\n      const updatedData = await publicinfoApi.get(url);\r\n      setAddressData(updatedData.data);\r\n      \r\n      // Updated completion calculation\r\n      const sections = [\r\n        hasActualData(primarydata, 'primaryDetails'), \r\n        hasActualData(contactdetails, 'contactDetails'), \r\n        hasActualData(updatedData.data, 'address'), \r\n        hasActualData(eduData, 'education'), \r\n        hasActualData(experience, 'experience'), \r\n        hasActualData(defaultProfile.relations, 'relations')\r\n      ];\r\n      setCompletionStats({ completed: sections.filter(Boolean).length, total: 6 });\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Failed to update address:\", error);\r\n      if (error.response && error.response.status === 400) {\r\n        setErrors(error.response.data);\r\n      } else {\r\n        const networkErrorMessage = handleNetworkError(error);\r\n        setNetworkError(networkErrorMessage);\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n\r\n  //  MODIFIED: handleUpdateEducation with network error handling\r\n  const handleUpdateEducation = async () => {\r\n    setNetworkError(null);\r\n    try {\r\n      const isUpdate = !!(editingData && editingData.id);\r\n      const method = isUpdate ? 'put' : 'post';\r\n      const url = isUpdate\r\n        ? `/employee/${profileEmployeeId}/degreeDetails/${editingData.id}`\r\n        : `/employee/${profileEmployeeId}/degreeDetails`;\r\n\r\n      const formData = new FormData();\r\n      if (selectedFile) {\r\n        formData.append(\"addFiles\", selectedFile);\r\n      }\r\n      formData.append(\"degree\", new Blob([JSON.stringify(editingData)], { type: \"application/json\" }));\r\n\r\n      await publicinfoApi[method](url, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n\r\n      const updatedEduRes = await publicinfoApi.get(`employee/${profileEmployeeId}/degreeDetails`);\r\n      setEduData(updatedEduRes.data);\r\n\r\n      // Updated completion calculation\r\n      const sections = [\r\n        hasActualData(primarydata, 'primaryDetails'), \r\n        hasActualData(contactdetails, 'contactDetails'), \r\n        hasActualData(addressData, 'address'), \r\n        hasActualData(updatedEduRes.data, 'education'), \r\n        hasActualData(experience, 'experience'), \r\n        hasActualData(defaultProfile.relations, 'relations')\r\n      ];\r\n      setCompletionStats({ completed: sections.filter(Boolean).length, total: 6 });\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Failed to update education details:\", error);\r\n      if (error.response && error.response.status === 400) {\r\n        setErrors(error.response.data);\r\n      } else {\r\n        const networkErrorMessage = handleNetworkError(error);\r\n        setNetworkError(networkErrorMessage);\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n\r\n  //  MODIFIED: handleUpdateExperience with network error handling\r\n  const handleUpdateExperience = async () => {\r\n    setNetworkError(null);\r\n    try {\r\n      const isUpdate = !!(editingData && editingData.id);\r\n      const url = `/employee/${profileEmployeeId}/previousExperience/${editingData.id}`;\r\n      const method = isUpdate ? 'put' : 'post';\r\n\r\n      if (isUpdate) {\r\n        await publicinfoApi.put(url, editingData);\r\n      } else {\r\n        await publicinfoApi.post(`/employee/${profileEmployeeId}/previousExperience`, editingData);\r\n      }\r\n\r\n      const updatedExperienceRes = await publicinfoApi.get(`employee/${profileEmployeeId}/previousExperience`);\r\n      setExperience(updatedExperienceRes.data);\r\n\r\n      // Updated completion calculation\r\n      const sections = [\r\n        hasActualData(primarydata, 'primaryDetails'), \r\n        hasActualData(contactdetails, 'contactDetails'), \r\n        hasActualData(addressData, 'address'), \r\n        hasActualData(eduData, 'education'), \r\n        hasActualData(updatedExperienceRes.data, 'experience'), \r\n        hasActualData(defaultProfile.relations, 'relations')\r\n      ];\r\n      setCompletionStats({ completed: sections.filter(Boolean).length, total: 6 });\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Failed to update experience details:\", error);\r\n      if (error.response && error.response.status === 400) {\r\n        setErrors(error.response.data);\r\n      } else {\r\n        const networkErrorMessage = handleNetworkError(error);\r\n        setNetworkError(networkErrorMessage);\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleUpdateRelations = () => {\r\n    console.error(\"Backend endpoint for updating relations does not exist in your controller.\");\r\n    setPopup({show: true, message: \"This section cannot be updated yet. A backend API endpoint is missing.\", type: 'error'});\r\n    setEditingSection(null);\r\n  };\r\n\r\n  //  MODIFIED: handleSubmit with change detection and pre-submission validation\r\n  const handleSubmit = async (section) => {\r\n    // Clear network error\r\n    setNetworkError(null);\r\n    \r\n    //  NEW: Validate all fields before submission\r\n    const fields = sectionFields[section] || [];\r\n    const validationErrors = {};\r\n    \r\n    fields.forEach(field => {\r\n      const value = editingData[field.name];\r\n      if (field.required && (!value || value.toString().trim() === '')) {\r\n        validationErrors[field.name] = `${field.label} is required`;\r\n      } else if (value && value.toString().trim() !== '') {\r\n        const validationError = validateFieldByHint(field.name, value, field.hint, field.type);\r\n        if (validationError) {\r\n          validationErrors[field.name] = validationError;\r\n        }\r\n      }\r\n    });\r\n    \r\n    // If there are validation errors, don't submit\r\n    if (Object.keys(validationErrors).length > 0) {\r\n      setErrors(validationErrors);\r\n      return;\r\n    }\r\n    \r\n    // Check if there are any changes\r\n    const hasChanges = hasFormChanges(editingData, initialEditingData, selectedFile);\r\n    \r\n    if (!hasChanges) {\r\n      // Show no changes modal instead of proceeding directly\r\n      setNoChangesModal({\r\n        show: true,\r\n        section: section,\r\n        onContinue: () => {\r\n          // User chose to continue anyway\r\n          setNoChangesModal({ show: false, section: null, onContinue: null });\r\n          proceedWithSubmission(section);\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    // If there are changes, proceed with submission\r\n    proceedWithSubmission(section);\r\n  };\r\n\r\n  //  NEW: Separate function for actual submission logic\r\n  const proceedWithSubmission = async (section) => {\r\n    setIsUpdating(true);\r\n    let success = false;\r\n    try {\r\n      switch (section) {\r\n        case \"primaryDetails\":\r\n          success = await handleUpdatePrimaryDetails();\r\n          break;\r\n        case \"contactDetails\":\r\n          success = await handleUpdateContactDetails();\r\n          break;\r\n        case \"address\":\r\n          success = await handleUpdateAddress();\r\n          break;\r\n        case \"relations\":\r\n          handleUpdateRelations();\r\n          break;\r\n        case \"education\":\r\n          success = await handleUpdateEducation();\r\n          break;\r\n        case \"experience\":\r\n          success = await handleUpdateExperience();\r\n          break;\r\n        default:\r\n          console.error(\"Unknown section:\", section);\r\n          setErrors({ general: \"Unknown section selected for update.\" });\r\n      }\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n\r\n    if (success) {\r\n      setEditingSection(null);\r\n      setErrors({});\r\n      setNetworkError(null);\r\n      localStorage.removeItem(`profile-editing-${section}`); // Clear localStorage on successful submission\r\n      setPopup({ show: true, message: 'Profile section updated successfully!', type: 'success' });\r\n    }\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    if (editingSection) {\r\n      localStorage.removeItem(`profile-editing-${editingSection.section}`);\r\n    }\r\n    setEditingSection(null);\r\n    setNetworkError(null); // Clear network error when canceling\r\n  };\r\n  \r\n  const renderField = (label, name, type = \"text\", required = false, options = [], hint = \"\") => {\r\n    const isError = errors[name];\r\n    const fieldValue = editingData[name] || \"\";\r\n    \r\n    if (type === \"file\") {\r\n      return (\r\n        <div className=\"group relative\" key={name}>\r\n          <label className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ${\r\n            theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n          }`}>\r\n            {label}\r\n            {required && <span className=\"text-red-500 ml-1 text-sm sm:text-base\">*</span>}\r\n          </label>\r\n          \r\n          {/*  NEW: Hint text always shown */}\r\n          {hint && (\r\n            <p className={`text-xs mb-2 ${\r\n              theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n            }`}>\r\n              {hint}\r\n            </p>\r\n          )}\r\n\r\n          <div className={`relative border-2 border-dashed rounded-lg sm:rounded-xl transition-all duration-300 \r\n              ${isError \r\n                  ? 'border-red-300 bg-red-50' \r\n                  : theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-800 hover:border-blue-400 hover:bg-blue-900/20'\r\n                  : 'border-gray-300 bg-gray-50 hover:border-blue-400 hover:bg-blue-50'\r\n              }`}>\r\n            <input\r\n              type=\"file\"\r\n              onChange={(e) => handleFileChange(e.target.files?.[0])}\r\n              className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\r\n              accept=\".jpg,.jpeg,.png,.pdf\"\r\n              required={required}\r\n            />\r\n            <div className=\"px-4 sm:px-6 py-6 sm:py-8 text-center\">\r\n              <IoCloudUpload className={`mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ${\r\n                theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n              }`} />\r\n              <p className={`text-xs sm:text-sm font-medium mb-1 ${\r\n                theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n              }`}>\r\n                Drop your file here, or <span className=\"text-blue-600\">browse</span>\r\n              </p>\r\n              <p className={`text-xs ${\r\n                theme === 'dark' ? 'text-gray-500' : 'text-gray-500'\r\n              }`}>PNG, JPG, PDF up to 10MB</p>\r\n              {selectedFile && (\r\n                  <p className={`mt-2 text-xs sm:text-sm font-medium ${theme === 'dark' ? 'text-green-400' : 'text-green-600'}`}>\r\n                      Selected: {selectedFile.name}\r\n                  </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          {isError && (\r\n            <div className=\"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600 animate-slideIn\">\r\n              <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n              <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div className=\"group relative\" key={name}>\r\n        <label className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ${\r\n          theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n        }`}>\r\n          {label}\r\n          {required && <span className=\"text-red-500 ml-1 text-sm sm:text-base\">*</span>}\r\n        </label>\r\n        \r\n        {/*  NEW: Hint text always shown */}\r\n        {hint && (\r\n          <p className={`text-xs mb-2 ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n          }`}>\r\n            {hint}\r\n          </p>\r\n        )}\r\n        \r\n        {type === \"select\" ? (\r\n          <div className=\"relative\">\r\n            <select \r\n              value={fieldValue} \r\n              onChange={(e) => handleEditFieldChange(name, e.target.value)} \r\n              className={`w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 appearance-none text-sm\r\n                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n                ${isError \r\n                  ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20' \r\n                  : theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                  : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n                }`}\r\n            >\r\n              <option value=\"\">Choose {label}</option>\r\n              {options.map((opt) => (<option key={opt} value={opt}>{opt}</option>))}\r\n            </select>\r\n            <div className=\"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 pointer-events-none\">\r\n              <svg className={`w-4 h-4 sm:w-5 sm:h-5 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        ) : type === \"date\" ? (\r\n          <input \r\n            type=\"date\"\r\n            value={fieldValue} \r\n            onChange={(e) => handleEditFieldChange(name, e.target.value)} \r\n            className={`w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n              ${isError \r\n                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20' \r\n                : theme === 'dark'\r\n                ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n              }`}\r\n          />\r\n        ) : type === \"textarea\" ? (\r\n          <textarea \r\n            value={fieldValue} \r\n            onChange={(e) => handleEditFieldChange(name, e.target.value)} \r\n            className={`w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm resize-none h-24 sm:h-32\r\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n              ${isError \r\n                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20' \r\n                : theme === 'dark'\r\n                ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n              }`}\r\n            placeholder={`Enter ${label.toLowerCase()}...`} \r\n            required={required} \r\n          />\r\n        ) : (\r\n          <input \r\n            type={type} \r\n            value={fieldValue} \r\n            onChange={(e) => handleEditFieldChange(name, e.target.value)} \r\n            className={`w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n              ${isError \r\n                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20' \r\n                : theme === 'dark'\r\n                ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n              }`}\r\n            placeholder={`Enter ${label.toLowerCase()}...`} \r\n            required={required} \r\n          />\r\n        )}\r\n        \r\n        {isError && (\r\n          <div className=\"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600 animate-slideIn\">\r\n            <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n            <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n    \r\n  const renderEditModal = () => {\r\n    if (!editingSection) return null;\r\n    const { section, isAdd } = editingSection;\r\n    const fields = sectionFields[section] || [];\r\n    const config = sectionConfig[section];\r\n    const IconComponent = config.icon;\r\n    \r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4 animate-fadeIn\">\r\n        <div className={`rounded-2xl sm:rounded-3xl w-full max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl animate-slideUp flex flex-col ${\r\n          theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n        }`}>\r\n          <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ${config.color} text-white relative overflow-hidden`}>\r\n            <div className=\"absolute inset-0 bg-black/10\"></div>\r\n            <div className=\"relative flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n                <div className=\"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl flex-shrink-0\">\r\n                  <IconComponent className=\"w-6 h-6 sm:w-8 sm:h-8\" />\r\n                </div>\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <h2 className=\"text-lg sm:text-xl md:text-2xl font-bold break-words\">\r\n                    {isAdd ? `Add ${config.title}` : `Edit ${config.title}`}\r\n                  </h2>\r\n                  <p className=\"text-white/90 text-xs sm:text-sm break-words\">{config.description}</p>\r\n                </div>\r\n              </div>\r\n              <button \r\n                onClick={handleCancelEdit} \r\n                className=\"p-2 sm:p-3 hover:bg-white/20 rounded-full transition-all duration-200 group flex-shrink-0\" \r\n                aria-label=\"Close\"\r\n              >\r\n                <IoClose className=\"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform duration-200\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"overflow-y-auto flex-grow\">\r\n            <form className=\"p-4 sm:p-6 md:p-8\" onSubmit={(e) => { e.preventDefault(); handleSubmit(section); }}>\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8\">\r\n                {fields.map((f) => renderField(f.label, f.name, f.type, f.required, f.options, f.hint))}\r\n              </div>\r\n              \r\n              {/*  NEW: Network Error Display */}\r\n              {networkError && (\r\n                <div className={`mt-4 sm:mt-6 p-3 sm:p-4 md:p-5 border-l-4 border-red-400 rounded-r-lg sm:rounded-r-xl animate-slideIn ${\r\n                  theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'\r\n                }`}>\r\n                  <div className=\"flex items-start\">\r\n                    <IoWarning className=\"w-5 h-5 sm:w-6 sm:h-6 text-red-400 mr-3 flex-shrink-0 mt-0.5\" />\r\n                    <div className=\"flex-1\">\r\n                      <h4 className={`font-medium text-sm ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>\r\n                        Network Error\r\n                      </h4>\r\n                      <p className={`font-medium text-sm mt-1 ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>\r\n                        {networkError}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              {errors.general && (\r\n                <div className={`mt-4 sm:mt-6 p-3 sm:p-4 md:p-5 border-l-4 border-red-400 rounded-r-lg sm:rounded-r-xl animate-slideIn ${\r\n                  theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'\r\n                }`}>\r\n                  <div className=\"flex items-center\">\r\n                    <IoWarning className=\"w-5 h-5 sm:w-6 sm:h-6 text-red-400 mr-3 flex-shrink-0\" />\r\n                    <p className={`font-medium text-sm ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>{errors.general}</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </form>\r\n          </div>\r\n          \r\n          <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 ${\r\n            theme === 'dark' \r\n              ? 'bg-gray-700 border-gray-600' \r\n              : 'bg-gray-50 border-gray-200'\r\n          }`}>\r\n            <button \r\n              type=\"button\" \r\n              onClick={handleCancelEdit} \r\n              className={`w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold transition-all duration-200 focus:ring-4 focus:ring-gray-500/20 text-sm ${\r\n                theme === 'dark'\r\n                  ? 'border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500'\r\n                  : 'border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400'\r\n              }`}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button \r\n              type=\"button\" \r\n              onClick={() => handleSubmit(section)}\r\n              disabled={isUpdating}\r\n              className={`w-full sm:w-auto px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r ${config.color} text-white font-bold rounded-lg sm:rounded-xl\r\n                          hover:shadow-lg transform hover:scale-105 transition-all duration-200 \r\n                          focus:ring-4 focus:ring-blue-500/30 flex items-center justify-center space-x-2 text-sm\r\n                          ${isUpdating ? 'cursor-not-allowed opacity-75' : ''}`}\r\n            >\r\n              {isUpdating ? (\r\n                <>\r\n                  <div className=\"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full animate-spin-slow\"></div>\r\n                  <span>{isAdd ? 'Adding...' : 'Updating...'}</span>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                  <span>{isAdd ? 'Add Information' : 'Update Information'}</span>\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  const DetailItem = ({ label, value }) => (\r\n    <div className={`group p-3 sm:p-4 rounded-lg sm:rounded-xl border transition-all duration-300 hover:scale-105 ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600 hover:shadow-md hover:shadow-blue-500/20'\r\n        : 'bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100 hover:shadow-md'\r\n    }`}>\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex-1 min-w-0\">\r\n          <span className={`text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n          }`}>\r\n            {label}\r\n          </span>\r\n          <p className={`text-xs sm:text-sm font-semibold leading-relaxed break-words ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n          }`}>\r\n            {value || (\r\n              <span className={`italic ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>Not provided</span>\r\n            )}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // NEW: Individual Education/Experience Item Component\r\n  const EducationExperienceItem = ({ type, item, index, onEdit, onDelete }) => {\r\n    const config = sectionConfig[type];\r\n    const IconComponent = config.icon;\r\n\r\n    return (\r\n      <div className={`col-span-full border-2 rounded-lg sm:rounded-xl p-4 sm:p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg ${\r\n        theme === 'dark'\r\n          ? `bg-gray-700 ${config.darkBorderColor} hover:shadow-blue-500/20`\r\n          : `bg-gray-50 ${config.borderColor}`\r\n      }`}>\r\n        <div className=\"flex items-start justify-between mb-4\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className={`p-2 rounded-lg ${\r\n              theme === 'dark' ? 'bg-gray-600' : 'bg-white'\r\n            }`}>\r\n              <IconComponent className={`w-5 h-5 ${\r\n                theme === 'dark' ? config.darkTextColor : config.textColor\r\n              }`} />\r\n            </div>\r\n            <div>\r\n              <h4 className={`font-bold text-sm sm:text-base ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n              }`}>\r\n                {type === 'education' ? item.degreeType : item.companyName}\r\n              </h4>\r\n              <p className={`text-xs sm:text-sm ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n              }`}>\r\n                {type === 'education' ? item.universityOrCollege : item.jobTitle}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          \r\n          {!isReadOnly && (\r\n            <div className=\"flex items-center space-x-2\">\r\n              <button\r\n                onClick={() => onEdit(item)}\r\n                className={`p-2 rounded-lg transition-all duration-200 hover:scale-110 ${\r\n                  theme === 'dark'\r\n                    ? 'bg-blue-600 hover:bg-blue-700 text-white'\r\n                    : 'bg-blue-500 hover:bg-blue-600 text-white'\r\n                }`}\r\n                title=\"Edit\"\r\n              >\r\n                <IoCreateOutline className=\"w-4 h-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => onDelete(type, item, item.id)}\r\n                className={`p-2 rounded-lg transition-all duration-200 hover:scale-110 ${\r\n                  theme === 'dark'\r\n                    ? 'bg-red-600 hover:bg-red-700 text-white'\r\n                    : 'bg-red-500 hover:bg-red-600 text-white'\r\n                }`}\r\n                title=\"Delete\"\r\n              >\r\n                <IoTrashOutline className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3\">\r\n          {type === 'education' ? (\r\n            <>\r\n              <DetailItem label=\"Specialization\" value={item.branchOrSpecialization} />\r\n              <DetailItem label=\"Years\" value={`${item.startYear} - ${item.endYear}`} />\r\n              <DetailItem label=\"CGPA/Percentage\" value={item.cgpaOrPercentage} />\r\n              {item.addFiles && (\r\n                <div className=\"col-span-full\">\r\n                  <a href={item.addFiles} target=\"_blank\" rel=\"noopener noreferrer\" className={`inline-flex items-center space-x-2 p-2 sm:p-3 rounded-lg border transition-all duration-300 hover:scale-105 ${\r\n                    theme === 'dark' \r\n                      ? 'bg-gray-600 border-gray-500 text-white hover:bg-gray-500' \r\n                      : 'bg-white border-gray-200 text-gray-900 hover:bg-gray-50'\r\n                  }`}>\r\n                    <IoCheckmarkCircle className=\"w-4 h-4 text-green-500\" />\r\n                    <span className=\"font-semibold text-xs sm:text-sm\">View Certificate</span>\r\n                  </a>\r\n                </div>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <>\r\n              <DetailItem label=\"Location\" value={item.location} />\r\n              <DetailItem label=\"Duration\" value={`${item.startMonth} ${item.startYear} - ${item.endMonth ? item.endMonth + ' ' + item.endYear : 'Present'}`} />\r\n              <DetailItem label=\"Description\" value={item.description} />\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const Section = ({ sectionKey, title, children, data }) => {\r\n    const config = sectionConfig[sectionKey];\r\n    const IconComponent = config.icon;\r\n    \r\n    // UPDATED: Use hasActualData function instead of simple boolean check\r\n    const hasData = hasActualData(data, sectionKey);\r\n    \r\n    return (\r\n      <div className={`border-2 rounded-none sm:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 \r\n                       overflow-hidden group hover:scale-[1.02] mb-6 sm:mb-8 ${\r\n        theme === 'dark'\r\n          ? `bg-gray-800 ${config.darkBorderColor} hover:shadow-blue-500/20`\r\n          : `bg-white ${config.borderColor}`\r\n      }`}>\r\n        <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b-2 relative overflow-hidden ${\r\n          theme === 'dark'\r\n            ? `${config.darkBgColor} ${config.darkBorderColor}`\r\n            : `${config.bgColor} ${config.borderColor}`\r\n        }`}>\r\n          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent to-white/30\"></div>\r\n          <div className=\"relative flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0\">\r\n            <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n              <div className={`p-2 sm:p-3 rounded-lg sm:rounded-xl shadow-md transform group-hover:scale-110 transition-transform duration-300 flex-shrink-0 ${\r\n                theme === 'dark' ? 'bg-gray-700' : 'bg-white'\r\n              }`}>\r\n                <IconComponent className={`w-6 h-6 sm:w-8 sm:h-8 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                }`} />\r\n              </div>\r\n              <div className=\"min-w-0 flex-1\">\r\n                <h4 className={`text-lg sm:text-xl font-bold flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                }`}>\r\n                  <span className=\"break-words\">{title}</span>\r\n                  {hasData && (\r\n                    <div className=\"flex items-center space-x-1\">\r\n                      <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-500\" />\r\n                      <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium\">\r\n                        Complete\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </h4>\r\n                <p className={`text-xs sm:text-sm mt-1 break-words ${\r\n                  theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n                }`}>{config.description}</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto\">\r\n              {/* Always show Add button for education and experience */}\r\n              {(sectionKey === 'education' || sectionKey === 'experience') && (!isReadOnly || isAdmin) && (\r\n                <button\r\n                  onClick={() => openEditSection(sectionKey, null, true)}\r\n                  className=\"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-lg sm:rounded-xl hover:from-blue-600 hover:to-indigo-700 transform hover:scale-105 transition-all duration-300 shadow-lg text-sm\"\r\n                >\r\n                  <IoAdd className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                  <span className=\"hidden sm:inline\">Add {sectionKey === 'education' ? 'Education' : 'Experience'}</span>\r\n                  <span className=\"sm:hidden\">Add</span>\r\n                </button>\r\n              )}\r\n\r\n              {/* UPDATED: Show Add or Edit button for primaryDetails, contactDetails, and address sections based on hasData */}\r\n              {(!isReadOnly || isAdmin) && !['education', 'experience'].includes(sectionKey) && (\r\n                <button \r\n                  onClick={() => openEditSection(sectionKey)} \r\n                  className={`flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 cursor-pointer rounded-lg sm:rounded-xl font-semibold transition-all duration-300 \r\n                              transform hover:scale-105 focus:ring-4 focus:ring-blue-500/20 shadow-md hover:shadow-lg text-sm\r\n                              ${hasData \r\n                                ? theme === 'dark'\r\n                                  ? `${config.darkTextColor} bg-gray-700 border-2 ${config.darkBorderColor} hover:bg-gray-600`\r\n                                  : `${config.textColor} bg-white border-2 ${config.borderColor} hover:bg-gray-50`\r\n                                : 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:from-blue-600 hover:to-indigo-700'\r\n                              }`}\r\n                >\r\n                  {hasData ? (\r\n                    <>\r\n                      <IoCreateOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                      <span className=\"hidden sm:inline\">Edit Details</span>\r\n                      <span className=\"sm:hidden\">Edit</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <IoAdd className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                      <span className=\"hidden sm:inline\">Add Information</span>\r\n                      <span className=\"sm:hidden\">Add</span>\r\n                    </>\r\n                  )}\r\n                </button>\r\n              )}\r\n            </div>\r\n            \r\n            {isReadOnly && !isAdmin && (\r\n              <div className={`px-4 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-sm ${\r\n                theme === 'dark' \r\n                  ? 'bg-gray-700 text-gray-400 border-2 border-gray-600' \r\n                  : 'bg-gray-100 text-gray-500 border-2 border-gray-300'\r\n              }`}>\r\n                <IoEye className=\"w-3 h-3 sm:w-4 sm:h-4 inline mr-2\" />\r\n                <span>View Only</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"p-4 sm:p-6 md:p-8\">\r\n          {hasData ? (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4\">\r\n              {children}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 sm:py-12\">\r\n              <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${\r\n                theme === 'dark' ? config.darkBgColor : config.bgColor\r\n              }`}>\r\n                <IconComponent className={`w-8 h-8 sm:w-10 sm:h-10 opacity-50 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                }`} />\r\n              </div>\r\n              <h3 className={`text-base sm:text-lg font-semibold mb-2 ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n              }`}>No {title} Added</h3>\r\n              <p className={`text-sm mb-4 sm:mb-6 max-w-sm mx-auto px-4 ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>\r\n                {isReadOnly \r\n                  ? `This employee hasn't added their ${title.toLowerCase()} information yet.`\r\n                  : `Add your ${title.toLowerCase()} to complete your profile information.`\r\n                }\r\n              </p>\r\n              {!isReadOnly && (\r\n                <button \r\n                  onClick={() => openEditSection(sectionKey, null, true)}\r\n                  className=\"inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 \r\n                               text-white font-semibold rounded-lg sm:rounded-xl hover:from-blue-600 hover:to-indigo-700 \r\n                               transform hover:scale-105 transition-all duration-300 shadow-lg text-sm\"\r\n                >\r\n                  <IoAdd className=\"w-4 h-4\" />\r\n                  <span>Add {title}</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const ProgressIndicator = () => {\r\n    // UPDATED: Use hasActualData for progress calculation\r\n    const profileSections = [\r\n      hasActualData(primarydata, 'primaryDetails'),\r\n      hasActualData(contactdetails, 'contactDetails'),\r\n      hasActualData(addressData, 'address'),\r\n      hasActualData(eduData, 'education'),\r\n      hasActualData(experience, 'experience')\r\n    ];\r\n    const completedCount = profileSections.filter(Boolean).length;\r\n    const totalCount = profileSections.length;\r\n    const percentage = totalCount > 0 ? (completedCount / totalCount) * 100 : 0;\r\n    \r\n    return (\r\n      <div className={`rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border ${\r\n        theme === 'dark' \r\n          ? 'bg-gray-800 border-gray-700' \r\n          : 'bg-white border-gray-200'\r\n      }`}>\r\n        <div className=\"flex items-center justify-between mb-3 sm:mb-4\">\r\n          <h3 className={`text-base sm:text-lg font-bold ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n          }`}>\r\n            {isReadOnly ? 'Profile Status' : 'Profile Completion'}\r\n          </h3>\r\n          <span className={`text-sm font-medium ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n          }`}>\r\n            {completedCount}/{totalCount} Sections\r\n          </span>\r\n        </div>\r\n        <div className={`w-full rounded-full h-2 sm:h-3 mb-3 sm:mb-4 overflow-hidden ${\r\n          theme === 'dark' ? 'bg-gray-700' : 'bg-gray-200'\r\n        }`}>\r\n          <div \r\n            className=\"bg-gradient-to-r from-blue-500 to-green-500 h-2 sm:h-3 rounded-full transition-all duration-700 ease-out\"\r\n            style={{ width: `${percentage}%` }}\r\n          ></div>\r\n        </div>\r\n        <div className=\"flex justify-between text-sm\">\r\n          <span className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>{percentage.toFixed(0)}% Complete</span>\r\n          {percentage === 100 && (\r\n            <span className=\"text-green-600 font-semibold flex items-center\">\r\n              <IoCheckmarkCircle className=\"w-4 h-4 mr-1\" />\r\n              All Set!\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={`min-h-screen ${\r\n        theme === 'dark' \r\n          ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n          : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n      }`}>\r\n        <div className=\"min-h-screen flex items-center justify-center px-4\">\r\n          <div className=\"text-center\">\r\n            <div className=\"relative\">\r\n              <div className=\"animate-spin rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6\"></div>\r\n              <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                <IoPersonOutline className=\"w-6 h-6 sm:w-8 sm:h-8 text-blue-500\" />\r\n              </div>\r\n            </div>\r\n            <h2 className={`text-xl sm:text-2xl font-bold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>Loading Profile</h2>\r\n            <p className={`text-sm sm:text-base ${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n            }`}>Fetching profile information...</p>\r\n            <div className=\"flex justify-center space-x-2 mt-4\">\r\n              {[...Array(4)].map((_, i) => (\r\n                <div key={i} className={`w-2 h-2 rounded-full bg-blue-500 animate-pulse`} \r\n                     style={{ animationDelay: `${i * 0.2}s` }}></div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`min-h-screen ${\r\n      theme === 'dark' \r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"max-w-8xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-6 sm:py-8 md:py-12\">\r\n        {fromContextMenu && (\r\n          <div className={`mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-l-4 border-blue-500 shadow-lg ${\r\n            theme === 'dark' ? 'bg-blue-900/20 border-blue-400' : 'bg-blue-50 border-blue-500'\r\n          }`}>\r\n            <div className=\"flex items-center space-x-3\">\r\n              <IoEye className={`w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 ${theme === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} />\r\n              <div className=\"min-w-0 flex-1\">\r\n                <p className={`font-semibold text-sm sm:text-base ${theme === 'dark' ? 'text-blue-400' : 'text-blue-800'}`}>\r\n                  Viewing Employee Profile\r\n                </p>\r\n                <p className={`text-xs sm:text-sm break-words ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                  Employee ID: {targetEmployeeId} \r\n                  {isReadOnly && \"  Read-only access\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"mb-8 sm:mb-12 mx-4 sm:mx-0\">\r\n          <ProgressIndicator />\r\n        </div>\r\n\r\n        <div className=\"space-y-6 sm:space-y-8\">\r\n          <>\r\n            <Section sectionKey=\"primaryDetails\" title=\"Primary Details\" data={primarydata}>\r\n              <DetailItem label=\"First Name\" value={primarydata?.firstName} />\r\n              <DetailItem label=\"Middle Name\" value={primarydata?.middleName} />\r\n              <DetailItem label=\"Last Name\" value={primarydata?.lastName} />\r\n              <DetailItem label=\"Display Name\" value={primarydata?.displayName} />\r\n              <DetailItem label=\"Gender\" value={primarydata?.gender} />\r\n              <DetailItem label=\"Date of Birth\" value={primarydata?.dateOfBirth} />\r\n              <DetailItem label=\"Marital Status\" value={primarydata?.maritalStatus} />\r\n              <DetailItem label=\"Blood Group\" value={primarydata?.bloodGroup} />\r\n              <DetailItem label=\"Physically Handicapped\" value={primarydata?.physicallyHandicapped} />\r\n              <DetailItem label=\"Nationality\" value={primarydata?.nationality} />\r\n            </Section>\r\n            <Section sectionKey=\"contactDetails\" title=\"Contact Details\" data={contactdetails}>\r\n              <DetailItem label=\"Work Email\" value={contactdetails?.workEmail} />\r\n              <DetailItem label=\"Personal Email\" value={contactdetails?.personalEmail} />\r\n              <DetailItem label=\"Mobile Number\" value={contactdetails?.mobileNumber} />\r\n              <DetailItem label=\"Work Number\" value={contactdetails?.workNumber} />\r\n            </Section>\r\n            <Section sectionKey=\"address\" title=\"Address Information\" data={addressData}>\r\n              <DetailItem label=\"Street\" value={addressData?.street} />\r\n              <DetailItem label=\"City\" value={addressData?.city} />\r\n              <DetailItem label=\"State\" value={addressData?.state} />\r\n              <DetailItem label=\"Zip\" value={addressData?.zip} />\r\n              <DetailItem label=\"Country\" value={addressData?.country} />\r\n              <DetailItem label=\"District\" value={addressData?.district} />\r\n            </Section>\r\n            <Section sectionKey=\"relations\" title=\"Family Relations\" data={defaultProfile.relations}>\r\n              <DetailItem label=\"Father Name\" value={defaultProfile.relations?.fatherName} />\r\n              <DetailItem label=\"Mother Name\" value={defaultProfile.relations?.motherName} />\r\n              <DetailItem label=\"Spouse Name\" value={defaultProfile.relations?.spouseName} />\r\n              <DetailItem label=\"Children\" value={defaultProfile.relations?.children} />\r\n              <DetailItem label=\"Siblings\" value={defaultProfile.relations?.siblings} />\r\n            </Section>\r\n\r\n            {/* Updated Education Section */}\r\n            <Section sectionKey=\"education\" title=\"Education Details\" data={eduData}>\r\n              {eduData?.map((edu, index) => (\r\n                <EducationExperienceItem\r\n                  key={edu.id || index}\r\n                  type=\"education\"\r\n                  item={edu}\r\n                  index={index}\r\n                  onEdit={(item) => openEditSection('education', item)}\r\n                  onDelete={handleDeleteItem}\r\n                />\r\n              ))}\r\n            </Section>\r\n            \r\n            {/* Updated Experience Section */}\r\n            <Section sectionKey=\"experience\" title=\"Previous Experience\" data={experience}>\r\n              {experience?.map((exp, index) => (\r\n                <EducationExperienceItem\r\n                  key={exp.id || index}\r\n                  type=\"experience\"\r\n                  item={exp}\r\n                  index={index}\r\n                  onEdit={(item) => openEditSection('experience', item)}\r\n                  onDelete={handleDeleteItem}\r\n                />\r\n              ))}\r\n            </Section>\r\n          </>\r\n        </div>\r\n        \r\n        {renderEditModal()}\r\n        \r\n        {popup.show && (\r\n          <Modal\r\n              onClose={() => setPopup({ show: false, message: '', type: '' })}\r\n              title={popup.type === 'success' ? 'Success' : 'Error'}\r\n              type={popup.type}\r\n              theme={theme}\r\n          >\r\n              <p className={`mb-4 sm:mb-6 text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>{popup.message}</p>\r\n              <div className=\"flex justify-end\">\r\n                  <button\r\n                      onClick={() => setPopup({ show: false, message: '', type: '' })}\r\n                      className={`${popup.type === 'success' ? 'bg-green-600 hover:bg-green-700' : 'bg-red-600 hover:bg-red-700'} text-white font-semibold py-2 px-4 sm:px-6 rounded-lg transition-colors text-sm`}\r\n                  >\r\n                      OK\r\n                  </button>\r\n              </div>\r\n          </Modal>\r\n        )}\r\n\r\n        {deleteConfirmation.show && (\r\n          <Modal\r\n              onClose={() => setDeleteConfirmation({ show: false, sectionKey: null })}\r\n              title=\"Confirm Deletion\"\r\n              type=\"confirm\"\r\n              theme={theme}\r\n          >\r\n              <p className={`mb-4 sm:mb-6 text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  Are you sure you want to delete the {sectionConfig[deleteConfirmation.sectionKey].title}? This action cannot be undone.\r\n              </p>\r\n              <div className=\"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3\">\r\n                  <button\r\n                      onClick={() => setDeleteConfirmation({ show: false, sectionKey: null })}\r\n                      className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500' : 'bg-gray-200 hover:bg-gray-300'}`}\r\n                  >\r\n                      Cancel\r\n                  </button>\r\n                  <button\r\n                      onClick={confirmDelete}\r\n                      className=\"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white bg-red-600 hover:bg-red-700 transition-colors text-sm\"\r\n                  >\r\n                      Delete\r\n                  </button>\r\n              </div>\r\n          </Modal>\r\n        )}\r\n\r\n        {/* NEW: Individual item deletion confirmation */}\r\n        {deleteItemConfirmation.show && (\r\n          <Modal\r\n              onClose={() => setDeleteItemConfirmation({ show: false, type: '', item: null, id: null })}\r\n              title=\"Confirm Deletion\"\r\n              type=\"confirm\"\r\n              theme={theme}\r\n          >\r\n              <p className={`mb-4 sm:mb-6 text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  Are you sure you want to delete this {deleteItemConfirmation.type} record? This action cannot be undone.\r\n              </p>\r\n              <div className=\"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3\">\r\n                  <button\r\n                      onClick={() => setDeleteItemConfirmation({ show: false, type: '', item: null, id: null })}\r\n                      className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500' : 'bg-gray-200 hover:bg-gray-300'}`}\r\n                  >\r\n                      Cancel\r\n                  </button>\r\n                  <button\r\n                      onClick={confirmDeleteItem}\r\n                      className=\"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white bg-red-600 hover:bg-red-700 transition-colors text-sm\"\r\n                  >\r\n                      Delete\r\n                  </button>\r\n              </div>\r\n          </Modal>\r\n        )}\r\n\r\n        {/*  NEW: No Changes Detected Modal */}\r\n        {noChangesModal.show && (\r\n          <Modal\r\n              onClose={() => setNoChangesModal({ show: false, section: null, onContinue: null })}\r\n              title=\"No Changes Detected\"\r\n              type=\"confirm\"\r\n              theme={theme}\r\n          >\r\n              <p className={`mb-4 sm:mb-6 text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  You haven't made any changes to the form. Are you sure you want to submit without any modifications?\r\n              </p>\r\n              <div className=\"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3\">\r\n                  <button\r\n                      onClick={() => setNoChangesModal({ show: false, section: null, onContinue: null })}\r\n                      className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`}\r\n                  >\r\n                      Go Back & Make Changes\r\n                  </button>\r\n                  <button\r\n                      onClick={noChangesModal.onContinue}\r\n                      className=\"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white bg-yellow-600 hover:bg-yellow-700 transition-colors text-sm\"\r\n                  >\r\n                      Continue Anyway\r\n                  </button>\r\n              </div>\r\n          </Modal>\r\n        )}\r\n      </div>\r\n      \r\n      <style jsx>{`\r\n        @keyframes fadeIn {\r\n          from { opacity: 0; }\r\n          to { opacity: 1; }\r\n        }\r\n        @keyframes slideUp {\r\n          from { transform: translateY(20px); opacity: 0; }\r\n          to { transform: translateY(0); opacity: 1; }\r\n        }\r\n        @keyframes slideIn {\r\n          from { transform: translateX(-10px); opacity: 0; }\r\n          to { transform: translateX(0); opacity: 1; }\r\n        }\r\n        .animate-fadeIn { animation: fadeIn 0.3s ease-out; }\r\n        .animate-slideUp { animation: slideUp 0.4s ease-out; }\r\n        .animate-slideIn { animation: slideIn 0.3s ease-out; }\r\n        .animate-spin-slow {\r\n            animation: spin 1s linear infinite;\r\n        }\r\n        @keyframes spin {\r\n            from { transform: rotate(0deg); }\r\n            to { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","// src/TechLife/HRMS/Components/Profile/tabs/Job.jsx\r\n\r\nimport React, { useEffect, useState, useContext } from 'react';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport { Context } from '../../HrmsContext';\r\nimport { publicinfoApi } from '../../../../../axiosInstance';\r\nimport { \r\n  IoBriefcaseOutline, \r\n  IoTimeOutline, \r\n  IoDocumentTextOutline, \r\n  IoBusinessOutline, \r\n  IoCheckmarkCircle, \r\n  IoWarning,\r\n  IoEye\r\n} from 'react-icons/io5';\r\n\r\n// Static data for other sections\r\nconst employeeTime = [\r\n  { label: \"SHIFT\", value: \"10 AM - 8 PM\" },\r\n  { label: \"WEEKLY OFF POLICY\", value: \"All Sat - Sun\" },\r\n  { label: \"LEAVE PLAN\", value: \"Leave Plan\" },\r\n  { label: \"HOLIDAY CALENDAR\", value: \"Anasol Holiday Plan\" },\r\n  { label: \"ATTENDANCE NUMBER\", value: \"-\" },\r\n  { label: \"PAYROLL TIME SOURCE\", value: \"Attendance\" },\r\n  { label: \"ATTENDANCE CAPTURE SCHEME\", value: \"Capture Scheme Anasol\" },\r\n  { label: \"ATTENDANCE PENALIZATION POLICY\", value: \"Anasol Penalization Policy\" },\r\n  { label: \"SHIFT WEEKLY OFF RULE\", value: \"-Not Set-\" },\r\n  { label: \"SHIFT ALLOWANCE POLICY\", value: \"-Not Set-\" },\r\n  { label: \"OVERTIME\", value: \"-Not Set-\" },\r\n];\r\n\r\nconst otherPolicies = [\r\n  { label: \"EXPENSE POLICY\", value: \"-\" },\r\n  { label: \"TIMESHEET POLICY\", value: \"-\" },\r\n  { label: \"LOAN POLICY\", value: \"-\" },\r\n  { label: \"AIR TICKET POLICY\", value: \"-\" },\r\n];\r\n\r\nconst organizationDetails = [\r\n  { label: \"BUSINESS UNIT\", value: \"-\" },\r\n  { label: \"DEPARTMENT\", value: \"Software Development\" },\r\n  { label: \"LOCATION\", value: \"ANASOL CONSULTANCY SERVICES PRIVATE...\" },\r\n  { label: \"COST CENTER\", value: \"-Not Set-\" },\r\n  { label: \"LEGAL ENTITY\", value: \"ANASOL PRIVATE LIMITED\" },\r\n  { label: \"REPORTS TO\", value: \"-\" },\r\n  { label: \"MANAGER OF MANAGER (L2 MANAGER)\", value: \"-\" },\r\n  { label: \"DIRECT REPORTS\", value: \"0 Employees\" },\r\n];\r\n\r\n// Section configurations with icons and colors\r\nconst sectionConfig = {\r\n  jobDetails: {\r\n    icon: IoBriefcaseOutline,\r\n    color: 'from-blue-500 to-blue-700',\r\n    bgColor: 'bg-blue-50',\r\n    darkBgColor: 'bg-blue-900/20',\r\n    borderColor: 'border-blue-200',\r\n    darkBorderColor: 'border-blue-700',\r\n    textColor: 'text-blue-700',\r\n    darkTextColor: 'text-blue-400',\r\n    title: 'Job Details',\r\n    description: 'Employment information and job specifications'\r\n  },\r\n  employeeTime: {\r\n    icon: IoTimeOutline,\r\n    color: 'from-green-500 to-green-700',\r\n    bgColor: 'bg-green-50',\r\n    darkBgColor: 'bg-green-900/20',\r\n    borderColor: 'border-green-200',\r\n    darkBorderColor: 'border-green-700',\r\n    textColor: 'text-green-700',\r\n    darkTextColor: 'text-green-400',\r\n    title: 'Employee Time',\r\n    description: 'Work schedule and attendance policies'\r\n  },\r\n  otherPolicies: {\r\n    icon: IoDocumentTextOutline,\r\n    color: 'from-orange-500 to-orange-700',\r\n    bgColor: 'bg-orange-50',\r\n    darkBgColor: 'bg-orange-900/20',\r\n    borderColor: 'border-orange-200',\r\n    darkBorderColor: 'border-orange-700',\r\n    textColor: 'text-orange-700',\r\n    darkTextColor: 'text-orange-400',\r\n    title: 'Other Policies',\r\n    description: 'Additional company policies and guidelines'\r\n  },\r\n  organizationDetails: {\r\n    icon: IoBusinessOutline,\r\n    color: 'from-purple-500 to-purple-700',\r\n    bgColor: 'bg-purple-50',\r\n    darkBgColor: 'bg-purple-900/20',\r\n    borderColor: 'border-purple-200',\r\n    darkBorderColor: 'border-purple-700',\r\n    textColor: 'text-purple-700',\r\n    darkTextColor: 'text-purple-400',\r\n    title: 'Organization Details',\r\n    description: 'Departmental and reporting structure'\r\n  },\r\n};\r\n\r\nconst DetailItem = ({ label, value, note, status, theme }) => (\r\n  <div className={`group p-3 sm:p-4 rounded-none sm:rounded-lg md:rounded-xl border transition-all duration-300 hover:scale-105 ${\r\n    theme === 'dark'\r\n      ? 'bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600 hover:shadow-md hover:shadow-blue-500/20'\r\n      : 'bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100 hover:shadow-md'\r\n  }`}>\r\n    <div className=\"flex items-start justify-between\">\r\n      <div className=\"flex-1 min-w-0\">\r\n        <span className={`text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 ${\r\n          theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n        }`}>\r\n          {label}\r\n        </span>\r\n        {status === \"active\" ? (\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\r\n              <span className={`text-sm font-semibold break-words ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n              }`}>{value}</span>\r\n            </div>\r\n            {note && (\r\n              <span className={`text-xs px-2 py-1 rounded-full break-words ${\r\n                theme === 'dark' ? 'text-gray-400 bg-gray-700' : 'text-gray-500 bg-gray-100'\r\n              }`}>\r\n                {note}\r\n              </span>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <p className={`text-sm font-semibold leading-relaxed break-words ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n            }`}>\r\n              {value || (\r\n                <span className={`italic ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>Not provided</span>\r\n              )}\r\n            </p>\r\n            {note && (\r\n              <p className={`text-xs mt-1 px-2 py-1 rounded-md inline-block break-words ${\r\n                theme === 'dark' ? 'bg-blue-900/40 text-blue-300' : 'bg-blue-50 text-blue-700'\r\n              }`}>\r\n                {note}\r\n              </p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst Section = ({ sectionKey, title, data, children, theme }) => {\r\n  const config = sectionConfig[sectionKey];\r\n  const IconComponent = config.icon;\r\n  const hasData = data && data.length > 0;\r\n  \r\n  return (\r\n    <div className={`border-2 rounded-none sm:rounded-xl md:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 \r\n                   overflow-hidden group hover:scale-[1.02] mb-4 sm:mb-6 md:mb-8 ${\r\n      theme === 'dark'\r\n        ? `bg-gray-800 ${config.darkBorderColor} hover:shadow-blue-500/20`\r\n        : `bg-white ${config.borderColor}`\r\n    }`}>\r\n      <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b-2 relative overflow-hidden ${\r\n        theme === 'dark'\r\n          ? `${config.darkBgColor} ${config.darkBorderColor}`\r\n          : `${config.bgColor} ${config.borderColor}`\r\n      }`}>\r\n        <div className=\"absolute inset-0 bg-gradient-to-r from-transparent to-white/30\"></div>\r\n        <div className=\"relative flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n            <div className={`p-2 sm:p-3 rounded-lg sm:rounded-xl shadow-md transform group-hover:scale-110 transition-transform duration-300 ${\r\n              theme === 'dark' ? 'bg-gray-700' : 'bg-white'\r\n            }`}>\r\n              <IconComponent className={`w-6 h-6 sm:w-8 sm:h-8 ${\r\n                theme === 'dark' ? config.darkTextColor : config.textColor\r\n              }`} />\r\n            </div>\r\n            <div className=\"min-w-0 flex-1\">\r\n              <h4 className={`text-lg sm:text-xl font-bold flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 ${\r\n                theme === 'dark' ? config.darkTextColor : config.textColor\r\n              }`}>\r\n                <span className=\"break-words\">{title}</span>\r\n                {hasData && (\r\n                  <div className=\"flex items-center space-x-1\">\r\n                    <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-500\" />\r\n                    <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium\">\r\n                      Active\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </h4>\r\n              <p className={`text-xs sm:text-sm mt-1 break-words ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n              }`}>{config.description}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"p-4 sm:p-6 md:p-8\">\r\n        {hasData ? (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-3 md:gap-4\">\r\n            {data.map((item, index) => (\r\n              <DetailItem \r\n                key={index} \r\n                label={item.label} \r\n                value={item.value} \r\n                note={item.note} \r\n                status={item.status} \r\n                theme={theme}\r\n              />\r\n            ))}\r\n            {children}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8 sm:py-12\">\r\n            <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${\r\n              theme === 'dark' ? config.darkBgColor : config.bgColor\r\n            }`}>\r\n              <IconComponent className={`w-8 h-8 sm:w-10 sm:h-10 opacity-50 ${\r\n                theme === 'dark' ? config.darkTextColor : config.textColor\r\n              }`} />\r\n            </div>\r\n            <h3 className={`text-base sm:text-lg font-semibold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>No {title} Available</h3>\r\n            <p className={`text-sm mb-4 sm:mb-6 max-w-sm mx-auto px-4 ${\r\n              theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n            }`}>\r\n              {title} information is not currently available or configured.\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ProgressIndicator = ({ completedSections, totalSections, theme }) => {\r\n  const percentage = (completedSections / totalSections) * 100;\r\n  \r\n  return (\r\n    <div className={`rounded-none sm:rounded-xl md:rounded-2xl p-4 sm:p-6 shadow-lg border ${\r\n      theme === 'dark' \r\n        ? 'bg-gray-800 border-gray-700' \r\n        : 'bg-white border-gray-200'\r\n    }`}>\r\n      <div className=\"flex items-center justify-between mb-3 sm:mb-4\">\r\n        <h3 className={`text-base sm:text-lg font-bold ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n        }`}>Job Information</h3>\r\n        <span className={`text-sm font-medium ${\r\n          theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n        }`}>\r\n          {completedSections}/{totalSections} Sections\r\n        </span>\r\n      </div>\r\n      <div className={`w-full rounded-full h-2 sm:h-3 mb-3 sm:mb-4 overflow-hidden ${\r\n        theme === 'dark' ? 'bg-gray-700' : 'bg-gray-200'\r\n      }`}>\r\n        <div \r\n          className=\"bg-gradient-to-r from-blue-500 to-green-500 h-2 sm:h-3 rounded-full transition-all duration-700 ease-out\"\r\n          style={{ width: `${percentage}%` }}\r\n        ></div>\r\n      </div>\r\n      <div className=\"flex justify-between text-sm\">\r\n        <span className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>{percentage.toFixed(0)}% Complete</span>\r\n        {percentage === 100 && (\r\n          <span className=\"text-green-600 font-semibold flex items-center\">\r\n            <IoCheckmarkCircle className=\"w-4 h-4 mr-1\" />\r\n            All Set!\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SkeletonCard = ({ theme }) => (\r\n  <div className={`border rounded-none sm:rounded-xl md:rounded-2xl shadow-sm overflow-hidden animate-pulse ${\r\n    theme === 'dark' \r\n      ? 'bg-gray-800 border-gray-700' \r\n      : 'bg-white border-gray-200'\r\n  }`}>\r\n    <div className={`p-4 sm:p-6 border-b ${\r\n      theme === 'dark' \r\n        ? 'bg-gray-700 border-gray-600' \r\n        : 'bg-gray-100 border-gray-200'\r\n    }`}>\r\n      <div className=\"flex items-center space-x-3 sm:space-x-4\">\r\n        <div className={`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl ${\r\n          theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n        }`}></div>\r\n        <div className=\"flex-1 min-w-0\">\r\n          <div className={`h-4 sm:h-5 rounded w-24 sm:w-32 mb-2 ${\r\n            theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n          }`}></div>\r\n          <div className={`h-3 rounded w-32 sm:w-48 ${\r\n            theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n          }`}></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div className=\"p-4 sm:p-6\">\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-3 md:gap-4\">\r\n        {[...Array(6)].map((_, i) => (\r\n          <div key={i} className={`p-3 sm:p-4 rounded-none sm:rounded-lg md:rounded-xl ${\r\n            theme === 'dark' ? 'bg-gray-700' : 'bg-gray-50'\r\n          }`}>\r\n            <div className={`h-3 rounded w-16 sm:w-20 mb-2 ${\r\n              theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n            }`}></div>\r\n            <div className={`h-4 rounded w-24 sm:w-32 ${\r\n              theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n            }`}></div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst AttendanceToggle = ({ theme }) => {\r\n  const [isDisabled, setIsDisabled] = useState(false);\r\n  \r\n  return (\r\n    <div className={`col-span-1 lg:col-span-2 p-4 sm:p-6 rounded-none sm:rounded-lg md:rounded-xl border ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-indigo-900/30 to-purple-900/30 border-indigo-700'\r\n        : 'bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-200'\r\n    }`}>\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0\">\r\n        <div className=\"min-w-0 flex-1\">\r\n          <h4 className={`text-sm font-semibold mb-1 ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n          }`}>Attendance Tracking</h4>\r\n          <p className={`text-xs break-words ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n          }`}>Control automated attendance monitoring</p>\r\n        </div>\r\n        <label className=\"relative inline-flex items-center cursor-pointer group flex-shrink-0\">\r\n          <input \r\n            type=\"checkbox\" \r\n            className=\"sr-only peer\" \r\n            checked={isDisabled}\r\n            onChange={(e) => setIsDisabled(e.target.checked)}\r\n          />\r\n          <div className={`w-12 h-7 sm:w-14 sm:h-8 rounded-full peer transition-all duration-300 \r\n                         peer-checked:after:translate-x-5 sm:peer-checked:after:translate-x-6 peer-checked:after:border-white \r\n                         after:content-[''] after:absolute after:top-1 after:left-1 \r\n                         after:bg-white after:border after:rounded-full \r\n                         after:h-5 after:w-5 sm:after:h-6 sm:after:w-6 after:transition-all after:shadow-md\r\n                         peer-checked:bg-gradient-to-r peer-checked:from-purple-500 peer-checked:to-indigo-600\r\n                         group-hover:shadow-lg ${\r\n            theme === 'dark' \r\n              ? 'bg-gray-600 after:border-gray-500' \r\n              : 'bg-gray-200 after:border-gray-300'\r\n          }`}>\r\n          </div>\r\n          <span className={`ml-3 text-sm font-medium ${\r\n            theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n          }`}>\r\n            {isDisabled ? 'Disabled' : 'Enabled'}\r\n          </span>\r\n        </label>\r\n      </div>\r\n      {isDisabled && (\r\n        <div className={`mt-3 p-3 border rounded-lg ${\r\n          theme === 'dark'\r\n            ? 'bg-yellow-900/30 border-yellow-700'\r\n            : 'bg-yellow-50 border-yellow-200'\r\n        }`}>\r\n          <div className=\"flex items-center space-x-2\">\r\n            <IoWarning className=\"w-4 h-4 text-yellow-600 flex-shrink-0\" />\r\n            <p className={`text-xs break-words ${\r\n              theme === 'dark' ? 'text-yellow-300' : 'text-yellow-700'\r\n            }`}>\r\n              Attendance tracking is currently disabled for this employee\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Job = () => {\r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n  const { theme } = useContext(Context);\r\n  const [jobdetails, setJobDetails] = useState(null);\r\n  const [displayJobDetails, setDisplayJobDetails] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [completionStats, setCompletionStats] = useState({ completed: 0, total: 4 });\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n  const jobEmployeeId = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n  const isReadOnly = fromContextMenu && targetEmployeeId && targetEmployeeId !== empID;\r\n\r\n  useEffect(() => {\r\n    let jobDetailsFetch = async () => {\r\n      try {\r\n        let response = await publicinfoApi.get(`employee/${jobEmployeeId}/job/details`);\r\n        console.log(\"job data : \", response.data);\r\n        setJobDetails(response.data);\r\n      } catch (error) {\r\n        console.log(\"job error : \", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    jobDetailsFetch();\r\n  }, [jobEmployeeId]);\r\n\r\n  useEffect(() => {\r\n    if (jobdetails) {\r\n      const formattedData = [\r\n        { label: \"EMPLOYEE NUMBER\", value: jobdetails.employeeId },\r\n        { label: \"DATE OF JOINING\", value: jobdetails.dateOfJoining },\r\n        { label: \"JOB TITLE - PRIMARY\", value: jobdetails.jobTitlePrimary },\r\n        { label: \"JOB TITLE - SECONDARY\", value: jobdetails.jobTitleSecondary || \"-\" },\r\n        {\r\n          label: \"IN PROBATION?\",\r\n          value: `${jobdetails.inProbation} ${jobdetails.probationStartDate || \"-\"} - ${jobdetails.probationEndDate || \"-\"}`,\r\n          note: jobdetails.probationPolicy || \"Default Probation Policy\"\r\n        },\r\n        { label: \"NOTICE PERIOD\", value: \"-\" },\r\n        { label: \"WORKER TYPE\", value: jobdetails.workerType || \"Intern\" },\r\n        { label: \"TIME TYPE\", value: jobdetails.timeType },\r\n        {\r\n          label: \"CONTRACT STATUS\",\r\n          value: jobdetails.contractStatus,\r\n          note: jobdetails.contractStartDate,\r\n          status: jobdetails.contractStatus === \"Active\" ? \"active\" : \"\"\r\n        },\r\n      ];\r\n      setDisplayJobDetails(formattedData);\r\n\r\n      const sections = [jobdetails, employeeTime, otherPolicies, organizationDetails];\r\n      const completed = sections.filter(section => section && section.length > 0).length;\r\n      setCompletionStats({ completed: completed || 1, total: 4 });\r\n    }\r\n  }, [jobdetails]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className={`min-h-screen ${\r\n        theme === 'dark' \r\n          ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n          : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n      }`}>\r\n        <div className=\"min-h-screen flex items-center justify-center px-4\">\r\n          <div className=\"text-center\">\r\n            <div className=\"relative\">\r\n              <div className=\"animate-spin rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6\"></div>\r\n              <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                <IoBriefcaseOutline className=\"w-6 h-6 sm:w-8 sm:h-8 text-blue-500\" />\r\n              </div>\r\n            </div>\r\n            <h2 className={`text-xl sm:text-2xl font-bold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>Loading Job Information</h2>\r\n            <p className={`text-sm sm:text-base ${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n            }`}>Fetching employment details and policies...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!displayJobDetails) {\r\n    return (\r\n      <div className={`min-h-screen ${\r\n        theme === 'dark' \r\n          ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n          : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n      }`}>\r\n        <div className=\"min-h-screen flex items-center justify-center px-4\">\r\n          <div className=\"text-center\">\r\n            <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${\r\n              theme === 'dark' ? 'bg-red-900/30' : 'bg-red-100'\r\n            }`}>\r\n              <IoWarning className=\"w-8 h-8 sm:w-10 sm:h-10 text-red-500\" />\r\n            </div>\r\n            <h2 className={`text-xl sm:text-2xl font-bold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>Unable to Load Job Details</h2>\r\n            <p className={`text-sm sm:text-base ${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n            }`}>Job information is not available for this employee.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`min-h-screen ${\r\n      theme === 'dark' \r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"max-w-7xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8 lg:py-12\">\r\n        {fromContextMenu && (\r\n          <div className={`mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-xl md:rounded-2xl border-l-4 border-blue-500 shadow-lg ${\r\n            theme === 'dark' ? 'bg-blue-900/20 border-blue-400' : 'bg-blue-50 border-blue-500'\r\n          }`}>\r\n            <div className=\"flex items-center space-x-3\">\r\n              <IoEye className={`w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 ${theme === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} />\r\n              <div className=\"min-w-0 flex-1\">\r\n                <p className={`font-semibold text-sm sm:text-base ${theme === 'dark' ? 'text-blue-400' : 'text-blue-800'}`}>\r\n                  Viewing Employee Job Details\r\n                </p>\r\n                <p className={`text-xs sm:text-sm break-words ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                  Employee ID: {targetEmployeeId} \r\n                  {isReadOnly && \"  Read-only access\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"mb-6 sm:mb-8 md:mb-12 mx-4 sm:mx-0\">\r\n          <ProgressIndicator \r\n            completedSections={completionStats.completed} \r\n            totalSections={completionStats.total} \r\n            theme={theme}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-4 sm:space-y-6 md:space-y-8\">\r\n          <Section sectionKey=\"jobDetails\" title=\"Job Details\" data={displayJobDetails} theme={theme} />\r\n          <Section sectionKey=\"employeeTime\" title=\"Employee Time\" data={employeeTime} theme={theme}>\r\n            <AttendanceToggle theme={theme} />\r\n          </Section>\r\n          <Section sectionKey=\"otherPolicies\" title=\"Other Policies\" data={otherPolicies} theme={theme} />\r\n          <Section sectionKey=\"organizationDetails\" title=\"Organization Details\" data={organizationDetails} theme={theme} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Job;\r\n","import React, { useState, useEffect, useContext, useRef } from 'react';\r\nimport { IoClose, IoDocumentText, IoCheckmarkCircle, IoWarning, IoEye, IoAdd, IoCloudUpload, IoTrashOutline } from 'react-icons/io5';\r\nimport { Context } from '../../HrmsContext';\r\nimport { publicinfoApi } from '../../../../../axiosInstance';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\n\r\n// Reusable Modal Component\r\nconst Modal = ({ children, onClose, title, type, theme }) => {\r\n  let titleClass;\r\n  let icon = null;\r\n\r\n  if (type === 'success') {\r\n    titleClass = 'text-green-600';\r\n    icon = <IoCheckmarkCircle className=\"h-5 w-5 sm:h-6 sm:w-6 text-green-500\" />;\r\n  } else if (type === 'error') {\r\n    titleClass = 'text-red-600';\r\n    icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-red-500\" />;\r\n  } else if (type === 'confirm') {\r\n    titleClass = 'text-yellow-600';\r\n    icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-250\">\r\n      <div className={`p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-md m-4 border ${\r\n        theme === 'dark'\r\n          ? 'bg-gray-800 border-gray-700'\r\n          : 'bg-white border-gray-200'\r\n      }`}>\r\n        <div className=\"flex items-center mb-4\">\r\n          {icon && <span className=\"mr-3\">{icon}</span>}\r\n          <h3 className={`text-lg sm:text-xl font-bold ${titleClass}`}>{title}</h3>\r\n        </div>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst identityFields = {\r\n  aadhaar: [\r\n    { \r\n      label: \"Aadhaar Number\", \r\n      name: \"aadhaarNumber\", \r\n      type: \"text\", \r\n      required: true, \r\n      hint: \"Must be 12 digits starting with 2-9 (e.g., 234567891012)\" \r\n    },\r\n    { \r\n      label: \"Enrollment Number\", \r\n      name: \"enrollmentNumber\", \r\n      type: \"text\", \r\n      required: true, \r\n      hint: \"Format: 1234/12345/1234567\" \r\n    },\r\n    { \r\n      label: \"Date of Birth\", \r\n      name: \"dateOfBirth\", \r\n      type: \"date\", \r\n      required: true,\r\n      hint: \"Select your birth date\"\r\n    },\r\n    { \r\n      label: \"Name\", \r\n      name: \"aadhaarName\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Name as per Aadhaar card (3-50 characters)\" \r\n    },\r\n    { \r\n      label: \"Address\", \r\n      name: \"address\", \r\n      type: \"textarea\", \r\n      required: true,\r\n      hint: \"Complete address as per Aadhaar (10-200 characters)\" \r\n    },\r\n    { \r\n      label: \"Gender\", \r\n      name: \"gender\", \r\n      type: \"select\", \r\n      options: [\"Male\", \"Female\", \"Other\"], \r\n      required: true,\r\n      hint: \"Select your gender\" \r\n    },\r\n    { \r\n      label: \"Aadhaar Image\", \r\n      name: \"aadhaarImage\", \r\n      type: \"file\",\r\n      required: true,\r\n      hint: \"Upload clear image of your Aadhaar card\" \r\n    },\r\n  ],\r\n  pan: [\r\n    { \r\n      label: \"PAN Number\", \r\n      name: \"panNumber\", \r\n      type: \"text\", \r\n      required: true, \r\n      hint: \"10-character format: 5 letters + 4 digits + 1 letter (e.g., ABCDE1234F)\" \r\n    },\r\n    { \r\n      label: \"PAN Name\", \r\n      name: \"panName\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Name as per PAN card (3-100 characters)\" \r\n    },\r\n    { \r\n      label: \"Date of Birth\", \r\n      name: \"dateOfBirth\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Format: YYYY-MM-DD (e.g., 1990-01-15)\" \r\n    },\r\n    { \r\n      label: \"Parent's Name\", \r\n      name: \"parentsName\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Father's or mother's name as per PAN\" \r\n    },\r\n    { \r\n      label: \"PAN Image\", \r\n      name: \"panImage\", \r\n      type: \"file\",\r\n      required: true,\r\n      hint: \"Upload clear image of your PAN card\" \r\n    },\r\n  ],\r\n  drivingLicense: [\r\n    { \r\n      label: \"License Number\", \r\n      name: \"licenseNumber\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Your driving license number (up to 20 characters)\" \r\n    },\r\n    { \r\n      label: \"Name\", \r\n      name: \"name\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Name as per driving license (up to 100 characters)\" \r\n    },\r\n    { \r\n      label: \"Date of Birth\", \r\n      name: \"dateOfBirth\", \r\n      type: \"date\", \r\n      required: true,\r\n      hint: \"Select your birth date as per license\"\r\n    },\r\n    { \r\n      label: \"Blood Group\", \r\n      name: \"bloodGroup\", \r\n      type: \"select\", \r\n      options: [\"A+\", \"A-\", \"B+\", \"B-\", \"AB+\", \"AB-\", \"O+\", \"O-\"], \r\n      required: true,\r\n      hint: \"Select your blood group\" \r\n    },\r\n    { \r\n      label: \"Father's Name\", \r\n      name: \"fatherName\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Father's name as per license (up to 100 characters)\" \r\n    },\r\n    { \r\n      label: \"Issue Date\", \r\n      name: \"issueDate\", \r\n      type: \"date\", \r\n      required: true,\r\n      hint: \"Date when license was issued\"\r\n    },\r\n    { \r\n      label: \"Expiry Date\", \r\n      name: \"expiresOn\", \r\n      type: \"date\", \r\n      required: true,\r\n      hint: \"License expiration date\"\r\n    },\r\n    { \r\n      label: \"Address\", \r\n      name: \"address\", \r\n      type: \"textarea\", \r\n      required: true,\r\n      hint: \"Address as per driving license (up to 255 characters)\" \r\n    },\r\n    { \r\n      label: \"License Image\", \r\n      name: \"licenseImage\", \r\n      type: \"file\",\r\n      required: true,\r\n      hint: \"Upload clear image of your driving license\" \r\n    },\r\n  ],\r\n  passport: [\r\n    { \r\n      label: \"Passport Number\", \r\n      name: \"passportNumber\", \r\n      type: \"text\", \r\n      required: true, \r\n      hint: \"6-9 characters starting with letter (e.g., A1234567)\" \r\n    },\r\n    { \r\n      label: \"Country Code\", \r\n      name: \"countryCode\", \r\n      type: \"select\",\r\n      options: [\"IND\", \"USA\", \"PAK\", \"CAN\", \"GBR\", \"AUS\", \"JPN\", \"DEU\", \"CHN\", \"RUS\", \"BRA\", \"ZAF\"],\r\n      required: true,\r\n      hint: \"Select the 3-character country code\"\r\n    },\r\n    { \r\n      label: \"Passport Type\", \r\n      name: \"passportType\", \r\n      type: \"select\",\r\n      options: [\"Regular\", \"Official\", \"Diplomatic\"],\r\n      required: true,\r\n      hint: \"Select the type of your passport\"\r\n    },\r\n    { \r\n      label: \"Date of Birth\", \r\n      name: \"dateOfBirth\", \r\n      type: \"date\", \r\n      required: true,\r\n      hint: \"Select your birth date as per passport\"\r\n    },\r\n    { \r\n      label: \"Name\", \r\n      name: \"name\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Name as per passport (3-100 characters)\" \r\n    },\r\n    { \r\n      label: \"Gender\", \r\n      name: \"gender\", \r\n      type: \"select\", \r\n      options: [\"Male\", \"Female\", \"Other\"], \r\n      required: true,\r\n      hint: \"Select your gender as per passport\" \r\n    },\r\n    { \r\n      label: \"Date of Issue\", \r\n      name: \"dateOfIssue\", \r\n      type: \"date\", \r\n      required: true,\r\n      hint: \"Passport issue date\"\r\n    },\r\n    { \r\n      label: \"Place of Issue\", \r\n      name: \"placeOfIssue\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"City/location where passport was issued\" \r\n    },\r\n    { \r\n      label: \"Place of Birth\", \r\n      name: \"placeOfBirth\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Your birth place as per passport\" \r\n    },\r\n    { \r\n      label: \"Date of Expiration\", \r\n      name: \"dateOfExpiration\", \r\n      type: \"date\", \r\n      required: true,\r\n      hint: \"Passport expiry date\"\r\n    },\r\n    { \r\n      label: \"Address\", \r\n      name: \"address\", \r\n      type: \"textarea\", \r\n      required: true,\r\n      hint: \"Current address as per passport\" \r\n    },\r\n    { \r\n      label: \"Passport Image\", \r\n      name: \"passportImage\", \r\n      type: \"file\",\r\n      required: true,\r\n      hint: \"Upload clear image of your passport\" \r\n    },\r\n  ],\r\n  voter: [\r\n    { \r\n      label: \"Voter ID Number\", \r\n      name: \"voterIdNumber\", \r\n      type: \"text\", \r\n      required: true, \r\n      hint: \"Format: 3 letters + 7 digits (e.g., ABC1234567)\" \r\n    },\r\n    { \r\n      label: \"Full Name\", \r\n      name: \"fullName\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Name as per voter ID (3-100 characters)\" \r\n    },\r\n    { \r\n      label: \"Relation Name\", \r\n      name: \"relationName\", \r\n      type: \"text\", \r\n      required: true,\r\n      hint: \"Father's/Husband's name (3-100 characters)\" \r\n    },\r\n    { \r\n      label: \"Gender\", \r\n      name: \"gender\", \r\n      type: \"select\", \r\n      options: [\"Male\", \"Female\", \"Other\"], \r\n      required: true,\r\n      hint: \"Select your gender as per voter ID\" \r\n    },\r\n    { \r\n      label: \"Date of Birth\", \r\n      name: \"dateOfBirth\", \r\n      type: \"date\", \r\n      required: true,\r\n      hint: \"Select your birth date\"\r\n    },\r\n    { \r\n      label: \"Address\", \r\n      name: \"address\", \r\n      type: \"textarea\", \r\n      required: true,\r\n      hint: \"Address as per voter ID card\" \r\n    },\r\n    { \r\n      label: \"Issued Date\", \r\n      name: \"issuedDate\", \r\n      type: \"date\", \r\n      required: true,\r\n      hint: \"Date when voter ID was issued\"\r\n    },\r\n    { \r\n      label: \"Voter Image\", \r\n      name: \"uploadVoter\", \r\n      type: \"file\",\r\n      required: true,\r\n      hint: \"Upload clear image of your voter ID\" \r\n    },\r\n  ],\r\n};\r\n\r\nconst documentConfig = {\r\n  aadhaar: {\r\n    icon: IoDocumentText,\r\n    color: 'from-blue-500 to-blue-700',\r\n    bgColor: 'bg-blue-50',\r\n    darkBgColor: 'bg-blue-900/20',\r\n    borderColor: 'border-blue-200',\r\n    darkBorderColor: 'border-blue-700',\r\n    textColor: 'text-blue-700',\r\n    darkTextColor: 'text-blue-400',\r\n    title: 'Aadhaar Card',\r\n    description: 'Government issued identity document'\r\n  },\r\n  pan: {\r\n    icon: IoDocumentText,\r\n    color: 'from-green-500 to-green-700',\r\n    bgColor: 'bg-green-50',\r\n    darkBgColor: 'bg-green-900/20',\r\n    borderColor: 'border-green-200',\r\n    darkBorderColor: 'border-green-700',\r\n    textColor: 'text-green-700',\r\n    darkTextColor: 'text-green-400',\r\n    title: 'PAN Card',\r\n    description: 'Permanent Account Number for taxation'\r\n  },\r\n  drivingLicense: {\r\n    icon: IoDocumentText,\r\n    color: 'from-orange-500 to-orange-700',\r\n    bgColor: 'bg-orange-50',\r\n    darkBgColor: 'bg-orange-900/20',\r\n    borderColor: 'border-orange-200',\r\n    darkBorderColor: 'border-orange-700',\r\n    textColor: 'text-orange-700',\r\n    darkTextColor: 'text-orange-400',\r\n    title: 'Driving License',\r\n    description: 'Valid driving permit document'\r\n  },\r\n  passport: {\r\n    icon: IoDocumentText,\r\n    color: 'from-purple-500 to-purple-700',\r\n    bgColor: 'bg-purple-50',\r\n    darkBgColor: 'bg-purple-900/20',\r\n    borderColor: 'border-purple-200',\r\n    darkBorderColor: 'border-purple-700',\r\n    textColor: 'text-purple-700',\r\n    darkTextColor: 'text-purple-400',\r\n    title: 'Passport',\r\n    description: 'International travel document'\r\n  },\r\n  voter: {\r\n    icon: IoDocumentText,\r\n    color: 'from-red-500 to-red-700',\r\n    bgColor: 'bg-red-50',\r\n    darkBgColor: 'bg-red-900/20',\r\n    borderColor: 'border-red-200',\r\n    darkBorderColor: 'border-red-700',\r\n    textColor: 'text-red-700',\r\n    darkTextColor: 'text-red-400',\r\n    title: 'Voter ID Card',\r\n    description: 'Electoral identity verification'\r\n  },\r\n};\r\n\r\nconst Document = () => {\r\n  const [editingSection, setEditingSection] = useState(null);\r\n  const [identityData, setIdentityData] = useState({});\r\n  const [editingData, setEditingData] = useState({});\r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n  const fileInputRef = useRef(null);\r\n  const { theme, userData,matchedArray } = useContext(Context);\r\n  const [loading, setLoading] = useState(true);\r\n  const [errors, setErrors] = useState({});\r\n  const [searchFilter, setSearchFilter] = useState('');\r\n  const [completionStats, setCompletionStats] = useState({ completed: 0, total: 5 });\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n\r\n  const [popup, setPopup] = useState({ show: false, message: '', type: '' });\r\n  const [deleteConfirmation, setDeleteConfirmation] = useState({ show: false, sectionKey: null });\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n  const documentEmployeeId = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n  const isReadOnly = false;\r\n  const isAdmin = userData?.roles?.[0]?.toUpperCase() === 'ADMIN';\r\n\r\n  const validatePanData = (data) => {\r\n    const errors = {};\r\n    if (!data.panNumber) {\r\n      errors.panNumber = 'PAN number is required';\r\n    } else if (!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(data.panNumber)) {\r\n      errors.panNumber = 'Invalid PAN format (e.g., ABCDE1234F)';\r\n    }\r\n\r\n    if (!data.panName) {\r\n      errors.panName = 'PAN name is required';\r\n    } else if (data.panName.length < 3 || data.panName.length > 100) {\r\n      errors.panName = 'PAN name must be between 3 and 100 characters';\r\n    }\r\n\r\n    if (!data.dateOfBirth) {\r\n      errors.dateOfBirth = 'Date of birth is required';\r\n    } else if (!/^\\d{4}-\\d{2}-\\d{2}$/.test(data.dateOfBirth)) {\r\n      errors.dateOfBirth = 'Date of birth must be in YYYY-MM-DD format';\r\n    }\r\n\r\n    if (!data.parentsName) {\r\n      errors.parentsName = \"Parent's name is required\";\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const validateAadhaarData = (data) => {\r\n    const errors = {};\r\n    if (!data.aadhaarNumber) {\r\n      errors.aadhaarNumber = 'Aadhaar number is required';\r\n    } else if (!/^[2-9][0-9]{11}$/.test(data.aadhaarNumber)) {\r\n      errors.aadhaarNumber = 'Invalid Aadhaar number format';\r\n    }\r\n\r\n    if (!data.enrollmentNumber) {\r\n      errors.enrollmentNumber = 'Enrollment number is required';\r\n    } else if (!/^[0-9]{4}\\/[0-9]{5}\\/[0-9]{7}$/.test(data.enrollmentNumber)) {\r\n      errors.enrollmentNumber = 'Invalid enrollment number format (e.g., 1234/12345/1234567)';\r\n    }\r\n\r\n    if (!data.dateOfBirth) {\r\n      errors.dateOfBirth = 'Date of birth is required';\r\n    }\r\n\r\n    if (!data.aadhaarName) {\r\n      errors.aadhaarName = 'Name is required';\r\n    }\r\n\r\n    if (!data.address) {\r\n      errors.address = 'Address is required';\r\n    }\r\n\r\n    if (!data.gender) {\r\n      errors.gender = 'Gender is required';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const validateDrivingLicenseData = (data) => {\r\n    const errors = {};\r\n    if (!data.licenseNumber) {\r\n      errors.licenseNumber = 'License number is required';\r\n    }\r\n\r\n    if (!data.name) {\r\n      errors.name = 'Name is required';\r\n    }\r\n\r\n    if (!data.dateOfBirth) {\r\n      errors.dateOfBirth = 'Date of birth is required';\r\n    }\r\n\r\n    if (!data.bloodGroup) {\r\n      errors.bloodGroup = 'Blood group is required';\r\n    }\r\n\r\n    if (!data.fatherName) {\r\n      errors.fatherName = \"Father's name is required\";\r\n    }\r\n\r\n    if (!data.issueDate) {\r\n      errors.issueDate = 'Issue date is required';\r\n    }\r\n\r\n    if (!data.expiresOn) {\r\n      errors.expiresOn = 'Expiry date is required';\r\n    }\r\n\r\n    if (!data.address) {\r\n      errors.address = 'Address is required';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const validatePassportData = (data) => {\r\n    const errors = {};\r\n    if (!data.passportNumber) {\r\n      errors.passportNumber = 'Passport number is required';\r\n    } else if (!/^[A-Z][0-9]{6,9}$/.test(data.passportNumber)) {\r\n      errors.passportNumber = 'Invalid passport number format';\r\n    }\r\n\r\n    if (!data.countryCode) {\r\n      errors.countryCode = 'Country code is required';\r\n    }\r\n\r\n    if (!data.passportType) {\r\n      errors.passportType = 'Passport type is required';\r\n    }\r\n\r\n    if (!data.dateOfBirth) {\r\n      errors.dateOfBirth = 'Date of birth is required';\r\n    }\r\n\r\n    if (!data.name) {\r\n      errors.name = 'Name is required';\r\n    }\r\n\r\n    if (!data.gender) {\r\n      errors.gender = 'Gender is required';\r\n    }\r\n\r\n    if (!data.dateOfIssue) {\r\n      errors.dateOfIssue = 'Date of issue is required';\r\n    }\r\n\r\n    if (!data.placeOfIssue) {\r\n      errors.placeOfIssue = 'Place of issue is required';\r\n    }\r\n\r\n    if (!data.placeOfBirth) {\r\n      errors.placeOfBirth = 'Place of birth is required';\r\n    }\r\n\r\n    if (!data.dateOfExpiration) {\r\n      errors.dateOfExpiration = 'Date of expiration is required';\r\n    }\r\n\r\n    if (!data.address) {\r\n      errors.address = 'Address is required';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const validateVoterData = (data) => {\r\n    const errors = {};\r\n    if (!data.voterIdNumber) {\r\n      errors.voterIdNumber = 'Voter ID number is required';\r\n    } else if (!/^[A-Z]{3}[0-9]{7}$/.test(data.voterIdNumber)) {\r\n      errors.voterIdNumber = 'Invalid Voter ID format (e.g., ABC1234567)';\r\n    }\r\n\r\n    if (!data.fullName) {\r\n      errors.fullName = 'Full name is required';\r\n    }\r\n\r\n    if (!data.relationName) {\r\n      errors.relationName = 'Relation name is required';\r\n    }\r\n\r\n    if (!data.gender) {\r\n      errors.gender = 'Gender is required';\r\n    }\r\n\r\n    if (!data.dateOfBirth) {\r\n      errors.dateOfBirth = 'Date of birth is required';\r\n    }\r\n\r\n    if (!data.address) {\r\n      errors.address = 'Address is required';\r\n    }\r\n\r\n    if (!data.issuedDate) {\r\n      errors.issuedDate = 'Issued date is required';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const validateFormData = (subSection, data) => {\r\n    switch (subSection) {\r\n      case 'pan':\r\n        return validatePanData(data);\r\n      case 'aadhaar':\r\n        return validateAadhaarData(data);\r\n      case 'drivingLicense':\r\n        return validateDrivingLicenseData(data);\r\n      case 'passport':\r\n        return validatePassportData(data);\r\n      case 'voter':\r\n        return validateVoterData(data);\r\n      default:\r\n        return {};\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (fromContextMenu && targetEmployeeId) {\r\n      console.log(\"clicked user from context\", targetEmployeeId);\r\n    }\r\n\r\n    const fetchIdentityData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const identityPromises = [\r\n          publicinfoApi.get(`employee/${documentEmployeeId}/aadhaar`).catch(() => ({ data: null })),\r\n          publicinfoApi.get(`employee/${documentEmployeeId}/pan`).catch(() => ({ data: null })),\r\n          publicinfoApi.get(`employee/${documentEmployeeId}/driving`).catch(() => ({ data: null })),\r\n          publicinfoApi.get(`employee/${documentEmployeeId}/passport`).catch(() => ({ data: null })),\r\n          publicinfoApi.get(`employee/${documentEmployeeId}/voter`).catch(() => ({ data: null })),\r\n        ];\r\n\r\n        const [aadhaarRes, panRes, drivingRes, passportRes, voterRes] = await Promise.all(identityPromises);\r\n\r\n        const data = {\r\n          aadhaar: aadhaarRes.data,\r\n          pan: panRes.data,\r\n          drivingLicense: drivingRes.data,\r\n          passport: passportRes.data,\r\n          voter: voterRes.data,\r\n        };\r\n\r\n        setIdentityData(data);\r\n\r\n        const completed = Object.values(data).filter(Boolean).length;\r\n        setCompletionStats({ completed, total: 5 });\r\n      } catch (err) {\r\n        console.error('Failed to fetch identity data', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (documentEmployeeId) {\r\n      fetchIdentityData();\r\n    }\r\n  }, [documentEmployeeId, fromContextMenu, targetEmployeeId]);\r\n\r\n  const openEditSection = (subSection) => {\r\n    if (isReadOnly) {\r\n      setPopup({ show: true, message: 'You can only view this employee\\'s documents. Editing is not allowed.', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    setErrors({});\r\n    const dataToEdit = identityData[subSection];\r\n    setEditingData(dataToEdit || {});\r\n    setEditingSection(subSection);\r\n  };\r\n\r\n  const handleEditFieldChange = (field, value) => {\r\n    setEditingData(prev => ({ ...prev, [field]: value }));\r\n    if (errors[field]) {\r\n      setErrors(prev => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[field];\r\n        return newErrors;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (field, file) => {\r\n    // When a file is selected or removed, update the state.\r\n    // If we are editing, we also need to clear the existing URL string.\r\n    setEditingData(prev => ({...prev, [field]: file }));\r\n  };\r\n  \r\n\r\n  const handleUpdate = async (subSection) => {\r\n    setIsUpdating(true);\r\n    try {\r\n      const validationErrors = validateFormData(subSection, editingData);\r\n      if (Object.keys(validationErrors).length > 0) {\r\n        setErrors(validationErrors);\r\n        setIsUpdating(false);\r\n        return;\r\n      }\r\n\r\n      const existingData = identityData[subSection];\r\n      const method = existingData ? 'put' : 'post';\r\n      const formData = new FormData();\r\n\r\n      const filePartNames = {\r\n        aadhaar: 'aadhaarImage',\r\n        pan: 'panImage',\r\n        drivingLicense: 'licenseImage',\r\n        passport: 'passportImage',\r\n        voter: 'voterImage',\r\n      };\r\n\r\n      const fileInputNames = {\r\n        aadhaar: 'aadhaarImage',\r\n        pan: 'panImage',\r\n        drivingLicense: 'licenseImage',\r\n        passport: 'passportImage',\r\n        voter: 'uploadVoter',\r\n      };\r\n\r\n      let backendDtoPartName;\r\n      switch (subSection) {\r\n        case 'pan':\r\n          backendDtoPartName = method === 'post' ? 'panDetails' : 'panDTO';\r\n          break;\r\n        case 'voter':\r\n          backendDtoPartName = method === 'post' ? 'voterDetails' : 'voterDTO';\r\n          break;\r\n        case 'aadhaar':\r\n          backendDtoPartName = 'aadhaar';\r\n          break;\r\n        case 'drivingLicense':\r\n          backendDtoPartName = 'drivingLicense';\r\n          break;\r\n        case 'passport':\r\n          backendDtoPartName = 'passportDetails';\r\n          break;\r\n        default:\r\n          throw new Error('Invalid subsection for DTO part name');\r\n      }\r\n\r\n      const fileInputField = fileInputNames[subSection];\r\n      const file = editingData[fileInputField];\r\n\r\n      if (file && file instanceof File) {\r\n        formData.append(filePartNames[subSection], file);\r\n      }\r\n\r\n      const dto = { ...editingData };\r\n      // Always delete the file property from the DTO, whether it's a File object or a URL string\r\n      delete dto[fileInputField]; \r\n      formData.append(backendDtoPartName, new Blob([JSON.stringify(dto)], { type: 'application/json' }));\r\n\r\n      const updateEmployeeId = documentEmployeeId;\r\n      let url;\r\n      switch (subSection) {\r\n        case 'aadhaar':\r\n          url = `employee/${method === 'put' ? `${updateEmployeeId}/aadhaar` : `aadhaar/${updateEmployeeId}`}`;\r\n          break;\r\n        case 'pan':\r\n          url = `employee/${updateEmployeeId}/pan`;\r\n          break;\r\n        case 'drivingLicense':\r\n          url = `employee/${method === 'put' ? `${updateEmployeeId}/driving` : `drivinglicense/${updateEmployeeId}`}`;\r\n          break;\r\n        case 'passport':\r\n          url = `employee/${method === 'put' ? `${updateEmployeeId}/passport` : `passport/details/${updateEmployeeId}`}`;\r\n          break;\r\n        case 'voter':\r\n          url = `employee/${updateEmployeeId}/voter`;\r\n          break;\r\n        default:\r\n          throw new Error('Invalid subsection for URL');\r\n      }\r\n\r\n      await publicinfoApi[method](url, formData);\r\n\r\n      setEditingSection(null);\r\n      setErrors({});\r\n\r\n      const getUrlKey = (subSection) => (subSection === 'drivingLicense' ? 'driving' : subSection);\r\n      const updatedIdentityData = await publicinfoApi.get(`employee/${documentEmployeeId}/${getUrlKey(subSection)}`);\r\n\r\n      setIdentityData(prev => {\r\n        const newData = { ...prev, [subSection]: updatedIdentityData.data };\r\n        const completed = Object.values(newData).filter(Boolean).length;\r\n        setCompletionStats({ completed, total: 5 });\r\n        return newData;\r\n      });\r\n\r\n      setPopup({ show: true, message: 'Document saved successfully!', type: 'success' });\r\n    } catch (error) {\r\n      console.error(`Update for ${subSection} failed:`, error);\r\n      const errorMessage = error.response?.data?.message || 'An unexpected error occurred. Please try again.';\r\n      setPopup({ show: true, message: errorMessage, type: 'error' });\r\n\r\n      if (error.response && error.response.status === 400 && typeof error.response.data === 'object' && !error.response.data.timestamp) {\r\n        setErrors(error.response.data);\r\n      } else {\r\n        setErrors({ general: errorMessage });\r\n      }\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = (subSectionKey) => {\r\n    setDeleteConfirmation({ show: true, sectionKey: subSectionKey });\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    const { sectionKey } = deleteConfirmation;\r\n    const docTitle = documentConfig[sectionKey].title;\r\n\r\n    try {\r\n      let urlKey = sectionKey;\r\n      if (sectionKey === 'drivingLicense') {\r\n        urlKey = 'driving';\r\n      }\r\n\r\n      const url = `employee/${documentEmployeeId}/${urlKey}`;\r\n      await publicinfoApi.delete(url);\r\n\r\n      setPopup({ show: true, message: `${docTitle} deleted successfully.`, type: 'success' });\r\n\r\n      setIdentityData(prev => {\r\n        const updatedData = { ...prev, [sectionKey]: null };\r\n        const completed = Object.values(updatedData).filter(Boolean).length;\r\n        setCompletionStats({ completed, total: 5 });\r\n        return updatedData;\r\n      });\r\n    } catch (err) {\r\n      console.error(`Failed to delete ${docTitle}:`, err);\r\n      setPopup({ show: true, message: `Error deleting ${docTitle}. You may not have the required permissions.`, type: 'error' });\r\n    } finally {\r\n      setDeleteConfirmation({ show: false, sectionKey: null });\r\n    }\r\n  };\r\n\r\n  const SkeletonCard = () => (\r\n    <div className={`border rounded-none sm:rounded-2xl shadow-sm overflow-hidden animate-pulse ${\r\n      theme === 'dark'\r\n        ? 'bg-gray-800 border-gray-700'\r\n        : 'bg-white border-gray-200'\r\n    }`}>\r\n      <div className={`p-4 sm:p-6 border-b ${\r\n        theme === 'dark'\r\n          ? 'bg-gray-700 border-gray-600'\r\n          : 'bg-gray-100 border-gray-200'\r\n      }`}>\r\n        <div className=\"flex justify-between items-center\">\r\n          <div className=\"flex items-center space-x-3 sm:space-x-4\">\r\n            <div className={`w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl ${\r\n              theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n            }`}></div>\r\n            <div>\r\n              <div className={`h-4 sm:h-5 rounded w-24 sm:w-32 mb-2 ${\r\n                theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n              }`}></div>\r\n              <div className={`h-3 rounded w-32 sm:w-48 ${\r\n                theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n              }`}></div>\r\n            </div>\r\n          </div>\r\n          <div className={`h-8 sm:h-9 rounded-lg w-16 sm:w-20 ${\r\n            theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n          }`}></div>\r\n        </div>\r\n      </div>\r\n      <div className=\"p-4 sm:p-6\">\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4\">\r\n          {[...Array(6)].map((_, i) => (\r\n            <div key={i} className={`p-3 sm:p-4 rounded-lg sm:rounded-xl ${\r\n              theme === 'dark' ? 'bg-gray-700' : 'bg-gray-50'\r\n            }`}>\r\n              <div className={`h-3 rounded w-16 sm:w-20 mb-2 ${\r\n                theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n              }`}></div>\r\n              <div className={`h-4 rounded w-24 sm:w-32 ${\r\n                theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n              }`}></div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n  \r\n  const renderField = (label, name, type = 'text', required = false, options = [], isDisabled = false, hint = '') => {\r\n    const isError = errors[name];\r\n    const fieldValue = editingData[name] || '';\r\n    \r\n  \r\n    const handleLocalFieldChange = (value) => {\r\n      handleEditFieldChange(name, value);\r\n  \r\n      if (name === 'panNumber' && value) {\r\n        if (!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(value)) {\r\n          setErrors(prev => ({ ...prev, [name]: 'PAN format: 5 letters + 4 digits + 1 letter (e.g., ABCDE1234F)' }));\r\n        }\r\n      } else if (name === 'aadhaarNumber' && value) {\r\n        if (!/^[2-9][0-9]{11}$/.test(value)) {\r\n          setErrors(prev => ({ ...prev, [name]: 'Aadhaar must be 12 digits starting with 2-9' }));\r\n        }\r\n      } else if (name === 'voterIdNumber' && value) {\r\n        if (!/^[A-Z]{3}[0-9]{7}$/.test(value)) {\r\n          setErrors(prev => ({ ...prev, [name]: 'Voter ID format: 3 letters + 7 digits (e.g., ABC1234567)' }));\r\n        }\r\n      }\r\n    };\r\n  \r\n    const newlySelectedFile = editingData[name] instanceof File ? editingData[name] : null;\r\n  \r\n    return (\r\n      <div className=\"group relative\" key={name}>\r\n        <label className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ${\r\n          theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n        }`}>\r\n          {label}\r\n          {required && <span className=\"text-red-500 ml-1 text-sm sm:text-base\">*</span>}\r\n          {isDisabled && (\r\n            <span className={`ml-2 px-2 py-1 text-xs rounded-full ${\r\n              theme === 'dark' ? 'bg-gray-700 text-gray-400' : 'bg-gray-100 text-gray-500'\r\n            }`}>\r\n              Read Only\r\n            </span>\r\n          )}\r\n        </label>\r\n  \r\n        {hint && (\r\n          <p className={`text-xs mb-2 ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n          }`}>\r\n            {hint}\r\n          </p>\r\n        )}\r\n  \r\n        {type === 'select' ? (\r\n          <div className=\"relative\">\r\n            <select\r\n              value={fieldValue}\r\n              onChange={(e) => handleLocalFieldChange(e.target.value)}\r\n              className={`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 appearance-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n                isError\r\n                  ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n                  : theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                  : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n              } ${\r\n                isDisabled\r\n                  ? theme === 'dark'\r\n                    ? 'bg-gray-800 cursor-not-allowed opacity-60'\r\n                    : 'bg-gray-50 cursor-not-allowed opacity-60'\r\n                  : ''\r\n              }`}\r\n              disabled={isDisabled}\r\n            >\r\n              <option value=\"\">Choose {label}</option>\r\n              {options.map((opt) => (\r\n                <option key={opt} value={opt}>\r\n                  {opt}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <div className=\"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 pointer-events-none\">\r\n              <svg className={`w-4 h-4 sm:w-5 sm:h-5 ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-400'\r\n              }`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        ) : type === 'date' ? (\r\n          <input\r\n            type=\"date\"\r\n            value={fieldValue}\r\n            onChange={(e) => handleLocalFieldChange(e.target.value)}\r\n            className={`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n              isError\r\n                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n                : theme === 'dark'\r\n                ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n            } ${\r\n              isDisabled\r\n                ? theme === 'dark'\r\n                  ? 'bg-gray-800 cursor-not-allowed opacity-60'\r\n                  : 'bg-gray-50 cursor-not-allowed opacity-60'\r\n                : ''\r\n            }`}\r\n            disabled={isDisabled}\r\n          />\r\n        ) : type === 'file' ? (\r\n          <div className={`relative border-2 border-dashed rounded-lg sm:rounded-xl transition-all duration-300 ${\r\n            isError\r\n              ? 'border-red-300 bg-red-50'\r\n              : theme === 'dark'\r\n              ? 'border-gray-600 bg-gray-800 hover:border-blue-400 hover:bg-blue-900/20'\r\n              : 'border-gray-300 bg-gray-50 hover:border-blue-400 hover:bg-blue-50'\r\n          } ${isDisabled ? 'opacity-60 cursor-not-allowed' : 'cursor-pointer'}`}>\r\n            <input\r\n              type=\"file\"\r\n              ref={fileInputRef}\r\n              onChange={(e) => handleFileChange(name, e.target.files?.[0])}\r\n              className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\r\n              disabled={isDisabled}\r\n              accept=\".jpg,.jpeg,.png,.pdf\"\r\n            />\r\n            {newlySelectedFile ? (\r\n              <div className=\"px-4 sm:px-6 py-6 sm:py-8 text-center\">\r\n                <IoDocumentText className={`mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ${\r\n                  theme === 'dark' ? 'text-blue-400' : 'text-blue-600'\r\n                }`} />\r\n                <p className={`text-xs sm:text-sm font-medium mb-3 truncate ${\r\n                  theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                }`} title={newlySelectedFile.name}>\r\n                  {newlySelectedFile.name}\r\n                </p>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    handleFileChange(name, null);\r\n                    if(fileInputRef.current) {\r\n                        fileInputRef.current.value = \"\";\r\n                    }\r\n                  }}\r\n                  className={`inline-flex items-center space-x-1 px-3 py-1 text-xs rounded-full font-semibold transition-colors ${\r\n                    theme === 'dark'\r\n                      ? 'bg-red-900/50 text-red-300 hover:bg-red-900'\r\n                      : 'bg-red-100 text-red-700 hover:bg-red-200'\r\n                  }`}\r\n                >\r\n                  <IoTrashOutline />\r\n                  <span>Remove</span>\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"px-4 sm:px-6 py-6 sm:py-8 text-center\">\r\n                <IoCloudUpload className={`mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ${\r\n                  theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                }`} />\r\n                <p className={`text-xs sm:text-sm font-medium mb-1 ${\r\n                  theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>\r\n                  {editingData[name] ? \"Replace current file\" : \"Drop your file here, or \"} <span className=\"text-blue-600\">browse</span>\r\n                </p>\r\n                <p className={`text-xs ${\r\n                  theme === 'dark' ? 'text-gray-500' : 'text-gray-500'\r\n                }`}>\r\n                  PNG, JPG, PDF up to 10MB\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : type === 'textarea' ? (\r\n          <textarea\r\n            value={fieldValue}\r\n            onChange={(e) => handleLocalFieldChange(e.target.value)}\r\n            className={`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 resize-none h-24 sm:h-32 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n              isError\r\n                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n                : theme === 'dark'\r\n                ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n            } ${\r\n              isDisabled\r\n                ? theme === 'dark'\r\n                  ? 'bg-gray-800 cursor-not-allowed opacity-60'\r\n                  : 'bg-gray-50 cursor-not-allowed opacity-60'\r\n                : ''\r\n            }`}\r\n            placeholder={`Enter ${label.toLowerCase()}...`}\r\n            required={required}\r\n            disabled={isDisabled}\r\n          />\r\n        ) : (\r\n          <input\r\n            type={type}\r\n            value={fieldValue}\r\n            onChange={(e) => handleLocalFieldChange(e.target.value)}\r\n            className={`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n              isError\r\n                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n                : theme === 'dark'\r\n                ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n            } ${\r\n              isDisabled\r\n                ? theme === 'dark'\r\n                  ? 'bg-gray-800 cursor-not-allowed opacity-60'\r\n                  : 'bg-gray-50 cursor-not-allowed opacity-60'\r\n                : ''\r\n            }`}\r\n            placeholder={`Enter ${label.toLowerCase()}...`}\r\n            required={required}\r\n            disabled={isDisabled}\r\n          />\r\n        )}\r\n  \r\n        {isError && (\r\n          <div className=\"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600 animate-slideIn\">\r\n            <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n            <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderEditModal = () => {\r\n    if (!editingSection) return null;\r\n\r\n    const subSection = editingSection;\r\n    const fields = identityFields[subSection];\r\n    const isUpdate = !!identityData[subSection];\r\n    const config = documentConfig[subSection];\r\n\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-200 p-2 sm:p-4 animate-fadeIn\">\r\n        <div className={`rounded-2xl sm:rounded-3xl w-full max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl animate-slideUp ${\r\n          theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n        }`}>\r\n          <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ${config.color} text-white relative overflow-hidden`}>\r\n            <div className=\"absolute inset-0 bg-black/10\"></div>\r\n            <div className=\"relative flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-3 sm:space-x-4\">\r\n                <div className=\"text-2xl sm:text-3xl md:text-4xl\">\r\n                  <config.icon />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-lg sm:text-xl md:text-2xl font-bold\">\r\n                    {isUpdate ? 'Update' : 'Add'} {config.title}\r\n                  </h2>\r\n                  <p className=\"text-white/90 text-xs sm:text-sm\">{config.description}</p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={() => setEditingSection(null)}\r\n                className=\"p-2 sm:p-3 hover:bg-white/20 rounded-full transition-all duration-200 group\"\r\n                aria-label=\"Close\"\r\n              >\r\n                <IoClose className=\"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform duration-200\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"overflow-y-auto max-h-[calc(95vh-200px)]\">\r\n            <form className=\"p-4 sm:p-6 md:p-8\" onSubmit={(e) => { e.preventDefault(); handleUpdate(subSection); }}>\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8\">\r\n                {fields.map((f) => {\r\n                  const isIdField = ['aadhaarNumber', 'panNumber', 'licenseNumber', 'passportNumber', 'voterIdNumber'].includes(f.name);\r\n                  const isDisabled = isUpdate && isIdField;\r\n                  \r\n                  let isRequired = f.required;\r\n                  const fileFieldsOptionalOnUpdate = ['aadhaarImage', 'panImage', 'uploadVoter'];\r\n                  if (f.type === 'file' && isUpdate && fileFieldsOptionalOnUpdate.includes(f.name)) {\r\n                    isRequired = false;\r\n                  }\r\n\r\n                  return renderField(f.label, f.name, f.type, isRequired, f.options, isDisabled, f.hint);\r\n                })}\r\n              </div>\r\n\r\n              {errors.general && (\r\n                <div className={`mt-4 sm:mt-6 p-4 sm:p-5 border-l-4 border-red-400 rounded-r-xl animate-slideIn ${\r\n                  theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'\r\n                }`}>\r\n                  <div className=\"flex items-center\">\r\n                    <IoWarning className=\"w-5 h-5 sm:w-6 sm:h-6 text-red-400 mr-3\" />\r\n                    <p className={`font-medium ${\r\n                      theme === 'dark' ? 'text-red-300' : 'text-red-800'\r\n                    }`}>\r\n                      {errors.general}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </form>\r\n          </div>\r\n\r\n          <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 ${\r\n            theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'\r\n          }`}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setEditingSection(null)}\r\n              className={`px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold transition-all duration-200 focus:ring-4 focus:ring-gray-500/20 ${\r\n                theme === 'dark'\r\n                  ? 'border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500'\r\n                  : 'border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400'\r\n              }`}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => handleUpdate(subSection)}\r\n              disabled={isUpdating}\r\n              className={`px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r ${config.color} text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-blue-500/30 flex items-center justify-center space-x-2 ${\r\n                isUpdating ? 'cursor-not-allowed opacity-75' : ''\r\n              }`}\r\n            >\r\n              {isUpdating ? (\r\n                <>\r\n                  <div className=\"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full animate-spin-slow\"></div>\r\n                  <span>Updating...</span>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                  <span>{isUpdate ? 'Update Document' : 'Save Document'}</span>\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const DetailItem = ({ label, value }) => (\r\n    <div className={`group p-3 sm:p-4 rounded-lg sm:rounded-xl border transition-all duration-300 hover:scale-105 ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600 hover:shadow-md hover:shadow-blue-500/20'\r\n        : 'bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100 hover:shadow-md'\r\n    }`}>\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex-1 min-w-0\">\r\n          <span className={`text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n          }`}>\r\n            {label}\r\n          </span>\r\n          <p className={`text-xs sm:text-sm font-semibold leading-relaxed break-words ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n          }`}>\r\n            {value || (\r\n              <span className={`italic ${\r\n                theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n              }`}>\r\n                Not provided\r\n              </span>\r\n            )}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const DetailItemWithLink = ({ label, link }) => (\r\n    <div className={`group p-3 sm:p-4 rounded-lg sm:rounded-xl border transition-all duration-300 hover:scale-105 ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-blue-900/30 to-indigo-900/30 border-blue-700'\r\n        : 'bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-100'\r\n    }`}>\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex-1 min-w-0\">\r\n          <span className={`text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 ${\r\n            theme === 'dark' ? 'text-blue-400' : 'text-blue-600'\r\n          }`}>\r\n            {label}\r\n          </span>\r\n          {link ? (\r\n            <a\r\n              href={link}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className={`inline-flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm font-semibold hover:underline transition-all duration-200 group break-words ${\r\n                theme === 'dark'\r\n                  ? 'text-blue-300 hover:text-blue-200'\r\n                  : 'text-blue-700 hover:text-blue-900'\r\n              }`}\r\n            >\r\n              <IoEye className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n              <span>View Document</span>\r\n              <svg className=\"w-3 h-3 group-hover:translate-x-1 transition-transform duration-200\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\r\n              </svg>\r\n            </a>\r\n          ) : (\r\n            <p className={`text-xs sm:text-sm font-medium italic break-words ${\r\n              theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n            }`}>\r\n              Document not uploaded\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const IdentitySubSection = ({ title, data, onEdit, subSectionKey, onDelete, isAdmin }) => {\r\n    const config = documentConfig[subSectionKey];\r\n    const hasData = !!data;\r\n\r\n    return (\r\n      <div className={`border-2 rounded-none sm:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500\r\n                          overflow-hidden group hover:scale-[1.02] ${\r\n        theme === 'dark'\r\n          ? `bg-gray-800 ${config.darkBorderColor} hover:shadow-blue-500/20`\r\n          : `bg-white ${config.borderColor}`\r\n      }`}>\r\n        <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b-2 relative overflow-hidden ${\r\n          theme === 'dark'\r\n            ? `${config.darkBgColor} ${config.darkBorderColor}`\r\n            : `${config.bgColor} ${config.borderColor}`\r\n        }`}>\r\n          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent to-white/30 z-[0]\"></div>\r\n          <div className=\"relative flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n              <div className=\"text-2xl sm:text-3xl md:text-4xl transform group-hover:scale-110 transition-transform duration-300\">\r\n                <config.icon />\r\n              </div>\r\n              <div className=\"min-w-0 flex-1\">\r\n                <h4 className={`text-lg sm:text-xl font-bold flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                }`}>\r\n                  <span className=\"break-words\">{title}</span>\r\n                  {hasData && (\r\n                    <div className=\"flex items-center space-x-1\">\r\n                      <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-500\" />\r\n                      <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium\">\r\n                        Verified\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </h4>\r\n                <p className={`text-xs sm:text-sm mt-1 break-words ${\r\n                  theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n                }`}>\r\n                  {config.description}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-col sm:flex-row items-end sm:items-center space-y-2 sm:space-y-0 sm:space-x-2\">\r\n             {((fromContextMenu && isAdmin && hasData) || \r\n   (matchedArray?.includes(\"PROFILES_DOCUMENTS_DELETE\") && hasData) \r\n   ) && (\r\n    <button\r\n      onClick={() => onDelete(subSectionKey)}\r\n      className={`flex items-center space-x-1 sm:space-x-2 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 focus:ring-4 focus:ring-red-500/20 shadow-md hover:shadow-lg text-xs sm:text-sm ${\r\n        theme === 'dark'\r\n          ? 'text-red-400 bg-gray-700 border-2 border-red-800 hover:bg-red-900/50'\r\n          : 'text-red-600 bg-white border-2 border-red-200 hover:bg-red-50'\r\n      }`}\r\n    >\r\n      <IoTrashOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n      <span className=\"hidden sm:inline\">Delete</span>\r\n    </button>\r\n  )}\r\n\r\n              {!isReadOnly && (\r\n                <button\r\n                  onClick={() => onEdit(subSectionKey)}\r\n                  className={`flex items-center space-x-1 sm:space-x-2 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 focus:ring-4 focus:ring-blue-500/20 shadow-md hover:shadow-lg text-xs sm:text-sm ${\r\n                    hasData\r\n                      ? theme === 'dark'\r\n                        ? `${config.darkTextColor} bg-gray-700 border-2 ${config.darkBorderColor} hover:bg-gray-600`\r\n                        : `${config.textColor} bg-white border-2 ${config.borderColor} hover:bg-gray-50`\r\n                      : 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:from-blue-600 hover:to-indigo-700'\r\n                  }`}\r\n                >\r\n                  {hasData ? (\r\n                    <>\r\n                      <IoDocumentText className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                      <span>Edit Details</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <IoAdd className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                      <span>Add Document</span>\r\n                    </>\r\n                  )}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-4 sm:p-6 md:p-8\">\r\n          {hasData ? (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4\">\r\n              {Object.keys(data).map((key) => {\r\n                if (key === 'employee') return null;\r\n\r\n                if (['uploadAadhaar', 'panImage', 'licenseImage', 'passportImage', 'uploadVoter'].includes(key)) {\r\n                  return (\r\n                    <DetailItemWithLink\r\n                      key={key}\r\n                      label={key.replace(/([A-Z])/g, ' $1')}\r\n                      link={data[key]}\r\n                    />\r\n                  );\r\n                }\r\n\r\n                return (\r\n                  <DetailItem\r\n                    key={key}\r\n                    label={key.replace(/([A-Z])/g, ' $1')}\r\n                    value={data[key]}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 sm:py-12\">\r\n              <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${\r\n                theme === 'dark' ? config.darkBgColor : config.bgColor\r\n              }`}>\r\n                <div className={`text-2xl sm:text-3xl opacity-50 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                }`}>\r\n                  <config.icon />\r\n                </div>\r\n              </div>\r\n              <h3 className={`text-base sm:text-lg font-semibold mb-2 ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n              }`}>\r\n                No {title} Added\r\n              </h3>\r\n              <p className={`text-sm mb-4 sm:mb-6 max-w-sm mx-auto px-4 ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>\r\n                {isReadOnly\r\n                  ? `This employee hasn't added their ${title.toLowerCase()} information yet.`\r\n                  : `Add your ${title.toLowerCase()} information to complete your profile and enhance security.`}\r\n              </p>\r\n              {!isReadOnly && (\r\n                <button\r\n                  onClick={() => onEdit(subSectionKey)}\r\n                  className=\"inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-lg sm:rounded-xl hover:from-blue-600 hover:to-indigo-700 transform hover:scale-105 transition-all duration-300 shadow-lg text-sm\"\r\n                >\r\n                  <IoAdd className=\"w-4 h-4\" />\r\n                  <span>Add {title}</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const ProgressIndicator = () => {\r\n    const percentage = (completionStats.completed / completionStats.total) * 100;\r\n\r\n    return (\r\n      <div className={`rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border ${\r\n        theme === 'dark'\r\n          ? 'bg-gray-800 border-gray-700'\r\n          : 'bg-white border-gray-200'\r\n      }`}>\r\n        <div className=\"flex items-center justify-between mb-3 sm:mb-4\">\r\n          <h3 className={`text-base sm:text-lg font-bold ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n          }`}>\r\n            {isReadOnly ? 'Document Status' : 'Profile Completion'}\r\n          </h3>\r\n          <span className={`text-sm font-medium ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n          }`}>\r\n            {completionStats.completed}/{completionStats.total} Documents\r\n          </span>\r\n        </div>\r\n        <div className={`w-full rounded-full h-2 sm:h-3 mb-3 sm:mb-4 overflow-hidden ${\r\n          theme === 'dark' ? 'bg-gray-700' : 'bg-gray-200'\r\n        }`}>\r\n          <div\r\n            className=\"bg-gradient-to-r from-blue-500 to-green-500 h-2 sm:h-3 rounded-full transition-all duration-700 ease-out\"\r\n            style={{ width: `${percentage}%` }}\r\n          ></div>\r\n        </div>\r\n        <div className=\"flex justify-between text-sm\">\r\n          <span className={theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}>\r\n            {percentage.toFixed(0)}% Complete\r\n          </span>\r\n          {percentage === 100 && (\r\n            <span className=\"text-green-600 font-semibold flex items-center\">\r\n              <IoCheckmarkCircle className=\"w-4 h-4 mr-1\" />\r\n              All Set!\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const filteredSections = Object.keys(documentConfig).filter(key =>\r\n    documentConfig[key].title.toLowerCase().includes(searchFilter.toLowerCase()) ||\r\n    documentConfig[key].description.toLowerCase().includes(searchFilter.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className={`min-h-screen ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900'\r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      {loading ? (\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <div className=\"text-center px-4\">\r\n            <div className=\"relative\">\r\n              <div className=\"animate-spin rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6\"></div>\r\n              <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                <IoDocumentText className=\"w-6 h-6 sm:w-8 sm:h-8 text-blue-500\" />\r\n              </div>\r\n            </div>\r\n            <h2 className={`text-xl sm:text-2xl font-bold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>\r\n              Loading Documents\r\n            </h2>\r\n            <p className={theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}>\r\n              Fetching identity information securely...\r\n            </p>\r\n            <div className=\"flex justify-center space-x-2 mt-4\">\r\n              {[...Array(5)].map((_, i) => (\r\n                <div\r\n                  key={i}\r\n                  className=\"w-2 h-2 rounded-full bg-blue-500 animate-pulse\"\r\n                  style={{ animationDelay: `${i * 0.2}s` }}\r\n                ></div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"max-w-8xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-6 sm:py-8 md:py-12\">\r\n          {fromContextMenu && (\r\n            <div className={`mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-l-4 border-blue-500 shadow-lg ${\r\n              theme === 'dark' ? 'bg-blue-900/20 border-blue-400' : 'bg-blue-50 border-blue-500'\r\n            }`}>\r\n              <div className=\"flex items-center space-x-3\">\r\n                <IoEye className={`w-4 h-4 sm:w-5 sm:h-5 ${theme === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} />\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <p className={`font-semibold text-sm sm:text-base ${theme === 'dark' ? 'text-blue-400' : 'text-blue-800'}`}>\r\n                    Viewing Employee Documents\r\n                  </p>\r\n                  <p className={`text-xs sm:text-sm break-words ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                    Employee ID: {targetEmployeeId}\r\n                    {isReadOnly && '  Read-only access'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-8 sm:mb-12\">\r\n            <div className=\"lg:col-span-2 mx-4 sm:mx-0\">\r\n              <ProgressIndicator />\r\n            </div>\r\n            <div className={`rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border mx-4 sm:mx-0 ${\r\n              theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n            }`}>\r\n              <div className=\"relative\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search documents...\"\r\n                  value={searchFilter}\r\n                  onChange={(e) => setSearchFilter(e.target.value)}\r\n                  className={`w-full px-4 sm:px-5 py-3 sm:py-4 pl-10 sm:pl-12 border-2 rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/20 transition-all duration-300 ${\r\n                    theme === 'dark'\r\n                      ? 'border-gray-600 bg-gray-700 text-white placeholder-gray-400 focus:border-blue-500'\r\n                      : 'border-gray-200 bg-white text-black placeholder-gray-500 focus:border-blue-500'\r\n                  }`}\r\n                />\r\n                <svg className={`absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 ${\r\n                  theme === 'dark' ? 'text-gray-400' : 'text-gray-400'\r\n                }`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {renderEditModal()}\r\n\r\n          {popup.show && (\r\n            <Modal\r\n              onClose={() => setPopup({ show: false, message: '', type: '' })}\r\n              title={popup.type === 'success' ? 'Success' : 'Error'}\r\n              type={popup.type}\r\n              theme={theme}\r\n            >\r\n              <p className={`mb-4 sm:mb-6 ${\r\n                theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n              }`}>\r\n                {popup.message}\r\n              </p>\r\n              <div className=\"flex justify-end\">\r\n                <button\r\n                  onClick={() => setPopup({ show: false, message: '', type: '' })}\r\n                  className={`${\r\n                    popup.type === 'success' ? 'bg-green-600 hover:bg-green-700' : 'bg-red-600 hover:bg-red-700'\r\n                  } text-white font-semibold py-2 px-4 sm:px-6 rounded-lg transition-colors text-sm`}\r\n                >\r\n                  OK\r\n                </button>\r\n              </div>\r\n            </Modal>\r\n          )}\r\n\r\n          <div className=\"space-y-4 sm:space-y-6 md:space-y-8\">\r\n            {filteredSections.map((key) => (\r\n              <IdentitySubSection\r\n                key={key}\r\n                title={documentConfig[key].title}\r\n                data={identityData[key]}\r\n                onEdit={openEditSection}\r\n                subSectionKey={key}\r\n                onDelete={handleDelete}\r\n                isAdmin={isAdmin}\r\n              />\r\n            ))}\r\n\r\n            {filteredSections.length === 0 && searchFilter && (\r\n              <div className=\"text-center py-12 sm:py-16 mx-4 sm:mx-0\">\r\n                <div className={`w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${\r\n                  theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'\r\n                }`}>\r\n                  <svg className={`w-6 h-6 sm:w-8 sm:h-8 ${\r\n                    theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                  }`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                  </svg>\r\n                </div>\r\n                <h3 className={`text-base sm:text-lg font-semibold mb-2 ${\r\n                  theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                }`}>\r\n                  No documents found\r\n                </h3>\r\n                <p className={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>\r\n                  Try adjusting your search terms\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {deleteConfirmation.show && (\r\n            <Modal\r\n              onClose={() => setDeleteConfirmation({ show: false, sectionKey: null })}\r\n              title=\"Confirm Deletion\"\r\n              type=\"confirm\"\r\n              theme={theme}\r\n            >\r\n              <p className={`mb-4 sm:mb-6 ${\r\n                theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n              }`}>\r\n                Are you sure you want to delete the {documentConfig[deleteConfirmation.sectionKey].title}? This action cannot be undone.\r\n              </p>\r\n              <div className=\"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3\">\r\n                <button\r\n                  onClick={() => setDeleteConfirmation({ show: false, sectionKey: null })}\r\n                  className={`px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm ${\r\n                    theme === 'dark'\r\n                      ? 'bg-gray-600 hover:bg-gray-500'\r\n                      : 'bg-gray-200 hover:bg-gray-300'\r\n                  }`}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={confirmDelete}\r\n                  className=\"px-4 sm:px-6 py-2 rounded-lg font-semibold text-white bg-red-600 hover:bg-red-700 transition-colors text-sm\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </Modal>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <style jsx>{`\r\n        @keyframes fadeIn {\r\n          from { opacity: 0; }\r\n          to { opacity: 1; }\r\n        }\r\n        @keyframes slideUp {\r\n          from { transform: translateY(20px); opacity: 0; }\r\n          to { transform: translateY(0); opacity: 1; }\r\n        }\r\n        @keyframes slideIn {\r\n          from { transform: translateX(-10px); opacity: 0; }\r\n          to { transform: translateX(0); opacity: 1; }\r\n        }\r\n        .animate-fadeIn {\r\n          animation: fadeIn 0.3s ease-out;\r\n        }\r\n        .animate-slideUp {\r\n          animation: slideUp 0.4s ease-out;\r\n        }\r\n        .animate-slideIn {\r\n          animation: slideIn 0.3s ease-out;\r\n        }\r\n        .animate-spin-slow {\r\n          animation: spin 1s linear infinite;\r\n        }\r\n        @keyframes spin {\r\n          from { transform: rotate(0deg); }\r\n          to { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Document;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { IoClose, IoDocumentText, IoCheckmarkCircle, IoPencil,IoWarning, IoEye, IoAdd, IoCloudUpload, IoTrashOutline } from 'react-icons/io5';\r\nimport { Context } from '../../HrmsContext';\r\nimport { publicinfoApi } from '../../../../../axiosInstance';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\n\r\n// Reusable Modal Component\r\nconst Modal = ({ children, onClose, title, type, theme }) => {\r\n  let titleClass;\r\n  let icon = null;\r\n\r\n  if (type === 'success') {\r\n    titleClass = 'text-green-600';\r\n    icon = <IoCheckmarkCircle className=\"h-5 w-5 sm:h-6 sm:w-6 text-green-500\" />;\r\n  } else if (type === 'error') {\r\n    titleClass = 'text-red-600';\r\n    icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-red-500\" />;\r\n  } else if (type === 'confirm') {\r\n    titleClass = 'text-yellow-600';\r\n    icon = <IoWarning className=\"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 sm:p-6 z-[1000] animate-fadeIn\">\r\n      <div className={`w-full max-w-md rounded-2xl sm:rounded-3xl shadow-2xl animate-slideUp transform-gpu ${\r\n        theme === 'dark' ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-200'\r\n      }`}>\r\n        <div className=\"p-4 sm:p-6\">\r\n          <div className=\"flex items-center space-x-3 sm:space-x-4 mb-4 sm:mb-6\">\r\n            {icon}\r\n            <h3 className={`text-lg sm:text-xl font-bold ${titleClass} ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>\r\n              {title}\r\n            </h3>\r\n          </div>\r\n          <div className=\"space-y-4 sm:space-y-6\">\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Reusable Input Field Component\r\nconst InputField = ({ \r\n  name, \r\n  label, \r\n  type = 'text', \r\n  required = false, \r\n  hint, \r\n  placeholder, \r\n  value, \r\n  onChange, \r\n  onBlur,\r\n  isError,\r\n  options = [], \r\n  multiple = false,\r\n  accept,\r\n  theme \r\n}) => {\r\n  const baseInputClass = `w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n    isError\r\n      ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n      : theme === 'dark'\r\n      ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n      : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n  }`;\r\n\r\n  const textareaClass = `w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 resize-none h-24 sm:h-32 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n    isError\r\n      ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n      : theme === 'dark'\r\n      ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n      : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n  }`;\r\n\r\n  const selectClass = `w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 appearance-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n    isError\r\n      ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n      : theme === 'dark'\r\n      ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n      : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n  }`;\r\n\r\n  return (\r\n    <div className=\"group relative\" key={name}>\r\n      <label className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ${\r\n        theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n      }`}>\r\n        {label}\r\n        {required && <span className=\"text-red-500 ml-1 text-sm sm:text-base\">*</span>}\r\n      </label>\r\n      \r\n      {hint && (\r\n        <p className={`text-xs mb-2 ${\r\n          theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n        }`}>\r\n          {hint}\r\n        </p>\r\n      )}\r\n\r\n      {type === 'select' ? (\r\n        <div className=\"relative\">\r\n          <select\r\n            name={name}\r\n            value={value}\r\n            onChange={onChange}\r\n            onBlur={onBlur}\r\n            className={selectClass}\r\n            required={required}\r\n          >\r\n            <option value=\"\">Select {label.toLowerCase()}</option>\r\n            {options.map((option, index) => (\r\n              <option key={index} value={option.value || option}>\r\n                {option.label || option}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <div className={`absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n          }`}>\r\n            <svg className=\"w-4 h-4 fill-current\" viewBox=\"0 0 20 20\">\r\n              <path d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      ) : type === 'textarea' ? (\r\n        <textarea\r\n          name={name}\r\n          value={value}\r\n          onChange={onChange}\r\n          onBlur={onBlur}\r\n          placeholder={placeholder}\r\n          className={textareaClass}\r\n          required={required}\r\n          rows={4}\r\n        />\r\n      ) : type === 'file' ? (\r\n        <div className={`relative border-2 border-dashed rounded-lg sm:rounded-xl transition-all duration-300 ${\r\n          isError\r\n            ? 'border-red-300 bg-red-50'\r\n            : theme === 'dark'\r\n            ? 'border-gray-600 bg-gray-800 hover:border-blue-400 hover:bg-blue-900/20'\r\n            : 'border-gray-300 bg-gray-50 hover:border-blue-400 hover:bg-blue-50'\r\n        } cursor-pointer`}>\r\n          <input\r\n            type=\"file\"\r\n            name={name}\r\n            accept={accept}\r\n            multiple={multiple}\r\n            onChange={onChange}\r\n            className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\r\n          />\r\n          <div className=\"px-4 sm:px-6 py-6 sm:py-8 text-center\">\r\n            <IoCloudUpload className={`mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ${\r\n              theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n            }`} />\r\n            <p className={`text-xs sm:text-sm font-medium mb-1 ${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n            }`}>\r\n              Drop your file here, or <span className=\"text-blue-600\">browse</span>\r\n            </p>\r\n            <p className={`text-xs ${\r\n              theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n            }`}>\r\n              {accept || 'All file types supported'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <input\r\n          type={type}\r\n          name={name}\r\n          value={value}\r\n          onChange={onChange}\r\n          onBlur={onBlur}\r\n          placeholder={placeholder}\r\n          className={baseInputClass}\r\n          required={required}\r\n        />\r\n      )}\r\n\r\n      {isError && (\r\n        <div className=\"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600 animate-slideIn\">\r\n          <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n          <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Achivements = () => {\r\n  const [achievements, setAchievements] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  \r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n  const { userData, theme } = useContext(Context);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [selectedAchievement, setSelectedAchievement] = useState(null);\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n  \r\n  // State for popups\r\n  const [popup, setPopup] = useState({ show: false, message: '', type: '' });\r\n  const [deleteConfirmation, setDeleteConfirmation] = useState({ show: false, achievementId: null });\r\n  \r\n  // Form state\r\n  const [formData, setFormData] = useState({\r\n    certificationName: '',\r\n    issuingAuthorityName: '',\r\n    certificationURL: '',\r\n    issueMonth: '',\r\n    issueYear: '',\r\n    expirationMonth: '',\r\n    expirationYear: '',\r\n    licenseNumber: '',\r\n    achievementFile: null\r\n  });\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [uploadedFiles, setUploadedFiles] = useState([]);\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n  const employeeIdToFetch = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n  \r\n  const userRole = userData?.roles?.[0]?.toUpperCase();\r\n  const hasManagementAccess = [\"ADMIN\", \"MANAGER\", \"HR\"].includes(userRole);\r\n  const isOwnProfile = employeeIdToFetch === empID;\r\n  const canEdit = isOwnProfile || hasManagementAccess;\r\n\r\n  // Configuration for different achievement types\r\n  const config = {\r\n    title: \"Achievements & Certifications\",\r\n    subtitle: \"Professional certifications and achievements\",\r\n    color: \"from-blue-500 to-purple-600\",\r\n    icon: IoDocumentText\r\n  };\r\n\r\n  const achievementFormFields = [\r\n    {\r\n      name: 'certificationName',\r\n      label: 'Certification Name',\r\n      type: 'text',\r\n      required: true,\r\n      placeholder: 'e.g., AWS Certified Solutions Architect',\r\n      hint: 'Enter the full name of your certification or achievement'\r\n    },\r\n    {\r\n      name: 'issuingAuthorityName',\r\n      label: 'Issuing Authority',\r\n      type: 'text',\r\n      required: true,\r\n      placeholder: 'e.g., Amazon Web Services',\r\n      hint: 'Organization that issued this certification'\r\n    },\r\n    {\r\n      name: 'issueMonth',\r\n      label: 'Issue Month',\r\n      type: 'select',\r\n      required: true,\r\n      options: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\r\n    },\r\n    {\r\n      name: 'issueYear',\r\n      label: 'Issue Year',\r\n      type: 'number',\r\n      required: true,\r\n      placeholder: 'e.g., 2023'\r\n    },\r\n    {\r\n      name: 'expirationMonth',\r\n      label: 'Expiration Month',\r\n      type: 'select',\r\n      required: false,\r\n      options: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\r\n      hint: 'Optional - leave blank if certification does not expire'\r\n    },\r\n    {\r\n      name: 'expirationYear',\r\n      label: 'Expiration Year',\r\n      type: 'number',\r\n      required: false,\r\n      placeholder: 'e.g., 2026',\r\n      hint: 'Optional - leave blank if certification does not expire'\r\n    },\r\n    {\r\n      name: 'licenseNumber',\r\n      label: 'License/Certificate Number',\r\n      type: 'text',\r\n      required: false,\r\n      placeholder: 'e.g., AWS-ASA-12345',\r\n      hint: 'Optional - unique identifier for this certification'\r\n    },\r\n    {\r\n      name: 'certificationURL',\r\n      label: 'Certification URL',\r\n      type: 'url',\r\n      required: false,\r\n      placeholder: 'https://...',\r\n      hint: 'Optional - link to verify your certification online'\r\n    },\r\n    {\r\n      name: 'achievementFile',\r\n      label: 'Achievement Certificate',\r\n      type: 'file',\r\n      required: false,\r\n      accept: 'image/*,.pdf,.doc,.docx',\r\n      hint: 'Optional - upload your certificate or achievement document'\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchAchievements();\r\n  }, [employeeIdToFetch]);\r\n\r\n  const fetchAchievements = async () => {\r\n    if (!employeeIdToFetch) return;\r\n    try {\r\n      setLoading(true);\r\n      const response = await publicinfoApi.get(`/employee/${employeeIdToFetch}/achievements`);\r\n      console.log(`Fetching achievements for: ${employeeIdToFetch}`, response.data);\r\n      setAchievements(response.data);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError('Failed to fetch achievements. Please try again later.');\r\n      console.error(\"Error fetching achievements:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n    \r\n    if (files) {\r\n      setFormData(prev => ({ ...prev, [name]: files[0] }));\r\n      setUploadedFiles([...files]);\r\n    } else {\r\n      setFormData(prev => ({ ...prev, [name]: value }));\r\n    }\r\n    \r\n    // Clear error when user starts typing\r\n    if (formErrors[name]) {\r\n      setFormErrors(prev => ({ ...prev, [name]: null }));\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    \r\n    achievementFormFields.forEach(field => {\r\n      if (field.required && !formData[field.name]) {\r\n        errors[field.name] = `${field.label} is required`;\r\n      }\r\n      \r\n      if (field.type === 'url' && formData[field.name] && !isValidUrl(formData[field.name])) {\r\n        errors[field.name] = 'Please enter a valid URL';\r\n      }\r\n    });\r\n    \r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const isValidUrl = (string) => {\r\n    try {\r\n      new URL(string);\r\n      return true;\r\n    } catch (_) {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = (achievement = null) => {\r\n    if (achievement) {\r\n      setSelectedAchievement(achievement);\r\n      setIsEditMode(true);\r\n      setFormData({\r\n        certificationName: achievement.certificationName || '',\r\n        issuingAuthorityName: achievement.issuingAuthorityName || '',\r\n        certificationURL: achievement.certificationURL || '',\r\n        issueMonth: achievement.issueMonth || '',\r\n        issueYear: achievement.issueYear || '',\r\n        expirationMonth: achievement.expirationMonth || '',\r\n        expirationYear: achievement.expirationYear || '',\r\n        licenseNumber: achievement.licenseNumber || '',\r\n        achievementFile: null\r\n      });\r\n    } else {\r\n      setSelectedAchievement(null);\r\n      setIsEditMode(false);\r\n      setFormData({\r\n        certificationName: '',\r\n        issuingAuthorityName: '',\r\n        certificationURL: '',\r\n        issueMonth: '',\r\n        issueYear: '',\r\n        expirationMonth: '',\r\n        expirationYear: '',\r\n        licenseNumber: '',\r\n        achievementFile: null\r\n      });\r\n    }\r\n    setFormErrors({});\r\n    setUploadedFiles([]);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsModalOpen(false);\r\n    setSelectedAchievement(null);\r\n    setFormData({\r\n      certificationName: '',\r\n      issuingAuthorityName: '',\r\n      certificationURL: '',\r\n      issueMonth: '',\r\n      issueYear: '',\r\n      expirationMonth: '',\r\n      expirationYear: '',\r\n      licenseNumber: '',\r\n      achievementFile: null\r\n    });\r\n    setFormErrors({});\r\n    setUploadedFiles([]);\r\n  };\r\n\r\n  const handleDelete = (achievementId) => {\r\n    setDeleteConfirmation({ show: true, achievementId });\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    const { achievementId } = deleteConfirmation;\r\n    try {\r\n      await publicinfoApi.delete(`/employee/${employeeIdToFetch}/${achievementId}/achievements`);\r\n      setAchievements(achievements.filter(ach => ach.id !== achievementId));\r\n      setPopup({ show: true, message: 'Achievement deleted successfully!', type: 'success' });\r\n    } catch (err) {\r\n      console.error('Error deleting achievement:', err);\r\n      setPopup({ show: true, message: 'Failed to delete achievement. Please try again.', type: 'error' });\r\n    } finally {\r\n      setDeleteConfirmation({ show: false, achievementId: null });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      setPopup({ show: true, message: 'Please fix the errors in the form before submitting.', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    const achievementDTO = {\r\n      certificationName: formData.certificationName,\r\n      issuingAuthorityName: formData.issuingAuthorityName,\r\n      certificationURL: formData.certificationURL,\r\n      issueMonth: formData.issueMonth,\r\n      issueYear: formData.issueYear,\r\n      expirationMonth: formData.expirationMonth,\r\n      expirationYear: formData.expirationYear,\r\n      licenseNumber: formData.licenseNumber\r\n    };\r\n\r\n    const submissionData = new FormData();\r\n\r\n    if (formData.achievementFile) {\r\n      submissionData.append('achievementFile', formData.achievementFile);\r\n    }\r\n    \r\n    if (isEditMode && selectedAchievement?.id) {\r\n      achievementDTO.id = selectedAchievement.id;\r\n    }\r\n    \r\n    submissionData.append('achievementsDTO', new Blob([JSON.stringify(achievementDTO)], { type: 'application/json' }));\r\n\r\n    try {\r\n      let response;\r\n      if (isEditMode) {\r\n        const url = `/employee/${employeeIdToFetch}/${selectedAchievement.id}/achievements`;\r\n        response = await publicinfoApi.put(url, submissionData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n        setAchievements(achievements.map(ach => ach.id === selectedAchievement.id ? response.data : ach));\r\n        setPopup({ show: true, message: 'Achievement updated successfully!', type: 'success' });\r\n      } else {\r\n        const url = `/employee/achievements/${employeeIdToFetch}`;\r\n        response = await publicinfoApi.post(url, submissionData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n        setAchievements([...achievements, response.data]);\r\n        setPopup({ show: true, message: 'Achievement added successfully!', type: 'success' });\r\n      }\r\n      handleCloseModal();\r\n    } catch (err) {\r\n      console.error('Error saving achievement:', err.response?.data || err.message);\r\n      setPopup({ \r\n        show: true, \r\n        message: err.response?.data?.message || 'Failed to save achievement. Please check your input and try again.', \r\n        type: 'error' \r\n      });\r\n    }\r\n  };\r\n\r\n  const getAchievementFileUrl = (filePath) => {\r\n    if (!filePath) return null;\r\n    const baseUrl = publicinfoApi.defaults.baseURL;\r\n    return `${baseUrl.replace('/publicinfo', '')}/file/employee/${filePath}`;\r\n  };\r\n\r\n  if (loading) return (\r\n    <div className={`min-h-screen flex items-center justify-center ${\r\n      theme === 'dark' \r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"text-center px-4\">\r\n        <div className=\"relative\">\r\n          <div className=\"animate-spin rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6\"></div>\r\n          <div className=\"absolute inset-0 flex items-center justify-center\">\r\n            <IoDocumentText className=\"w-6 h-6 sm:w-8 sm:h-8 text-blue-500\" />\r\n          </div>\r\n        </div>\r\n        <h2 className={`text-xl sm:text-2xl font-bold mb-2 ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n        }`}>Loading Achievements</h2>\r\n        <p className={`text-sm sm:text-base ${\r\n          theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n        }`}>Fetching certifications and achievements...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (error) return (\r\n    <div className={`min-h-screen flex items-center justify-center ${\r\n      theme === 'dark' \r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"text-center px-4\">\r\n        <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${\r\n          theme === 'dark' ? 'bg-red-900/30' : 'bg-red-100'\r\n        }`}>\r\n          <IoDocumentText className=\"w-8 h-8 sm:w-10 sm:h-10 text-red-500\" />\r\n        </div>\r\n        <h2 className={`text-xl sm:text-2xl font-bold mb-2 ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n        }`}>Error Loading Achievements</h2>\r\n        <p className={`text-sm sm:text-base ${\r\n          theme === 'dark' ? 'text-red-300' : 'text-red-500'\r\n        }`}>{error}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className={`min-h-screen ${\r\n      theme === 'dark' \r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"max-w-8xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-6 sm:py-8 md:py-12\">\r\n        {/* Header Section */}\r\n        <div className={`rounded-none sm:rounded-2xl md:rounded-3xl p-4 sm:p-6 md:p-8 shadow-lg border mb-6 sm:mb-8 mx-4 sm:mx-0 ${\r\n          theme === 'dark' \r\n            ? 'bg-gray-800 border-gray-700' \r\n            : 'bg-white border-gray-200'\r\n        }`}>\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0\">\r\n            <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n              <div className={`p-2 sm:p-3 md:p-4 rounded-lg sm:rounded-xl shadow-md flex-shrink-0 bg-gradient-to-r ${config.color}`}>\r\n                <config.icon className=\"w-6 h-6 sm:w-8 sm:h-8 text-white\" />\r\n              </div>\r\n              <div className=\"min-w-0 flex-1\">\r\n                <h1 className={`text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold break-words ${\r\n                  theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                }`}>\r\n                  {config.title}\r\n                </h1>\r\n                <p className={`text-xs sm:text-sm md:text-base break-words ${\r\n                  theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n                }`}>\r\n                  {isOwnProfile ? `Your ${config.subtitle.toLowerCase()}` : config.subtitle}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            {canEdit && (\r\n              <button \r\n                onClick={() => handleOpenModal()}\r\n                className={`w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r ${config.color} text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-blue-500/30 text-sm sm:text-base flex items-center justify-center space-x-2`}\r\n              >\r\n                <IoAdd className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                <span>Add Achievement</span>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Achievement List */}\r\n        <div className=\"mx-4 sm:mx-0\">\r\n          {achievements.length === 0 ? (\r\n            <div className={`text-center py-12 sm:py-16 md:py-20 px-4 sm:px-6 md:px-8 rounded-none sm:rounded-2xl md:rounded-3xl shadow-lg border ${\r\n              theme === 'dark' \r\n                ? 'bg-gray-800 border-gray-700' \r\n                : 'bg-white border-gray-200'\r\n            }`}>\r\n              <div className={`w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${\r\n                theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100'\r\n              }`}>\r\n                <IoDocumentText className={`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 ${\r\n                  theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                }`} />\r\n              </div>\r\n              <h3 className={`text-lg sm:text-xl md:text-2xl font-semibold mb-2 sm:mb-4 ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n              }`}>\r\n                {isOwnProfile ? 'No Achievements Yet' : 'No Achievements Found'}\r\n              </h3>\r\n              <p className={`text-sm sm:text-base max-w-md mx-auto break-words ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>\r\n                {isOwnProfile \r\n                  ? 'No achievements have been recorded yet. Add your certifications and accomplishments to showcase your expertise.'\r\n                  : 'This employee has not added any achievements or certifications yet.'\r\n                }\r\n              </p>\r\n              {canEdit && isOwnProfile && (\r\n                <button \r\n                  onClick={() => handleOpenModal()}\r\n                  className={`mt-6 sm:mt-8 px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r ${config.color} text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-blue-500/30 text-sm sm:text-base flex items-center space-x-2 mx-auto`}\r\n                >\r\n                  <IoAdd className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                  <span>Add Your First Achievement</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 gap-4 sm:gap-6 md:gap-8\">\r\n              {achievements.map((achievement) => {\r\n                const hasCredentialUrl = !!achievement.certificationURL;\r\n                const hasAchievementFile = !!achievement.achievementFile;\r\n                const fileUrl = getAchievementFileUrl(achievement.achievementFile);\r\n\r\n                return (\r\n                  <div key={achievement.id} className={`p-4 sm:p-6 md:p-8 rounded-none sm:rounded-2xl md:rounded-3xl shadow-lg border hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] relative group ${\r\n                    theme === 'dark' \r\n                      ? 'bg-gray-800 border-gray-700 hover:shadow-blue-500/20' \r\n                      : 'bg-white border-gray-200'\r\n                  }`}>\r\n                   {canEdit && (\r\n  <div className={`absolute top-4 right-4 sm:top-6 sm:right-6 flex space-x-2 transition-opacity duration-300 ${\r\n    // Always visible on mobile (xs), only on hover on sm+\r\n    'opacity-100 sm:opacity-0 sm:group-hover:opacity-100'\r\n  }`}>\r\n    <button \r\n      onClick={() => handleOpenModal(achievement)}\r\n      className={`p-2 rounded-lg transition-all duration-200 transform hover:scale-110 ${\r\n        theme === 'dark'\r\n          ? 'text-gray-400 hover:text-blue-400 hover:bg-gray-700'\r\n          : 'text-gray-500 hover:text-blue-600 hover:bg-blue-50'\r\n      }`}\r\n      title=\"Edit achievement\"\r\n    >\r\n      <IoPencil className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n    </button>\r\n    <button \r\n      onClick={() => handleDelete(achievement.id)}\r\n      className={`p-2 rounded-lg transition-all duration-200 transform hover:scale-110 ${\r\n        theme === 'dark'\r\n          ? 'text-gray-400 hover:text-red-400 hover:bg-gray-700'\r\n          : 'text-gray-500 hover:text-red-600 hover:bg-red-50'\r\n      }`}\r\n      title=\"Delete achievement\"\r\n    >\r\n      <IoTrashOutline className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n    </button>\r\n  </div>\r\n)}\r\n                    \r\n                    <div className=\"flex flex-col lg:flex-row items-start space-y-4 lg:space-y-0 lg:space-x-6\">\r\n                      <div className={`p-3 sm:p-4 rounded-lg sm:rounded-xl shadow-md flex-shrink-0 bg-gradient-to-r ${config.color}`}>\r\n                        <IoDocumentText className=\"text-2xl sm:text-3xl text-white\" />\r\n                      </div>\r\n                      \r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"mb-4 sm:mb-6\">\r\n                          <h3 className={`text-lg sm:text-xl md:text-2xl font-bold mb-2 break-words ${\r\n                            theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                          }`}>\r\n                            {achievement.certificationName}\r\n                          </h3>\r\n                          <p className={`text-sm sm:text-base md:text-lg flex items-center break-words ${\r\n                            theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n                          }`}>\r\n                            <IoDocumentText className=\"mr-2 flex-shrink-0\" />\r\n                            {achievement.issuingAuthorityName}\r\n                          </p>\r\n                        </div>\r\n                        \r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 text-xs sm:text-sm md:text-base\">\r\n                          <div className={`p-3 sm:p-4 rounded-lg ${\r\n                            theme === 'dark' ? 'bg-gray-700/50' : 'bg-gray-50'\r\n                          }`}>\r\n                            <div className=\"flex items-center mb-2\">\r\n                              <IoDocumentText className={`mr-2 text-xs ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                              }`} />\r\n                              <span className={`text-xs font-semibold uppercase tracking-wide ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                              }`}>\r\n                                Issued\r\n                              </span>\r\n                            </div>\r\n                            <span className={`font-medium break-words ${\r\n                              theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                            }`}>\r\n                              {achievement.issueMonth} {achievement.issueYear}\r\n                            </span>\r\n                          </div>\r\n                          \r\n                          <div className={`p-3 sm:p-4 rounded-lg ${\r\n                            theme === 'dark' ? 'bg-gray-700/50' : 'bg-gray-50'\r\n                          }`}>\r\n                            <div className=\"flex items-center mb-2\">\r\n                              <IoDocumentText className={`mr-2 text-xs ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                              }`} />\r\n                              <span className={`text-xs font-semibold uppercase tracking-wide ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                              }`}>\r\n                                Expires\r\n                              </span>\r\n                            </div>\r\n                            <span className={`font-medium break-words ${\r\n                              theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                            }`}>\r\n                              {achievement.expirationMonth && achievement.expirationYear \r\n                                ? `${achievement.expirationMonth} ${achievement.expirationYear}` \r\n                                : 'No Expiration'}\r\n                            </span>\r\n                          </div>\r\n                          \r\n                          <div className={`p-3 sm:p-4 rounded-lg sm:col-span-2 lg:col-span-1 ${\r\n                            theme === 'dark' ? 'bg-gray-700/50' : 'bg-gray-50'\r\n                          }`}>\r\n                            <div className=\"flex items-center mb-2\">\r\n                              <IoDocumentText className={`mr-2 text-xs ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                              }`} />\r\n                              <span className={`text-xs font-semibold uppercase tracking-wide ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                              }`}>\r\n                                License No\r\n                              </span>\r\n                            </div>\r\n                            <span className={`font-medium break-words ${\r\n                              theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                            }`}>\r\n                              {achievement.licenseNumber || 'N/A'}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        {(hasCredentialUrl || hasAchievementFile) && (\r\n                          <div className=\"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-200 dark:border-gray-700 flex flex-wrap gap-3\">\r\n                            {hasCredentialUrl && (\r\n                              <a \r\n                                href={achievement.certificationURL} \r\n                                target=\"_blank\" \r\n                                rel=\"noopener noreferrer\" \r\n                                className={`inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold transition-all duration-300 hover:scale-105 text-xs sm:text-sm ${\r\n                                  theme === 'dark'\r\n                                    ? 'text-blue-400 bg-blue-900/20 hover:bg-blue-900/40 border border-blue-700'\r\n                                    : 'text-blue-600 bg-blue-50 hover:bg-blue-100 border border-blue-200'\r\n                                }`}\r\n                              >\r\n                                <span>View Credential</span>\r\n                                <IoEye className=\"ml-2 w-3 h-3 sm:w-4 sm:h-4\" />\r\n                              </a>\r\n                            )}\r\n                            {hasAchievementFile && (\r\n                              <a \r\n                                href={fileUrl} \r\n                                target=\"_blank\" \r\n                                rel=\"noopener noreferrer\" \r\n                                className={`inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold transition-all duration-300 hover:scale-105 text-xs sm:text-sm ${\r\n                                  theme === 'dark'\r\n                                    ? 'text-purple-400 bg-purple-900/20 hover:bg-purple-900/40 border border-purple-700'\r\n                                    : 'text-purple-600 bg-purple-50 hover:bg-purple-100 border border-purple-200'\r\n                                }`}\r\n                              >\r\n                                <span>View File</span>\r\n                                <IoDocumentText className=\"ml-2 w-3 h-3 sm:w-4 sm:h-4\" />\r\n                              </a>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Add/Edit Modal */}\r\n       {isModalOpen && (\r\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] p-2 sm:p-4\">\r\n      <div className={`rounded-2xl sm:rounded-3xl w-full max-w-6xl max-h-[95vh] flex flex-col shadow-2xl animate-slideUp ${\r\n        theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n      }`}>\r\n        {/* Fixed Header */}\r\n        <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ${config.color} text-white flex-shrink-0`}>\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <h2 className=\"text-lg sm:text-xl md:text-2xl font-bold\">\r\n                {isEditMode ? 'Edit Achievement' : 'Add New Achievement'}\r\n              </h2>\r\n              <p className=\"text-xs sm:text-sm opacity-90 mt-1\">\r\n                {isEditMode ? 'Update the achievement details' : 'Fill in the details to add a new achievement'}\r\n              </p>\r\n            </div>\r\n            <button onClick={handleCloseModal} className=\"p-2 hover:bg-white/20 rounded-lg transition-colors\">\r\n              <IoClose className=\"w-5 h-5 sm:w-6 sm:h-6\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Scrollable Form Content */}\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          <form onSubmit={handleSubmit} className=\"p-4 sm:p-6 md:p-8\">\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8\">\r\n              {achievementFormFields.map((field) => (\r\n                <div key={field.name} className={field.name === 'certificationURL' || field.name === 'achievementFile' ? 'lg:col-span-2' : ''}>\r\n                  <InputField\r\n                    {...field}\r\n                    value={formData[field.name] || ''}\r\n                    onChange={handleInputChange}\r\n                    onBlur={() => {}}\r\n                    isError={formErrors[field.name]}\r\n                    theme={theme}\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Uploaded Files Display */}\r\n            {uploadedFiles.length > 0 && (\r\n              <div className=\"mt-4 sm:mt-6\">\r\n                <h4 className={`text-sm font-semibold mb-3 ${\r\n                  theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                }`}>\r\n                  Uploaded Files:\r\n                </h4>\r\n                <div className=\"space-y-2\">\r\n                  {Array.from(uploadedFiles).map((file, index) => (\r\n                    <div key={index} className={`flex items-center justify-between p-2 sm:p-3 rounded-lg border ${\r\n                      theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'\r\n                    }`}>\r\n                      <div className=\"flex items-center space-x-3 min-w-0 flex-1\">\r\n                        <IoDocumentText className={`w-4 h-4 flex-shrink-0 ${\r\n                          theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                        }`} />\r\n                        <span className={`text-xs sm:text-sm truncate ${\r\n                          theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                        }`}>\r\n                          {file.name}\r\n                        </span>\r\n                      </div>\r\n                      <span className={`text-xs flex-shrink-0 ml-2 ${\r\n                        theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                      }`}>\r\n                        {(file.size / 1024 / 1024).toFixed(2)} MB\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </form>\r\n        </div>\r\n\r\n        {/* Fixed Footer */}\r\n        <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex-shrink-0 ${\r\n          theme === 'dark' ? 'border-gray-700 bg-gray-900/50' : 'border-gray-200 bg-gray-50/50'\r\n        } flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4`}>\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleCloseModal}\r\n            className={`px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold transition-all duration-200 focus:ring-4 focus:ring-gray-500/20 text-sm sm:text-base ${\r\n              theme === 'dark'\r\n                ? 'border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500'\r\n                : 'border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400'\r\n            }`}\r\n          >\r\n            Cancel\r\n          </button>\r\n          \r\n          {isEditMode ? (\r\n            <button\r\n              type=\"submit\"\r\n              onClick={handleSubmit}\r\n              className={`px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-purple-600 to-indigo-700 text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-purple-500/30 text-sm sm:text-base`}\r\n            >\r\n              Update Achievement\r\n            </button>\r\n          ) : (\r\n            <button\r\n              type=\"submit\"\r\n              onClick={handleSubmit}\r\n              className={`px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-green-500/30 text-sm sm:text-base`}\r\n            >\r\n              Add Achievement\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )}\r\n\r\n        {/* Success/Error Popup */}\r\n        {popup.show && (\r\n          <Modal\r\n            onClose={() => setPopup({ show: false, message: '', type: '' })}\r\n            title={popup.type === 'success' ? 'Success' : 'Error'}\r\n            type={popup.type}\r\n            theme={theme}\r\n          >\r\n            <p className={`text-sm sm:text-base mb-4 sm:mb-6 ${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n            }`}>\r\n              {popup.message}\r\n            </p>\r\n            <div className=\"flex justify-end\">\r\n              <button\r\n                onClick={() => setPopup({ show: false, message: '', type: '' })}\r\n                className={`px-4 sm:px-6 py-2 sm:py-3 font-semibold rounded-lg transition-colors duration-200 text-sm sm:text-base ${\r\n                  popup.type === 'success' \r\n                    ? 'bg-green-600 hover:bg-green-700 text-white' \r\n                    : 'bg-red-600 hover:bg-red-700 text-white'\r\n                }`}\r\n              >\r\n                OK\r\n              </button>\r\n            </div>\r\n          </Modal>\r\n        )}\r\n\r\n        {/* Delete Confirmation Modal */}\r\n        {deleteConfirmation.show && (\r\n          <Modal\r\n            onClose={() => setDeleteConfirmation({ show: false, achievementId: null })}\r\n            title=\"Delete Achievement\"\r\n            type=\"confirm\"\r\n            theme={theme}\r\n          >\r\n            <p className={`text-sm sm:text-base mb-4 sm:mb-6 ${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n            }`}>\r\n              Are you sure you want to delete this achievement? This action cannot be undone.\r\n            </p>\r\n            <div className=\"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4\">\r\n              <button\r\n                onClick={() => setDeleteConfirmation({ show: false, achievementId: null })}\r\n                className={`px-4 sm:px-6 py-2 sm:py-3 border-2 rounded-lg font-semibold transition-all duration-200 text-sm sm:text-base ${\r\n                  theme === 'dark'\r\n                    ? 'border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500'\r\n                    : 'border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400'\r\n                }`}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={confirmDelete}\r\n                className=\"px-4 sm:px-6 py-2 sm:py-3 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors duration-200 text-sm sm:text-base\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Achivements;\r\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport {\r\n    Routes,\r\n    Route,\r\n    Navigate,\r\n    useLocation,\r\n    useNavigate,\r\n    useParams,\r\n} from \"react-router-dom\";\r\nimport About from \"./tabs/About\";\r\nimport Profile from \"./tabs/Profile\";\r\nimport Job from \"./tabs/Job\";\r\nimport Document from \"./tabs/Document\";\r\nimport Achievements from \"./tabs/Achievements\";\r\nimport { HiIdentification, HiPencil } from \"react-icons/hi\";\r\nimport {\r\n    MdWork,\r\n    MdBusiness,\r\n    MdEmail,\r\n    MdPerson,\r\n    MdChevronLeft,\r\n    MdChevronRight,\r\n    MdStar,\r\n    MdLocationOn,\r\n    MdEdit,\r\n} from \"react-icons/md\";\r\nimport { FaPhone, FaBuilding, FaCamera, FaTrash, FaTimes, FaExpand, FaCompress, FaChevronDown, FaCheckCircle, FaExclamationTriangle } from \"react-icons/fa\";\r\nimport { IoClose, IoDocumentText, IoCheckmarkCircle, IoWarning, IoAdd, IoTrash, IoPencil } from 'react-icons/io5';\r\nimport { publicinfoApi } from \"../../../../axiosInstance\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\n// =================================================================\r\n//  MODIFIED CustomNotification Component for Right Bottom Swipe-Out (1.5s)\r\n// =================================================================\r\nconst CustomNotification = ({ isOpen, onClose, type, title, message, theme }) => {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            // Show the notification instantly\r\n            setIsVisible(true); \r\n            // Set a timer to start closing after 1.5 seconds for auto-closing types\r\n            if (type === 'success' || type === 'error') {\r\n                const timer = setTimeout(() => {\r\n                    handleClose();\r\n                }, 1500); // **1.5 seconds**\r\n                return () => clearTimeout(timer);\r\n            }\r\n            // For 'info' type, it stays open until manually closed\r\n        } else {\r\n            // Reset visibility when isOpen is false\r\n            setIsVisible(false);\r\n        }\r\n    }, [isOpen, type, onClose]);\r\n    // Function to start the closing animation\r\n    const handleClose = () => {\r\n        setIsVisible(false);\r\n        // Wait for CSS transition (300ms) before calling parent's onClose\r\n        setTimeout(() => onClose(), 300); \r\n    };\r\n    if (!isOpen) return null;\r\n    const getIcon = () => {\r\n        switch (type) {\r\n            case 'success': return <FaCheckCircle className=\"w-6 h-6 text-green-500\" />;\r\n            case 'error': return <FaExclamationTriangle className=\"w-6 h-6 text-red-500\" />;\r\n            case 'info': return <IoWarning className=\"w-6 h-6 text-blue-500\" />;\r\n            default: return null;\r\n        }\r\n    };\r\n    const getTitleClass = () => {\r\n        switch (type) {\r\n            case 'success': return 'text-green-600 dark:text-green-400';\r\n            case 'error': return 'text-red-600 dark:text-red-400';\r\n            case 'info': return 'text-blue-600 dark:text-blue-400';\r\n            default: return theme === 'dark' ? 'text-white' : 'text-gray-800';\r\n        }\r\n    };\r\n    return (\r\n        //  POSITION MODIFIED: fixed bottom-4 right-4 for right-bottom position\r\n        //  TRANSITION MODIFIED: Using transform/opacity for swipe effect\r\n        <div className={`fixed bottom-4 right-4 z-[300] transition-all duration-300 ease-in-out\r\n            ${isVisible ? 'opacity-100 translate-x-0' : 'opacity-0 translate-x-full'}`}>\r\n            <div className={`p-4 rounded-xl shadow-2xl w-full max-w-xs sm:max-w-sm m-4 border ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n                <div className=\"flex items-center\">\r\n                    {getIcon()}\r\n                    <div className=\"ml-3 flex-1\">\r\n                        <h3 className={`text-md font-bold ${getTitleClass()}`}>{title}</h3>\r\n                        <p className={`text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{message}</p>\r\n                    </div>\r\n                    {/* Allow manual close for all types, in case user swipes before 1.5s */}\r\n                    <button onClick={handleClose} className=\"ml-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200\">\r\n                        <IoClose size={16} />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Custom Confirmation Modal Component (Unchanged)\r\nconst CustomConfirmModal = ({ isOpen, onClose, onConfirm, title, message, confirmText, isConfirming, theme, type = 'warning' }) => {\r\n    if (!isOpen) return null;\r\n    const getIcon = () => {\r\n        switch (type) {\r\n            case 'danger': return <FaExclamationTriangle className=\"w-6 h-6 text-red-500\" />;\r\n            case 'warning': return <IoWarning className=\"w-6 h-6 text-yellow-500\" />;\r\n            case 'info': return <IoWarning className=\"w-6 h-6 text-blue-500\" />;\r\n            default: return <IoWarning className=\"w-6 h-6 text-yellow-500\" />;\r\n        }\r\n    };\r\n    const getConfirmButtonClass = () => {\r\n        switch (type) {\r\n            case 'danger': return 'bg-red-600 hover:bg-red-700';\r\n            case 'warning': return 'bg-yellow-600 hover:bg-yellow-700';\r\n            case 'info': return 'bg-blue-600 hover:bg-blue-700';\r\n            default: return 'bg-yellow-600 hover:bg-yellow-700';\r\n        }\r\n    };\r\n    return (\r\n        <div className={`fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] transition-opacity duration-300`}>\r\n            <motion.div\r\n                initial={{ scale: 0.95, y: 20 }}\r\n                animate={{ scale: 1, y: 0 }}\r\n                exit={{ scale: 0.95, y: 20 }}\r\n                className={`p-6 rounded-3xl shadow-2xl w-full max-w-md m-4 border ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"flex items-center mb-4\">\r\n                    {getIcon()}\r\n                    <h3 className={`text-xl font-bold ml-3 ${type === 'danger' ? 'text-red-600' : 'text-yellow-600'} dark:text-white`}>{title}</h3>\r\n                    <button onClick={onClose} className=\"ml-auto p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200\">\r\n                        <FaTimes size={20} />\r\n                    </button>\r\n                </div>\r\n                <p className={`mb-6 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{message}</p>\r\n                <div className=\"flex justify-end space-x-3\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className={`px-4 py-2 rounded-lg font-medium transition-colors ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`}\r\n                        disabled={isConfirming}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button\r\n                        onClick={onConfirm}\r\n                        disabled={isConfirming}\r\n                        className={`px-4 py-2 rounded-lg font-medium text-white transition-colors flex items-center ${getConfirmButtonClass()} ${isConfirming ? 'opacity-75 cursor-not-allowed' : ''}`}\r\n                    >\r\n                        {isConfirming ? (\r\n                            <>\r\n                                <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                                Processing...\r\n                            </>\r\n                        ) : (\r\n                            confirmText\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </motion.div>\r\n        </div>\r\n    );\r\n};\r\n// =================================================================\r\n\r\nconst Profiles = () => {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const { empID } = useParams();\r\n    const { userprofiledata, setUserProfileData, theme, userData, matchedArray } = useContext(Context);\r\n    const searchParams = new URLSearchParams(location.search);\r\n    const fromContextMenu = searchParams.get(\"fromContextMenu\") === \"true\";\r\n    const targetEmployeeId = searchParams.get(\"targetEmployeeId\");\r\n    const profileEmployeeId = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n    const isOwnProfile = profileEmployeeId === empID;\r\n    const isAdmin = userData?.roles?.[0]?.toUpperCase() === 'ADMIN';\r\n    const canEditHeader = isOwnProfile || (isAdmin && !isOwnProfile);\r\n    \r\n    const [activeTab, setActiveTab] = useState(location.pathname);\r\n    const [depdata, setDeptdata] = useState([]);\r\n    const [sidebarOpen, setSidebarOpen] = useState(true);\r\n    const [profileImagePreview, setProfileImagePreview] = useState(null);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [employeeData, setEmployeeData] = useState({});\r\n    const [viewedEmployeeData, setViewedEmployeeData] = useState(null);\r\n    const [headerData, setHeaderData] = useState(null);\r\n    const [viewedEmployeeHeaderData, setViewedEmployeeHeaderData] = useState(null);\r\n    const [isEditingHeader, setIsEditingHeader] = useState(false);\r\n    const [editingHeaderData, setEditingHeaderData] = useState({});\r\n    \r\n    //  NEW: Add states for change detection and error handling\r\n    const [initialHeaderData, setInitialHeaderData] = useState({});\r\n    const [formError, setFormError] = useState(null);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    //  NEW: Add mobile validation error state\r\n    const [mobileError, setMobileError] = useState(null);\r\n    \r\n    const [isImageModalOpen, setIsImageModalOpen] = useState(false);\r\n    const [isImageFullView, setIsImageFullView] = useState(false);\r\n    const fileInputRef = useRef(null);\r\n    \r\n    // Department dropdown states\r\n    const [departmentDropdownOpen, setDepartmentDropdownOpen] = useState(false);\r\n    const [departmentPage, setDepartmentPage] = useState(0);\r\n    const [departmentLoading, setDepartmentLoading] = useState(false);\r\n    const [departmentHasMore, setDepartmentHasMore] = useState(true);\r\n    const [allDepartments, setAllDepartments] = useState([]);\r\n    const [selectedDepartmentDisplay, setSelectedDepartmentDisplay] = useState('');\r\n    const [selectedDepartmentValue, setSelectedDepartmentValue] = useState('');\r\n    const departmentDropdownRef = useRef(null);\r\n    \r\n    // --- Custom Notification/Modal States ---\r\n    const [notification, setNotification] = useState({\r\n        isOpen: false,\r\n        type: '',\r\n        title: '',\r\n        message: ''\r\n    });\r\n    const [confirmModal, setConfirmModal] = useState({\r\n        isOpen: false,\r\n        title: '',\r\n        message: '',\r\n        confirmText: '',\r\n        onConfirm: null,\r\n        type: 'warning',\r\n        isConfirming: false\r\n    });\r\n    \r\n    const showNotification = (type, title, message) => {\r\n        setNotification({ isOpen: true, type, title, message });\r\n    };\r\n    const closeNotification = () => {\r\n        setNotification({ isOpen: false, type: '', title: '', message: '' });\r\n    };\r\n    const showConfirmModal = (title, message, confirmText, onConfirm, type = 'warning') => {\r\n        setConfirmModal({\r\n            isOpen: true,\r\n            title,\r\n            message,\r\n            confirmText,\r\n            onConfirm,\r\n            type,\r\n            isConfirming: false\r\n        });\r\n    };\r\n    const closeConfirmModal = () => {\r\n        setConfirmModal({\r\n            isOpen: false,\r\n            title: '',\r\n            message: '',\r\n            confirmText: '',\r\n            onConfirm: null,\r\n            type: 'warning',\r\n            isConfirming: false\r\n        });\r\n    };\r\n    // ----------------------------------------\r\n    \r\n    // Define computed variables AFTER state variables\r\n    const display = !isOwnProfile ? viewedEmployeeData : userprofiledata;\r\n    const displayHeader = !isOwnProfile ? (viewedEmployeeHeaderData || viewedEmployeeData) : (headerData || userprofiledata);\r\n    const initials = (displayHeader?.name || displayHeader?.displayName || display?.displayName || \"  \")\r\n        .split(\" \")\r\n        .map(w => w[0])\r\n        .join(\"\")\r\n        .substring(0, 2);\r\n    \r\n    const tabs = [\r\n        { name: \"About\", path: \"about\", icon: MdPerson },\r\n        { name: \"Profile\", path: \"profile\", icon: HiIdentification },\r\n        { name: \"Job\", path: \"job\", icon: MdWork },\r\n        { name: \"Documents\", path: \"documents\", icon: MdBusiness },\r\n        { name: \"Achievements\", path: \"achievements\", icon: MdStar },\r\n    ];\r\n\r\n    //  NEW: Mobile number validation function\r\n    const validateMobileNumber = (number) => {\r\n        // Remove all non-digit characters for validation\r\n        const cleanNumber = number.replace(/\\D/g, '');\r\n        \r\n        if (cleanNumber.length === 11) {\r\n            return {\r\n                isValid: false,\r\n                error: \"Mobile number cannot be 11 digits. Please enter a 10-digit mobile number.\"\r\n            };\r\n        }\r\n        \r\n        if (cleanNumber.length > 0 && cleanNumber.length < 10) {\r\n            return {\r\n                isValid: false,\r\n                error: \"Mobile number must be at least 10 digits.\"\r\n            };\r\n        }\r\n        \r\n        if (cleanNumber.length > 12) {\r\n            return {\r\n                isValid: false,\r\n                error: \"Mobile number cannot exceed 12 digits.\"\r\n            };\r\n        }\r\n        \r\n        return {\r\n            isValid: true,\r\n            error: null\r\n        };\r\n    };\r\n\r\n    //  NEW: Function to check if form has changes\r\n    const hasFormChanges = () => {\r\n        const currentData = {\r\n            ...editingHeaderData,\r\n            department: selectedDepartmentValue || editingHeaderData.department\r\n        };\r\n        \r\n        return Object.keys(currentData).some(key => \r\n            currentData[key] !== initialHeaderData[key]\r\n        );\r\n    };\r\n\r\n    // Load initial departments\r\n    useEffect(() => {\r\n        fetchDepartments(0, true);\r\n    }, []);\r\n\r\n    const fetchDepartments = async (page = 0, reset = false) => {\r\n        if (departmentLoading) return;\r\n        setDepartmentLoading(true);\r\n        try {\r\n            const response = await publicinfoApi.get(`employee/${page}/10/departmentId/asc/all/departments`);\r\n            console.log(\"Department Response:\", response.data);\r\n            if (reset) {\r\n                setAllDepartments(response.data.content);\r\n            } else {\r\n                setAllDepartments(prev => [...prev, ...response.data.content]);\r\n            }\r\n            setDepartmentHasMore(response.data.length === 10);\r\n            setDepartmentPage(page);\r\n        } catch (error) {\r\n            console.log(\"Error fetching departments:\", error);\r\n            setDepartmentHasMore(false);\r\n        } finally {\r\n            setDepartmentLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDepartmentScroll = (e) => {\r\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n        if (scrollHeight - scrollTop <= clientHeight + 5 && departmentHasMore && !departmentLoading) {\r\n            fetchDepartments(departmentPage + 1, false);\r\n        }\r\n    };\r\n\r\n    const handleDepartmentSelect = (department) => {\r\n        setSelectedDepartmentDisplay(`${department.departmentId}(${department.departmentName})`);\r\n        setSelectedDepartmentValue(department.departmentName);\r\n        setEditingHeaderData(prev => ({\r\n            ...prev,\r\n            department: department.departmentName\r\n        }));\r\n        setDepartmentDropdownOpen(false);\r\n    };\r\n\r\n    // Initialize department values when editing starts\r\n    useEffect(() => {\r\n        if (isEditingHeader && displayHeader?.department) {\r\n            setSelectedDepartmentValue(displayHeader.department);\r\n            const matchingDept = allDepartments.find(dept =>\r\n                dept.departmentName === displayHeader.department ||\r\n                displayHeader.department.includes(dept.departmentName)\r\n            );\r\n            if (matchingDept) {\r\n                setSelectedDepartmentDisplay(`${matchingDept.departmentId}(${matchingDept.departmentName})`);\r\n            } else {\r\n                setSelectedDepartmentDisplay(displayHeader.department);\r\n            }\r\n        }\r\n    }, [isEditingHeader, displayHeader?.department, allDepartments]);\r\n\r\n    // Close dropdown when clicking outside\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            if (departmentDropdownRef.current && !departmentDropdownRef.current.contains(event.target)) {\r\n                setDepartmentDropdownOpen(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener('mousedown', handleClickOutside);\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!profileEmployeeId) return;\r\n        const fetchEmployeeDetails = async () => {\r\n            try {\r\n                const response = await publicinfoApi.get(`employee/${profileEmployeeId}`);\r\n                const headerResponse = await publicinfoApi.get(`employee/${profileEmployeeId}/header`);\r\n                if (fromContextMenu && targetEmployeeId && targetEmployeeId !== empID) {\r\n                    setViewedEmployeeData(response.data);\r\n                    setViewedEmployeeHeaderData(headerResponse.data);\r\n                } else {\r\n                    setUserProfileData(response.data);\r\n                    setEmployeeData(response.data);\r\n                    setHeaderData(headerResponse.data);\r\n                }\r\n            } catch (err) {\r\n                console.error(\" Error fetching details:\", err);\r\n                try {\r\n                    const response = await publicinfoApi.get(`employee/${profileEmployeeId}`);\r\n                    if (fromContextMenu && targetEmployeeId && targetEmployeeId !== empID) {\r\n                        setViewedEmployeeData(response.data);\r\n                    } else {\r\n                        setUserProfileData(response.data);\r\n                        setEmployeeData(response.data);\r\n                    }\r\n                } catch (mainErr) {\r\n                    console.error(\" Error fetching main employee details:\", mainErr);\r\n                }\r\n            }\r\n        };\r\n        fetchEmployeeDetails();\r\n    }, [profileEmployeeId, setUserProfileData, fromContextMenu, targetEmployeeId, empID]);\r\n\r\n    useEffect(() => {\r\n        setActiveTab(location.pathname);\r\n    }, [location.pathname]);\r\n\r\n    const handleImageUpload = async e => {\r\n        const file = e.target.files[0];\r\n        if (!file) return;\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => setProfileImagePreview(reader.result);\r\n        reader.readAsDataURL(file);\r\n        const formData = new FormData();\r\n        formData.append(\"employeeImage\", file);\r\n        try {\r\n            const res = await publicinfoApi.post(\r\n                `employee/${profileEmployeeId}/upload`,\r\n                formData,\r\n                { headers: { \"Content-Type\": \"multipart/form-data\" } }\r\n            );\r\n            if (!isOwnProfile) {\r\n                setViewedEmployeeHeaderData(prev => ({ ...prev, employeeImage: res.data.employeeImage }));\r\n            } else {\r\n                setHeaderData(prev => ({ ...prev, employeeImage: res.data.employeeImage }));\r\n            }\r\n            showNotification('success', 'Success', 'Profile picture updated successfully!');\r\n            setIsImageModalOpen(false);\r\n            setIsImageFullView(false);\r\n        } catch (err) {\r\n            console.error(\"Error uploading image:\", err);\r\n            showNotification('error', 'Error', 'Failed to upload image. Please try again.');\r\n            setProfileImagePreview(null);\r\n        }\r\n    };\r\n\r\n    const handleDeleteImage = () => {\r\n        showConfirmModal(\r\n            'Confirm Delete',\r\n            'Are you sure you want to delete the profile picture? This action cannot be undone.',\r\n            'Delete',\r\n            async () => {\r\n                setConfirmModal(prev => ({ ...prev, isConfirming: true }));\r\n                try {\r\n                    await publicinfoApi.delete(`employee/${profileEmployeeId}/deleteImage`);\r\n                    if (!isOwnProfile) {\r\n                        setViewedEmployeeHeaderData(prev => ({ ...prev, employeeImage: null }));\r\n                    } else {\r\n                        setHeaderData(prev => ({ ...prev, employeeImage: null }));\r\n                    }\r\n                    setProfileImagePreview(null);\r\n                    closeConfirmModal();\r\n                    showNotification('success', 'Success', 'Profile picture deleted successfully!');\r\n                    setIsImageModalOpen(false);\r\n                    setIsImageFullView(false);\r\n                } catch (err) {\r\n                    console.error(\"Error deleting image:\", err);\r\n                    closeConfirmModal();\r\n                    showNotification('error', 'Error', 'Failed to delete image. Please try again.');\r\n                }\r\n            },\r\n            'danger'\r\n        );\r\n    };\r\n\r\n    const handleEditClick = () => {\r\n        setEmployeeData(display);\r\n        setIsEditing(true);\r\n    };\r\n\r\n    const handleSave = e => {\r\n        e.preventDefault();\r\n        // Assuming this will eventually call an API and show a notification\r\n        setIsEditing(false);\r\n    };\r\n\r\n    const handleInputChange = e => {\r\n        setEmployeeData(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n    };\r\n\r\n    //  MODIFIED: handleHeaderEditClick to store initial data for comparison\r\n    const handleHeaderEditClick = () => {\r\n        if (!canEditHeader) return;\r\n        const currentData = displayHeader || {};\r\n        setEditingHeaderData(currentData);\r\n        setInitialHeaderData(currentData); // Store initial state for comparison\r\n        setFormError(null); // Clear any previous errors\r\n        setMobileError(null); // Clear mobile validation error\r\n        setIsEditingHeader(true);\r\n    };\r\n\r\n    //  MODIFIED: handleHeaderSave with change detection and error handling\r\n    const handleHeaderSave = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        // Clear any previous errors\r\n        setFormError(null);\r\n        setMobileError(null);\r\n        \r\n        //  NEW: Validate mobile number first\r\n        if (editingHeaderData.contact) {\r\n            const mobileValidation = validateMobileNumber(editingHeaderData.contact);\r\n            if (!mobileValidation.isValid) {\r\n                setMobileError(mobileValidation.error);\r\n                return;\r\n            }\r\n        }\r\n        \r\n        // Check if there are any changes\r\n        if (!hasFormChanges()) {\r\n            showConfirmModal(\r\n                'No Changes Detected',\r\n                'You haven\\'t made any changes to the form. Please make some changes before submitting.',\r\n                'OK',\r\n                () => {\r\n                    closeConfirmModal();\r\n                },\r\n                'info'\r\n            );\r\n            return;\r\n        }\r\n\r\n        setIsSubmitting(true);\r\n        \r\n        try {\r\n            const payload = {\r\n                ...editingHeaderData,\r\n                department: selectedDepartmentValue || editingHeaderData.department\r\n            };\r\n            console.log(\"Sending payload:\", payload);\r\n            const res = await publicinfoApi.put(`employee/${profileEmployeeId}/header`, payload);\r\n            \r\n            //  PRESERVE existing employeeImage when updating\r\n            if (!isOwnProfile) {\r\n                setViewedEmployeeHeaderData(prev => ({\r\n                    ...res.data,\r\n                    employeeImage: prev?.employeeImage || res.data.employeeImage\r\n                }));\r\n            } else {\r\n                setHeaderData(prev => ({\r\n                    ...res.data,\r\n                    employeeImage: prev?.employeeImage || res.data.employeeImage\r\n                }));\r\n            }\r\n            \r\n            setIsEditingHeader(false);\r\n            setSelectedDepartmentDisplay('');\r\n            setSelectedDepartmentValue('');\r\n            setFormError(null);\r\n            setMobileError(null);\r\n            showNotification('success', 'Success', 'Header information updated successfully!');\r\n            \r\n        } catch (err) {\r\n            console.error(\" Error updating header:\", err);\r\n            \r\n            // Handle different types of API errors\r\n            let errorMessage = 'Failed to update header information. Please try again.';\r\n            \r\n            if (err.response?.data?.message) {\r\n                errorMessage = err.response.data.message;\r\n            } else if (err.response?.data?.error) {\r\n                errorMessage = err.response.data.error;\r\n            } else if (err.response?.status === 400) {\r\n                errorMessage = 'Invalid data provided. Please check all fields and try again.';\r\n            } else if (err.response?.status === 401) {\r\n                errorMessage = 'You are not authorized to perform this action.';\r\n            } else if (err.response?.status === 403) {\r\n                errorMessage = 'Access denied. You don\\'t have permission to edit this information.';\r\n            } else if (err.response?.status === 404) {\r\n                errorMessage = 'Employee not found. Please refresh the page and try again.';\r\n            } else if (err.response?.status >= 500) {\r\n                errorMessage = 'Server error occurred. Please try again later.';\r\n            }\r\n            \r\n            // Set the error to display below the form\r\n            setFormError(errorMessage);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    //  MODIFIED: handleHeaderInputChange with mobile validation\r\n    const handleHeaderInputChange = e => {\r\n        const { name, value } = e.target;\r\n        \r\n        //  NEW: Special handling for contact field\r\n        if (name === 'contact') {\r\n            // Clear mobile error when user starts typing\r\n            setMobileError(null);\r\n            \r\n            // Validate on every change for immediate feedback\r\n            if (value.length > 0) {\r\n                const validation = validateMobileNumber(value);\r\n                if (!validation.isValid) {\r\n                    setMobileError(validation.error);\r\n                }\r\n            }\r\n        }\r\n        \r\n        setEditingHeaderData(prev => ({ ...prev, [name]: value }));\r\n        \r\n        // Clear form error when user starts typing\r\n        if (formError) {\r\n            setFormError(null);\r\n        }\r\n    };\r\n\r\n    const handleTabClick = path => {\r\n        const base = `/profile/${empID}/${path}`;\r\n        navigate(fromContextMenu && targetEmployeeId ? `${base}?fromContextMenu=true&targetEmployeeId=${targetEmployeeId}` : base);\r\n    };\r\n\r\n    const handleImageFullView = () => {\r\n        setIsImageFullView(true);\r\n    };\r\n\r\n    const handleCloseFullView = () => {\r\n        setIsImageFullView(false);\r\n    };\r\n\r\n    const handleModalClose = () => {\r\n        setIsImageModalOpen(false);\r\n        setIsImageFullView(false);\r\n    };\r\n\r\n    // Add new address function\r\n    const handleAddAddress = () => {\r\n        // Implementation for adding new address\r\n        showNotification('info', 'Info', 'Add address functionality would be implemented here');\r\n    };\r\n\r\n    // Delete address function\r\n    const handleDeleteAddress = (addressId) => {\r\n        showConfirmModal(\r\n            'Confirm Delete',\r\n            'Are you sure you want to delete this address?',\r\n            'Delete',\r\n            () => {\r\n                // Implementation for deleting address\r\n                showNotification('success', 'Success', 'Address deleted successfully!');\r\n            },\r\n            'danger'\r\n        );\r\n    };\r\n\r\n    // Add new job function\r\n    const handleAddJob = () => {\r\n        // Implementation for adding new job\r\n        showNotification('info', 'Info', 'Add job functionality would be implemented here');\r\n    };\r\n\r\n    // Delete job function\r\n    const handleDeleteJob = (jobId) => {\r\n        showConfirmModal(\r\n            'Confirm Delete',\r\n            'Are you sure you want to delete this job record?',\r\n            'Delete',\r\n            () => {\r\n                // Implementation for deleting job\r\n                showNotification('success', 'Success', 'Job record deleted successfully!');\r\n            },\r\n            'danger'\r\n        );\r\n    };\r\n\r\n    // Add new document function\r\n    const handleAddDocument = () => {\r\n        // Implementation for adding new document\r\n        showNotification('info', 'Info', 'Add document functionality would be implemented here');\r\n    };\r\n\r\n    // Delete document function\r\n    const handleDeleteDocument = (documentId) => {\r\n        showConfirmModal(\r\n            'Confirm Delete',\r\n            'Are you sure you want to delete this document?',\r\n            'Delete',\r\n            () => {\r\n                // Implementation for deleting document\r\n                showNotification('success', 'Success', 'Document deleted successfully!');\r\n            },\r\n            'danger'\r\n        );\r\n    };\r\n\r\n    // Add new achievement function\r\n    const handleAddAchievement = () => {\r\n        // Implementation for adding new achievement\r\n        showNotification('info', 'Info', 'Add achievement functionality would be implemented here');\r\n    };\r\n\r\n    // Delete achievement function\r\n    const handleDeleteAchievement = (achievementId) => {\r\n        showConfirmModal(\r\n            'Confirm Delete',\r\n            'Are you sure you want to delete this achievement?',\r\n            'Delete',\r\n            () => {\r\n                // Implementation for deleting achievement\r\n                showNotification('success', 'Success', 'Achievement deleted successfully!');\r\n            },\r\n            'danger'\r\n        );\r\n    };\r\n\r\n    const renderMobile = () => (\r\n        <div className=\"md:hidden\">\r\n            <div className={`relative p-4 w-full max-w-md mx-auto rounded-xl ${theme === 'dark' ? 'bg-gray-800' : 'bg-[#B7D4FF]'}`}>\r\n                {matchedArray.includes(\"UPDATE_HEADER\") && (\r\n                    <button\r\n                        onClick={handleHeaderEditClick}\r\n                        className={`absolute top-2 right-2 p-2 rounded-full transition-colors ${theme === 'dark' ? 'text-gray-300 hover:text-white hover:bg-gray-700' : 'text-gray-600 hover:text-black hover:bg-gray-200'}`}\r\n                        title=\"Edit Header\"\r\n                    >\r\n                        <MdEdit className=\"w-4 h-4\" />\r\n                    </button>\r\n                )}\r\n                {/* Name on top */}\r\n                <div className={`font-bold text-lg text-center mb-2 mx-auto ${theme === 'dark' ? 'text-white' : 'text-black'}`}>\r\n                    {displayHeader?.name || display?.displayName}\r\n                </div>\r\n                {/* Table-like layout: 3 columns without borders */}\r\n                <div className={`grid grid-cols-3 gap-x-2 text-xs ${theme === 'dark' ? 'text-white' : 'text-black'}`}>\r\n                    {/* Column 1: Profile Picture - LEFT aligned */}\r\n                    <div className=\"flex justify-start items-center\" style={{ transform: 'translateY(-18px)' }}>\r\n                        <div onClick={() => setIsImageModalOpen(true)} className=\"cursor-pointer\">\r\n                            {displayHeader?.employeeImage || profileImagePreview ? (\r\n                                <img\r\n                                    src={profileImagePreview || displayHeader.employeeImage}\r\n                                    alt=\"Profile\"\r\n                                    className=\"w-16 h-16 rounded-full border border-white shadow object-cover\"\r\n                                />\r\n                            ) : (\r\n                                <div className=\"w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold text-base\">\r\n                                    {initials}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    {/* Column 2: First 3 Details - More LEFT with spacing */}\r\n                    <div className=\"space-y-3 -ml-2\">\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <HiIdentification className=\"flex-shrink-0\" />\r\n                            <span className=\"truncate\">{displayHeader?.employeeId}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <MdWork className=\"flex-shrink-0\" />\r\n                            <span className=\"truncate\">{displayHeader?.jobTitlePrimary}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-2\">\r\n                            <MdEmail className=\"flex-shrink-0\" />\r\n                            <span className=\"truncate\">{displayHeader?.workEmail}</span>\r\n                        </div>\r\n                    </div>\r\n                    {/* Column 3: Next 3 Details - More gap from column 2 */}\r\n                    <div className=\"space-y-3 pl-2\">\r\n                        {displayHeader?.department && (\r\n                            <div className=\"flex items-center space-x-2\">\r\n                                <MdBusiness className=\"flex-shrink-0\" />\r\n                                <span className=\"truncate\">{displayHeader.department}</span>\r\n                            </div>\r\n                        )}\r\n                        {displayHeader?.contact && (\r\n                            <div className=\"flex items-center space-x-2\">\r\n                                <FaPhone className=\"flex-shrink-0\" />\r\n                                <span className=\"truncate\">{displayHeader.contact}</span>\r\n                            </div>\r\n                        )}\r\n                        {displayHeader?.location && (\r\n                            <div className=\"flex items-center space-x-2\">\r\n                                <MdLocationOn className=\"flex-shrink-0\" />\r\n                                <span className=\"truncate\">{displayHeader.location}</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/* FIXED MOBILE NAVBAR - Perfect Equal Spacing */}\r\n            <div className={`sticky top-0 z-[1] flex w-full max-w-md mx-auto border-t ${theme === 'dark' ? 'border-gray-700 bg-gray-800' : 'border-black bg-[#B7D4FF]'}`}>\r\n                {tabs.map(tab => {\r\n                    const active = location.pathname.endsWith(tab.path);\r\n                    return (\r\n                        <button\r\n                            key={tab.name}\r\n                            onClick={() => handleTabClick(tab.path)}\r\n                            className={`flex-1 py-2 px-1 text-xs text-center rounded transition-all duration-200 ${\r\n                                active\r\n                                    ? `${theme === 'dark' ? 'text-white border-b-2 border-white' : 'text-black border-b-2 border-black'} font-semibold`\r\n                                    : `${theme === 'dark' ? 'text-gray-400 hover:text-gray-200' : 'text-black opacity-50 hover:opacity-75'}`\r\n                                }`}\r\n                        >\r\n                            {tab.name}\r\n                        </button>\r\n                    );\r\n                })}\r\n            </div>\r\n            <div className=\"max-w-md mx-auto p-3\">\r\n                <Routes>\r\n                    <Route index element={<Navigate to=\"profile\" replace />} />\r\n                    <Route path=\"about\" element={<About />} />\r\n                    <Route path=\"profile\" element={<Profile />} />\r\n                    <Route path=\"job\" element={<Job />} />\r\n                    <Route path=\"documents\" element={<Document />} />\r\n                    <Route path=\"achievements\" element={<Achievements />} />\r\n                </Routes>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className={`min-h-screen flex flex-col ${theme === \"dark\" ? \"bg-gray-900\" : \"bg-gray-50\"}`}>\r\n            <div className={`hidden md:block h-auto md:h-48 relative ${theme === \"dark\" ? \"bg-gray-800\" : \"bg-[#B7D4FF]\"}`}>\r\n                {matchedArray.includes(\"UPDATE_HEADER\") && (\r\n                    <div className=\"absolute top-4 right-8\">\r\n                        <button\r\n                            onClick={handleHeaderEditClick}\r\n                            className={`p-2 rounded-full transition-colors ${theme === 'dark' ? 'text-gray-300 hover:text-white hover:bg-gray-700' : 'text-gray-600 hover:text-black hover:bg-gray-200'}`}\r\n                            title=\"Edit Header Information\"\r\n                        >\r\n                            <MdEdit className=\"w-5 h-5\" />\r\n                        </button>\r\n                    </div>\r\n                )}\r\n                <div className=\"flex items-start pt-4 px-8\">\r\n                    <div className=\"relative group cursor-pointer\" onClick={() => canEditHeader && setIsImageModalOpen(true)}>\r\n                        {displayHeader?.employeeImage || profileImagePreview ? (\r\n                            <img\r\n                                src={profileImagePreview || displayHeader.employeeImage}\r\n                                alt=\"Profile\"\r\n                                className=\"w-24 h-24 md:w-32 md:h-32 rounded-full border border-white shadow object-cover\"\r\n                            />\r\n                        ) : (\r\n                            <div className=\"w-24 h-24 md:w-32 md:h-32 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold text-5xl md:text-6xl\">\r\n                                {initials}\r\n                            </div>\r\n                        )}\r\n                        {canEditHeader && (\r\n                            <div className=\"absolute inset-0 rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 flex items-center justify-center\">\r\n                                <FaCamera className=\"text-white text-3xl\" />\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className={`ml-8 ${theme === 'dark' ? 'text-white' : 'text-black'}`}>\r\n                        <h1 className=\"text-3xl font-bold\">{displayHeader?.name || display?.displayName}</h1>\r\n                        <div className={`grid grid-cols-1 sm:grid-cols-2 gap-x-10 gap-y-2 mt-2 ${theme === 'dark' ? 'text-white' : 'text-black'}`}>\r\n                            <div className=\"flex items-center space-x-2\"><HiIdentification /> <span>{displayHeader?.employeeId}</span></div>\r\n                            <div className=\"flex items-center space-x-2\"><MdWork /> <span>{displayHeader?.jobTitlePrimary}</span></div>\r\n                            <div className=\"flex items-center space-x-2\"><MdEmail /> <span>{displayHeader?.workEmail}</span></div>\r\n                            {displayHeader?.department && (\r\n                                <div className=\"flex items-center space-x-2\"><MdBusiness /> <span>{displayHeader.department}</span></div>\r\n                            )}\r\n                            {displayHeader?.contact && (\r\n                                <div className=\"flex items-center space-x-2\"><FaPhone /> <span>{displayHeader.contact}</span></div>\r\n                            )}\r\n                            {displayHeader?.location && (\r\n                                <div className=\"flex items-center space-x-2\"><MdLocationOn /> <span>{displayHeader.location}</span></div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {renderMobile()}\r\n            <div className=\"hidden md:flex flex-1\">\r\n                <main className={`flex-1 p-6 ${theme === \"dark\" ? \"bg-gray-900\" : \"bg-gray-50\"}`}>\r\n                    <Routes>\r\n                        <Route index element={<Navigate to=\"profile\" replace />} />\r\n                        <Route path=\"about\" element={\r\n                            <div className=\"relative\">\r\n                                {matchedArray.includes(\"CREATE_ADDRESS\") && (\r\n                                    <button\r\n                                        onClick={handleAddAddress}\r\n                                        className=\"absolute top-0 right-10 p-2 rounded-full transition-colors\"\r\n                                        title=\"Add Address\"\r\n                                    >\r\n                                        <IoAdd className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                {matchedArray.includes(\"DELETE_ADDRESS\") && (\r\n                                    <button\r\n                                        onClick={() => handleDeleteAddress(1)}\r\n                                        className=\"absolute top-0 right-0 p-2 rounded-full transition-colors\"\r\n                                        title=\"Delete Address\"\r\n                                    >\r\n                                        <IoTrash className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                <About />\r\n                            </div>\r\n                        } />\r\n                        <Route path=\"profile\" element={\r\n                            <div className=\"relative\">\r\n                                {matchedArray.includes(\"CREATE_PROFILE\") && (\r\n                                    <button\r\n                                        onClick={handleEditClick}\r\n                                        className=\"absolute top-0 right-0 p-2 rounded-full transition-colors\"\r\n                                        title=\"Edit Profile\"\r\n                                    >\r\n                                        <IoPencil className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                <Profile />\r\n                            </div>\r\n                        } />\r\n                        <Route path=\"job\" element={\r\n                            <div className=\"relative\">\r\n                                {matchedArray.includes(\"CREATE_JOB\") && (\r\n                                    <button\r\n                                        onClick={handleAddJob}\r\n                                        className=\"absolute top-0 right-10 p-2 rounded-full transition-colors\"\r\n                                        title=\"Add Job\"\r\n                                    >\r\n                                        <IoAdd className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                {matchedArray.includes(\"DELETE_JOB\") && (\r\n                                    <button\r\n                                        onClick={() => handleDeleteJob(1)}\r\n                                        className=\"absolute top-0 right-0 p-2 rounded-full transition-colors\"\r\n                                        title=\"Delete Job\"\r\n                                    >\r\n                                        <IoTrash className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                <Job />\r\n                            </div>\r\n                        } />\r\n                        <Route path=\"documents\" element={\r\n                            <div className=\"relative\">\r\n                                {matchedArray.includes(\"CREATE_DOCUMENT\") && (\r\n                                    <button\r\n                                        onClick={handleAddDocument}\r\n                                        className=\"absolute top-0 right-10 p-2 rounded-full transition-colors\"\r\n                                        title=\"Add Document\"\r\n                                    >\r\n                                        <IoAdd className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                {matchedArray.includes(\"DELETE_DOCUMENT\") && (\r\n                                    <button\r\n                                        onClick={() => handleDeleteDocument(1)}\r\n                                        className=\"absolute top-0 right-0 p-2 rounded-full transition-colors\"\r\n                                        title=\"Delete Document\"\r\n                                    >\r\n                                        <IoTrash className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                <Document />\r\n                            </div>\r\n                        } />\r\n                        <Route path=\"achievements\" element={\r\n                            <div className=\"relative\">\r\n                                {matchedArray.includes(\"CREATE_ACHIEVEMENT\") && (\r\n                                    <button\r\n                                        onClick={handleAddAchievement}\r\n                                        className=\"absolute top-0 right-10 p-2 rounded-full transition-colors\"\r\n                                        title=\"Add Achievement\"\r\n                                    >\r\n                                        <IoAdd className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                {matchedArray.includes(\"DELETE_ACHIEVEMENT\") && (\r\n                                    <button\r\n                                        onClick={() => handleDeleteAchievement(1)}\r\n                                        className=\"absolute top-0 right-0 p-2 rounded-full transition-colors\"\r\n                                        title=\"Delete Achievement\"\r\n                                    >\r\n                                        <IoTrash className=\"w-5 h-5\" />\r\n                                    </button>\r\n                                )}\r\n                                <Achievements />\r\n                            </div>\r\n                        } />\r\n                    </Routes>\r\n                </main>\r\n                <div className={`transition-all ${sidebarOpen ? \"w-64\" : \"w-20\"} border-l ${theme === \"dark\" ? \"bg-gray-900 border-gray-700\" : \"bg-gray-50 border-gray-200\"}`}>\r\n                    <button\r\n                        onClick={() => setSidebarOpen(!sidebarOpen)}\r\n                        className={`absolute -left-3 top-4 rounded-full border p-1 shadow z-10 ${theme === \"dark\" ? \"bg-gray-800 border-gray-600 hover:bg-gray-700 text-white\" : \"bg-white border-gray-300 hover:bg-gray-100 text-gray-600\"}`}\r\n                    >\r\n                        {sidebarOpen ? <MdChevronRight /> : <MdChevronLeft />}\r\n                    </button>\r\n                    <nav className=\"p-4 sticky top-0\">\r\n                        {tabs.map(tab => {\r\n                            const active = location.pathname.endsWith(tab.path);\r\n                            return (\r\n                                <div key={tab.path} onClick={() => handleTabClick(tab.path)} className={`flex items-center gap-3 px-4 py-3 rounded-lg cursor-pointer ${active ? (theme === \"dark\" ? \"bg-blue-600 text-white\" : \"bg-black text-white\") : (theme === \"dark\" ? \"text-gray-300 hover:bg-gray-800\" : \"text-gray-700 hover:bg-gray-100\")}`}>\r\n                                    <tab.icon className={`w-5 h-5 ${active ? \"text-white\" : (theme === \"dark\" ? \"text-gray-400\" : \"text-gray-500\")}`} />\r\n                                    {sidebarOpen && <span>{tab.name}</span>}\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n            {/* All existing modals and editing forms remain exactly the same... */}\r\n            {isEditingHeader && (\r\n              <motion.div\r\n    initial={{ opacity: 0 }}\r\n    animate={{ opacity: 1 }}\r\n    exit={{ opacity: 0 }}\r\n    className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4\"\r\n>\r\n    <motion.div\r\n        initial={{ scale: 0.95, y: 20 }}\r\n        animate={{ scale: 1, y: 0 }}\r\n        exit={{ scale: 0.95, y: 20 }}\r\n        className={`w-full max-w-6xl mx-auto rounded-2xl shadow-2xl border-0 overflow-hidden flex flex-col ${\r\n            theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n        }`}\r\n    >\r\n        {/* Fixed Header */}\r\n        <div className=\"relative bg-gradient-to-r from-blue-600 to-blue-700 p-6 sm:p-8 flex-shrink-0\">\r\n            <div className=\"flex items-center space-x-4\">\r\n                <div className=\"flex-shrink-0\">\r\n                    <IoDocumentText className=\"h-8 w-8 text-white\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                    <h3 className=\"text-2xl sm:text-3xl font-bold text-white\">\r\n                        Edit Header Information\r\n                    </h3>\r\n                    <p className=\"mt-1 text-blue-100 text-sm sm:text-base\">\r\n                        Update employee header details and contact information\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <button\r\n                onClick={() => {\r\n                    setIsEditingHeader(false);\r\n                    setFormError(null);\r\n                    setMobileError(null);\r\n                    setSelectedDepartmentDisplay('');\r\n                    setSelectedDepartmentValue('');\r\n                }}\r\n                className=\"absolute top-4 right-4 sm:top-6 sm:right-6 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-all duration-200 text-white\"\r\n            >\r\n                <IoClose className=\"h-5 w-5 sm:h-6 sm:h-6\" />\r\n            </button>\r\n        </div>\r\n        \r\n        {/* Scrollable Form Content */}\r\n        <div className=\"flex-1 overflow-y-auto max-h-[60vh]\">\r\n            <div className=\"p-6 sm:p-8\">\r\n                <form onSubmit={handleHeaderSave} className=\"space-y-6\">\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                        <div className=\"group\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Employee ID\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"employeeId\"\r\n                                    value={editingHeaderData.employeeId || ''}\r\n                                    onChange={handleHeaderInputChange}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-blue-300 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                    placeholder=\"Enter employee ID\"\r\n                                />\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Unique identifier for the employee\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Full Name\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"name\"\r\n                                    value={editingHeaderData.name || ''}\r\n                                    onChange={handleHeaderInputChange}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-blue-300 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                    placeholder=\"Enter full name\"\r\n                                />\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Complete name of the employee\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Job Title\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"jobTitlePrimary\"\r\n                                    value={editingHeaderData.jobTitlePrimary || ''}\r\n                                    onChange={handleHeaderInputChange}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-green-300 focus:border-green-500 focus:ring-4 focus:ring-green-100 ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                    placeholder=\"Enter job title\"\r\n                                />\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Primary role or position title\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Department\r\n                            </label>\r\n                            <div className=\"relative\" ref={departmentDropdownRef}>\r\n                                <div\r\n                                    onClick={() => setDepartmentDropdownOpen(!departmentDropdownOpen)}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 cursor-pointer flex justify-between items-center group-hover:border-purple-300 focus:border-purple-500 ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900'\r\n                                    }`}\r\n                                >\r\n                                    <span className={selectedDepartmentDisplay || editingHeaderData.department ? '' : (theme === 'dark' ? 'text-gray-400' : 'text-gray-500')}>\r\n                                        {selectedDepartmentDisplay || editingHeaderData.department || 'Select department'}\r\n                                    </span>\r\n                                    <FaChevronDown className={`transition-transform duration-200 ${departmentDropdownOpen ? 'rotate-180' : ''}`} />\r\n                                </div>\r\n                                {departmentDropdownOpen && (\r\n                                    <div className={`absolute z-50 w-full mt-2 max-h-60 overflow-y-auto rounded-xl border-2 shadow-lg ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600'\r\n                                            : 'bg-white border-gray-300'\r\n                                    }`}\r\n                                        onScroll={handleDepartmentScroll}\r\n                                    >\r\n                                        {allDepartments.map((department) => (\r\n                                            <div\r\n                                                key={department.departmentId}\r\n                                                onClick={() => handleDepartmentSelect(department)}\r\n                                                className={`px-4 py-3 cursor-pointer border-b hover:bg-opacity-80 transition-colors ${\r\n                                                    theme === 'dark'\r\n                                                        ? 'text-white hover:bg-gray-600 border-gray-600'\r\n                                                        : 'text-gray-900 hover:bg-gray-100 border-gray-200'\r\n                                                } ${department === allDepartments[allDepartments.length - 1] ? 'border-b-0' : ''}`}\r\n                                            >\r\n                                                {department.departmentId}({department.departmentName})\r\n                                            </div>\r\n                                        ))}\r\n                                        {departmentLoading && (\r\n                                            <div className={`px-4 py-3 text-center ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                                Loading more departments...\r\n                                            </div>\r\n                                        )}\r\n                                        {!departmentHasMore && allDepartments.length > 0 && (\r\n                                            <div className={`px-4 py-3 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                                No more departments\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Department or division name (Only department name will be saved)\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Work Email\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"email\"\r\n                                    name=\"workEmail\"\r\n                                    value={editingHeaderData.workEmail || ''}\r\n                                    onChange={handleHeaderInputChange}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-orange-300 focus:border-orange-500 focus:ring-4 focus:ring-orange-100 ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                    placeholder=\"Enter work email\"\r\n                                />\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Official company email address\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Contact Number\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"contact\"\r\n                                    value={editingHeaderData.contact || ''}\r\n                                    onChange={handleHeaderInputChange}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-teal-300 focus:border-teal-500 focus:ring-4 focus:ring-teal-100 ${\r\n                                        mobileError ? (theme === 'dark' ? 'border-red-500 bg-red-900/20' : 'border-red-500 bg-red-50') :\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                    placeholder=\"Enter contact number\"\r\n                                />\r\n                                {/*  NEW: Mobile validation error display */}\r\n                                {mobileError && (\r\n                                    <div className=\"absolute top-full left-0 mt-1 flex items-center space-x-1\">\r\n                                        <FaExclamationTriangle className=\"w-3 h-3 text-red-500 flex-shrink-0\" />\r\n                                        <span className={`text-xs ${theme === 'dark' ? 'text-red-400' : 'text-red-600'}`}>\r\n                                            {mobileError}\r\n                                        </span>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${mobileError ? 'mt-6' : 'mt-2'} ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Primary contact phone number (10 digits recommended)\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"group lg:col-span-2\">\r\n                            <label className={`block text-sm font-semibold mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                                Location\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"location\"\r\n                                    value={editingHeaderData.location || ''}\r\n                                    onChange={handleHeaderInputChange}\r\n                                    className={`w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-indigo-300 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 ${\r\n                                        theme === 'dark'\r\n                                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                                            : 'bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                    placeholder=\"Enter work location\"\r\n                                />\r\n                            </div>\r\n                            <p className={`mt-2 text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                Office location or branch name\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    {/*  MODIFIED: Error Display Section - Updated to handle mobile errors */}\r\n                    {(formError || mobileError) && (\r\n                        <div className={`mt-6 p-4 rounded-xl border-l-4 ${theme === 'dark' ? 'bg-red-900/20 border-red-500 text-red-300' : 'bg-red-50 border-red-500 text-red-700'}`}>\r\n                            <div className=\"flex items-start\">\r\n                                <FaExclamationTriangle className={`flex-shrink-0 w-5 h-5 mt-0.5 mr-3 ${theme === 'dark' ? 'text-red-400' : 'text-red-500'}`} />\r\n                                <div className=\"flex-1\">\r\n                                    <h4 className={`font-medium ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>\r\n                                        {mobileError ? 'Mobile Number Validation Error' : 'Error Updating Header'}\r\n                                    </h4>\r\n                                    <p className={`mt-1 text-sm ${theme === 'dark' ? 'text-red-400' : 'text-red-700'}`}>\r\n                                        {mobileError || formError}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </form>\r\n            </div>\r\n        </div>\r\n        \r\n        {/* Fixed Footer */}\r\n        <div className=\"p-6 sm:p-8 border-t border-gray-200 dark:border-gray-600 flex-shrink-0\">\r\n            <div className=\"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4\">\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                        setIsEditingHeader(false);\r\n                        setSelectedDepartmentDisplay('');\r\n                        setSelectedDepartmentValue('');\r\n                        setFormError(null);\r\n                        setMobileError(null);\r\n                    }}\r\n                    disabled={isSubmitting}\r\n                    className={`w-full sm:w-auto px-8 py-3 border-2 rounded-xl font-semibold text-base transition-all duration-300 transform hover:scale-105 ${\r\n                        theme === 'dark'\r\n                            ? 'border-gray-600 text-gray-300 hover:bg-gray-700 hover:border-gray-500'\r\n                            : 'border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400'\r\n                    } ${isSubmitting ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                >\r\n                    Cancel Changes\r\n                </button>\r\n                <button\r\n                    type=\"submit\"\r\n                    onClick={handleHeaderSave}\r\n                    disabled={isSubmitting || mobileError}\r\n                    className={`w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl text-base transition-all duration-300 transform hover:scale-105 hover:from-blue-700 hover:to-blue-800 focus:ring-4 focus:ring-blue-200 shadow-lg flex items-center justify-center ${\r\n                        isSubmitting || mobileError ? 'opacity-75 cursor-not-allowed' : ''\r\n                    }`}\r\n                >\r\n                    {isSubmitting ? (\r\n                        <>\r\n                            <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                            Saving...\r\n                        </>\r\n                    ) : (\r\n                        'Save Changes'\r\n                    )}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </motion.div>\r\n</motion.div>\r\n            )}\r\n            <AnimatePresence>\r\n                {isImageModalOpen && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"fixed inset-0 backdrop-blur-sm bg-black bg-opacity-75 flex items-center justify-center z-[200] p-2 sm:p-4\"\r\n                        onClick={handleModalClose}\r\n                    >\r\n                        {isImageFullView ? (\r\n                            <motion.div\r\n                                initial={{ scale: 0.8, opacity: 0 }}\r\n                                animate={{ scale: 1, opacity: 1 }}\r\n                                exit={{ scale: 0.8, opacity: 0 }}\r\n                                className=\"relative max-w-[90vw] max-h-[90vh] flex items-center justify-center\"\r\n                                onClick={(e) => e.stopPropagation()}\r\n                            >\r\n                                <button\r\n                                    onClick={handleCloseFullView}\r\n                                    className=\"absolute top-2 right-2 sm:top-4 sm:right-4 z-10 p-2 sm:p-3 rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-70 transition-all duration-200\"\r\n                                    title=\"Back to Modal\"\r\n                                >\r\n                                    <FaCompress className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                                </button>\r\n                                {(profileImagePreview || displayHeader?.employeeImage) ? (\r\n                                    <img\r\n                                        src={profileImagePreview || displayHeader.employeeImage}\r\n                                        alt=\"Profile Full View\"\r\n                                        className=\"max-w-full max-h-full object-contain rounded-xl shadow-2xl\"\r\n                                    />\r\n                                ) : (\r\n                                    <div className={`w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 rounded-xl shadow-2xl flex items-center justify-center text-6xl sm:text-8xl font-medium ${theme === 'dark' ? 'bg-gray-600 text-white' : 'bg-gray-200 text-gray-600'}`}>\r\n                                        {initials}\r\n                                    </div>\r\n                                )}\r\n                            </motion.div>\r\n                        ) : (\r\n                            <motion.div\r\n                                initial={{ scale: 0.9, y: 20 }}\r\n                                animate={{ scale: 1, y: 0 }}\r\n                                exit={{ scale: 0.9, y: 20 }}\r\n                                className={`relative rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 text-center w-full max-w-sm sm:max-w-md ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}\r\n                                onClick={(e) => e.stopPropagation()}\r\n                            >\r\n                                <button\r\n                                    onClick={handleModalClose}\r\n                                    className={`absolute top-3 right-3 sm:top-4 sm:right-4 p-2 rounded-full transition-all duration-200 ${theme === 'dark' ? 'text-gray-400 hover:bg-gray-700 hover:text-white' : 'text-gray-500 hover:bg-gray-200 hover:text-gray-700'}`}\r\n                                >\r\n                                    <FaTimes className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                                </button>\r\n                                <h3 className={`text-xl sm:text-2xl font-bold mb-4 sm:mb-6 ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>\r\n                                    Profile Picture\r\n                                </h3>\r\n                                <div className=\"mb-4 sm:mb-6 relative group\">\r\n                                    {(profileImagePreview || displayHeader?.employeeImage) ? (\r\n                                        <div className=\"relative cursor-pointer\" onClick={handleImageFullView}>\r\n                                            <img\r\n                                                src={profileImagePreview || displayHeader.employeeImage}\r\n                                                alt=\"Profile Preview\"\r\n                                                className=\"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full object-cover mx-auto shadow-xl transition-transform duration-300 group-hover:scale-105\"\r\n                                            />\r\n                                            <div className=\"absolute inset-0 rounded-full bg-opacity-0 group-hover:bg-opacity-40 flex items-center justify-center transition-all duration-300\">\r\n                                                <FaExpand className=\"text-white opacity-0 group-hover:opacity-100 text-lg sm:text-2xl transition-all duration-300 transform group-hover:scale-110\" />\r\n                                            </div>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div\r\n                                            className={`w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full mx-auto shadow-xl flex items-center justify-center text-3xl sm:text-4xl md:text-5xl font-medium cursor-pointer transition-transform duration-300 group-hover:scale-105 relative ${theme === 'dark' ? 'bg-gray-600 text-white' : 'bg-gray-200 text-gray-600'}`}\r\n                                            onClick={handleImageFullView}\r\n                                        >\r\n                                            {initials}\r\n                                            <div className=\"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-40 flex items-center justify-center transition-all duration-300\">\r\n                                                <FaExpand className=\"text-white opacity-0 group-hover:opacity-100 text-lg sm:text-2xl transition-all duration-300 transform group-hover:scale-110\" />\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4\">\r\n                                    {matchedArray.includes(\"CREATE_IMAGE\") && <button\r\n                                        onClick={() => fileInputRef.current.click()}\r\n                                        className=\"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-all duration-200 transform hover:scale-105 shadow-lg text-sm sm:text-base\"\r\n                                    >\r\n                                        <FaCamera className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                        <span>Change</span>\r\n                                    </button>}\r\n                                    {displayHeader?.employeeImage && (\r\n                                        <button\r\n                                            onClick={handleDeleteImage}\r\n                                            className=\"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition-all duration-200 transform hover:scale-105 shadow-lg text-sm sm:text-base\"\r\n                                        >\r\n                                            <FaTrash className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                            <span>Delete</span>\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                                <input\r\n                                    type=\"file\"\r\n                                    ref={fileInputRef}\r\n                                    onChange={handleImageUpload}\r\n                                    accept=\"image/*\"\r\n                                    className=\"hidden\"\r\n                                />\r\n                            </motion.div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n            {/* Editing modal (kept as is, no alerts here) */}\r\n            {isEditing && (\r\n                <div className=\"fixed inset-0 backdrop-blur-sm bg-black bg-opacity-50 flex items-center justify-center z-[200] p-4\">\r\n                    <div className={`rounded-lg p-4 sm:p-6 w-full max-w-md sm:max-w-lg shadow-2xl ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}>\r\n                        <h2 className={`text-xl sm:text-2xl font-bold mb-4 ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>Edit Profile</h2>\r\n                        <form onSubmit={handleSave}>\r\n                            <div className=\"space-y-4\">\r\n                                {[\"name\", \"empId\", \"company\", \"department\", \"email\", \"contact\", \"role\"].map((field) => (\r\n                                    <div key={field}>\r\n                                        <label className={`block text-sm font-medium capitalize ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>{field}</label>\r\n                                        <input\r\n                                            type={field === \"email\" ? \"email\" : \"text\"}\r\n                                            name={field}\r\n                                            value={employeeData[field] || ''}\r\n                                            onChange={handleInputChange}\r\n                                            className={`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 text-sm ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500'}`}\r\n                                        />\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            <div className=\"mt-6 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setIsEditing(false)}\r\n                                    className={`w-full sm:w-auto px-4 py-2 border rounded-md transition-colors text-sm ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-50'}`}\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"w-full sm:w-auto px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-sm\"\r\n                                >\r\n                                    Save Changes\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            {/* Custom Notification Component (Modified) */}\r\n            <CustomNotification\r\n                isOpen={notification.isOpen}\r\n                onClose={closeNotification}\r\n                type={notification.type}\r\n                title={notification.title}\r\n                message={notification.message}\r\n                theme={theme}\r\n            />\r\n            {/* Custom Confirmation Modal */}\r\n            <CustomConfirmModal\r\n                isOpen={confirmModal.isOpen}\r\n                onClose={closeConfirmModal}\r\n                onConfirm={confirmModal.onConfirm}\r\n                title={confirmModal.title}\r\n                message={confirmModal.message}\r\n                confirmText={confirmModal.confirmText}\r\n                isConfirming={confirmModal.isConfirming}\r\n                theme={theme}\r\n                type={confirmModal.type}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profiles;\r\n"],"names":["About","theme","useContext","Context","empID","useParams","location","useLocation","searchParams","URLSearchParams","search","fromContextMenu","get","targetEmployeeId","isReadOnly","responses","setResponses","useState","savedResponses","localStorage","getItem","JSON","parse","about","text","isEditing","jobLove","interests","useEffect","setItem","stringify","handleEdit","field","prev","renderResponseSection","title","_jsxs","className","children","_jsx","rows","defaultValue","id","placeholder","onClick","handleCancel","handleSave","value","document","getElementById","disabled","IoEye","Modal","_ref","onClose","type","titleClass","icon","IoCheckmarkCircle","IoWarning","defaultProfile","relations","fatherName","motherName","spouseName","siblings","sectionFields","primaryDetails","label","name","required","hint","options","contactDetails","address","education","experience","sectionConfig","IoPersonOutline","color","bgColor","darkBgColor","borderColor","darkBorderColor","textColor","darkTextColor","description","IoMailOutline","IoLocationOutline","IoPeopleOutline","IoSchoolOutline","IoBriefcaseOutline","hasActualData","data","sectionKey","Array","isArray","length","fieldsToCheck","some","undefined","validateFieldByHint","fieldName","fieldType","trim","trimmedValue","test","Date","cleanMobile","replace","cleanWork","year","parseInt","isNaN","score","parseFloat","handleNetworkError","error","_error$response$data","navigator","onLine","code","message","includes","response","request","status","_userData$roles","_userData$roles$","_defaultProfile$relat","_defaultProfile$relat2","_defaultProfile$relat3","_defaultProfile$relat4","_defaultProfile$relat5","editingSection","setEditingSection","primarydata","setPrimaryData","contactdetails","setContactDetails","addressData","setAddressData","eduData","setEduData","setExperience","userData","matchedArray","editingData","setEditingData","loading","setLoading","isUpdating","setIsUpdating","errors","setErrors","completionStats","setCompletionStats","completed","total","selectedFile","setSelectedFile","initialEditingData","setInitialEditingData","noChangesModal","setNoChangesModal","show","section","onContinue","networkError","setNetworkError","popup","setPopup","deleteConfirmation","setDeleteConfirmation","deleteItemConfirmation","setDeleteItemConfirmation","item","profileEmployeeId","isAdmin","roles","toUpperCase","console","log","async","primaryRes","contactRes","addressRes","eduRes","expRes","Promise","all","publicinfoApi","catch","err","filter","Boolean","fetchData","openEditSection","itemData","arguments","isAdd","savedData","dataToEdit","finalData","parsedData","handleDeleteItem","handleEditFieldChange","_sectionFields$editin","newErrors","fieldConfig","find","f","validationError","handleSubmit","validationErrors","forEach","toString","Object","keys","hasChanges","currentData","initialData","normalizeValue","String","currentFields","initialFields","key","hasFormChanges","proceedWithSubmission","success","url","put","updatedData","sections","networkErrorMessage","handleUpdatePrimaryDetails","handleUpdateContactDetails","handleUpdateAddress","isUpdate","method","formData","FormData","append","Blob","headers","updatedEduRes","handleUpdateEducation","post","updatedExperienceRes","handleUpdateExperience","general","removeItem","handleCancelEdit","renderField","isError","fieldValue","onChange","e","_e$target$files","file","target","files","accept","IoCloudUpload","map","opt","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","toLowerCase","DetailItem","_ref2","EducationExperienceItem","_ref3","index","onEdit","onDelete","config","IconComponent","degreeType","companyName","universityOrCollege","jobTitle","IoCreateOutline","IoTrashOutline","_Fragment","branchOrSpecialization","startYear","endYear","cgpaOrPercentage","addFiles","href","rel","startMonth","endMonth","Section","_ref4","hasData","IoAdd","ProgressIndicator","profileSections","completedCount","totalCount","percentage","style","width","toFixed","_","i","animationDelay","firstName","middleName","lastName","displayName","gender","dateOfBirth","maritalStatus","bloodGroup","physicallyHandicapped","nationality","workEmail","personalEmail","mobileNumber","workNumber","street","city","state","zip","country","district","edu","exp","renderEditModal","fields","IoClose","onSubmit","preventDefault","sectionTitle","Error","delete","updatedExpRes","jsx","employeeTime","otherPolicies","organizationDetails","jobDetails","IoTimeOutline","IoDocumentTextOutline","IoBusinessOutline","note","completedSections","totalSections","AttendanceToggle","_ref5","isDisabled","setIsDisabled","checked","Job","jobdetails","setJobDetails","displayJobDetails","setDisplayJobDetails","isLoading","setIsLoading","jobEmployeeId","jobDetailsFetch","formattedData","employeeId","dateOfJoining","jobTitlePrimary","jobTitleSecondary","inProbation","probationStartDate","probationEndDate","probationPolicy","workerType","timeType","contractStatus","contractStartDate","identityFields","aadhaar","pan","drivingLicense","passport","voter","documentConfig","IoDocumentText","Document","identityData","setIdentityData","fileInputRef","useRef","searchFilter","setSearchFilter","documentEmployeeId","identityPromises","aadhaarRes","panRes","drivingRes","passportRes","voterRes","values","fetchIdentityData","subSection","handleFileChange","handleUpdate","validateFormData","panNumber","panName","parentsName","validatePanData","aadhaarNumber","enrollmentNumber","aadhaarName","validateAadhaarData","licenseNumber","issueDate","expiresOn","validateDrivingLicenseData","passportNumber","countryCode","passportType","dateOfIssue","placeOfIssue","placeOfBirth","dateOfExpiration","validatePassportData","voterIdNumber","fullName","relationName","issuedDate","validateVoterData","filePartNames","fileInputNames","backendDtoPartName","fileInputField","File","dto","updateEmployeeId","getUrlKey","updatedIdentityData","newData","_error$response","errorMessage","timestamp","handleDelete","subSectionKey","handleLocalFieldChange","newlySelectedFile","ref","current","DetailItemWithLink","link","IdentitySubSection","filteredSections","isIdField","isRequired","docTitle","urlKey","InputField","onBlur","multiple","baseInputClass","textareaClass","selectClass","option","Achivements","achievements","setAchievements","setError","isModalOpen","setIsModalOpen","selectedAchievement","setSelectedAchievement","isEditMode","setIsEditMode","achievementId","setFormData","certificationName","issuingAuthorityName","certificationURL","issueMonth","issueYear","expirationMonth","expirationYear","achievementFile","formErrors","setFormErrors","uploadedFiles","setUploadedFiles","employeeIdToFetch","userRole","hasManagementAccess","isOwnProfile","canEdit","subtitle","achievementFormFields","fetchAchievements","handleInputChange","isValidUrl","string","URL","handleOpenModal","achievement","handleCloseModal","validateForm","achievementDTO","submissionData","ach","_err$response","_err$response2","_err$response2$data","hasCredentialUrl","hasAchievementFile","fileUrl","filePath","defaults","baseURL","IoPencil","from","size","CustomNotification","isOpen","isVisible","setIsVisible","timer","setTimeout","handleClose","clearTimeout","getIcon","FaCheckCircle","FaExclamationTriangle","getTitleClass","CustomConfirmModal","onConfirm","confirmText","isConfirming","motion","div","initial","scale","y","animate","exit","stopPropagation","FaTimes","getConfirmButtonClass","Profiles","navigate","useNavigate","userprofiledata","setUserProfileData","canEditHeader","activeTab","setActiveTab","pathname","depdata","setDeptdata","sidebarOpen","setSidebarOpen","profileImagePreview","setProfileImagePreview","setIsEditing","employeeData","setEmployeeData","viewedEmployeeData","setViewedEmployeeData","headerData","setHeaderData","viewedEmployeeHeaderData","setViewedEmployeeHeaderData","isEditingHeader","setIsEditingHeader","editingHeaderData","setEditingHeaderData","initialHeaderData","setInitialHeaderData","formError","setFormError","isSubmitting","setIsSubmitting","mobileError","setMobileError","isImageModalOpen","setIsImageModalOpen","isImageFullView","setIsImageFullView","departmentDropdownOpen","setDepartmentDropdownOpen","departmentPage","setDepartmentPage","departmentLoading","setDepartmentLoading","departmentHasMore","setDepartmentHasMore","allDepartments","setAllDepartments","selectedDepartmentDisplay","setSelectedDepartmentDisplay","selectedDepartmentValue","setSelectedDepartmentValue","departmentDropdownRef","notification","setNotification","confirmModal","setConfirmModal","showNotification","showConfirmModal","closeConfirmModal","display","displayHeader","initials","split","w","join","substring","tabs","path","MdPerson","HiIdentification","MdWork","MdBusiness","MdStar","validateMobileNumber","number","cleanNumber","isValid","fetchDepartments","page","reset","content","department","matchingDept","dept","departmentName","departmentId","handleClickOutside","event","contains","addEventListener","removeEventListener","headerResponse","mainErr","fetchEmployeeDetails","handleHeaderEditClick","handleHeaderSave","contact","mobileValidation","payload","res","employeeImage","_err$response$data","_err$response3","_err$response4","_err$response5","_err$response6","_err$response7","handleHeaderInputChange","validation","handleTabClick","base","handleImageFullView","handleModalClose","MdEdit","src","alt","FaCamera","MdEmail","FaPhone","MdLocationOn","transform","tab","active","endsWith","Routes","Route","element","Navigate","to","Profile","Achievements","handleAddAddress","IoTrash","handleEditClick","handleAddJob","handleAddDocument","handleAddAchievement","MdChevronRight","MdChevronLeft","opacity","FaChevronDown","onScroll","scrollTop","scrollHeight","clientHeight","handleDepartmentSelect","AnimatePresence","handleCloseFullView","FaCompress","FaExpand","click","handleDeleteImage","FaTrash","reader","FileReader","onloadend","result","readAsDataURL","closeNotification"],"sourceRoot":""}