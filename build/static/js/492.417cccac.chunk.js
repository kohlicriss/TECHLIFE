"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[492],{492:(e,r,t)=>{t.r(r),t.d(r,{default:()=>O});var a=t(5043),s=t(9910),l=t(3721),o=t(5394),n=t(579);const i=()=>{const{theme:e}=(0,a.useContext)(s.o),{empID:r}=(0,l.g)(),t=(0,l.zy)(),i=new URLSearchParams(t.search),d="true"===i.get("fromContextMenu"),m=i.get("targetEmployeeId"),c=d&&m&&m!==r,[x,u]=(0,a.useState)(()=>{const e=localStorage.getItem("aboutResponses");return e?JSON.parse(e):{about:{text:"",isEditing:!1},jobLove:{text:"",isEditing:!1},interests:{text:"",isEditing:!1}}});(0,a.useEffect)(()=>{localStorage.setItem("aboutResponses",JSON.stringify(x))},[x]);const g=e=>{c||u(r=>({...r,[e]:{...r[e],isEditing:!0}}))},h=(r,t)=>{const{text:a,isEditing:s}=x[r];return a||s?s?(0,n.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,n.jsx)("textarea",{className:"w-full p-2 sm:p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 transition-colors duration-200 text-sm sm:text-base "+("dark"===e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"),rows:"4",defaultValue:a,id:`${r}-textarea`,placeholder:"Type your response here..."}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,n.jsx)("button",{onClick:()=>(e=>{u(r=>({...r,[e]:{...r[e],isEditing:!1}}))})(r),className:"w-full sm:w-auto px-3 sm:px-4 py-2 rounded-lg transition-colors duration-200 text-sm "+("dark"===e?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"),children:"Cancel"}),(0,n.jsx)("button",{onClick:()=>((e,r)=>{u(t=>({...t,[e]:{text:r,isEditing:!1}}))})(r,document.getElementById(`${r}-textarea`).value),className:"w-full sm:w-auto px-3 sm:px-4 py-2 rounded-lg transition-colors duration-200 text-sm bg-purple-600 text-white hover:bg-purple-700",children:"Save"})]})]}):(0,n.jsxs)("div",{className:"p-3 sm:p-4 rounded-lg relative group transition-colors duration-200 "+("dark"===e?"bg-gray-800 border border-gray-700":"bg-gray-50 border border-gray-200"),children:[(0,n.jsx)("p",{className:"whitespace-pre-wrap text-sm sm:text-base break-words "+("dark"===e?"text-gray-200":"text-gray-700"),children:a}),!c&&(0,n.jsx)("button",{onClick:()=>g(r),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all duration-200\n              px-2 sm:px-3 py-1 border rounded-lg shadow-sm text-xs sm:text-sm "+("dark"===e?"bg-gray-700 border-gray-600 text-gray-300 hover:text-gray-100 hover:border-gray-500":"bg-white border-gray-200 text-gray-600 hover:text-gray-800 hover:border-gray-300"),children:"Edit"})]}):(0,n.jsx)("button",{onClick:()=>g(r),disabled:c,className:"w-full sm:w-auto border rounded-lg px-3 sm:px-4 py-2 transition-colors duration-200 text-sm sm:text-base "+(c?"dark"===e?"text-gray-500 border-gray-600 cursor-not-allowed":"text-gray-400 border-gray-300 cursor-not-allowed":"dark"===e?"text-purple-400 border-purple-400 hover:bg-purple-900/20":"text-purple-600 border-purple-600 hover:bg-purple-50"),children:c?"No response added":"Add your response"})};return(0,n.jsxs)("div",{className:"px-0 sm:px-4 md:px-6 py-4 sm:py-6 transition-colors duration-200 min-h-screen "+("dark"===e?"bg-gray-900":"bg-white"),children:[d&&(0,n.jsx)("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-l-4 border-blue-500 shadow-lg "+("dark"===e?"bg-blue-900/20 border-blue-400":"bg-blue-50 border-blue-500"),children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(o.GNz,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 "+("dark"===e?"text-blue-400":"text-blue-600")}),(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsx)("p",{className:"font-semibold text-sm sm:text-base "+("dark"===e?"text-blue-400":"text-blue-800"),children:"Viewing Employee About Details"}),(0,n.jsxs)("p",{className:"text-xs sm:text-sm break-words "+("dark"===e?"text-blue-300":"text-blue-700"),children:["Employee ID: ",m,c&&" \u2022 Read-only access"]})]})]})}),(0,n.jsxs)("div",{className:"space-y-4 sm:space-y-6 mx-4 sm:mx-0",children:[(0,n.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold "+("dark"===e?"text-white":"text-gray-900"),children:"About"}),(0,n.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[h("about"),(0,n.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-base sm:text-lg font-medium mb-3 sm:mb-4 break-words "+("dark"===e?"text-gray-200":"text-gray-900"),children:"What I love about my job?"}),h("jobLove")]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-base sm:text-lg font-medium mb-3 sm:mb-4 break-words "+("dark"===e?"text-gray-200":"text-gray-900"),children:"My interests and hobbies"}),h("interests")]})]})]})]})]})};var d=t(2397);const m=e=>{let{children:r,onClose:t,title:a,type:s,theme:l}=e,i="",d=null;return"success"===s?(i="text-green-600",d=(0,n.jsx)(o.G3G,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-500"})):"error"===s?(i="text-red-600",d=(0,n.jsx)(o.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-500"})):"confirm"===s&&(i="text-yellow-600",d=(0,n.jsx)(o.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500"})),(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-[250]",children:(0,n.jsxs)("div",{className:"p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-md m-4 border "+("dark"===l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,n.jsxs)("div",{className:"flex items-center mb-4",children:[d&&(0,n.jsx)("span",{className:"mr-3",children:d}),(0,n.jsx)("h3",{className:`text-lg sm:text-xl font-bold ${i}`,children:a})]}),r]})})},c={relations:{fatherName:"Albert Smith",motherName:"Marry Smith",spouseName:"Jane Smith",children:"2",siblings:"1"}},x={primaryDetails:[{label:"First Name",name:"firstName",type:"text",required:!0,hint:"Enter your first name (up to 50 characters)"},{label:"Middle Name",name:"middleName",type:"text",hint:"Enter your middle name if applicable (up to 50 characters)"},{label:"Last Name",name:"lastName",type:"text",required:!0,hint:"Enter your last name (up to 50 characters)"},{label:"Display Name",name:"displayName",type:"text",required:!0,hint:"Name to display in system (up to 100 characters)"},{label:"Gender",name:"gender",type:"select",required:!0,options:["Male","Female","Other"],hint:"Select your gender"},{label:"Date of Birth",name:"dateOfBirth",type:"date",required:!0,hint:"Select your birth date (must be in the past)"},{label:"Marital Status",name:"maritalStatus",type:"select",required:!0,options:["Single","Married","Divorced","Widowed"],hint:"Select your current marital status"},{label:"Blood Group",name:"bloodGroup",type:"select",required:!0,options:["A+","A-","B+","B-","AB+","AB-","O+","O-"],hint:"Select your blood group"},{label:"Physically Handicapped",name:"physicallyHandicapped",type:"select",required:!0,options:["Yes","No"],hint:"Indicate if you have any physical disabilities"},{label:"Nationality",name:"nationality",type:"text",required:!0,hint:"Enter your nationality (up to 50 characters)"}],contactDetails:[{label:"Work Email",name:"workEmail",type:"email",required:!0,hint:"Enter your official work email address"},{label:"Personal Email",name:"personalEmail",type:"email",hint:"Enter your personal email address"},{label:"Mobile Number",name:"mobileNumber",type:"text",required:!0,hint:"Enter 10-digit Indian mobile number starting with 6-9"},{label:"Work Number",name:"workNumber",type:"text",hint:"Enter work phone number (3-15 digits)"}],address:[{label:"Street",name:"street",type:"text",required:!0,hint:"Enter street address (up to 100 characters)"},{label:"City",name:"city",type:"text",required:!0,hint:"Enter city name (up to 50 characters)"},{label:"State",name:"state",type:"text",required:!0,hint:"Enter state name (up to 50 characters)"},{label:"Zip",name:"zip",type:"text",required:!0,hint:"Enter 6-digit Indian ZIP code"},{label:"Country",name:"country",type:"text",required:!0,hint:"Enter country name (up to 50 characters)"},{label:"District",name:"district",type:"text",required:!0,hint:"Enter district name (up to 50 characters)"}],relations:[{label:"Father Name",name:"fatherName",type:"text",hint:"Enter your father's name"},{label:"Mother Name",name:"motherName",type:"text",hint:"Enter your mother's name"},{label:"Spouse Name",name:"spouseName",type:"text",hint:"Enter your spouse's name if married"},{label:"Children",name:"children",type:"number",hint:"Enter number of children"},{label:"Siblings",name:"siblings",type:"number",hint:"Enter number of siblings"}],education:[{label:"Degree Type",name:"degreeType",type:"text",required:!0,hint:"Enter degree name (up to 100 characters)"},{label:"Institution",name:"universityOrCollege",type:"text",required:!0,hint:"Enter university/college name (up to 200 characters)"},{label:"Specialization",name:"branchOrSpecialization",type:"text",required:!0,hint:"Enter branch or specialization (up to 100 characters)"},{label:"Start Month",name:"startMonth",type:"select",required:!0,options:["January","February","March","April","May","June","July","August","September","October","November","December"],hint:"Select the starting month"},{label:"Start Year",name:"startYear",type:"text",required:!0,hint:"Enter year between 1900-2099"},{label:"End Month",name:"endMonth",type:"select",required:!0,options:["January","February","March","April","May","June","July","August","September","October","November","December"],hint:"Select the ending month"},{label:"End Year",name:"endYear",type:"text",required:!0,hint:"Enter year between 1900-2099"},{label:"CGPA/Percentage",name:"cgpaOrPercentage",type:"text",required:!0,hint:"Enter CGPA or percentage (0-100)"},{label:"Degree Certificate",name:"addFiles",type:"file",hint:"Upload degree certificate (JPG, PNG, PDF)"}],experience:[{label:"ID",name:"id",type:"text",required:!0,hint:"Enter unique experience ID"},{label:"Company Name",name:"companyName",type:"text",required:!0,hint:"Enter company name (2-100 characters)"},{label:"Job Title",name:"jobTitle",type:"text",required:!0,hint:"Enter job title/position (2-100 characters)"},{label:"Location",name:"location",type:"text",required:!0,hint:"Enter work location/city"},{label:"Description",name:"description",type:"textarea",hint:"Describe your role and responsibilities (up to 1000 characters)"},{label:"Start Month",name:"startMonth",type:"select",required:!0,options:["January","February","March","April","May","June","July","August","September","October","November","December"],hint:"Select the starting month"},{label:"Start Year",name:"startYear",type:"text",required:!0,hint:"Enter 4-digit year (e.g., 2020)"},{label:"End Month",name:"endMonth",type:"select",required:!0,options:["January","February","March","April","May","June","July","August","September","October","November","December"],hint:"Select the ending month"},{label:"End Year",name:"endYear",type:"text",required:!0,hint:"Enter 4-digit year (e.g., 2023)"}]},u={primaryDetails:{icon:o.SNd,color:"from-blue-500 to-blue-700",bgColor:"bg-blue-50",darkBgColor:"bg-blue-900/20",borderColor:"border-blue-200",darkBorderColor:"border-blue-700",textColor:"text-blue-700",darkTextColor:"text-blue-400",title:"Primary Details",description:"Personal information and basic details"},contactDetails:{icon:o.SOx,color:"from-green-500 to-green-700",bgColor:"bg-green-50",darkBgColor:"bg-green-900/20",borderColor:"border-green-200",darkBorderColor:"border-green-700",textColor:"text-green-700",darkTextColor:"text-green-400",title:"Contact Details",description:"Email addresses and phone numbers"},address:{icon:o.o9J,color:"from-orange-500 to-orange-700",bgColor:"bg-orange-50",darkBgColor:"bg-orange-900/20",borderColor:"border-orange-200",darkBorderColor:"border-orange-700",textColor:"text-orange-700",darkTextColor:"text-orange-400",title:"Address Information",description:"Current residential address"},relations:{icon:o.IV3,color:"from-purple-500 to-purple-700",bgColor:"bg-purple-50",darkBgColor:"bg-purple-900/20",borderColor:"border-purple-200",darkBorderColor:"border-purple-700",textColor:"text-purple-700",darkTextColor:"text-purple-400",title:"Family Relations",description:"Family members and relationships"},education:{icon:o.tY3,color:"from-yellow-500 to-amber-700",bgColor:"bg-yellow-50",darkBgColor:"bg-yellow-900/20",borderColor:"border-yellow-200",darkBorderColor:"border-yellow-700",textColor:"text-yellow-700",darkTextColor:"text-yellow-400",title:"Education Details",description:"Academic qualifications and achievements"},experience:{icon:o.ZDc,color:"from-indigo-500 to-indigo-700",bgColor:"bg-indigo-50",darkBgColor:"bg-indigo-900/20",borderColor:"border-indigo-200",darkBorderColor:"border-indigo-700",textColor:"text-indigo-700",darkTextColor:"text-indigo-400",title:"Previous Experience",description:"Professional work history"}};const g=function(){var e,r,t,i,g,h,p;const[b,y]=(0,a.useState)(null),[f,v]=(0,a.useState)(null),[j,w]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[C,E]=(0,a.useState)([]),[A,D]=(0,a.useState)([]),{theme:S,userData:I}=(0,a.useContext)(s.o),[$,P]=(0,a.useState)({}),{empID:B}=(0,l.g)(),q=(0,l.zy)(),[O,T]=(0,a.useState)(!0),[F,L]=(0,a.useState)(!1),[M,Y]=(0,a.useState)({}),[G,R]=(0,a.useState)({completed:0,total:6}),[U,z]=(0,a.useState)(null),[J,V]=(0,a.useState)({show:!1,message:"",type:""}),[K,W]=(0,a.useState)({show:!1,sectionKey:null}),[H,Z]=(0,a.useState)({show:!1,type:"",item:null,id:null}),_=new URLSearchParams(q.search),X="true"===_.get("fromContextMenu"),Q=_.get("targetEmployeeId"),ee=X&&Q?Q:B,re="ADMIN"===(null===I||void 0===I||null===(e=I.roles)||void 0===e||null===(r=e[0])||void 0===r?void 0:r.toUpperCase()),te=X&&Q&&Q!==B&&!re;(0,a.useEffect)(()=>{b&&localStorage.setItem(`profile-editing-${b.section}`,JSON.stringify($))},[$,b]),(0,a.useEffect)(()=>{X&&Q&&console.log("Viewing profile from context menu for employee:",Q);ee&&(async()=>{try{const[e,r,t,a,s]=await Promise.all([d.yE.get(`employee/${ee}/primary/details`).catch(e=>({data:null})),d.yE.get(`employee/${ee}/contact`).catch(e=>({data:null})),d.yE.get(`employee/${ee}/address`).catch(e=>({data:null})),d.yE.get(`employee/${ee}/degreeDetails`).catch(e=>({data:[]})),d.yE.get(`employee/${ee}/previousExperience`).catch(e=>({data:[]}))]);v(e.data),w(r.data),k(t.data),E(a.data),D(s.data);const l=[e.data,r.data,t.data,a.data.length>0,s.data.length>0,c.relations].filter(Boolean).length;R({completed:l,total:6})}catch(e){console.error("Failed to fetch data:",e)}finally{T(!1)}})()},[ee,X,Q]);const ae=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(te)return void V({show:!0,message:"You can only view this employee's profile. Editing is not allowed.",type:"error"});Y({});const a=localStorage.getItem(`profile-editing-${e}`);if(!a||r||t){let a={};"primaryDetails"===e?a=f:"contactDetails"===e?a=j:"address"===e?a=N:"relations"===e?a=c.relations:"education"===e?a=r||(t||C&&0===C.length?{}:C[0]):"experience"===e&&(a=r||(t||A&&0===A.length?{}:A[0])),P(a||{})}else P(JSON.parse(a));z(null),y({section:e,isAdd:t||!r})},se=(e,r,t)=>{Z({show:!0,type:e,item:r,id:t})},le=(e,r)=>{P(t=>({...t,[e]:r})),M[e]&&Y(r=>{const t={...r};return delete t[e],t})},oe=async e=>{L(!0);let r=!1;try{switch(e){case"primaryDetails":r=await(async()=>{try{const e=`/employee/${ee}/primary/details`;await d.yE.put(e,$);const r=await d.yE.get(e);return v(r.data),R(e=>({...e,completed:[r.data,j,N,C.length>0,A.length>0,c.relations].filter(Boolean).length})),!0}catch(e){return e.response&&400===e.response.status?Y(e.response.data):Y({general:"An unexpected error occurred while updating Primary Details."}),!1}})();break;case"contactDetails":r=await(async()=>{try{const e=`/employee/${ee}/contact`;await d.yE.put(e,$);const r=await d.yE.get(e);return w(r.data),R(e=>({...e,completed:[f,r.data,N,C.length>0,A.length>0,c.relations].filter(Boolean).length})),!0}catch(e){return e.response&&400===e.response.status?Y(e.response.data):Y({general:"An unexpected error occurred while updating Contact Details."}),!1}})();break;case"address":r=await(async()=>{try{const e=`/employee/${ee}/address`;await d.yE.put(e,$);const r=await d.yE.get(e);return k(r.data),R(e=>({...e,completed:[f,j,r.data,C.length>0,A.length>0,c.relations].filter(Boolean).length})),!0}catch(e){return e.response&&400===e.response.status?Y(e.response.data):Y({general:"An unexpected error occurred while updating Address."}),!1}})();break;case"relations":console.error("Backend endpoint for updating relations does not exist in your controller."),V({show:!0,message:"This section cannot be updated yet. A backend API endpoint is missing.",type:"error"}),y(null);break;case"education":r=await(async()=>{try{const e=!(!$||!$.id),r=e?"put":"post",t=e?`/employee/${ee}/degreeDetails/${$.id}`:`/employee/${ee}/degreeDetails`,a=new FormData;U&&a.append("addFiles",U),a.append("degree",new Blob([JSON.stringify($)],{type:"application/json"})),await d.yE[r](t,a,{headers:{"Content-Type":"multipart/form-data"}});const s=await d.yE.get(`employee/${ee}/degreeDetails`);return E(s.data),R(e=>({...e,completed:[f,j,N,s.data.length>0,A.length>0,c.relations].filter(Boolean).length})),!0}catch(e){return console.error("Failed to update education details:",e),e.response&&400===e.response.status?Y(e.response.data):Y({general:"An unexpected error occurred while updating Education."}),!1}})();break;case"experience":r=await(async()=>{try{const e=!(!$||!$.id),r=`/employee/${ee}/previousExperience/${$.id}`;e?await d.yE.put(r,$):await d.yE.post(`/employee/${ee}/previousExperience`,$);const t=await d.yE.get(`employee/${ee}/previousExperience`);return D(t.data),R(e=>({...e,completed:[f,j,N,C.length>0,t.data.length>0,c.relations].filter(Boolean).length})),!0}catch(e){return console.error("Failed to update experience details:",e),e.response&&400===e.response.status?Y(e.response.data):Y({general:"An unexpected error occurred while updating Experience."}),!1}})();break;default:console.error("Unknown section:",e),Y({general:"Unknown section selected for update."})}}finally{L(!1)}r&&(y(null),Y({}),localStorage.removeItem(`profile-editing-${e}`),V({show:!0,message:"Profile section updated successfully!",type:"success"}))},ne=()=>{b&&localStorage.removeItem(`profile-editing-${b.section}`),y(null)},ie=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";const i=M[r],d=$[r]||"";return"file"===t?(0,n.jsxs)("div",{className:"group relative",children:[(0,n.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center "+("dark"===S?"text-gray-200":"text-gray-800"),children:[e,a&&(0,n.jsx)("span",{className:"text-red-500 ml-1 text-sm sm:text-base",children:"*"})]}),l&&(0,n.jsx)("p",{className:"text-xs mb-2 "+("dark"===S?"text-gray-400":"text-gray-500"),children:l}),(0,n.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg sm:rounded-xl transition-all duration-300 \n              "+(i?"border-red-300 bg-red-50":"dark"===S?"border-gray-600 bg-gray-800 hover:border-blue-400 hover:bg-blue-900/20":"border-gray-300 bg-gray-50 hover:border-blue-400 hover:bg-blue-50"),children:[(0,n.jsx)("input",{type:"file",onChange:e=>{var r,t;return t=null===(r=e.target.files)||void 0===r?void 0:r[0],void z(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:".jpg,.jpeg,.png,.pdf",required:a}),(0,n.jsxs)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center",children:[(0,n.jsx)(o.xvb,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 "+("dark"===S?"text-gray-500":"text-gray-400")}),(0,n.jsxs)("p",{className:"text-xs sm:text-sm font-medium mb-1 "+("dark"===S?"text-gray-300":"text-gray-700"),children:["Drop your file here, or ",(0,n.jsx)("span",{className:"text-blue-600",children:"browse"})]}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF up to 10MB"}),U&&(0,n.jsxs)("p",{className:"mt-2 text-xs sm:text-sm font-medium "+("dark"===S?"text-green-400":"text-green-600"),children:["Selected: ",U.name]})]})]}),i&&(0,n.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600 animate-slideIn",children:[(0,n.jsx)(o.tr_,{className:"w-4 h-4 flex-shrink-0"}),(0,n.jsx)("p",{className:"text-xs sm:text-sm font-medium",children:i})]})]},r):(0,n.jsxs)("div",{className:"group relative",children:[(0,n.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center "+("dark"===S?"text-gray-200":"text-gray-800"),children:[e,a&&(0,n.jsx)("span",{className:"text-red-500 ml-1 text-sm sm:text-base",children:"*"})]}),l&&(0,n.jsx)("p",{className:"text-xs mb-2 "+("dark"===S?"text-gray-400":"text-gray-500"),children:l}),"select"===t?(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("select",{value:d,onChange:e=>le(r,e.target.value),className:"w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 appearance-none text-sm\n                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\n                "+(i?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===S?"border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400":"border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300"),children:[(0,n.jsxs)("option",{value:"",children:["Choose ",e]}),s.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]}),(0,n.jsx)("div",{className:"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,n.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}):"date"===t?(0,n.jsx)("input",{type:"date",value:d,onChange:e=>le(r,e.target.value),className:"w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\n              "+(i?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===S?"border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400":"border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300")}):"textarea"===t?(0,n.jsx)("textarea",{value:d,onChange:e=>le(r,e.target.value),className:"w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm resize-none h-24 sm:h-32\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\n              "+(i?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===S?"border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400":"border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300"),placeholder:`Enter ${e.toLowerCase()}...`,required:a}):(0,n.jsx)("input",{type:t,value:d,onChange:e=>le(r,e.target.value),className:"w-full px-3 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\n              "+(i?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===S?"border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400":"border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300"),placeholder:`Enter ${e.toLowerCase()}...`,required:a}),i&&(0,n.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600 animate-slideIn",children:[(0,n.jsx)(o.tr_,{className:"w-4 h-4 flex-shrink-0"}),(0,n.jsx)("p",{className:"text-xs sm:text-sm font-medium",children:i})]})]},r)},de=e=>{let{label:r,value:t}=e;return(0,n.jsx)("div",{className:"group p-3 sm:p-4 rounded-lg sm:rounded-xl border transition-all duration-300 hover:scale-105 "+("dark"===S?"bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600 hover:shadow-md hover:shadow-blue-500/20":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100 hover:shadow-md"),children:(0,n.jsx)("div",{className:"flex items-start justify-between",children:(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 "+("dark"===S?"text-gray-400":"text-gray-500"),children:r}),(0,n.jsx)("p",{className:"text-xs sm:text-sm font-semibold leading-relaxed break-words "+("dark"===S?"text-white":"text-gray-900"),children:t||(0,n.jsx)("span",{className:"italic "+("dark"===S?"text-gray-500":"text-gray-400"),children:"Not provided"})})]})})})},me=e=>{let{type:r,item:t,index:a,onEdit:s,onDelete:l}=e;const i=u[r],d=i.icon;return(0,n.jsxs)("div",{className:"col-span-full border-2 rounded-lg sm:rounded-xl p-4 sm:p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg "+("dark"===S?`bg-gray-700 ${i.darkBorderColor} hover:shadow-blue-500/20`:`bg-gray-50 ${i.borderColor}`),children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"p-2 rounded-lg "+("dark"===S?"bg-gray-600":"bg-white"),children:(0,n.jsx)(d,{className:`w-5 h-5 ${"dark"===S?i.darkTextColor:i.textColor}`})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-bold text-sm sm:text-base "+("dark"===S?"text-white":"text-gray-900"),children:"education"===r?t.degreeType:t.companyName}),(0,n.jsx)("p",{className:"text-xs sm:text-sm "+("dark"===S?"text-gray-400":"text-gray-600"),children:"education"===r?t.universityOrCollege:t.jobTitle})]})]}),!te&&(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("button",{onClick:()=>s(t),className:"p-2 rounded-lg transition-all duration-200 hover:scale-110 "+("dark"===S?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"),title:"Edit",children:(0,n.jsx)(o.BKi,{className:"w-4 h-4"})}),(0,n.jsx)("button",{onClick:()=>l(r,t,t.id),className:"p-2 rounded-lg transition-all duration-200 hover:scale-110 "+("dark"===S?"bg-red-600 hover:bg-red-700 text-white":"bg-red-500 hover:bg-red-600 text-white"),title:"Delete",children:(0,n.jsx)(o.dW_,{className:"w-4 h-4"})})]})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:"education"===r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(de,{label:"Specialization",value:t.branchOrSpecialization}),(0,n.jsx)(de,{label:"Years",value:`${t.startYear} - ${t.endYear}`}),(0,n.jsx)(de,{label:"CGPA/Percentage",value:t.cgpaOrPercentage}),t.addFiles&&(0,n.jsx)("div",{className:"col-span-full",children:(0,n.jsxs)("a",{href:t.addFiles,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 p-2 sm:p-3 rounded-lg border transition-all duration-300 hover:scale-105 "+("dark"===S?"bg-gray-600 border-gray-500 text-white hover:bg-gray-500":"bg-white border-gray-200 text-gray-900 hover:bg-gray-50"),children:[(0,n.jsx)(o.G3G,{className:"w-4 h-4 text-green-500"}),(0,n.jsx)("span",{className:"font-semibold text-xs sm:text-sm",children:"View Certificate"})]})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(de,{label:"Location",value:t.location}),(0,n.jsx)(de,{label:"Duration",value:`${t.startMonth} ${t.startYear} - ${t.endMonth?t.endMonth+" "+t.endYear:"Present"}`}),(0,n.jsx)(de,{label:"Description",value:t.description})]})})]})},ce=e=>{let{sectionKey:r,title:t,children:a,data:s}=e;const l=u[r],i=l.icon,d=Array.isArray(s)?s.length>0:!!s;return(0,n.jsxs)("div",{className:"border-2 rounded-none sm:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 \n                       overflow-hidden group hover:scale-[1.02] mb-6 sm:mb-8 "+("dark"===S?`bg-gray-800 ${l.darkBorderColor} hover:shadow-blue-500/20`:`bg-white ${l.borderColor}`),children:[(0,n.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b-2 relative overflow-hidden "+("dark"===S?`${l.darkBgColor} ${l.darkBorderColor}`:`${l.bgColor} ${l.borderColor}`),children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/30"}),(0,n.jsxs)("div",{className:"relative flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,n.jsx)("div",{className:"p-2 sm:p-3 rounded-lg sm:rounded-xl shadow-md transform group-hover:scale-110 transition-transform duration-300 flex-shrink-0 "+("dark"===S?"bg-gray-700":"bg-white"),children:(0,n.jsx)(i,{className:`w-6 h-6 sm:w-8 sm:h-8 ${"dark"===S?l.darkTextColor:l.textColor}`})}),(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsxs)("h4",{className:`text-lg sm:text-xl font-bold flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 ${"dark"===S?l.darkTextColor:l.textColor}`,children:[(0,n.jsx)("span",{className:"break-words",children:t}),d&&(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)(o.G3G,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"}),(0,n.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Complete"})]})]}),(0,n.jsx)("p",{className:"text-xs sm:text-sm mt-1 break-words "+("dark"===S?"text-gray-400":"text-gray-600"),children:l.description})]})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[("education"===r||"experience"===r)&&(!te||re)&&(0,n.jsxs)("button",{onClick:()=>ae(r,null,!0),className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-lg sm:rounded-xl hover:from-blue-600 hover:to-indigo-700 transform hover:scale-105 transition-all duration-300 shadow-lg text-sm",children:[(0,n.jsx)(o.YHj,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsxs)("span",{className:"hidden sm:inline",children:["Add ","education"===r?"Education":"Experience"]}),(0,n.jsx)("span",{className:"sm:hidden",children:"Add"})]}),X&&re&&d&&!["education","experience","relations"].includes(r)&&(0,n.jsxs)("button",{onClick:()=>(e=>{W({show:!0,sectionKey:e})})(r),className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 focus:ring-4 focus:ring-red-500/20 shadow-md hover:shadow-lg text-sm "+("dark"===S?"text-red-400 bg-gray-700 border-2 border-red-800 hover:bg-red-900/50":"text-red-600 bg-white border-2 border-red-200 hover:bg-red-50"),children:[(0,n.jsx)(o.dW_,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Delete"})]}),(!te||re)&&!["education","experience"].includes(r)&&(0,n.jsx)("button",{onClick:()=>ae(r),className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 cursor-pointer rounded-lg sm:rounded-xl font-semibold transition-all duration-300 \n                              transform hover:scale-105 focus:ring-4 focus:ring-blue-500/20 shadow-md hover:shadow-lg text-sm\n                              "+(d?"dark"===S?`${l.darkTextColor} bg-gray-700 border-2 ${l.darkBorderColor} hover:bg-gray-600`:`${l.textColor} bg-white border-2 ${l.borderColor} hover:bg-gray-50`:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:from-blue-600 hover:to-indigo-700"),children:d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Edit Details"}),(0,n.jsx)("span",{className:"sm:hidden",children:"Edit"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.YHj,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Add Information"}),(0,n.jsx)("span",{className:"sm:hidden",children:"Add"})]})})]}),te&&!re&&(0,n.jsxs)("div",{className:"px-4 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-sm "+("dark"===S?"bg-gray-700 text-gray-400 border-2 border-gray-600":"bg-gray-100 text-gray-500 border-2 border-gray-300"),children:[(0,n.jsx)(o.GNz,{className:"w-3 h-3 sm:w-4 sm:h-4 inline mr-2"}),(0,n.jsx)("span",{children:"View Only"})]})]})]}),(0,n.jsx)("div",{className:"p-4 sm:p-6 md:p-8",children:d?(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:a}):(0,n.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,n.jsx)("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${"dark"===S?l.darkBgColor:l.bgColor}`,children:(0,n.jsx)(i,{className:`w-8 h-8 sm:w-10 sm:h-10 opacity-50 ${"dark"===S?l.darkTextColor:l.textColor}`})}),(0,n.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-2 "+("dark"===S?"text-white":"text-gray-800"),children:["No ",t," Added"]}),(0,n.jsx)("p",{className:"text-sm mb-4 sm:mb-6 max-w-sm mx-auto px-4 "+("dark"===S?"text-gray-400":"text-gray-500"),children:te?`This employee hasn't added their ${t.toLowerCase()} information yet.`:`Add your ${t.toLowerCase()} to complete your profile information.`}),!te&&(0,n.jsxs)("button",{onClick:()=>ae(r,null,!0),className:"inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 \r text-white font-semibold rounded-lg sm:rounded-xl hover:from-blue-600 hover:to-indigo-700 \r transform hover:scale-105 transition-all duration-300 shadow-lg text-sm",children:[(0,n.jsx)(o.YHj,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:["Add ",t]})]})]})})]})},xe=()=>{const e=[f,j,N,C.length>0,A.length>0],r=e.filter(Boolean).length,t=e.length,a=t>0?r/t*100:0;return(0,n.jsxs)("div",{className:"rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border "+("dark"===S?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,n.jsx)("h3",{className:"text-base sm:text-lg font-bold "+("dark"===S?"text-white":"text-gray-800"),children:te?"Profile Status":"Profile Completion"}),(0,n.jsxs)("span",{className:"text-sm font-medium "+("dark"===S?"text-gray-400":"text-gray-600"),children:[r,"/",t," Sections"]})]}),(0,n.jsx)("div",{className:"w-full rounded-full h-2 sm:h-3 mb-3 sm:mb-4 overflow-hidden "+("dark"===S?"bg-gray-700":"bg-gray-200"),children:(0,n.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 sm:h-3 rounded-full transition-all duration-700 ease-out",style:{width:`${a}%`}})}),(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsxs)("span",{className:""+("dark"===S?"text-gray-400":"text-gray-600"),children:[a.toFixed(0),"% Complete"]}),100===a&&(0,n.jsxs)("span",{className:"text-green-600 font-semibold flex items-center",children:[(0,n.jsx)(o.G3G,{className:"w-4 h-4 mr-1"}),"All Set!"]})]})]})};return O?(0,n.jsx)("div",{className:"min-h-screen "+("dark"===S?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6"}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)(o.SNd,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-500"})})]}),(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 "+("dark"===S?"text-white":"text-gray-800"),children:"Loading Profile"}),(0,n.jsx)("p",{className:"text-sm sm:text-base "+("dark"===S?"text-gray-300":"text-gray-600"),children:"Fetching profile information..."}),(0,n.jsx)("div",{className:"flex justify-center space-x-2 mt-4",children:[...Array(4)].map((e,r)=>(0,n.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse",style:{animationDelay:.2*r+"s"}},r))})]})})}):(0,n.jsxs)("div",{className:"min-h-screen "+("dark"===S?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:[(0,n.jsxs)("div",{className:"max-w-8xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-6 sm:py-8 md:py-12",children:[X&&(0,n.jsx)("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-l-4 border-blue-500 shadow-lg "+("dark"===S?"bg-blue-900/20 border-blue-400":"bg-blue-50 border-blue-500"),children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(o.GNz,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 "+("dark"===S?"text-blue-400":"text-blue-600")}),(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsx)("p",{className:"font-semibold text-sm sm:text-base "+("dark"===S?"text-blue-400":"text-blue-800"),children:"Viewing Employee Profile"}),(0,n.jsxs)("p",{className:"text-xs sm:text-sm break-words "+("dark"===S?"text-blue-300":"text-blue-700"),children:["Employee ID: ",Q,te&&" \u2022 Read-only access"]})]})]})}),(0,n.jsx)("div",{className:"mb-8 sm:mb-12 mx-4 sm:mx-0",children:(0,n.jsx)(xe,{})}),(0,n.jsx)("div",{className:"space-y-6 sm:space-y-8",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ce,{sectionKey:"primaryDetails",title:"Primary Details",data:f,children:[(0,n.jsx)(de,{label:"First Name",value:null===f||void 0===f?void 0:f.firstName}),(0,n.jsx)(de,{label:"Middle Name",value:null===f||void 0===f?void 0:f.middleName}),(0,n.jsx)(de,{label:"Last Name",value:null===f||void 0===f?void 0:f.lastName}),(0,n.jsx)(de,{label:"Display Name",value:null===f||void 0===f?void 0:f.displayName}),(0,n.jsx)(de,{label:"Gender",value:null===f||void 0===f?void 0:f.gender}),(0,n.jsx)(de,{label:"Date of Birth",value:null===f||void 0===f?void 0:f.dateOfBirth}),(0,n.jsx)(de,{label:"Marital Status",value:null===f||void 0===f?void 0:f.maritalStatus}),(0,n.jsx)(de,{label:"Blood Group",value:null===f||void 0===f?void 0:f.bloodGroup}),(0,n.jsx)(de,{label:"Physically Handicapped",value:null===f||void 0===f?void 0:f.physicallyHandicapped}),(0,n.jsx)(de,{label:"Nationality",value:null===f||void 0===f?void 0:f.nationality})]}),(0,n.jsxs)(ce,{sectionKey:"contactDetails",title:"Contact Details",data:j,children:[(0,n.jsx)(de,{label:"Work Email",value:null===j||void 0===j?void 0:j.workEmail}),(0,n.jsx)(de,{label:"Personal Email",value:null===j||void 0===j?void 0:j.personalEmail}),(0,n.jsx)(de,{label:"Mobile Number",value:null===j||void 0===j?void 0:j.mobileNumber}),(0,n.jsx)(de,{label:"Work Number",value:null===j||void 0===j?void 0:j.workNumber})]}),(0,n.jsxs)(ce,{sectionKey:"address",title:"Address Information",data:N,children:[(0,n.jsx)(de,{label:"Street",value:null===N||void 0===N?void 0:N.street}),(0,n.jsx)(de,{label:"City",value:null===N||void 0===N?void 0:N.city}),(0,n.jsx)(de,{label:"State",value:null===N||void 0===N?void 0:N.state}),(0,n.jsx)(de,{label:"Zip",value:null===N||void 0===N?void 0:N.zip}),(0,n.jsx)(de,{label:"Country",value:null===N||void 0===N?void 0:N.country}),(0,n.jsx)(de,{label:"District",value:null===N||void 0===N?void 0:N.district})]}),(0,n.jsxs)(ce,{sectionKey:"relations",title:"Family Relations",data:c.relations,children:[(0,n.jsx)(de,{label:"Father Name",value:null===(t=c.relations)||void 0===t?void 0:t.fatherName}),(0,n.jsx)(de,{label:"Mother Name",value:null===(i=c.relations)||void 0===i?void 0:i.motherName}),(0,n.jsx)(de,{label:"Spouse Name",value:null===(g=c.relations)||void 0===g?void 0:g.spouseName}),(0,n.jsx)(de,{label:"Children",value:null===(h=c.relations)||void 0===h?void 0:h.children}),(0,n.jsx)(de,{label:"Siblings",value:null===(p=c.relations)||void 0===p?void 0:p.siblings})]}),(0,n.jsx)(ce,{sectionKey:"education",title:"Education Details",data:C,children:null===C||void 0===C?void 0:C.map((e,r)=>(0,n.jsx)(me,{type:"education",item:e,index:r,onEdit:e=>ae("education",e),onDelete:se},e.id||r))}),(0,n.jsx)(ce,{sectionKey:"experience",title:"Previous Experience",data:A,children:null===A||void 0===A?void 0:A.map((e,r)=>(0,n.jsx)(me,{type:"experience",item:e,index:r,onEdit:e=>ae("experience",e),onDelete:se},e.id||r))})]})}),(()=>{if(!b)return null;const{section:e,isAdd:r}=b,t=x[e]||[],a=u[e],s=a.icon;return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4 animate-fadeIn",children:(0,n.jsxs)("div",{className:"rounded-2xl sm:rounded-3xl w-full max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl animate-slideUp flex flex-col "+("dark"===S?"bg-gray-800":"bg-white"),children:[(0,n.jsxs)("div",{className:`px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ${a.color} text-white relative overflow-hidden`,children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,n.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,n.jsx)("div",{className:"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl flex-shrink-0",children:(0,n.jsx)(s,{className:"w-6 h-6 sm:w-8 sm:h-8"})}),(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold break-words",children:r?`Add ${a.title}`:`Edit ${a.title}`}),(0,n.jsx)("p",{className:"text-white/90 text-xs sm:text-sm break-words",children:a.description})]})]}),(0,n.jsx)("button",{onClick:ne,className:"p-2 sm:p-3 hover:bg-white/20 rounded-full transition-all duration-200 group flex-shrink-0","aria-label":"Close",children:(0,n.jsx)(o.$8F,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform duration-200"})})]})]}),(0,n.jsx)("div",{className:"overflow-y-auto flex-grow",children:(0,n.jsxs)("form",{className:"p-4 sm:p-6 md:p-8",onSubmit:r=>{r.preventDefault(),oe(e)},children:[(0,n.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:t.map(e=>ie(e.label,e.name,e.type,e.required,e.options,e.hint))}),M.general&&(0,n.jsx)("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 md:p-5 border-l-4 border-red-400 rounded-r-lg sm:rounded-r-xl animate-slideIn "+("dark"===S?"bg-red-900/20":"bg-red-50"),children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(o.tr_,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400 mr-3 flex-shrink-0"}),(0,n.jsx)("p",{className:"font-medium text-sm "+("dark"===S?"text-red-300":"text-red-800"),children:M.general})]})})]})}),(0,n.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 "+("dark"===S?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:[(0,n.jsx)("button",{type:"button",onClick:ne,className:"w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold transition-all duration-200 focus:ring-4 focus:ring-gray-500/20 text-sm "+("dark"===S?"border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500":"border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400"),children:"Cancel"}),(0,n.jsx)("button",{type:"button",onClick:()=>oe(e),disabled:F,className:`w-full sm:w-auto px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r ${a.color} text-white font-bold rounded-lg sm:rounded-xl\n                          hover:shadow-lg transform hover:scale-105 transition-all duration-200 \n                          focus:ring-4 focus:ring-blue-500/30 flex items-center justify-center space-x-2 text-sm\n                          ${F?"cursor-not-allowed opacity-75":""}`,children:F?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full animate-spin-slow"}),(0,n.jsx)("span",{children:r?"Adding...":"Updating..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.G3G,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,n.jsx)("span",{children:r?"Add Information":"Update Information"})]})})]})]})})})(),J.show&&(0,n.jsxs)(m,{onClose:()=>V({show:!1,message:"",type:""}),title:"success"===J.type?"Success":"Error",type:J.type,theme:S,children:[(0,n.jsx)("p",{className:"mb-4 sm:mb-6 text-sm "+("dark"===S?"text-gray-300":"text-gray-700"),children:J.message}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)("button",{onClick:()=>V({show:!1,message:"",type:""}),className:("success"===J.type?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700")+" text-white font-semibold py-2 px-4 sm:px-6 rounded-lg transition-colors text-sm",children:"OK"})})]}),K.show&&(0,n.jsxs)(m,{onClose:()=>W({show:!1,sectionKey:null}),title:"Confirm Deletion",type:"confirm",theme:S,children:[(0,n.jsxs)("p",{className:"mb-4 sm:mb-6 text-sm "+("dark"===S?"text-gray-300":"text-gray-700"),children:["Are you sure you want to delete the ",u[K.sectionKey].title,"? This action cannot be undone."]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3",children:[(0,n.jsx)("button",{onClick:()=>W({show:!1,sectionKey:null}),className:"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm "+("dark"===S?"bg-gray-600 hover:bg-gray-500":"bg-gray-200 hover:bg-gray-300"),children:"Cancel"}),(0,n.jsx)("button",{onClick:async()=>{const{sectionKey:e}=K,r=u[e].title;try{let t="";switch(e){case"primaryDetails":t=`employee/${ee}/primary/details`;break;case"contactDetails":t=`employee/${ee}/contact`;break;case"address":t=`employee/${ee}/address`;break;case"education":return void V({show:!0,message:"Education deletion should be done per entry. This feature needs backend support for bulk deletion.",type:"error"});case"experience":return void V({show:!0,message:"Experience deletion should be done per entry. This feature needs backend support for bulk deletion.",type:"error"});case"relations":return void V({show:!0,message:"Relations cannot be deleted as they are static data.",type:"error"});default:throw new Error("Invalid section for deletion")}switch(await d.yE.delete(t),V({show:!0,message:`${r} deleted successfully.`,type:"success"}),e){case"primaryDetails":v(null);break;case"contactDetails":w(null);break;case"address":k(null)}const a=["primaryDetails"===e?null:f,"contactDetails"===e?null:j,"address"===e?null:N,C.length>0,A.length>0,c.relations].filter(Boolean).length;R({completed:a,total:6})}catch(t){console.error(`Failed to delete ${r}:`,t),V({show:!0,message:`Error deleting ${r}. You may not have the required permissions.`,type:"error"})}finally{W({show:!1,sectionKey:null})}},className:"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white bg-red-600 hover:bg-red-700 transition-colors text-sm",children:"Delete"})]})]}),H.show&&(0,n.jsxs)(m,{onClose:()=>Z({show:!1,type:"",item:null,id:null}),title:"Confirm Deletion",type:"confirm",theme:S,children:[(0,n.jsxs)("p",{className:"mb-4 sm:mb-6 text-sm "+("dark"===S?"text-gray-300":"text-gray-700"),children:["Are you sure you want to delete this ",H.type," record? This action cannot be undone."]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3",children:[(0,n.jsx)("button",{onClick:()=>Z({show:!1,type:"",item:null,id:null}),className:"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm "+("dark"===S?"bg-gray-600 hover:bg-gray-500":"bg-gray-200 hover:bg-gray-300"),children:"Cancel"}),(0,n.jsx)("button",{onClick:async()=>{const{type:e,item:r,id:t}=H;try{if("education"===e){await d.yE.delete(`employee/${ee}/degreeDetails/${t}`);const e=await d.yE.get(`employee/${ee}/degreeDetails`);E(e.data),V({show:!0,message:"Education record deleted successfully.",type:"success"})}else if("experience"===e){await d.yE.delete(`employee/${ee}/previousExperience/${t}`);const e=await d.yE.get(`employee/${ee}/previousExperience`);D(e.data),V({show:!0,message:"Experience record deleted successfully.",type:"success"})}}catch(a){console.error(`Failed to delete ${e}:`,a),V({show:!0,message:`Error deleting ${e} record.`,type:"error"})}finally{Z({show:!1,type:"",item:null,id:null})}},className:"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white bg-red-600 hover:bg-red-700 transition-colors text-sm",children:"Delete"})]})]})]}),(0,n.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes slideUp {\n          from { transform: translateY(20px); opacity: 0; }\n          to { transform: translateY(0); opacity: 1; }\n        }\n        @keyframes slideIn {\n          from { transform: translateX(-10px); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n        .animate-fadeIn { animation: fadeIn 0.3s ease-out; }\n        .animate-slideUp { animation: slideUp 0.4s ease-out; }\n        .animate-slideIn { animation: slideIn 0.3s ease-out; }\n        .animate-spin-slow {\n            animation: spin 1s linear infinite;\n        }\n        @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n        }\n      "})]})},h=[{label:"SHIFT",value:"10 AM - 8 PM"},{label:"WEEKLY OFF POLICY",value:"All Sat - Sun"},{label:"LEAVE PLAN",value:"Leave Plan"},{label:"HOLIDAY CALENDAR",value:"Anasol Holiday Plan"},{label:"ATTENDANCE NUMBER",value:"-"},{label:"PAYROLL TIME SOURCE",value:"Attendance"},{label:"ATTENDANCE CAPTURE SCHEME",value:"Capture Scheme Anasol"},{label:"ATTENDANCE PENALIZATION POLICY",value:"Anasol Penalization Policy"},{label:"SHIFT WEEKLY OFF RULE",value:"-Not Set-"},{label:"SHIFT ALLOWANCE POLICY",value:"-Not Set-"},{label:"OVERTIME",value:"-Not Set-"}],p=[{label:"EXPENSE POLICY",value:"-"},{label:"TIMESHEET POLICY",value:"-"},{label:"LOAN POLICY",value:"-"},{label:"AIR TICKET POLICY",value:"-"}],b=[{label:"BUSINESS UNIT",value:"-"},{label:"DEPARTMENT",value:"Software Development"},{label:"LOCATION",value:"ANASOL CONSULTANCY SERVICES PRIVATE..."},{label:"COST CENTER",value:"-Not Set-"},{label:"LEGAL ENTITY",value:"ANASOL PRIVATE LIMITED"},{label:"REPORTS TO",value:"-"},{label:"MANAGER OF MANAGER (L2 MANAGER)",value:"-"},{label:"DIRECT REPORTS",value:"0 Employees"}],y={jobDetails:{icon:o.ZDc,color:"from-blue-500 to-blue-700",bgColor:"bg-blue-50",darkBgColor:"bg-blue-900/20",borderColor:"border-blue-200",darkBorderColor:"border-blue-700",textColor:"text-blue-700",darkTextColor:"text-blue-400",title:"Job Details",description:"Employment information and job specifications"},employeeTime:{icon:o.YmN,color:"from-green-500 to-green-700",bgColor:"bg-green-50",darkBgColor:"bg-green-900/20",borderColor:"border-green-200",darkBorderColor:"border-green-700",textColor:"text-green-700",darkTextColor:"text-green-400",title:"Employee Time",description:"Work schedule and attendance policies"},otherPolicies:{icon:o.Zno,color:"from-orange-500 to-orange-700",bgColor:"bg-orange-50",darkBgColor:"bg-orange-900/20",borderColor:"border-orange-200",darkBorderColor:"border-orange-700",textColor:"text-orange-700",darkTextColor:"text-orange-400",title:"Other Policies",description:"Additional company policies and guidelines"},organizationDetails:{icon:o.JDl,color:"from-purple-500 to-purple-700",bgColor:"bg-purple-50",darkBgColor:"bg-purple-900/20",borderColor:"border-purple-200",darkBorderColor:"border-purple-700",textColor:"text-purple-700",darkTextColor:"text-purple-400",title:"Organization Details",description:"Departmental and reporting structure"}},f=e=>{let{label:r,value:t,note:a,status:s,theme:l}=e;return(0,n.jsx)("div",{className:"group p-3 sm:p-4 rounded-none sm:rounded-lg md:rounded-xl border transition-all duration-300 hover:scale-105 "+("dark"===l?"bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600 hover:shadow-md hover:shadow-blue-500/20":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100 hover:shadow-md"),children:(0,n.jsx)("div",{className:"flex items-start justify-between",children:(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 "+("dark"===l?"text-gray-400":"text-gray-500"),children:r}),"active"===s?(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,n.jsx)("span",{className:"text-sm font-semibold break-words "+("dark"===l?"text-white":"text-gray-900"),children:t})]}),a&&(0,n.jsx)("span",{className:"text-xs px-2 py-1 rounded-full break-words "+("dark"===l?"text-gray-400 bg-gray-700":"text-gray-500 bg-gray-100"),children:a})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-semibold leading-relaxed break-words "+("dark"===l?"text-white":"text-gray-900"),children:t||(0,n.jsx)("span",{className:"italic "+("dark"===l?"text-gray-500":"text-gray-400"),children:"Not provided"})}),a&&(0,n.jsx)("p",{className:"text-xs mt-1 px-2 py-1 rounded-md inline-block break-words "+("dark"===l?"bg-blue-900/40 text-blue-300":"bg-blue-50 text-blue-700"),children:a})]})]})})})},v=e=>{let{sectionKey:r,title:t,data:a,children:s,theme:l}=e;const i=y[r],d=i.icon,m=a&&a.length>0;return(0,n.jsxs)("div",{className:"border-2 rounded-none sm:rounded-xl md:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 \n                   overflow-hidden group hover:scale-[1.02] mb-4 sm:mb-6 md:mb-8 "+("dark"===l?`bg-gray-800 ${i.darkBorderColor} hover:shadow-blue-500/20`:`bg-white ${i.borderColor}`),children:[(0,n.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b-2 relative overflow-hidden "+("dark"===l?`${i.darkBgColor} ${i.darkBorderColor}`:`${i.bgColor} ${i.borderColor}`),children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/30"}),(0,n.jsx)("div",{className:"relative flex items-center justify-between",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,n.jsx)("div",{className:"p-2 sm:p-3 rounded-lg sm:rounded-xl shadow-md transform group-hover:scale-110 transition-transform duration-300 "+("dark"===l?"bg-gray-700":"bg-white"),children:(0,n.jsx)(d,{className:`w-6 h-6 sm:w-8 sm:h-8 ${"dark"===l?i.darkTextColor:i.textColor}`})}),(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsxs)("h4",{className:`text-lg sm:text-xl font-bold flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 ${"dark"===l?i.darkTextColor:i.textColor}`,children:[(0,n.jsx)("span",{className:"break-words",children:t}),m&&(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)(o.G3G,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"}),(0,n.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Active"})]})]}),(0,n.jsx)("p",{className:"text-xs sm:text-sm mt-1 break-words "+("dark"===l?"text-gray-400":"text-gray-600"),children:i.description})]})]})})]}),(0,n.jsx)("div",{className:"p-4 sm:p-6 md:p-8",children:m?(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-3 md:gap-4",children:[a.map((e,r)=>(0,n.jsx)(f,{label:e.label,value:e.value,note:e.note,status:e.status,theme:l},r)),s]}):(0,n.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,n.jsx)("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${"dark"===l?i.darkBgColor:i.bgColor}`,children:(0,n.jsx)(d,{className:`w-8 h-8 sm:w-10 sm:h-10 opacity-50 ${"dark"===l?i.darkTextColor:i.textColor}`})}),(0,n.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-2 "+("dark"===l?"text-white":"text-gray-800"),children:["No ",t," Available"]}),(0,n.jsxs)("p",{className:"text-sm mb-4 sm:mb-6 max-w-sm mx-auto px-4 "+("dark"===l?"text-gray-400":"text-gray-500"),children:[t," information is not currently available or configured."]})]})})]})},j=e=>{let{completedSections:r,totalSections:t,theme:a}=e;const s=r/t*100;return(0,n.jsxs)("div",{className:"rounded-none sm:rounded-xl md:rounded-2xl p-4 sm:p-6 shadow-lg border "+("dark"===a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,n.jsx)("h3",{className:"text-base sm:text-lg font-bold "+("dark"===a?"text-white":"text-gray-800"),children:"Job Information"}),(0,n.jsxs)("span",{className:"text-sm font-medium "+("dark"===a?"text-gray-400":"text-gray-600"),children:[r,"/",t," Sections"]})]}),(0,n.jsx)("div",{className:"w-full rounded-full h-2 sm:h-3 mb-3 sm:mb-4 overflow-hidden "+("dark"===a?"bg-gray-700":"bg-gray-200"),children:(0,n.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 sm:h-3 rounded-full transition-all duration-700 ease-out",style:{width:`${s}%`}})}),(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsxs)("span",{className:""+("dark"===a?"text-gray-400":"text-gray-600"),children:[s.toFixed(0),"% Complete"]}),100===s&&(0,n.jsxs)("span",{className:"text-green-600 font-semibold flex items-center",children:[(0,n.jsx)(o.G3G,{className:"w-4 h-4 mr-1"}),"All Set!"]})]})]})},w=e=>{let{theme:r}=e;const[t,s]=(0,a.useState)(!1);return(0,n.jsxs)("div",{className:"col-span-1 lg:col-span-2 p-4 sm:p-6 rounded-none sm:rounded-lg md:rounded-xl border "+("dark"===r?"bg-gradient-to-br from-indigo-900/30 to-purple-900/30 border-indigo-700":"bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-200"),children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsx)("h4",{className:"text-sm font-semibold mb-1 "+("dark"===r?"text-white":"text-gray-800"),children:"Attendance Tracking"}),(0,n.jsx)("p",{className:"text-xs break-words "+("dark"===r?"text-gray-400":"text-gray-600"),children:"Control automated attendance monitoring"})]}),(0,n.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer group flex-shrink-0",children:[(0,n.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:e=>s(e.target.checked)}),(0,n.jsx)("div",{className:"w-12 h-7 sm:w-14 sm:h-8 rounded-full peer transition-all duration-300 \n                         peer-checked:after:translate-x-5 sm:peer-checked:after:translate-x-6 peer-checked:after:border-white \n                         after:content-[''] after:absolute after:top-1 after:left-1 \n                         after:bg-white after:border after:rounded-full \n                         after:h-5 after:w-5 sm:after:h-6 sm:after:w-6 after:transition-all after:shadow-md\n                         peer-checked:bg-gradient-to-r peer-checked:from-purple-500 peer-checked:to-indigo-600\n                         group-hover:shadow-lg "+("dark"===r?"bg-gray-600 after:border-gray-500":"bg-gray-200 after:border-gray-300")}),(0,n.jsx)("span",{className:"ml-3 text-sm font-medium "+("dark"===r?"text-gray-300":"text-gray-700"),children:t?"Disabled":"Enabled"})]})]}),t&&(0,n.jsx)("div",{className:"mt-3 p-3 border rounded-lg "+("dark"===r?"bg-yellow-900/30 border-yellow-700":"bg-yellow-50 border-yellow-200"),children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(o.tr_,{className:"w-4 h-4 text-yellow-600 flex-shrink-0"}),(0,n.jsx)("p",{className:"text-xs break-words "+("dark"===r?"text-yellow-300":"text-yellow-700"),children:"Attendance tracking is currently disabled for this employee"})]})})]})},N=()=>{const{empID:e}=(0,l.g)(),r=(0,l.zy)(),{theme:t}=(0,a.useContext)(s.o),[i,m]=(0,a.useState)(null),[c,x]=(0,a.useState)(null),[u,g]=(0,a.useState)(!0),[y,f]=(0,a.useState)({completed:0,total:4}),N=new URLSearchParams(r.search),k="true"===N.get("fromContextMenu"),C=N.get("targetEmployeeId"),E=k&&C?C:e,A=k&&C&&C!==e;return(0,a.useEffect)(()=>{(async()=>{try{let e=await d.yE.get(`employee/${E}/job/details`);console.log("job data : ",e.data),m(e.data)}catch(e){console.log("job error : ",e)}finally{g(!1)}})()},[E]),(0,a.useEffect)(()=>{if(i){const e=[{label:"EMPLOYEE NUMBER",value:i.employeeId},{label:"DATE OF JOINING",value:i.dateOfJoining},{label:"JOB TITLE - PRIMARY",value:i.jobTitlePrimary},{label:"JOB TITLE - SECONDARY",value:i.jobTitleSecondary||"-"},{label:"IN PROBATION?",value:`${i.inProbation} ${i.probationStartDate||"-"} - ${i.probationEndDate||"-"}`,note:i.probationPolicy||"Default Probation Policy"},{label:"NOTICE PERIOD",value:"-"},{label:"WORKER TYPE",value:i.workerType||"Intern"},{label:"TIME TYPE",value:i.timeType},{label:"CONTRACT STATUS",value:i.contractStatus,note:i.contractStartDate,status:"Active"===i.contractStatus?"active":""}];x(e);const r=[i,h,p,b].filter(e=>e&&e.length>0).length;f({completed:r||1,total:4})}},[i]),u?(0,n.jsx)("div",{className:"min-h-screen "+("dark"===t?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6"}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)(o.ZDc,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-500"})})]}),(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 "+("dark"===t?"text-white":"text-gray-800"),children:"Loading Job Information"}),(0,n.jsx)("p",{className:"text-sm sm:text-base "+("dark"===t?"text-gray-300":"text-gray-600"),children:"Fetching employment details and policies..."})]})})}):c?(0,n.jsx)("div",{className:"min-h-screen "+("dark"===t?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8 lg:py-12",children:[k&&(0,n.jsx)("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-xl md:rounded-2xl border-l-4 border-blue-500 shadow-lg "+("dark"===t?"bg-blue-900/20 border-blue-400":"bg-blue-50 border-blue-500"),children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(o.GNz,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 "+("dark"===t?"text-blue-400":"text-blue-600")}),(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsx)("p",{className:"font-semibold text-sm sm:text-base "+("dark"===t?"text-blue-400":"text-blue-800"),children:"Viewing Employee Job Details"}),(0,n.jsxs)("p",{className:"text-xs sm:text-sm break-words "+("dark"===t?"text-blue-300":"text-blue-700"),children:["Employee ID: ",C,A&&" \u2022 Read-only access"]})]})]})}),(0,n.jsx)("div",{className:"mb-6 sm:mb-8 md:mb-12 mx-4 sm:mx-0",children:(0,n.jsx)(j,{completedSections:y.completed,totalSections:y.total,theme:t})}),(0,n.jsxs)("div",{className:"space-y-4 sm:space-y-6 md:space-y-8",children:[(0,n.jsx)(v,{sectionKey:"jobDetails",title:"Job Details",data:c,theme:t}),(0,n.jsx)(v,{sectionKey:"employeeTime",title:"Employee Time",data:h,theme:t,children:(0,n.jsx)(w,{theme:t})}),(0,n.jsx)(v,{sectionKey:"otherPolicies",title:"Other Policies",data:p,theme:t}),(0,n.jsx)(v,{sectionKey:"organizationDetails",title:"Organization Details",data:b,theme:t})]})]})}):(0,n.jsx)("div",{className:"min-h-screen "+("dark"===t?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 "+("dark"===t?"bg-red-900/30":"bg-red-100"),children:(0,n.jsx)(o.tr_,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-500"})}),(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 "+("dark"===t?"text-white":"text-gray-800"),children:"Unable to Load Job Details"}),(0,n.jsx)("p",{className:"text-sm sm:text-base "+("dark"===t?"text-gray-300":"text-gray-600"),children:"Job information is not available for this employee."})]})})})},k=e=>{let r,{children:t,onClose:a,title:s,type:l,theme:i}=e,d=null;return"success"===l?(r="text-green-600",d=(0,n.jsx)(o.G3G,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-500"})):"error"===l?(r="text-red-600",d=(0,n.jsx)(o.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-500"})):"confirm"===l&&(r="text-yellow-600",d=(0,n.jsx)(o.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500"})),(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-250",children:(0,n.jsxs)("div",{className:"p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-md m-4 border "+("dark"===i?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,n.jsxs)("div",{className:"flex items-center mb-4",children:[d&&(0,n.jsx)("span",{className:"mr-3",children:d}),(0,n.jsx)("h3",{className:`text-lg sm:text-xl font-bold ${r}`,children:s})]}),t]})})},C={aadhaar:[{label:"Aadhaar Number",name:"aadhaarNumber",type:"text",required:!0,hint:"Must be 12 digits starting with 2-9 (e.g., 234567891012)"},{label:"Enrollment Number",name:"enrollmentNumber",type:"text",required:!0,hint:"Format: 1234/12345/1234567"},{label:"Date of Birth",name:"dateOfBirth",type:"date",required:!0,hint:"Select your birth date"},{label:"Name",name:"aadhaarName",type:"text",required:!0,hint:"Name as per Aadhaar card (3-50 characters)"},{label:"Address",name:"address",type:"textarea",required:!0,hint:"Complete address as per Aadhaar (10-200 characters)"},{label:"Gender",name:"gender",type:"select",options:["Male","Female","Other"],required:!0,hint:"Select your gender"},{label:"Aadhaar Image",name:"aadhaarImage",type:"file",hint:"Upload clear image of your Aadhaar card"}],pan:[{label:"PAN Number",name:"panNumber",type:"text",required:!0,hint:"10-character format: 5 letters + 4 digits + 1 letter (e.g., ABCDE1234F)"},{label:"PAN Name",name:"panName",type:"text",required:!0,hint:"Name as per PAN card (3-100 characters)"},{label:"Date of Birth",name:"dateOfBirth",type:"text",required:!0,hint:"Format: YYYY-MM-DD (e.g., 1990-01-15)"},{label:"Parent's Name",name:"parentsName",type:"text",required:!0,hint:"Father's or mother's name as per PAN"},{label:"PAN Image",name:"panImage",type:"file",hint:"Upload clear image of your PAN card"}],drivingLicense:[{label:"License Number",name:"licenseNumber",type:"text",required:!0,hint:"Your driving license number (up to 20 characters)"},{label:"Name",name:"name",type:"text",required:!0,hint:"Name as per driving license (up to 100 characters)"},{label:"Date of Birth",name:"dateOfBirth",type:"date",required:!0,hint:"Select your birth date as per license"},{label:"Blood Group",name:"bloodGroup",type:"select",options:["A+","A-","B+","B-","AB+","AB-","O+","O-"],required:!0,hint:"Select your blood group"},{label:"Father's Name",name:"fatherName",type:"text",required:!0,hint:"Father's name as per license (up to 100 characters)"},{label:"Issue Date",name:"issueDate",type:"date",required:!0,hint:"Date when license was issued"},{label:"Expiry Date",name:"expiresOn",type:"date",required:!0,hint:"License expiration date"},{label:"Address",name:"address",type:"textarea",required:!0,hint:"Address as per driving license (up to 255 characters)"},{label:"License Image",name:"licenseImage",type:"file",hint:"Upload clear image of your driving license"}],passport:[{label:"Passport Number",name:"passportNumber",type:"text",required:!0,hint:"6-9 characters starting with letter (e.g., A1234567)"},{label:"Country Code",name:"countryCode",type:"text",required:!0,hint:"2-3 character country code (e.g., IN, USA)"},{label:"Passport Type",name:"passportType",type:"text",required:!0,hint:"Type of passport (e.g., P, S, D)"},{label:"Date of Birth",name:"dateOfBirth",type:"date",required:!0,hint:"Select your birth date as per passport"},{label:"Name",name:"name",type:"text",required:!0,hint:"Name as per passport (3-100 characters)"},{label:"Gender",name:"gender",type:"select",options:["Male","Female","Other"],required:!0,hint:"Select your gender as per passport"},{label:"Date of Issue",name:"dateOfIssue",type:"date",required:!0,hint:"Passport issue date"},{label:"Place of Issue",name:"placeOfIssue",type:"text",required:!0,hint:"City/location where passport was issued"},{label:"Place of Birth",name:"placeOfBirth",type:"text",required:!0,hint:"Your birth place as per passport"},{label:"Date of Expiration",name:"dateOfExpiration",type:"date",required:!0,hint:"Passport expiry date"},{label:"Address",name:"address",type:"textarea",required:!0,hint:"Current address as per passport"},{label:"Passport Image",name:"passportImage",type:"file",hint:"Upload clear image of your passport"}],voter:[{label:"Voter ID Number",name:"voterIdNumber",type:"text",required:!0,hint:"Format: 3 letters + 7 digits (e.g., ABC1234567)"},{label:"Full Name",name:"fullName",type:"text",required:!0,hint:"Name as per voter ID (3-100 characters)"},{label:"Relation Name",name:"relationName",type:"text",required:!0,hint:"Father's/Husband's name (3-100 characters)"},{label:"Gender",name:"gender",type:"select",options:["Male","Female","Other"],required:!0,hint:"Select your gender as per voter ID"},{label:"Date of Birth",name:"dateOfBirth",type:"date",required:!0,hint:"Select your birth date"},{label:"Address",name:"address",type:"textarea",required:!0,hint:"Address as per voter ID card"},{label:"Issued Date",name:"issuedDate",type:"date",required:!0,hint:"Date when voter ID was issued"},{label:"Voter Image",name:"uploadVoter",type:"file",hint:"Upload clear image of your voter ID"}]},E={aadhaar:{icon:o.zo4,color:"from-blue-500 to-blue-700",bgColor:"bg-blue-50",darkBgColor:"bg-blue-900/20",borderColor:"border-blue-200",darkBorderColor:"border-blue-700",textColor:"text-blue-700",darkTextColor:"text-blue-400",title:"Aadhaar Card",description:"Government issued identity document"},pan:{icon:o.zo4,color:"from-green-500 to-green-700",bgColor:"bg-green-50",darkBgColor:"bg-green-900/20",borderColor:"border-green-200",darkBorderColor:"border-green-700",textColor:"text-green-700",darkTextColor:"text-green-400",title:"PAN Card",description:"Permanent Account Number for taxation"},drivingLicense:{icon:o.zo4,color:"from-orange-500 to-orange-700",bgColor:"bg-orange-50",darkBgColor:"bg-orange-900/20",borderColor:"border-orange-200",darkBorderColor:"border-orange-700",textColor:"text-orange-700",darkTextColor:"text-orange-400",title:"Driving License",description:"Valid driving permit document"},passport:{icon:o.zo4,color:"from-purple-500 to-purple-700",bgColor:"bg-purple-50",darkBgColor:"bg-purple-900/20",borderColor:"border-purple-200",darkBorderColor:"border-purple-700",textColor:"text-purple-700",darkTextColor:"text-purple-400",title:"Passport",description:"International travel document"},voter:{icon:o.zo4,color:"from-red-500 to-red-700",bgColor:"bg-red-50",darkBgColor:"bg-red-900/20",borderColor:"border-red-200",darkBorderColor:"border-red-700",textColor:"text-red-700",darkTextColor:"text-red-400",title:"Voter ID Card",description:"Electoral identity verification"}},A=()=>{var e,r;const[t,i]=(0,a.useState)(null),[m,c]=(0,a.useState)({}),[x,u]=(0,a.useState)({}),{empID:g}=(0,l.g)(),h=(0,l.zy)(),{theme:p,userData:b}=(0,a.useContext)(s.o),[y,f]=(0,a.useState)(!0),[v,j]=(0,a.useState)({}),[w,N]=(0,a.useState)(""),[A,D]=(0,a.useState)({completed:0,total:5}),[S,I]=(0,a.useState)(!1),[$,P]=(0,a.useState)({show:!1,message:"",type:""}),[B,q]=(0,a.useState)({show:!1,sectionKey:null}),O=new URLSearchParams(h.search),T="true"===O.get("fromContextMenu"),F=O.get("targetEmployeeId"),L=T&&F?F:g,M=!1,Y="ADMIN"===(null===b||void 0===b||null===(e=b.roles)||void 0===e||null===(r=e[0])||void 0===r?void 0:r.toUpperCase());(0,a.useEffect)(()=>{T&&F&&console.log("clicked user from context",F);L&&(async()=>{f(!0);try{const e=[d.yE.get(`employee/${L}/aadhaar`).catch(()=>({data:null})),d.yE.get(`employee/${L}/pan`).catch(()=>({data:null})),d.yE.get(`employee/${L}/driving`).catch(()=>({data:null})),d.yE.get(`employee/${L}/passport`).catch(()=>({data:null})),d.yE.get(`employee/${L}/voter`).catch(()=>({data:null}))],[r,t,a,s,l]=await Promise.all(e),o={aadhaar:r.data,pan:t.data,drivingLicense:a.data,passport:s.data,voter:l.data};c(o);const n=Object.values(o).filter(Boolean).length;D({completed:n,total:5})}catch(e){console.error("Failed to fetch identity data",e)}finally{f(!1)}})()},[L,T,F]);const G=e=>{j({});const r=m[e];u(r||{}),i(e)},R=async e=>{I(!0);try{const r=((e,r)=>{switch(e){case"pan":return(e=>{const r={};return e.panNumber?/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(e.panNumber)||(r.panNumber="Invalid PAN format (e.g., ABCDE1234F)"):r.panNumber="PAN number is required",e.panName?(e.panName.length<3||e.panName.length>100)&&(r.panName="PAN name must be between 3 and 100 characters"):r.panName="PAN name is required",e.dateOfBirth?/^\d{4}-\d{2}-\d{2}$/.test(e.dateOfBirth)||(r.dateOfBirth="Date of birth must be in YYYY-MM-DD format"):r.dateOfBirth="Date of birth is required",e.parentsName||(r.parentsName="Parent's name is required"),r})(r);case"aadhaar":return(e=>{const r={};return e.aadhaarNumber?/^[2-9][0-9]{11}$/.test(e.aadhaarNumber)||(r.aadhaarNumber="Invalid Aadhaar number format"):r.aadhaarNumber="Aadhaar number is required",e.enrollmentNumber?/^[0-9]{4}\/[0-9]{5}\/[0-9]{7}$/.test(e.enrollmentNumber)||(r.enrollmentNumber="Invalid enrollment number format (e.g., 1234/12345/1234567)"):r.enrollmentNumber="Enrollment number is required",e.dateOfBirth||(r.dateOfBirth="Date of birth is required"),e.aadhaarName||(r.aadhaarName="Name is required"),e.address||(r.address="Address is required"),e.gender||(r.gender="Gender is required"),r})(r);case"drivingLicense":return(e=>{const r={};return e.licenseNumber||(r.licenseNumber="License number is required"),e.name||(r.name="Name is required"),e.dateOfBirth||(r.dateOfBirth="Date of birth is required"),e.bloodGroup||(r.bloodGroup="Blood group is required"),e.fatherName||(r.fatherName="Father's name is required"),e.issueDate||(r.issueDate="Issue date is required"),e.expiresOn||(r.expiresOn="Expiry date is required"),e.address||(r.address="Address is required"),r})(r);case"passport":return(e=>{const r={};return e.passportNumber?/^[A-Z][0-9]{6,9}$/.test(e.passportNumber)||(r.passportNumber="Invalid passport number format"):r.passportNumber="Passport number is required",e.countryCode?(e.countryCode.length<2||e.countryCode.length>3)&&(r.countryCode="Country code must be 2-3 characters"):r.countryCode="Country code is required",e.passportType||(r.passportType="Passport type is required"),e.dateOfBirth||(r.dateOfBirth="Date of birth is required"),e.name||(r.name="Name is required"),e.gender||(r.gender="Gender is required"),e.dateOfIssue||(r.dateOfIssue="Date of issue is required"),e.placeOfIssue||(r.placeOfIssue="Place of issue is required"),e.placeOfBirth||(r.placeOfBirth="Place of birth is required"),e.dateOfExpiration||(r.dateOfExpiration="Date of expiration is required"),e.address||(r.address="Address is required"),r})(r);case"voter":return(e=>{const r={};return e.voterIdNumber?/^[A-Z]{3}[0-9]{7}$/.test(e.voterIdNumber)||(r.voterIdNumber="Invalid Voter ID format (e.g., ABC1234567)"):r.voterIdNumber="Voter ID number is required",e.fullName||(r.fullName="Full name is required"),e.relationName||(r.relationName="Relation name is required"),e.gender||(r.gender="Gender is required"),e.dateOfBirth||(r.dateOfBirth="Date of birth is required"),e.address||(r.address="Address is required"),e.issuedDate||(r.issuedDate="Issued date is required"),r})(r);default:return{}}})(e,x);if(Object.keys(r).length>0)return j(r),void I(!1);const t=m[e]?"put":"post",a=new FormData,s={aadhaar:"aadhaarImage",pan:"panImage",drivingLicense:"licenseImage",passport:"passportImage",voter:"voterImage"},l={aadhaar:"aadhaarImage",pan:"panImage",drivingLicense:"licenseImage",passport:"passportImage",voter:"uploadVoter"};let o;switch(e){case"pan":o="post"===t?"panDetails":"panDTO";break;case"voter":o="post"===t?"voterDetails":"voterDTO";break;case"aadhaar":o="aadhaar";break;case"drivingLicense":o="drivingLicense";break;case"passport":o="passportDetails";break;default:throw new Error("Invalid subsection for DTO part name")}const n=l[e],u=x[n];u&&u instanceof File&&a.append(s[e],u);const g={...x};delete g[n],a.append(o,new Blob([JSON.stringify(g)],{type:"application/json"}));const h=L;let p;switch(e){case"aadhaar":p="employee/"+("put"===t?`${h}/aadhaar`:`aadhaar/${h}`);break;case"pan":p=`employee/${h}/pan`;break;case"drivingLicense":p="employee/"+("put"===t?`${h}/driving`:`drivinglicense/${h}`);break;case"passport":p="employee/"+("put"===t?`${h}/passport`:`passportdetails/${h}`);break;case"voter":p=`employee/${h}/voter`;break;default:throw new Error("Invalid subsection for URL")}await d.yE[t](p,a),i(null),j({});const b=e=>"drivingLicense"===e?"driving":e,y=await d.yE.get(`employee/${L}/${b(e)}`);c(r=>{const t={...r,[e]:y.data},a=Object.values(t).filter(Boolean).length;return D({completed:a,total:5}),t}),P({show:!0,message:"Document saved successfully!",type:"success"})}catch(a){var r,t;console.error(`Update for ${e} failed:`,a);const s=(null===(r=a.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)||"An unexpected error occurred. Please try again.";P({show:!0,message:s,type:"error"}),a.response&&400===a.response.status&&"object"===typeof a.response.data&&!a.response.data.timestamp?j(a.response.data):j({general:s})}finally{I(!1)}},U=e=>{q({show:!0,sectionKey:e})},z=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";const d=v[r],m=x[r]||"",c=e=>{((e,r)=>{u(t=>({...t,[e]:r})),v[e]&&j(r=>{const t={...r};return delete t[e],t})})(r,e),"panNumber"===r&&e?/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(e)||j(e=>({...e,[r]:"PAN format: 5 letters + 4 digits + 1 letter (e.g., ABCDE1234F)"})):"aadhaarNumber"===r&&e?/^[2-9][0-9]{11}$/.test(e)||j(e=>({...e,[r]:"Aadhaar must be 12 digits starting with 2-9"})):"voterIdNumber"===r&&e&&(/^[A-Z]{3}[0-9]{7}$/.test(e)||j(e=>({...e,[r]:"Voter ID format: 3 letters + 7 digits (e.g., ABC1234567)"})))};return(0,n.jsxs)("div",{className:"group relative",children:[(0,n.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center "+("dark"===p?"text-gray-200":"text-gray-800"),children:[e,a&&(0,n.jsx)("span",{className:"text-red-500 ml-1 text-sm sm:text-base",children:"*"}),l&&(0,n.jsx)("span",{className:"ml-2 px-2 py-1 text-xs rounded-full "+("dark"===p?"bg-gray-700 text-gray-400":"bg-gray-100 text-gray-500"),children:"Read Only"})]}),i&&(0,n.jsx)("p",{className:"text-xs mb-2 "+("dark"===p?"text-gray-400":"text-gray-500"),children:i}),"select"===t?(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("select",{value:m,onChange:e=>c(e.target.value),className:`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 appearance-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${d?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===p?"border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400":"border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300"} ${l?"dark"===p?"bg-gray-800 cursor-not-allowed opacity-60":"bg-gray-50 cursor-not-allowed opacity-60":""}`,disabled:l,children:[(0,n.jsxs)("option",{value:"",children:["Choose ",e]}),s.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]}),(0,n.jsx)("div",{className:"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,n.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}):"date"===t?(0,n.jsx)("input",{type:"date",value:m,onChange:e=>c(e.target.value),className:`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${d?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===p?"border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400":"border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300"} ${l?"dark"===p?"bg-gray-800 cursor-not-allowed opacity-60":"bg-gray-50 cursor-not-allowed opacity-60":""}`,disabled:l}):"file"===t?(0,n.jsxs)("div",{className:`relative border-2 border-dashed rounded-lg sm:rounded-xl transition-all duration-300 ${d?"border-red-300 bg-red-50":"dark"===p?"border-gray-600 bg-gray-800 hover:border-blue-400 hover:bg-blue-900/20":"border-gray-300 bg-gray-50 hover:border-blue-400 hover:bg-blue-50"} ${l?"opacity-60 cursor-not-allowed":"cursor-pointer"}`,children:[(0,n.jsx)("input",{type:"file",onChange:e=>{var t,a,s;return a=r,s=null===(t=e.target.files)||void 0===t?void 0:t[0],void u(e=>({...e,[a]:s}))},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:l,accept:".jpg,.jpeg,.png,.pdf"}),(0,n.jsxs)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center",children:[(0,n.jsx)(o.xvb,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 "+("dark"===p?"text-gray-500":"text-gray-400")}),(0,n.jsxs)("p",{className:"text-xs sm:text-sm font-medium mb-1 "+("dark"===p?"text-gray-300":"text-gray-700"),children:["Drop your file here, or ",(0,n.jsx)("span",{className:"text-blue-600",children:"browse"})]}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF up to 10MB"})]})]}):"textarea"===t?(0,n.jsx)("textarea",{value:m,onChange:e=>c(e.target.value),className:`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 resize-none h-24 sm:h-32 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${d?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===p?"border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400":"border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300"} ${l?"dark"===p?"bg-gray-800 cursor-not-allowed opacity-60":"bg-gray-50 cursor-not-allowed opacity-60":""}`,placeholder:`Enter ${e.toLowerCase()}...`,required:a,disabled:l}):(0,n.jsx)("input",{type:t,value:m,onChange:e=>c(e.target.value),className:`w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${d?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===p?"border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400":"border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300"} ${l?"dark"===p?"bg-gray-800 cursor-not-allowed opacity-60":"bg-gray-50 cursor-not-allowed opacity-60":""}`,placeholder:`Enter ${e.toLowerCase()}...`,required:a,disabled:l}),d&&(0,n.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600 animate-slideIn",children:[(0,n.jsx)(o.tr_,{className:"w-4 h-4 flex-shrink-0"}),(0,n.jsx)("p",{className:"text-xs sm:text-sm font-medium",children:d})]})]},r)},J=e=>{let{label:r,value:t}=e;return(0,n.jsx)("div",{className:"group p-3 sm:p-4 rounded-lg sm:rounded-xl border transition-all duration-300 hover:scale-105 "+("dark"===p?"bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600 hover:shadow-md hover:shadow-blue-500/20":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100 hover:shadow-md"),children:(0,n.jsx)("div",{className:"flex items-start justify-between",children:(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 "+("dark"===p?"text-gray-400":"text-gray-500"),children:r}),(0,n.jsx)("p",{className:"text-xs sm:text-sm font-semibold leading-relaxed break-words "+("dark"===p?"text-white":"text-gray-900"),children:t||(0,n.jsx)("span",{className:"italic "+("dark"===p?"text-gray-500":"text-gray-400"),children:"Not provided"})})]})})})},V=e=>{let{label:r,link:t}=e;return(0,n.jsx)("div",{className:"group p-3 sm:p-4 rounded-lg sm:rounded-xl border transition-all duration-300 hover:scale-105 "+("dark"===p?"bg-gradient-to-br from-blue-900/30 to-indigo-900/30 border-blue-700":"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-100"),children:(0,n.jsx)("div",{className:"flex items-start justify-between",children:(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider block mb-1 sm:mb-2 "+("dark"===p?"text-blue-400":"text-blue-600"),children:r}),t?(0,n.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm font-semibold hover:underline transition-all duration-200 group break-words "+("dark"===p?"text-blue-300 hover:text-blue-200":"text-blue-700 hover:text-blue-900"),children:[(0,n.jsx)(o.GNz,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsx)("span",{children:"View Document"}),(0,n.jsx)("svg",{className:"w-3 h-3 group-hover:translate-x-1 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]}):(0,n.jsx)("p",{className:"text-xs sm:text-sm font-medium italic break-words "+("dark"===p?"text-gray-500":"text-gray-400"),children:"Document not uploaded"})]})})})},K=e=>{let{title:r,data:t,onEdit:a,subSectionKey:s,onDelete:l,isAdmin:i}=e;const d=E[s],m=!!t;return(0,n.jsxs)("div",{className:"border-2 rounded-none sm:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500\n                     overflow-hidden group hover:scale-[1.02] "+("dark"===p?`bg-gray-800 ${d.darkBorderColor} hover:shadow-blue-500/20`:`bg-white ${d.borderColor}`),children:[(0,n.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b-2 relative overflow-hidden "+("dark"===p?`${d.darkBgColor} ${d.darkBorderColor}`:`${d.bgColor} ${d.borderColor}`),children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/30 z-[0]"}),(0,n.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,n.jsx)("div",{className:"text-2xl sm:text-3xl md:text-4xl transform group-hover:scale-110 transition-transform duration-300",children:(0,n.jsx)(d.icon,{})}),(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsxs)("h4",{className:`text-lg sm:text-xl font-bold flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2 ${"dark"===p?d.darkTextColor:d.textColor}`,children:[(0,n.jsx)("span",{className:"break-words",children:r}),m&&(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)(o.G3G,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"}),(0,n.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Verified"})]})]}),(0,n.jsx)("p",{className:"text-xs sm:text-sm mt-1 break-words "+("dark"===p?"text-gray-400":"text-gray-600"),children:d.description})]})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-end sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[T&&i&&m&&(0,n.jsxs)("button",{onClick:()=>l(s),className:"flex items-center space-x-1 sm:space-x-2 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 focus:ring-4 focus:ring-red-500/20 shadow-md hover:shadow-lg text-xs sm:text-sm "+("dark"===p?"text-red-400 bg-gray-700 border-2 border-red-800 hover:bg-red-900/50":"text-red-600 bg-white border-2 border-red-200 hover:bg-red-50"),children:[(0,n.jsx)(o.dW_,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Delete"})]}),(0,n.jsx)("button",{onClick:()=>a(s),className:"flex items-center space-x-1 sm:space-x-2 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 focus:ring-4 focus:ring-blue-500/20 shadow-md hover:shadow-lg text-xs sm:text-sm "+(m?"dark"===p?`${d.darkTextColor} bg-gray-700 border-2 ${d.darkBorderColor} hover:bg-gray-600`:`${d.textColor} bg-white border-2 ${d.borderColor} hover:bg-gray-50`:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:from-blue-600 hover:to-indigo-700"),children:m?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.zo4,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsx)("span",{children:"Edit Details"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.YHj,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsx)("span",{children:"Add Document"})]})})]})]})]}),(0,n.jsx)("div",{className:"p-4 sm:p-6 md:p-8",children:m?(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4",children:Object.keys(t).map(e=>"employee"===e?null:["uploadAadhaar","panImage","licenseImage","passportImage","uploadVoter"].includes(e)?(0,n.jsx)(V,{label:e.replace(/([A-Z])/g," $1"),link:t[e]},e):(0,n.jsx)(J,{label:e.replace(/([A-Z])/g," $1"),value:t[e]},e))}):(0,n.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,n.jsx)("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 ${"dark"===p?d.darkBgColor:d.bgColor}`,children:(0,n.jsx)("div",{className:`text-2xl sm:text-3xl opacity-50 ${"dark"===p?d.darkTextColor:d.textColor}`,children:(0,n.jsx)(d.icon,{})})}),(0,n.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-2 "+("dark"===p?"text-white":"text-gray-800"),children:["No ",r," Added"]}),(0,n.jsx)("p",{className:"text-sm mb-4 sm:mb-6 max-w-sm mx-auto px-4 "+("dark"===p?"text-gray-400":"text-gray-500"),children:`Add your ${r.toLowerCase()} information to complete your profile and enhance security.`}),(0,n.jsxs)("button",{onClick:()=>a(s),className:"inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-lg sm:rounded-xl hover:from-blue-600 hover:to-indigo-700 transform hover:scale-105 transition-all duration-300 shadow-lg text-sm",children:[(0,n.jsx)(o.YHj,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:["Add ",r]})]})]})})]})},W=()=>{const e=A.completed/A.total*100;return(0,n.jsxs)("div",{className:"rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border "+("dark"===p?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,n.jsx)("h3",{className:"text-base sm:text-lg font-bold "+("dark"===p?"text-white":"text-gray-800"),children:"Profile Completion"}),(0,n.jsxs)("span",{className:"text-sm font-medium "+("dark"===p?"text-gray-400":"text-gray-600"),children:[A.completed,"/",A.total," Documents"]})]}),(0,n.jsx)("div",{className:"w-full rounded-full h-2 sm:h-3 mb-3 sm:mb-4 overflow-hidden "+("dark"===p?"bg-gray-700":"bg-gray-200"),children:(0,n.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 sm:h-3 rounded-full transition-all duration-700 ease-out",style:{width:`${e}%`}})}),(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsxs)("span",{className:"dark"===p?"text-gray-400":"text-gray-600",children:[e.toFixed(0),"% Complete"]}),100===e&&(0,n.jsxs)("span",{className:"text-green-600 font-semibold flex items-center",children:[(0,n.jsx)(o.G3G,{className:"w-4 h-4 mr-1"}),"All Set!"]})]})]})},H=Object.keys(E).filter(e=>E[e].title.toLowerCase().includes(w.toLowerCase())||E[e].description.toLowerCase().includes(w.toLowerCase()));return(0,n.jsxs)("div",{className:"min-h-screen "+("dark"===p?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:[y?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center px-4",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6"}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)(o.zo4,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-500"})})]}),(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 "+("dark"===p?"text-white":"text-gray-800"),children:"Loading Documents"}),(0,n.jsx)("p",{className:"dark"===p?"text-gray-300":"text-gray-600",children:"Fetching identity information securely..."}),(0,n.jsx)("div",{className:"flex justify-center space-x-2 mt-4",children:[...Array(5)].map((e,r)=>(0,n.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse",style:{animationDelay:.2*r+"s"}},r))})]})}):(0,n.jsxs)("div",{className:"max-w-8xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-6 sm:py-8 md:py-12",children:[T&&(0,n.jsx)("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-l-4 border-blue-500 shadow-lg "+("dark"===p?"bg-blue-900/20 border-blue-400":"bg-blue-50 border-blue-500"),children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(o.GNz,{className:"w-4 h-4 sm:w-5 sm:h-5 "+("dark"===p?"text-blue-400":"text-blue-600")}),(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsx)("p",{className:"font-semibold text-sm sm:text-base "+("dark"===p?"text-blue-400":"text-blue-800"),children:"Viewing Employee Documents"}),(0,n.jsxs)("p",{className:"text-xs sm:text-sm break-words "+("dark"===p?"text-blue-300":"text-blue-700"),children:["Employee ID: ",F,M]})]})]})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-8 sm:mb-12",children:[(0,n.jsx)("div",{className:"lg:col-span-2 mx-4 sm:mx-0",children:(0,n.jsx)(W,{})}),(0,n.jsx)("div",{className:"rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border mx-4 sm:mx-0 "+("dark"===p?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{type:"text",placeholder:"Search documents...",value:w,onChange:e=>N(e.target.value),className:"w-full px-4 sm:px-5 py-3 sm:py-4 pl-10 sm:pl-12 border-2 rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/20 transition-all duration-300 "+("dark"===p?"border-gray-600 bg-gray-700 text-white placeholder-gray-400 focus:border-blue-500":"border-gray-200 bg-white text-black placeholder-gray-500 focus:border-blue-500")}),(0,n.jsx)("svg",{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]}),(()=>{if(!t)return null;const e=t,r=C[e],a=!!m[e],s=E[e];return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-200 p-2 sm:p-4 animate-fadeIn",children:(0,n.jsxs)("div",{className:"rounded-2xl sm:rounded-3xl w-full max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl animate-slideUp "+("dark"===p?"bg-gray-800":"bg-white"),children:[(0,n.jsxs)("div",{className:`px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ${s.color} text-white relative overflow-hidden`,children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,n.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,n.jsx)("div",{className:"text-2xl sm:text-3xl md:text-4xl",children:(0,n.jsx)(s.icon,{})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:[a?"Update":"Add"," ",s.title]}),(0,n.jsx)("p",{className:"text-white/90 text-xs sm:text-sm",children:s.description})]})]}),(0,n.jsx)("button",{onClick:()=>i(null),className:"p-2 sm:p-3 hover:bg-white/20 rounded-full transition-all duration-200 group","aria-label":"Close",children:(0,n.jsx)(o.$8F,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform duration-200"})})]})]}),(0,n.jsx)("div",{className:"overflow-y-auto max-h-[calc(95vh-200px)]",children:(0,n.jsxs)("form",{className:"p-4 sm:p-6 md:p-8",onSubmit:r=>{r.preventDefault(),R(e)},children:[(0,n.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:r.map(e=>{const r=["aadhaarNumber","panNumber","licenseNumber","passportNumber","voterIdNumber"].includes(e.name),t=a&&r;return z(e.label,e.name,e.type,e.required,e.options,t,e.hint)})}),v.general&&(0,n.jsx)("div",{className:"mt-4 sm:mt-6 p-4 sm:p-5 border-l-4 border-red-400 rounded-r-xl animate-slideIn "+("dark"===p?"bg-red-900/20":"bg-red-50"),children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(o.tr_,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400 mr-3"}),(0,n.jsx)("p",{className:"font-medium "+("dark"===p?"text-red-300":"text-red-800"),children:v.general})]})})]})}),(0,n.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 "+("dark"===p?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:[(0,n.jsx)("button",{type:"button",onClick:()=>i(null),className:"px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold transition-all duration-200 focus:ring-4 focus:ring-gray-500/20 "+("dark"===p?"border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500":"border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400"),children:"Cancel"}),(0,n.jsx)("button",{type:"button",onClick:()=>R(e),disabled:S,className:`px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r ${s.color} text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-blue-500/30 flex items-center justify-center space-x-2 ${S?"cursor-not-allowed opacity-75":""}`,children:S?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full animate-spin-slow"}),(0,n.jsx)("span",{children:"Updating..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.G3G,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,n.jsx)("span",{children:a?"Update Document":"Save Document"})]})})]})]})})})(),$.show&&(0,n.jsxs)(k,{onClose:()=>P({show:!1,message:"",type:""}),title:"success"===$.type?"Success":"Error",type:$.type,theme:p,children:[(0,n.jsx)("p",{className:"mb-4 sm:mb-6 "+("dark"===p?"text-gray-300":"text-gray-700"),children:$.message}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)("button",{onClick:()=>P({show:!1,message:"",type:""}),className:("success"===$.type?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700")+" text-white font-semibold py-2 px-4 sm:px-6 rounded-lg transition-colors text-sm",children:"OK"})})]}),(0,n.jsxs)("div",{className:"space-y-4 sm:space-y-6 md:space-y-8",children:[H.map(e=>(0,n.jsx)(K,{title:E[e].title,data:m[e],onEdit:G,subSectionKey:e,onDelete:U,isAdmin:Y},e)),0===H.length&&w&&(0,n.jsxs)("div",{className:"text-center py-12 sm:py-16 mx-4 sm:mx-0",children:[(0,n.jsx)("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-4 "+("dark"===p?"bg-gray-800":"bg-gray-100"),children:(0,n.jsx)("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 "+("dark"===p?"text-gray-500":"text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,n.jsx)("h3",{className:"text-base sm:text-lg font-semibold mb-2 "+("dark"===p?"text-white":"text-gray-800"),children:"No documents found"}),(0,n.jsx)("p",{className:"dark"===p?"text-gray-400":"text-gray-500",children:"Try adjusting your search terms"})]})]}),B.show&&(0,n.jsxs)(k,{onClose:()=>q({show:!1,sectionKey:null}),title:"Confirm Deletion",type:"confirm",theme:p,children:[(0,n.jsxs)("p",{className:"mb-4 sm:mb-6 "+("dark"===p?"text-gray-300":"text-gray-700"),children:["Are you sure you want to delete the ",E[B.sectionKey].title,"? This action cannot be undone."]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3",children:[(0,n.jsx)("button",{onClick:()=>q({show:!1,sectionKey:null}),className:"px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm "+("dark"===p?"bg-gray-600 hover:bg-gray-500":"bg-gray-200 hover:bg-gray-300"),children:"Cancel"}),(0,n.jsx)("button",{onClick:async()=>{const{sectionKey:e}=B,r=E[e].title;try{let t=e;"drivingLicense"===e&&(t="driving");const a=`employee/${L}/${t}`;await d.yE.delete(a),P({show:!0,message:`${r} deleted successfully.`,type:"success"}),c(r=>{const t={...r,[e]:null},a=Object.values(t).filter(Boolean).length;return D({completed:a,total:5}),t})}catch(t){console.error(`Failed to delete ${r}:`,t),P({show:!0,message:`Error deleting ${r}. You may not have the required permissions.`,type:"error"})}finally{q({show:!1,sectionKey:null})}},className:"px-4 sm:px-6 py-2 rounded-lg font-semibold text-white bg-red-600 hover:bg-red-700 transition-colors text-sm",children:"Delete"})]})]})]}),(0,n.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes slideUp {\n          from { transform: translateY(20px); opacity: 0; }\n          to { transform: translateY(0); opacity: 1; }\n        }\n        @keyframes slideIn {\n          from { transform: translateX(-10px); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n        .animate-fadeIn {\n          animation: fadeIn 0.3s ease-out;\n        }\n        .animate-slideUp {\n          animation: slideUp 0.4s ease-out;\n        }\n        .animate-slideIn {\n          animation: slideIn 0.3s ease-out;\n        }\n        .animate-spin-slow {\n          animation: spin 1s linear infinite;\n        }\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})};var D=t(184);const S=e=>{let{children:r,onClose:t,title:a,type:s,theme:l}=e,i="",d=null;return"success"===s?(i="text-green-600",d=(0,n.jsx)(o.G3G,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-500"})):"error"===s?(i="text-red-600",d=(0,n.jsx)(o.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-500"})):"confirm"===s&&(i="text-yellow-600",d=(0,n.jsx)(o.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500"})),(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-[250]",children:(0,n.jsxs)("div",{className:"p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-md m-4 border "+("dark"===l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,n.jsxs)("div",{className:"flex items-center mb-4",children:[d&&(0,n.jsx)("span",{className:"mr-3",children:d}),(0,n.jsx)("h3",{className:`text-lg sm:text-xl font-bold ${i}`,children:a})]}),r]})})},I=()=>{var e,r;const[t,o]=(0,a.useState)([]),[i,m]=(0,a.useState)(!0),[c,x]=(0,a.useState)(null),{empID:u}=(0,l.g)(),g=(0,l.zy)(),{userData:h,theme:p}=(0,a.useContext)(s.o),[b,y]=(0,a.useState)(!1),[f,v]=(0,a.useState)(null),[j,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)({show:!1,message:"",type:""}),[C,E]=(0,a.useState)({show:!1,certificateId:null}),A=new URLSearchParams(g.search),I="true"===A.get("fromContextMenu"),$=A.get("targetEmployeeId"),P=I&&$?$:u,B=null===h||void 0===h||null===(e=h.roles)||void 0===e||null===(r=e[0])||void 0===r?void 0:r.toUpperCase(),q=["ADMIN","MANAGER","HR"].includes(B),O=P===u,T=O||q;(0,a.useEffect)(()=>{(async()=>{if(P)try{m(!0);const e=await d.yE.get(`/employee/${P}/achievements`);console.log(`Fetching achievements for: ${P}`,e.data),o(e.data),x(null)}catch(e){x("Failed to fetch achievements. Please try again later."),console.error("Error fetching achievements:",e)}finally{m(!1)}})()},[P]);const F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(v(e),w(!0)):(v({certificationName:"",issuingAuthorityName:"",certificationURL:"",issueMonth:"",issueYear:"",expirationMonth:"",expirationYear:"",licenseNumber:""}),w(!1)),y(!0)},L=()=>{y(!1),v(null)};return i?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center "+("dark"===p?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,n.jsxs)("div",{className:"text-center px-4",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 sm:h-20 sm:w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-4 sm:mb-6"}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)(D.SBv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-500"})})]}),(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 "+("dark"===p?"text-white":"text-gray-800"),children:"Loading Achievements"}),(0,n.jsx)("p",{className:"text-sm sm:text-base "+("dark"===p?"text-gray-300":"text-gray-600"),children:"Fetching certifications and achievements..."})]})}):c?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center "+("dark"===p?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,n.jsxs)("div",{className:"text-center px-4",children:[(0,n.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 "+("dark"===p?"bg-red-900/30":"bg-red-100"),children:(0,n.jsx)(D.SBv,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-500"})}),(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 "+("dark"===p?"text-white":"text-gray-800"),children:"Error Loading Achievements"}),(0,n.jsx)("p",{className:"text-sm sm:text-base "+("dark"===p?"text-red-300":"text-red-500"),children:c})]})}):(0,n.jsx)("div",{className:"min-h-screen "+("dark"===p?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,n.jsxs)("div",{className:"max-w-8xl mx-auto px-0 sm:px-4 md:px-6 lg:px-8 xl:px-12 py-6 sm:py-8 md:py-12",children:[(0,n.jsx)("div",{className:"rounded-none sm:rounded-2xl p-4 sm:p-6 shadow-lg border mb-6 sm:mb-8 mx-4 sm:mx-0 "+("dark"===p?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,n.jsx)("div",{className:"p-2 sm:p-3 rounded-lg sm:rounded-xl shadow-md flex-shrink-0 "+("dark"===p?"bg-gray-700":"bg-white"),children:(0,n.jsx)(D.SBv,{className:"w-6 h-6 sm:w-8 sm:h-8 "+("dark"===p?"text-yellow-400":"text-yellow-500")})}),(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold break-words "+("dark"===p?"text-white":"text-gray-800"),children:"Achievements & Certifications"}),(0,n.jsx)("p",{className:"text-xs sm:text-sm break-words "+("dark"===p?"text-gray-400":"text-gray-600"),children:O?"Your professional certifications and achievements":"Professional certifications and achievements"})]})]}),T&&(0,n.jsxs)("button",{onClick:()=>F(),className:"w-full sm:w-auto px-4 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold flex items-center justify-center space-x-2 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 text-sm sm:text-base "+("dark"===p?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700"),title:O?"Add your achievement":"Add achievement",children:[(0,n.jsx)(D.OiG,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:O?"Add My Achievement":"Add Achievement"}),(0,n.jsx)("span",{className:"sm:hidden",children:"Add Achievement"})]})]})}),0===t.length?(0,n.jsxs)("div",{className:"text-center py-12 sm:py-16 px-4 sm:px-6 rounded-none sm:rounded-2xl shadow-lg border mx-4 sm:mx-0 "+("dark"===p?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,n.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 "+("dark"===p?"bg-gray-700":"bg-gray-100"),children:(0,n.jsx)(D.SBv,{className:"w-8 h-8 sm:w-10 sm:h-10 "+("dark"===p?"text-gray-500":"text-gray-400")})}),(0,n.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-2 "+("dark"===p?"text-white":"text-gray-800"),children:O?"No Achievements Yet":"No Achievements Found"}),(0,n.jsx)("p",{className:"text-sm max-w-md mx-auto break-words "+("dark"===p?"text-gray-400":"text-gray-500"),children:O?"No achievements have been recorded yet. Add your certifications and accomplishments to showcase your expertise.":"This employee has not added any achievements or certifications yet."}),T&&O&&(0,n.jsxs)("button",{onClick:()=>F(),className:"mt-6 px-4 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold flex items-center space-x-2 mx-auto transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 text-sm "+("dark"===p?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700"),children:[(0,n.jsx)(D.OiG,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:"Add Your First Achievement"})]})]}):(0,n.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:t.map(e=>(0,n.jsxs)("div",{className:"p-4 sm:p-6 rounded-none sm:rounded-2xl shadow-lg border hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] relative group "+("dark"===p?"bg-gray-800 border-gray-700 hover:shadow-blue-500/20":"bg-white border-gray-200"),children:[T&&(0,n.jsxs)("div",{className:"absolute top-4 right-4 sm:top-6 sm:right-6 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[(0,n.jsx)("button",{onClick:()=>F(e),className:"p-2 rounded-lg transition-all duration-200 transform hover:scale-110 "+("dark"===p?"text-gray-400 hover:text-blue-400 hover:bg-gray-700":"text-gray-500 hover:text-blue-600 hover:bg-blue-50"),title:O?"Edit your achievement":"Edit achievement",children:(0,n.jsx)(D.Mbp,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),(0,n.jsx)("button",{onClick:()=>{return r=e.id,void E({show:!0,certificateId:r});var r},className:"p-2 rounded-lg transition-all duration-200 transform hover:scale-110 "+("dark"===p?"text-gray-400 hover:text-red-400 hover:bg-gray-700":"text-gray-500 hover:text-red-600 hover:bg-red-50"),title:O?"Delete your achievement":"Delete achievement",children:(0,n.jsx)(D.qbC,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[(0,n.jsx)("div",{className:"p-3 sm:p-4 rounded-lg sm:rounded-xl shadow-md flex-shrink-0 "+("dark"===p?"bg-gray-700":"bg-gradient-to-br from-blue-50 to-purple-50"),children:(0,n.jsx)(D.SBv,{className:"text-2xl sm:text-3xl "+("dark"===p?"text-yellow-400":"text-yellow-500")})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h3",{className:"text-lg sm:text-xl font-bold mb-2 break-words "+("dark"===p?"text-white":"text-gray-900"),children:e.certificationName}),(0,n.jsxs)("p",{className:"text-sm sm:text-md flex items-center break-words "+("dark"===p?"text-gray-300":"text-gray-600"),children:[(0,n.jsx)(D.ymh,{className:"mr-2 flex-shrink-0"}),e.issuingAuthorityName]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 text-xs sm:text-sm",children:[(0,n.jsxs)("div",{className:"p-2 sm:p-3 rounded-lg "+("dark"===p?"bg-gray-700/50":"bg-gray-50"),children:[(0,n.jsxs)("div",{className:"flex items-center mb-1",children:[(0,n.jsx)(D.bfZ,{className:"mr-2 text-xs "+("dark"===p?"text-gray-400":"text-gray-500")}),(0,n.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide "+("dark"===p?"text-gray-400":"text-gray-500"),children:"Issued"})]}),(0,n.jsxs)("span",{className:"font-medium break-words "+("dark"===p?"text-white":"text-gray-900"),children:[e.issueMonth," ",e.issueYear]})]}),(0,n.jsxs)("div",{className:"p-2 sm:p-3 rounded-lg "+("dark"===p?"bg-gray-700/50":"bg-gray-50"),children:[(0,n.jsxs)("div",{className:"flex items-center mb-1",children:[(0,n.jsx)(D.bfZ,{className:"mr-2 text-xs "+("dark"===p?"text-gray-400":"text-gray-500")}),(0,n.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide "+("dark"===p?"text-gray-400":"text-gray-500"),children:"Expires"})]}),(0,n.jsx)("span",{className:"font-medium break-words "+("dark"===p?"text-white":"text-gray-900"),children:e.expirationMonth&&e.expirationYear?`${e.expirationMonth} ${e.expirationYear}`:"No Expiration"})]}),(0,n.jsxs)("div",{className:"p-2 sm:p-3 rounded-lg sm:col-span-2 lg:col-span-1 "+("dark"===p?"bg-gray-700/50":"bg-gray-50"),children:[(0,n.jsxs)("div",{className:"flex items-center mb-1",children:[(0,n.jsx)(D.Wuj,{className:"mr-2 text-xs "+("dark"===p?"text-gray-400":"text-gray-500")}),(0,n.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide "+("dark"===p?"text-gray-400":"text-gray-500"),children:"License No"})]}),(0,n.jsx)("span",{className:"font-medium break-words "+("dark"===p?"text-white":"text-gray-900"),children:e.licenseNumber||"N/A"})]})]}),e.certificationURL&&(0,n.jsx)("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,n.jsxs)("a",{href:e.certificationURL,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 sm:px-4 py-2 rounded-lg font-semibold transition-all duration-300 hover:scale-105 text-xs sm:text-sm "+("dark"===p?"text-blue-400 bg-blue-900/20 hover:bg-blue-900/40 border border-blue-700":"text-blue-600 bg-blue-50 hover:bg-blue-100 border border-blue-200"),children:[(0,n.jsx)("span",{children:"View Credential"}),(0,n.jsx)(D.EQc,{className:"ml-2 w-3 h-3 sm:w-4 sm:h-4"})]})})]})]})]},e.id))}),b&&(0,n.jsx)("div",{className:"fixed inset-0 backdrop-blur-sm bg-black bg-opacity-50 flex justify-center items-center z-[200] p-2 sm:p-4",children:(0,n.jsxs)("div",{className:"rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto "+("dark"===p?"bg-gray-800":"bg-white"),children:[(0,n.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b "+("dark"===p?"border-gray-700":"border-gray-200"),children:[(0,n.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold break-words "+("dark"===p?"text-white":"text-gray-800"),children:j?O?"Edit Your Achievement":"Edit Achievement":O?"Add Your Achievement":"Add New Achievement"}),(0,n.jsx)("p",{className:"text-xs sm:text-sm mt-1 break-words "+("dark"===p?"text-gray-400":"text-gray-600"),children:j?"Update the achievement details below":"Fill in the details to add a new certification or achievement"})]}),(0,n.jsx)("div",{className:"p-4 sm:p-6 md:p-8",children:(0,n.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const r=new FormData,a=e.target,s=a.achievementFile.files[0],l={certificationName:a.certificationName.value,issuingAuthorityName:a.issuingAuthorityName.value,certificationURL:a.certificationURL.value,issueMonth:a.issueMonth.value,issueYear:a.issueYear.value,expirationMonth:a.expirationMonth.value,expirationYear:a.expirationYear.value,licenseNumber:a.licenseNumber.value};s&&r.append("achievementFile",s),r.append("achievementsDTO",new Blob([JSON.stringify(l)],{type:"application/json"}));try{let e;if(j){const a=`/employee/${P}/${f.id}/achievements`;e=await d.yE.put(a,r,{headers:{"Content-Type":"multipart/form-data"}}),o(t.map(r=>r.id===f.id?e.data:r)),k({show:!0,message:"Achievement updated successfully!",type:"success"})}else{const a=`/employee/achievements/${P}`;e=await d.yE.post(a,r,{headers:{"Content-Type":"multipart/form-data"}}),o([...t,e.data]),k({show:!0,message:"Achievement added successfully!",type:"success"})}L()}catch(i){var n;console.error("Error saving achievement:",(null===(n=i.response)||void 0===n?void 0:n.data)||i.message),k({show:!0,message:"Failed to save achievement. Please check your input and try again.",type:"error"})}},className:"space-y-4 sm:space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===p?"text-gray-300":"text-gray-700"),children:"Certification Name *"}),(0,n.jsx)("input",{name:"certificationName",defaultValue:null===f||void 0===f?void 0:f.certificationName,placeholder:"e.g., AWS Certified Solutions Architect",className:`w-full p-2 sm:p-3 rounded-lg border transition-colors text-sm ${"dark"===p?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===p?"text-gray-300":"text-gray-700"),children:"Issuing Authority *"}),(0,n.jsx)("input",{name:"issuingAuthorityName",defaultValue:null===f||void 0===f?void 0:f.issuingAuthorityName,placeholder:"e.g., Amazon Web Services",className:`w-full p-2 sm:p-3 rounded-lg border transition-colors text-sm ${"dark"===p?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===p?"text-gray-300":"text-gray-700"),children:"Issue Month *"}),(0,n.jsxs)("select",{name:"issueMonth",defaultValue:null===f||void 0===f?void 0:f.issueMonth,className:`w-full p-2 sm:p-3 rounded-lg border transition-colors text-sm ${"dark"===p?"bg-gray-700 border-gray-600 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,required:!0,children:[(0,n.jsx)("option",{value:"",children:"Select Month"}),["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===p?"text-gray-300":"text-gray-700"),children:"Issue Year *"}),(0,n.jsx)("input",{name:"issueYear",type:"number",min:"1990",max:(new Date).getFullYear(),defaultValue:null===f||void 0===f?void 0:f.issueYear,placeholder:"e.g., 2023",className:`w-full p-2 sm:p-3 rounded-lg border transition-colors text-sm ${"dark"===p?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===p?"text-gray-300":"text-gray-700"),children:"Expiration Month"}),(0,n.jsxs)("select",{name:"expirationMonth",defaultValue:null===f||void 0===f?void 0:f.expirationMonth,className:`w-full p-2 sm:p-3 rounded-lg border transition-colors text-sm ${"dark"===p?"bg-gray-700 border-gray-600 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,children:[(0,n.jsx)("option",{value:"",children:"Select Month (Optional)"}),["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===p?"text-gray-300":"text-gray-700"),children:"Expiration Year"}),(0,n.jsx)("input",{name:"expirationYear",type:"number",min:(new Date).getFullYear(),max:"2050",defaultValue:null===f||void 0===f?void 0:f.expirationYear,placeholder:"e.g., 2026",className:`w-full p-2 sm:p-3 rounded-lg border transition-colors text-sm ${"dark"===p?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===p?"text-gray-300":"text-gray-700"),children:"License Number"}),(0,n.jsx)("input",{name:"licenseNumber",defaultValue:null===f||void 0===f?void 0:f.licenseNumber,placeholder:"e.g., AWS-ASA-12345",className:`w-full p-2 sm:p-3 rounded-lg border transition-colors text-sm ${"dark"===p?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===p?"text-gray-300":"text-gray-700"),children:"Certification URL"}),(0,n.jsx)("input",{name:"certificationURL",type:"url",defaultValue:null===f||void 0===f?void 0:f.certificationURL,placeholder:"https://...",className:`w-full p-2 sm:p-3 rounded-lg border transition-colors text-sm ${"dark"===p?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===p?"text-gray-300":"text-gray-700"),children:"Achievement File (Optional)"}),(0,n.jsx)("input",{name:"achievementFile",type:"file",className:`w-full p-2 sm:p-3 rounded-lg border transition-colors text-sm ${"dark"===p?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20`})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 pt-4 sm:pt-6",children:[(0,n.jsx)("button",{type:"button",onClick:L,className:"w-full sm:w-auto px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold transition-all duration-200 text-sm "+("dark"===p?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Cancel"}),(0,n.jsxs)("button",{type:"submit",className:"w-full sm:w-auto px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 text-sm "+("dark"===p?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700"),children:[j?"Update":"Save"," Achievement"]})]})]})})]})}),N.show&&(0,n.jsxs)(S,{onClose:()=>k({show:!1,message:"",type:""}),title:"success"===N.type?"Success":"Error",type:N.type,theme:p,children:[(0,n.jsx)("p",{className:"mb-4 sm:mb-6 text-sm "+("dark"===p?"text-gray-300":"text-gray-700"),children:N.message}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)("button",{onClick:()=>k({show:!1,message:"",type:""}),className:("success"===N.type?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700")+" text-white font-semibold py-2 px-4 sm:px-6 rounded-lg transition-colors text-sm",children:"OK"})})]}),C.show&&(0,n.jsxs)(S,{onClose:()=>E({show:!1,certificateId:null}),title:"Confirm Deletion",type:"confirm",theme:p,children:[(0,n.jsx)("p",{className:"mb-4 sm:mb-6 text-sm "+("dark"===p?"text-gray-300":"text-gray-700"),children:"Are you sure you want to delete this achievement? This action cannot be undone."}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3",children:[(0,n.jsx)("button",{onClick:()=>E({show:!1,certificateId:null}),className:"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm "+("dark"===p?"bg-gray-600 hover:bg-gray-500":"bg-gray-200 hover:bg-gray-300"),children:"Cancel"}),(0,n.jsx)("button",{onClick:async()=>{const{certificateId:e}=C;try{await d.yE.delete(`/employee/${P}/${e}/achievements`),o(t.filter(r=>r.id!==e)),k({show:!0,message:"Achievement deleted successfully!",type:"success"})}catch(r){console.error("Error deleting achievement:",r),k({show:!0,message:"Failed to delete achievement. Please try again.",type:"error"})}finally{E({show:!1,certificateId:null})}},className:"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white bg-red-600 hover:bg-red-700 transition-colors text-sm",children:"Delete"})]})]})]})})};var $=t(3538),P=t(6720),B=t(5440),q=t(3546);const O=()=>{var e,r;const t=(0,l.zy)(),m=(0,l.Zp)(),{empID:c}=(0,l.g)(),{userprofiledata:x,setUserProfileData:u,theme:h,userData:p}=(0,a.useContext)(s.o),b=new URLSearchParams(t.search),y="true"===b.get("fromContextMenu"),f=b.get("targetEmployeeId"),v=y&&f?f:c,j=v===c,w="ADMIN"===(null===p||void 0===p||null===(e=p.roles)||void 0===e||null===(r=e[0])||void 0===r?void 0:r.toUpperCase()),k=j||w&&!j,[C,E]=(0,a.useState)(t.pathname),[S,O]=(0,a.useState)([]),[T,F]=(0,a.useState)(!0),[L,M]=(0,a.useState)(null),[Y,G]=(0,a.useState)(!1),[R,U]=(0,a.useState)({}),[z,J]=(0,a.useState)(null),[V,K]=(0,a.useState)(null),[W,H]=(0,a.useState)(null),[Z,_]=(0,a.useState)(!1),[X,Q]=(0,a.useState)({}),[ee,re]=(0,a.useState)(!1),[te,ae]=(0,a.useState)(!1),se=(0,a.useRef)(null),[le,oe]=(0,a.useState)(!1),[ne,ie]=(0,a.useState)(0),[de,me]=(0,a.useState)(!1),[ce,xe]=(0,a.useState)(!0),[ue,ge]=(0,a.useState)([]),[he,pe]=(0,a.useState)(""),[be,ye]=(0,a.useState)(""),fe=(0,a.useRef)(null),ve=j?x:z,je=j?V||x:W||z,we=((null===je||void 0===je?void 0:je.name)||(null===je||void 0===je?void 0:je.displayName)||(null===ve||void 0===ve?void 0:ve.displayName)||"  ").split(" ").map(e=>e[0]).join("").substring(0,2),Ne=[{name:"About",path:"about",icon:P.LTk},{name:"Profile",path:"profile",icon:$.WoZ},{name:"Job",path:"job",icon:P.r72},{name:"Documents",path:"documents",icon:P.YG2},{name:"Achievements",path:"achievements",icon:P.SeC}];(0,a.useEffect)(()=>{ke(0,!0)},[]);const ke=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!de){me(!0);try{const t=await d.yE.get(`employee/${e}/10/departmentId/asc/all/departments`);console.log("Department Response:",t.data),ge(r?t.data:e=>[...e,...t.data]),xe(10===t.data.length),ie(e)}catch(t){console.log("Error fetching departments:",t),xe(!1)}finally{me(!1)}}};(0,a.useEffect)(()=>{if(Z&&null!==je&&void 0!==je&&je.department){ye(je.department);const e=ue.find(e=>e.departmentName===je.department||je.department.includes(e.departmentName));pe(e?`${e.departmentId}(${e.departmentName})`:je.department)}},[Z,null===je||void 0===je?void 0:je.department,ue]),(0,a.useEffect)(()=>{const e=e=>{fe.current&&!fe.current.contains(e.target)&&oe(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,a.useEffect)(()=>{if(!v)return;(async()=>{try{const e=await d.yE.get(`employee/${v}`),r=await d.yE.get(`employee/${v}/header`);y&&f&&f!==c?(J(e.data),H(r.data)):(u(e.data),U(e.data),K(r.data))}catch(e){console.error("\u274c Error fetching details:",e);try{const e=await d.yE.get(`employee/${v}`);y&&f&&f!==c?J(e.data):(u(e.data),U(e.data))}catch(r){console.error("\u274c Error fetching main employee details:",r)}}})()},[v,u,y,f,c]),(0,a.useEffect)(()=>{E(t.pathname)},[t.pathname]);const Ce=e=>{U(r=>({...r,[e.target.name]:e.target.value}))},Ee=()=>{k&&(Q(je||{}),_(!0))},Ae=e=>{Q(r=>({...r,[e.target.name]:e.target.value}))},De=e=>{const r=`/profile/${c}/${e}`;m(y&&f?`${r}?fromContextMenu=true&targetEmployeeId=${f}`:r)},Se=()=>{ae(!0)},Ie=()=>{re(!1),ae(!1)};return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col "+("dark"===h?"bg-gray-900":"bg-gray-50"),children:[(0,n.jsxs)("div",{className:"hidden lg:block h-48 relative "+("dark"===h?"bg-gray-800":"bg-[#B7D4FF]"),children:[k&&(0,n.jsx)("div",{className:"absolute top-4 right-8",children:(0,n.jsx)("button",{onClick:Ee,className:"p-2 rounded-full transition-colors "+("dark"===h?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-black hover:bg-gray-200"),title:"Edit Header Information",children:(0,n.jsx)(P.Yvo,{className:"w-5 h-5"})})}),(0,n.jsxs)("div",{className:"flex items-start pt-4 px-8",children:[(0,n.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>k&&re(!0),children:[null!==je&&void 0!==je&&je.employeeImage||L?(0,n.jsx)("img",{src:L||je.employeeImage,alt:"Profile",className:"w-32 h-32 rounded-full border border-white shadow object-cover"}):(0,n.jsx)("div",{className:"w-32 h-32 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold text-6xl",children:we}),k&&(0,n.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 flex items-center justify-center",children:(0,n.jsx)(D.p5B,{className:"text-white text-3xl"})})]}),(0,n.jsxs)("div",{className:"ml-8 "+("dark"===h?"text-white":"text-black"),children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:(null===je||void 0===je?void 0:je.name)||(null===ve||void 0===ve?void 0:ve.displayName)}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 gap-y-2 mt-2 "+("dark"===h?"text-white":"text-black"),children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)($.WoZ,{})," ",(0,n.jsx)("span",{children:null===je||void 0===je?void 0:je.employeeId})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(P.r72,{})," ",(0,n.jsx)("span",{children:null===je||void 0===je?void 0:je.jobTitlePrimary})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(P.mm2,{})," ",(0,n.jsx)("span",{children:null===je||void 0===je?void 0:je.workEmail})]}),(null===je||void 0===je?void 0:je.department)&&(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(P.YG2,{})," ",(0,n.jsx)("span",{children:je.department})]}),(null===je||void 0===je?void 0:je.contact)&&(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(D.Cab,{})," ",(0,n.jsx)("span",{children:je.contact})]}),(null===je||void 0===je?void 0:je.location)&&(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(P.gwi,{})," ",(0,n.jsx)("span",{children:je.location})]})]})]})]})]}),(0,n.jsxs)("div",{className:"lg:hidden",children:[(0,n.jsxs)("div",{className:`relative p-4 w-full max-w-md mx-auto rounded-xl ${"dark"===h?"bg-gray-800":"bg-[#B7D4FF]"} flex items-center space-x-4`,children:[k&&(0,n.jsx)("button",{onClick:Ee,className:"absolute top-2 right-2 p-2 rounded-full transition-colors "+("dark"===h?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-600 hover:text-black hover:bg-gray-200"),title:"Edit Header",children:(0,n.jsx)(P.Yvo,{className:"w-4 h-4"})}),(0,n.jsx)("div",{onClick:()=>re(!0),className:"cursor-pointer",children:null!==je&&void 0!==je&&je.employeeImage||L?(0,n.jsx)("img",{src:L||je.employeeImage,alt:"Profile",className:"w-16 h-16 rounded-full border border-white shadow object-cover"}):(0,n.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold text-xl",children:we})}),(0,n.jsxs)("div",{className:"flex-1 grid grid-cols-1 text-xs gap-y-1 "+("dark"===h?"text-white":"text-black"),children:[(0,n.jsx)("div",{className:"font-bold text-base",children:(null===je||void 0===je?void 0:je.name)||(null===ve||void 0===ve?void 0:ve.displayName)}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)($.WoZ,{}),(0,n.jsx)("span",{children:null===je||void 0===je?void 0:je.employeeId})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(P.r72,{}),(0,n.jsx)("span",{children:null===je||void 0===je?void 0:je.jobTitlePrimary})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(P.mm2,{}),(0,n.jsx)("span",{children:null===je||void 0===je?void 0:je.workEmail})]}),(null===je||void 0===je?void 0:je.department)&&(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(P.YG2,{}),(0,n.jsx)("span",{children:je.department})]}),(null===je||void 0===je?void 0:je.contact)&&(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(D.Cab,{}),(0,n.jsx)("span",{children:je.contact})]}),(null===je||void 0===je?void 0:je.location)&&(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(P.gwi,{}),(0,n.jsx)("span",{children:je.location})]})]})]}),(0,n.jsx)("div",{className:`sticky top-0 z-[1] grid grid-cols-5 gap-1 w-full max-w-md mx-auto border-t ${"dark"===h?"border-gray-700 bg-gray-800":"border-black bg-[#B7D4FF]"} px-1`,children:Ne.map(e=>{const r=t.pathname.endsWith(e.path);return(0,n.jsx)("button",{onClick:()=>De(e.path),className:"py-2 px-1 text-xs text-center rounded "+(r?("dark"===h?"text-white border-b-2 border-white":"text-black border-b-2 border-black")+" font-semibold":"dark"===h?"text-gray-400":"text-black opacity-50"),children:e.name},e.name)})}),(0,n.jsx)("div",{className:"max-w-md mx-auto p-3",children:(0,n.jsxs)(l.BV,{children:[(0,n.jsx)(l.qh,{index:!0,element:(0,n.jsx)(l.C5,{to:"profile",replace:!0})}),(0,n.jsx)(l.qh,{path:"about",element:(0,n.jsx)(i,{})}),(0,n.jsx)(l.qh,{path:"profile",element:(0,n.jsx)(g,{})}),(0,n.jsx)(l.qh,{path:"job",element:(0,n.jsx)(N,{})}),(0,n.jsx)(l.qh,{path:"documents",element:(0,n.jsx)(A,{})}),(0,n.jsx)(l.qh,{path:"achievements",element:(0,n.jsx)(I,{})})]})})]}),(0,n.jsxs)("div",{className:"hidden lg:flex flex-1",children:[(0,n.jsx)("main",{className:"flex-1 p-6 "+("dark"===h?"bg-gray-900":"bg-gray-50"),children:(0,n.jsxs)(l.BV,{children:[(0,n.jsx)(l.qh,{index:!0,element:(0,n.jsx)(l.C5,{to:"profile",replace:!0})}),(0,n.jsx)(l.qh,{path:"about",element:(0,n.jsx)(i,{})}),(0,n.jsx)(l.qh,{path:"profile",element:(0,n.jsx)(g,{})}),(0,n.jsx)(l.qh,{path:"job",element:(0,n.jsx)(N,{})}),(0,n.jsx)(l.qh,{path:"documents",element:(0,n.jsx)(A,{})}),(0,n.jsx)(l.qh,{path:"achievements",element:(0,n.jsx)(I,{})})]})}),(0,n.jsxs)("div",{className:`transition-all ${T?"w-64":"w-20"} border-l ${"dark"===h?"bg-gray-900 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[(0,n.jsx)("button",{onClick:()=>F(!T),className:"absolute -left-3 top-4 rounded-full border p-1 shadow z-10 "+("dark"===h?"bg-gray-800 border-gray-600 hover:bg-gray-700 text-white":"bg-white border-gray-300 hover:bg-gray-100 text-gray-600"),children:T?(0,n.jsx)(P.xVu,{}):(0,n.jsx)(P.E_E,{})}),(0,n.jsx)("nav",{className:"p-4 sticky top-0",children:Ne.map(e=>{const r=t.pathname.endsWith(e.path);return(0,n.jsxs)("div",{onClick:()=>De(e.path),className:"flex items-center gap-3 px-4 py-3 rounded-lg cursor-pointer "+(r?"dark"===h?"bg-blue-600 text-white":"bg-black text-white":"dark"===h?"text-gray-300 hover:bg-gray-800":"text-gray-700 hover:bg-gray-100"),children:[(0,n.jsx)(e.icon,{className:"w-5 h-5 "+(r?"text-white":"dark"===h?"text-gray-400":"text-gray-500")}),T&&(0,n.jsx)("span",{children:e.name})]},e.path)})})]})]}),Z&&(0,n.jsx)(B.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4 overflow-y-auto",children:(0,n.jsxs)(B.P.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"w-full max-w-6xl mx-auto rounded-2xl shadow-2xl border-0 overflow-hidden "+("dark"===h?"bg-gray-800":"bg-white"),children:[(0,n.jsxs)("div",{className:"relative bg-gradient-to-r from-blue-600 to-blue-700 p-6 sm:p-8",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(o.zo4,{className:"h-8 w-8 text-white"})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Edit Header Information"}),(0,n.jsx)("p",{className:"mt-1 text-blue-100 text-sm sm:text-base",children:"Update employee header details and contact information"})]})]}),(0,n.jsx)("button",{onClick:()=>_(!1),className:"absolute top-4 right-4 sm:top-6 sm:right-6 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-all duration-200 text-white",children:(0,n.jsx)(o.$8F,{className:"h-5 w-5 sm:h-6 sm:h-6"})})]}),(0,n.jsx)("div",{className:"p-6 sm:p-8 max-h-[70vh] overflow-y-auto",children:(0,n.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={...X,department:be||X.department};console.log("Sending payload:",e);const r=await d.yE.put(`employee/${v}/header`,e);j?K(r.data):H(r.data),_(!1),pe(""),ye(""),alert("Header information updated successfully!")}catch(r){console.error("\u274c Error updating header:",r),alert("Failed to update header information")}},className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"group",children:[(0,n.jsx)("label",{className:"block text-sm font-semibold mb-3 "+("dark"===h?"text-gray-200":"text-gray-700"),children:"Employee ID"}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("input",{type:"text",name:"employeeId",value:X.employeeId||"",onChange:Ae,className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-blue-300 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 "+("dark"===h?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter employee ID"})}),(0,n.jsx)("p",{className:"mt-2 text-xs "+("dark"===h?"text-gray-400":"text-gray-500"),children:"Unique identifier for the employee"})]}),(0,n.jsxs)("div",{className:"group",children:[(0,n.jsx)("label",{className:"block text-sm font-semibold mb-3 "+("dark"===h?"text-gray-200":"text-gray-700"),children:"Full Name"}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("input",{type:"text",name:"name",value:X.name||"",onChange:Ae,className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-blue-300 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 "+("dark"===h?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter full name"})}),(0,n.jsx)("p",{className:"mt-2 text-xs "+("dark"===h?"text-gray-400":"text-gray-500"),children:"Complete name of the employee"})]}),(0,n.jsxs)("div",{className:"group",children:[(0,n.jsx)("label",{className:"block text-sm font-semibold mb-3 "+("dark"===h?"text-gray-200":"text-gray-700"),children:"Job Title"}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("input",{type:"text",name:"jobTitlePrimary",value:X.jobTitlePrimary||"",onChange:Ae,className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-green-300 focus:border-green-500 focus:ring-4 focus:ring-green-100 "+("dark"===h?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter job title"})}),(0,n.jsx)("p",{className:"mt-2 text-xs "+("dark"===h?"text-gray-400":"text-gray-500"),children:"Primary role or position title"})]}),(0,n.jsxs)("div",{className:"group",children:[(0,n.jsx)("label",{className:"block text-sm font-semibold mb-3 "+("dark"===h?"text-gray-200":"text-gray-700"),children:"Department"}),(0,n.jsxs)("div",{className:"relative",ref:fe,children:[(0,n.jsxs)("div",{onClick:()=>oe(!le),className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 cursor-pointer flex justify-between items-center group-hover:border-purple-300 focus:border-purple-500 "+("dark"===h?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-300 text-gray-900"),children:[(0,n.jsx)("span",{className:he||X.department?"":"dark"===h?"text-gray-400":"text-gray-500",children:he||X.department||"Select department"}),(0,n.jsx)(D.Vr3,{className:"transition-transform duration-200 "+(le?"rotate-180":"")})]}),le&&(0,n.jsxs)("div",{className:"absolute z-50 w-full mt-2 max-h-60 overflow-y-auto rounded-xl border-2 shadow-lg "+("dark"===h?"bg-gray-700 border-gray-600":"bg-white border-gray-300"),onScroll:e=>{const{scrollTop:r,scrollHeight:t,clientHeight:a}=e.target;t-r<=a+5&&ce&&!de&&ke(ne+1,!1)},children:[ue.map(e=>(0,n.jsxs)("div",{onClick:()=>(e=>{pe(`${e.departmentId}(${e.departmentName})`),ye(e.departmentName),Q(r=>({...r,department:e.departmentName})),oe(!1)})(e),className:`px-4 py-3 cursor-pointer border-b hover:bg-opacity-80 transition-colors ${"dark"===h?"text-white hover:bg-gray-600 border-gray-600":"text-gray-900 hover:bg-gray-100 border-gray-200"} ${e===ue[ue.length-1]?"border-b-0":""}`,children:[e.departmentId,"(",e.departmentName,")"]},e.departmentId)),de&&(0,n.jsx)("div",{className:"px-4 py-3 text-center "+("dark"===h?"text-gray-400":"text-gray-500"),children:"Loading more departments..."}),!ce&&ue.length>0&&(0,n.jsx)("div",{className:"px-4 py-3 text-center text-sm "+("dark"===h?"text-gray-500":"text-gray-400"),children:"No more departments"})]})]}),(0,n.jsx)("p",{className:"mt-2 text-xs "+("dark"===h?"text-gray-400":"text-gray-500"),children:"Department or division name (Only department name will be saved)"})]}),(0,n.jsxs)("div",{className:"group",children:[(0,n.jsx)("label",{className:"block text-sm font-semibold mb-3 "+("dark"===h?"text-gray-200":"text-gray-700"),children:"Work Email"}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("input",{type:"email",name:"workEmail",value:X.workEmail||"",onChange:Ae,className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-orange-300 focus:border-orange-500 focus:ring-4 focus:ring-orange-100 "+("dark"===h?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter work email"})}),(0,n.jsx)("p",{className:"mt-2 text-xs "+("dark"===h?"text-gray-400":"text-gray-500"),children:"Official company email address"})]}),(0,n.jsxs)("div",{className:"group",children:[(0,n.jsx)("label",{className:"block text-sm font-semibold mb-3 "+("dark"===h?"text-gray-200":"text-gray-700"),children:"Contact Number"}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("input",{type:"text",name:"contact",value:X.contact||"",onChange:Ae,className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-teal-300 focus:border-teal-500 focus:ring-4 focus:ring-teal-100 "+("dark"===h?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter contact number"})}),(0,n.jsx)("p",{className:"mt-2 text-xs "+("dark"===h?"text-gray-400":"text-gray-500"),children:"Primary contact phone number"})]}),(0,n.jsxs)("div",{className:"group lg:col-span-2",children:[(0,n.jsx)("label",{className:"block text-sm font-semibold mb-3 "+("dark"===h?"text-gray-200":"text-gray-700"),children:"Location"}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("input",{type:"text",name:"location",value:X.location||"",onChange:Ae,className:"w-full px-4 py-4 border-2 rounded-xl text-base font-medium transition-all duration-300 group-hover:border-indigo-300 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 "+("dark"===h?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-500"),placeholder:"Enter work location"})}),(0,n.jsx)("p",{className:"mt-2 text-xs "+("dark"===h?"text-gray-400":"text-gray-500"),children:"Office location or branch name"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 pt-6 border-t border-gray-200 dark:border-gray-600",children:[(0,n.jsx)("button",{type:"button",onClick:()=>{_(!1),pe(""),ye("")},className:"w-full sm:w-auto px-8 py-3 border-2 rounded-xl font-semibold text-base transition-all duration-300 transform hover:scale-105 "+("dark"===h?"border-gray-600 text-gray-300 hover:bg-gray-700 hover:border-gray-500":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"),children:"Cancel Changes"}),(0,n.jsx)("button",{type:"submit",className:"w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl text-base transition-all duration-300 transform hover:scale-105 hover:from-blue-700 hover:to-blue-800 focus:ring-4 focus:ring-blue-200 shadow-lg",children:"Save Changes"})]})]})})]})}),(0,n.jsx)(q.N,{children:ee&&(0,n.jsx)(B.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-blur-sm bg-black bg-opacity-75 flex items-center justify-center z-[200] p-2 sm:p-4",onClick:Ie,children:te?(0,n.jsxs)(B.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"relative max-w-[90vw] max-h-[90vh] flex items-center justify-center",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("button",{onClick:()=>{ae(!1)},className:"absolute top-2 right-2 sm:top-4 sm:right-4 z-10 p-2 sm:p-3 rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-70 transition-all duration-200",title:"Back to Modal",children:(0,n.jsx)(D.Wsx,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),L||null!==je&&void 0!==je&&je.employeeImage?(0,n.jsx)("img",{src:L||je.employeeImage,alt:"Profile Full View",className:"max-w-full max-h-full object-contain rounded-xl shadow-2xl"}):(0,n.jsx)("div",{className:"w-64 h-64 sm:w-80 sm:h-80 md:w-96 md:h-96 rounded-xl shadow-2xl flex items-center justify-center text-6xl sm:text-8xl font-medium "+("dark"===h?"bg-gray-600 text-white":"bg-gray-200 text-gray-600"),children:we})]}):(0,n.jsxs)(B.P.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"relative rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 text-center w-full max-w-sm sm:max-w-md "+("dark"===h?"bg-gray-800":"bg-white"),onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("button",{onClick:Ie,className:"absolute top-3 right-3 sm:top-4 sm:right-4 p-2 rounded-full transition-all duration-200 "+("dark"===h?"text-gray-400 hover:bg-gray-700 hover:text-white":"text-gray-500 hover:bg-gray-200 hover:text-gray-700"),children:(0,n.jsx)(D.QCr,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,n.jsx)("h3",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 "+("dark"===h?"text-white":"text-gray-900"),children:"Profile Picture"}),(0,n.jsx)("div",{className:"mb-4 sm:mb-6 relative group",children:L||null!==je&&void 0!==je&&je.employeeImage?(0,n.jsxs)("div",{className:"relative cursor-pointer",onClick:Se,children:[(0,n.jsx)("img",{src:L||je.employeeImage,alt:"Profile Preview",className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full object-cover mx-auto shadow-xl transition-transform duration-300 group-hover:scale-105"}),(0,n.jsx)("div",{className:"absolute inset-0 rounded-full bg-opacity-0 group-hover:bg-opacity-40 flex items-center justify-center transition-all duration-300",children:(0,n.jsx)(D._AH,{className:"text-white opacity-0 group-hover:opacity-100 text-lg sm:text-2xl transition-all duration-300 transform group-hover:scale-110"})})]}):(0,n.jsxs)("div",{className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full mx-auto shadow-xl flex items-center justify-center text-3xl sm:text-4xl md:text-5xl font-medium cursor-pointer transition-transform duration-300 group-hover:scale-105 relative "+("dark"===h?"bg-gray-600 text-white":"bg-gray-200 text-gray-600"),onClick:Se,children:[we,(0,n.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-40 flex items-center justify-center transition-all duration-300",children:(0,n.jsx)(D._AH,{className:"text-white opacity-0 group-hover:opacity-100 text-lg sm:text-2xl transition-all duration-300 transform group-hover:scale-110"})})]})}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:[(0,n.jsxs)("button",{onClick:()=>se.current.click(),className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-all duration-200 transform hover:scale-105 shadow-lg text-sm sm:text-base",children:[(0,n.jsx)(D.p5B,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsx)("span",{children:"Change"})]}),(null===je||void 0===je?void 0:je.employeeImage)&&(0,n.jsxs)("button",{onClick:async()=>{if(window.confirm("Confirm delete profile picture?"))try{await d.yE.delete(`employee/${v}/deleteImage`),j?K(e=>({...e,employeeImage:null})):H(e=>({...e,employeeImage:null})),M(null),alert("Profile picture deleted!"),re(!1),ae(!1)}catch(e){console.error("Error deleting image:",e),alert("Failed to delete image")}},className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition-all duration-200 transform hover:scale-105 shadow-lg text-sm sm:text-base",children:[(0,n.jsx)(D.qbC,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsx)("span",{children:"Delete"})]})]}),(0,n.jsx)("input",{type:"file",ref:se,onChange:async e=>{const r=e.target.files[0];if(!r)return;const t=new FileReader;t.onloadend=()=>M(t.result),t.readAsDataURL(r);const a=new FormData;a.append("employeeImage",r);try{const e=await d.yE.post(`employee/${v}/upload`,a,{headers:{"Content-Type":"multipart/form-data"}});j?K(r=>({...r,employeeImage:e.data.employeeImage})):H(r=>({...r,employeeImage:e.data.employeeImage})),alert("Profile picture updated!"),re(!1),ae(!1)}catch(s){console.error("Error uploading image:",s),alert("Failed to upload image"),M(null)}},accept:"image/*",className:"hidden"})]})})}),Y&&(0,n.jsx)("div",{className:"fixed inset-0 backdrop-blur-sm bg-black bg-opacity-50 flex items-center justify-center z-[200] p-4",children:(0,n.jsxs)("div",{className:"rounded-lg p-4 sm:p-6 w-full max-w-md sm:max-w-lg shadow-2xl "+("dark"===h?"bg-gray-800":"bg-white"),children:[(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-4 "+("dark"===h?"text-white":"text-gray-900"),children:"Edit Profile"}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),G(!1)},children:[(0,n.jsx)("div",{className:"space-y-4",children:["name","empId","company","department","email","contact","role"].map(e=>(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium capitalize "+("dark"===h?"text-gray-300":"text-gray-700"),children:e}),(0,n.jsx)("input",{type:"email"===e?"email":"text",name:e,value:R[e]||"",onChange:Ce,className:"mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 text-sm "+("dark"===h?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500")})]},e))}),(0,n.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3",children:[(0,n.jsx)("button",{type:"button",onClick:()=>G(!1),className:"w-full sm:w-auto px-4 py-2 border rounded-md transition-colors text-sm "+("dark"===h?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:"Cancel"}),(0,n.jsx)("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-sm",children:"Save Changes"})]})]})]})})]})}}}]);
//# sourceMappingURL=492.417cccac.chunk.js.map