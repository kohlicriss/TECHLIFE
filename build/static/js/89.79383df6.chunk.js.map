{"version":3,"file":"static/js/89.79383df6.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Permissions/PermissionsPage.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect, useCallback, useMemo } from 'react';\r\nimport Select from 'react-select';\r\nimport { FaCheckCircle, FaExclamationTriangle, FaInfoCircle, FaPlus, FaSave, FaUndo } from 'react-icons/fa';\r\nimport { X } from 'lucide-react';\r\nimport { Context } from '../HrmsContext';\r\nimport { authApi } from '../../../../axiosInstance';\r\n\r\n// Custom Notification Component\r\nconst CustomNotification = ({ isOpen, onClose, type, title, message, theme }) => {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let timer;\r\n        if (isOpen) {\r\n            setIsVisible(true);\r\n            if (['success', 'error', 'warning'].includes(type)) {\r\n                timer = setTimeout(() => {\r\n                    handleClose();\r\n                }, 3000);\r\n            }\r\n        } else {\r\n             setIsVisible(false);\r\n        }\r\n        return () => clearTimeout(timer);\r\n    }, [isOpen, type]);\r\n\r\n    const handleClose = useCallback(() => {\r\n        setIsVisible(false);\r\n        setTimeout(() => onClose(), 300);\r\n    }, [onClose]);\r\n\r\n    if (!isOpen && !isVisible) return null;\r\n\r\n    const getIcon = () => {\r\n        switch (type) {\r\n            case 'success': return <FaCheckCircle className=\"w-6 h-6 text-green-500\" />;\r\n            case 'error':   return <FaExclamationTriangle className=\"w-6 h-6 text-red-500\" />;\r\n            case 'warning': return <FaExclamationTriangle className=\"w-6 h-6 text-yellow-500\" />;\r\n            case 'info':    return <FaInfoCircle className=\"w-6 h-6 text-blue-500\" />;\r\n            default:        return null;\r\n        }\r\n    };\r\n\r\n    const getTitleClass = () => {\r\n        switch (type) {\r\n            case 'success': return 'text-green-600 dark:text-green-400';\r\n            case 'error':   return 'text-red-600 dark:text-red-400';\r\n            case 'warning': return 'text-yellow-600 dark:text-yellow-400';\r\n            case 'info':    return 'text-blue-600 dark:text-blue-400';\r\n            default:        return theme === 'dark' ? 'text-white' : 'text-gray-800';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] transition-opacity duration-300 ${isVisible ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}>\r\n            <div className={`p-6 rounded-2xl shadow-2xl w-full max-w-md m-4 border transform transition-all duration-300 ${isVisible ? 'scale-100 translate-y-0' : 'scale-95 translate-y-4'} ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n                <div className=\"flex items-start mb-4\">\r\n                    <div className=\"flex-shrink-0 pt-1\">{getIcon()}</div>\r\n                    <h3 className={`text-xl font-bold ml-3 flex-grow ${getTitleClass()}`}>{title}</h3>\r\n                    {(type === 'info' || type === 'warning') && (\r\n                        <button onClick={handleClose} className=\"ml-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex-shrink-0\">\r\n                            <X size={20} />\r\n                        </button>\r\n                    )}\r\n                </div>\r\n                <p className={`text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{message}</p>\r\n                 {(type === 'info' || type === 'warning') && (\r\n                    <div className=\"mt-5 flex justify-end\">\r\n                        <button\r\n                            onClick={handleClose}\r\n                            className={`px-5 py-2 rounded-lg font-medium text-sm transition-colors ${type === 'warning' ? 'bg-yellow-500 hover:bg-yellow-600 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white'}`}\r\n                        >\r\n                            OK\r\n                        </button>\r\n                    </div>\r\n                 )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Custom Confirmation Modal Component\r\nconst CustomConfirmModal = ({ isOpen, onClose, onConfirm, title, message, confirmText, isConfirming, theme, type = 'warning' }) => {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setIsVisible(true);\r\n        } else {\r\n             setIsVisible(false);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const handleClose = useCallback(() => {\r\n        setIsVisible(false);\r\n        setTimeout(() => onClose(), 300);\r\n    }, [onClose]);\r\n\r\n     if (!isOpen && !isVisible) return null;\r\n\r\n    const getIcon = () => {\r\n        switch (type) {\r\n             case 'danger':  return <FaExclamationTriangle className=\"w-6 h-6 text-red-500\" />;\r\n             case 'warning': return <FaExclamationTriangle className=\"w-6 h-6 text-yellow-500\" />;\r\n             case 'info':    return <FaInfoCircle className=\"w-6 h-6 text-blue-500\" />;\r\n             default:        return <FaExclamationTriangle className=\"w-6 h-6 text-yellow-500\" />;\r\n         }\r\n    };\r\n    const getTitleClass = () => {\r\n        switch (type) {\r\n             case 'danger':  return 'text-red-600 dark:text-red-400';\r\n             case 'warning': return 'text-yellow-600 dark:text-yellow-400';\r\n             case 'info':    return 'text-blue-600 dark:text-blue-400';\r\n             default:        return 'text-yellow-600 dark:text-yellow-400';\r\n         }\r\n    };\r\n    const getConfirmButtonClass = () => {\r\n        switch (type) {\r\n             case 'danger':  return 'bg-red-600 hover:bg-red-700 focus-visible:outline-red-600';\r\n             case 'warning': return 'bg-yellow-500 hover:bg-yellow-600 focus-visible:outline-yellow-500 text-white';\r\n             case 'info':    return 'bg-blue-600 hover:bg-blue-700 focus-visible:outline-blue-600';\r\n             default:        return 'bg-yellow-500 hover:bg-yellow-600 focus-visible:outline-yellow-500 text-white';\r\n         }\r\n    };\r\n\r\n    return (\r\n        <div className={`fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] transition-opacity duration-300 ${isVisible ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}>\r\n            <div className={`p-6 rounded-2xl shadow-2xl w-full max-w-md m-4 border transform transition-all duration-300 ${isVisible ? 'scale-100 translate-y-0' : 'scale-95 translate-y-4'} ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n                <div className=\"flex items-start mb-4\">\r\n                    <div className=\"flex-shrink-0 pt-1\">{getIcon()}</div>\r\n                    <h3 className={`text-xl font-bold ml-3 flex-grow ${getTitleClass()}`}>{title}</h3>\r\n                    <button onClick={handleClose} className=\"ml-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex-shrink-0\">\r\n                        <X size={20} />\r\n                    </button>\r\n                </div>\r\n                <p className={`mb-6 text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{message}</p>\r\n                <div className=\"flex justify-end space-x-3\">\r\n                    <button\r\n                        onClick={handleClose}\r\n                        className={`px-5 py-2 rounded-lg font-medium text-sm transition-colors ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button\r\n                        onClick={onConfirm}\r\n                        disabled={isConfirming}\r\n                        className={`px-5 py-2 rounded-lg font-medium text-sm text-white transition-colors flex items-center justify-center focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 ${getConfirmButtonClass()} ${isConfirming ? 'opacity-75 cursor-not-allowed' : ''}`}\r\n                    >\r\n                        {isConfirming ? (\r\n                            <>\r\n                                <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                                Processing...\r\n                            </>\r\n                        ) : (\r\n                            confirmText\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Main Permissions Page Component\r\nconst PermissionsPage = () => {\r\n    const { theme, permissionsdata = [], userData, setPermissionsData } = useContext(Context);\r\n    const [permissions, setPermissions] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [matchedObject, setMatchedObject] = useState(null);\r\n    const [activeRoleTab, setActiveRoleTab] = useState(null);\r\n\r\n    const [notification, setNotification] = useState({ isOpen: false, type: '', title: '', message: '' });\r\n    const [confirmModal, setConfirmModal] = useState({ isOpen: false, title: '', message: '', confirmText: '', onConfirm: null, type: 'warning', isConfirming: false });\r\n\r\n    const userRole = useMemo(() => userData?.roles?.[0]?.toUpperCase(), [userData]);\r\n    const loggedinuserRole = userRole || null;\r\n\r\n    useEffect(() => {\r\n        if (loggedinuserRole && permissionsdata.length > 0) {\r\n            const matched = permissionsdata.find(role => role.roleName?.trim() === loggedinuserRole.trim());\r\n            setMatchedObject(matched || null);\r\n        } else {\r\n            setMatchedObject(null);\r\n        }\r\n    }, [loggedinuserRole, permissionsdata]);\r\n\r\n    const [newPermissionLabel, setNewPermissionLabel] = useState('');\r\n    const [allPermissionOptions, setAllPermissionOptions] = useState([]);\r\n\r\n    const [isAddRoleModalOpen, setIsAddRoleModalOpen] = useState(false);\r\n    const [newRoleName, setNewRoleName] = useState('');\r\n    const [isAddingRole, setIsAddingRole] = useState(false);\r\n\r\n    const showNotification = useCallback((type, title, message) => {\r\n        setNotification({ isOpen: true, type, title, message });\r\n    }, []);\r\n    const closeNotification = useCallback(() => {\r\n        setNotification({ isOpen: false, type: '', title: '', message: '' });\r\n    }, []);\r\n\r\n    const showConfirmModal = useCallback((title, message, confirmText, onConfirm, type = 'warning') => {\r\n        setConfirmModal({ isOpen: true, title, message, confirmText, onConfirm, type, isConfirming: false });\r\n    }, []);\r\n    const closeConfirmModal = useCallback(() => {\r\n        setConfirmModal({ isOpen: false, title: '', message: '', confirmText: '', onConfirm: null, type: 'warning', isConfirming: false });\r\n    }, []);\r\n\r\n    const formatPermissionLabel = useCallback((permission) => {\r\n        if (!permission) return '';\r\n        if (permission === 'CREAT_USER') return 'Create User';\r\n        if (permission === 'DELETE_USER') return 'Delete User';\r\n        if (permission === 'CREATE_TASK') return 'Create Task';\r\n        if (permission === 'VIEW_TASKS') return 'View Tasks';\r\n        if (permission === 'VIEW_REPORTS') return 'View Reports';\r\n        if (permission === 'PERMISSIONS_BUTTONS') return 'Permissions Buttons';\r\n        if (permission === 'CREATE_HR') return 'Create HR';\r\n        return permission.replace(/_/g, ' ').toLowerCase().replace(/\\b\\w/g, l => l.toUpperCase());\r\n    }, []);\r\n\r\n    const mapAPIRoleToKey = useCallback((apiRoleName) => {\r\n        if (!apiRoleName) return null;\r\n        if (apiRoleName.startsWith('ROLE_')) {\r\n            return apiRoleName.substring(5).toLowerCase();\r\n        }\r\n        return apiRoleName.toLowerCase();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (permissionsdata && Array.isArray(permissionsdata)) {\r\n            const allApiPermissions = permissionsdata.flatMap(role => role.permissions || []);\r\n            const currentManualOptions = allPermissionOptions.filter(opt => !allApiPermissions.includes(opt.value)).map(opt => opt.value);\r\n            const uniqueApiPermissions = [...new Set([...allApiPermissions, ...currentManualOptions])];\r\n            const options = uniqueApiPermissions.map(p => ({ value: p, label: formatPermissionLabel(p) }))\r\n                .sort((a, b) => a.label.localeCompare(b.label));\r\n            setAllPermissionOptions(options);\r\n\r\n            const initialPermissions = {};\r\n            let firstRoleKey = null;\r\n            const sortedApiData = [...permissionsdata].sort((a,b) => (a.roleName || \"\").localeCompare(b.roleName || \"\"));\r\n\r\n            sortedApiData.forEach(apiRole => {\r\n                const roleKey = mapAPIRoleToKey(apiRole.roleName);\r\n                if (roleKey) {\r\n                    if (!firstRoleKey) firstRoleKey = roleKey;\r\n                    initialPermissions[roleKey] = {\r\n                        id: apiRole.id,\r\n                        permissions: apiRole.permissions ? [...new Set(apiRole.permissions)] : []\r\n                    };\r\n                }\r\n            });\r\n            setPermissions(initialPermissions);\r\n\r\n            setActiveRoleTab(prevTab => (prevTab && initialPermissions[prevTab]) ? prevTab : firstRoleKey);\r\n\r\n            setLoading(false);\r\n        } else {\r\n            setAllPermissionOptions([]);\r\n            setPermissions({});\r\n            setActiveRoleTab(null);\r\n            setLoading(false);\r\n        }\r\n    }, [permissionsdata, formatPermissionLabel, mapAPIRoleToKey]);\r\n\r\n    const handleAddPermission = useCallback(() => {\r\n        if (!newPermissionLabel.trim()) {\r\n            showNotification('error', 'Validation Error', 'Please enter a label for the new permission.');\r\n            return;\r\n        }\r\n        const newPermissionValue = newPermissionLabel.trim().toUpperCase().replace(/\\s+/g, '_');\r\n        if (allPermissionOptions.some(option => option.value === newPermissionValue)) {\r\n            showNotification('error', 'Duplicate Permission', 'A permission option with this value already exists.');\r\n            return;\r\n        }\r\n        const newPermission = { value: newPermissionValue, label: formatPermissionLabel(newPermissionValue) };\r\n        setAllPermissionOptions(prevOptions => [...prevOptions, newPermission].sort((a, b) => a.label.localeCompare(b.label)));\r\n        setNewPermissionLabel('');\r\n        showNotification('info', 'Permission Option Added', `\"${newPermission.label}\" option created. Assign it to roles and save.`);\r\n    }, [newPermissionLabel, allPermissionOptions, formatPermissionLabel, showNotification]);\r\n\r\n    const handleSelectionChange = useCallback((selectedOptions, roleKey) => {\r\n        if (!roleKey) return;\r\n        const selectedValues = selectedOptions ? selectedOptions.map(option => option.value) : [];\r\n        setPermissions(prev => ({\r\n            ...prev,\r\n            [roleKey]: { ...prev[roleKey], permissions: selectedValues }\r\n        }));\r\n    }, []);\r\n\r\n    const handleAddNewRole = useCallback(async (e) => {\r\n        e.preventDefault();\r\n        const trimmedRoleName = newRoleName.trim().toUpperCase();\r\n        if (!trimmedRoleName || !trimmedRoleName.startsWith('ROLE_')) {\r\n            showNotification('error', 'Invalid Role Name', \"Role name must start with 'ROLE_' and cannot be empty.\");\r\n            return;\r\n        }\r\n        const roleKey = mapAPIRoleToKey(trimmedRoleName);\r\n        if (permissions[roleKey]) {\r\n            showNotification('error', 'Role Already Exists', 'This role already exists.');\r\n            return;\r\n        }\r\n        setIsAddingRole(true);\r\n        const newRoleDto = { roleName: trimmedRoleName, permissions: [] };\r\n\r\n        try {\r\n            await authApi.post('/role-access', newRoleDto);\r\n            const response = await authApi.get('/role-access/all');\r\n            setPermissionsData(response.data);\r\n            setIsAddRoleModalOpen(false);\r\n            setNewRoleName('');\r\n            showNotification('success', 'Role Created', `Role '${newRoleDto.roleName}' created. Assign permissions and save.`);\r\n        } catch (error) {\r\n            console.error(\"Failed to create new role:\", error);\r\n            const errorMessage = error.response?.data?.message || \"An error occurred.\";\r\n            showNotification('error', 'Role Creation Failed', `Error: ${errorMessage}`);\r\n        } finally {\r\n            setIsAddingRole(false);\r\n        }\r\n    }, [newRoleName, permissions, mapAPIRoleToKey, setPermissionsData, showNotification]);\r\n\r\n    // Modified Submit Handler for ROLE_GARBAGE handling\r\n    const handleSubmit = useCallback(async (e) => {\r\n        e.preventDefault();\r\n        setIsSubmitting(true);\r\n\r\n        const GARBAGE_ROLE_NAME = 'ROLE_GARBAGE';\r\n        const GARBAGE_ROLE_KEY = mapAPIRoleToKey(GARBAGE_ROLE_NAME);\r\n\r\n        const assignedPermissions = new Set();\r\n        Object.values(permissions).forEach(role => {\r\n            role.permissions.forEach(perm => assignedPermissions.add(perm));\r\n        });\r\n        const allAvailablePermissions = allPermissionOptions.map(opt => opt.value);\r\n        const unassignedPermissions = allAvailablePermissions.filter(perm => !assignedPermissions.has(perm));\r\n\r\n        let transformedPermissions = Object.keys(permissions)\r\n            .filter(key => key !== GARBAGE_ROLE_KEY) // Exclude garbage role initially\r\n            .map(key => {\r\n                const apiRoleName = `ROLE_${key.toUpperCase()}`;\r\n                return {\r\n                    id: permissions[key]?.id,\r\n                    roleName: apiRoleName,\r\n                    permissions: permissions[key]?.permissions || [],\r\n                };\r\n            }).filter(p => p.id !== undefined);\r\n\r\n        let finalGarbageRole = null;\r\n\r\n        if (unassignedPermissions.length > 0) {\r\n            let existingGarbageRole = permissions[GARBAGE_ROLE_KEY] || permissionsdata.find(r => r.roleName === GARBAGE_ROLE_NAME);\r\n\r\n            if (!existingGarbageRole) {\r\n                try {\r\n                    const createDto = { roleName: GARBAGE_ROLE_NAME, permissions: [] };\r\n                    const createResponse = await authApi.post('/role-access', createDto);\r\n                    const createdRole = createResponse.data;\r\n                    if (createdRole && createdRole.id) {\r\n                        finalGarbageRole = {\r\n                            id: createdRole.id,\r\n                            roleName: GARBAGE_ROLE_NAME,\r\n                            permissions: createdRole.permissions || [],\r\n                        };\r\n                        showNotification('info', 'New Role Created', `${GARBAGE_ROLE_NAME} was automatically created to handle unassigned permissions.`);\r\n                    } else {\r\n                        throw new Error(\"API failed to return ID for created GARBAGE role.\");\r\n                    }\r\n                } catch (error) {\r\n                    console.error(\"Failed to auto-create ROLE_GARBAGE:\", error);\r\n                    showNotification('error', 'Setup Failed', `Could not create ${GARBAGE_ROLE_NAME}. Saving process halted.`);\r\n                    setIsSubmitting(false);\r\n                    return;\r\n                }\r\n            } else {\r\n                finalGarbageRole = {\r\n                    id: existingGarbageRole.id,\r\n                    roleName: GARBAGE_ROLE_NAME,\r\n                    permissions: existingGarbageRole.permissions || [],\r\n                };\r\n            }\r\n\r\n            if (finalGarbageRole) {\r\n                const updatedGarbagePermissions = [...new Set([...finalGarbageRole.permissions, ...unassignedPermissions])];\r\n                finalGarbageRole.permissions = updatedGarbagePermissions;\r\n                transformedPermissions.push(finalGarbageRole);\r\n            }\r\n\r\n            showNotification(\r\n                'warning', \r\n                'Unassigned Permissions Assigned', \r\n                `The following permissions were not assigned to any role: ${unassignedPermissions.join(', ')}. They have been automatically assigned to ${GARBAGE_ROLE_NAME} (ID: ${finalGarbageRole.id}).`\r\n            );\r\n        }\r\n\r\n        if (transformedPermissions.length === 0) {\r\n            showNotification('info', 'No Changes', 'No roles found in the update payload.');\r\n            setIsSubmitting(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await authApi.post('role-access/updateAll', transformedPermissions);\r\n            const response = await authApi.get('/role-access/all');\r\n            setPermissionsData(response.data);\r\n            showNotification('success', 'Permissions Saved', 'All changes have been saved successfully!');\r\n        } catch (error) {\r\n            console.error(\"Error saving permissions:\", error);\r\n            const errorMessage = error.response?.data?.message || \"An error occurred while saving permissions.\";\r\n            showNotification('error', 'Save Failed', `Error: ${errorMessage}`);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    }, [permissions, allPermissionOptions, mapAPIRoleToKey, setPermissionsData, showNotification, permissionsdata]);\r\n\r\n    const handleReset = useCallback(() => {\r\n        if (permissionsdata && Array.isArray(permissionsdata)) {\r\n            const initialPermissions = {};\r\n            let firstRoleKey = null;\r\n            const sortedApiData = [...permissionsdata].sort((a,b) => (a.roleName || \"\").localeCompare(b.roleName || \"\"));\r\n\r\n            sortedApiData.forEach(apiRole => {\r\n                const roleKey = mapAPIRoleToKey(apiRole.roleName);\r\n                if (roleKey) {\r\n                    if (!firstRoleKey) firstRoleKey = roleKey;\r\n                    initialPermissions[roleKey] = {\r\n                        id: apiRole.id,\r\n                        permissions: apiRole.permissions ? [...new Set(apiRole.permissions)] : []\r\n                    };\r\n                }\r\n            });\r\n            setPermissions(initialPermissions);\r\n            setActiveRoleTab(prevTab => (initialPermissions[prevTab] ? prevTab : firstRoleKey));\r\n            showNotification('info', 'Changes Reset', 'Permissions reverted to last saved state.');\r\n        } else {\r\n             showNotification('error', 'Reset Failed', 'Original permissions data not available.');\r\n        }\r\n    }, [permissionsdata, mapAPIRoleToKey, showNotification]);\r\n\r\n    const handleDeleteRole = useCallback((roleKeyToDelete) => {\r\n        if (!roleKeyToDelete) return;\r\n        if (roleKeyToDelete === 'admin') {\r\n            showNotification('error', 'Deletion Denied', 'The ADMIN role cannot be deleted.');\r\n            return;\r\n        }\r\n\r\n        const roleToDeleteName = `ROLE_${roleKeyToDelete.toUpperCase()}`;\r\n\r\n        showConfirmModal(\r\n            'Confirm Role Deletion',\r\n            `Are you sure you want to permanently delete the role: ${roleToDeleteName}? This action cannot be undone.`,\r\n            'Delete Role',\r\n            async () => {\r\n                setConfirmModal(prev => ({ ...prev, isConfirming: true }));\r\n                try {\r\n                    const callerRole = loggedinuserRole || 'ADMIN';\r\n                    await authApi.delete(`role-access/delete/${callerRole}/${roleToDeleteName}`);\r\n                    const response = await authApi.get('/role-access/all');\r\n                    setPermissionsData(response.data);\r\n                    closeConfirmModal();\r\n                    showNotification('success', 'Role Deleted', `Role '${roleToDeleteName}' has been successfully deleted.`);\r\n                } catch (error) {\r\n                    console.error(\"Failed to delete role:\", error);\r\n                    const errorMessage = error.response?.data?.message || \"An error occurred.\";\r\n                    closeConfirmModal();\r\n                    showNotification('error', 'Delete Failed', `Error: ${errorMessage}`);\r\n                }\r\n            },\r\n            'danger'\r\n        );\r\n    }, [loggedinuserRole, setPermissionsData, showConfirmModal, closeConfirmModal, showNotification]);\r\n\r\n    // Custom styles for react-select\r\n    const customSelectStyles = useMemo(() => ({\r\n        control: (provided, state) => ({\r\n            ...provided,\r\n            backgroundColor: theme === 'dark' ? '#374151' : '#fff',\r\n            borderColor: state.isFocused\r\n                ? (theme === 'dark' ? '#60A5FA' : '#3B82F6')\r\n                : (theme === 'dark' ? '#4B5563' : '#D1D5DB'),\r\n            minHeight: '48px',\r\n            boxShadow: state.isFocused ? `0 0 0 2px ${theme === 'dark' ? 'rgba(96, 165, 250, 0.5)' : 'rgba(59, 130, 246, 0.4)'}` : null,\r\n            borderRadius: '0.5rem',\r\n            padding: '2px 4px',\r\n            '&:hover': {\r\n                borderColor: theme === 'dark' ? '#6B7280' : '#A1A1AA',\r\n            },\r\n        }),\r\n        valueContainer: (provided) => ({\r\n            ...provided,\r\n            padding: '2px 6px',\r\n            gap: '4px',\r\n        }),\r\n        input: (provided) => ({\r\n            ...provided,\r\n            color: theme === 'dark' ? '#F3F4F6' : '#1F2937',\r\n            margin: '0px',\r\n            paddingBlock: '2px',\r\n        }),\r\n        indicatorSeparator: () => ({ display: 'none' }),\r\n        placeholder: (provided) => ({ ...provided, color: theme === 'dark' ? '#9CA3AF' : '#6B7280' }),\r\n        multiValue: (provided) => ({\r\n            ...provided,\r\n            backgroundColor: theme === 'dark' ? 'rgba(59, 130, 246, 0.3)' : 'rgba(59, 130, 246, 0.15)',\r\n            borderRadius: '9999px',\r\n            margin: '2px',\r\n            border: `1px solid ${theme === 'dark' ? 'rgba(59, 130, 246, 0.5)' : 'rgba(59, 130, 246, 0.3)'}`,\r\n            overflow: 'hidden',\r\n        }),\r\n        multiValueLabel: (provided) => ({\r\n            ...provided,\r\n            color: theme === 'dark' ? '#BFDBFE' : '#1E40AF',\r\n            padding: '3px',\r\n            paddingLeft: '10px',\r\n            fontSize: '0.8rem',\r\n            fontWeight: '500',\r\n        }),\r\n        multiValueRemove: (provided) => ({\r\n            ...provided,\r\n            color: theme === 'dark' ? '#93C5FD' : '#3B82F6',\r\n            backgroundColor: 'transparent',\r\n            borderRadius: '0 9999px 9999px 0',\r\n            padding: '4px',\r\n            marginLeft: '1px',\r\n            marginRight: '1px',\r\n            '&:hover, &:focus-visible': {\r\n                backgroundColor: theme === 'dark' ? '#DC2626' : '#EF4444',\r\n                color: 'white',\r\n                transform: 'scale(1.1)',\r\n                outline: 'none',\r\n            },\r\n            transition: 'all 150ms',\r\n            cursor: 'pointer',\r\n        }),\r\n    }), [theme]);\r\n\r\n    if (loading) {\r\n        return <div className={`flex justify-center items-center h-screen ${theme === 'dark' ? 'bg-gray-900 text-white' : 'bg-gray-50'}`}>Loading Permissions...</div>;\r\n    }\r\n\r\n    const rolesToRender = Object.keys(permissions).sort((a, b) => {\r\n        if (a === 'admin') return -1;\r\n        if (b === 'admin') return 1;\r\n        return a.localeCompare(b);\r\n    });\r\n\r\n    const selectedPermissionsForActiveRole = activeRoleTab ? allPermissionOptions.filter(\r\n        option => permissions[activeRoleTab]?.permissions?.includes(option.value)\r\n    ) : [];\r\n\r\n    return (\r\n        <>\r\n            {/* Add Role Modal */}\r\n            {isAddRoleModalOpen && (\r\n                <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[151]\">\r\n                    <div className={`p-6 rounded-2xl shadow-2xl w-full max-w-md m-4 border ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n                        <div className=\"flex items-center mb-4\">\r\n                            <FaPlus className=\"w-6 h-6 text-blue-500\" />\r\n                            <h2 className={`text-xl font-bold ml-3 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Add New Role</h2>\r\n                            <button\r\n                                onClick={() => setIsAddRoleModalOpen(false)}\r\n                                className=\"ml-auto p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200\"\r\n                                aria-label=\"Close add role modal\"\r\n                            >\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n                        <form onSubmit={handleAddNewRole}>\r\n                            <label htmlFor=\"newRoleNameInput\" className={`block text-sm font-medium mb-1 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                                Role Name (must start with ROLE_)\r\n                            </label>\r\n                            <input\r\n                                id=\"newRoleNameInput\"\r\n                                type=\"text\"\r\n                                value={newRoleName}\r\n                                onChange={(e) => setNewRoleName(e.target.value)}\r\n                                placeholder=\"e.g., ROLE_MANAGER\"\r\n                                className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 mb-4 ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-white focus:ring-blue-500' : 'bg-white border-gray-300 focus:ring-blue-600'}`}\r\n                            />\r\n                            <div className=\"flex justify-end gap-3\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setIsAddRoleModalOpen(false)}\r\n                                    className={`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`}\r\n                                    disabled={isAddingRole}\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"px-4 py-2 bg-blue-600 text-white font-semibold text-sm rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:opacity-75 disabled:cursor-not-allowed flex items-center justify-center\"\r\n                                    disabled={isAddingRole || !newRoleName.trim() || !newRoleName.toUpperCase().startsWith('ROLE_')}\r\n                                >\r\n                                    {isAddingRole ? (\r\n                                        <>\r\n                                            <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                                            Adding...\r\n                                        </>\r\n                                    ) : (\r\n                                        'Add Role'\r\n                                    )}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Main Page Content */}\r\n            <div className={`min-h-screen px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 ${theme === 'dark' ? 'bg-gray-900 text-white' : 'bg-gray-50 text-gray-800'}`}>\r\n                <div className=\"max-w-6xl mx-auto\">\r\n\r\n                    {/* Header */}\r\n                    <div className=\"mb-6 sm:mb-8 px-4 sm:px-0 flex justify-between items-center\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2\">\r\n                            Permissions Management\r\n                            </h1>\r\n                            <p className={`text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>Configure role-based permissions</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Add New Permission / Add Role Section */}\r\n                     <div className={`p-4 sm:p-6 rounded-lg shadow-md mb-6 sm:mb-8 mx-4 sm:mx-0 ${theme === 'dark' ? 'bg-gray-800 border border-gray-700' : 'bg-white border'}`}>\r\n                        <div className=\"flex flex-col md:flex-row justify-between items-start gap-4\">\r\n                            {/* Add New Permission Form */}\r\n                            <div className=\"w-full md:w-auto md:flex-grow mb-4 md:mb-0\">\r\n                                <label htmlFor=\"newPermissionInput\" className={`block text-sm font-medium mb-1 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                                    Add New Permission Option\r\n                                </label>\r\n                                <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                                <input\r\n                                    id=\"newPermissionInput\"\r\n                                    type=\"text\"\r\n                                    value={newPermissionLabel}\r\n                                    onChange={(e) => setNewPermissionLabel(e.target.value)}\r\n                                    placeholder=\"Enter label (e.g., Edit Own Profile)\"\r\n                                    className={`flex-grow p-3 border rounded-lg focus:outline-none focus:ring-1 ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-600 focus:border-blue-600'}`}\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleAddPermission}\r\n                                    className=\"px-4 py-3 bg-blue-600 text-white font-semibold text-sm rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                                    disabled={!newPermissionLabel.trim()}\r\n                                >\r\n                                    <FaPlus size={14}/> Add Option\r\n                                </button>\r\n                                </div>\r\n                                <p className={`text-xs mt-1 ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>Adds an option available for selection in all roles.</p>\r\n                            </div>\r\n                            {/* Add New Role Button */}\r\n                            <div className=\"flex-shrink-0 w-full md:w-auto\">\r\n                                <label className=\"block text-sm font-medium mb-1 invisible md:visible\">_</label>\r\n                                <button\r\n                                    onClick={() => setIsAddRoleModalOpen(true)}\r\n                                    className=\"w-full px-4 py-3 bg-green-600 text-white font-semibold text-sm rounded-lg hover:bg-green-700 flex items-center justify-center gap-2\"\r\n                                >\r\n                                    <FaPlus size={14}/> Add New Role\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Horizontal Tabs for Roles */}\r\n                    <div className={`mb-6 sm:mb-8 border-b ${theme === 'dark' ? 'border-gray-700' : 'border-gray-200'}`}>\r\n                        <div className=\"flex space-x-1 overflow-x-auto pb-px -mb-px px-4 sm:px-0\">\r\n                            {rolesToRender.map((roleKey) => (\r\n                                <div key={roleKey} className=\"relative group flex items-center flex-shrink-0\">\r\n                                    <button\r\n                                        onClick={() => setActiveRoleTab(roleKey)}\r\n                                        className={`flex items-center gap-2 pl-4 pr-9 py-2.5 text-sm sm:text-base font-medium border-b-2 whitespace-nowrap transition-colors duration-150 rounded-t-md\r\n                                            ${activeRoleTab === roleKey\r\n                                                ? `border-blue-500 text-blue-600 dark:text-blue-400 ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`\r\n                                                : `border-transparent hover:border-gray-400 dark:hover:border-gray-500 ${theme === 'dark' ? 'text-gray-400 hover:text-gray-200 hover:bg-gray-700/50' : 'text-gray-500 hover:text-gray-700 hover:bg-gray-100'}`\r\n                                            }\r\n                                        `}\r\n                                    >\r\n                                        <span className=\"capitalize\">{roleKey.replace(/_/g, ' ')}</span>\r\n                                    </button>\r\n                                    {roleKey !== 'admin' && (\r\n                                        <button\r\n                                            onClick={(e) => { e.stopPropagation(); handleDeleteRole(roleKey); }}\r\n                                            className={`absolute top-1/2 right-2 transform -translate-y-1/2 p-1 rounded-full text-gray-400 hover:text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-150 ${activeRoleTab === roleKey ? 'opacity-100' : ''}`}\r\n                                            title={`Delete ROLE_${roleKey.toUpperCase()}`}\r\n                                            aria-label={`Delete role ${roleKey}`}\r\n                                        >\r\n                                            <X size={14} />\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            ))}\r\n                             {rolesToRender.length === 0 && !loading && (\r\n                                <div className={`px-4 py-3 text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No roles found. Add a new role to begin.\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Active Role's Permission Selection Area */}\r\n                    {activeRoleTab && permissions[activeRoleTab] ? (\r\n                        <div className={`p-4 sm:p-6 md:p-8 rounded-lg shadow-md mx-4 sm:mx-0 ${theme === 'dark' ? 'bg-gray-800 border border-gray-700' : 'bg-white border'}`}>\r\n                            <h2 className={`text-lg sm:text-xl font-semibold capitalize mb-4 pb-2 border-b ${theme === 'dark' ? 'border-gray-700' : 'border-gray-200'}`}>\r\n                                Permissions for <span className='text-blue-600 dark:text-blue-400'>{activeRoleTab.replace(/_/g, ' ')}</span> Role\r\n                            </h2>\r\n                            <Select\r\n                                isMulti\r\n                                options={allPermissionOptions}\r\n                                value={selectedPermissionsForActiveRole}\r\n                                onChange={selectedOptions => handleSelectionChange(selectedOptions, activeRoleTab)}\r\n                                styles={customSelectStyles}\r\n                                placeholder=\"Select permissions for this role...\"\r\n                                closeMenuOnSelect={false}\r\n                                aria-label={`Select permissions for ${activeRoleTab} role`}\r\n                            />\r\n                            <p className={`text-xs mt-3 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                {selectedPermissionsForActiveRole.length} / {allPermissionOptions.length} permission(s) selected.\r\n                            </p>\r\n                        </div>\r\n                    ) : (\r\n                        !loading && rolesToRender.length > 0 && (\r\n                            <div className={`p-6 text-center rounded-lg mx-4 sm:mx-0 ${theme === 'dark' ? 'text-gray-500 bg-gray-800 border border-gray-700' : 'text-gray-600 bg-gray-100 border'}`}>\r\n                                Select a role tab above to view or edit its permissions.\r\n                            </div>\r\n                        )\r\n                    )}\r\n\r\n                    {/* Action Buttons (Save/Reset) */}\r\n                    {rolesToRender.length > 0 && (\r\n                        <div className=\"mt-6 sm:mt-8 pt-4 sm:pt-6 px-4 sm:px-0 border-t border-gray-200 dark:border-gray-700\">\r\n                            <div className=\"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleReset}\r\n                                    className={`w-full sm:w-auto px-5 py-2.5 border-2 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition-colors ${theme === 'dark' ? 'border-gray-600 text-gray-200 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}\r\n                                    disabled={isSubmitting}\r\n                                >\r\n                                    <FaUndo size={14}/> Reset Changes\r\n                                </button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleSubmit}\r\n                                    disabled={isSubmitting}\r\n                                    className={`w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-bold rounded-lg shadow-md transition-all ${isSubmitting ? 'cursor-not-allowed opacity-75' : 'hover:shadow-lg hover:from-blue-700 hover:to-indigo-700'}`}\r\n                                >\r\n                                    {isSubmitting ? (\r\n                                        <>\r\n                                            <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                                            Saving...\r\n                                        </>\r\n                                    ) : (\r\n                                        <><FaSave size={15}/> Save Permissions</>\r\n                                    )}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Custom Notification */}\r\n            <CustomNotification\r\n                isOpen={notification.isOpen}\r\n                onClose={closeNotification}\r\n                type={notification.type}\r\n                title={notification.title}\r\n                message={notification.message}\r\n                theme={theme}\r\n            />\r\n\r\n            {/* Custom Confirmation Modal */}\r\n            <CustomConfirmModal\r\n                isOpen={confirmModal.isOpen}\r\n                onClose={closeConfirmModal}\r\n                onConfirm={confirmModal.onConfirm}\r\n                title={confirmModal.title}\r\n                message={confirmModal.message}\r\n                confirmText={confirmModal.confirmText}\r\n                isConfirming={confirmModal.isConfirming}\r\n                theme={theme}\r\n                type={confirmModal.type}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PermissionsPage;\r\n"],"names":["CustomNotification","_ref","isOpen","onClose","type","title","message","theme","isVisible","setIsVisible","useState","useEffect","timer","includes","setTimeout","handleClose","clearTimeout","useCallback","_jsx","className","concat","children","_jsxs","getIcon","FaCheckCircle","FaExclamationTriangle","FaInfoCircle","getTitleClass","onClick","X","size","CustomConfirmModal","_ref2","onConfirm","confirmText","isConfirming","disabled","getConfirmButtonClass","_Fragment","PermissionsPage","permissionsdata","userData","setPermissionsData","useContext","Context","permissions","setPermissions","loading","setLoading","isSubmitting","setIsSubmitting","matchedObject","setMatchedObject","activeRoleTab","setActiveRoleTab","notification","setNotification","confirmModal","setConfirmModal","loggedinuserRole","useMemo","_userData$roles","_userData$roles$","roles","toUpperCase","length","matched","find","role","_role$roleName","roleName","trim","newPermissionLabel","setNewPermissionLabel","allPermissionOptions","setAllPermissionOptions","isAddRoleModalOpen","setIsAddRoleModalOpen","newRoleName","setNewRoleName","isAddingRole","setIsAddingRole","showNotification","closeNotification","showConfirmModal","arguments","undefined","closeConfirmModal","formatPermissionLabel","permission","replace","toLowerCase","l","mapAPIRoleToKey","apiRoleName","startsWith","substring","Array","isArray","allApiPermissions","flatMap","currentManualOptions","filter","opt","value","map","options","Set","p","label","sort","a","b","localeCompare","initialPermissions","firstRoleKey","forEach","apiRole","roleKey","id","prevTab","handleAddPermission","newPermissionValue","some","option","newPermission","prevOptions","handleSelectionChange","selectedOptions","selectedValues","prev","_objectSpread","handleAddNewRole","async","e","preventDefault","trimmedRoleName","newRoleDto","authApi","post","response","get","data","error","_error$response","_error$response$data","console","errorMessage","handleSubmit","GARBAGE_ROLE_NAME","GARBAGE_ROLE_KEY","assignedPermissions","Object","values","perm","add","unassignedPermissions","has","transformedPermissions","keys","key","_permissions$key","_permissions$key2","finalGarbageRole","existingGarbageRole","r","createDto","createdRole","Error","updatedGarbagePermissions","push","join","_error$response2","_error$response2$data","handleReset","handleDeleteRole","roleKeyToDelete","roleToDeleteName","callerRole","delete","_error$response3","_error$response3$data","customSelectStyles","control","provided","state","backgroundColor","borderColor","isFocused","minHeight","boxShadow","borderRadius","padding","valueContainer","gap","input","color","margin","paddingBlock","indicatorSeparator","display","placeholder","multiValue","border","overflow","multiValueLabel","paddingLeft","fontSize","fontWeight","multiValueRemove","marginLeft","marginRight","transform","outline","transition","cursor","rolesToRender","selectedPermissionsForActiveRole","_permissions$activeRo","_permissions$activeRo2","FaPlus","onSubmit","htmlFor","onChange","target","stopPropagation","Select","isMulti","styles","closeMenuOnSelect","FaUndo","FaSave"],"sourceRoot":""}