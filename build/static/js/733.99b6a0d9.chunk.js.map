{"version":3,"file":"static/js/733.99b6a0d9.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/EmployeeDashboards/LeaveDetails.jsx","TechLife/HRMS/Components/EmployeeDashboards/LeavesDashboard.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport { FaRegCircleXmark } from \"react-icons/fa6\";\r\n\r\nconst LeaveDetails = ({ leave, onClose }) => {\r\n  const {theme}=useContext(Context)\r\n  if (!leave) return null;\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div\r\n        className=\"fixed inset-0 z-50 flex items-center justify-center  bg-opacity-25 backdrop-blur-sm\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n      >\r\n        <motion.div\r\n          className={` ${theme==='dark'?'bg-gray-500 text-gray-200':'bg-stone-100'} rounded-lg shadow-xl p-6 max-w-lg w-full relative`}\r\n          initial={{ scale: 0.9, opacity: 0 }}\r\n          animate={{ scale: 1, opacity: 1 }}\r\n          exit={{ scale: 0.9, opacity: 0 }}\r\n        >\r\n          <button\r\n            onClick={onClose}\r\n            className={`w-20 h-20 absolute top-3 right-3 ${theme==='dark'?'text-gray-200':'text-gray-500'} hover:text-gray-700 text-xl`}\r\n          >\r\n         <FaRegCircleXmark className=\"w-8 h-8\"  />\r\n          </button>\r\n          <h2 className={`text-2xl font-bold mb-4 ${theme==='dark'?'text-gray-200':'text-gray-800'}`}>Leave Request Summary</h2>\r\n          <div className=\"space-y-2\">\r\n            <div><strong>Request By:</strong> {leave.request_By}</div>\r\n            <div><strong>Leave Type:</strong> {leave.leave_type}</div>\r\n            <div><strong>Leave On:</strong> {leave.leave_on}</div>\r\n            <div><strong>Status:</strong> {leave.status}</div>\r\n            <div><strong>Action Date:</strong> {leave.action_Date}</div>\r\n            <div><strong>Reason:</strong>{leave.leave_Reason || \"-\"} </div>\r\n            <div><strong>Action:</strong> {leave.rejection_Reason || \"-\"}</div>\r\n          </div>\r\n        </motion.div>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default LeaveDetails;","import React, { useContext, useEffect, useState, Fragment } from \"react\";\r\nimport { useMediaQuery } from \"@mui/material\";\r\nimport { Box } from \"@mui/material\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport {\r\n    PieChart,\r\n    Pie,\r\n    Cell,\r\n    ResponsiveContainer,\r\n    Tooltip,\r\n    BarChart,\r\n    Bar,\r\n    XAxis,\r\n    YAxis,\r\n    Label,\r\n} from \"recharts\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport Calendar from \"./Calender\";\r\nimport axios from 'axios';\r\nimport { Navigate, useParams } from \"react-router-dom\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport LeavesReports from \"./LeavesReports\";\r\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\r\nimport LeaveDetails from \"./LeaveDetails\";\r\nimport { FaFileAlt, FaRegFileAlt } from \"react-icons/fa\";\r\nimport { LiaFileAlt, LiaFileAltSolid } from \"react-icons/lia\";\r\nimport { IoPersonOutline } from \"react-icons/io5\";\r\nimport { authApi, dashboardApi } from \"../../../../axiosInstance\";\r\nimport EmployeeTable from \"./TotalEmployeeLeaves\";\r\n\r\n// AddLeaveForm component\r\n//const AddLeaveForm = ({ onClose, onAddLeave }) => {\r\n//    const { theme } = useContext(Context);\r\n//    const { empID } = useParams();\r\n//    const [showFromCalendar, setShowFromCalendar] = useState(false);\r\n//    const [showToCalendar, setShowToCalendar] = useState(false);\r\n//    const [fromDate, setFromDate] = useState(null);\r\n//    const [toDate, setToDate] = useState(null);\r\n//    const [selectedLeaveType, setSelectedLeaveType] = useState(\"\");\r\n//    const [reason, setReason] = useState(\"\");\r\n//    const [employeeId, setEmployeeId] = useState(empID || \"\");\r\n//    const [employeeName, setEmployeeName] = useState(\"\");\r\n//    const validity = [\r\n//        { sickLeave: \"5\" },\r\n//        { casualLeave: \"10\" },\r\n//        { unpaidLeave: \"0\" },\r\n//        { paidLeave: \"15\" },\r\n//    ];\r\n//    const handleLeaveTypeChange = (e) => {\r\n//        setSelectedLeaveType(e.target.value);\r\n//    };\r\n//   const handleSubmit = async (e) => {\r\n//    e.preventDefault();\r\n//\r\n//    // Map form fields to API variables\r\n//    const leaveRequest = {\r\n//        employeeId: employeeId,\r\n//        numberOfDays: fromDate && toDate\r\n//            ? Math.floor((toDate - fromDate) / (1000 * 60 * 60 * 24)) + 1\r\n//            : 1,\r\n//        req_To_from: fromDate ? fromDate.toISOString().slice(0, 10) : \"\",\r\n//        req_To_to: toDate ? toDate.toISOString().slice(0, 10) : \"\",\r\n//        leave_Reason: reason,\r\n//        isHalf_Day: false, // You can map this from your leave duration select if needed\r\n//        leave_Type: selectedLeaveType,\r\n//    };\r\n//\r\n//    try {\r\n//        // POST to the endpoint\r\n//        const response = await axios.post(\r\n//            `https://hrms.anasolconsultancyservices.com/api/attendance/employee/leaveRequest/${employeeId}`,\r\n//            leaveRequest\r\n//        );\r\n//\r\n//        // Store in localStorage\r\n//        const storedLeaves = JSON.parse(localStorage.getItem(`leaveHistory_${employeeId}`)) || [];\r\n//        localStorage.setItem(\r\n//            `leaveHistory_${employeeId}`,\r\n//            JSON.stringify([leaveRequest, ...storedLeaves])\r\n//        );\r\n//\r\n//        // Optionally call parent handler\r\n//        onAddLeave(leaveRequest);\r\n//        onClose();\r\n//    } catch (error) {\r\n//        console.error(\"Failed to submit leave request:\", error);\r\n//        alert(\"Failed to submit leave request. Please try again.\");\r\n//    }\r\n//};\r\n//\r\n//    return (\r\n//        <motion.div className=\"fixed inset-0 z-50 flex items-center justify-center bg-opacity-25 backdrop-blur-sm p-4\"    initial={{ opacity: 0 }}    animate={{ opacity: 1 }}    exit={{ opacity: 0 }}    transition={{ duration: 0.3 }}>\r\n//            <motion.div className=\"relative w-full max-w-3xl mx-auto  my-auto max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 md:scale-100\"    initial={{ scale: 0.9, opacity: 0 }}    animate={{ scale: 1, opacity: 1 }}    exit={{ scale: 0.9, opacity: 0 }}    transition={{ duration: 0.3 }}>\r\n//               \r\n//                <form onSubmit={handleSubmit} className={`relative w-full max-w-3xl mx-auto rounded-lg   shadow-2xl my-auto max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 md:scale-100 border border-green-200 ${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>\r\n//                   <div className=\" mb-4 text-center rounded-t bg-gradient-to-br from-orange-200 to-orange-600\"> \r\n//                    <h2 className={`text-2xl pt-6  font-bold border-b pb-8 ${theme === 'dark' ? 'text-white border-gray-100' : 'text-gray-800 border-gray-200'}`}>     Request a Leave</h2>\r\n//                    </div>\r\n//                    <div className=\"space-y-4 p-4\">\r\n//                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 \">\r\n//                            <motion.div initial={{ x: -20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.1 }}>\r\n//                                <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>\r\n//                                    Employee Id\r\n//                                </label>\r\n//                                <input    type=\"text\"    value={employeeId}    onChange={e => setEmployeeId(e.target.value)}    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white ':'border border-gray-300 text-black'}`}/>\r\n//                            </motion.div>\r\n//                            <motion.div initial={{ x: 20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.2 }}>\r\n//                                <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>    Employee Name</label>\r\n//                                <input    type=\"text\"    value={employeeName}    onChange={e => setEmployeeName(e.target.value)}    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white ':'border border-gray-300 text-black'}`}/>\r\n//                            </motion.div>\r\n//                        </div>\r\n//                        <motion.div initial={{ y: 20, opacity: 0 }} animate={{ y: 0, opacity: 1 }} transition={{ delay: 0.3 }}>\r\n//                             <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>   Leave Type</label>\r\n//                            <select    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100  ':'border border-gray-300 '} shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50`}    onChange={handleLeaveTypeChange}    value={selectedLeaveType}>\r\n//                                <option value=\"\"            className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Select</option>\r\n//                                <option value=\"Sick Leave\"  className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Sick Leave</option>\r\n//                                <option value=\"Casual Leave\"className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Casual Leave</option>\r\n//                                <option value=\"Unpaid Leave\"className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Unpaid Leave</option>\r\n//                                <option value=\"Paid Leave\"  className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Paid Leave</option>\r\n//                            </select>\r\n//                        </motion.div>\r\n//                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n//                            <motion.div initial={{ x: -20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.4 }}>\r\n//                                <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>   From</label>\r\n//                                <div className=\"relative mt-1\">\r\n//                                    <input type=\"text\" readOnly value={fromDate? fromDate.toLocaleDateString(\"en-GB\") : \"dd-mm-yyyy\"} onClick={() => setShowFromCalendar(!showFromCalendar)} className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white':'border border-gray-300 text-black'}`}/>\r\n//                                    {showFromCalendar && (\r\n//                                        <Calendar    selectedDate={fromDate}    onSelectDate={(date) => {        setFromDate(date);        setShowFromCalendar(false);    }}    onClose={() => setShowFromCalendar(false) } className={`$`} />\r\n//                                    )}\r\n//                                </div>\r\n//                            </motion.div>\r\n//                            <motion.div initial={{ x: 20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.5 }}>\r\n//                                 <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>     To</label>\r\n//                                <div className=\"relative mt-1\">\r\n//                                    <input    type=\"text\"    readOnly    value={        toDate ? toDate.toLocaleDateString(\"en-GB\") : \"dd-mm-yyyy\"    }    onClick={() => setShowToCalendar(!showToCalendar)}    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white':'border border-gray-300 text-black'}`}/>\r\n//                                    {showToCalendar && (\r\n//                                        <Calendar    selectedDate={toDate}    onSelectDate={(date) => {        setToDate(date);        setShowToCalendar(false);    }}    onClose={() => setShowToCalendar(false)}/>\r\n//                                    )}\r\n//                                </div>\r\n//                            </motion.div>\r\n//                        </div>\r\n//                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n//                            <motion.div initial={{ x: -20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.6 }}>\r\n//                                <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>    No. of Days</label>\r\n//                                <input    readOnly    type=\"text\"    value={        fromDate && toDate            ? `${            Math.floor((toDate - fromDate) / (1000 * 60 * 60 * 24)) +            1            } Days`            : \"0 Days\"    }    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white ':'border border-gray-300 text-black'}`}/>\r\n//                            </motion.div>\r\n//                            <motion.div initial={{ x: 20, opacity: 0 }} animate={{ x: 0, opacity: 1 }} transition={{ delay: 0.7 }}>\r\n//                               <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>     Leave Duration</label>\r\n//                                <select className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none  ${theme==='dark' ? 'border border-gray-100 text-white ':'border border-gray-300 text-black'}`}>\r\n//                                    <option value=\"\" className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Select</option>\r\n//                                     <option value=\"Full Day\" className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Full Day</option>\r\n//                                     <option value=\"First Half Day\"className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>First Half Day</option>\r\n//                                     <option value=\"Second Half Day\"className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Second Half Day</option>\r\n//                                </select>\r\n//                            </motion.div>\r\n//                        </div>\r\n//                        <motion.div initial={{ y: 20, opacity: 0 }} animate={{ y: 0, opacity: 1 }} transition={{ delay: 1 }}>\r\n//                            <label className={`block text-sm font-medium  ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>    Reason</label>\r\n//                            <textarea    rows=\"3\"    value={reason}    onChange={(e) => setReason(e.target.value)}    className={`w-full px-3 mt-2 sm:px-4 md:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-sm\r\n//                                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${theme==='dark' ? 'border border-gray-100 text-white ':'border border-gray-300 text-black'}`}></textarea>\r\n//                        </motion.div>\r\n//                    </div>\r\n//                    <div className=\"mt-6 flex justify-end space-x-3 border-t p-4\">\r\n//                        <motion.button    onClick={onClose}    type=\"button\"    className=\"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors\"    whileHover={{ scale: 1.05 }}    whileTap={{ scale: 0.95 }}>    Cancel</motion.button>\r\n//                        <motion.button    type=\"submit\"    className=\"rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors\"    whileHover={{ scale: 1.05 }}    whileTap={{ scale: 0.95 }}>    Add Leave</motion.button>\r\n//                    </div>\r\n//                </form>\r\n//            </motion.div>\r\n//        </motion.div>\r\n//    );\r\n//};\r\n// Assume Context is imported and provides the theme and userData\r\n// const Context = React.createContext({ theme: 'light', userData: { employeeId: '001' } }); \r\n\r\n// --- Custom Input/Select Component for clean JSX ---\r\nconst FormField = ({ label, theme, children, helperText, className = '' }) => {\r\n    return (\r\n        <div className={`space-y-1 ${className}`}>\r\n            <label className={`block text-sm font-medium ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>\r\n                {label}\r\n            </label>\r\n            {children}\r\n            {helperText && (\r\n                <p className={`text-xs mt-1 italic ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                    {helperText}\r\n                </p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst baseInputClasses = (theme) => `w-full px-4 py-3 border rounded-lg transition duration-300 text-sm \r\n    focus:ring-2 focus:ring-red-500/40 focus:border-red-500 focus:outline-none \r\n    ${theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-300 bg-white text-gray-800'}`;\r\n\r\n// ---------------------------------------------------\r\n\r\nconst AddLeaveForm = ({ onClose, onAddLeave }) => {\r\n    // Logic and State (UNCHANGED as requested)\r\n    const { userData, theme } = useContext(Context);\r\n    const [fromDate, setFromDate] = useState(\"\");\r\n    const [toDate, setToDate] = useState(\"\");\r\n    const [leaveType, setLeaveType] = useState(\"\");\r\n    const [reason, setReason] = useState(\"\");\r\n    const [isHalfDay, setIsHalfDay] = useState(false);\r\n    const [employeeId, setEmployeeId] = useState(userData?.employeeId || \"\");\r\n    const [isSubmitting, setIsSubmitting] = useState(false); // Added for UI feedback\r\n\r\n    const getNumberOfDays = () => {\r\n        if (!fromDate || !toDate) return 0;\r\n        const start = new Date(fromDate);\r\n        const end = new Date(toDate);\r\n        // Correctly calculate day difference\r\n        const oneDay = 1000 * 60 * 60 * 24;\r\n        const diffTime = end.getTime() - start.getTime();\r\n        const diffDays = Math.round(diffTime / oneDay);\r\n        return diffDays >= 0 ? diffDays + 1 : 0;\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault(); // Ensure we prevent default form submit\r\n        setIsSubmitting(true);\r\n        // ... (rest of your logic remains here)\r\n        console.log(\"Submitting leave request:\", { fromDate, toDate, leaveType, reason, isHalfDay });\r\n        const leaveRequest = {\r\n            employeeId: userData?.employeeId,\r\n            numberOfDays: getNumberOfDays(),\r\n            req_To_from: fromDate,\r\n            req_To_to: toDate,\r\n            leave_Reason: reason,\r\n            isHalf_Day: isHalfDay,\r\n            leave_Type: leaveType,\r\n        };\r\n\r\n        try {\r\n            await axios.post(\r\n                `https://hrms.anasolconsultancyservices.com/api/attendance/employee/leaveRequest/${userData?.employeeId}`,\r\n                leaveRequest\r\n            );\r\n            console.log(\"Leave request submitted:\", leaveRequest);\r\n            \r\n            const key = `leaveHistory_${userData?.employeeId}`;\r\n            const storedLeaves = JSON.parse(localStorage.getItem(key)) || [];\r\n            localStorage.setItem(key, JSON.stringify([leaveRequest, ...storedLeaves]));\r\n            if (onAddLeave) onAddLeave(leaveRequest);\r\n            onClose();\r\n            alert(\"Leave request submitted successfully! âœ…\"); // Added success alert\r\n        } catch (error) {\r\n            console.error(leaveRequest);\r\n            alert(\"Failed to submit leave request. Please check your inputs. ðŸ˜”\"); // Added error alert\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n    // UI Redesign Starts Here\r\n    const formThemeClasses = theme === 'dark' \r\n        ? 'bg-gray-800 text-white border-gray-700' \r\n        : 'bg-white text-gray-800 border-gray-100';\r\n    \r\n    const headerGradient = 'bg-gradient-to-r from-blue-500 to-blue-600';\r\n\r\n    return (\r\n        <motion.div \r\n            className=\"absolute inset-0 flex justify-center items-center z-50 p-4 bg-black/50 bg-opacity-40 backdrop-blur-sm\" \r\n            initial={{ opacity: 0 }} \r\n            animate={{ opacity: 1 }} \r\n            exit={{ opacity: 0 }} \r\n            transition={{ duration: 0.3 }}\r\n            onClick={onClose} // Allow closing by clicking backdrop\r\n        >\r\n            <motion.div \r\n                className=\"w-full max-w-xl mx-auto my-auto max-h-[90vh] overflow-y-auto transform\" \r\n                initial={{ scale: 0.95, y: -20 }} \r\n                animate={{ scale: 1, y: 0 }} \r\n                exit={{ scale: 0.95, y: -20 }} \r\n                transition={{ duration: 0.3 }}\r\n                onClick={(e) => e.stopPropagation()} // Prevent closing when clicking inside\r\n            >\r\n                <form \r\n                    onSubmit={handleSubmit} \r\n                    className={`relative w-full rounded-3xl shadow-3xl overflow-hidden ${formThemeClasses} transition-all duration-300`}\r\n                >\r\n                    {/* Professional Header */}\r\n                    <div className={`text-center rounded-t-3xl ${headerGradient} p-6`}>\r\n                        <h2 className=\"text-2xl font-extrabold text-white flex items-center justify-center\">\r\n                            <i className=\"fas fa-plane-departure mr-3\"></i> Request Employee Leave\r\n                        </h2>\r\n                        <p className=\"text-sm text-white/90 mt-1\">Fill out the details below to submit your leave request.</p>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-6 p-8\">\r\n                        \r\n                        {/* Employee ID (Read-only/Initial Value) */}\r\n                        <FormField label=\"Employee ID\" theme={theme} helperText=\"This is automatically fetched from your profile.\">\r\n                            <input \r\n                                type=\"text\" \r\n                                value={employeeId} \r\n                                onChange={e => setEmployeeId(e.target.value)} \r\n                                className={`${baseInputClasses(theme)} bg-gray-300  cursor-not-allowed`} \r\n                                readOnly // Making it look disabled but still editable if needed\r\n                            />\r\n                        </FormField>\r\n\r\n                        {/* Date Inputs Group */}\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n                            <FormField label=\"From Date\" theme={theme}>\r\n                                <input \r\n                                    type=\"date\" \r\n                                    value={fromDate} \r\n                                    onChange={e => setFromDate(e.target.value)} \r\n                                    className={baseInputClasses(theme)} \r\n                                    required \r\n                                />\r\n                            </FormField>\r\n                            \r\n                            <FormField label=\"To Date\" theme={theme} helperText={`Duration: ${getNumberOfDays()} day(s)`}>\r\n                                <input \r\n                                    type=\"date\" \r\n                                    value={toDate} \r\n                                    onChange={e => setToDate(e.target.value)} \r\n                                    className={baseInputClasses(theme)} \r\n                                    min={fromDate} // UX improvement: Cannot select a date before 'From Date'\r\n                                    required \r\n                                />\r\n                            </FormField>\r\n                        </div>\r\n\r\n                        {/* Leave Type and Half-Day Group */}\r\n                        <div className=\"grid grid-cols-2 gap-6 items-end\">\r\n                             <FormField label=\"Leave Type\" theme={theme}>\r\n                                <select \r\n                                    value={leaveType} \r\n                                    onChange={e => setLeaveType(e.target.value)} \r\n                                    className={`${baseInputClasses(theme)} h-12 appearance-none`} // Increased height for aesthetic, removed extra styles\r\n                                    required\r\n                                >\r\n                                    <option value=\"\" className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Select Type</option>\r\n                                    <option value=\"Sick\" className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Sick Leave</option>\r\n                                    <option value=\"Casual\" className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Casual Leave</option>\r\n                                    <option value=\"Unpaid\" className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Unpaid Leave</option>\r\n                                    <option value=\"Paid\" className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'}`}>Paid Leave</option>\r\n                                </select>\r\n                            </FormField>\r\n                            \r\n                            {/* Half Day Checkbox (Enhanced Style) */}\r\n                            <div className=\"flex items-center pt-6\">\r\n                                <input \r\n                                    id=\"isHalfDay\"\r\n                                    type=\"checkbox\" \r\n                                    checked={isHalfDay} \r\n                                    onChange={e => setIsHalfDay(e.target.checked)} \r\n                                    className=\"h-5 w-5 rounded border-gray-300 text-red-600 focus:ring-red-500 transition duration-150\"\r\n                                />\r\n                                <label \r\n                                    htmlFor=\"isHalfDay\"\r\n                                    className={`ml-2 block text-sm font-medium cursor-pointer ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}\r\n                                >\r\n                                    Is this a Half Day leave?\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Reason Textarea */}\r\n                        <FormField label=\"Reason for Leave\" theme={theme}>\r\n                            <textarea \r\n                                value={reason} \r\n                                onChange={e => setReason(e.target.value)} \r\n                                className={`${baseInputClasses(theme)} min-h-[100px]`} \r\n                                required \r\n                                placeholder=\"Briefly describe your reason for taking leave...\"\r\n                            />\r\n                        </FormField>\r\n\r\n                        {/* Action Buttons */}\r\n                        <div className=\"pt-4 flex justify-end space-x-4 border-t border-gray-200 dark:border-gray-700 -mx-8 px-8\">\r\n                            <motion.button \r\n                                type=\"button\" \r\n                                onClick={onClose} \r\n                                className=\"px-5 py-2.5 rounded-lg border text-sm font-semibold shadow-sm transition-colors hover:bg-gray-100  dark:border-gray-600\"\r\n                                whileHover={{ scale: 1.05 }} \r\n                                whileTap={{ scale: 0.95 }}\r\n                            >\r\n                                Cancel\r\n                            </motion.button>\r\n                            \r\n                            <motion.button \r\n                                type=\"submit\" \r\n                                className=\"px-5 py-2.5 rounded-lg border border-transparent bg-blue-600 text-sm font-semibold text-white shadow-md hover:bg-blue-700 disabled:opacity-50 disabled:bg-red-400 transition-colors\" \r\n                                disabled={isSubmitting} \r\n                                whileHover={{ scale: 1.05 }} \r\n                                whileTap={{ scale: 0.95 }}\r\n                            >\r\n                                {isSubmitting ? 'Sending Request...' : 'Submit Leave Request'}\r\n                            </motion.button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </motion.div>\r\n        </motion.div>\r\n    );\r\n};\r\n// LeaveTypeCard component\r\nconst LeaveTypeCard = ({\r\n    title,\r\n    leaveData = { type: title, consumed: 0, remaining: 0, total: 0 },\r\n    color,\r\n}) => {\r\n    const isMobile = useMediaQuery(\"(max-width:500px)\");\r\n    const { type, consumed, remaining, total } = leaveData;\r\n    const chartData = [\r\n        { name: \"Consumed\", value: consumed },\r\n        { name: \"Remaining\", value: Math.max(total - consumed, 0) },\r\n    ];\r\n    const COLORS = [\"#8884d8\", \"#82ca9d\", \"#ffc658\", \"#ff8042\", \"#a4de6c\"];\r\n    const { theme } = useContext(Context);\r\n    return (\r\n        <motion.div\r\n            className={`rounded-xl shadow-lg p-6 h-full flex flex-col items-center justify-center border border-gray-200 hover:border-indigo-500 hover:shadow-2xl transition-all duration-300 ease-in-out ${theme === 'dark' ? 'bg-gray-600' : 'bg-stone-100 text-gray-800'}`}\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, ease: \"easeOut\" }}\r\n\r\n        >\r\n            <h1 className={`text-xl font-bold mb-4 text-center ${theme==='dark' ? 'bg-gradient-to-br from-yellow-100 to-yellow-400 bg-clip-text text-transparent border-gray-100':'text-gray-700'}`}>\r\n                {title}\r\n            </h1>\r\n            <Box\r\n                display=\"flex\"\r\n                flexDirection=\"column\"\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n                className=\"w-full\"\r\n            >\r\n                <>\r\n                <ResponsiveContainer width={140} height={140}>\r\n                    <PieChart>\r\n                        <Pie\r\n                            data={chartData}\r\n                            cx=\"50%\"\r\n                            cy=\"50%\"\r\n                            innerRadius={30}\r\n                            outerRadius={60}\r\n                            paddingAngle={3}\r\n                            dataKey=\"value\"\r\n                            stroke=\"none\"\r\n                            className=\"ml-0\"\r\n                        >\r\n                            {chartData.map((entry, index) => (\r\n                                <Cell key={`cell-${index}`} fill={COLORS[index]} />\r\n                            ))}\r\n                        </Pie>\r\n                        <text\r\n                            x=\"50%\"\r\n                            y=\"50%\"\r\n                            textAnchor=\"middle\"\r\n                            dominantBaseline=\"middle\"\r\n                            className={`text-lg font-semibold ${theme==='dark' ? 'text-gray-200':'text-gray-700'}`}\r\n                        >\r\n                            {type.split(\" \")[0]}\r\n                        </text>\r\n                        <Tooltip />\r\n                    </PieChart>\r\n                </ResponsiveContainer>\r\n                <div className={`text-center mt-4 space-y-2 text-sm ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n                    <div>\r\n                        <strong>Consumed:</strong>{\" \"}\r\n                        <span className=\"font-semibold text-sm text-red-600\">\r\n                            {consumed}\r\n                        </span>{\" \"}\r\n                        days\r\n                    </div>\r\n                    <div>\r\n                        <strong>Available:</strong>{\" \"}\r\n                        <span className=\"font-semibold text-sm text-green-600\">\r\n                            {\" \"}\r\n                            {remaining}\r\n                        </span>{\" \"}\r\n                        days\r\n                    </div>\r\n                    <div>\r\n                        <strong>Total:</strong> {total} days\r\n                    </div>\r\n                </div>\r\n                </>\r\n                \r\n            </Box>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\n// LeaveType component\r\nconst LeaveType = () => {\r\n    const COLORS = [\"#8884d8\", \"#82ca9d\", \"#ffc658\", \"#ff8042\", \"#a4de6c\"];\r\n    const { empID } = useParams();\r\n    const { userData,theme } = useContext(Context);\r\n    const [initialLeaveTypeData, setInitialLeaveTypeData] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n       const url = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/personalLeavesData`; \r\n        dashboardApi.get(url)\r\n            .then((response) => {\r\n                const formatted = response.data.map((item) => ({\r\n                    name: item.leaveType,\r\n                    value: item.days,\r\n                }));\r\n                setInitialLeaveTypeData(formatted);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error fetching personal leave data:\", error);\r\n            })\r\n            .finally(() => {\r\n                setIsLoading(false);\r\n            });\r\n    }, [empID]);\r\n//   const initialLeaveTypeData = [\r\n//  { employee: \"Rajesh\", leaveType: \"Sick Leave\", days: 5 },\r\n//  { employee: \"Rajesh\", leaveType: \"Paid Leave\", days: 2 },\r\n//  { employee: \"Rajesh\", leaveType: \"Unpaid Leave\", days: 4 },\r\n//  { employee: \"Rajesh\", leaveType: \"Casual Leave\", days: 3 },\r\n//];\r\n    const isMobile = useMediaQuery(\"(max-width:768px)\");\r\n    const renderCenterLabel = () => {\r\n        return (\r\n            <text\r\n                x=\"50%\"\r\n                y=\"50%\"\r\n                textAnchor=\"middle\"\r\n                dominantBaseline=\"middle\"\r\n                className=\"text-base font-semibold text-gray-700\"\r\n            >\r\n                Leave Types\r\n            </text>\r\n        );\r\n    };\r\n    const filteredData = initialLeaveTypeData.filter((item) => item.value > 0);\r\n\r\n    return (\r\n        <motion.div\r\n            className={` rounded-xl shadow-lg p-6 h-full flex flex-col border border-gray-200 hover:border-indigo-500 hover:shadow-2xl transition-all duration-300 ease-in-out ${theme === 'dark' ? 'bg-gray-600' : 'bg-stone-100 text-gray-800'}`}\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.2 }}\r\n        >\r\n             <h1 className={`text-2xl font-bold mb-4 text-center ${theme==='dark' ? 'bg-gradient-to-br from-purple-100 to-purple-400 bg-clip-text text-transparent border-gray-100':'text-gray-700 border-gray-200'} border-b pb-4`}>\r\n                Leave Type Breakdown\r\n            </h1>\r\n            <Box display=\"flex\" flexDirection={isMobile ? \"column\" : \"row\"} justifyContent=\"center\" alignItems=\"center\" height=\"100%\" gap={2} p={1}>\r\n                {isLoading ? (\r\n                    <div className=\"text-gray-500 text-center w-full\">Loading...</div>\r\n                ) :filteredData.length > 0 ? (\r\n                    <ResponsiveContainer width=\"100%\" height={250}>\r\n                        <PieChart>\r\n                            <Pie\r\n                                data={filteredData}\r\n                                cx=\"50%\"\r\n                                cy=\"50%\"\r\n                                innerRadius={60}\r\n                                outerRadius={100}\r\n                                fill=\"#8884d8\"\r\n                                dataKey=\"value\"\r\n                                paddingAngle={2}\r\n                                labelLine={false}\r\n                                label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\r\n                            >\r\n                                {filteredData.map((entry, index) => (\r\n                                    <Cell\r\n                                        key={`cell-${index}`}\r\n                                        fill={COLORS[index % COLORS.length]}\r\n                                    />\r\n                                ))}\r\n                            </Pie>\r\n                            <Label content={renderCenterLabel} position=\"center\" />\r\n                            <Tooltip />\r\n                        </PieChart>\r\n                    </ResponsiveContainer>\r\n                ) : (\r\n                    <div className={` text-center w-full ${theme === 'dark' ? 'text-white' : 'text-gray-500'} italic`}>\r\n                        No leave data available.\r\n                    </div>\r\n                )}\r\n            </Box>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\n// WeeklyPattern component\r\nconst WeeklyPattern = () => {\r\n    \r\n    const { employeeId } = useParams(); \r\n    // const { empID, employeeId } = useParams(); \r\n    \r\n    const { userData,theme } = useContext(Context);\r\n    const [selectedDay, setSelectedDay] = useState(\"All\");\r\n    const [rawData, setRawData] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(null); \r\n     const textColor = theme === 'dark' ? \"#FFFFFF\" : \"#000000\";\r\n\r\n   \r\n\r\n    useEffect(() => {\r\n        const url = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/leavesbar-graph`; \r\n        dashboardApi.get(url)\r\n            .then((response) => {\r\n                const formatted = response.data.map((item) => ({\r\n                  \r\n                    Day: item.day,\r\n                    Rate: item.rate,\r\n                }));\r\n                setRawData(formatted);\r\n                console.log(\"Give me Weekly pattern:\",formatted)\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error fetching leaves bar chart data:\", error);\r\n              \r\n                const errorMessage = error.response \r\n                    ? `Error: ${error.response.status} - ${error.response.statusText}` \r\n                    : \"Failed to load weekly leave pattern data.\";\r\n                setError(errorMessage);\r\n            })\r\n            .finally(() => {\r\n                setIsLoading(false);\r\n            });\r\n\r\n      \r\n        return () => {\r\n           \r\n        };\r\n\r\n   \r\n    }, [employeeId]); \r\n    const isMobile = useMediaQuery(\"(max-width:768px)\");\r\n    const dayOptions = [\"All\", ...new Set(rawData.map((d) => d.Day))];\r\n    const filteredData =\r\n        selectedDay === \"All\"\r\n            ? rawData\r\n            : rawData.filter((entry) => entry.Day === selectedDay);\r\n\r\n    return (\r\n        <motion.div\r\n            className={` shadow-lg rounded-xl p-6 h-full flex flex-col border border-gray-200 hover:border-indigo-500 hover:shadow-2xl transition-all duration-300 ease-in-out ${theme === 'dark' ? 'bg-gray-600' : 'bg-stone-100 text-gray-800'}`}\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.4 }}\r\n        >\r\n            <h1 className={`text-2xl font-bold mb-4 text-center ${theme==='dark' ? 'bg-gradient-to-br from-purple-100 to-purple-400 bg-clip-text text-transparent border-gray-100':'text-gray-700 border-gray-200'} border-b pb-4`}>\r\n                Weekly Leave Pattern\r\n            </h1>\r\n            \r\n            {/* Day Selector UI */}\r\n            <div className=\"mb-4 text-center\">\r\n                <label className={`mr-2 font-semibold  ${theme==='dark' ? 'text-white':'text-gray-700'}`}>Select Day:</label>\r\n                <select\r\n                    value={selectedDay}\r\n                    onChange={(e) => setSelectedDay(e.target.value)}\r\n                    className={`p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 ${theme==='dark' ? 'text-white':' text-gray-800 '}`}\r\n                    disabled={isLoading || error}\r\n                >\r\n                    {dayOptions.map((day) => (\r\n                        <option key={day} value={day}>\r\n                            {day}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n            \r\n            {/* Chart/Loading/Error Display Area */}\r\n            <Box\r\n                display=\"flex\"\r\n                flexDirection={isMobile ? \"column\" : \"row\"}\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n                height=\"100%\"\r\n                gap={5}\r\n                p={isMobile ? 1 : 2}\r\n            >\r\n                { filteredData.length > 0 ? (\r\n                    <ResponsiveContainer width=\"100%\" height={230}>\r\n                        <BarChart\r\n                            data={filteredData}\r\n                            margin={{ top: 10, right: 10, left: 10, bottom: 0 }}\r\n                        >\r\n                            <XAxis\r\n                                dataKey=\"Day\"\r\n                                axisLine={false}\r\n                                tickLine={false}\r\n                                stroke={textColor}\r\n                                className=\"text-sm text-gray-600\"\r\n                            />\r\n                            <YAxis hide />\r\n                            <Tooltip contentStyle={{ backgroundColor: theme ==='dark' ? \"#63676cff\" : \"#fff\", border: theme ? \"1px solid #4B5563\" : \"1px solid #ccc\" }} />\r\n                            <Bar dataKey=\"Rate\" fill=\"#69d6dbff\" radius={[8, 8, 0, 0]} />\r\n                        </BarChart>\r\n                    </ResponsiveContainer>\r\n                ) : ( \r\n                    <div className={` text-center w-full ${theme === 'dark' ? 'text-white' : 'text-gray-500'} italic`}>\r\n                        No weekly leave pattern data available.\r\n                    </div>\r\n                )}\r\n            </Box>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\n\r\n// LeaveHistory component\r\n//const LeaveHistory = ({ leaveHistoryData }) => {\r\n//    const [leaveTypeFilter, setLeaveTypeFilter] = useState(\"All\");\r\n//    const [statusFilter, setStatusFilter] = useState(\"All\");\r\n//    const [sortOption, setSortOption] = useState(\"Recently added\");\r\n//    const [apiPageSize, setApiPageSize] = useState(10);\r\n//   const [rowsPerPage, setRowsPerPage] = useState(10);\r\n//    const rowsPerPageOptions = [10, 25, 50, 100];\r\n//    const [currentPage, setCurrentPage] = useState(1);\r\n//    const [isLoading, setIsLoading] = useState(false);\r\n//    const { empID } = useParams();\r\n//    const [selectedLeave, setSelectedLeave] = useState(null);\r\n//    const { theme } = useContext(Context);\r\n//\r\n//const handleDetailsClick = (leave) => {\r\n//  setSelectedLeave(leave);\r\n//};\r\n//\r\n//const handleCloseModal = () => {\r\n//  setSelectedLeave(null);\r\n//};\r\n//\r\n//    const leaveTypes = [\"All\", ...new Set(leaveHistoryData.map((d) => d.Leave_type))];\r\n//    const statuses = [\"All\", ...new Set(leaveHistoryData.map((d) => d.status))];\r\n//    const sortOptions = [\"Recently added\", \"Ascending\", \"Descending\", \"Last Month\", \"Last 7 Days\"];\r\n//\r\n//    const filterAndSortData = () => {\r\n//        let data = [...leaveHistoryData];\r\n//        data = data.filter((item) => {\r\n//            return (\r\n//                (leaveTypeFilter === \"All\" || item.Leave_type === leaveTypeFilter) &&\r\n//                (statusFilter === \"All\" || item.status === statusFilter)\r\n//            );\r\n//        });\r\n//        switch (sortOption) {\r\n//            case \"Ascending\":\r\n//                data.sort((a, b) => a.Leave_type.localeCompare(b.Leave_type));\r\n//                break;\r\n//            case \"Descending\":\r\n//                data.sort((a, b) => b.Leave_type.localeCompare(a.Leave_type));\r\n//                break;\r\n//            case \"Last Month\":\r\n//                const lastMonth = new Date();\r\n//                lastMonth.setMonth(lastMonth.getMonth() - 1);\r\n//                data = data.filter((item) => new Date(item.Leave_On) >= lastMonth);\r\n//                break;\r\n//            case \"Last 7 Days\":\r\n//                const last7Days = new Date();\r\n//                last7Days.setDate(last7Days.getDate() - 7);\r\n//                data = data.filter((item) => new Date(item.Leave_On) >= last7Days);\r\n//                break;\r\n//            case \"Recently added\":\r\n//            default:\r\n//                data.sort((a, b) => new Date(b.Action_Date) - new Date(a.Action_Date));\r\n//                break;\r\n//        }\r\n//        return data;\r\n//    };\r\n//\r\n//    const filteredAndSortedData = filterAndSortData();\r\n//    const totalPages = Math.ceil(filteredAndSortedData.length / rowsPerPage);\r\n//    const paginatedData = filteredAndSortedData.slice(\r\n//        (currentPage - 1) * rowsPerPage,\r\n//        currentPage * rowsPerPage\r\n//    );\r\n//\r\n//    return (\r\n//        <motion.div\r\n//            className={`shadow-lg rounded-xl p-6 col-span-full border border-gray-200 hover:border-indigo-500 hover:shadow-2xl transition-all duration-300 ease-in-out ${theme === 'dark' ? 'bg-gray-600' : 'bg-stone-100 text-gray-800'}`}\r\n//            initial={{ opacity: 0, y: 50 }}\r\n//            animate={{ opacity: 1, y: 0 }}\r\n//            transition={{ duration: 0.5, delay: 0.6 }}\r\n//        >\r\n//            <h2 className={`text-2xl font-bold mb-4 text-left border-b pb-4 ${theme === 'dark' ? 'bg-gradient-to-br from-green-400 to-green-800 bg-clip-text text-transparent border-gray-100' : 'text-gray-800 border-gray-200'} `}>\r\n//                Leave Requests History\r\n//            </h2>\r\n//            <div className=\"flex flex-wrap items-center gap-4 mb-6\">\r\n//                <div className=\"relative\">\r\n//                    <label className={`text-base font-semibold mr-2 ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n//                        Leave Type:\r\n//                    </label>\r\n//                    <select\r\n//                        value={leaveTypeFilter}\r\n//                        onChange={(e) => setLeaveTypeFilter(e.target.value)}\r\n//                        className={`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 border ${theme==='dark' ? 'border-black  bg-gray-500 text-white':'border-gray-300'}`}\r\n//                    >\r\n//                        {leaveTypes.map((type) => (\r\n//                            <option key={type} value={type}>\r\n//                                {type}\r\n//                            </option>\r\n//                        ))}\r\n//                    </select>\r\n//                </div>\r\n//                <div>\r\n//                    <label className={`text-base font-semibold mr-2 ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n//                        Status:\r\n//                    </label>\r\n//                    <select\r\n//                        value={statusFilter}\r\n//                        onChange={(e) => setStatusFilter(e.target.value)}\r\n//                        className={`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 border ${theme==='dark' ? 'border-black bg-gray-500 text-white':'border-gray-300'}`}\r\n//                    >\r\n//                        {statuses.map((status) => (\r\n//                            <option key={status} value={status}>\r\n//                                {status}\r\n//                            </option>\r\n//                        ))}\r\n//                    </select>\r\n//                </div>\r\n//                <div className=\"relative\">\r\n//                     <label className={`text-base font-semibold mr-2 ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n//                        Sort by:\r\n//                    </label>\r\n//                    <select\r\n//                        value={sortOption}\r\n//                        onChange={(e) => setSortOption(e.target.value)}\r\n//                        className={`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 ${theme==='dark' ? 'border-black  bg-gray-500 text-white':'border-gray-300'} border`}\r\n//                    >\r\n//                        {sortOptions.map((option) => (\r\n//                            <option key={option} value={option}>\r\n//                                {option}\r\n//                            </option>\r\n//                        ))}\r\n//                    </select>\r\n//                </div>\r\n//            </div>\r\n//            <div className=\"overflow-x-auto rounded-xl\">\r\n//                <table className=\"min-w-full divide-y divide-gray-200 broder border-gray-200\">\r\n//                    <thead className={`bg-gray-50 ${theme==='dark' ? 'border-black  bg-gray-500 text-white':''}`}>\r\n//                        <tr>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Leave Type</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Leave On</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Status</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Request By</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Granted By</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Details</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Action Date</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Rejection Reason</th>\r\n//                            <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}> Action</th>\r\n//                        </tr>\r\n//                    </thead>\r\n//                    <tbody className=\"bg-white divide-y divide-gray-500\">\r\n//                        <AnimatePresence mode=\"wait\">\r\n//                             {paginatedData.length > 0 ? (\r\n//                                paginatedData.map((row, index) => (\r\n//                                    <motion.tr\r\n//                                        key={index}\r\n//                                        className=\"hover:bg-gray-50\"\r\n//                                        initial={{ opacity: 0, y: 20 }}\r\n//                                        animate={{ opacity: 1, y: 0 }}\r\n//                                        exit={{ opacity: 0, y: -20 }}\r\n//                                        transition={{ duration: 0.3, delay: index * 0.05 }}\r\n//                                    >\r\n//                                        <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>  {row.Leave_type}</td>\r\n//                                        <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}> {row.Leave_On}</td>\r\n//                                       <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500':''}`}>\r\n//                                            <span className={`px-2 py-1 rounded-full text-white text-xs font-semibold ${row.status === \"accepted\" ? \"bg-green-500\" : row.status === \"rejected\" ? \"bg-red-500\" : \"bg-blue-500\"}`}> {row.status}</span>\r\n//                                        </td>\r\n//                                        <td className={`px-4 py-3 whitespace-nowrap text-sm ${theme==='dark' ? ' bg-gray-500 text-gray-200 ':'text-gray-900'}`}> {row.Request_By || \"-\"}</td>\r\n//                                       <td className={`px-4 py-3 whitespace-nowrap text-sm ${theme==='dark' ?  ' bg-gray-500 text-gray-200':'text-gray-900'}`}> {row.Granted_By || \"-\"}</td>\r\n//                                       <td className={`px-4 py-3 whitespace-nowrap text-sm text-center ${theme==='dark' ?    'bg-gray-500 text-gray-200 ':''}`}>\r\n//                                            <button\r\n//                                                 onClick={() => handleDetailsClick(row)}\r\n//                                                 className=\"text-indigo-600 hover:text-indigo-800 text-lg\"\r\n//                                                 title=\"View Details\"\r\n//                                               >\r\n//                                                <FaFileAlt className={` ${theme==='dark'?'text-blue-200':'text-blue-600'} text-lg inline w-6 h-6 md:w-6 md:h-6 transition `} />\r\n//                                            </button>\r\n//                                        </td>\r\n//                                        <LeaveDetails leave={selectedLeave} onClose={handleCloseModal} />\r\n//                                        <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>\r\n//                                            {row.Action_Date}\r\n//                                        </td>\r\n//                                       <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>\r\n//                                            {row.Rejection_Reason || \"-\"}\r\n//                                        </td>\r\n//                                        <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>\r\n//                                            <a\r\n//                                                href={row.Action}\r\n//                                                target=\"_blank\"\r\n//                                                rel=\"noreferrer\"\r\n//                                                className={` ${theme==='dark'?'text-gray-200':'text-gray-600'} hover:text-gray-800 text-lg`}\r\n//                                            >\r\n//                                                â‹¯\r\n//                                            </a>\r\n//                                        </td>\r\n//                                    </motion.tr>\r\n//                                ))\r\n//                            ) : (\r\n//                                <motion.tr\r\n//                                    initial={{ opacity: 0 }}\r\n//                                    animate={{ opacity: 1 }}\r\n//                                    transition={{ duration: 0.3 }}\r\n//                                >\r\n//                                    <td colSpan=\"12\" className={`text-center py-4 text-gray-500 ${theme==='dark' ? ' bg-gray-500 text-white':''} italic`}>\r\n//                                        {isLoading ? \"Loading...\" : \"No matching records found.\"}\r\n//                                    </td>\r\n//                                </motion.tr>\r\n//                            )}\r\n//                        </AnimatePresence>\r\n//                    </tbody>\r\n//                </table>\r\n//            </div>\r\n//             {/* PAGINATION CONTROLS */}\r\n//            <div className=\"mt-4 flex flex-col sm:flex-row items-center justify-between\">\r\n//                <div className=\"flex items-center gap-2 mb-4 sm:mb-0\">\r\n//                    <span className={`text-sm text-gray-700 ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>Rows per page:</span>\r\n//                    <select value={rowsPerPage} onChange={(e) => { setRowsPerPage(Number(e.target.value)); setCurrentPage(1); }} className={`border border-gray-300 px-2 py-1 rounded-md text-sm ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500' : 'bg-white text-gray-800'}`}>\r\n//                        {rowsPerPageOptions.map((option) => <option key={option} value={option}>{option}</option>)}\r\n//                    </select>\r\n//                </div>\r\n//                <nav className=\"flex items-center gap-2\">\r\n//                    <button onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))} disabled={currentPage === 1} className={`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500 hover:bg-gray-500' : 'bg-white text-gray-800'} `}>Previous</button>\r\n//                    <span  className={`text-sm text-gray-700 ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>Page {currentPage} of {totalPages}</span>\r\n//                    <button onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))} disabled={currentPage === totalPages || totalPages === 0} className={`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500 hover:bg-gray-500' : 'bg-white text-gray-800'} `}>Next</button>\r\n//                </nav>\r\n//            </div>\r\n//        </motion.div>\r\n//    );\r\n//};\r\nconst LeaveHistory = ({ leaveHistoryData }) => {\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [leaveTypeFilter, setLeaveTypeFilter] = useState(\"All\");\r\n    const [statusFilter, setStatusFilter] = useState(\"All\");\r\n    const [sortOption, setSortOption] = useState(\"Recently added\");\r\n   const [rowsPerPage, setRowsPerPage] = useState(10);\r\n    const rowsPerPageOptions = [10, 25, 50, 100];\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const { empID } = useParams();\r\n    const [selectedLeave, setSelectedLeave] = useState(null);\r\n    const { theme } = useContext(Context);\r\n    const sortOptions = [\"Recently added\", \"Ascending\", \"Descending\", \"Last Month\", \"Last 7 Days\"];\r\n\r\n    const leaveTypes = [\"All\", ...new Set(leaveHistoryData.map((d) => d.leave_type))];\r\n    const statuses = [\"All\", ...new Set(leaveHistoryData.map((d) => d.status))];\r\n    const handleDetailsClick = (leave) => {\r\n  setSelectedLeave(leave);\r\n};\r\n\r\nconst handleCloseModal = () => {\r\n  setSelectedLeave(null);\r\n};\r\n   // const sortOptions = [\"Recently added\", \"Ascending\", \"Descending\", \"Last Month\", \"Last 7 Days\"];\r\n    const filterAndSortData = () => {\r\n        let data = [...leaveHistoryData];\r\n        data = data.filter((item) => {\r\n            return (\r\n                (leaveTypeFilter === \"All\" || item.leave_type === leaveTypeFilter) &&\r\n                (statusFilter === \"All\" || item.status === statusFilter)\r\n            );\r\n        });\r\n        switch (sortOption) {\r\n            case \"Ascending\":\r\n                data.sort((a, b) => a.leave_type.localeCompare(b.leave_type));\r\n                break;\r\n            case \"Descending\":\r\n                data.sort((a, b) => b.leave_type.localeCompare(a.leave_type));\r\n                break;\r\n            case \"Last Month\":\r\n                const lastMonth = new Date();\r\n                lastMonth.setMonth(lastMonth.getMonth() - 1);\r\n                data = data.filter((item) => new Date(item.leave_On) >= lastMonth);\r\n                break;\r\n            case \"Last 7 Days\":\r\n                const last7Days = new Date();\r\n                last7Days.setDate(last7Days.getDate() - 7);\r\n                data = data.filter((item) => new Date(item.leave_On) >= last7Days);\r\n                break;\r\n            case \"Recently added\":\r\n            default:\r\n                data.sort((a, b) => new Date(b.action_Date) - new Date(a.action_Date));\r\n                break;\r\n        }\r\n        return data;\r\n    };\r\n   const filteredAndSortedData= filterAndSortData();\r\n    const totalPages = Math.ceil(filteredAndSortedData.length / rowsPerPage);\r\n    const paginatedData = filteredAndSortedData.slice(\r\n        (currentPage - 1) * rowsPerPage,\r\n        currentPage * rowsPerPage\r\n    );\r\n    return (\r\n        <div className={`shadow-lg rounded-xl p-6 border ${theme === 'dark' ? 'bg-gray-600' : 'bg-white'}`}>\r\n             <h2 className={`text-2xl font-bold mb-4 text-left border-b pb-4 ${theme === 'dark' ? 'bg-gradient-to-br from-green-400 to-green-800 bg-clip-text text-transparent border-gray-100' : 'text-gray-800 border-gray-200'} `}>\r\n               Leave Requests History\r\n           </h2>\r\n           <div className=\"flex flex-wrap items-center gap-4 mb-6\">\r\n               <div className=\"relative\">\r\n                   <label className={`text-base font-semibold mr-2 ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n                       Leave Type:\r\n                   </label>\r\n                   <select\r\n                       value={leaveTypeFilter}\r\n                       onChange={(e) => setLeaveTypeFilter(e.target.value)}\r\n                       className={`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 border ${theme==='dark' ? 'border-black  bg-gray-500 text-white':'border-gray-300'}`}\r\n                   >\r\n                       {leaveTypes.map((type) => (\r\n                           <option key={type} value={type}>\r\n                               {type}\r\n                           </option>\r\n                       ))}\r\n                   </select>\r\n               </div>\r\n               <div>\r\n                   <label className={`text-base font-semibold mr-2 ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n                       Status:\r\n                   </label>\r\n                   <select\r\n                       value={statusFilter}\r\n                       onChange={(e) => setStatusFilter(e.target.value)}\r\n                       className={`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 border ${theme==='dark' ? 'border-black bg-gray-500 text-white':'border-gray-300'}`}\r\n                   >\r\n                       {statuses.map((status) => (\r\n                           <option key={status} value={status}>\r\n                               {status}\r\n                           </option>\r\n                       ))}\r\n                   </select>\r\n               </div>\r\n               <div className=\"relative\">\r\n                    <label className={`text-base font-semibold mr-2 ${theme==='dark' ? 'text-white':'text-gray-700'}`}>\r\n                       Sort by:\r\n                   </label>\r\n                   <select\r\n                       value={sortOption}\r\n                       onChange={(e) => setSortOption(e.target.value)}\r\n                       className={`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 ${theme==='dark' ? 'border-black  bg-gray-500 text-white':'border-gray-300'} border`}\r\n                   >\r\n                       {sortOptions.map((option) => (\r\n                           <option key={option} value={option}>\r\n                               {option}\r\n                           </option>\r\n                       ))}\r\n                   </select>\r\n               </div>\r\n           </div>\r\n           <div className=\"overflow-x-auto rounded-xl\">\r\n               <table className=\"min-w-full divide-y divide-gray-200 broder border-gray-200\">\r\n                   <thead className={`bg-gray-50 ${theme==='dark' ? 'border-black  bg-gray-500 text-white':''}`}>\r\n                    <tr>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Status</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Details</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Action</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Leave Type</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Leave On</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Request By</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Action Date</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>Rejection Reason</th>\r\n                        <th className={`px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ${theme==='dark' ? 'text-white':''}`}>LeaveDetails</th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-500\">\r\n                    {paginatedData.length > 0 ? paginatedData.map((row, idx) => (\r\n                        <tr key={idx}>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}><span className={`px-2 py-1 rounded-full text-white text-xs font-semibold ${row.status === \"APPROVED\" ? \"bg-green-500\" : row.status === \"rejected\" ? \"bg-red-500\" : \"bg-blue-500\"}`}> {row.status}</span></td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.details}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.action}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.leave_type}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.leave_on}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.request_By}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.action_Date}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm  ${theme==='dark' ? ' bg-gray-500 text-gray-200':'text-gray-900'}`}>{row.rejection_Reason}</td>\r\n                            <td className={`px-4 py-3 whitespace-nowrap text-sm text-center ${theme==='dark' ?    'bg-gray-500 text-gray-200 ':''}`}>\r\n                                            <button\r\n                                                 onClick={() => handleDetailsClick(row)}\r\n                                                 className=\"text-indigo-600 hover:text-indigo-800 text-lg\"\r\n                                                 title=\"View Details\"\r\n                                               >\r\n                                                <FaFileAlt className={` ${theme==='dark'?'text-blue-200':'text-blue-600'} text-lg inline w-6 h-6 md:w-6 md:h-6 transition `} />\r\n                                            </button>\r\n                                        </td>\r\n                                        <LeaveDetails leave={selectedLeave} onClose={handleCloseModal} />\r\n                        </tr>\r\n                    )) : (\r\n                        <tr>\r\n                            <td colSpan={8} className={`text-center py-4 text-gray-500 ${theme==='dark' ? ' bg-gray-500 text-white':''} italic`}>No leave history found.</td>\r\n                        </tr>\r\n                    )}\r\n                </tbody>\r\n            </table>\r\n              </div>\r\n            <div className=\"mt-4 flex flex-col sm:flex-row items-center justify-between\">\r\n               <div className=\"flex items-center gap-2 mb-4 sm:mb-0\">\r\n                   <span className={`text-sm text-gray-700 ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>Rows per page:</span>\r\n                   <select value={rowsPerPage} onChange={(e) => { setRowsPerPage(Number(e.target.value)); setCurrentPage(1); }} className={`border border-gray-300 px-2 py-1 rounded-md text-sm ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500' : 'bg-white text-gray-800'}`}>\r\n                       {rowsPerPageOptions.map((option) => <option key={option} value={option}>{option}</option>)}\r\n                   </select>\r\n               </div>\r\n               <nav className=\"flex items-center gap-2\">\r\n                   <button onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))} disabled={currentPage === 1} className={`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500 hover:bg-gray-500' : 'bg-white text-gray-800'} `}>Previous</button>\r\n                   <span  className={`text-sm text-gray-700 ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>Page {currentPage} of {totalPages}</span>\r\n                   <button onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))} disabled={currentPage === totalPages || totalPages === 0} className={`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500 hover:bg-gray-500' : 'bg-white text-gray-800'} `}>Next</button>\r\n               </nav>\r\n           </div>\r\n        </div>\r\n    );\r\n};\r\nconst UserGreeting = ({ handleRequestLeave }) => {\r\n    const { userData, theme } = useContext(Context);\r\n    const [loggedInUserProfile, setLoggedInUserProfile] = useState({\r\n        image: null,\r\n        initials: \" \"\r\n    });\r\n\r\n    // Attendance summary state\r\n    const [attendanceSummary, setAttendanceSummary] = useState(null);\r\n    const [summaryLoading, setSummaryLoading] = useState(true);\r\n\r\n    // --- Effects (Logic remains the same) ---\r\n    useEffect(() => {\r\n        const userPayload = JSON.parse(localStorage.getItem(\"emppayload\"));\r\n        const userImage = localStorage.getItem(\"loggedInUserImage\");\r\n\r\n        const initials = (userPayload?.displayName || \" \")\r\n            .split(\" \")\r\n            .map((word) => word[0])\r\n            .join(\"\")\r\n            .substring(0, 2)\r\n            .toUpperCase();\r\n\r\n        setLoggedInUserProfile({\r\n            image: userImage,\r\n            initials: initials,\r\n        });\r\n    }, [userData]);\r\n\r\n    useEffect(() => {\r\n        async function fetchAttendanceSummary() {\r\n            setSummaryLoading(true);\r\n            try {\r\n                const month = new Date().getMonth() + 1;\r\n                const year = new Date().getFullYear();\r\n                // Note: It's redundant to pass the query params if they are already in the path, \r\n                // but keeping the URL as is for functional correctness based on your original code.\r\n                const url = `https://hrms.anasolconsultancyservices.com/api/attendance/getLeaves/${userData?.employeeId}/${month}/${year}?employee_id=${userData?.employeeId}&month=${month}&year=${year}`;\r\n                const response = await axios.get(url);\r\n                setAttendanceSummary(response.data);\r\n            } catch (error) {\r\n                setAttendanceSummary(null);\r\n            } finally {\r\n                setSummaryLoading(false);\r\n            }\r\n        }\r\n        if (userData?.employeeId) fetchAttendanceSummary();\r\n    }, [userData?.employeeId]);\r\n\r\n    // --- Rendering (Visual Changes) ---\r\n    return (\r\n        <motion.div\r\n            className={`flex flex-col xl:flex-row justify-between items-start xl:items-center p-3 sm:p-4 rounded-2xl shadow-2xl mb-8 transition-all duration-300\r\n                        ${theme === 'dark'\r\n                            ? 'bg-gray-800 border-t-4 border-indigo-600' // Dark mode refinement\r\n                            : 'bg-white border-t-4 border-indigo-600' // Light mode clean look\r\n                        }`}\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, type: \"spring\", stiffness: 100 }}\r\n        >\r\n            {/* Greeting and Profile Section (More prominent on all screens) */}\r\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center space-y-4 sm:space-y-0 sm:space-x-6 w-full xl:w-3/5 mb-6 xl:mb-0\">\r\n                \r\n                {/* Profile Image/Initials - Increased Size */}\r\n                <motion.div\r\n                    className={`flex-shrink-0 w-16 h-16 sm:w-20 sm:h-20 rounded-full overflow-hidden flex items-center justify-center border-4 \r\n                        ${theme === 'dark' ? 'border-gray-700 bg-indigo-700' : 'border-indigo-100 bg-indigo-600'} shadow-xl`}\r\n                    whileHover={{ scale: 1.05 }}\r\n                    transition={{ type: \"spring\", stiffness: 300 }}\r\n                >\r\n                    {loggedInUserProfile.image ? (\r\n                        <img\r\n                            src={loggedInUserProfile.image}\r\n                            alt=\"Profile\"\r\n                            className=\"w-full h-full object-cover\"\r\n                        />\r\n                    ) : (\r\n                        <span className={`text-2xl sm:text-3xl font-extrabold text-white`}>\r\n                            {loggedInUserProfile.initials}\r\n                        </span>\r\n                    )}\r\n                </motion.div>\r\n\r\n                <div className=\"flex-1\">\r\n                    {/* Welcome Text - Larger and more impactful */}\r\n                    <h2 className={`text-2xl sm:text-4xl font-extrabold flex items-center ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                        Welcome, <span className=\"text-indigo-600 ml-2\">{userData?.fullName || 'User'}</span>!\r\n                    </h2>\r\n                    <p className={`text-sm sm:text-base mt-1 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                        Your monthly attendance summary for a quick glance.\r\n                    </p>\r\n\r\n                    {/* Attendance summary layout - Enhanced Dashboard Style */}\r\n                    <div className={`mt-4 p-4 rounded-xl transition-colors duration-300 \r\n                        ${theme === 'dark' ? 'bg-gray-900/50 backdrop-blur-sm' : 'bg-indigo-50/70'} border ${theme === 'dark' ? 'border-gray-700' : 'border-indigo-200'}`}>\r\n                        \r\n                        {summaryLoading ? (\r\n                            <span className=\"text-xs font-medium text-indigo-400\">Fetching attendance summary...</span>\r\n                        ) : attendanceSummary ? (\r\n                            <div className=\"grid grid-cols-2 md:grid-cols-5 gap-y-3 gap-x-6 text-sm\">\r\n                                \r\n                                {/* Leave Balances */}\r\n                                {['Paid', 'Sick', 'Casual', 'Unpaid'].map((type, index) => (\r\n                                    <div key={type} className=\"flex flex-col\">\r\n                                        <span className={`text-xs uppercase font-medium ${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>{type}</span>\r\n                                        <span className={`text-xl font-bold ${theme === 'dark' ? 'text-indigo-400' : 'text-indigo-600'}`}>\r\n                                            {attendanceSummary[type.toLowerCase()]}\r\n                                        </span>\r\n                                    </div>\r\n                                ))}\r\n\r\n                                {/* Shift Details - Made a focal point on desktop/tablet */}\r\n                                <div className=\"col-span-2 md:col-span-1 flex flex-col items-start md:items-center p-2 rounded-lg bg-white shadow-inner md:bg-transparent md:shadow-none\">\r\n                                    <span className={`text-xs uppercase font-medium ${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>Shift</span>\r\n                                    <span className={`text-sm font-semibold mt-1 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                                        {attendanceSummary.shiftName || 'N/A'}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <span className=\"text-sm font-medium text-red-500\">Could not load attendance summary.</span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Request Leave Button - More prominent and full-width on mobile */}\r\n            <motion.button\r\n                onClick={handleRequestLeave}\r\n                className=\"w-full xl:w-auto flex items-center justify-center px-6 py-3 mt-4 xl:mt-0 bg-gradient-to-r from-indigo-500 to-purple-600 text-base text-white font-bold rounded-xl shadow-lg hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-white transition-all duration-300 transform active:scale-98\"\r\n                whileHover={{ scale: 1.05, boxShadow: \"0 10px 20px -5px rgba(99, 102, 241, 0.7)\" }}\r\n                whileTap={{ scale: 0.98 }}\r\n            >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 inline mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4v16m8-8H4\" />\r\n                </svg>\r\n                Request New Leave\r\n            </motion.button>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\n// LeavesDashboard component\r\nconst LeavesDashboard = () => {\r\n    const { theme } = useContext(Context);\r\n    const [leaveSummaryData, setLeaveSummaryData] = useState([]);\r\n    const { empID,employeeId } = useParams();\r\n    const { userData } = useContext(Context);\r\n     const [sidebarView, setSidebarView] = useState(null);\r\n    const role = (userData?.roles?.[0] || \"\").toUpperCase();\r\n    const [sidebarOpen, setSidebarOpen] = useState(false);\r\n    const [showReport, setShowReport] = useState(false);\r\n    const [showMain,setShowMain]=useState(false);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n     const [error, setError] = useState(null);\r\n    const showSidebar = [\"TEAM_LEAD\", \"HR\", \"MANAGER\",\"ADMIN\"].includes(role);\r\n    const [currentLeaveHistoryData, setCurrentLeaveHistoryData] = useState([\r\n\r\n    ]);\r\n     const [loggedPermissiondata,setLoggedPermissionData]=useState([]);\r\n              const [matchedArray,setMatchedArray]=useState(null);\r\n               const LoggedUserRole=userData?.roles[0]?`ROLE_${userData?.roles[0]}`:null\r\n        \r\n        \r\n               useEffect(()=>{\r\n                 let fetchedData=async()=>{\r\n                         let response = await authApi.get(`role-access/${LoggedUserRole}`);\r\n                         console.log(\"from Employee :\",response.data);\r\n                         setLoggedPermissionData(response.data);\r\n                 }\r\n                 fetchedData();\r\n                 },[])\r\n            \r\n                 useEffect(()=>{\r\n                 if(loggedPermissiondata){\r\n                     setMatchedArray(loggedPermissiondata?.permissions)\r\n                 }\r\n                 },[loggedPermissiondata]);\r\n                 console.log(matchedArray);\r\n    \r\n        const [hasAccess,setHasAccess]=useState([])\r\n            useEffect(()=>{\r\n                setHasAccess(userData?.permissions)\r\n            },[userData])\r\n            console.log(\"permissions from userdata:\",hasAccess)\r\n        // When a new leave is added, prepend to localStorage and update state\r\n    function formatLeave(leave) {\r\n    return {\r\n        status: leave.status || \"pending\",\r\n        details: leave.details || \"-\",\r\n        action: leave.action || \"-\",\r\n        leave_type: leave.leave_type || leave.leave_Type || \"-\",\r\n        leave_on: leave.leave_on || leave.req_To_from || \"-\",\r\n        request_By: leave.request_By || leave.Request_By || \"-\",\r\n        action_Date: leave.action_Date || leave.Action_Date || \"-\",\r\n        rejection_Reason: leave.rejection_Reason || leave.Rejection_Reason || \"-\",\r\n    };\r\n}\r\n\r\nfunction deduplicateLeaves(leaves) {\r\n    const seen = new Set();\r\n    return leaves.filter(leave => {\r\n        const key = `${leave.leave_type}-${leave.leave_on}-${leave.status}`;\r\n        if (seen.has(key)) return false;\r\n        seen.add(key);\r\n        return true;\r\n    });\r\n}\r\n  useEffect(() => {\r\n    const fetchLeaveHistory = async () => {\r\n        if (!userData?.employeeId) return;\r\n        try {\r\n            const response = await dashboardApi.get(\r\n                `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/leaves?page=0&size=10`\r\n            );\r\n            const apiLeaves = Array.isArray(response.data) ? response.data : [];\r\n            const key = `leaveHistory_${userData.employeeId}`;\r\n            const localLeaves = JSON.parse(localStorage.getItem(key)) || [];\r\n            // Format all leaves\r\n            const formattedApiLeaves = apiLeaves.map(formatLeave);\r\n            const formattedLocalLeaves = localLeaves.map(formatLeave);\r\n            // Merge and deduplicate\r\n            const mergedLeaves = deduplicateLeaves([...formattedLocalLeaves, ...formattedApiLeaves]);\r\n            setCurrentLeaveHistoryData(mergedLeaves);\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch leave history:\", error);\r\n            setCurrentLeaveHistoryData([]);\r\n        }\r\n    };\r\n    fetchLeaveHistory();\r\n}, [userData?.employeeId]);\r\n\r\n    // When a new leave is added, prepend to localStorage and update state\r\n   const handleAddLeave = (newLeave) => {\r\n    const key = `leaveHistory_${userData.employeeId}`;\r\n    const storedLeaves = JSON.parse(localStorage.getItem(key)) || [];\r\n    const formattedLeave = formatLeave(newLeave);\r\n    const updatedLeaves = [formattedLeave, ...storedLeaves];\r\n    localStorage.setItem(key, JSON.stringify(updatedLeaves));\r\n    setCurrentLeaveHistoryData(updatedLeaves);\r\n};\r\n    // Always read from localStorage when employeeId changes\r\n    useEffect(() => {\r\n        if (userData?.employeeId) {\r\n            const storedLeaves = localStorage.getItem(`leaveHistory_${userData.employeeId}`);\r\n            setCurrentLeaveHistoryData(storedLeaves ? JSON.parse(storedLeaves) : []);\r\n        }\r\n    }, [userData?.employeeId]);\r\n\r\n    useEffect(() => {\r\n    const source = axios.CancelToken.source(); \r\n    // setIsLoading(true); \r\n    \r\n   \r\n    const fetchLeaveSummary = async () => {\r\n        try {\r\n            \r\n            const response = await dashboardApi.get(\r\n                `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/leave-summary`,\r\n                { cancelToken: source.token } \r\n            );\r\n\r\n            const typeMap = {\r\n                Casual: \"Casual Leave\",\r\n                Paid: \"Paid Leave\",\r\n                Unpaid: \"Unpaid Leave\",\r\n                Sick: \"Sick Leave\",\r\n                \r\n            };\r\n\r\n            const formattedData = response.data.map((item) => ({\r\n                type: typeMap[item.type] || item.type,\r\n                consumed: item.consumed,\r\n                remaining: item.remaining,\r\n                total: item.total,\r\n            }));\r\n\r\n            setLeaveSummaryData(formattedData);\r\n            // setIsLoading(false); \r\n\r\n        } catch (error) {\r\n           \r\n            if (axios.isCancel(error)) {\r\n                console.log('Request cancelled', error.message);\r\n            } else {\r\n                console.error(\"Error fetching line chart data:\", error);\r\n                // setIsLoading(false);\r\n            }\r\n        }\r\n    };\r\n    \r\n    \r\n    fetchLeaveSummary();\r\n\r\n    \r\n    return () => {\r\n        source.cancel('Operation canceled by the user.');\r\n    };\r\n    \r\n}, [employeeId]);\r\n\r\n    const [showAddLeaveForm, setShowAddLeaveForm] = useState(false);\r\n     const casualLeaveQuota = leaveSummaryData.find((item) => item.type === \"Casual Leave\");\r\n    const paidLeaveQuota = leaveSummaryData.find((item) => item.type === \"Paid Leave\");\r\n    const sickLeaveQuota = leaveSummaryData.find((item) => item.type === \"Sick Leave\");\r\n    const unpaidLeaveQuota = leaveSummaryData.find((item) => item.type === \"Unpaid Leave\");\r\n\r\n\r\n    const handleRequestLeave = () => {\r\n        setShowAddLeaveForm(true);\r\n    };\r\n    const handleCloseForm = () => {\r\n        setShowAddLeaveForm(false);\r\n    };\r\n    const handleShowReports = () => {\r\n        setSidebarView('leaveReports');\r\n        setSidebarOpen(false);\r\n    };\r\n    const handleShowMain=()=>{\r\n        \r\n        setShowMain(true);\r\n        setSidebarOpen(false);\r\n    }\r\n    const handleGoBackToDashboard = () => {\r\n        setShowReport(false);\r\n    };\r\n    const handleShowLeaves = () => {\r\n        setSidebarView('leaves');\r\n        setSidebarOpen(false);\r\n    };\r\n    //if (isLoading) {\r\n    //    return (\r\n    //      <div className={`min-h-screen ${theme === 'dark' ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'}`}>\r\n    //        <div className=\"min-h-screen flex items-center justify-center px-4\">\r\n    //          <div className=\"text-center\">\r\n    //            <div className=\"relative\">\r\n    //              <div className=\"animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4\"></div>\r\n    //              <div className=\"absolute inset-0 flex items-center justify-center\">\r\n    //                <IoPersonOutline className=\"w-5 h-5 sm:w-6 sm:h-6 text-blue-500\" />\r\n    //              </div>\r\n    //            </div>\r\n    //            <h2 className={`text-lg sm:text-xl font-bold mb-2 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Loading Employee Leaves</h2>\r\n    //            <p className={`text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>Discovering your colleagues...</p>\r\n    //          </div>\r\n    //        </div>\r\n    //      </div>\r\n    //    );\r\n    //  }\r\n\r\n    return (\r\n        <div className={`min-h-screen p-2 sm:p-3 lg:p-4 font-sans ${theme === \"dark\" ? \"bg-gray-900 text-white\" : \"bg-gray-100 text-gray-900\"}`}>\r\n            <AnimatePresence>\r\n                {/* Sidebar Trigger Button */}\r\n                {showSidebar && !sidebarOpen && (\r\n                    <motion.button\r\n                        key=\"open-sidebar\"\r\n                        onClick={() => setSidebarOpen(true)}\r\n                        className=\"fixed right-0 top-1/2 transform -translate-y-1/2 bg-indigo-600 text-white p-2 rounded-l-lg shadow-lg z-50 hover:bg-indigo-700 transition-colors\"\r\n                        aria-label=\"Open Sidebar\"\r\n                        initial={{ x: '100%' }}\r\n                        animate={{ x: '0%' }}\r\n                        exit={{ x: '100%' }}\r\n                        transition={{ duration: 0.3, delay: 0.2 }}\r\n                    >\r\n                        <ChevronLeft />\r\n                    </motion.button>\r\n                )}\r\n\r\n                {/* Sidebar */}\r\n                {(matchedArray || []).includes(\"VIEW_LEAVES_REPORTS\") && sidebarOpen && (\r\n                    <motion.div\r\n                        key=\"sidebar\"\r\n                        className={`fixed inset-y-0 right-0 w-80 ${theme==='dark'?'bg-gray-900':'bg-stone-100'} shadow-xl z-40 p-4 flex flex-col`}\r\n                        initial={{ x: '100%' }}\r\n                        animate={{ x: '0%' }}\r\n                        exit={{ x: '100%' }}\r\n                        transition={{ duration: 0.3 }}\r\n                    >\r\n                        <motion.h3\r\n                            className={`text-lg font-bold ${theme==='dark'?'text-gray-200 hover:bg-gray-500':'text-gray-900 hover:bg-blue-100'} cursor-pointer mb-1 mt-20  p-2 rounded-md`}\r\n                            onClick={handleShowMain}\r\n                            whileHover={{ scale: 1.05 }}\r\n                            whileTap={{ scale: 0.95 }}\r\n                        >\r\n                            <LiaFileAlt className=\"w-5 h-5 inline-block mr-2\"  />My Leaves \r\n                        </motion.h3>\r\n                        <motion.h3\r\n                            className={`text-lg font-bold ${theme==='dark'?'text-gray-200 hover:bg-gray-500':'text-gray-900 hover:bg-blue-100'} cursor-pointer mb-4   p-2 rounded-md`}\r\n                            onClick={handleShowReports}\r\n                            whileHover={{ scale: 1.05 }}\r\n                            whileTap={{ scale: 0.95 }}\r\n                        >\r\n                            <LiaFileAlt className=\"w-5 h-5 inline-block mr-2\"  />Leaves Reports\r\n                        </motion.h3>\r\n                        <motion.h3\r\n                            className={`text-lg font-bold ${theme==='dark'?'text-gray-200 hover:bg-gray-500':'text-gray-900 hover:bg-blue-100'} cursor-pointer mb-4   p-2 rounded-md`}\r\n                           onClick={handleShowLeaves}\r\n                            whileHover={{ scale: 1.05 }}\r\n                            whileTap={{ scale: 0.95 }}\r\n                        >\r\n                            <LiaFileAlt className=\"w-5 h-5 inline-block mr-2\"  />Total Employee Leaves\r\n                        </motion.h3>\r\n                        <button\r\n                            onClick={() => setSidebarOpen(false)}\r\n                            className=\"absolute left-0 top-1/2 -translate-x-1/2 -translate-y-1/2 p-2 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition-colors z-50\"\r\n                            aria-label=\"Close Sidebar\"\r\n                            initial={{ x: '100%' }}\r\n                            animate={{ x: '0%' }}\r\n                            exit={{ x: '100%' }}\r\n                            transition={{ duration: 0.3, delay: 0.2 }}\r\n                        >\r\n                            <ChevronRight />\r\n                        </button>\r\n                        \r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n\r\n            <div className={`flex-1 transition-all duration-300 p-2 sm:p-3 lg:p-4`}>\r\n         \r\n              {sidebarOpen && <div className=\"md:hidden fixed inset-0 bg-black opacity-50 z-30\" onClick={() => setSidebarOpen(false)}></div>}\r\n            <main className={`p-2 sm:p-2 lg:p-2 ${sidebarOpen && showSidebar ? 'filter blur-sm' : ''}`}>\r\n                <AnimatePresence mode=\"wait\">\r\n                    {sidebarView === 'leaves' &&(\r\n                     <motion.div\r\n                         key=\"leaves\"\r\n                         initial={{ opacity: 0, y: 20 }}\r\n                         animate={{ opacity: 1, y: 0 }}\r\n                         exit={{ opacity: 0, y: -20 }}\r\n                         transition={{ duration: 0.3 }}\r\n                     >\r\n                         <EmployeeTable onBack={() => setSidebarView(null)} />\r\n                     </motion.div>\r\n                 )}\r\n                    {sidebarView ==='leaveReports' &&  (\r\n                        <motion.div\r\n                            key=\"reports\"\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: -20 }}\r\n                            transition={{ duration: 0.3 }}\r\n                        >\r\n                            <LeavesReports\r\n                                onBack={() => setSidebarView(null)}\r\n                                leaveHistoryData={currentLeaveHistoryData}\r\n                                setLeaveHistoryData={setCurrentLeaveHistoryData}\r\n                            />\r\n                        </motion.div>\r\n                    )}  \r\n                     {sidebarView === null && (\r\n                        <motion.div\r\n                            key=\"dashboard\"\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: -20 }}\r\n                            transition={{ duration: 0.3 }}\r\n                        >\r\n                            <header className=\"p-3 mb-6 text-left\">\r\n                                <UserGreeting handleRequestLeave={handleRequestLeave} />\r\n                            </header>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6\">\r\n                                \r\n                                    <>\r\n                                        <LeaveTypeCard title=\"Casual Leave\" leaveData={casualLeaveQuota} color=\"#4CAF50\" />\r\n                                        <LeaveTypeCard title=\"Paid Leave\" leaveData={paidLeaveQuota} color=\"#2196F3\" />\r\n                                        <LeaveTypeCard title=\"Sick Leave\" leaveData={sickLeaveQuota} color=\"#FFC107\" />\r\n                                        <LeaveTypeCard title=\"Unpaid Leave\" leaveData={unpaidLeaveQuota} color=\"#EF5350\" />\r\n                                    </>\r\n                              \r\n                            </div>\r\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\r\n                                <LeaveType />\r\n                                <WeeklyPattern />\r\n                            </div>\r\n                             <LeaveHistory leaveHistoryData={currentLeaveHistoryData} />\r\n                             {showAddLeaveForm && (\r\n                                 <AddLeaveForm onClose={() => setShowAddLeaveForm(false)} onAddLeave={handleAddLeave} />\r\n                             )}\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </main>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LeavesDashboard;"],"names":["_ref","leave","onClose","theme","useContext","Context","_jsx","AnimatePresence","children","motion","div","className","initial","opacity","animate","exit","_jsxs","scale","onClick","FaRegCircleXmark","request_By","leave_type","leave_on","status","action_Date","leave_Reason","rejection_Reason","FormField","label","helperText","baseInputClasses","AddLeaveForm","_ref2","onAddLeave","userData","fromDate","setFromDate","useState","toDate","setToDate","leaveType","setLeaveType","reason","setReason","isHalfDay","setIsHalfDay","employeeId","setEmployeeId","isSubmitting","setIsSubmitting","getNumberOfDays","start","Date","diffTime","getTime","diffDays","Math","round","formThemeClasses","transition","duration","y","e","stopPropagation","onSubmit","async","preventDefault","console","log","leaveRequest","numberOfDays","req_To_from","req_To_to","isHalf_Day","leave_Type","axios","post","key","storedLeaves","JSON","parse","localStorage","getItem","setItem","stringify","alert","error","type","value","onChange","target","readOnly","required","min","id","checked","htmlFor","placeholder","button","whileHover","whileTap","disabled","LeaveTypeCard","_ref3","title","leaveData","consumed","remaining","total","color","useMediaQuery","chartData","name","max","COLORS","ease","Box","display","flexDirection","justifyContent","alignItems","_Fragment","ResponsiveContainer","width","height","PieChart","Pie","data","cx","cy","innerRadius","outerRadius","paddingAngle","dataKey","stroke","map","entry","index","Cell","fill","x","textAnchor","dominantBaseline","split","Tooltip","LeaveType","empID","useParams","initialLeaveTypeData","setInitialLeaveTypeData","isLoading","setIsLoading","useEffect","url","dashboardApi","get","then","response","formatted","item","days","catch","finally","isMobile","filteredData","filter","delay","gap","p","length","labelLine","_ref4","percent","toFixed","Label","content","renderCenterLabel","position","WeeklyPattern","selectedDay","setSelectedDay","rawData","setRawData","setError","textColor","Day","day","Rate","rate","errorMessage","statusText","dayOptions","Set","d","BarChart","margin","top","right","left","bottom","XAxis","axisLine","tickLine","YAxis","hide","contentStyle","backgroundColor","border","Bar","radius","LeaveHistory","_ref5","leaveHistoryData","currentPage","setCurrentPage","leaveTypeFilter","setLeaveTypeFilter","statusFilter","setStatusFilter","sortOption","setSortOption","rowsPerPage","setRowsPerPage","selectedLeave","setSelectedLeave","leaveTypes","statuses","handleCloseModal","filteredAndSortedData","filterAndSortData","sort","a","b","localeCompare","lastMonth","setMonth","getMonth","leave_On","last7Days","setDate","getDate","totalPages","ceil","paginatedData","slice","option","row","idx","details","action","FaFileAlt","LeaveDetails","colSpan","Number","prev","UserGreeting","_ref6","handleRequestLeave","loggedInUserProfile","setLoggedInUserProfile","image","initials","attendanceSummary","setAttendanceSummary","summaryLoading","setSummaryLoading","userPayload","userImage","displayName","word","join","substring","toUpperCase","month","year","getFullYear","fetchAttendanceSummary","stiffness","src","alt","fullName","toLowerCase","shiftName","boxShadow","xmlns","viewBox","strokeWidth","strokeLinecap","strokeLinejoin","LeavesDashboard","_userData$roles","leaveSummaryData","setLeaveSummaryData","sidebarView","setSidebarView","role","roles","sidebarOpen","setSidebarOpen","showReport","setShowReport","showMain","setShowMain","showSidebar","includes","currentLeaveHistoryData","setCurrentLeaveHistoryData","loggedPermissiondata","setLoggedPermissionData","matchedArray","setMatchedArray","LoggedUserRole","authApi","fetchedData","permissions","hasAccess","setHasAccess","formatLeave","Request_By","Action_Date","Rejection_Reason","apiLeaves","Array","isArray","localLeaves","formattedApiLeaves","mergedLeaves","leaves","seen","has","add","deduplicateLeaves","fetchLeaveHistory","source","CancelToken","cancelToken","token","typeMap","Casual","Paid","Unpaid","Sick","formattedData","isCancel","message","fetchLeaveSummary","cancel","showAddLeaveForm","setShowAddLeaveForm","casualLeaveQuota","find","paidLeaveQuota","sickLeaveQuota","unpaidLeaveQuota","ChevronLeft","h3","handleShowMain","LiaFileAlt","handleShowReports","handleShowLeaves","ChevronRight","mode","EmployeeTable","onBack","LeavesReports","setLeaveHistoryData","newLeave","updatedLeaves"],"sourceRoot":""}