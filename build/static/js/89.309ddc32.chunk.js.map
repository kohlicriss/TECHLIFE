{"version":3,"file":"static/js/89.309ddc32.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Permissions/PermissionsPage.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport Select from 'react-select';\r\nimport { FaCheckCircle, FaExclamationTriangle, FaInfoCircle, FaTimes } from 'react-icons/fa';\r\nimport { X } from 'lucide-react';\r\nimport { Context } from '../HrmsContext';\r\nimport { authApi } from '../../../../axiosInstance';\r\n\r\n// Custom Notification Component\r\nconst CustomNotification = ({ isOpen, onClose, type, title, message, theme }) => {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setIsVisible(true);\r\n            if (type === 'success' || type === 'error') {\r\n                const timer = setTimeout(() => {\r\n                    handleClose();\r\n                }, 3000);\r\n                return () => clearTimeout(timer);\r\n            }\r\n        }\r\n    }, [isOpen, type]);\r\n\r\n    const handleClose = () => {\r\n        setIsVisible(false);\r\n        setTimeout(() => onClose(), 300);\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const getIcon = () => {\r\n        switch (type) {\r\n            case 'success':\r\n                return <FaCheckCircle className=\"w-6 h-6 text-green-500\" />;\r\n            case 'error':\r\n                return <FaExclamationTriangle className=\"w-6 h-6 text-red-500\" />;\r\n            case 'info':\r\n                return <FaInfoCircle className=\"w-6 h-6 text-blue-500\" />;\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    const getTitleClass = () => {\r\n        switch (type) {\r\n            case 'success':\r\n                return 'text-green-600 dark:text-green-400';\r\n            case 'error':\r\n                return 'text-red-600 dark:text-red-400';\r\n            case 'info':\r\n                return 'text-blue-600 dark:text-blue-400';\r\n            default:\r\n                return theme === 'dark' ? 'text-white' : 'text-gray-800';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-[200] transition-opacity duration-300 ${isVisible ? 'opacity-100' : 'opacity-0'}`}>\r\n            <div className={`p-6 rounded-3xl shadow-2xl w-full max-w-md m-4 border transform transition-all duration-300 ${isVisible ? 'scale-100 translate-y-0' : 'scale-95 translate-y-4'} ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n                <div className=\"flex items-center mb-4\">\r\n                    {getIcon()}\r\n                    <h3 className={`text-xl font-bold ml-3 ${getTitleClass()}`}>{title}</h3>\r\n                    {type !== \"success\" && type !== \"error\" && (\r\n                        <button onClick={handleClose} className=\"ml-auto p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200\">\r\n                            <X size={20} />\r\n                        </button>\r\n                    )}\r\n                </div>\r\n                <p className={`${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{message}</p>\r\n                {(type === 'success' || type === 'error') && (\r\n                    <div className=\"mt-4 flex justify-end\">\r\n                        <button\r\n                            onClick={handleClose}\r\n                            className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                                type === 'success' \r\n                                    ? 'bg-green-500 hover:bg-green-600 text-white' \r\n                                    : 'bg-red-500 hover:bg-red-600 text-white'\r\n                            }`}\r\n                        >\r\n                            OK\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Custom Confirmation Modal Component\r\nconst CustomConfirmModal = ({ isOpen, onClose, onConfirm, title, message, confirmText, isConfirming, theme, type = 'warning' }) => {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setIsVisible(true);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const handleClose = () => {\r\n        setIsVisible(false);\r\n        setTimeout(() => onClose(), 300);\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const getIcon = () => {\r\n        switch (type) {\r\n            case 'danger':\r\n                return <FaExclamationTriangle className=\"w-6 h-6 text-red-500\" />;\r\n            case 'warning':\r\n                return <FaExclamationTriangle className=\"w-6 h-6 text-yellow-500\" />;\r\n            case 'info':\r\n                return <FaInfoCircle className=\"w-6 h-6 text-blue-500\" />;\r\n            default:\r\n                return <FaExclamationTriangle className=\"w-6 h-6 text-yellow-500\" />;\r\n        }\r\n    };\r\n\r\n    const getTitleClass = () => {\r\n        switch (type) {\r\n            case 'danger':\r\n                return 'text-red-600 dark:text-red-400';\r\n            case 'warning':\r\n                return 'text-yellow-600 dark:text-yellow-400';\r\n            case 'info':\r\n                return 'text-blue-600 dark:text-blue-400';\r\n            default:\r\n                return 'text-yellow-600 dark:text-yellow-400';\r\n        }\r\n    };\r\n\r\n    const getConfirmButtonClass = () => {\r\n        switch (type) {\r\n            case 'danger':\r\n                return 'bg-red-600 hover:bg-red-700';\r\n            case 'warning':\r\n                return 'bg-yellow-600 hover:bg-yellow-700';\r\n            case 'info':\r\n                return 'bg-blue-600 hover:bg-blue-700';\r\n            default:\r\n                return 'bg-yellow-600 hover:bg-yellow-700';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-[200] transition-opacity duration-300 ${isVisible ? 'opacity-100' : 'opacity-0'}`}>\r\n            <div className={`p-6 rounded-3xl shadow-2xl w-full max-w-md m-4 border transform transition-all duration-300 ${isVisible ? 'scale-100 translate-y-0' : 'scale-95 translate-y-4'} ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n                <div className=\"flex items-center mb-4\">\r\n                    {getIcon()}\r\n                    <h3 className={`text-xl font-bold ml-3 ${getTitleClass()}`}>{title}</h3>\r\n                    <button onClick={handleClose} className=\"ml-auto p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200\">\r\n                        <X size={20} />\r\n                    </button>\r\n                </div>\r\n                <p className={`mb-6 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{message}</p>\r\n                <div className=\"flex justify-end space-x-3\">\r\n                    <button\r\n                        onClick={handleClose}\r\n                        className={`px-4 py-2 rounded-lg font-medium transition-colors ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button\r\n                        onClick={onConfirm}\r\n                        disabled={isConfirming}\r\n                        className={`px-4 py-2 rounded-lg font-medium text-white transition-colors flex items-center ${getConfirmButtonClass()} ${isConfirming ? 'opacity-75 cursor-not-allowed' : ''}`}\r\n                    >\r\n                        {isConfirming ? (\r\n                            <>\r\n                                <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                                Processing...\r\n                            </>\r\n                        ) : (\r\n                            confirmText\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst PermissionsPage = () => {\r\n  const { theme, permissionsdata, userData, setPermissionsData } = useContext(Context);\r\n  const [permissions, setPermissions] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [matchedObject, setMatchedObject] = useState(null);\r\n\r\n  // Notification state\r\n  const [notification, setNotification] = useState({\r\n    isOpen: false,\r\n    type: '',\r\n    title: '',\r\n    message: ''\r\n  });\r\n\r\n  // Confirmation modal state\r\n  const [confirmModal, setConfirmModal] = useState({\r\n    isOpen: false,\r\n    title: '',\r\n    message: '',\r\n    confirmText: '',\r\n    onConfirm: null,\r\n    type: 'warning',\r\n    isConfirming: false\r\n  });\r\n\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const userRole = userData?.roles[0]?.toUpperCase();\r\n  const loggedinuserRole = userRole ? userRole : null;\r\n\r\n  console.log('Searching for role:', loggedinuserRole);\r\n\r\n  const matchedRoleObject = permissionsdata.find(\r\n    role => role.roleName.trim() === loggedinuserRole.trim()\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (matchedRoleObject) {\r\n      setMatchedObject(matchedRoleObject);\r\n    }\r\n  }, [matchedRoleObject]);\r\n\r\n  console.log('Found object:', matchedObject);\r\n  \r\n  const [newPermissionLabel, setNewPermissionLabel] = useState('');\r\n  const [allPermissionOptions, setAllPermissionOptions] = useState([]);\r\n\r\n  const [isAddRoleModalOpen, setIsAddRoleModalOpen] = useState(false);\r\n  const [newRoleName, setNewRoleName] = useState('');\r\n  const [isAddingRole, setIsAddingRole] = useState(false);\r\n\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n  const [roleToDelete, setRoleToDelete] = useState(null);\r\n\r\n  // Custom notification handlers\r\n  const showNotification = (type, title, message) => {\r\n    setNotification({\r\n      isOpen: true,\r\n      type,\r\n      title,\r\n      message\r\n    });\r\n  };\r\n\r\n  const closeNotification = () => {\r\n    setNotification({\r\n      isOpen: false,\r\n      type: '',\r\n      title: '',\r\n      message: ''\r\n    });\r\n  };\r\n\r\n  // Custom confirmation handlers\r\n  const showConfirmModal = (title, message, confirmText, onConfirm, type = 'warning') => {\r\n    setConfirmModal({\r\n      isOpen: true,\r\n      title,\r\n      message,\r\n      confirmText,\r\n      onConfirm,\r\n      type,\r\n      isConfirming: false\r\n    });\r\n  };\r\n\r\n  const closeConfirmModal = () => {\r\n    setConfirmModal({\r\n      isOpen: false,\r\n      title: '',\r\n      message: '',\r\n      confirmText: '',\r\n      onConfirm: null,\r\n      type: 'warning',\r\n      isConfirming: false\r\n    });\r\n  };\r\n\r\n  const createPermissionOptionsFromAPI = () => {\r\n    if (!permissionsdata || !Array.isArray(permissionsdata)) return [];\r\n    const allPermissionsFromAPI = permissionsdata.flatMap(role => role.permissions || []);\r\n    const uniquePermissions = [...new Set(allPermissionsFromAPI)];\r\n    const permissionOptions = uniquePermissions.map(permission => {\r\n      let label = permission.replace(/_/g, ' ').toLowerCase().replace(/\\b\\w/g, l => l.toUpperCase());\r\n      if (permission === 'CREAT_USER') label = 'Create User';\r\n      if (permission === 'DELETE_USER') label = 'Delete User';\r\n      if (permission === 'CREATE_TASK') label = 'Create Task';\r\n      if (permission === 'VIEW_TASKS') label = 'View Tasks';\r\n      if (permission === 'VIEW_REPORTS') label = 'View Reports';\r\n      if (permission === 'PERMISSIONS_BUTTENS') label = 'Permissions Buttons';\r\n      if (permission === 'CREATE_HR') label = 'Create HR';\r\n      return { value: permission, label };\r\n    });\r\n    return permissionOptions.sort((a, b) => a.label.localeCompare(b.label));\r\n  };\r\n\r\n  const mapAPIRoleToKey = (apiRoleName) => {\r\n    if (!apiRoleName) return null;\r\n    return apiRoleName.replace('ROLE_', '').toLowerCase();\r\n  };\r\n\r\n  const initializePermissionsFromAPI = () => {\r\n    if (!permissionsdata || !Array.isArray(permissionsdata)) return {};\r\n    const initialPermissions = {};\r\n    permissionsdata.forEach(apiRole => {\r\n      const roleKey = mapAPIRoleToKey(apiRole.roleName);\r\n      if (roleKey) {\r\n        initialPermissions[roleKey] = {\r\n          id: apiRole.id,\r\n          permissions: apiRole.permissions ? [...new Set(apiRole.permissions)] : []\r\n        };\r\n      }\r\n    });\r\n    return initialPermissions;\r\n  };\r\n  \r\n  const handleAddPermission = () => {\r\n    if (!newPermissionLabel.trim()) {\r\n      showNotification('error', 'Validation Error', 'Please enter a label for the new permission.');\r\n      return;\r\n    }\r\n    const newPermissionValue = newPermissionLabel.trim().toUpperCase().replace(/\\s+/g, '_');\r\n    if (allPermissionOptions.some(option => option.value === newPermissionValue)) {\r\n      showNotification('error', 'Duplicate Permission', 'A permission with this value already exists.');\r\n      return;\r\n    }\r\n    const newPermission = { value: newPermissionValue, label: newPermissionLabel.trim() };\r\n    setAllPermissionOptions(prevOptions => [...prevOptions, newPermission].sort((a, b) => a.label.localeCompare(b.label)));\r\n    setNewPermissionLabel('');\r\n    showNotification('success', 'Permission Added', 'New permission has been added successfully.');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (permissionsdata && Array.isArray(permissionsdata)) {\r\n      const permissionOptions = createPermissionOptionsFromAPI();\r\n      setAllPermissionOptions(permissionOptions);\r\n      const initializedPermissions = initializePermissionsFromAPI();\r\n      setPermissions(initializedPermissions);\r\n      setLoading(false);\r\n      setIsLoaded(true);\r\n    } else { setLoading(false); }\r\n  }, [permissionsdata]);\r\n\r\n  const handleSelectionChange = (selectedOptions, role) => {\r\n    const selectedValues = selectedOptions ? selectedOptions.map(option => option.value) : [];\r\n    setPermissions(prev => ({\r\n      ...prev,\r\n      [role]: { ...prev[role], permissions: selectedValues }\r\n    }));\r\n  };\r\n\r\n  const handleAddNewRole = async (e) => {\r\n    e.preventDefault();\r\n    if (!newRoleName.trim() || !newRoleName.toUpperCase().startsWith('ROLE_')) {\r\n      showNotification('error', 'Invalid Role Name', \"Please enter a valid role name starting with 'ROLE_'.\");\r\n      return;\r\n    }\r\n    const roleKey = mapAPIRoleToKey(newRoleName);\r\n    if (permissions[roleKey]) {\r\n      showNotification('error', 'Role Already Exists', 'This role already exists.');\r\n      return;\r\n    }\r\n    setIsAddingRole(true);\r\n    const newRoleDto = {\r\n      roleName: newRoleName.trim().toUpperCase(),\r\n      permissions: []\r\n    };\r\n    try {\r\n      await authApi.post('/role-access', newRoleDto);\r\n      const response = await authApi.get('/role-access/all');\r\n      setPermissionsData(response.data);\r\n      setIsAddRoleModalOpen(false);\r\n      setNewRoleName('');\r\n      showNotification('success', 'Role Created Successfully', `Role '${newRoleDto.roleName}' created successfully and UI has been updated!`);\r\n    } catch (error) {\r\n      console.error(\"Failed to create new role or refresh data:\", error);\r\n      const errorMessage = error.response?.data?.message || \"An error occurred.\";\r\n      showNotification('error', 'Role Creation Failed', `Error: ${errorMessage}`);\r\n    } finally {\r\n      setIsAddingRole(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n\r\n    const transformedPermissions = Object.keys(permissions).map(key => {\r\n      const rolePayload = {\r\n        roleName: `ROLE_${key.toUpperCase()}`,\r\n        permissions: permissions[key].permissions || [],\r\n      };\r\n      if (permissions[key].id !== null) {\r\n        rolePayload.id = permissions[key].id;\r\n      }\r\n      return rolePayload;\r\n    });\r\n\r\n    try {\r\n      await authApi.post('role-access/updateAll', transformedPermissions);\r\n      const response = await authApi.get('/role-access/all');\r\n      setPermissionsData(response.data);\r\n      showNotification('success', 'Permissions Saved', 'Permissions have been saved successfully!');\r\n    } catch (error) {\r\n      console.error(\"Error saving permissions:\", error);\r\n      const errorMessage = error.response?.data?.message || \"An error occurred while saving permissions.\";\r\n      showNotification('error', 'Save Failed', `Error: ${errorMessage}`);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleReset = () => {\r\n    if (permissionsdata && Array.isArray(permissionsdata)) {\r\n      const initializedPermissions = initializePermissionsFromAPI();\r\n      setPermissions(initializedPermissions);\r\n      showNotification('success', 'Permissions Reset', 'Permissions have been reset to their original state.');\r\n    }\r\n  };\r\n\r\n  const handleCheckboxChange = (roleKey) => {\r\n    setRoleToDelete(prev => (prev === roleKey ? null : roleKey));\r\n  };\r\n\r\n  const handleDeleteRole = async () => {\r\n    if (!roleToDelete) {\r\n      showNotification('error', 'No Role Selected', 'Please select a role to delete.');\r\n      return;\r\n    }\r\n    \r\n    const roleToDeleteName = `ROLE_${roleToDelete.toUpperCase()}`;\r\n    \r\n    showConfirmModal(\r\n      'Delete Role',\r\n      `Are you sure you want to delete the role: ${roleToDeleteName}? This action cannot be undone.`,\r\n      'Delete Role',\r\n      async () => {\r\n        setConfirmModal(prev => ({ ...prev, isConfirming: true }));\r\n        try {\r\n          const callerRole = 'ADMIN';\r\n          await authApi.delete(`role-access/delete/${callerRole}/${roleToDeleteName}`);\r\n          const response = await authApi.get('/role-access/all');\r\n          setPermissionsData(response.data);\r\n          closeConfirmModal();\r\n          showNotification('success', 'Role Deleted', `Role '${roleToDeleteName}' has been deleted successfully.`);\r\n          setRoleToDelete(null);\r\n          setIsEditMode(false);\r\n        } catch (error) {\r\n          console.error(\"Failed to delete role:\", error);\r\n          const errorMessage = error.response?.data?.message || \"An error occurred while deleting the role.\";\r\n          closeConfirmModal();\r\n          showNotification('error', 'Delete Failed', `Error: ${errorMessage}`);\r\n        }\r\n      },\r\n      'danger'\r\n    );\r\n  };\r\n\r\n  const customSelectStyles = { /* Your custom styles */ };\r\n  if (loading) { return <div>Loading...</div> }\r\n  const rolesToRender = Object.keys(permissions).sort();\r\n\r\n  return (\r\n    <>\r\n      {isAddRoleModalOpen && (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-151\">\r\n          <div className={`p-6 rounded-3xl shadow-2xl w-full max-w-md m-4 border ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n            <div className=\"flex items-center mb-4\">\r\n              <FaInfoCircle className=\"w-6 h-6 text-blue-500\" />\r\n              <h2 className={`text-xl font-bold ml-3 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Add a New Role</h2>\r\n              <button \r\n                onClick={() => setIsAddRoleModalOpen(false)} \r\n                className=\"ml-auto p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200\"\r\n              >\r\n                <X size={20} />\r\n              </button>\r\n            </div>\r\n            <form onSubmit={handleAddNewRole}>\r\n              <input\r\n                type=\"text\"\r\n                value={newRoleName}\r\n                onChange={(e) => setNewRoleName(e.target.value)}\r\n                placeholder=\"ROLE_ROLENAME\"\r\n                className={`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 mb-4 ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`}\r\n              />\r\n              <div className=\"flex justify-end gap-4\">\r\n                <button \r\n                  type=\"button\" \r\n                  onClick={() => setIsAddRoleModalOpen(false)} \r\n                  className={`px-4 py-2 rounded-lg font-medium transition-colors ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`} \r\n                  disabled={isAddingRole}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  type=\"submit\" \r\n                  className=\"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-blue-400 flex items-center\" \r\n                  disabled={isAddingRole}\r\n                >\r\n                  {isAddingRole ? (\r\n                    <>\r\n                      <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                      Adding...\r\n                    </>\r\n                  ) : (\r\n                    'Add Role'\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className={`min-h-screen px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 ${theme === 'dark' ? 'bg-gray-900 text-white' : 'bg-gray-50 text-gray-800'}`}>\r\n        <div className=\"max-w-6xl mx-auto\">\r\n          <div className=\"mb-6 sm:mb-8 px-4 sm:px-0 flex justify-between items-center\">\r\n            <div>\r\n              {matchedObject?.permissions?.includes(\"DELETE_USER\") && (\r\n                <h1 className=\"text-2xl sm:text-3xl font-bold mb-2\">\r\n                  Permissions Management\r\n                </h1>\r\n              )}\r\n              <p className={`text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>Configure role-based permissions</p>\r\n            </div>\r\n            <div>\r\n              <button \r\n                onClick={() => { setIsEditMode(!isEditMode); setRoleToDelete(null); }}\r\n                className={`p-3 rounded-full transition-colors duration-200 ${isEditMode ? 'bg-blue-600 text-white' : (theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300')}`}\r\n                title={isEditMode ? \"Cancel Edit\" : \"Edit Roles\"}\r\n              >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L14.732 3.732z\" /></svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className={`p-4 sm:p-6 rounded-lg shadow-md mb-8 ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}>\r\n            <div className=\"flex flex-col sm:flex-row justify-between items-start gap-4\">\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold mb-2\">Add a New Permission</h3>\r\n                <div className=\"flex flex-col sm:flex-row gap-4\">\r\n                  <input type=\"text\" value={newPermissionLabel} onChange={(e) => setNewPermissionLabel(e.target.value)} placeholder=\"Enter new permission label\" className={`flex-grow p-3 border rounded-lg ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300'}`} />\r\n                  <button type=\"button\" onClick={handleAddPermission} className=\"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700\">Add Permission</button>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex-shrink-0 mt-4 sm:mt-0\">\r\n                 <h3 className=\"text-lg font-semibold mb-2 text-transparent select-none hidden sm:block\">.</h3>\r\n                 <button onClick={() => setIsAddRoleModalOpen(true)} className=\"w-full px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700\">Add New Role</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"space-y-4 sm:space-y-6 md:space-y-8\">\r\n            {rolesToRender.map((role) => {\r\n              const selectedPermissionsForRole = allPermissionOptions.filter(\r\n                option => permissions[role]?.permissions?.includes(option.value)\r\n              );\r\n              return (\r\n                <div key={role} className={`mx-4 sm:mx-0 rounded-lg shadow-md border transition-all duration-300 ${roleToDelete === role ? 'border-red-500 ring-2 ring-red-500/50' : (theme === 'dark' ? 'border-gray-700' : 'border-gray-200')}`}>\r\n                  <div className=\"p-4 sm:p-6 md:p-8 flex items-start gap-4\">\r\n                    {isEditMode && (\r\n                      <input type=\"checkbox\" className=\"mt-2 h-6 w-6 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50 cursor-pointer\" checked={roleToDelete === role} onChange={() => handleCheckboxChange(role)} disabled={roleToDelete !== null && roleToDelete !== role} />\r\n                    )}\r\n                    <div className=\"flex-grow\">\r\n                      <h2 className={`text-lg sm:text-xl font-semibold capitalize mb-4 pb-2 border-b ${theme === 'dark' ? 'border-gray-700' : 'border-gray-200'}`}>{role.replace(/_/g, ' ')}</h2>\r\n                      <Select isMulti options={allPermissionOptions} value={selectedPermissionsForRole} onChange={selectedOptions => handleSelectionChange(selectedOptions, role)} styles={customSelectStyles} placeholder=\"Select permissions...\" closeMenuOnSelect={false} isDisabled={isEditMode} />\r\n                      <p className={`text-xs mt-3 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>{selectedPermissionsForRole.length} permission(s) selected</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n            \r\n            <div className=\"pt-4 sm:pt-6 px-4 sm:px-0\">\r\n              <div className=\"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4\">\r\n                {isEditMode ? (\r\n                  <button type=\"button\" onClick={handleDeleteRole} disabled={!roleToDelete} className=\"w-full sm:w-auto px-8 py-3 bg-red-600 text-white font-bold rounded-lg shadow-lg disabled:bg-red-400 disabled:cursor-not-allowed\">Delete Selected Role</button>\r\n                ) : (\r\n                  <>\r\n                    <button type=\"button\" onClick={handleReset} className={`w-full sm:w-auto px-6 py-3 border-2 rounded-lg font-semibold ${theme === 'dark' ? 'border-gray-600 text-gray-200 hover:bg-gray-600' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}>Reset</button>\r\n                    <button type=\"button\" onClick={handleSubmit} disabled={isSubmitting} className={`w-full sm:w-auto flex items-center justify-center gap-2 px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold rounded-lg ${isSubmitting ? 'cursor-not-allowed opacity-75' : 'hover:shadow-lg'}`}>\r\n                      {isSubmitting ? (\r\n                        <>\r\n                          <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                          Saving...\r\n                        </>\r\n                      ) : (\r\n                        'Save Permissions'\r\n                      )}\r\n                    </button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Custom Notification */}\r\n      <CustomNotification\r\n        isOpen={notification.isOpen}\r\n        onClose={closeNotification}\r\n        type={notification.type}\r\n        title={notification.title}\r\n        message={notification.message}\r\n        theme={theme}\r\n      />\r\n\r\n      {/* Custom Confirmation Modal */}\r\n      <CustomConfirmModal\r\n        isOpen={confirmModal.isOpen}\r\n        onClose={closeConfirmModal}\r\n        onConfirm={confirmModal.onConfirm}\r\n        title={confirmModal.title}\r\n        message={confirmModal.message}\r\n        confirmText={confirmModal.confirmText}\r\n        isConfirming={confirmModal.isConfirming}\r\n        theme={theme}\r\n        type={confirmModal.type}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PermissionsPage;\r\n"],"names":["CustomNotification","_ref","isOpen","onClose","type","title","message","theme","isVisible","setIsVisible","useState","useEffect","timer","setTimeout","handleClose","clearTimeout","_jsx","className","concat","children","_jsxs","getIcon","FaCheckCircle","FaExclamationTriangle","FaInfoCircle","getTitleClass","onClick","X","size","CustomConfirmModal","_ref2","onConfirm","confirmText","isConfirming","disabled","getConfirmButtonClass","_Fragment","PermissionsPage","_userData$roles$","_matchedObject$permis","permissionsdata","userData","setPermissionsData","useContext","Context","permissions","setPermissions","loading","setLoading","isSubmitting","setIsSubmitting","matchedObject","setMatchedObject","notification","setNotification","confirmModal","setConfirmModal","isLoaded","setIsLoaded","userRole","roles","toUpperCase","loggedinuserRole","console","log","matchedRoleObject","find","role","roleName","trim","newPermissionLabel","setNewPermissionLabel","allPermissionOptions","setAllPermissionOptions","isAddRoleModalOpen","setIsAddRoleModalOpen","newRoleName","setNewRoleName","isAddingRole","setIsAddingRole","isEditMode","setIsEditMode","roleToDelete","setRoleToDelete","showNotification","closeConfirmModal","mapAPIRoleToKey","apiRoleName","replace","toLowerCase","initializePermissionsFromAPI","Array","isArray","initialPermissions","forEach","apiRole","roleKey","id","Set","permissionOptions","createPermissionOptionsFromAPI","allPermissionsFromAPI","flatMap","map","permission","label","l","value","sort","a","b","localeCompare","initializedPermissions","customSelectStyles","rolesToRender","Object","keys","onSubmit","async","e","preventDefault","startsWith","newRoleDto","authApi","post","response","get","data","error","_error$response","_error$response$data","errorMessage","onChange","target","placeholder","includes","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","handleAddPermission","newPermissionValue","some","option","newPermission","prevOptions","selectedPermissionsForRole","filter","_permissions$role","_permissions$role$per","checked","handleCheckboxChange","prev","Select","isMulti","options","selectedOptions","handleSelectionChange","selectedValues","_objectSpread","styles","closeMenuOnSelect","isDisabled","length","roleToDeleteName","arguments","undefined","showConfirmModal","callerRole","delete","_error$response3","_error$response3$data","handleReset","transformedPermissions","key","rolePayload","_error$response2","_error$response2$data","closeNotification"],"sourceRoot":""}