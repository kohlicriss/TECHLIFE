"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[89],{6089:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var s=r(9379),a=r(5043),o=r(9944),l=r(184),n=r(614),i=r(9910),c=r(2397),d=r(579);const m=e=>{let{isOpen:t,onClose:r,type:s,title:o,message:i,theme:c}=e;const[m,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e;return t?(u(!0),"success"!==s&&"error"!==s&&"warning"!==s||(e=setTimeout(()=>{x()},3e3))):u(!1),()=>clearTimeout(e)},[t,s]);const x=(0,a.useCallback)(()=>{u(!1),setTimeout(()=>r(),300)},[r]);if(!t&&!m)return null;return(0,d.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] transition-opacity duration-300 ".concat(m?"opacity-100":"opacity-0 pointer-events-none"),children:(0,d.jsxs)("div",{className:"p-6 rounded-2xl shadow-2xl w-full max-w-md m-4 border transform transition-all duration-300 ".concat(m?"scale-100 translate-y-0":"scale-95 translate-y-4"," ").concat("dark"===c?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,d.jsxs)("div",{className:"flex items-start mb-4",children:[(0,d.jsx)("div",{className:"flex-shrink-0 pt-1",children:(()=>{switch(s){case"success":return(0,d.jsx)(l.A7C,{className:"w-6 h-6 text-green-500"});case"error":return(0,d.jsx)(l.BS8,{className:"w-6 h-6 text-red-500"});case"warning":return(0,d.jsx)(l.BS8,{className:"w-6 h-6 text-yellow-500"});case"info":return(0,d.jsx)(l.__w,{className:"w-6 h-6 text-blue-500"});default:return null}})()}),(0,d.jsx)("h3",{className:"text-xl font-bold ml-3 flex-grow ".concat((()=>{switch(s){case"success":return"text-green-600 dark:text-green-400";case"error":return"text-red-600 dark:text-red-400";case"warning":return"text-yellow-600 dark:text-yellow-400";case"info":return"text-blue-600 dark:text-blue-400";default:return"dark"===c?"text-white":"text-gray-800"}})()),children:o}),("info"===s||"warning"===s)&&(0,d.jsx)("button",{onClick:x,className:"ml-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex-shrink-0",children:(0,d.jsx)(n.A,{size:20})})]}),(0,d.jsx)("p",{className:"text-sm ".concat("dark"===c?"text-gray-300":"text-gray-600"),children:i}),("info"===s||"warning"===s)&&(0,d.jsx)("div",{className:"mt-5 flex justify-end",children:(0,d.jsx)("button",{onClick:x,className:"px-5 py-2 rounded-lg font-medium text-sm transition-colors ".concat("warning"===s?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"),children:"OK"})})]})})},u=e=>{let{isOpen:t,onClose:r,onConfirm:s,title:o,message:i,confirmText:c,isConfirming:m,theme:u,type:x="warning"}=e;const[g,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{b(!!t)},[t]);const p=(0,a.useCallback)(()=>{b(!1),setTimeout(()=>r(),300)},[r]);if(!t&&!g)return null;return(0,d.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] transition-opacity duration-300 ".concat(g?"opacity-100":"opacity-0 pointer-events-none"),children:(0,d.jsxs)("div",{className:"p-6 rounded-2xl shadow-2xl w-full max-w-md m-4 border transform transition-all duration-300 ".concat(g?"scale-100 translate-y-0":"scale-95 translate-y-4"," ").concat("dark"===u?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,d.jsxs)("div",{className:"flex items-start mb-4",children:[(0,d.jsx)("div",{className:"flex-shrink-0 pt-1",children:(()=>{switch(x){case"danger":return(0,d.jsx)(l.BS8,{className:"w-6 h-6 text-red-500"});case"warning":default:return(0,d.jsx)(l.BS8,{className:"w-6 h-6 text-yellow-500"});case"info":return(0,d.jsx)(l.__w,{className:"w-6 h-6 text-blue-500"})}})()}),(0,d.jsx)("h3",{className:"text-xl font-bold ml-3 flex-grow ".concat((()=>{switch(x){case"danger":return"text-red-600 dark:text-red-400";case"warning":default:return"text-yellow-600 dark:text-yellow-400";case"info":return"text-blue-600 dark:text-blue-400"}})()),children:o}),(0,d.jsx)("button",{onClick:p,className:"ml-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex-shrink-0",children:(0,d.jsx)(n.A,{size:20})})]}),(0,d.jsx)("p",{className:"mb-6 text-sm ".concat("dark"===u?"text-gray-300":"text-gray-600"),children:i}),(0,d.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,d.jsx)("button",{onClick:p,className:"px-5 py-2 rounded-lg font-medium text-sm transition-colors ".concat("dark"===u?"bg-gray-600 hover:bg-gray-500 text-gray-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"),children:"Cancel"}),(0,d.jsx)("button",{onClick:s,disabled:m,className:"px-5 py-2 rounded-lg font-medium text-sm text-white transition-colors flex items-center justify-center focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 ".concat((()=>{switch(x){case"danger":return"bg-red-600 hover:bg-red-700 focus-visible:outline-red-600";case"warning":default:return"bg-yellow-500 hover:bg-yellow-600 focus-visible:outline-yellow-500 text-white";case"info":return"bg-blue-600 hover:bg-blue-700 focus-visible:outline-blue-600"}})()," ").concat(m?"opacity-75 cursor-not-allowed":""),children:m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Processing..."]}):c})]})]})})},x=()=>{const{theme:e,permissionsdata:t=[],userData:r,setPermissionsData:x}=(0,a.useContext)(i.ob),[g,b]=(0,a.useState)({}),[p,h]=(0,a.useState)(!0),[f,y]=(0,a.useState)(!1),[v,w]=(0,a.useState)(null),[j,k]=(0,a.useState)(null),[N,C]=(0,a.useState)({isOpen:!1,type:"",title:"",message:""}),[A,E]=(0,a.useState)({isOpen:!1,title:"",message:"",confirmText:"",onConfirm:null,type:"warning",isConfirming:!1}),R=(0,a.useMemo)(()=>{var e,t;return null===r||void 0===r||null===(e=r.roles)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase()},[r]),S=R||null;(0,a.useEffect)(()=>{if(S&&t&&t.length>0){const e=t.find(e=>{var t;return(null===(t=e.roleName)||void 0===t?void 0:t.trim())===S.trim()});w(e||null)}else w(null)},[S,t]);const[O,_]=(0,a.useState)(""),[F,T]=(0,a.useState)([]),[D,L]=(0,a.useState)(!1),[P,B]=(0,a.useState)(""),[U,I]=(0,a.useState)(!1),z=(0,a.useCallback)((e,t,r)=>{C({isOpen:!0,type:e,title:t,message:r})},[]),M=(0,a.useCallback)(()=>{C({isOpen:!1,type:"",title:"",message:""})},[]),G=(0,a.useCallback)(function(e,t,r,s){E({isOpen:!0,title:e,message:t,confirmText:r,onConfirm:s,type:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"warning",isConfirming:!1})},[]),V=(0,a.useCallback)(()=>{E({isOpen:!1,title:"",message:"",confirmText:"",onConfirm:null,type:"warning",isConfirming:!1})},[]),Q=(0,a.useCallback)(e=>e?"CREAT_USER"===e?"Create User":"DELETE_USER"===e?"Delete User":"CREATE_TASK"===e?"Create Task":"VIEW_TASKS"===e?"View Tasks":"VIEW_REPORTS"===e?"View Reports":"PERMISSIONS_BUTTENS"===e?"Permissions Buttons":"CREATE_HR"===e?"Create HR":e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()):"",[]),W=(0,a.useCallback)(e=>e?e.startsWith("ROLE_")?e.substring(5).toLowerCase():e.toLowerCase():null,[]);(0,a.useEffect)(()=>{if(t&&Array.isArray(t)){const e=t.flatMap(e=>e.permissions||[]),r=F.filter(t=>!e.includes(t.value)).map(e=>e.value),s=[...new Set([...e,...r])].map(e=>({value:e,label:Q(e)})).sort((e,t)=>e.label.localeCompare(t.label));T(s);const a={};let o=null;[...t].sort((e,t)=>(e.roleName||"").localeCompare(t.roleName||"")).forEach(e=>{const t=W(e.roleName);t&&(o||(o=t),a[t]={id:e.id,permissions:e.permissions?[...new Set(e.permissions)]:[]})}),b(a),k(e=>e&&a[e]?e:o),h(!1)}else T([]),b({}),k(null),h(!1)},[t,Q,W]);const Z=(0,a.useCallback)(()=>{if(!O.trim())return void z("error","Validation Error","Please enter a label for the new permission.");const e=O.trim().toUpperCase().replace(/\s+/g,"_");if(F.some(t=>t.value===e))return void z("error","Duplicate Permission","A permission option with this value already exists.");const t={value:e,label:Q(e)};T(e=>[...e,t].sort((e,t)=>e.label.localeCompare(t.label))),_(""),z("info","Permission Option Added",'"'.concat(t.label,'" option created. Assign it to roles and save.'))},[O,F,Q,z]),H=(0,a.useCallback)((e,t)=>{if(!t)return;const r=e?e.map(e=>e.value):[];b(e=>(0,s.A)((0,s.A)({},e),{},{[t]:(0,s.A)((0,s.A)({},e[t]),{},{permissions:r})}))},[]),K=(0,a.useCallback)(async e=>{e.preventDefault();const t=P.trim().toUpperCase();if(!t||!t.startsWith("ROLE_"))return void z("error","Invalid Role Name","Role name must start with 'ROLE_' and cannot be empty.");const r=W(t);if(g[r])return void z("error","Role Already Exists","This role already exists.");I(!0);const s={roleName:t,permissions:[]};try{await c.ZQ.post("/role-access",s);const e=await c.ZQ.get("/role-access/all");x(e.data),L(!1),B(""),z("success","Role Created","Role '".concat(s.roleName,"' created. Assign permissions and save."))}catch(l){var a,o;console.error("Failed to create new role:",l);const e=(null===(a=l.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||"An error occurred.";z("error","Role Creation Failed","Error: ".concat(e))}finally{I(!1)}},[P,g,W,x,z]),q=(0,a.useCallback)(async e=>{e.preventDefault(),y(!0);const r=new Set;Object.values(g).forEach(e=>{e.permissions.forEach(e=>r.add(e))});const a=F.map(e=>e.value).filter(e=>!r.has(e)),o=Object.keys(g).map(e=>{var t,r;const s="ROLE_".concat(e.toUpperCase());return{id:null===(t=g[e])||void 0===t?void 0:t.id,roleName:s,permissions:(null===(r=g[e])||void 0===r?void 0:r.permissions)||[]}}).filter(e=>void 0!==e.id),l="garbage",n=g[l]||t.find(e=>"ROLE_GARBAGE"===e.roleName),i=(null===n||void 0===n?void 0:n.id)||136;if(a.length>0){let e=o.findIndex(e=>e.roleName==="ROLE_".concat(l.toUpperCase()));if(-1===e&&n?(o.push({id:i,roleName:"ROLE_".concat(l.toUpperCase()),permissions:[]}),e=o.length-1):-1!==e||n||(o.push({id:i,roleName:"ROLE_".concat(l.toUpperCase()),permissions:[]}),e=o.length-1),-1!==e){const t=o[e].permissions,r=[...new Set([...t,...a])];o[e].permissions=r}z("warning","Unassigned Permissions Saved","The following permissions were not assigned to any role: ".concat(a.join(", "),". They have been automatically assigned to the ROLE_GARBAGE role to prevent data loss."),"Confirm & Save")}if(0===o.length)return z("info","No Changes","No permissions data found to save."),void y(!1);try{await c.ZQ.post("role-access/updateAll",o);const e=await c.ZQ.get("/role-access/all");x(e.data),z("success","Permissions Saved","All changes have been saved successfully!"),a.length>0&&b(e=>{var t;return(0,s.A)((0,s.A)({},e),{},{[l]:(0,s.A)((0,s.A)({},e[l]),{},{permissions:[...(null===(t=e[l])||void 0===t?void 0:t.permissions)||[],...a]})})})}catch(u){var d,m;console.error("Error saving permissions:",u);const e=(null===(d=u.response)||void 0===d||null===(m=d.data)||void 0===m?void 0:m.message)||"An error occurred while saving permissions.";z("error","Save Failed","Error: ".concat(e))}finally{y(!1)}},[g,F,x,z,t]),J=(0,a.useCallback)(()=>{if(t&&Array.isArray(t)){const e={};let r=null;[...t].sort((e,t)=>(e.roleName||"").localeCompare(t.roleName||"")).forEach(t=>{const s=W(t.roleName);s&&(r||(r=s),e[s]={id:t.id,permissions:t.permissions?[...new Set(t.permissions)]:[]})}),b(e),k(t=>e[t]?t:r),z("info","Changes Reset","Permissions reverted to last saved state.")}else z("error","Reset Failed","Original permissions data not available.")},[t,W,z]),X=(0,a.useCallback)(e=>{if(!e)return;if("admin"===e)return void z("error","Deletion Denied","The ADMIN role cannot be deleted.");const t="ROLE_".concat(e.toUpperCase());G("Confirm Role Deletion","Are you sure you want to permanently delete the role: ".concat(t,"? This action cannot be undone."),"Delete Role",async()=>{E(e=>(0,s.A)((0,s.A)({},e),{},{isConfirming:!0}));try{const e=S||"ADMIN";await c.ZQ.delete("role-access/delete/".concat(e,"/").concat(t));const r=await c.ZQ.get("/role-access/all");x(r.data),V(),z("success","Role Deleted","Role '".concat(t,"' has been successfully deleted."))}catch(a){var e,r;console.error("Failed to delete role:",a);const t=(null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"An error occurred.";V(),z("error","Delete Failed","Error: ".concat(t))}},"danger")},[S,x,G,V,z]),Y=(0,a.useMemo)(()=>({control:(t,r)=>(0,s.A)((0,s.A)({},t),{},{backgroundColor:"dark"===e?"#374151":"#fff",borderColor:r.isFocused?"dark"===e?"#60A5FA":"#3B82F6":"dark"===e?"#4B5563":"#D1D5DB",minHeight:"48px",boxShadow:r.isFocused?"0 0 0 2px ".concat("dark"===e?"rgba(96, 165, 250, 0.5)":"rgba(59, 130, 246, 0.4)"):null,borderRadius:"0.5rem",padding:"2px 4px","&:hover":{borderColor:"dark"===e?"#6B7280":"#A1A1AA"}}),valueContainer:e=>(0,s.A)((0,s.A)({},e),{},{padding:"2px 6px",gap:"4px"}),input:t=>(0,s.A)((0,s.A)({},t),{},{color:"dark"===e?"#F3F4F6":"#1F2937",margin:"0px",paddingBlock:"2px"}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:e=>({}),clearIndicator:e=>({}),placeholder:t=>(0,s.A)((0,s.A)({},t),{},{color:"dark"===e?"#9CA3AF":"#6B7280"}),menu:e=>({}),option:(e,t)=>({}),multiValue:t=>(0,s.A)((0,s.A)({},t),{},{backgroundColor:"dark"===e?"rgba(59, 130, 246, 0.3)":"rgba(59, 130, 246, 0.15)",borderRadius:"9999px",margin:"2px",border:"1px solid ".concat("dark"===e?"rgba(59, 130, 246, 0.5)":"rgba(59, 130, 246, 0.3)"),overflow:"hidden"}),multiValueLabel:t=>(0,s.A)((0,s.A)({},t),{},{color:"dark"===e?"#BFDBFE":"#1E40AF",padding:"3px",paddingLeft:"10px",fontSize:"0.8rem",fontWeight:"500"}),multiValueRemove:t=>(0,s.A)((0,s.A)({},t),{},{color:"dark"===e?"#93C5FD":"#3B82F6",backgroundColor:"transparent",borderRadius:"0 9999px 9999px 0",padding:"4px",marginLeft:"1px",marginRight:"1px","&:hover, &:focus-visible":{backgroundColor:"dark"===e?"#DC2626":"#EF4444",color:"white",transform:"scale(1.1)",outline:"none"},transition:"all 150ms",cursor:"pointer"}),noOptionsMessage:e=>({})}),[e]);if(p)return(0,d.jsx)("div",{className:"flex justify-center items-center h-screen ".concat("dark"===e?"bg-gray-900 text-white":"bg-gray-50"),children:"Loading Permissions..."});const $=Object.keys(g).sort((e,t)=>"admin"===e?-1:"admin"===t?1:e.localeCompare(t)),ee=j?F.filter(e=>{var t,r;return null===(t=g[j])||void 0===t||null===(r=t.permissions)||void 0===r?void 0:r.includes(e.value)}):[];return(0,d.jsxs)(d.Fragment,{children:[D&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[151]",children:(0,d.jsxs)("div",{className:"p-6 rounded-2xl shadow-2xl w-full max-w-md m-4 border ".concat("dark"===e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,d.jsxs)("div",{className:"flex items-center mb-4",children:[(0,d.jsx)(l.OiG,{className:"w-6 h-6 text-blue-500"}),(0,d.jsx)("h2",{className:"text-xl font-bold ml-3 ".concat("dark"===e?"text-white":"text-gray-800"),children:"Add New Role"}),(0,d.jsx)("button",{onClick:()=>L(!1),className:"ml-auto p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200","aria-label":"Close add role modal",children:(0,d.jsx)(n.A,{size:20})})]}),(0,d.jsxs)("form",{onSubmit:K,children:[(0,d.jsx)("label",{htmlFor:"newRoleNameInput",className:"block text-sm font-medium mb-1 ".concat("dark"===e?"text-gray-300":"text-gray-700"),children:"Role Name (must start with ROLE_)"}),(0,d.jsx)("input",{id:"newRoleNameInput",type:"text",value:P,onChange:e=>B(e.target.value),placeholder:"e.g., ROLE_MANAGER",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 mb-4 ".concat("dark"===e?"bg-gray-700 border-gray-600 text-white focus:ring-blue-500":"bg-white border-gray-300 focus:ring-blue-600")}),(0,d.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,d.jsx)("button",{type:"button",onClick:()=>L(!1),className:"px-4 py-2 rounded-lg font-medium text-sm transition-colors ".concat("dark"===e?"bg-gray-600 hover:bg-gray-500 text-gray-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"),disabled:U,children:"Cancel"}),(0,d.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white font-semibold text-sm rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:opacity-75 disabled:cursor-not-allowed flex items-center justify-center",disabled:U||!P.trim()||!P.toUpperCase().startsWith("ROLE_"),children:U?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Adding..."]}):"Add Role"})]})]})]})}),(0,d.jsx)("div",{className:"min-h-screen px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 ".concat("dark"===e?"bg-gray-900 text-white":"bg-gray-50 text-gray-800"),children:(0,d.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,d.jsx)("div",{className:"mb-6 sm:mb-8 px-4 sm:px-0 flex justify-between items-center",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2",children:"Permissions Management"}),(0,d.jsx)("p",{className:"text-sm ".concat("dark"===e?"text-gray-400":"text-gray-600"),children:"Configure role-based permissions"})]})}),(0,d.jsx)("div",{className:"p-4 sm:p-6 rounded-lg shadow-md mb-6 sm:mb-8 mx-4 sm:mx-0 ".concat("dark"===e?"bg-gray-800 border border-gray-700":"bg-white border"),children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[(0,d.jsxs)("div",{className:"w-full md:w-auto md:flex-grow mb-4 md:mb-0",children:[(0,d.jsx)("label",{htmlFor:"newPermissionInput",className:"block text-sm font-medium mb-1 ".concat("dark"===e?"text-gray-300":"text-gray-700"),children:"Add New Permission Option"}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,d.jsx)("input",{id:"newPermissionInput",type:"text",value:O,onChange:e=>_(e.target.value),placeholder:"Enter label (e.g., Edit Own Profile)",className:"flex-grow p-3 border rounded-lg focus:outline-none focus:ring-1 ".concat("dark"===e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-600 focus:border-blue-600")}),(0,d.jsxs)("button",{type:"button",onClick:Z,className:"px-4 py-3 bg-blue-600 text-white font-semibold text-sm rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",disabled:!O.trim(),children:[(0,d.jsx)(l.OiG,{size:14})," Add Option"]})]}),(0,d.jsx)("p",{className:"text-xs mt-1 ".concat("dark"===e?"text-gray-500":"text-gray-400"),children:"Adds an option available for selection in all roles."})]}),(0,d.jsxs)("div",{className:"flex-shrink-0 w-full md:w-auto",children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-1 invisible md:visible",children:"_"}),(0,d.jsxs)("button",{onClick:()=>L(!0),className:"w-full px-4 py-3 bg-green-600 text-white font-semibold text-sm rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[(0,d.jsx)(l.OiG,{size:14})," Add New Role"]})]})]})}),(0,d.jsx)("div",{className:"mb-6 sm:mb-8 border-b ".concat("dark"===e?"border-gray-700":"border-gray-200"),children:(0,d.jsxs)("div",{className:"flex space-x-1 overflow-x-auto pb-px -mb-px px-4 sm:px-0",children:[$.map(t=>(0,d.jsxs)("div",{className:"relative group flex items-center flex-shrink-0",children:[(0,d.jsx)("button",{onClick:()=>k(t),className:"flex items-center gap-2 pl-4 pr-9 py-2.5 text-sm sm:text-base font-medium border-b-2 whitespace-nowrap transition-colors duration-150 rounded-t-md\n                                            ".concat(j===t?"border-blue-500 text-blue-600 dark:text-blue-400 ".concat("dark"===e?"bg-gray-800":"bg-white"):"border-transparent hover:border-gray-400 dark:hover:border-gray-500 ".concat("dark"===e?"text-gray-400 hover:text-gray-200 hover:bg-gray-700/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"),"\n                                        "),children:(0,d.jsx)("span",{className:"capitalize",children:t.replace(/_/g," ")})}),"admin"!==t&&(0,d.jsx)("button",{onClick:e=>{e.stopPropagation(),X(t)},className:"absolute top-1/2 right-2 transform -translate-y-1/2 p-1 rounded-full text-gray-400 hover:text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity duration-150 ".concat(j===t?"opacity-100":""),title:"Delete ROLE_".concat(t.toUpperCase()),"aria-label":"Delete role ".concat(t),children:(0,d.jsx)(n.A,{size:14})})]},t)),0===$.length&&!p&&(0,d.jsx)("div",{className:"px-4 py-3 text-sm ".concat("dark"===e?"text-gray-500":"text-gray-400"),children:"No roles found. Add a new role to begin."})]})}),j&&g[j]?(0,d.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 rounded-lg shadow-md mx-4 sm:mx-0 ".concat("dark"===e?"bg-gray-800 border border-gray-700":"bg-white border"),children:[(0,d.jsxs)("h2",{className:"text-lg sm:text-xl font-semibold capitalize mb-4 pb-2 border-b ".concat("dark"===e?"border-gray-700":"border-gray-200"),children:["Permissions for ",(0,d.jsx)("span",{className:"text-blue-600 dark:text-blue-400",children:j.replace(/_/g," ")})," Role"]}),(0,d.jsx)(o.Ay,{isMulti:!0,options:F,value:ee,onChange:e=>H(e,j),styles:Y,placeholder:"Select permissions for this role...",closeMenuOnSelect:!1,"aria-label":"Select permissions for ".concat(j," role")}),(0,d.jsxs)("p",{className:"text-xs mt-3 ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:[ee.length," / ",F.length," permission(s) selected."]})]}):!p&&$.length>0&&(0,d.jsx)("div",{className:"p-6 text-center rounded-lg mx-4 sm:mx-0 ".concat("dark"===e?"text-gray-500 bg-gray-800 border border-gray-700":"text-gray-600 bg-gray-100 border"),children:"Select a role tab above to view or edit its permissions."}),$.length>0&&(0,d.jsx)("div",{className:"mt-6 sm:mt-8 pt-4 sm:pt-6 px-4 sm:px-0 border-t border-gray-200 dark:border-gray-700",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4",children:[(0,d.jsxs)("button",{type:"button",onClick:J,className:"w-full sm:w-auto px-5 py-2.5 border-2 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition-colors ".concat("dark"===e?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-100"),disabled:f,children:[(0,d.jsx)(l.EEI,{size:14})," Reset Changes"]}),(0,d.jsx)("button",{type:"button",onClick:q,disabled:f,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-bold rounded-lg shadow-md transition-all ".concat(f?"cursor-not-allowed opacity-75":"hover:shadow-lg hover:from-blue-700 hover:to-indigo-700"),children:f?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.dIn,{size:15})," Save Permissions"]})})]})})]})}),(0,d.jsx)(m,{isOpen:N.isOpen,onClose:M,type:N.type,title:N.title,message:N.message,theme:e}),(0,d.jsx)(u,{isOpen:A.isOpen,onClose:V,onConfirm:A.onConfirm,title:A.title,message:A.message,confirmText:A.confirmText,isConfirming:A.isConfirming,theme:e,type:A.type})]})}}}]);
//# sourceMappingURL=89.1c3d62fa.chunk.js.map