{"version":3,"file":"static/js/676.951138f2.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Teams/ConfirmationModal.jsx","TechLife/HRMS/Components/Teams/AllTeams.jsx","../node_modules/framer-motion/dist/es/utils/use-composed-ref.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/PopChild.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/utils.mjs","../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { FaTimes, FaExclamationTriangle } from 'react-icons/fa';\r\nimport { Context } from '../HrmsContext';\r\n\r\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message, confirmText = 'Confirm', isConfirming }) => {\r\n    const { theme } = useContext(Context);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[250] p-2 sm:p-4\">\r\n            <div className={`rounded-xl sm:rounded-2xl w-full max-w-sm sm:max-w-md shadow-xl flex flex-col ${theme === 'dark' ? 'bg-gray-800 text-white' : 'bg-white'}`}>\r\n                {/* Header */}\r\n                <div className=\"p-4 sm:p-6 flex justify-between items-center border-b\" style={{borderColor: theme === 'dark' ? '#4b5563' : '#e5e7eb'}}>\r\n                    <h3 className=\"text-lg sm:text-xl font-bold flex items-center min-w-0 flex-1\">\r\n                        <FaExclamationTriangle className=\"text-yellow-400 mr-2 sm:mr-3 w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0\" />\r\n                        <span className=\"break-words\">{title}</span>\r\n                    </h3>\r\n                    <button \r\n                        onClick={onClose} \r\n                        className=\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors flex-shrink-0 ml-2\"\r\n                    >\r\n                        <FaTimes className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Message Content */}\r\n                <div className=\"p-4 sm:p-6\">\r\n                    <p className={`text-sm sm:text-base break-words ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                        {message}\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Footer Buttons */}\r\n                <div className={`p-3 sm:p-4 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 border-t ${theme === 'dark' ? 'bg-gray-700/50 border-gray-700' : 'bg-gray-50 border-gray-200'}`}>\r\n                    <button \r\n                        onClick={onClose} \r\n                        className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm ${theme === 'dark' ? 'bg-gray-600 hover:bg-gray-500 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button \r\n                        onClick={onConfirm}\r\n                        disabled={isConfirming}\r\n                        className={`w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white transition-colors flex items-center justify-center text-sm\r\n                                    ${isConfirming ? 'bg-red-400 cursor-not-allowed' : 'bg-red-600 hover:bg-red-700'}`}\r\n                    >\r\n                        {isConfirming ? (\r\n                            <>\r\n                                <div className=\"h-3 w-3 sm:h-4 sm:w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                                <span>Deleting...</span>\r\n                            </>\r\n                        ) : (\r\n                            <span>{confirmText}</span>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ConfirmationModal;\r\n","import React, { useState, useEffect, useContext, useRef, useCallback } from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { publicinfoApi, authApi } from '../../../../axiosInstance';\r\nimport { FaUsers, FaPlus, FaUserShield, FaTimes, FaChevronDown, FaChevronUp, FaTrash, FaEye, FaSearch, FaChevronLeft, FaChevronRight, FaCheckCircle, FaExclamationTriangle, FaInfoCircle } from 'react-icons/fa';\r\nimport { IoCheckmarkCircle, IoWarning } from 'react-icons/io5';\r\nimport { X } from 'lucide-react';\r\nimport { Context } from '../HrmsContext';\r\nimport ConfirmationModal from './ConfirmationModal';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\n// --- Utility Hooks & Components for Inline Role Assignment ---\r\n\r\n// Utility Hook for fetching all employees\r\nconst useEmployeeList = () => {\r\n    const [employees, setEmployees] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const fetchEmployees = useCallback(async () => {\r\n        if (loading) return;\r\n        setLoading(true);\r\n        try {\r\n            const response = await publicinfoApi.get(`employee/0/100/employeeId/asc/employees`);\r\n            const list = response.data.content || [];\r\n            setEmployees(list);\r\n        } catch (error) {\r\n            console.error('Failed to fetch employees for modal:', error);\r\n            setEmployees([]);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [loading]);\r\n\r\n    useEffect(() => {\r\n        fetchEmployees();\r\n    }, []);\r\n\r\n    return { employees, loading };\r\n};\r\n// --- End Utility Hooks ---\r\n\r\n// Custom Notification Component\r\nconst CustomNotification = ({ isOpen, onClose, type, title, message, theme }) => {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setIsVisible(true);\r\n            if (type === 'success' || type === 'error') {\r\n                const timer = setTimeout(() => {\r\n                    handleClose();\r\n                }, 3000);\r\n                return () => clearTimeout(timer);\r\n            }\r\n        }\r\n    }, [isOpen, type]);\r\n\r\n    const handleClose = () => {\r\n        setIsVisible(false);\r\n        setTimeout(() => onClose(), 300);\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const getIcon = () => {\r\n        switch (type) {\r\n            case 'success':\r\n                return <FaCheckCircle className=\"w-6 h-6 text-green-500\" />;\r\n            case 'error':\r\n                return <FaExclamationTriangle className=\"w-6 h-6 text-red-500\" />;\r\n            case 'info':\r\n                return <FaInfoCircle className=\"w-6 h-6 text-blue-500\" />;\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    const getTitleClass = () => {\r\n        switch (type) {\r\n            case 'success':\r\n                return 'text-green-600 dark:text-green-400';\r\n            case 'error':\r\n                return 'text-red-600 dark:text-red-400';\r\n            case 'info':\r\n                return 'text-blue-600 dark:text-blue-400';\r\n            default:\r\n                return theme === 'dark' ? 'text-white' : 'text-gray-800';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-[200] transition-opacity duration-300 ${isVisible ? 'opacity-100' : 'opacity-0'}`}>\r\n            <div className={`p-6 rounded-3xl shadow-2xl w-full max-w-md m-4 border transform transition-all duration-300 ${isVisible ? 'scale-100 translate-y-0' : 'scale-95 translate-y-4'} ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n                <div className=\"flex items-center mb-4\">\r\n                    {getIcon()}\r\n                    <h3 className={`text-xl font-bold ml-3 ${getTitleClass()}`}>{title}</h3>\r\n                    {type !== \"success\" && type !== \"error\" && (\r\n                        <button onClick={handleClose} className=\"ml-auto p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200\">\r\n                            <X size={20} />\r\n                        </button>\r\n                    )}\r\n                </div>\r\n                <p className={`${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>{message}</p>\r\n                {(type === 'success' || type === 'error') && (\r\n                    <div className=\"mt-4 flex justify-end\">\r\n                        <button\r\n                            onClick={handleClose}\r\n                            className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                                type === 'success'\r\n                                    ? 'bg-green-500 hover:bg-green-600 text-white'\r\n                                    : 'bg-red-500 hover:bg-red-600 text-white'\r\n                            }`}\r\n                        >\r\n                            OK\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Reusable Input Field Component (Copied Styling) ---\r\nconst InputField = ({\r\n    name,\r\n    label,\r\n    type = 'text',\r\n    required = false,\r\n    hint,\r\n    placeholder,\r\n    value,\r\n    onChange,\r\n    onBlur,\r\n    isError,\r\n    options = [],\r\n    theme\r\n}) => {\r\n    const baseInputClass = `w-full px-3 sm:px-4 py-2 sm:py-3 border-2 rounded-lg transition-all duration-300 text-sm\r\n        focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n        isError\r\n            ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20'\r\n            : theme === 'dark'\r\n            ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500'\r\n            : 'border-gray-200 bg-white hover:border-gray-300'\r\n        }`;\r\n\r\n    return (\r\n        <div className=\"group relative\" key={name}>\r\n            <label className={`block text-xs sm:text-sm font-semibold mb-2 flex items-center ${\r\n                theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n            }`}>\r\n                {label}\r\n                {required && <span className=\"text-red-500 ml-1 text-sm\">*</span>}\r\n            </label>\r\n\r\n            {hint && (\r\n                <p className={`text-xs mb-2 ${\r\n                    theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                }`}>\r\n                    {hint}\r\n                </p>\r\n            )}\r\n\r\n            {type === 'select' ? (\r\n                <div className=\"relative\">\r\n                    <select\r\n                        name={name}\r\n                        value={value || ''}\r\n                        onChange={onChange}\r\n                        onBlur={onBlur}\r\n                        className={`${baseInputClass} appearance-none`}\r\n                        required={required}\r\n                    >\r\n                        <option value=\"\">Choose {label}</option>\r\n                        {options.map((opt) => (\r\n                            <option key={opt} value={opt}>\r\n                                {opt}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <div className=\"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 pointer-events-none\">\r\n                        <FaChevronDown className={`w-4 h-4 sm:w-5 sm:h-5 ${\r\n                            theme === 'dark' ? 'text-gray-400' : 'text-gray-400'\r\n                        }`} />\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <input\r\n                    type={type}\r\n                    name={name}\r\n                    value={value || ''}\r\n                    onChange={onChange}\r\n                    onBlur={onBlur}\r\n                    className={baseInputClass}\r\n                    placeholder={placeholder || `Enter ${label.toLowerCase()}...`}\r\n                    required={required}\r\n                />\r\n            )}\r\n\r\n            {isError && (\r\n                <div className=\"mt-1 sm:mt-2 flex items-center space-x-2 text-red-600\">\r\n                    <IoWarning className=\"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0\" />\r\n                    <p className=\"text-xs sm:text-sm font-medium\">{isError}</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n// --- End Reusable Input Field Component ---\r\n\r\n// Utility Hook for Outside Click\r\nconst useOutsideClick = (handler, ignoreRefs = []) => {\r\n    const ref = useRef(null);\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            const isIgnored = ignoreRefs.some(\r\n                (r) => r.current && r.current.contains(event.target)\r\n            );\r\n            if (ref.current && !ref.current.contains(event.target) && !isIgnored) {\r\n                handler(event);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, [handler, ignoreRefs]);\r\n    return ref;\r\n};\r\n\r\n// Project Dropdown with Infinite Scroll\r\nconst ProjectDropdown = ({ value, onChange, theme, error, disabled }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [projects, setProjects] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasMoreData, setHasMoreData] = useState(true);\r\n\r\n    // Pagination States\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [totalPages, setTotalPages] = useState(1);\r\n    const [allDataLoaded, setAllDataLoaded] = useState(false);\r\n    const PAGE_SIZE = 10;\r\n\r\n    const isFetchingRef = useRef(false);\r\n    const scrollAreaRef = useRef(null);\r\n    const dropdownRef = useOutsideClick(() => setIsOpen(false), [scrollAreaRef]);\r\n\r\n    // Load projects for the current page\r\n    const loadProjects = useCallback(async (page = 0, append = false) => {\r\n        if (isFetchingRef.current || (page > 0 && !hasMoreData && !searchTerm)) return;\r\n\r\n        isFetchingRef.current = true;\r\n        setLoading(true);\r\n\r\n        try {\r\n            console.log(`[API CALL - ProjectDropdown] Fetching projects: Page ${page}, Size ${PAGE_SIZE}`);\r\n            // Note: SearchTerm functionality would require adapting the backend endpoint to support search.\r\n            // For now, this loads pages sequentially.\r\n            const response = await publicinfoApi.get(`employee/${page}/${PAGE_SIZE}/projectId/asc/projects`);\r\n            console.log(`[API SUCCESS - ProjectDropdown] Projects fetched for page ${page}:`, response.data);\r\n\r\n            const fetchedProjects = response.data?.content || [];\r\n            const newProjects = Array.isArray(fetchedProjects) ? fetchedProjects : [];\r\n\r\n            setProjects(prev => append ? [...prev, ...newProjects] : newProjects);\r\n\r\n            setCurrentPage(page);\r\n            setTotalPages(response.data?.totalPages || 1);\r\n\r\n            if (response.data?.last === true || newProjects.length < PAGE_SIZE) {\r\n                setHasMoreData(false);\r\n                setAllDataLoaded(true);\r\n            } else {\r\n                setHasMoreData(true);\r\n            }\r\n        } catch (error) {\r\n            console.error('[API ERROR - ProjectDropdown] Error fetching projects:', error.response?.data || error.message);\r\n            if (!append) {\r\n                setProjects([]);\r\n                setTotalPages(1);\r\n            }\r\n            setHasMoreData(false);\r\n        } finally {\r\n            setLoading(false);\r\n            isFetchingRef.current = false;\r\n        }\r\n    }, [hasMoreData, searchTerm]);\r\n\r\n    // Handle scroll event for infinite loading\r\n    const handleScroll = useCallback((e) => {\r\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n\r\n        // Check if user scrolled near bottom (within 50px)\r\n        if (scrollHeight - scrollTop <= clientHeight + 50) {\r\n            if (hasMoreData && !loading && !isFetchingRef.current && !searchTerm) {\r\n                loadProjects(currentPage + 1, true);\r\n            }\r\n        }\r\n    }, [currentPage, hasMoreData, loading, loadProjects, searchTerm]);\r\n\r\n    // FIX: Only load initially if opened and list is empty\r\n    useEffect(() => {\r\n        if (isOpen && projects.length === 0 && !loading && !searchTerm) {\r\n            loadProjects(0, false);\r\n        }\r\n    }, [isOpen, loadProjects, projects.length, loading, searchTerm]);\r\n\r\n    // FIX: Clear state when closing or starting a new search\r\n    useEffect(() => {\r\n        if (!isOpen) {\r\n            setSearchTerm('');\r\n            setProjects([]);\r\n            setAllDataLoaded(false);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const handleSelect = (project) => {\r\n        onChange({ value: project.projectId, label: `${project.projectId}(${project.title})` });\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const toggleDropdown = () => {\r\n        if (!disabled) setIsOpen(!isOpen);\r\n    };\r\n\r\n    const safeProjects = Array.isArray(projects) ? projects : [];\r\n\r\n    const filteredProjects = safeProjects.filter(proj =>\r\n        proj.title?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        proj.projectId?.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"relative\" ref={dropdownRef}>\r\n            <div\r\n                onClick={toggleDropdown}\r\n                // Adjusted styling to match InputField\r\n                className={`w-full px-3 sm:px-4 py-2 sm:py-3 border-2 rounded-lg transition-all duration-300 cursor-pointer flex items-center justify-between text-sm\r\n                    focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n                    error ? 'border-red-300 bg-red-50' : (theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500' : 'border-gray-200 bg-white hover:border-gray-300')\r\n                } ${disabled ? 'opacity-50' : ''}`}\r\n            >\r\n                <span className={!value ? (theme === 'dark' ? 'text-gray-400' : 'text-gray-500') : ''}>\r\n                    {value ? value.label : 'Select project...'}\r\n                </span>\r\n                <FaChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''} ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </div>\r\n            {error && <p className=\"text-red-500 text-xs mt-1\">{error}</p>}\r\n            <AnimatePresence>\r\n                {isOpen && !disabled && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: -10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        exit={{ opacity: 0, y: -10 }}\r\n                        className={`absolute top-full left-0 right-0 mt-2 border rounded-lg shadow-lg z-50 ${\r\n                            theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-white border-gray-200'\r\n                        }`}\r\n                    >\r\n                        <div className=\"p-2 border-b border-gray-200 dark:border-gray-600\">\r\n                            <div className=\"relative\">\r\n                                <FaSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Search projects...\"\r\n                                    value={searchTerm}\r\n                                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                                    className={`w-full pl-10 pr-4 py-2 border rounded-lg text-sm ${\r\n                                        theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\r\n                                    }`}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div\r\n                            className=\"max-h-60 overflow-y-auto\"\r\n                            ref={scrollAreaRef}\r\n                            onScroll={handleScroll}\r\n                        >\r\n                            {/* Display projects filtered by the local list */}\r\n                            {filteredProjects.length > 0 ? (\r\n                                filteredProjects.map(project => {\r\n                                    const isSelected = value?.value === project.projectId;\r\n                                    return (\r\n                                        <div\r\n                                            key={project.projectId}\r\n                                            onClick={() => handleSelect(project)}\r\n                                            className={`p-3 cursor-pointer flex items-center justify-between ${\r\n                                                isSelected ? 'bg-blue-50 dark:bg-blue-900/50' : `hover:${theme === 'dark' ? 'bg-gray-600' : 'bg-gray-50'}`\r\n                                            }`}\r\n                                        >\r\n                                            <div className={theme === 'dark' ? 'text-white' : 'text-gray-900'}>\r\n                                                <div className=\"font-medium text-sm\">{project.projectId}({project.title})</div>\r\n                                                <div className={`text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                                    Client: {project.client}  Status: {project.projectStatus}\r\n                                                </div>\r\n                                            </div>\r\n                                            {isSelected && <IoCheckmarkCircle className=\"w-5 h-5 text-blue-500\" />}\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            ) : searchTerm ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No projects matching \"{searchTerm}\"\r\n                                </div>\r\n                            ) : loading && projects.length === 0 ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading projects...\r\n                                </div>\r\n                            ) : (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No projects found.\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Loading indicator for infinite scroll */}\r\n                            {loading && projects.length > 0 && (\r\n                                <div className={`p-2 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading more projects...\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {allDataLoaded && projects.length > 0 && (\r\n                            <div className={`p-2 border-t text-center text-xs font-medium ${theme === 'dark' ? 'text-gray-500 border-gray-600' : 'text-gray-400 border-gray-200'}`}>\r\n                                 All projects loaded\r\n                            </div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Employee Dropdown is left here but no longer used in renderCreateTeamModal\r\nconst EmployeeDropdown = ({ value, onChange, theme, error, disabled, isMulti = false, placeholder }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [employees, setEmployees] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasMoreData, setHasMoreData] = useState(true);\r\n\r\n    // Pagination States\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [totalPages, setTotalPages] = useState(1);\r\n    const [allDataLoaded, setAllDataLoaded] = useState(false);\r\n    const PAGE_SIZE = 15;\r\n\r\n    const isFetchingRef = useRef(false);\r\n    const scrollAreaRef = useRef(null);\r\n    const dropdownRef = useOutsideClick(() => setIsOpen(false), [scrollAreaRef]);\r\n\r\n    // Load employees for the current page\r\n    const loadEmployees = useCallback(async (page = 0, append = false) => {\r\n        if (isFetchingRef.current || (page > 0 && !hasMoreData && !searchTerm)) return;\r\n\r\n        isFetchingRef.current = true;\r\n        setLoading(true);\r\n\r\n        try {\r\n            console.log(`[API CALL - EmployeeDropdown] Fetching employees: Page ${page}, Size ${PAGE_SIZE}`);\r\n            // For now, this loads pages sequentially.\r\n            const response = await publicinfoApi.get(`employee/${page}/${PAGE_SIZE}/employeeId/asc/employees`);\r\n            console.log(`[API SUCCESS - EmployeeDropdown] Employees fetched for page ${page}:`, response.data);\r\n\r\n            const responseData = response.data || {};\r\n            const fetchedEmployees = responseData.content || [];\r\n            const newEmployees = Array.isArray(fetchedEmployees) ? fetchedEmployees : [];\r\n\r\n            setEmployees(prev => append ? [...prev, ...newEmployees] : newEmployees);\r\n\r\n            setCurrentPage(page);\r\n            setTotalPages(responseData.totalPages || 1);\r\n\r\n            // Check if we've reached the end using responseData.last\r\n            if (responseData.last === true || newEmployees.length < PAGE_SIZE) {\r\n                setHasMoreData(false);\r\n                setAllDataLoaded(true);\r\n            } else {\r\n                setHasMoreData(true);\r\n            }\r\n        } catch (error) {\r\n            console.error('[API ERROR - EmployeeDropdown] Error fetching employees:', error.response?.data || error.message);\r\n            if (!append) {\r\n                setEmployees([]);\r\n                setTotalPages(1);\r\n            }\r\n            setHasMoreData(false);\r\n        } finally {\r\n            setLoading(false);\r\n            isFetchingRef.current = false;\r\n        }\r\n    }, [hasMoreData, searchTerm]);\r\n\r\n    // Handle scroll event for infinite loading\r\n    const handleScroll = useCallback((e) => {\r\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\r\n\r\n        // Check if user scrolled near bottom (within 50px)\r\n        if (scrollHeight - scrollTop <= clientHeight + 50) {\r\n            if (hasMoreData && !loading && !isFetchingRef.current && !searchTerm) {\r\n                loadEmployees(currentPage + 1, true);\r\n            }\r\n        }\r\n    }, [currentPage, hasMoreData, loading, loadEmployees, searchTerm]);\r\n\r\n    // FIX: Only load initially if opened and list is empty\r\n    useEffect(() => {\r\n        if (isOpen && employees.length === 0 && !loading && !searchTerm) {\r\n            loadEmployees(0, false);\r\n        }\r\n    }, [isOpen, loadEmployees, employees.length, loading, searchTerm]);\r\n\r\n    // FIX: Clear state when closing or starting a new search\r\n    useEffect(() => {\r\n        if (!isOpen) {\r\n            setSearchTerm('');\r\n            setEmployees([]);\r\n            setAllDataLoaded(false);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const handleSelect = (employee) => {\r\n        const employeeLabel = `${employee.displayName || employee.firstName + ' ' + employee.lastName} (${employee.employeeId})`;\r\n        if (isMulti) {\r\n            const currentValues = Array.isArray(value) ? value : [];\r\n            const isSelected = currentValues.some(item => item.value === employee.employeeId);\r\n            if (isSelected) {\r\n                onChange(currentValues.filter(item => item.value !== employee.employeeId));\r\n            } else {\r\n                onChange([...currentValues, { value: employee.employeeId, label: employeeLabel }]);\r\n            }\r\n        } else {\r\n            onChange({ value: employee.employeeId, label: employeeLabel });\r\n            setIsOpen(false);\r\n        }\r\n    };\r\n\r\n    const toggleDropdown = () => {\r\n        if (!disabled) setIsOpen(!isOpen);\r\n    };\r\n\r\n    const safeEmployees = Array.isArray(employees) ? employees : [];\r\n\r\n    const filteredEmployees = safeEmployees.filter(emp => {\r\n        const displayName = emp.displayName || (emp.firstName + ' ' + emp.lastName);\r\n        return (\r\n            displayName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            emp.employeeId?.toLowerCase().includes(searchTerm.toLowerCase())\r\n        );\r\n    });\r\n\r\n    const renderSelectedValue = () => {\r\n        const defaultPlaceholder = placeholder || (isMulti ? 'Select team members...' : 'Select an employee...');\r\n\r\n        if (isMulti) {\r\n            const currentValues = Array.isArray(value) ? value : [];\r\n            if (currentValues.length === 0) return <span className={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>{defaultPlaceholder}</span>;\r\n            return (\r\n                <div className=\"flex flex-wrap gap-1\">\r\n                    {currentValues.map(item => (\r\n                        <div key={item.value} className={`text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full ${theme === 'dark' ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800'}`}>\r\n                            {item.label}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            );\r\n        } else {\r\n            if (!value) return <span className={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>{defaultPlaceholder}</span>;\r\n            return <span>{value.label}</span>;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative\" ref={dropdownRef}>\r\n            <div onClick={toggleDropdown}\r\n                // Adjusted styling to match InputField\r\n                className={`w-full px-3 sm:px-4 py-2 sm:py-3 border-2 rounded-lg transition-all duration-300 cursor-pointer flex items-center justify-between text-sm\r\n                    focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ${\r\n                    error ? 'border-red-300 bg-red-50' : (theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500' : 'border-gray-200 bg-white hover:border-gray-300')\r\n                } ${disabled ? 'opacity-50' : ''}`}\r\n            >\r\n                <div className=\"flex-1\">{renderSelectedValue()}</div>\r\n                <FaChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''} ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </div>\r\n             {error && <p className=\"text-red-500 text-xs mt-1\">{error}</p>}\r\n            <AnimatePresence>\r\n                {isOpen && !disabled && (\r\n                    <motion.div initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -10 }} className={`absolute top-full left-0 right-0 mt-2 border rounded-lg shadow-lg z-50 ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-white border-gray-200'}`}>\r\n                        <div className=\"p-2 border-b border-gray-200 dark:border-gray-600\">\r\n                            <div className=\"relative\">\r\n                                <FaSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                                <input type=\"text\" placeholder=\"Search employees...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className={`w-full pl-10 pr-4 py-2 border rounded-lg text-sm ${theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'}`} />\r\n                            </div>\r\n                        </div>\r\n                        <div\r\n                            className=\"max-h-60 overflow-y-auto\"\r\n                            ref={scrollAreaRef}\r\n                            onScroll={handleScroll}\r\n                        >\r\n                            {filteredEmployees.length > 0 ? (\r\n                                filteredEmployees.map(employee => {\r\n                                    const isSelected = isMulti ? (Array.isArray(value) && value.some(item => item.value === employee.employeeId)) : value?.value === employee.employeeId;\r\n                                    const displayName = employee.displayName || (employee.firstName + ' ' + employee.lastName);\r\n                                    return (\r\n                                        <div key={employee.employeeId} onClick={() => handleSelect(employee)} className={`p-3 cursor-pointer flex items-center justify-between ${isSelected ? 'bg-blue-50 dark:bg-blue-900/50' : `hover:${theme === 'dark' ? 'bg-gray-600' : 'bg-gray-50'}`}`}>\r\n                                            <div className={theme === 'dark' ? 'text-white' : 'text-gray-900'}>\r\n                                                <div className=\"font-medium text-sm\">{displayName}</div>\r\n                                                <div className={`text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>{employee.employeeId}</div>\r\n                                            </div>\r\n                                            {isSelected && <IoCheckmarkCircle className=\"w-5 h-5 text-blue-500\" />}\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            ) : searchTerm ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No employees matching \"{searchTerm}\"\r\n                                </div>\r\n                            ) : loading && employees.length === 0 ? (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading employees...\r\n                                </div>\r\n                            ) : (\r\n                                <div className={`p-4 text-center text-sm ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n                                    No employees found.\r\n                                </div>\r\n                            )}\r\n\r\n                            {loading && employees.length > 0 && (\r\n                                <div className={`p-2 text-center text-sm ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                    Loading more employees...\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {allDataLoaded && employees.length > 0 && (\r\n                            <div className={`p-2 border-t text-center text-xs font-medium ${theme === 'dark' ? 'text-gray-500 border-gray-600' : 'text-gray-400 border-gray-200'}`}>\r\n                                 All employees loaded\r\n                            </div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Loading and Error Components\r\nconst LoadingSpinner = () => (\r\n    <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-16 w-16 sm:h-32 sm:w-32 border-t-2 border-b-2 border-blue-500\"></div>\r\n    </div>\r\n);\r\n\r\nconst ErrorDisplay = ({ message }) => (\r\n    <div className=\"text-center p-6 sm:p-8 bg-red-100 text-red-700 rounded-lg\">\r\n        <h3 className=\"font-bold text-base sm:text-lg\">Oops! Something went wrong.</h3>\r\n        <p className=\"text-sm sm:text-base\">{message}</p>\r\n    </div>\r\n);\r\n\r\n// Main AllTeams Component\r\nconst AllTeams = () => {\r\n    const [teams, setTeams] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n    const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n    const [selectedTeam, setSelectedTeam] = useState(null);\r\n    const [expandedTeams, setExpandedTeams] = useState(new Set());\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [matchedArray, setMatchedArray] = useState(null);\r\n    const [isRightSidebarOpen, setIsRightSidebarOpen] = useState(false);\r\n    const [displayMode, setDisplayMode] = useState('MY_TEAMS');\r\n    const [adminallteams, setAdminAllTeams] = useState([]);\r\n\r\n    // Form state\r\n    const [teamName, setTeamName] = useState('');\r\n    const [employeeRoles, setEmployeeRoles] = useState({}); // Stores {employeeId: role}\r\n    const [selectedProject, setSelectedProject] = useState(null);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [formErrors, setFormErrors] = useState({});\r\n\r\n    // Fetch employee list once for the modal\r\n    const { employees: allEmployees, loading: employeesLoading } = useEmployeeList();\r\n\r\n    // Notification state\r\n    const [notification, setNotification] = useState({\r\n        isOpen: false,\r\n        type: '',\r\n        title: '',\r\n        message: ''\r\n    });\r\n\r\n    const { userData, theme } = useContext(Context);\r\n    const userRoles = userData?.roles || [];\r\n\r\n    const location = useLocation();\r\n    const searchParams = new URLSearchParams(location.search);\r\n    const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n    const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n    const employeeIdToFetch = fromContextMenu && targetEmployeeId ? targetEmployeeId : userData?.employeeId;\r\n\r\n    const loggedinuserRole = userData?.roles[0]\r\n        ? `ROLE_${userData.roles[0]}`\r\n        : null;\r\n\r\n    // Custom notification handlers\r\n    const showNotification = (type, title, message) => {\r\n        setNotification({\r\n            isOpen: true,\r\n            type,\r\n            title,\r\n            message\r\n        });\r\n    };\r\n\r\n    const closeNotification = () => {\r\n        setNotification({\r\n            isOpen: false,\r\n            type: '',\r\n            title: '',\r\n            message: ''\r\n        });\r\n    };\r\n\r\n    const toggleTeamExpansion = (teamId) => {\r\n        const newExpandedTeams = new Set(expandedTeams);\r\n        if (newExpandedTeams.has(teamId)) {\r\n            newExpandedTeams.delete(teamId);\r\n        } else {\r\n            newExpandedTeams.add(teamId);\r\n        }\r\n        setExpandedTeams(newExpandedTeams);\r\n    };\r\n\r\n    const isTeamExpanded = (teamId) => expandedTeams.has(teamId);\r\n\r\n    const fetchTeams = async () => {\r\n        try {\r\n            setLoading(true);\r\n\r\n            if (!employeeIdToFetch) {\r\n                setError(\"Employee ID not found. Please login again.\");\r\n                return;\r\n            }\r\n\r\n            console.log(`[API CALL - fetchTeams] Fetching teams for employee: ${employeeIdToFetch}`);\r\n            const response = await publicinfoApi.get(`employee/team/${employeeIdToFetch}`);\r\n            console.log('[API SUCCESS - fetchTeams] Teams fetched:', response.data);\r\n\r\n            const teamsArray = Array.isArray(response.data) ? response.data : [response.data];\r\n            setTeams(teamsArray || []);\r\n            setError(null);\r\n        } catch (err) {\r\n            console.error('[API ERROR - fetchTeams] Error fetching teams:', err.response?.data || err.message);\r\n            setError(`Could not fetch teams data for employee ${employeeIdToFetch}.`);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchAdminAllTeams = async () => {\r\n        if (!matchedArray || !matchedArray.includes(\"ADMIN_FETCHING_ALLTEAMS\")) {\r\n            setAdminAllTeams([]);\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setAdminAllTeams([]);\r\n\r\n        try {\r\n            console.log(\"[API CALL - fetchAdminAllTeams] Fetching all teams for admin view.\");\r\n            let response = await publicinfoApi.get(\r\n                \"employee/0/19/teamId/asc/teams\"\r\n            );\r\n\r\n            const teamsData = response.data.content;\r\n            setAdminAllTeams(teamsData);\r\n            console.log(\"Admin Fetched Teams (ALL_TEAMS view) \", teamsData);\r\n            setError(null);\r\n        } catch (error) {\r\n            console.error(\"[API ERROR - fetchAdminAllTeams] Error From Admin Fetching All Teams \", error.response?.data || error.message);\r\n            setAdminAllTeams([]);\r\n            setError('Failed to load all teams directory.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if(loggedinuserRole) {\r\n            let fetchForPermissionArray = async () => {\r\n                try {\r\n                    console.log(`[API CALL - fetchForPermissionArray] Fetching role access for role: ${loggedinuserRole}`);\r\n                    let response = await authApi.get(`role-access/${loggedinuserRole}`);\r\n                    console.log('[API SUCCESS - fetchForPermissionArray] Role permissions fetched:', response.data);\r\n                    setMatchedArray(response?.data?.permissions);\r\n                } catch (error) {\r\n                    console.error(\"[API ERROR - fetchForPermissionArray] Error from Fetching Error matching Objects:\", error.response?.data || error.message);\r\n                }\r\n            }\r\n            fetchForPermissionArray();\r\n        }\r\n    },[loggedinuserRole]);\r\n\r\n    useEffect(() => {\r\n        if (displayMode === 'MY_TEAMS') {\r\n            fetchTeams();\r\n        } else if (displayMode === 'ALL_TEAMS') {\r\n            fetchAdminAllTeams();\r\n        }\r\n    }, [displayMode, employeeIdToFetch, matchedArray]);\r\n\r\n    const currentDataSource = displayMode === 'MY_TEAMS' ? teams : adminallteams;\r\n\r\n    const validateForm = () => {\r\n        const errors = {};\r\n        if (!teamName.trim()) errors.teamName = \"Team Name is required.\";\r\n\r\n        const selectedIds = Object.keys(employeeRoles);\r\n        if (selectedIds.length === 0) {\r\n            errors.teamMembers = \"At least one Team Member is required.\";\r\n        } else {\r\n            // Check if any selected member has an empty role\r\n            const hasEmptyRole = selectedIds.some(id => !employeeRoles[id]?.trim());\r\n            if (hasEmptyRole) {\r\n                errors.teamMembers = \"All selected members must have a role.\";\r\n            }\r\n        }\r\n        if (!selectedProject) errors.selectedProject = \"Project selection is required.\";\r\n        setFormErrors(errors);\r\n        return Object.keys(errors).length === 0;\r\n    };\r\n\r\n    // New handlers for inline role assignment\r\n    const toggleEmployeeSelection = (employeeId) => {\r\n        setEmployeeRoles(prev => {\r\n            const newRoles = { ...prev };\r\n            if (newRoles.hasOwnProperty(employeeId)) {\r\n                delete newRoles[employeeId];\r\n            } else {\r\n                newRoles[employeeId] = ''; // Initialize with empty role\r\n            }\r\n            return newRoles;\r\n        });\r\n    };\r\n\r\n    const handleRoleChange = (employeeId, role) => {\r\n        setEmployeeRoles(prev => ({\r\n            ...prev,\r\n            [employeeId]: role\r\n        }));\r\n    };\r\n\r\n    const handleCreateTeam = async (e) => {\r\n        e.preventDefault();\r\n        if (!validateForm()) return;\r\n\r\n        setIsSubmitting(true);\r\n        setFormErrors({});\r\n\r\n        // --- MODIFIED PAYLOAD TO MATCH USER'S REQUESTED STRUCTURE ---\r\n        const newTeamData = {\r\n            teamName: teamName,\r\n            teamDescription: \"Default Description\",\r\n            projectId: selectedProject?.value,\r\n            employeeRoles: employeeRoles // Sending the key/value map directly\r\n        };\r\n        // -----------------------------------------------------------\r\n\r\n        try {\r\n            console.log('[API CALL - handleCreateTeam] Creating new team with data (JSON format):', newTeamData);\r\n            \r\n            // Log the payload in a stringified JSON format for easy copy/paste verification\r\n            console.log('--- API Payload JSON START ---');\r\n            console.log(JSON.stringify(newTeamData, null, 2));\r\n            console.log('--- API Payload JSON END ---');\r\n            \r\n            const response = await publicinfoApi.post('employee/team', newTeamData);\r\n            console.log('[API SUCCESS - handleCreateTeam] Team created successfully. Response:', response.data);\r\n\r\n            if (displayMode === 'MY_TEAMS') {\r\n                await fetchTeams();\r\n            } else {\r\n                await fetchAdminAllTeams();\r\n            }\r\n\r\n            setIsCreateModalOpen(false);\r\n            setTeamName('');\r\n            setEmployeeRoles({}); // Reset the new state\r\n            setSelectedProject(null);\r\n            showNotification('success', 'Team Created Successfully!', 'The new team has been created successfully.');\r\n        } catch (err) {\r\n            console.error('[API ERROR - handleCreateTeam] Failed to create team:', err.response?.data || err.message);\r\n            setFormErrors({ general: err.response?.data?.message || 'Failed to create team. Please check the data and try again.' });\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const handleDeleteClick = (team) => {\r\n        setSelectedTeam(team);\r\n        setIsDeleteModalOpen(true);\r\n    };\r\n\r\n    const confirmDelete = async () => {\r\n        if (!selectedTeam) return;\r\n\r\n        setIsSubmitting(true);\r\n\r\n        try {\r\n            console.log(`[API CALL - confirmDelete] Deleting team with ID: ${selectedTeam.teamId}`);\r\n            await publicinfoApi.delete(`employee/${selectedTeam.teamId}/team`);\r\n            console.log('[API SUCCESS - confirmDelete] Team deleted successfully.');\r\n\r\n            if (displayMode === 'MY_TEAMS') {\r\n                setTeams(teams.filter(t => t.teamId !== selectedTeam.teamId));\r\n            } else if (displayMode === 'ALL_TEAMS') {\r\n                setAdminAllTeams(adminallteams.filter(t => t.teamId !== selectedTeam.teamId));\r\n            }\r\n\r\n            setIsDeleteModalOpen(false);\r\n            setSelectedTeam(null);\r\n            showNotification('success', 'Team Deleted Successfully!', 'The team has been deleted successfully.');\r\n        } catch (err) {\r\n            console.error('[API ERROR - confirmDelete] Failed to delete team:', err.response?.data || err.message);\r\n            showNotification('error', 'Delete Failed', 'Failed to delete team. Please try again.');\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const resetCreateModalState = () => {\r\n        setIsCreateModalOpen(false);\r\n        setTeamName('');\r\n        setEmployeeRoles({});\r\n        setSelectedProject(null);\r\n        setFormErrors({});\r\n    };\r\n\r\n    const renderCreateTeamModal = () => {\r\n        if (!isCreateModalOpen) return null;\r\n\r\n        return (\r\n            <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4\">\r\n                <div className={`rounded-2xl sm:rounded-3xl w-full max-w-sm sm:max-w-md lg:max-w-2xl max-h-[95vh] overflow-hidden shadow-2xl flex flex-col ${\r\n                    theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n                }`}>\r\n                    <div className=\"px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r from-blue-500 to-indigo-700 text-white relative\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div className=\"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1\">\r\n                                <div className=\"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl flex-shrink-0\">\r\n                                    <FaUsers className=\"w-6 h-6 sm:w-8 sm:h-8\" />\r\n                                </div>\r\n                                <div className=\"min-w-0 flex-1\">\r\n                                    <h2 className=\"text-lg sm:text-xl md:text-2xl font-bold break-words\">Create New Team</h2>\r\n                                    <p className=\"text-white/90 text-xs sm:text-sm break-words\">Organize employees into a new team and define their roles.</p>\r\n                                </div>\r\n                            </div>\r\n                            <button onClick={resetCreateModalState} className=\"p-2 sm:p-3 hover:bg-white/20 rounded-full transition-all group flex-shrink-0\">\r\n                                <FaTimes className=\"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"overflow-y-auto flex-grow\">\r\n                        <form className=\"p-4 sm:p-6 md:p-8\" onSubmit={handleCreateTeam}>\r\n                            <div className=\"grid grid-cols-1 gap-4 sm:gap-6\">\r\n\r\n                                {/* Team Name - Uses InputField */}\r\n                                <div>\r\n                                    <InputField\r\n                                        name=\"teamName\"\r\n                                        label=\"Team Name\"\r\n                                        type=\"text\"\r\n                                        required={true}\r\n                                        placeholder=\"e.g., Development Team\"\r\n                                        value={teamName}\r\n                                        onChange={(e) => setTeamName(e.target.value)}\r\n                                        isError={formErrors.teamName}\r\n                                        theme={theme}\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Project - Uses ProjectDropdown */}\r\n                                <div>\r\n                                    <label className={`block text-xs sm:text-sm font-semibold mb-2 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                        Project <span className=\"text-red-500\">*</span>\r\n                                    </label>\r\n                                    <ProjectDropdown\r\n                                        value={selectedProject}\r\n                                        onChange={setSelectedProject}\r\n                                        theme={theme}\r\n                                        error={formErrors.selectedProject}\r\n                                    />\r\n                                    {formErrors.selectedProject && <p className=\"text-red-500 text-xs mt-1\">{formErrors.selectedProject}</p>}\r\n                                </div>\r\n\r\n                                {/* Team Members with Inline Role Inputs */}\r\n                                <div>\r\n                                    <label className={`block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                        Team Members <span className=\"text-red-500\">*</span>\r\n                                    </label>\r\n\r\n                                    <div className={`max-h-80 overflow-y-auto p-2 border-2 rounded-lg sm:rounded-xl\r\n                                        ${theme === 'dark' ? 'border-gray-600 bg-gray-700' : 'border-gray-200 bg-gray-50'}`}>\r\n                                        {employeesLoading ? (\r\n                                            <div className=\"text-center py-3 text-sm text-gray-500\">Loading employees...</div>\r\n                                        ) : allEmployees.length === 0 ? (\r\n                                            <div className=\"text-center py-3 text-sm text-gray-500\">No employees found.</div>\r\n                                        ) : (\r\n                                            allEmployees.map(emp => {\r\n                                                const isSelected = employeeRoles.hasOwnProperty(emp.employeeId);\r\n                                                return (\r\n                                                    <div key={emp.employeeId} className=\"py-2 border-b border-gray-200 dark:border-gray-600 last:border-0\">\r\n                                                        <label className=\"flex items-start cursor-pointer\">\r\n                                                            <input\r\n                                                                type=\"checkbox\"\r\n                                                                checked={isSelected}\r\n                                                                onChange={() => toggleEmployeeSelection(emp.employeeId)}\r\n                                                                className=\"mt-1 mr-3 h-4 w-4 text-blue-600 rounded focus:ring-blue-500\"\r\n                                                            />\r\n                                                            <div className=\"flex-1 min-w-0\">\r\n                                                                <div className={`font-medium ${theme === 'dark' ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                                                                    {emp.displayName || (emp.firstName + ' ' + emp.lastName)}\r\n                                                                </div>\r\n                                                                <div className={`text-xs ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                                                    {emp.employeeId}\r\n                                                                </div>\r\n                                                                {isSelected && (\r\n                                                                    <div className=\"mt-2\">\r\n                                                                        <input\r\n                                                                            type=\"text\"\r\n                                                                            value={employeeRoles[emp.employeeId] || ''}\r\n                                                                            onChange={(e) => handleRoleChange(emp.employeeId, e.target.value)}\r\n                                                                            placeholder=\"Enter role (e.g., Backend, Lead, QA)\"\r\n                                                                            className={`w-full px-3 py-1.5 text-sm border rounded-lg\r\n                                                                                ${theme === 'dark'\r\n                                                                                    ? 'bg-gray-600 border-gray-500 text-white'\r\n                                                                                    : 'bg-white border-gray-300 text-gray-800'}\r\n                                                                                focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none`}\r\n                                                                        />\r\n                                                                    </div>\r\n                                                                )}\r\n                                                            </div>\r\n                                                        </label>\r\n                                                    </div>\r\n                                                );\r\n                                            })\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    {formErrors.teamMembers && (\r\n                                        <div className=\"mt-2 flex items-center space-x-2 text-red-600\">\r\n                                            <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n                                            <p className=\"text-xs sm:text-sm font-medium\">{formErrors.teamMembers}</p>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {formErrors.general && (\r\n                                <div className={`mt-4 sm:mt-6 p-3 sm:p-4 border-l-4 border-red-400 rounded-r-lg ${theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'}`}>\r\n                                    <div className=\"flex items-center\">\r\n                                        <IoWarning className=\"w-4 h-4 sm:w-5 sm:h-5 text-red-400 mr-3 flex-shrink-0\" />\r\n                                        <p className={`font-medium text-sm ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>{formErrors.general}</p>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </form>\r\n                    </div>\r\n\r\n                    <div className={`px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 ${theme === 'dark' ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'}`}>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={resetCreateModalState}\r\n                            className={`w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg font-semibold transition-all text-sm ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-600' : 'border-gray-300 text-gray-700 hover:bg-gray-100'}`}\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={handleCreateTeam}\r\n                            disabled={isSubmitting}\r\n                            className={`w-full sm:w-auto px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white font-bold rounded-lg\r\n                                hover:shadow-lg transform hover:scale-105 transition-all flex items-center justify-center space-x-2 text-sm\r\n                                ${isSubmitting ? 'cursor-not-allowed opacity-75' : ''}`}\r\n                        >\r\n                            {isSubmitting ? (\r\n                                <>\r\n                                    <div className=\"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                                    <span>Creating...</span>\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <IoCheckmarkCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                                    <span>Create Team</span>\r\n                                </>\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const handleMyTeamsClick = () => {\r\n        setDisplayMode('MY_TEAMS');\r\n        setIsRightSidebarOpen(false);\r\n    };\r\n\r\n    const handleAllTeamsClick = () => {\r\n        setDisplayMode('ALL_TEAMS');\r\n        setIsRightSidebarOpen(false);\r\n        fetchAdminAllTeams();\r\n    };\r\n\r\n    const renderContent = () => {\r\n        const isMyTeamsMode = displayMode === 'MY_TEAMS';\r\n        const teamTitle = isMyTeamsMode ? 'My Teams' : 'All Teams';\r\n\r\n        if (loading) {\r\n            return <LoadingSpinner />;\r\n        }\r\n\r\n        if (error && isMyTeamsMode) {\r\n            return <ErrorDisplay message={error} />;\r\n        }\r\n\r\n        const teamsToRenderAfterSearch = (Array.isArray(currentDataSource) ? currentDataSource : []).filter(team =>\r\n            team.teamName && team.teamName.toLowerCase().includes(searchTerm.toLowerCase())\r\n        );\r\n\r\n        if (teamsToRenderAfterSearch.length === 0) {\r\n            return (\r\n                <div className=\"text-center py-12 sm:py-16 px-4\">\r\n                    <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${\r\n                        theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100'\r\n                    }`}>\r\n                        <FaUsers className={`w-8 h-8 sm:w-10 sm:h-10 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} />\r\n                    </div>\r\n                    <h2 className={`text-lg sm:text-xl font-bold mb-2 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                        {searchTerm ? `No Teams Found matching \"${searchTerm}\"` : `${teamTitle} Not Available`}\r\n                    </h2>\r\n                    <p className={`text-sm sm:text-base mb-4 max-w-md mx-auto ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                        {isMyTeamsMode\r\n                            ? 'You are not part of any teams yet. Ask your manager to add you.'\r\n                            : 'No teams are currently listed in the directory or unable to fetch directory data.'\r\n                        }\r\n                    </p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mx-4 sm:mx-0\">\r\n                    {teamsToRenderAfterSearch.map((team, index) => {\r\n                        const teamId = team.teamId || index;\r\n                        const isExpanded = isTeamExpanded(teamId);\r\n\r\n                        const leadOrManager = team.employees?.find(emp => emp.jobTitlePrimary === 'TEAM_LEAD' || emp.jobTitlePrimary === 'MANAGER');\r\n                        const otherMembers = team.employees?.filter(emp => emp !== leadOrManager) || [];\r\n\r\n                        const membersToShow = isExpanded ? otherMembers : otherMembers.slice(0, 4);\r\n                        const hasMoreMembers = otherMembers.length > 4;\r\n\r\n                        const membersToDisplay = leadOrManager ? [leadOrManager, ...membersToShow] : membersToShow;\r\n\r\n                        return (\r\n                            <div key={teamId} className={`rounded-none sm:rounded-lg shadow-lg overflow-hidden border transition-shadow duration-300 flex flex-col ${theme === 'dark' ? 'bg-gray-800 border-gray-700 hover:shadow-blue-500/20' : 'bg-white border-gray-200 hover:shadow-xl'}`}>\r\n                                <div className=\"p-4 sm:p-5\">\r\n                                    <div className=\"flex justify-between items-start\">\r\n                                        <div className=\"flex-1 min-w-0\">\r\n                                            <h2 className={`text-lg sm:text-xl font-bold break-words ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>\r\n                                                {team.teamName}\r\n                                            </h2>\r\n                                            {leadOrManager && (\r\n                                                <div className={`flex items-center text-sm sm:text-md mt-2 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                                                    <FaUserShield className=\"mr-2 text-green-500 flex-shrink-0\" />\r\n                                                    <strong>{leadOrManager.jobTitlePrimary}:</strong><span className=\"ml-1 break-words\">{leadOrManager.displayName || leadOrManager.firstName + ' ' + leadOrManager.lastName}</span>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                        <div className=\"flex space-x-2 flex-shrink-0\">\r\n                                            <Link to={`/teams/${teamId}`} title=\"View Details\" className=\"p-2 text-gray-500 hover:text-blue-500 transition-colors\">\r\n                                                <FaEye className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                            </Link>\r\n                                            {matchedArray?.includes(\"TEAM_DELETE_BTN\") && !fromContextMenu && (\r\n                                                <button onClick={() => handleDeleteClick(team)} title=\"Delete Team\" className=\"p-2 text-gray-500 hover:text-red-500 transition-colors\">\r\n                                                    <FaTrash className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className={`px-4 sm:px-5 py-3 sm:py-4 border-t mt-auto ${theme === 'dark' ? 'bg-gray-800/50 border-gray-700' : 'bg-gray-50 border-gray-200'}`}>\r\n                                    <h3 className={`font-semibold mb-2 text-sm sm:text-base ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                                        Members ({team.employees?.length || 0})\r\n                                    </h3>\r\n                                    <div className=\"space-y-2\">\r\n                                        <div className=\"flex flex-wrap gap-1 sm:gap-2\">\r\n                                            {membersToDisplay?.map(member => {\r\n                                                const displayName = member.displayName || (member.firstName + ' ' + member.lastName);\r\n                                                const isYou = member.employeeId === employeeIdToFetch;\r\n                                                const isLead = member.jobTitlePrimary === 'TEAM_LEAD' || member.jobTitlePrimary === 'MANAGER';\r\n\r\n                                                let tagClass;\r\n                                                if (isYou) {\r\n                                                    tagClass = theme === 'dark' ? 'bg-green-900 text-green-300' : 'bg-green-100 text-green-800';\r\n                                                } else if (isLead) {\r\n                                                    tagClass = theme === 'dark' ? 'bg-indigo-900 text-indigo-300' : 'bg-indigo-100 text-indigo-800';\r\n                                                } else {\r\n                                                    tagClass = theme === 'dark' ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800';\r\n                                                }\r\n\r\n                                                return (\r\n                                                    <span key={member.employeeId} className={`text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full break-words ${tagClass}`}>\r\n                                                        {displayName}\r\n                                                        {isYou && ' (You)'}\r\n                                                        {isLead && !isYou && ` (${member.jobTitlePrimary})`}\r\n                                                    </span>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                        {hasMoreMembers && (\r\n                                            <button\r\n                                                onClick={() => toggleTeamExpansion(teamId)}\r\n                                                className=\"flex items-center space-x-1 text-xs sm:text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors\"\r\n                                            >\r\n                                                {isExpanded ? (\r\n                                                    <><span>Show Less</span><FaChevronUp className=\"w-3 h-3\" /></>\r\n                                                ) : (\r\n                                                    <><span>+{otherMembers.length - 4} more</span><FaChevronDown className=\"w-3 h-3\" /></>\r\n                                                )}\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n\r\n    const hasAdminPermissions = matchedArray && matchedArray.includes(\"ADMIN_FETCHING_ALLTEAMS\");\r\n\r\n    return (\r\n        <div className={`relative flex min-h-screen ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n\r\n            {hasAdminPermissions && !isRightSidebarOpen && (\r\n                <button\r\n                    onClick={() => setIsRightSidebarOpen(true)}\r\n                    className=\"fixed right-0 top-1/2 -translate-y-1/2 p-2 rounded-l-lg bg-indigo-600 text-white shadow-lg z-50 hover:bg-indigo-700 transition-colors\"\r\n                    aria-label=\"Open Navigation Sidebar\"\r\n                    title=\"Open Navigation\"\r\n                >\r\n                    <FaChevronLeft size={24} />\r\n                </button>\r\n            )}\r\n\r\n            <div className={`flex-1 transition-all duration-300 ${isRightSidebarOpen ? 'lg:mr-60' : 'mr-0'}`}>\r\n                <div className={`px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8`}>\r\n                    {fromContextMenu && targetEmployeeId && (\r\n                        <div className={`mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-xl border-l-4 border-blue-500 shadow-md flex items-center space-x-3 ${theme === 'dark' ? 'bg-blue-900/20 text-blue-300' : 'bg-blue-50 text-blue-800'}`}>\r\n                            <FaEye className=\"flex-shrink-0\" />\r\n                            <p className=\"font-semibold text-sm sm:text-base break-words\">\r\n                                 Viewing teams for employee: <span className=\"font-mono\">{targetEmployeeId}</span>\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 sm:mb-6 gap-4 mx-4 sm:mx-0\">\r\n                        <h1 className={`text-xl sm:text-2xl md:text-3xl font-bold flex items-center ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n                            <FaUsers className=\"mr-2 sm:mr-3 text-blue-500\" />\r\n                            {displayMode === 'MY_TEAMS' ? 'My Teams' : (fromContextMenu ? 'Employee Teams' : 'All Teams')}\r\n                        </h1>\r\n                        <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 w-full md:w-auto\">\r\n                            <div className=\"relative w-full sm:w-64\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Search by team name...\"\r\n                                    value={searchTerm}\r\n                                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                                    className={`w-full pl-8 sm:pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/30 transition-colors text-sm ${theme === 'dark' ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-800 placeholder-gray-500'}`}\r\n                                />\r\n                                <FaSearch className={`absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`} />\r\n                            </div>\r\n                            {matchedArray?.includes(\"CREATE_TEAM\") && !fromContextMenu && (\r\n                                <button\r\n                                    onClick={() => setIsCreateModalOpen(true)}\r\n                                    className=\"w-full sm:w-auto bg-black text-white px-4 sm:px-5 py-2 rounded-lg font-semibold hover:bg-gray-800 transition-colors flex items-center justify-center shadow-md text-sm\"\r\n                                >\r\n                                    <FaPlus className=\"mr-2\" /> Create Team\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {renderContent()}\r\n\r\n                    {renderCreateTeamModal()}\r\n\r\n                    <ConfirmationModal\r\n                        isOpen={isDeleteModalOpen}\r\n                        onClose={() => setIsDeleteModalOpen(false)}\r\n                        onConfirm={confirmDelete}\r\n                        title=\"Delete Team\"\r\n                        message={`Are you sure you want to delete the team \"${selectedTeam?.teamName}\"? This action cannot be undone.`}\r\n                        confirmText=\"Delete\"\r\n                        isConfirming={isSubmitting}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {hasAdminPermissions && (\r\n                <aside\r\n                    className={`fixed top-16 right-0 h-[calc(100vh-4rem)] border-l transition-all duration-300 z-50 flex flex-col ${\r\n                        isRightSidebarOpen ? 'w-60 translate-x-0' : 'w-0 translate-x-full'\r\n                    } ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}\r\n                >\r\n                    {isRightSidebarOpen && (\r\n                        <button\r\n                            onClick={() => setIsRightSidebarOpen(false)}\r\n                            className=\"absolute -left-12 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition-colors z-50 hidden md:block\"\r\n                            aria-label=\"Close Navigation Sidebar\"\r\n                            title=\"Close Navigation\"\r\n                        >\r\n                            <FaChevronRight size={24} />\r\n                        </button>\r\n                    )}\r\n\r\n                    <div className=\"p-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-700\">\r\n                        <h3 className={`text-lg font-bold ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Navigation</h3>\r\n                        <button\r\n                            onClick={() => setIsRightSidebarOpen(false)}\r\n                            className={`p-1 rounded-full ${theme === 'dark' ? 'text-gray-400 hover:text-white hover:bg-gray-700' : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'}`}\r\n                            title=\"Close Sidebar\"\r\n                        >\r\n                            <FaTimes size={18} />\r\n                        </button>\r\n                    </div>\r\n                    <nav className=\"flex-1 overflow-y-auto p-4 space-y-2\">\r\n                        <button\r\n                            onClick={handleMyTeamsClick}\r\n                            className={`w-full text-left py-2 px-3 rounded-lg font-medium flex items-center transition-colors ${\r\n                                displayMode === 'MY_TEAMS'\r\n                                    ? 'bg-blue-600 text-white'\r\n                                    : theme === 'dark'\r\n                                    ? 'text-gray-300 hover:bg-gray-700 hover:text-white'\r\n                                    : 'text-gray-700 hover:bg-gray-200'\r\n                            }`}\r\n                        >\r\n                            <FaUsers className=\"mr-2\" size={16} />\r\n                            My Teams\r\n                        </button>\r\n                        <button\r\n                            onClick={handleAllTeamsClick}\r\n                            className={`w-full text-left py-2 px-3 rounded-lg font-medium flex items-center transition-colors ${\r\n                                displayMode === 'ALL_TEAMS'\r\n                                    ? 'bg-blue-600 text-white'\r\n                                    : theme === 'dark'\r\n                                    ? 'text-gray-300 hover:bg-gray-700 hover:text-white'\r\n                                    : 'text-gray-700 hover:bg-gray-200'\r\n                            }`}\r\n                        >\r\n                            <FaUsers className=\"mr-2\" size={16} />\r\n                            All Teams\r\n                        </button>\r\n                    </nav>\r\n                </aside>\r\n            )}\r\n\r\n            {isRightSidebarOpen && (\r\n                <div\r\n                    className=\"fixed inset-0 bg-black/50 z-40 lg:hidden\"\r\n                    onClick={() => setIsRightSidebarOpen(false)}\r\n                />\r\n            )}\r\n\r\n            {/* Custom Notification */}\r\n            <CustomNotification\r\n                isOpen={notification.isOpen}\r\n                onClose={closeNotification}\r\n                type={notification.type}\r\n                title={notification.title}\r\n                message={notification.message}\r\n                theme={theme}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AllTeams;","import * as React from 'react';\n\n/**\n * Taken from https://github.com/radix-ui/primitives/blob/main/packages/react/compose-refs/src/compose-refs.tsx\n */\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        return ref(value);\n    }\n    else if (ref !== null && ref !== undefined) {\n        ref.current = value;\n    }\n}\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs(...refs) {\n    return (node) => {\n        let hasCleanup = false;\n        const cleanups = refs.map((ref) => {\n            const cleanup = setRef(ref, node);\n            if (!hasCleanup && typeof cleanup === \"function\") {\n                hasCleanup = true;\n            }\n            return cleanup;\n        });\n        // React <19 will log an error to the console if a callback ref returns a\n        // value. We don't use ref cleanups internally so this will only happen if a\n        // user's ref callback returns a value, which we only expect if they are\n        // using the cleanup functionality added in React 19.\n        if (hasCleanup) {\n            return () => {\n                for (let i = 0; i < cleanups.length; i++) {\n                    const cleanup = cleanups[i];\n                    if (typeof cleanup === \"function\") {\n                        cleanup();\n                    }\n                    else {\n                        setRef(refs[i], null);\n                    }\n                }\n            };\n        }\n    };\n}\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs(...refs) {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { useComposedRefs };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport { isHTMLElement } from 'motion-dom';\nimport * as React from 'react';\nimport { useId, useRef, useContext, useInsertionEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { useComposedRefs } from '../../utils/use-composed-ref.mjs';\n\n/**\n * Measurement functionality has to be within a separate component\n * to leverage snapshot lifecycle.\n */\nclass PopChildMeasure extends React.Component {\n    getSnapshotBeforeUpdate(prevProps) {\n        const element = this.props.childRef.current;\n        if (element && prevProps.isPresent && !this.props.isPresent) {\n            const parent = element.offsetParent;\n            const parentWidth = isHTMLElement(parent)\n                ? parent.offsetWidth || 0\n                : 0;\n            const size = this.props.sizeRef.current;\n            size.height = element.offsetHeight || 0;\n            size.width = element.offsetWidth || 0;\n            size.top = element.offsetTop;\n            size.left = element.offsetLeft;\n            size.right = parentWidth - size.width - size.left;\n        }\n        return null;\n    }\n    /**\n     * Required with getSnapshotBeforeUpdate to stop React complaining.\n     */\n    componentDidUpdate() { }\n    render() {\n        return this.props.children;\n    }\n}\nfunction PopChild({ children, isPresent, anchorX, root }) {\n    const id = useId();\n    const ref = useRef(null);\n    const size = useRef({\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n        right: 0,\n    });\n    const { nonce } = useContext(MotionConfigContext);\n    const composedRef = useComposedRefs(ref, children?.ref);\n    /**\n     * We create and inject a style block so we can apply this explicit\n     * sizing in a non-destructive manner by just deleting the style block.\n     *\n     * We can't apply size via render as the measurement happens\n     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the\n     * styles directly on the DOM node, we might be overwriting\n     * styles set via the style prop.\n     */\n    useInsertionEffect(() => {\n        const { width, height, top, left, right } = size.current;\n        if (isPresent || !ref.current || !width || !height)\n            return;\n        const x = anchorX === \"left\" ? `left: ${left}` : `right: ${right}`;\n        ref.current.dataset.motionPopId = id;\n        const style = document.createElement(\"style\");\n        if (nonce)\n            style.nonce = nonce;\n        const parent = root ?? document.head;\n        parent.appendChild(style);\n        if (style.sheet) {\n            style.sheet.insertRule(`\n          [data-motion-pop-id=\"${id}\"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            ${x}px !important;\n            top: ${top}px !important;\n          }\n        `);\n        }\n        return () => {\n            if (parent.contains(style)) {\n                parent.removeChild(style);\n            }\n        };\n    }, [isPresent]);\n    return (jsx(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size, children: React.cloneElement(children, { ref: composedRef }) }));\n}\n\nexport { PopChild };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, anchorX, root }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    let isReusedContext = true;\n    let context = useMemo(() => {\n        isReusedContext = false;\n        return {\n            id,\n            initial,\n            isPresent,\n            custom,\n            onExitComplete: (childId) => {\n                presenceChildren.set(childId, true);\n                for (const isComplete of presenceChildren.values()) {\n                    if (!isComplete)\n                        return; // can stop searching when any is incomplete\n                }\n                onExitComplete && onExitComplete();\n            },\n            register: (childId) => {\n                presenceChildren.set(childId, false);\n                return () => presenceChildren.delete(childId);\n            },\n        };\n    }, [isPresent, presenceChildren, onExitComplete]);\n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    if (presenceAffectsLayout && isReusedContext) {\n        context = { ...context };\n    }\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = (jsx(PopChild, { isPresent: isPresent, anchorX: anchorX, root: root, children: children }));\n    }\n    return (jsx(PresenceContext.Provider, { value: context, children: children }));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { Children, isValidElement } from 'react';\n\nconst getChildKey = (child) => child.key || \"\";\nfunction onlyElements(children) {\n    const filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, (child) => {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n\nexport { getChildKey, onlyElements };\n","\"use client\";\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport { useMemo, useRef, useState, useContext } from 'react';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { usePresence } from './use-presence.mjs';\nimport { onlyElements, getChildKey } from './utils.mjs';\n\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nconst AnimatePresence = ({ children, custom, initial = true, onExitComplete, presenceAffectsLayout = true, mode = \"sync\", propagate = false, anchorX = \"left\", root }) => {\n    const [isParentPresent, safeToRemove] = usePresence(propagate);\n    /**\n     * Filter any children that aren't ReactElements. We can only track components\n     * between renders with a props.key.\n     */\n    const presentChildren = useMemo(() => onlyElements(children), [children]);\n    /**\n     * Track the keys of the currently rendered children. This is used to\n     * determine which children are exiting.\n     */\n    const presentKeys = propagate && !isParentPresent ? [] : presentChildren.map(getChildKey);\n    /**\n     * If `initial={false}` we only want to pass this to components in the first render.\n     */\n    const isInitialRender = useRef(true);\n    /**\n     * A ref containing the currently present children. When all exit animations\n     * are complete, we use this to re-render the component with the latest children\n     * *committed* rather than the latest children *rendered*.\n     */\n    const pendingPresentChildren = useRef(presentChildren);\n    /**\n     * Track which exiting children have finished animating out.\n     */\n    const exitComplete = useConstant(() => new Map());\n    /**\n     * Save children to render as React state. To ensure this component is concurrent-safe,\n     * we check for exiting children via an effect.\n     */\n    const [diffedChildren, setDiffedChildren] = useState(presentChildren);\n    const [renderedChildren, setRenderedChildren] = useState(presentChildren);\n    useIsomorphicLayoutEffect(() => {\n        isInitialRender.current = false;\n        pendingPresentChildren.current = presentChildren;\n        /**\n         * Update complete status of exiting children.\n         */\n        for (let i = 0; i < renderedChildren.length; i++) {\n            const key = getChildKey(renderedChildren[i]);\n            if (!presentKeys.includes(key)) {\n                if (exitComplete.get(key) !== true) {\n                    exitComplete.set(key, false);\n                }\n            }\n            else {\n                exitComplete.delete(key);\n            }\n        }\n    }, [renderedChildren, presentKeys.length, presentKeys.join(\"-\")]);\n    const exitingChildren = [];\n    if (presentChildren !== diffedChildren) {\n        let nextChildren = [...presentChildren];\n        /**\n         * Loop through all the currently rendered components and decide which\n         * are exiting.\n         */\n        for (let i = 0; i < renderedChildren.length; i++) {\n            const child = renderedChildren[i];\n            const key = getChildKey(child);\n            if (!presentKeys.includes(key)) {\n                nextChildren.splice(i, 0, child);\n                exitingChildren.push(child);\n            }\n        }\n        /**\n         * If we're in \"wait\" mode, and we have exiting children, we want to\n         * only render these until they've all exited.\n         */\n        if (mode === \"wait\" && exitingChildren.length) {\n            nextChildren = exitingChildren;\n        }\n        setRenderedChildren(onlyElements(nextChildren));\n        setDiffedChildren(presentChildren);\n        /**\n         * Early return to ensure once we've set state with the latest diffed\n         * children, we can immediately re-render.\n         */\n        return null;\n    }\n    if (process.env.NODE_ENV !== \"production\" &&\n        mode === \"wait\" &&\n        renderedChildren.length > 1) {\n        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to \"wait\". This will lead to odd visual behaviour.`);\n    }\n    /**\n     * If we've been provided a forceRender function by the LayoutGroupContext,\n     * we can use it to force a re-render amongst all surrounding components once\n     * all components have finished animating out.\n     */\n    const { forceRender } = useContext(LayoutGroupContext);\n    return (jsx(Fragment, { children: renderedChildren.map((child) => {\n            const key = getChildKey(child);\n            const isPresent = propagate && !isParentPresent\n                ? false\n                : presentChildren === renderedChildren ||\n                    presentKeys.includes(key);\n            const onExit = () => {\n                if (exitComplete.has(key)) {\n                    exitComplete.set(key, true);\n                }\n                else {\n                    return;\n                }\n                let isEveryExitComplete = true;\n                exitComplete.forEach((isExitComplete) => {\n                    if (!isExitComplete)\n                        isEveryExitComplete = false;\n                });\n                if (isEveryExitComplete) {\n                    forceRender?.();\n                    setRenderedChildren(pendingPresentChildren.current);\n                    propagate && safeToRemove?.();\n                    onExitComplete && onExitComplete();\n                }\n            };\n            return (jsx(PresenceChild, { isPresent: isPresent, initial: !isInitialRender.current || initial\n                    ? undefined\n                    : false, custom: custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode, root: root, onExitComplete: isPresent ? undefined : onExit, anchorX: anchorX, children: child }, key));\n        }) }));\n};\n\nexport { AnimatePresence };\n"],"names":["_ref","isOpen","onClose","onConfirm","title","message","confirmText","isConfirming","theme","useContext","Context","_jsx","className","children","_jsxs","concat","style","borderColor","FaExclamationTriangle","onClick","FaTimes","disabled","_Fragment","CustomNotification","type","isVisible","setIsVisible","useState","useEffect","timer","setTimeout","handleClose","clearTimeout","getIcon","FaCheckCircle","FaInfoCircle","getTitleClass","X","size","InputField","_ref2","name","label","required","hint","placeholder","value","onChange","onBlur","isError","options","baseInputClass","map","opt","FaChevronDown","toLowerCase","IoWarning","useOutsideClick","handler","ignoreRefs","arguments","length","undefined","ref","useRef","handleClickOutside","event","isIgnored","some","r","current","contains","target","document","addEventListener","removeEventListener","ProjectDropdown","_ref3","error","setIsOpen","searchTerm","setSearchTerm","projects","setProjects","loading","setLoading","hasMoreData","setHasMoreData","currentPage","setCurrentPage","totalPages","setTotalPages","allDataLoaded","setAllDataLoaded","isFetchingRef","scrollAreaRef","dropdownRef","loadProjects","useCallback","async","page","append","_response$data","_response$data2","_response$data3","console","log","response","publicinfoApi","get","data","fetchedProjects","content","newProjects","Array","isArray","prev","last","_error$response","handleScroll","e","scrollTop","scrollHeight","clientHeight","filteredProjects","filter","proj","_proj$title","_proj$projectId","includes","projectId","toggleDropdown","AnimatePresence","motion","div","initial","opacity","y","animate","exit","FaSearch","onScroll","project","isSelected","handleSelect","client","projectStatus","IoCheckmarkCircle","LoadingSpinner","ErrorDisplay","_ref5","AllTeams","teams","setTeams","setError","isCreateModalOpen","setIsCreateModalOpen","isDeleteModalOpen","setIsDeleteModalOpen","selectedTeam","setSelectedTeam","expandedTeams","setExpandedTeams","Set","matchedArray","setMatchedArray","isRightSidebarOpen","setIsRightSidebarOpen","displayMode","setDisplayMode","adminallteams","setAdminAllTeams","teamName","setTeamName","employeeRoles","setEmployeeRoles","selectedProject","setSelectedProject","isSubmitting","setIsSubmitting","formErrors","setFormErrors","employees","allEmployees","employeesLoading","useEmployeeList","setEmployees","fetchEmployees","list","notification","setNotification","userData","location","roles","useLocation","searchParams","URLSearchParams","search","fromContextMenu","targetEmployeeId","employeeIdToFetch","employeeId","loggedinuserRole","showNotification","fetchTeams","teamsArray","err","_err$response","fetchAdminAllTeams","teamsData","_error$response3","fetchForPermissionArray","_response$data4","authApi","permissions","_error$response4","currentDataSource","handleCreateTeam","preventDefault","validateForm","errors","trim","selectedIds","Object","keys","teamMembers","id","_employeeRoles$id","newTeamData","teamDescription","JSON","stringify","post","_err$response2","_err$response3","_err$response3$data","general","resetCreateModalState","hasAdminPermissions","FaChevronLeft","FaEye","FaUsers","FaPlus","renderContent","isMyTeamsMode","teamTitle","teamsToRenderAfterSearch","team","index","_team$employees","_team$employees2","_team$employees3","teamId","isExpanded","has","isTeamExpanded","leadOrManager","find","emp","jobTitlePrimary","otherMembers","membersToShow","slice","hasMoreMembers","membersToDisplay","FaUserShield","displayName","firstName","lastName","Link","to","handleDeleteClick","FaTrash","member","isYou","isLead","tagClass","newExpandedTeams","delete","add","toggleTeamExpansion","FaChevronUp","onSubmit","hasOwnProperty","checked","toggleEmployeeSelection","newRoles","_objectSpread","handleRoleChange","role","ConfirmationModal","t","_err$response4","FaChevronRight","handleMyTeamsClick","handleAllTeamsClick","closeNotification","setRef","useComposedRefs","_len2","refs","_key2","React","_len","_key","node","hasCleanup","cleanups","cleanup","i","composeRefs","PopChildMeasure","getSnapshotBeforeUpdate","prevProps","element","this","props","childRef","isPresent","parent","offsetParent","parentWidth","isHTMLElement","offsetWidth","sizeRef","height","offsetHeight","width","top","offsetTop","left","offsetLeft","right","componentDidUpdate","render","PopChild","anchorX","root","useId","nonce","MotionConfigContext","composedRef","useInsertionEffect","x","dataset","motionPopId","createElement","head","appendChild","sheet","insertRule","removeChild","jsx","PresenceChild","onExitComplete","custom","presenceAffectsLayout","mode","presenceChildren","useConstant","newChildrenMap","isReusedContext","context","useMemo","childId","set","isComplete","values","register","forEach","_","key","PresenceContext","Provider","Map","getChildKey","child","onlyElements","filtered","Children","isValidElement","push","propagate","isParentPresent","safeToRemove","usePresence","presentChildren","presentKeys","isInitialRender","pendingPresentChildren","exitComplete","diffedChildren","setDiffedChildren","renderedChildren","setRenderedChildren","useIsomorphicLayoutEffect","join","exitingChildren","nextChildren","splice","forceRender","LayoutGroupContext","Fragment","onExit","isEveryExitComplete","isExitComplete"],"sourceRoot":""}