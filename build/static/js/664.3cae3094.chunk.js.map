{"version":3,"file":"static/js/664.3cae3094.chunk.js","mappings":"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","sources":["axiosInstance.js","TechLife/HRMS/Components/Notifications/NotificationSystem.jsx"],"sourcesContent":["import axios from 'axios';\r\n \r\nconst AUTH_API_URL = 'http://hrms.anasolconsultancyservices.com/api/auth/refresh-token';\r\n \r\nfunction cloneFormData(formData) {\r\n    const newFormData = new FormData();\r\n    for (let [key, value] of formData.entries()) {\r\n        newFormData.append(key, value);\r\n    }\r\n    return newFormData;\r\n}\r\n \r\nlet isRefreshing = false;\r\nlet failedQueue = [];\r\n \r\nconst processQueue = (error, token = null) => {\r\n    failedQueue.forEach(prom => {\r\n        if (error) {\r\n            prom.reject(error);\r\n        } else {\r\n            prom.resolve(token);\r\n        }\r\n    });\r\n    failedQueue = [];\r\n};\r\n \r\nconst createAxiosInstance = (baseURL) => {\r\n    const instance = axios.create({\r\n        baseURL: baseURL,\r\n    });\r\n \r\n   \r\n    instance.interceptors.request.use(\r\n        (config) => {\r\n            const token = localStorage.getItem('accessToken');\r\n            if (token) {\r\n                config.headers['Authorization'] = `Bearer ${token}`;\r\n            }\r\n            return config;\r\n        },\r\n        (error) => Promise.reject(error)\r\n    );\r\n \r\n    instance.interceptors.response.use(\r\n        (response) => response,\r\n        async (error) => {\r\n            const originalRequest = error.config;\r\n \r\n            if (error.response?.status === 401 && !originalRequest._retry) {\r\n                if (isRefreshing) {\r\n                    return new Promise((resolve, reject) => {\r\n                        failedQueue.push({ resolve, reject });\r\n                    })\r\n                    .then(token => {\r\n                        originalRequest.headers['Authorization'] = `Bearer ${token}`;\r\n                        return instance(originalRequest);\r\n                    })\r\n                    .catch(err => Promise.reject(err));\r\n                }\r\n \r\n                originalRequest._retry = true;\r\n                isRefreshing = true;\r\n \r\n                const oldToken = localStorage.getItem('accessToken');\r\n                console.log(`ðŸ”´ Token expired for ${baseURL}. Old Token:`, oldToken);\r\n \r\n                try {\r\n                    const refreshResponse = await axios.post(\r\n                        AUTH_API_URL,\r\n                        {},\r\n                        { withCredentials: true }\r\n                    );\r\n \r\n                    const { accessToken } = refreshResponse.data;\r\n                    localStorage.setItem('accessToken', accessToken);\r\n                    console.log(`ðŸŸ¢ New Token for ${baseURL}:`, accessToken);\r\n \r\n                    if (originalRequest.data instanceof FormData) {\r\n                        originalRequest.data = cloneFormData(originalRequest.data);\r\n                    }\r\n \r\n                    processQueue(null, accessToken);\r\n \r\n                    const newInstance = createAxiosInstance(baseURL);\r\n                    originalRequest.headers['Authorization'] = `Bearer ${accessToken}`;\r\n \r\n                    return newInstance(originalRequest);\r\n \r\n                } catch (refreshError) {\r\n                    console.error(\"Refresh token failed. Logging out.\", refreshError);\r\n                    localStorage.clear();\r\n                    window.location.href = '/login';\r\n                    processQueue(refreshError);\r\n                    return Promise.reject(refreshError);\r\n \r\n                } finally {\r\n                    isRefreshing = false;\r\n                }\r\n            }\r\n \r\n            return Promise.reject(error);\r\n        }\r\n    );\r\n \r\n    return instance;\r\n};\r\n \r\nwindow.addEventListener('storage', (event) => {\r\n    if (event.key === 'accessToken') {\r\n        console.log(\"ðŸ”„ Token updated in another tab:\", event.newValue);\r\n    }\r\n});\r\n \r\nexport const tasksApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api');\r\nexport const publicinfoApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api');\r\nexport const chatApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api');\r\nexport const notificationsApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api/notification');\r\nexport const ticketsApi = createAxiosInstance('http://localhost:8088/api/ticket')","import React, { useState, useContext, useMemo, useRef } from \"react\";\r\nimport { notificationsApi } from \"../../../../axiosInstance\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  FaBars,\r\n  FaTimes,\r\n  FaSearch,\r\n  FaEnvelope,\r\n  FaStar,\r\n  FaInbox,\r\n  FaFilter,\r\n  FaArrowLeft,\r\n  FaArrowRight,\r\n  FaCalendar,\r\n  FaChartBar,\r\n  FaMoneyBillAlt,\r\n  FaExclamationTriangle,\r\n  FaInfoCircle,\r\n  FaTimesCircle,\r\n  FaCheckCircle,\r\n  FaEraser,\r\n  FaTrashAlt,\r\n} from \"react-icons/fa\";\r\nimport { parseISO, formatDistanceToNow, format } from \"date-fns\";\r\nimport { formatInTimeZone } from \"date-fns-tz\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nconst NotificationSystem = () => {\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(\"All\");\r\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n  const [selectedNotifications, setSelectedNotifications] = useState([]);\r\n  const [fromDate, setFromDate] = useState(null);\r\n  const [toDate, setToDate] = useState(null);\r\n  const navigate = useNavigate();\r\n  const { gdata, setGdata, markAsRead, decrementUnreadCount, theme } = useContext(Context);\r\n\r\n  const fromDateRef = useRef(null);\r\n  const toDateRef = useRef(null);\r\n\r\n  // Helper functions\r\n  const toggleMobileMenu = () => setIsMobileMenuOpen(!isMobileMenuOpen);\r\n  const toggleSidebar = () => setIsSidebarCollapsed(!isSidebarCollapsed);\r\n\r\n  const handleTabClick = (tabName) => {\r\n    setActiveTab(tabName);\r\n    setIsEditMode(false);\r\n    setSelectedNotifications([]);\r\n    if (isMobileMenuOpen) {\r\n      setIsMobileMenuOpen(false);\r\n    }\r\n  };\r\n\r\n  const getKindIcon = (kind) => {\r\n    const icons = {\r\n      alert: <FaTimesCircle size={18} className=\"text-red-500\" />,\r\n      warning: <FaExclamationTriangle size={18} className=\"text-yellow-500\" />,\r\n      update: <FaInfoCircle size={18} className=\"text-blue-500\" />,\r\n    };\r\n    return icons[kind] || <FaInfoCircle size={18} className=\"text-gray-400\" />;\r\n  };\r\n\r\n  const handleStar = async (id) => {\r\n    if (isEditMode) {\r\n      handleSelectNotification(id);\r\n      return;\r\n    }\r\n\r\n    const originalGdata = [...gdata];\r\n    const notificationToUpdate = gdata.find((msg) => msg.id === id);\r\n\r\n    if (!notificationToUpdate) return;\r\n\r\n    // Optimistically update the UI to feel responsive\r\n    const updatedGdata = gdata.map((msg) =>\r\n      msg.id === id ? { ...msg, stared: !msg.stared } : msg\r\n    );\r\n    setGdata(updatedGdata);\r\n\r\n    try {\r\n      const isCurrentlyStared = notificationToUpdate.stared;\r\n      let response;\r\n\r\n      if (isCurrentlyStared) {\r\n        response = await notificationsApi.put(`/unStar/${id}`);\r\n      } else {\r\n        response = await notificationsApi.put(`/stared/${id}`);\r\n      }\r\n\r\n      console.log(`Notification ${id} star status updated successfully.`);\r\n      console.log(\"Star API response:\", response);\r\n\r\n    } catch (error) {\r\n      console.error(\"Failed to update star status:\", error);\r\n      // If the API call fails, revert the UI to the original state\r\n      setGdata(originalGdata);\r\n      alert(\"Failed to update the notification. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteSingle = async (id) => {\r\n    if (isEditMode) {\r\n      handleSelectNotification(id);\r\n      return;\r\n    }\r\n\r\n    const originalGdata = [...gdata];\r\n    const notificationToDelete = gdata.find((msg) => msg.id === id);\r\n\r\n    // Optimistically update UI\r\n    setGdata(gdata.filter((msg) => msg.id !== id));\r\n    // Decrement count if the deleted notification was unread\r\n    if (notificationToDelete && !notificationToDelete.read) {\r\n        decrementUnreadCount();\r\n    }\r\n\r\n    try {\r\n      const response = await notificationsApi.delete(`/delete/${id}`);\r\n      console.log(`Notification ${id} deleted successfully.`);\r\n      console.log(\"Delete API response:\", response);\r\n    } catch (error) {\r\n      console.error(\"Failed to delete notification:\", error);\r\n      setGdata(originalGdata); // Revert if API call fails\r\n      alert(\"Failed to delete the notification. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleSelectNotification = (id) => {\r\n    setSelectedNotifications((prev) =>\r\n      prev.includes(id) ? prev.filter((selId) => selId !== id) : [...prev, id]\r\n    );\r\n  };\r\n\r\n  const handleNotificationClick = (message) => {\r\n    if (isEditMode) {\r\n      handleSelectNotification(message.id);\r\n    } else if (message.link) {\r\n      markAsRead(message.id);\r\n      navigate(message.link);\r\n    }\r\n  };\r\n\r\n  const handleEditClick = () => {\r\n    setIsEditMode(true);\r\n    setSelectedNotifications([]);\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setIsEditMode(false);\r\n    setSelectedNotifications([]);\r\n  };\r\n\r\n  const handleDeleteSelected = async () => {\r\n    const originalGdata = [...gdata];\r\n    const idsToDelete = selectedNotifications;\r\n\r\n    // Identify which selected notifications were unread to adjust count\r\n    const unreadDeletedCount = gdata.filter(msg =>\r\n        idsToDelete.includes(msg.id) && !msg.read\r\n    ).length;\r\n\r\n    // Optimistically update UI (remove selected notifications)\r\n    setGdata(gdata.filter((msg) => !idsToDelete.includes(msg.id)));\r\n    setIsEditMode(false);\r\n    setSelectedNotifications([]);\r\n\r\n    // Decrement count based on unread items deleted\r\n    for (let i = 0; i < unreadDeletedCount; i++) {\r\n        decrementUnreadCount();\r\n    }\r\n\r\n    try {\r\n      // Assuming your backend can handle a batch delete or multiple deletes\r\n      const responses = await Promise.all(idsToDelete.map(id =>\r\n        notificationsApi.delete(`/delete/${id}`)\r\n      ));\r\n      \r\n      console.log(`Selected notifications deleted successfully.`);\r\n      console.log(\"Batch delete API responses:\", responses);\r\n    } catch (error) {\r\n      console.error(\"Failed to delete selected notifications:\", error);\r\n      setGdata(originalGdata); // Revert UI if any deletion fails\r\n      alert(\"Failed to delete selected notifications. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setFromDate(null);\r\n    setToDate(null);\r\n    setSearchQuery(\"\");\r\n    setActiveTab(\"All\");\r\n  };\r\n\r\n  const getTimeAgo = (date) => {\r\n    try {\r\n      const parsedDate = parseISO(date);\r\n      return formatDistanceToNow(parsedDate, { addSuffix: true });\r\n    } catch (error) {\r\n      console.error(\"Error parsing date for getTimeAgo:\", error);\r\n      return \"\";\r\n    }\r\n  };\r\n\r\n  const getTimestamp = (dateString) => {\r\n    try {\r\n      const timeZone = \"Asia/Kolkata\";\r\n      return formatInTimeZone(dateString, timeZone, \"MMM d, h:mm a\");\r\n    } catch (error) {\r\n      console.error(\"Error formatting date in IST:\", error);\r\n      return \"\";\r\n    }\r\n  };\r\n\r\n  // Memoized values\r\n  const unreadCount = useMemo(\r\n    () => gdata?.filter((msg) => !msg.read).length || 0,\r\n    [gdata]\r\n  );\r\n\r\n  const filteredNotifications = useMemo(() => {\r\n    let filtered = gdata || [];\r\n    const lowerCaseTab = activeTab.toLowerCase();\r\n    const lowerCaseQuery = searchQuery.toLowerCase();\r\n\r\n    if (activeTab === \"Unread\") filtered = filtered.filter((msg) => !msg.read);\r\n    else if (activeTab === \"Starred\")\r\n      filtered = filtered.filter((msg) => msg.stared);\r\n    else if (\r\n      [\"attendance\", \"leaves\", \"performance\", \"finance\"].includes(lowerCaseTab)\r\n    ) {\r\n      filtered = filtered.filter((msg) =>\r\n        msg.category?.toLowerCase().includes(lowerCaseTab)\r\n      );\r\n    }\r\n\r\n    if (searchQuery) {\r\n      filtered = filtered.filter(\r\n        (msg) =>\r\n          msg.message?.toLowerCase().includes(lowerCaseQuery) ||\r\n          msg.subject?.toLowerCase().includes(lowerCaseQuery) ||\r\n          msg.sender?.toLowerCase().includes(lowerCaseQuery)\r\n      );\r\n    }\r\n\r\n    if (fromDate) {\r\n      const fromDateObj = parseISO(fromDate);\r\n      filtered = filtered.filter(\r\n        (msg) => parseISO(msg.createdAt) >= fromDateObj\r\n      );\r\n    }\r\n\r\n    if (toDate) {\r\n      const toDateObj = parseISO(toDate);\r\n      const adjustedToDateObj = new Date(toDateObj);\r\n      adjustedToDateObj.setDate(adjustedToDateObj.getDate() + 1);\r\n      filtered = filtered.filter(\r\n        (msg) => parseISO(msg.createdAt) < adjustedToDateObj\r\n      );\r\n    }\r\n\r\n    return filtered;\r\n  }, [gdata, activeTab, searchQuery, fromDate, toDate]);\r\n\r\n  // Animation variants\r\n  const topBarVariants = {\r\n    hidden: { y: -50, opacity: 0 },\r\n    visible: {\r\n      y: 0,\r\n      opacity: 1,\r\n      transition: { type: \"spring\", stiffness: 100, damping: 10 },\r\n    },\r\n  };\r\n\r\n  const buttonVariants = {\r\n    hover: { scale: 1.05 },\r\n    tap: { scale: 0.95 },\r\n  };\r\n\r\n  // Sidebar navigation items\r\n  const sidebarItems = [\r\n    { tab: \"Leaves\", icon: FaEnvelope },\r\n    { tab: \"Performance\", icon: FaChartBar },\r\n    { tab: \"Finance\", icon: FaMoneyBillAlt },\r\n    { tab: \"Attendance\", icon: FaCalendar },\r\n  ];\r\n\r\n  return (\r\n    <div className={`w-full h-screen flex flex-col ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n      {/* Top Bar */}\r\n      <motion.div\r\n        className={`shadow-sm border-b sticky top-0 z-20 w-full ${\r\n          theme === 'dark' \r\n            ? 'bg-black border-gray-700' \r\n            : 'bg-white border-gray-200'\r\n        }`}\r\n        initial=\"hidden\"\r\n        animate=\"visible\"\r\n        variants={topBarVariants}\r\n      >\r\n        {/* Mobile Header */}\r\n        <div className={`sm:hidden py-2 flex items-center justify-between px-3 h-[50px] ${\r\n          theme === 'dark' ? 'bg-black' : 'bg-white'\r\n        }`}>\r\n          <motion.button\r\n            onClick={toggleMobileMenu}\r\n            className={`${theme === 'dark' ? 'text-white hover:text-gray-300' : 'text-gray-600 hover:text-gray-800'}`}\r\n            whileHover={{ scale: 1.1 }}\r\n            whileTap={{ scale: 0.95 }}\r\n          >\r\n            <FaBars size={18} />\r\n          </motion.button>\r\n\r\n          <div className=\"relative flex-1 mx-3\">\r\n            <FaSearch\r\n              className={`absolute left-3.5 top-1/2 transform -translate-y-1/2 ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-400'\r\n              }`}\r\n              size={14}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search...\"\r\n              className={`w-full pl-10 pr-4 py-2 text-sm rounded-full border focus:ring-2 focus:ring-indigo-200 h-[40px] ${\r\n                theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:bg-gray-700 focus:border-indigo-500'\r\n                  : 'border-gray-200 bg-gray-50 text-black placeholder-gray-500 focus:bg-white focus:border-indigo-500'\r\n              }`}\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* === DESKTOP HEADER === */}\r\n        <div className=\"hidden sm:flex items-center space-x-4 py-2 px-4 h-[60px]\">\r\n          {/* Tabs */}\r\n          <div className={`flex space-x-1 p-1 rounded-lg ${\r\n            theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'\r\n          }`}>\r\n            {[\"All\", \"Unread\", \"Starred\"].map((tab) => (\r\n              <motion.button\r\n                key={tab}\r\n                style={{ borderRadius: \"20px\" }}\r\n                onClick={() => handleTabClick(tab)}\r\n                className={`py-1 px-3 text-sm font-medium flex items-center transition-colors ${\r\n                  activeTab === tab\r\n                    ? \"bg-blue-600 text-white rounded-md\"\r\n                    : theme === 'dark'\r\n                    ? \"text-gray-300 hover:text-white\"\r\n                    : \"text-gray-600 hover:text-gray-800\"\r\n                }`}\r\n                whileHover={{ scale: 1.03 }}\r\n                whileTap={{ scale: 0.97 }}\r\n              >\r\n                {tab === \"All\" && <FaInbox className=\"mr-1.5\" size={14} />}\r\n                {tab === \"Unread\" && (\r\n                  <FaEnvelope className=\"mr-1.5\" size={14} />\r\n                )}\r\n                {tab === \"Starred\" && <FaStar className=\"mr-1.5\" size={14} />}\r\n                {tab}\r\n              </motion.button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Search Bar */}\r\n          <div className=\"relative flex-1\">\r\n            <FaSearch\r\n              className={`absolute left-4 top-1/2 transform -translate-y-1/2 ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-400'\r\n              }`}\r\n              size={15}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search notifications...\"\r\n              className={`w-full h-[36px] pl-10 pr-4 text-sm rounded-lg border focus:ring-1 focus:ring-indigo-200 ${\r\n                theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:bg-gray-700 focus:border-indigo-500'\r\n                  : 'border-gray-200 bg-white text-black placeholder-gray-500 focus:bg-white focus:border-indigo-500'\r\n              }`}\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          {/* Filters */}\r\n          <div className=\"flex items-center space-x-2\">\r\n            <button\r\n              onClick={() => fromDateRef.current?.showPicker()}\r\n              className={`flex items-center space-x-2 h-[36px] px-3 text-sm rounded-lg border transition-colors ${\r\n                theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-800 text-gray-300 hover:bg-gray-700'\r\n                  : 'border-gray-200 bg-white text-gray-600 hover:bg-gray-50'\r\n              }`}\r\n            >\r\n              <span>From</span>\r\n              <FaCalendar className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} size={14} />\r\n            </button>\r\n            <input\r\n              ref={fromDateRef}\r\n              type=\"date\"\r\n              className=\"sr-only\"\r\n              value={fromDate || \"\"}\r\n              onChange={(e) => setFromDate(e.target.value)}\r\n            />\r\n            <button\r\n              onClick={() => toDateRef.current?.showPicker()}\r\n              className={`flex items-center space-x-2 h-[36px] px-3 text-sm rounded-lg border transition-colors ${\r\n                theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-800 text-gray-300 hover:bg-gray-700'\r\n                  : 'border-gray-200 bg-white text-gray-600 hover:bg-gray-50'\r\n              }`}\r\n            >\r\n              <span>To</span>\r\n              <FaCalendar className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} size={14} />\r\n            </button>\r\n            <input\r\n              ref={toDateRef}\r\n              type=\"date\"\r\n              className=\"sr-only\"\r\n              value={toDate || \"\"}\r\n              onChange={(e) => setToDate(e.target.value)}\r\n            />\r\n            <button\r\n              onClick={clearFilters}\r\n              className={`flex items-center justify-center h-[36px] w-[36px] text-sm rounded-lg border transition-colors ${\r\n                theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-red-400'\r\n                  : 'border-gray-200 bg-white text-gray-500 hover:bg-gray-50 hover:text-red-500'\r\n              }`}\r\n              title=\"Clear Filters\"\r\n            >\r\n              <FaTimes size={14} />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Action Buttons & Notifications */}\r\n          <div className=\"flex items-center\">\r\n            {/* Button Group */}\r\n            <div className=\"flex items-center space-x-2\">\r\n              {!isEditMode ? (\r\n                <motion.button\r\n                  style={{ borderRadius: \"8px\" }}\r\n                  onClick={handleEditClick}\r\n                  className=\"py-1 px-2 text-xs font-medium text-red-700 bg-red-100 hover:bg-red-200 rounded-md flex items-center\"\r\n                  variants={buttonVariants}\r\n                  whileHover=\"hover\"\r\n                  whileTap=\"tap\"\r\n                >\r\n                  <FaEraser className=\"mr-1\" size={12} />\r\n                  Edit\r\n                </motion.button>\r\n              ) : (\r\n                <>\r\n                  <motion.button\r\n                    onClick={handleCancelEdit}\r\n                    style={{ borderRadius: \"10px\" }}\r\n                    className={`py-1.5 px-3 text-sm font-medium rounded-lg flex items-center ${\r\n                      theme === 'dark'\r\n                        ? 'text-gray-300 bg-gray-700 hover:bg-gray-600'\r\n                        : 'text-gray-700 bg-gray-200 hover:bg-gray-300'\r\n                    }`}\r\n                    variants={buttonVariants}\r\n                    whileHover=\"hover\"\r\n                    whileTap=\"tap\"\r\n                  >\r\n                    Cancel\r\n                  </motion.button>\r\n                  <motion.button\r\n                    onClick={handleDeleteSelected}\r\n                    style={{ borderRadius: \"10px\" }}\r\n                    className=\"py-1.5 px-3 text-sm font-medium text-white bg-blue-600 hover:bg-red-700 rounded-lg flex items-center\"\r\n                    variants={buttonVariants}\r\n                    whileHover=\"hover\"\r\n                    whileTap=\"tap\"\r\n                  >\r\n                    <FaTrashAlt className=\"mr-1.5\" size={12} />\r\n                    Delete\r\n                  </motion.button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n\r\n      {/* Main Content (added dynamic padding-right for fixed sidebar) */}\r\n      <div className=\"flex flex-1 overflow-hidden h-[calc(100vh-60px)]\">\r\n        {/* Notification List */}\r\n        {/* Dynamically adjust padding-right based on sidebar state */}\r\n        <div\r\n          className={`p-2 notifications-list flex-1 overflow-y-auto\r\n          ${isSidebarCollapsed ? 'sm:pr-[60px]' : 'sm:pr-[250px]'}`}\r\n        >\r\n          {filteredNotifications?.length > 0 ? (\r\n            filteredNotifications.map((message) => (\r\n              <motion.div\r\n                key={message.id}\r\n                className={`rounded-lg shadow-sm border mb-1.5 cursor-pointer overflow-hidden relative ${\r\n                  selectedNotifications.includes(message.id)\r\n                    ? \"border-indigo-400 ring-2 ring-indigo-200\"\r\n                    : theme === 'dark' \r\n                    ? \"border-gray-700\"\r\n                    : \"border-gray-200\"\r\n                } ${\r\n                  !message.read\r\n                    ? theme === 'dark'\r\n                      ? \"bg-gradient-to-r from-gray-800 to-gray-700\"\r\n                      : \"bg-gradient-to-r from-indigo-50 to-purple-50\"\r\n                    : theme === 'dark'\r\n                    ? \"bg-gray-800\"\r\n                    : \"bg-white\"\r\n                }`}\r\n                onClick={() => handleNotificationClick(message)}\r\n                whileHover={{ y: -2, boxShadow: \"0 4px 10px rgba(0,0,0,0.08)\" }}\r\n                transition={{ duration: 0.15 }}\r\n              >\r\n                {/* Mobile Layout */}\r\n                <div className=\"sm:hidden flex flex-col p-2.5\">\r\n                  <div className=\"flex items-start\">\r\n                    <div className=\"pr-3 pt-1\">\r\n                      {isEditMode ? (\r\n                        <FaCheckCircle\r\n                          size={18}\r\n                          className={\r\n                            selectedNotifications.includes(message.id)\r\n                              ? \"text-indigo-600\"\r\n                              : \"text-gray-300\"\r\n                          }\r\n                        />\r\n                      ) : (\r\n                        getKindIcon(message.kind)\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex-1 overflow-hidden pr-8\">\r\n                      <div className={`font-semibold text-sm truncate ${\r\n                        theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                      }`}>\r\n                        {message.subject}\r\n                      </div>\r\n                      <div className={`text-xs mt-1 truncate ${\r\n                        theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n                      }`}>\r\n                        {message.message}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className={`flex justify-between items-center mt-2 pt-2 border-t ${\r\n                    theme === 'dark' ? 'border-gray-600' : 'border-gray-200/80'\r\n                  }`}>\r\n                    <div className=\"flex flex-col items-start\">\r\n                      <div className=\"text-xs font-medium text-indigo-600 bg-indigo-100 px-2 py-0.5 rounded-full\">\r\n                        {message.category}\r\n                      </div>\r\n                      <div className={`font-bold text-xs mt-1 ${\r\n                        theme === 'dark' ? 'text-gray-200' : 'text-gray-700'\r\n                      }`}>\r\n                        {message.sender}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col items-end text-xs\">\r\n                      <span className={`font-semibold ${\r\n                        theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n                      }`}>\r\n                        {getTimeAgo(message.createdAt)}\r\n                      </span>\r\n                      <span className={`mt-0.5 ${\r\n                        theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                      }`}>\r\n                        {getTimestamp(message.createdAt)}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"absolute top-2.5 right-2.5 flex flex-col items-center justify-center space-y-3\">\r\n                    <FaStar\r\n                      size={16}\r\n                      className={`cursor-pointer transition-colors ${\r\n                        message.stared\r\n                          ? \"text-yellow-400\"\r\n                          : \"text-gray-300 hover:text-yellow-400\"\r\n                      }`}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        handleStar(message.id);\r\n                      }}\r\n                    />\r\n                    <FaTrashAlt\r\n                      size={15}\r\n                      className=\"cursor-pointer text-gray-300 hover:text-red-500 transition-colors\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        handleDeleteSingle(message.id);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Desktop Layout */}\r\n                <div className=\"hidden sm:flex items-center w-full h-[90px] p-2\">\r\n                  <div className=\"px-2\">\r\n                    {isEditMode ? (\r\n                      <FaCheckCircle\r\n                        size={18}\r\n                        className={\r\n                          selectedNotifications.includes(message.id)\r\n                            ? \"text-indigo-600\"\r\n                            : \"text-gray-300\"\r\n                        }\r\n                      />\r\n                    ) : (\r\n                      getKindIcon(message.kind)\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex-1 flex flex-col justify-center overflow-hidden h-full pl-3\">\r\n                    <div className={`font-semibold text-sm truncate ${\r\n                      theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                    }`}>\r\n                      {message.subject}\r\n                    </div>\r\n                    <div className={`text-xs mt-1 truncate ${\r\n                      theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n                    }`}>\r\n                      {message.message}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex flex-col items-start justify-center px-4 w-48 h-full shrink-0\">\r\n                    <div className={`font-bold text-sm truncate w-full ${\r\n                      theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                    }`}>\r\n                      {message.sender}\r\n                    </div>\r\n                    <div className=\"text-xs font-medium text-indigo-600 mt-1\">\r\n                      {message.category}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex flex-col items-end justify-center px-4 w-40 text-right h-full shrink-0\">\r\n                    <div className={`text-xs font-semibold ${\r\n                      theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n                    }`}>\r\n                      {getTimeAgo(message.createdAt)}\r\n                    </div>\r\n                    <div className={`text-xs mt-1 ${\r\n                      theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                    }`}>\r\n                      {getTimestamp(message.createdAt)}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex flex-col items-center justify-center space-y-3 px-4\">\r\n                    <motion.div\r\n                      whileHover={{ scale: 1.2 }}\r\n                      whileTap={{ scale: 0.9 }}\r\n                    >\r\n                      <FaStar\r\n                        size={16}\r\n                        className={`cursor-pointer transition-colors ${\r\n                          message.stared\r\n                            ? \"text-yellow-400\"\r\n                            : \"text-gray-300 hover:text-yellow-400\"\r\n                        }`}\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          handleStar(message.id);\r\n                        }}\r\n                      />\r\n                    </motion.div>\r\n                    <motion.div\r\n                      whileHover={{ scale: 1.2 }}\r\n                      whileTap={{ scale: 0.9 }}\r\n                    >\r\n                      <FaTrashAlt\r\n                        size={15}\r\n                        className=\"cursor-pointer text-gray-300 hover:text-red-500 transition-colors\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          handleDeleteSingle(message.id);\r\n                        }}\r\n                      />\r\n                    </motion.div>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            ))\r\n          ) : (\r\n            <div className=\"flex flex-col items-center justify-center h-full text-center p-4\">\r\n              <FaCheckCircle size={48} className=\"mb-4 text-green-500\" />\r\n              <h3 className={`text-xl font-semibold ${\r\n                theme === 'dark' ? 'text-gray-200' : 'text-gray-700'\r\n              }`}>\r\n                You're All Caught Up!\r\n              </h3>\r\n              <p className={`mt-1 text-sm ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>\r\n                No notifications match your current filters.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Desktop Sidebar (Moved to the Right) */}\r\n        <aside\r\n          // Changed sm:sticky to sm:fixed, adjusted top and right\r\n          // height is h-full, accounting for the navbar\r\n          className={`sm:flex flex-col border-l transition-all duration-200 ${\r\n            theme === 'dark' \r\n              ? 'bg-gray-800 border-gray-700' \r\n              : 'bg-white border-gray-200'\r\n          } ${isSidebarCollapsed ? \"w-[60px]\" : \"w-[250px]\"}\r\n          hidden sm:flex sm:fixed top-[60px] right-0 h-[calc(100vh-60px)] z-10`}\r\n        >\r\n          {/* Removed mt-[60px] from here as the parent <aside> already handles vertical positioning */}\r\n          <div className=\"flex justify-start mt-[60px] p-1.5 items-center\">\r\n            <motion.button\r\n              onClick={toggleSidebar}\r\n              className={`focus:outline-none p-1.5 rounded-full transition-colors ${\r\n                theme === 'dark' \r\n                  ? 'text-gray-400 hover:text-gray-200 hover:bg-gray-700' \r\n                  : 'text-gray-500 hover:text-gray-700 hover:bg-gray-100'\r\n              }`}\r\n              transition={{ duration: 0.3 }}\r\n            >\r\n              {isSidebarCollapsed ? (\r\n                <FaArrowLeft size={14} />\r\n              ) : (\r\n                <FaArrowRight size={14} />\r\n              )}\r\n            </motion.button>\r\n          </div>\r\n          <nav className=\"flex-1 space-y-1.5 px-1.5 overflow-y-auto\">\r\n            {sidebarItems.map(({ tab, icon: Icon }) => (\r\n              <motion.button\r\n                key={tab}\r\n                className={`w-full text-left py-2 px-2 rounded-md font-medium flex items-center transition-colors ${\r\n                  activeTab === tab\r\n                    ? \"bg-blue-600 text-white\"\r\n                    : theme === 'dark'\r\n                    ? \"text-gray-300 hover:bg-gray-700 hover:text-white\"\r\n                    : \"text-gray-700 hover:bg-gray-200\"\r\n                } ${isSidebarCollapsed ? \"justify-center\" : \"\"}`}\r\n                onClick={() => handleTabClick(tab)}\r\n                whileHover={{ x: isSidebarCollapsed ? 0 : -3 }}\r\n              >\r\n                <Icon size={14} className={isSidebarCollapsed ? \"\" : \"mr-2\"} />\r\n                {!isSidebarCollapsed && tab}\r\n              </motion.button>\r\n            ))}\r\n          </nav>\r\n        </aside>\r\n      </div>\r\n\r\n      {/* === MOBILE SIDEBAR MENU === */}\r\n      <AnimatePresence>\r\n        {isMobileMenuOpen && (\r\n          <>\r\n            <motion.div\r\n              key=\"overlay\"\r\n              className=\"fixed inset-0 bg-black bg-opacity-50 z-30 sm:hidden\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              onClick={() => setIsMobileMenuOpen(false)}\r\n            />\r\n            <motion.div\r\n              key=\"sidebar\"\r\n              className={`fixed top-0 left-0 h-full w-3/4 max-w-sm z-40 sm:hidden flex flex-col ${\r\n                theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n              }`}\r\n              initial={{ x: \"-100%\" }}\r\n              animate={{ x: 0 }}\r\n              exit={{ x: \"-100%\" }}\r\n              transition={{ type: \"tween\", ease: \"easeInOut\", duration: 0.3 }}\r\n            >\r\n              <div className={`flex items-center justify-between p-4 border-b ${\r\n                theme === 'dark' ? 'border-gray-700' : 'border-gray-200'\r\n              }`}>\r\n                <h5 className={`font-bold text-lg ${\r\n                  theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                }`}>Menu</h5>\r\n                <motion.button\r\n                  onClick={() => setIsMobileMenuOpen(false)}\r\n                  whileHover={{ scale: 1.1, rotate: 90 }}\r\n                  whileTap={{ scale: 0.9 }}\r\n                >\r\n                  <FaTimes size={20} className={`${\r\n                    theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n                  }`} />\r\n                </motion.button>\r\n              </div>\r\n\r\n              <div className=\"flex-1 overflow-y-auto\">\r\n                <div className={`flex border-b h-12 ${\r\n                  theme === 'dark' ? 'border-gray-700' : 'border-gray-200'\r\n                }`}>\r\n                  {[\"All\", \"Unread\", \"Starred\"].map((tab) => (\r\n                    <button\r\n                      key={tab}\r\n                      onClick={() => handleTabClick(tab)}\r\n                      className={`flex-1 h-full py-3 text-sm font-medium transition-colors ${\r\n                        activeTab === tab\r\n                          ? \"bg-indigo-50 text-indigo-600\"\r\n                          : theme === 'dark'\r\n                          ? \"text-gray-300 hover:bg-gray-700\"\r\n                          : \"text-gray-500 hover:bg-gray-50\"\r\n                      }`}\r\n                    >\r\n                      {tab}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"p-4 space-y-4\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <h6 className={`text-sm font-semibold flex items-center ${\r\n                      theme === 'dark' ? 'text-gray-300' : 'text-gray-500'\r\n                    }`}>\r\n                      <FaFilter className=\"inline-block mr-2\" size={12} />\r\n                      Filters\r\n                    </h6>\r\n                    <button\r\n                      onClick={clearFilters}\r\n                      className={`py-1 px-3 text-xs font-medium rounded-md ${\r\n                        theme === 'dark'\r\n                          ? 'text-gray-300 bg-gray-700 hover:bg-gray-600'\r\n                          : 'text-gray-700 bg-gray-100 hover:bg-gray-200'\r\n                      }`}\r\n                    >\r\n                      Clear All\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"flex flex-col space-y-1\">\r\n                    {sidebarItems.map(({ tab }) => (\r\n                      <button\r\n                        key={tab}\r\n                        className={`w-full text-left py-2 px-3 text-sm rounded-md ${\r\n                          activeTab === tab\r\n                            ? \"bg-indigo-100 text-indigo-700 font-semibold\"\r\n                            : theme === 'dark'\r\n                            ? \"text-gray-300 hover:bg-gray-700\"\r\n                            : \"text-gray-700 hover:bg-gray-100\"\r\n                        }`}\r\n                        onClick={() => handleTabClick(tab)}\r\n                      >\r\n                        {tab}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-3 pt-2\">\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button\r\n                        onClick={() => fromDateRef.current?.showPicker()}\r\n                        className={`p-2 text-sm rounded-md border ${\r\n                          theme === 'dark'\r\n                            ? 'border-gray-600 bg-gray-700'\r\n                            : 'border-gray-300 bg-white'\r\n                        }`}\r\n                      >\r\n                        <FaCalendar className={`${\r\n                          theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                        }`} size={14} />\r\n                      </button>\r\n                      <span className={`text-xs w-20 ${\r\n                        theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                      }`}>\r\n                        {fromDate\r\n                          ? format(parseISO(fromDate), \"MMM d, yyyy\")\r\n                          : \"From Date\"}\r\n                      </span>\r\n                      <input\r\n                        ref={fromDateRef}\r\n                        type=\"date\"\r\n                        className=\"sr-only\"\r\n                        value={fromDate || \"\"}\r\n                        onChange={(e) => setFromDate(e.target.value)}\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button\r\n                        onClick={() => toDateRef.current?.showPicker()}\r\n                        className={`p-2 text-sm rounded-md border ${\r\n                          theme === 'dark'\r\n                            ? 'border-gray-600 bg-gray-700'\r\n                            : 'border-gray-300 bg-white'\r\n                        }`}\r\n                      >\r\n                        <FaCalendar className={`${\r\n                          theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                        }`} size={14} />\r\n                      </button>\r\n                      <span className={`text-xs w-20 ${\r\n                        theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                      }`}>\r\n                        {toDate\r\n                          ? format(parseISO(toDate), \"MMM d, yyyy\")\r\n                          : \"To Date\"}\r\n                      </span>\r\n                      <input\r\n                        ref={toDateRef}\r\n                        type=\"date\"\r\n                        className=\"sr-only\"\r\n                        value={toDate || \"\"}\r\n                        onChange={(e) => setToDate(e.target.value)}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex space-x-2 pt-4\">\r\n                    {!isEditMode ? (\r\n                      <button\r\n                        onClick={handleEditClick}\r\n                        className={`flex-1 py-2 px-3 text-sm font-medium rounded-lg ${\r\n                          theme === 'dark'\r\n                            ? 'bg-gray-700 hover:bg-gray-600 text-gray-300'\r\n                            : 'bg-gray-100 hover:bg-gray-200 text-gray-800'\r\n                        }`}\r\n                      >\r\n                        Edit\r\n                      </button>\r\n                    ) : (\r\n                      <>\r\n                        <button\r\n                          onClick={handleCancelEdit}\r\n                          className={`flex-1 py-2 px-3 text-sm font-medium rounded-lg ${\r\n                            theme === 'dark'\r\n                              ? 'bg-gray-600 hover:bg-gray-500 text-gray-300'\r\n                              : 'bg-gray-200 hover:bg-gray-300 text-gray-800'\r\n                          }`}\r\n                        >\r\n                          Cancel\r\n                        </button>\r\n                        <button\r\n                          onClick={handleDeleteSelected}\r\n                          className=\"flex-1 py-2 px-3 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-lg\"\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationSystem;"],"names":["isRefreshing","failedQueue","processQueue","error","token","arguments","length","undefined","forEach","prom","reject","resolve","createAxiosInstance","baseURL","instance","axios","create","interceptors","request","use","config","localStorage","getItem","headers","Promise","response","async","_error$response","originalRequest","status","_retry","push","then","catch","err","oldToken","console","log","refreshResponse","post","withCredentials","accessToken","data","setItem","FormData","formData","newFormData","key","value","entries","append","cloneFormData","newInstance","refreshError","clear","window","location","href","addEventListener","event","newValue","tasksApi","publicinfoApi","chatApi","notificationsApi","ticketsApi","NotificationSystem","isMobileMenuOpen","setIsMobileMenuOpen","useState","activeTab","setActiveTab","isSidebarCollapsed","setIsSidebarCollapsed","searchQuery","setSearchQuery","isEditMode","setIsEditMode","selectedNotifications","setSelectedNotifications","fromDate","setFromDate","toDate","setToDate","navigate","useNavigate","gdata","setGdata","markAsRead","decrementUnreadCount","theme","useContext","Context","fromDateRef","useRef","toDateRef","handleTabClick","tabName","getKindIcon","kind","alert","_jsx","FaTimesCircle","size","className","warning","FaExclamationTriangle","update","FaInfoCircle","handleStar","handleSelectNotification","id","originalGdata","notificationToUpdate","find","msg","updatedGdata","map","stared","put","handleDeleteSingle","notificationToDelete","filter","read","delete","prev","includes","selId","handleEditClick","handleCancelEdit","handleDeleteSelected","idsToDelete","unreadDeletedCount","i","responses","all","clearFilters","getTimeAgo","date","parsedDate","parseISO","formatDistanceToNow","addSuffix","getTimestamp","dateString","timeZone","formatInTimeZone","filteredNotifications","useMemo","filtered","lowerCaseTab","toLowerCase","lowerCaseQuery","_msg$category","category","_msg$message","_msg$subject","_msg$sender","message","subject","sender","fromDateObj","createdAt","toDateObj","adjustedToDateObj","Date","setDate","getDate","buttonVariants","hover","scale","tap","sidebarItems","tab","icon","FaEnvelope","FaChartBar","FaMoneyBillAlt","FaCalendar","_jsxs","children","motion","div","initial","animate","variants","hidden","y","opacity","visible","transition","type","stiffness","damping","button","onClick","toggleMobileMenu","whileHover","whileTap","FaBars","FaSearch","placeholder","onChange","e","target","style","borderRadius","FaInbox","FaStar","_fromDateRef$current","current","showPicker","ref","_toDateRef$current","title","FaTimes","_Fragment","FaTrashAlt","FaEraser","link","handleNotificationClick","boxShadow","duration","FaCheckCircle","stopPropagation","toggleSidebar","FaArrowLeft","FaArrowRight","_ref","Icon","x","AnimatePresence","exit","ease","rotate","FaFilter","_ref2","_fromDateRef$current2","format","_toDateRef$current2"],"sourceRoot":""}