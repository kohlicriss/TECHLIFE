"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[473,880],{4880:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var a=s(5043),r=s(5439),l=s(7234),o=s(6446),n=s(5200),i=s(2397),d=s(579);const c=e=>{if(!e)return"";const t=e.split(" ");return t.length>1?(t[0][0]+t[t.length-1][0]).toUpperCase():t[0][0].toUpperCase()},m=e=>{let{icon:t,label:s,value:a,isMail:r=!1,theme:l}=e;return(0,d.jsxs)(o.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.4},className:"flex items-start space-x-3 sm:space-x-4",children:[(0,d.jsx)("div",{className:"mt-1 text-base sm:text-lg flex-shrink-0 ".concat("dark"===l?"text-gray-400":"text-gray-600"),children:t}),(0,d.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,d.jsx)("p",{className:"text-xs uppercase break-words ".concat("dark"===l?"text-gray-400":"text-gray-500"),children:s}),r?(0,d.jsx)("a",{href:"mailto:".concat(a),className:"font-semibold text-sm sm:text-base transition-colors break-words ".concat("dark"===l?"text-white hover:text-red-400":"text-gray-900 hover:text-red-500"),children:a||"N/A"}):(0,d.jsx)("p",{className:"font-semibold text-sm sm:text-base break-words ".concat("dark"===l?"text-white":"text-gray-900"),children:a||"N/A"})]})]})},x=()=>{var e,t;const{empID:s,employeeID:x}=(0,r.g)(),p=(0,r.Zp)(),{theme:h}=(0,a.useContext)(l.ob),[u,g]=(0,a.useState)(null),[y,b]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!x)return void b(!1);(async()=>{b(!0);try{let e=await i.yE.get("employee/public/".concat(x,"/details"));console.log("Employee details:",e.data),g(e.data)}catch(e){console.error("Failed to fetch employee details:",e),g(null)}finally{b(!1)}})()},[x]),y?(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4 ".concat("dark"===h?"bg-gray-900":"bg-white"),children:(0,d.jsx)("p",{className:"text-base sm:text-lg md:text-xl font-mono animate-pulse text-center ".concat("dark"===h?"text-white":"text-gray-800"),children:"LOADING..."})}):u?(0,d.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen font-sans px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8 ".concat("dark"===h?"bg-gray-900 text-white":"bg-white text-gray-900"),children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,d.jsxs)(o.P.button,{onClick:()=>p(-1),className:"mb-6 sm:mb-8 inline-flex items-center cursor-pointer transition-colors px-4 sm:px-0 text-sm sm:text-base ".concat("dark"===h?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"),whileHover:{x:-10},children:[(0,d.jsx)(n.kRp,{className:"mr-2 w-4 h-4 sm:w-5 sm:h-5"})," BACK"]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 md:gap-12",children:[(0,d.jsxs)("div",{className:"col-span-1 border-b-2 md:border-b-0 md:border-r-2 pb-6 md:pb-0 md:pr-8 lg:pr-12 ".concat("dark"===h?"border-gray-600":"border-gray-300"),children:[(0,d.jsx)(o.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"w-32 h-32 sm:w-36 sm:h-36 md:w-40 md:h-40 rounded-full overflow-hidden mx-auto md:mx-0 mb-4 sm:mb-6 border-4 ".concat("dark"===h?"border-white":"border-gray-900"),children:u.employeeImage?(0,d.jsx)("img",{src:u.employeeImage,alt:"".concat(u.displayName||u.name,"'s profile picture"),className:"w-full h-full object-cover"}):(0,d.jsx)("div",{className:"w-full h-full flex items-center justify-center text-2xl sm:text-3xl md:text-4xl font-bold ".concat("dark"===h?"bg-gray-700 text-white":"bg-gray-200 text-gray-900"),children:c(u.displayName||u.name)})}),(0,d.jsxs)(o.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},className:"px-4 md:px-0",children:[(0,d.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold text-center md:text-left break-words ".concat("dark"===h?"text-white":"text-gray-900"),children:u.displayName||u.name||"N/A"}),(0,d.jsx)("p",{className:"text-base sm:text-lg font-medium text-red-500 text-center md:text-left mt-2 break-words",children:u.jobTitlePrimary||"N/A"})]})]}),(0,d.jsxs)("div",{className:"col-span-1 md:col-span-2 px-4 md:px-0",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 sm:gap-8",children:[(0,d.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,d.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-4 ".concat("dark"===h?"text-white":"text-gray-900"),children:"DETAILS"}),(0,d.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,d.jsx)(m,{icon:(0,d.jsx)(n.Qz2,{}),label:"Employee ID",value:u.employeeId,theme:h}),(0,d.jsx)(m,{icon:(0,d.jsx)(n.qYx,{}),label:"Department",value:u.departmentId,theme:h}),(0,d.jsx)(m,{icon:(0,d.jsx)(n.HzC,{}),label:"Location",value:u.location,theme:h})]})]}),(0,d.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[(0,d.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-4 ".concat("dark"===h?"text-white":"text-gray-900"),children:"CONTACT"}),(0,d.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,d.jsx)(m,{icon:(0,d.jsx)(n.pHD,{}),label:"Email",value:u.workEmail,isMail:!0,theme:h}),(0,d.jsx)(m,{icon:(0,d.jsx)(n.QFc,{}),label:"Contact",value:u.contact,theme:h})]})]})]}),(0,d.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mt-8 sm:mt-12 pt-6 sm:pt-8 border-t-2 ".concat("dark"===h?"border-gray-600":"border-gray-300"),children:[(0,d.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-4 sm:mb-6 ".concat("dark"===h?"text-white":"text-gray-900"),children:"ACHIEVEMENTS"}),(0,d.jsx)("div",{className:"space-y-4 sm:space-y-6 max-h-80 sm:max-h-96 overflow-y-auto pr-2",children:(null===(e=u.achievements)||void 0===e?void 0:e.length)>0?u.achievements.map((e,t)=>(0,d.jsxs)(o.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"border-2 p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 rounded-lg ".concat("dark"===h?"border-gray-600":"border-gray-300"),children:[(0,d.jsx)(n.TPq,{className:"text-lg sm:text-xl text-yellow-500 flex-shrink-0"}),(0,d.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,d.jsx)("h3",{className:"text-base sm:text-lg font-bold break-words ".concat("dark"===h?"text-white":"text-gray-900"),children:e.certificationName||"N/A"}),(0,d.jsxs)("p",{className:"mt-1 text-xs sm:text-sm break-words ".concat("dark"===h?"text-gray-300":"text-gray-600"),children:[(0,d.jsx)("span",{className:"font-semibold",children:"Issuing Authority:"})," ",e.issuingAuthorityName||"N/A"]})]})]},t)):(0,d.jsx)("p",{className:"italic text-sm sm:text-base ".concat("dark"===h?"text-gray-400":"text-gray-500"),children:"No achievements available"})})]}),(0,d.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mt-8 sm:mt-12 pt-6 sm:pt-8 border-t-2 ".concat("dark"===h?"border-gray-600":"border-gray-300"),children:[(0,d.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-4 sm:mb-6 ".concat("dark"===h?"text-white":"text-gray-900"),children:"PROJECTS"}),(0,d.jsx)("div",{className:"space-y-4 sm:space-y-6 max-h-80 sm:max-h-96 overflow-y-auto pr-2",children:(null===(t=u.projects)||void 0===t?void 0:t.length)>0?u.projects.map((e,t)=>(0,d.jsxs)(o.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"border-2 p-3 sm:p-4 rounded-lg ".concat("dark"===h?"border-gray-600":"border-gray-300"),children:[(0,d.jsx)("h3",{className:"text-base sm:text-lg font-bold break-words ".concat("dark"===h?"text-white":"text-gray-900"),children:e.projectName||"N/A"}),(0,d.jsx)("p",{className:"mt-2 text-xs sm:text-sm break-words ".concat("dark"===h?"text-gray-300":"text-gray-600"),children:e.projectDescription||"N/A"})]},t)):(0,d.jsx)("p",{className:"italic text-sm sm:text-base ".concat("dark"===h?"text-gray-400":"text-gray-500"),children:"No projects available"})})]})]})]})]})}):(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-8 ".concat("dark"===h?"bg-gray-900":"bg-white"),children:(0,d.jsxs)("div",{className:"text-center max-w-sm sm:max-w-md",children:[(0,d.jsx)("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold font-mono mb-4 break-words ".concat("dark"===h?"text-white":"text-gray-900"),children:"EMPLOYEE NOT FOUND"}),(0,d.jsx)("p",{className:"mb-4 sm:mb-6 font-mono text-sm sm:text-base break-words ".concat("dark"===h?"text-gray-300":"text-gray-600"),children:"Data unavailable for this employee ID."}),(0,d.jsxs)("button",{onClick:()=>p(-1),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 sm:px-6 py-2 sm:py-3 border-2 text-sm sm:text-base font-bold font-mono transition-colors rounded-lg ".concat("dark"===h?"border-white text-white hover:bg-white hover:text-gray-900":"border-gray-900 text-gray-900 hover:bg-gray-900 hover:text-white"),children:[(0,d.jsx)(n.kRp,{className:"mr-2 w-4 h-4 sm:w-5 sm:h-5"})," BACK TO DIRECTORY"]})]})})}},5473:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var a=s(5043),r=s(5439),l=s(9379),o=s(6446),n=s(9570),i=s(7234),d=s(2397),c=s(5394),m=s(579);try{if(!document.getElementById("custom-employee-styles")){const e=document.createElement("style");e.id="custom-employee-styles",e.innerText="\n  .preserve-3d {\n    transform-style: preserve-3d;\n  }\n  .backface-hidden {\n    backface-visibility: hidden;\n  }\n  .rotate-y-180 {\n    transform: rotateY(180deg);\n  }\n  .hover\\:scale-105:hover {\n    transform: scale(1.05);\n  }\n",document.head.appendChild(e)}}catch(v){console.warn("Could not inject custom styles:",v)}const x=e=>{let{children:t,onClose:s,title:a,type:r,theme:l}=e,o="",n=null;return"success"===r?(o="text-green-600",n=(0,m.jsx)(c.G3G,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-500"})):"error"===r?(o="text-red-600",n=(0,m.jsx)(c.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-500"})):"confirm"===r?(o="text-yellow-600",n=(0,m.jsx)(c.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500"})):"default"===r&&(o="dark"===l?"text-white":"text-gray-900",n=(0,m.jsx)(c.tEG,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-500"})),(0,m.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 sm:p-6 z-[1000] animate-fadeIn",children:(0,m.jsx)("div",{className:"w-full max-w-md rounded-2xl sm:rounded-3xl shadow-2xl animate-slideUp transform-gpu ".concat("dark"===l?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"),children:(0,m.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 mb-4 sm:mb-6",children:[n&&(0,m.jsx)("span",{className:"mr-2 sm:mr-3",children:n}),(0,m.jsx)("h3",{className:"text-lg sm:text-xl font-bold ".concat(o," ").concat("dark"===l?"text-white":"text-gray-800"),children:a}),s&&(0,m.jsx)("button",{onClick:s,className:"ml-auto p-1 rounded-full ".concat("dark"===l?"text-gray-400 hover:bg-gray-700":"text-gray-500 hover:bg-gray-100"," transition-all"),children:(0,m.jsx)(c.$8F,{className:"w-5 h-5"})})]}),(0,m.jsx)("div",{className:"space-y-4 sm:space-y-6",children:t})]})})})},p=e=>{let{name:t,label:s,type:a="text",required:r=!1,hint:l,placeholder:o,value:n,onChange:i,onBlur:d,isError:x,options:p=[],multiple:h=!1,accept:u,theme:g,maxLength:y,disabled:b=!1}=e;const f=null===n||void 0===n?"":n,w="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ".concat(x?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===g?"border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400":"border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300"," disabled:bg-gray-100 dark:disabled:bg-gray-700 dark:disabled:text-gray-400 disabled:cursor-not-allowed"),v="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 resize-none h-24 sm:h-32 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ".concat(x?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===g?"border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400":"border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300"," disabled:bg-gray-100 dark:disabled:bg-gray-700 dark:disabled:text-gray-400 disabled:cursor-not-allowed"),j="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 appearance-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ".concat(x?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===g?"border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400":"border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300"," disabled:bg-gray-100 dark:disabled:bg-gray-700 dark:disabled:text-gray-400 disabled:cursor-not-allowed");return(0,m.jsxs)("div",{className:"group relative",children:[(0,m.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ".concat("dark"===g?"text-gray-200":"text-gray-800"),children:[s,r&&(0,m.jsx)("span",{className:"text-red-500 ml-1 text-sm sm:text-base",children:"*"})]}),l&&(0,m.jsx)("p",{className:"text-xs mb-2 ".concat("dark"===g?"text-gray-400":"text-gray-500"),children:l}),"select"===a?(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsxs)("select",{name:t,value:f,onChange:i,onBlur:d,className:j,required:r,disabled:b,children:[(0,m.jsxs)("option",{value:"",children:["Select ",s.toLowerCase()]}),p.map((e,t)=>(0,m.jsx)("option",{value:e.value||e,children:e.label||e},t))]}),(0,m.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none ".concat("dark"===g?"text-gray-400":"text-gray-500"),children:(0,m.jsx)("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:(0,m.jsx)("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]}):"textarea"===a?(0,m.jsx)("textarea",{name:t,value:f,onChange:i,onBlur:d,placeholder:o,className:v,required:r,rows:4,maxLength:y,disabled:b}):"file"===a?(0,m.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg sm:rounded-xl transition-all duration-300 ".concat(x?"border-red-300 bg-red-50":"dark"===g?"border-gray-600 bg-gray-800 hover:border-blue-400 hover:bg-blue-900/20":"border-gray-300 bg-gray-50 hover:border-blue-400 hover:bg-blue-50"," ").concat(b?"cursor-not-allowed opacity-60":"cursor-pointer"),children:[(0,m.jsx)("input",{type:"file",name:t,accept:u,multiple:h,onChange:i,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",disabled:b}),(0,m.jsxs)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center",children:[(0,m.jsx)(c.xvb,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ".concat("dark"===g?"text-gray-500":"text-gray-400")}),(0,m.jsxs)("p",{className:"text-xs sm:text-sm font-medium mb-1 ".concat("dark"===g?"text-gray-300":"text-gray-600"),children:["Drop your file here, or ",(0,m.jsx)("span",{className:"text-blue-600",children:"browse"})]}),(0,m.jsx)("p",{className:"text-xs ".concat("dark"===g?"text-gray-500":"text-gray-400"),children:u||"All file types supported"})]})]}):(0,m.jsx)("input",{type:a,name:t,value:f,onChange:i,onBlur:d,placeholder:o,className:w,required:r,maxLength:y,disabled:b}),x&&(0,m.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600 animate-slideIn",children:[(0,m.jsx)(c.tr_,{className:"w-4 h-4 flex-shrink-0"}),(0,m.jsx)("p",{className:"text-xs sm:text-sm font-medium",children:x})]})]},t)},h=[{label:"Full Name",name:"fullName",type:"text",required:!0,hint:"Enter the full name for the user account."},{label:"Username",name:"username",type:"text",required:!0,hint:"Must start with 'ACS' and match Employee ID (8-30 chars).",maxLength:30},{label:"Password",name:"password",type:"password",required:!0,hint:"Temporary password (8-30 characters).",maxLength:30},{label:"Role",name:"role",type:"text",required:!0,hint:"E.g., ROLE_ADMIN, ROLE_MANAGER, ROLE_EMPLOYEE, ROLE_HR."}],u=[{label:"Employee ID",name:"employeeId",type:"text",required:!0,hint:"Must start with 'ACS' and match Username (8-30 chars).",maxLength:30},{label:"First Name",name:"firstName",type:"text",required:!0,hint:"Enter employee's first name."},{label:"Display Name",name:"displayName",type:"text",required:!1,hint:"Name to display in the system (optional)."},{label:"Marital Status",name:"maritalStatus",type:"select",required:!0,options:["Single","Married","Divorced","Widowed"],hint:"Select employee's marital status."},{label:"Department ID",name:"departmentId",type:"department-dropdown",required:!0,hint:"Select department from the list."},{label:"Employee Role",name:"employeeRole",type:"text",required:!1,hint:"This is set automatically from the User Credentials role.",disabled:!0}],g=e=>{if(!e)return"";const t=e.split(" ");return t.length>1?(t[0][0]+t[t.length-1][0]).toUpperCase():t[0][0].toUpperCase()},y=e=>{let{value:t,onChange:s,theme:r,isError:l,hint:o}=e;const[n,i]=(0,a.useState)(!1),[x,p]=(0,a.useState)([]),[h,u]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!0),[b,f]=(0,a.useState)(0),[w,v]=(0,a.useState)(""),j=(0,a.useRef)(null),N=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!h&&(g||t)){u(!0);try{const s=(await d.yE.get("employee/".concat(e,"/").concat(10,"/departmentId/asc/all/departments"))).data.content||[];p(e=>t?s:[...e,...s]),f(e),y(10===s.length)}catch(s){console.error("Error fetching departments:",s)}finally{u(!1)}}},[h,g]);(0,a.useEffect)(()=>{n&&0===x.length&&N(0,!0)},[n,N,x.length]);const k=x.filter(e=>{if(!w)return!0;const t=w.toLowerCase();return e.departmentId.toLowerCase().includes(t)||e.departmentName.toLowerCase().includes(t)});(0,a.useEffect)(()=>{const e=e=>{j.current&&!j.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return(0,m.jsxs)("div",{className:"group relative",ref:j,children:[(0,m.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ".concat("dark"===r?"text-gray-200":"text-gray-800"),children:["Department ID",(0,m.jsx)("span",{className:"text-red-500 ml-1 text-sm sm:text-base",children:"*"})]}),o&&(0,m.jsx)("p",{className:"text-xs mb-2 ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:o}),(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("button",{type:"button",onClick:()=>i(!n),className:"w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl transition-all duration-300 text-left\n                        focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\n                        ".concat(l?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===r?"border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400":"border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300"),children:(0,m.jsx)("span",{className:t?"":"text-gray-500",children:(()=>{if(!t)return"Choose Department ID";const e=x.find(e=>e.departmentId===t);return e?"".concat(e.departmentId,"(").concat(e.departmentName,")"):t})()})}),(0,m.jsx)("div",{className:"absolute right-4 sm:right-5 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,m.jsx)(c.EUj,{className:"w-4 h-4 sm:w-5 sm:h-5 transition-transform duration-200 ".concat(n?"rotate-180":""," ").concat("text-gray-400")})}),n&&(0,m.jsxs)("div",{className:"absolute z-50 w-full mt-1 border rounded-lg sm:rounded-xl shadow-lg max-h-64 ".concat("dark"===r?"bg-gray-700 border-gray-600":"bg-white border-gray-300"),children:[(0,m.jsx)("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)(c.ZYA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ".concat("dark"===r?"text-gray-400":"text-gray-500")}),(0,m.jsx)("input",{type:"text",placeholder:"Search departments...",value:w,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 ".concat("dark"===r?"bg-gray-600 border-gray-500 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-800 placeholder-gray-500")})]})}),(0,m.jsxs)("div",{className:"overflow-y-auto max-h-48",onScroll:e=>{const{scrollTop:t,scrollHeight:s,clientHeight:a}=e.target;s-t<=a+50&&g&&!h&&N(b+1)},children:[k.length>0?k.map((e,a)=>(0,m.jsx)("button",{type:"button",onClick:()=>{s(e.departmentId),i(!1)},className:"w-full px-4 py-3 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200 ".concat(t===e.departmentId?"dark"===r?"bg-blue-700 text-white":"bg-blue-100 text-blue-800":"dark"===r?"text-gray-200":"text-gray-800"),children:(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsxs)("span",{className:"font-semibold",children:[e.departmentId,"(",e.departmentName,")"]}),(0,m.jsx)("span",{className:"text-xs mt-1 ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:e.departmentDescription})]})},"".concat(e.departmentId,"-").concat(a))):h?null:(0,m.jsx)("div",{className:"px-4 py-8 text-center text-sm ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:w?"No departments found matching your search.":"No departments available."}),h&&(0,m.jsxs)("div",{className:"flex justify-center items-center py-4",children:[(0,m.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,m.jsx)("span",{className:"ml-2 text-sm ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:"Loading departments..."})]}),!g&&x.length>0&&(0,m.jsxs)("div",{className:"text-center py-2 text-xs text-gray-500 dark:text-gray-500",children:["\u2014 End of results (",x.length," departments) \u2014"]})]})]})]}),l&&(0,m.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600 animate-slideIn",children:[(0,m.jsx)(c.tr_,{className:"w-4 h-4 flex-shrink-0"}),(0,m.jsx)("p",{className:"text-xs sm:text-sm font-medium",children:l})]})]})};const b=function(){var e,t,s;const b=(0,r.Zp)(),[f,w]=(0,a.useState)(null),[v,j]=(0,a.useState)([]),[N,k]=(0,a.useState)(!0),[I,E]=(0,a.useState)("grid"),{userprofiledata:C,theme:A,userData:S}=(0,a.useContext)(i.ob),{empID:P}=(0,r.g)(),[D,L]=(0,a.useState)(""),[T,R]=(0,a.useState)({}),[U,M]=(0,a.useState)([]),[q,O]=(0,a.useState)(null),_=null!==S&&void 0!==S&&S.roles[0]?"ROLE_".concat(null===S||void 0===S?void 0:S.roles[0]):null,[F,W]=(0,a.useState)(null),[B,z]=(0,a.useState)({visible:!1,x:0,y:0,employee:null}),[Y,V]=(0,a.useState)(!1),[H,G]=(0,a.useState)(!1),[Z,Q]=(0,a.useState)(""),J={fullName:"",username:"",password:"",role:"",employeeId:"",firstName:"",displayName:"",maritalStatus:"",departmentId:"",employeeRole:""},[X,K]=(0,a.useState)(J),[$,ee]=(0,a.useState)({}),[te,se]=(0,a.useState)({show:!1,message:"",type:""}),[ae,re]=(0,a.useState)({show:!1,employee:null}),[le,oe]=(0,a.useState)(0),[ne,ie]=(0,a.useState)(15),[de,ce]=(0,a.useState)("employeeId"),[me,xe]=(0,a.useState)("asc"),[pe,he]=(0,a.useState)(!1),[ue,ge]=(0,a.useState)([]),[ye,be]=(0,a.useState)(!1),[fe,we]=(0,a.useState)(!0),[ve,je]=(0,a.useState)(0),[Ne,ke]=(0,a.useState)(""),Ie=(0,a.useRef)(null),[Ee,Ce]=(0,a.useState)([]),Ae=null===S||void 0===S||null===(e=S.roles)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase();["ADMIN","MANAGER","HR"].includes(Ae),(0,a.useEffect)(()=>{(async()=>{try{let e=await d.ZQ.get("role-access/".concat(_));M(e.data)}catch(e){console.error("Error fetching role access data:",e)}})()},[_]),(0,a.useEffect)(()=>{U&&O(null===U||void 0===U?void 0:U.permissions)},[U]),(0,a.useEffect)(()=>{Ce(null===S||void 0===S?void 0:S.permissions)},[S]),(0,a.useEffect)(()=>{const e=()=>{B.visible&&z((0,l.A)((0,l.A)({},B),{},{visible:!1})),F&&W(null)};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[B,F]);const Se=async e=>{e&&(b("/chat/".concat(P,"/with?id=").concat(e.employeeId),{state:{newChatTarget:{chatId:e.employeeId,name:e.displayName,profile:e.employeeImage,type:"private",isOnline:null,lastMessage:"",unreadMessageCount:0}}}),B.visible&&z((0,l.A)((0,l.A)({},B),{},{visible:!1})),F&&W(null))},Pe=e=>{e&&(b("/employees/".concat(P,"/public/").concat(e.employeeId)),z((0,l.A)((0,l.A)({},B),{},{visible:!1})),W(null))},De=e=>{e&&(b("/profile/".concat(P,"/documents?fromContextMenu=true&targetEmployeeId=").concat(e.employeeId)),z((0,l.A)((0,l.A)({},B),{},{visible:!1})),W(null))},Le=e=>{re({show:!0,employee:e})},Te=(0,a.useCallback)(async()=>{try{k(!0);const e=await d.yE.get("employee/".concat(le,"/").concat(ne,"/").concat(de,"/").concat(me,"/employees"));w(e.data.content)}catch(e){console.error("Error fetching employees:",e)}finally{k(!1)}},[le,ne,de,me]);(0,a.useEffect)(()=>{Te()},[Te]),(0,a.useEffect)(()=>{if(f){const e=[...new Set(f.map(e=>e.jobTitlePrimary).filter(Boolean))],t=[...new Set(f.map(e=>e.departmentId).filter(Boolean))],s=[...new Set(f.map(e=>e.location).filter(Boolean))],a=[{name:"Role",options:["All Roles",...e],icon:c.ZDc},{name:"Department",options:["All Departments",...t],icon:c.JDl},{name:"Location",options:["All Locations",...s],icon:c.o9J}];j(a);const r=a.reduce((e,t)=>(0,l.A)((0,l.A)({},e),{},{[t.name]:t.options[0]}),{});R(r)}},[f]);const Re=f?f.filter(e=>{const t=D.toLowerCase(),s=e.displayName&&e.displayName.toLowerCase().includes(t)||e.workEmail&&e.workEmail.toLowerCase().includes(t)||e.employeeId&&e.employeeId.toLowerCase().includes(t),a=Object.entries(T).every(t=>{let[s,a]=t;if(!a||a.startsWith("All"))return!0;switch(s){case"Role":return e.jobTitlePrimary===a;case"Department":return e.departmentId===a;case"Location":return e.location===a;default:return!0}});return s&&a}):[],Ue=()=>{L("");const e=v.reduce((e,t)=>(0,l.A)((0,l.A)({},e),{},{[t.name]:t.options[0]}),{});R(e)},Me=e=>{const{name:t,value:s}=e.target;K(e=>{const a=(0,l.A)((0,l.A)({},e),{},{[t]:s});return"fullName"===t&&(a.firstName=s.split(" ")[0]||"",a.displayName=s),"role"===t&&(a.employeeRole=s),a}),$[t]&&ee(e=>{const s=(0,l.A)({},e);return delete s[t],s})},qe=e=>{K((0,l.A)((0,l.A)({},X),{},{departmentId:e})),$.departmentId&&ee(e=>{const t=(0,l.A)({},e);return delete t.departmentId,t})},Oe=e=>{const{name:t,value:s}=e.target;let a="";"username"!==t&&"employeeId"!==t||(s&&!s.startsWith("ACS")?a="Incorrect format. Must start with 'ACS'.":s&&(s.length<8||s.length>30)&&(a="Must be between 8 and 30 characters.")),"password"===t&&s&&(s.length<8||s.length>30)&&(a="Password must be 8-30 characters."),ee(e=>{const s=(0,l.A)({},e);return a?s[t]=a:delete s[t],s})},_e=async e=>{e.preventDefault();const t=(e=>{const t={};return e.fullName||(t.fullName="Full name is required."),e.username?e.username.length<8||e.username.length>30?t.username="Username must be 8-30 characters.":e.username.startsWith("ACS")||(t.username="Username must start with 'ACS'."):t.username="Username is required.",e.password?(e.password.length<8||e.password.length>30)&&(t.password="Password must be 8-30 characters."):t.password="Password is required.",e.role||(t.role="Role is required."),e.employeeId?e.employeeId.length<8||e.employeeId.length>30?t.employeeId="Employee ID must be 8-30 characters.":e.employeeId.startsWith("ACS")||(t.employeeId="Employee ID must start with 'ACS'."):t.employeeId="Employee ID is required.",e.username&&e.employeeId&&e.username!==e.employeeId&&(t.username="Username and Employee ID must match.",t.employeeId="Username and Employee ID must match."),e.firstName||(t.firstName="First name is required."),e.maritalStatus||(t.maritalStatus="Marital status is required."),e.departmentId||(t.departmentId="Department ID is required."),t})(X);if(Object.keys(t).length>0)return void ee(t);G(!0),ee({}),Q("Checking terminated employees...");const s=X.employeeId;try{if((await(async()=>{let e=new Set,t=0,s=!0;for(;s;)try{const a=await d.yE.get("employee/".concat(t,"/").concat(1e3,"/employeeId/asc/terminated/employees")),r=a.data.content||[];r.forEach(t=>{t.employeeId&&e.add(t.employeeId)}),r.length<1e3||!0===a.data.last?s=!1:t++}catch(a){console.error("Error fetching all terminated employee IDs:",a),s=!1}return e})()).has(s)){const e="Employee ID ".concat(s," is currently assigned to a terminated employee. Please use a unique ID.");return ee({employeeId:"ID already in use by a terminated employee."}),se({show:!0,message:e,type:"error"}),G(!1),void Q("")}const e={fullName:X.fullName,username:X.username,password:X.password,role:X.role.toUpperCase()};Q("Creating User..."),await d.ZQ.post("/register",e);const t={employeeId:X.employeeId,firstName:X.firstName,displayName:X.displayName||X.fullName,maritalStatus:X.maritalStatus,departmentId:X.departmentId,role:X.role.toUpperCase()};Q("Creating Employee..."),await d.yE.post("employee",t),se({show:!0,message:"Employee and user account created successfully!",type:"success"}),V(!1),K(J),Te()}catch(n){var a,r,l,o;console.error("Error creating employee:",n);const e=(null===(a=n.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||"An unexpected error occurred. Please check the data and try again.";let t={general:e};null!==(l=n.response)&&void 0!==l&&null!==(o=l.data)&&void 0!==o&&o.details&&n.response.data.details.forEach(e=>{e.field&&(t[e.field]=e.message)}),ee(t),se({show:!0,message:e,type:"error"})}finally{G(!1),Q("")}},Fe=()=>{V(!1),K(J),ee({})},We=(e,t,s,a)=>{const{label:r,name:l,type:o,required:n,options:i=[],hint:d,maxLength:c,disabled:x=!1}=e,h=t[l];return"department-dropdown"===o?(0,m.jsx)(y,{value:a,onChange:s,theme:A,isError:h,hint:d},l):(0,m.jsx)(p,{name:l,label:r,type:o,required:n,hint:d,placeholder:"Enter ".concat(r.toLowerCase(),"..."),value:a,onChange:s,onBlur:Oe,isError:h,options:i,theme:A,maxLength:c,disabled:x},l)},Be=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!ye&&(fe||t)){be(!0);try{const s=(await d.yE.get("employee/".concat(e,"/").concat(15,"/employeeId/asc/terminated/employees"))).data.content||[];ge(e=>t?s:[...e,...s]),je(e),we(15===s.length)}catch(s){console.error("Error fetching terminated employees:",s),t&&alert("Failed to fetch terminated employees. Check console for details.")}finally{be(!1)}}},[ye,fe]),ze=e=>{const{scrollTop:t,scrollHeight:s,clientHeight:a}=e.target;s-t<=a+50&&fe&&!ye&&Be(ve+1)},Ye=ue.filter(e=>{if(!Ne)return!0;const t=Ne.toLowerCase();return e.displayName&&e.displayName.toLowerCase().includes(t)||e.employeeId&&e.employeeId.toLowerCase().includes(t)||e.workEmail&&e.workEmail.toLowerCase().includes(t)});return N?(0,m.jsx)("div",{className:"min-h-screen ".concat("dark"===A?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,m.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),(0,m.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,m.jsx)(c.SNd,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"})})]}),(0,m.jsx)("h2",{className:"text-lg sm:text-xl font-bold mb-2 ".concat("dark"===A?"text-white":"text-gray-800"),children:"Loading Employee Directory"}),(0,m.jsx)("p",{className:"text-sm ".concat("dark"===A?"text-gray-300":"text-gray-600"),children:"Discovering your colleagues..."})]})})}):Y?(0,m.jsxs)(m.Fragment,{children:[Y?(0,m.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] p-2 sm:p-4",children:(0,m.jsxs)(o.P.div,{initial:{y:-50,opacity:0,scale:.9},animate:{y:0,opacity:1,scale:1},exit:{y:-50,opacity:0,scale:.9},transition:{duration:.3},className:"rounded-2xl sm:rounded-3xl w-full max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl animate-slideUp flex flex-col ".concat("dark"===A?"bg-gray-800":"bg-white"),children:[(0,m.jsx)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white flex-shrink-0",children:(0,m.jsxs)("div",{className:"flex justify-between items-center",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,m.jsx)("div",{className:"text-xl sm:text-2xl",children:(0,m.jsx)(c.QwN,{})}),(0,m.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,m.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:"Add New Employee"}),(0,m.jsx)("p",{className:"text-xs sm:text-sm opacity-90 mt-1",children:"Provide user credentials and basic employee details."})]})]}),(0,m.jsx)("button",{onClick:Fe,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,m.jsx)(c.$8F,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})}),(0,m.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,m.jsxs)("form",{onSubmit:_e,className:"p-4 sm:p-6 md:p-8",children:[(0,m.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,m.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center ".concat("dark"===A?"text-blue-400":"text-blue-600"),children:[(0,m.jsx)(c.itB,{className:"w-5 h-5 mr-2"}),"User Credentials"]}),(0,m.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:h.map(e=>(0,m.jsx)("div",{children:We(e,$,Me,X[e.name])},e.name))})]}),(0,m.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,m.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center ".concat("dark"===A?"text-purple-400":"text-purple-600"),children:[(0,m.jsx)(c.SNd,{className:"w-5 h-5 mr-2"}),"Employee Information"]}),(0,m.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:u.map(e=>(0,m.jsx)("div",{children:We(e,$,"department-dropdown"===e.type?qe:Me,X[e.name])},e.name))})]}),$.general&&(0,m.jsx)("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 border-l-4 border-red-400 rounded-r-lg ".concat("dark"===A?"bg-red-900/20":"bg-red-50"),children:(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)(c.tr_,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400 mr-3"}),(0,m.jsx)("p",{className:"font-medium text-sm ".concat("dark"===A?"text-red-300":"text-red-800"),children:$.general})]})})]})}),(0,m.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex-shrink-0 ".concat("dark"===A?"border-gray-700 bg-gray-900/50":"border-gray-200 bg-gray-50/50"," flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4"),children:[(0,m.jsx)("button",{type:"button",onClick:Fe,className:"px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold transition-all duration-200 focus:ring-4 focus:ring-gray-500/20 text-sm sm:text-base ".concat("dark"===A?"border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500":"border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400"),children:"Cancel"}),(0,m.jsx)("button",{type:"submit",onClick:_e,disabled:H,className:"px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-purple-500/30 text-sm sm:text-base flex items-center justify-center space-x-2 ".concat(H?"cursor-not-allowed opacity-75":""),children:H?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"h-3 w-3 sm:h-4 sm:w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,m.jsx)("span",{children:Z||"Saving..."})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.G3G,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,m.jsx)("span",{children:"Create Employee"})]})})]})]})}):null,(0,m.jsx)("div",{className:"min-h-screen absolute inset-0 filter blur-sm ".concat("dark"===A?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100")})]}):(0,m.jsxs)("div",{className:"min-h-screen px-0 sm:px-4 lg:px-6 xl:px-8 py-4 sm:py-6 lg:py-8 ".concat("dark"===A?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:[(0,m.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,m.jsxs)(o.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"rounded-none sm:rounded-xl md:rounded-2xl p-3 sm:p-4 md:p-5 shadow-lg border mb-4 sm:mb-6 mx-2 sm:mx-0 ".concat("dark"===A?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsxs)("div",{className:"relative group max-w-full sm:max-w-sm md:max-w-md",children:[(0,m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-2.5 flex items-center pointer-events-none",children:(0,m.jsx)(c.ZYA,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 ".concat("text-gray-400")})}),(0,m.jsx)("input",{type:"text",className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 pl-7 sm:pl-8 border rounded-md sm:rounded-lg transition-all duration-300 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none placeholder-gray-500 text-xs sm:text-sm ".concat("dark"===A?"bg-gray-700 border-gray-600 text-white hover:border-gray-500 group-hover:border-blue-400":"bg-gray-50 border-gray-200 text-gray-800 hover:border-gray-300 group-hover:border-blue-300"),placeholder:"Search...",value:D,onChange:e=>L(e.target.value)})]})}),(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 items-stretch sm:items-center justify-between",children:[(0,m.jsx)("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:v.map(e=>{const t=e.icon;return(0,m.jsxs)("div",{className:"relative group min-w-0 flex-1 sm:flex-initial",children:[(0,m.jsx)("div",{className:"absolute inset-y-0 left-0 pl-1.5 sm:pl-2 flex items-center pointer-events-none",children:(0,m.jsx)(t,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 ".concat("text-gray-400")})}),(0,m.jsx)("select",{className:"px-3 sm:px-4 py-2 sm:py-2.5 pl-6 sm:pl-7 pr-4 sm:pr-5 border rounded-md sm:rounded-lg transition-all duration-300 appearance-none cursor-pointer min-w-[100px] sm:min-w-[120px] text-xs truncate focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ".concat("dark"===A?"bg-gray-700 border-gray-600 text-white hover:border-gray-500 group-hover:border-blue-400":"bg-gray-50 border-gray-200 text-gray-700 hover:border-gray-300 group-hover:border-blue-300"),value:T[e.name]||e.options[0],onChange:t=>R((0,l.A)((0,l.A)({},T),{},{[e.name]:t.target.value})),children:e.options.map(e=>(0,m.jsx)("option",{value:e,children:e},e))}),(0,m.jsx)("div",{className:"absolute inset-y-0 right-0 pr-1.5 sm:pr-2 flex items-center pointer-events-none",children:(0,m.jsx)(c.EUj,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 ".concat("text-gray-400")})})]},e.name)})}),(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row gap-1.5 sm:gap-2",children:[(0,m.jsxs)("button",{onClick:Ue,className:"px-4 sm:px-5 py-1.5 sm:py-2 border rounded-md sm:rounded-lg font-medium transition-all duration-200 focus:ring-2 focus:ring-gray-500/20 text-xs flex items-center justify-center space-x-1.5 ".concat("dark"===A?"border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500":"border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400"),children:[(0,m.jsx)(c.mzO,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),(0,m.jsx)("span",{children:"Clear"})]}),q&&q.includes("CREAT_USER")&&(0,m.jsxs)("button",{onClick:()=>V(!0),className:"px-4 sm:px-5 py-1.5 sm:py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium rounded-md sm:rounded-lg hover:shadow-md transform hover:scale-105 transition-all duration-200 focus:ring-2 focus:ring-blue-500/30 text-xs flex items-center justify-center space-x-1.5",children:[(0,m.jsx)(c.QwN,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),(0,m.jsx)("span",{children:"Add"})]}),q&&q.includes("TERMINATE_EMPLOYEES_BTN")&&(0,m.jsxs)("button",{onClick:async()=>{ge([]),je(0),we(!0),ke(""),he(!0),Be(0,!0)},className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition-colors duration-200 text-xs flex items-center justify-center space-x-1.5",children:[(0,m.jsx)(c.dW_,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),(0,m.jsx)("span",{children:"Terminate"})]}),(0,m.jsxs)("div",{className:"flex rounded-md p-0.5 ".concat("dark"===A?"bg-gray-700":"bg-gray-100"),children:[(0,m.jsx)("button",{onClick:()=>E("grid"),className:"p-1 sm:p-1.5 rounded-sm transition-all duration-200 ".concat("grid"===I?"dark"===A?"bg-gray-600 text-blue-400 shadow-sm":"bg-white text-blue-600 shadow-sm":"dark"===A?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"),children:(0,m.jsx)(c.R_j,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})}),(0,m.jsx)("button",{onClick:()=>E("list"),className:"p-1 sm:p-1.5 rounded-sm transition-all duration-200 ".concat("list"===I?"dark"===A?"bg-gray-600 text-blue-400 shadow-sm":"bg-white text-blue-600 shadow-sm":"dark"===A?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"),children:(0,m.jsx)(c.X9N,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})})]})]})]})]}),(0,m.jsx)("div",{className:"flex items-center justify-between mb-4 sm:mb-3 mx-4 sm:mx-0",children:(0,m.jsxs)("h3",{className:"text-base sm:text-lg font-semibold ".concat("dark"===A?"text-white":"text-gray-800"),children:[Re.length," Employee",1!==Re.length?"s":""," Found"]})}),0===Re.length?(0,m.jsxs)(o.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center py-12 sm:py-16 px-4",children:[(0,m.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 ".concat("dark"===A?"bg-gray-700":"bg-gray-100"),children:(0,m.jsx)(c.SNd,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),(0,m.jsx)("h2",{className:"text-lg sm:text-xl font-bold mb-2 ".concat("dark"===A?"text-white":"text-gray-800"),children:"No Employees Found"}),(0,m.jsx)("p",{className:"text-sm sm:text-base mb-4 ".concat("dark"===A?"text-gray-300":"text-gray-600"),children:"Try adjusting your search terms or filters."}),(0,m.jsx)("button",{onClick:Ue,className:"px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-blue-500/30 text-sm sm:text-base",children:"Clear All Filters"})]}):(0,m.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"grid"===I?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 mx-4 sm:mx-0":"space-y-3 sm:space-y-4 mx-4 sm:mx-0",children:(0,m.jsx)(n.N,{children:Re.map((e,t)=>{const s=e.employeeId===P;return(0,m.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,delay:.05*t},className:"relative",style:"grid"===I?{perspective:"1000px"}:{},children:"grid"===I?(0,m.jsxs)("div",{className:"relative w-full h-72 sm:h-80 cursor-pointer transition-transform duration-700 preserve-3d ".concat(F===e.employeeId?"rotate-y-180":""),onClick:t=>{t.stopPropagation(),W(t=>t===e.employeeId?null:e.employeeId)},style:{transformStyle:"preserve-3d"},children:[(0,m.jsx)("div",{className:"absolute inset-0 w-full h-full rounded-xl shadow-lg border cursor-pointer group backface-hidden transform-gpu transition-all duration-300 hover:shadow-xl ".concat("dark"===A?"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-blue-500/50":"bg-gradient-to-br from-white to-gray-50 border-gray-200 hover:border-blue-400/50"," hover:scale-105"),style:{backfaceVisibility:"hidden"},children:(0,m.jsxs)("div",{className:"flex flex-col h-full p-3 sm:p-4 relative overflow-hidden",children:[(0,m.jsx)("div",{className:"absolute top-0 right-0 w-16 h-16 opacity-10 pointer-events-none",children:(0,m.jsx)("div",{className:"w-full h-full rounded-full ".concat("dark"===A?"bg-blue-400":"bg-blue-500"," transform translate-x-8 -translate-y-8")})}),(0,m.jsxs)("div",{className:"flex flex-col items-center text-center mb-3 z-10",children:[(0,m.jsx)("div",{className:"relative mb-2",children:e.employeeImage?(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("img",{src:e.employeeImage,alt:"".concat(e.displayName,"'s profile picture"),className:"h-14 w-14 sm:h-16 sm:w-16 rounded-xl object-cover border-3 border-blue-400 shadow-lg group-hover:border-blue-500 transition-all duration-300 transform group-hover:scale-105"}),(0,m.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white shadow-sm"})]}):(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("div",{className:"h-14 w-14 sm:h-16 sm:w-16 rounded-xl bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 flex items-center justify-center text-white text-sm sm:text-lg font-bold shadow-lg group-hover:from-blue-600 group-hover:via-indigo-600 group-hover:to-purple-700 transition-all duration-300 transform group-hover:scale-105",children:g(e.displayName)}),(0,m.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white shadow-sm"})]})}),(0,m.jsxs)("div",{className:"w-full px-1",children:[(0,m.jsx)("h3",{className:"text-sm sm:text-base font-bold mb-1 truncate ".concat("dark"===A?"text-white":"text-gray-900"),children:e.displayName}),(0,m.jsx)("p",{className:"text-xs font-semibold px-2 py-0.5 rounded-full truncate ".concat("dark"===A?"text-blue-300 bg-blue-900/40":"text-blue-700 bg-blue-100"),children:e.jobTitlePrimary||"Not Updated Job Title"})]})]}),(0,m.jsx)("div",{className:"flex-1 flex flex-col justify-end min-h-0",children:(0,m.jsxs)("div",{className:"space-y-1.5 px-1",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-2 p-1.5 rounded-lg overflow-hidden ".concat("dark"===A?"bg-gray-700/50 text-gray-300":"bg-gray-100/50 text-gray-600"),children:[(0,m.jsx)(c.UvE,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===A?"text-orange-400":"text-orange-500")}),(0,m.jsx)("span",{className:"truncate font-mono text-xs min-w-0",children:e.employeeId})]}),(0,m.jsxs)("div",{className:"flex items-center space-x-2 p-1.5 rounded-lg overflow-hidden ".concat("dark"===A?"bg-gray-700/50 text-gray-300":"bg-gray-100/50 text-gray-600"),children:[(0,m.jsx)(c.ZDc,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===A?"text-blue-400":"text-blue-500")}),(0,m.jsx)("span",{className:"truncate text-xs min-w-0",children:e.departmentId||"N/A"})]}),(0,m.jsxs)("div",{className:"flex items-center space-x-2 p-1.5 rounded-lg overflow-hidden ".concat("dark"===A?"bg-gray-700/50 text-gray-300":"bg-gray-100/50 text-gray-600"),children:[(0,m.jsx)(c.o9J,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===A?"text-green-400":"text-green-500")}),(0,m.jsx)("span",{className:"truncate text-xs min-w-0",children:e.location||"N/A"})]}),(0,m.jsxs)("div",{className:"flex items-center space-x-2 p-1.5 rounded-lg overflow-hidden ".concat("dark"===A?"bg-gray-700/50 text-gray-300":"bg-gray-100/50 text-gray-600"),children:[(0,m.jsx)(c.SOx,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===A?"text-purple-400":"text-purple-500")}),(0,m.jsx)("span",{className:"truncate text-xs min-w-0",title:e.workEmail||"N/A",children:e.workEmail||"N/A"})]})]})})]})}),(0,m.jsx)("div",{className:"absolute inset-0 w-full h-full rounded-xl shadow-lg border backface-hidden rotate-y-180 ".concat("dark"===A?"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700":"bg-gradient-to-br from-white to-gray-50 border-gray-200"),style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center h-full space-y-2 sm:space-y-3 p-4 sm:p-5",children:[s?(0,m.jsxs)("div",{className:"text-center space-y-4",children:[(0,m.jsx)(c.SNd,{className:"w-10 h-10 mx-auto ".concat("dark"===A?"text-green-400":"text-green-600")}),(0,m.jsx)("h3",{className:"text-xl sm:text-2xl font-bold ".concat("dark"===A?"text-green-400":"text-green-700"),children:"This is Your Profile"}),(0,m.jsx)("p",{className:"text-sm ".concat("dark"===A?"text-gray-300":"text-gray-600"),children:"Use the main navigation links (e.g., *Profile* or *Documents*) to manage your information."})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"text-center mb-3 sm:mb-4",children:[(0,m.jsx)("h3",{className:"text-base sm:text-lg font-bold mb-2 ".concat("dark"===A?"text-white":"text-gray-900"),children:"Card Options"}),(0,m.jsxs)("p",{className:"text-sm ".concat("dark"===A?"text-gray-400":"text-gray-600"),children:["Actions for ",e.displayName]})]}),(0,m.jsxs)("div",{className:"space-y-1 sm:space-y-2 w-full max-w-xs",children:[(0,m.jsxs)("button",{onClick:t=>{t.stopPropagation(),Se(e)},className:"px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-blue-500/30 text-xs sm:text-sm w-full flex items-center justify-center space-x-2",children:[(0,m.jsx)(c.NWn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,m.jsx)("span",{className:"font-medium",children:"Start Chat"})]}),q&&q.includes("GET_PUBLIC")&&(0,m.jsxs)("button",{onClick:t=>{t.stopPropagation(),Pe(e)},className:"px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r from-green-500 to-teal-600 text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-green-500/30 text-xs sm:text-sm w-full flex items-center justify-center space-x-2",children:[(0,m.jsx)(c.SNd,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,m.jsx)("span",{className:"font-medium",children:"View Profile"})]}),q&&q.includes("EMPLOYEE_VIEW_DOCS")&&(0,m.jsxs)("button",{onClick:t=>{t.stopPropagation(),De(e)},className:"px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-yellow-500/30 text-xs sm:text-sm w-full flex items-center justify-center space-x-2",children:[(0,m.jsx)(c.dyP,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,m.jsx)("span",{className:"font-medium",children:"Documents"})]}),(0,m.jsxs)("button",{onClick:t=>{t.stopPropagation(),(e=>{e&&(b("/payroll/employee/".concat(e.employeeId)),z((0,l.A)((0,l.A)({},B),{},{visible:!1})),W(null))})(e)},className:"px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r from-teal-500 to-cyan-600 text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-teal-500/30 text-xs sm:text-sm w-full flex items-center justify-center space-x-2",children:[(0,m.jsx)(c.IV3,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,m.jsx)("span",{className:"font-medium",children:"View Payroll"})]}),q&&q.includes("VIEW_TEAM")&&(0,m.jsxs)("button",{onClick:t=>{t.stopPropagation(),(e=>{e&&(b("/my-teams/".concat(P,"?fromContextMenu=true&targetEmployeeId=").concat(e.employeeId)),z((0,l.A)((0,l.A)({},B),{},{visible:!1})),W(null))})(e)},className:"px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r from-teal-500 to-cyan-600 text-white font-bold rounded-lg sm:rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 focus:ring-4 focus:ring-teal-500/30 text-xs sm:text-sm w-full flex items-center justify-center space-x-2",children:[(0,m.jsx)(c.IV3,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,m.jsx)("span",{className:"font-medium",children:"View Teams"})]}),Ee.includes("DELETE_USER")&&(0,m.jsxs)("button",{onClick:t=>{t.stopPropagation(),Le(e)},className:"px-4 sm:px-6 py-2 sm:py-3 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors duration-200 text-xs sm:text-sm w-full flex items-center justify-center space-x-2",children:[(0,m.jsx)(c.dW_,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,m.jsx)("span",{className:"font-medium",children:"Terminate Employee"})]})]})]}),(0,m.jsxs)("button",{onClick:e=>{e.stopPropagation(),W(null)},className:"mt-4 px-4 py-2 rounded-lg font-semibold transition-colors text-xs sm:text-sm ".concat("dark"===A?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-200 hover:bg-gray-300 text-gray-800"," flex items-center space-x-1"),children:[(0,m.jsx)(c.NEn,{className:"w-3 h-3"}),(0,m.jsx)("span",{children:"Flip Back"})]})]})})]}):(0,m.jsx)(o.P.div,{whileHover:{scale:1.02,x:s?0:10},whileTap:{scale:.98},className:"rounded-xl p-3 sm:p-4 shadow-lg border cursor-pointer group transition-all duration-300 ".concat(s?"border-green-500 ring-2 ring-green-500/50 hover:scale-100":"dark"===A?"bg-gradient-to-r from-gray-800 to-gray-900 border-gray-700 hover:border-blue-500/50":"bg-gradient-to-r from-white to-gray-50 border-gray-200 hover:border-blue-400/50"),onClick:()=>b("/employees/".concat(P,"/public/").concat(e.employeeId)),children:(0,m.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 relative overflow-hidden",children:[(0,m.jsx)("div",{className:"absolute top-0 right-0 w-16 sm:w-20 h-16 sm:h-20 opacity-10 pointer-events-none",children:(0,m.jsx)("div",{className:"w-full h-full rounded-full ".concat("dark"===A?"bg-blue-400":"bg-blue-500"," transform translate-x-8 sm:translate-x-10 -translate-y-8 sm:-translate-y-10")})}),(0,m.jsx)("div",{className:"flex-shrink-0 relative z-10",children:e.employeeImage?(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("img",{src:e.employeeImage,alt:"".concat(e.displayName,"'s profile picture"),className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl object-cover border-4 border-blue-200 shadow-lg group-hover:border-blue-400 transition-all duration-300 transform group-hover:scale-110"}),(0,m.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white"})]}):(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs sm:text-sm font-bold shadow-lg group-hover:from-blue-600 group-hover:via-indigo-600 group-hover:to-purple-700 transition-all duration-300 transform group-hover:scale-110",children:g(e.displayName)}),(0,m.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white"})]})}),(0,m.jsxs)("div",{className:"flex-1 min-w-0 z-10",children:[(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[(0,m.jsxs)("div",{className:"min-w-0 flex-1 mb-2 sm:mb-0",children:[(0,m.jsxs)("h3",{className:"text-sm sm:text-lg font-bold truncate mb-1 ".concat("dark"===A?"text-white":"text-gray-900"),children:[e.displayName,s&&(0,m.jsx)("span",{className:"ml-2 text-xs font-bold ".concat("dark"===A?"text-green-400":"text-green-600"),children:"(Your Profile)"})]}),(0,m.jsx)("p",{className:"text-xs font-semibold px-2 py-1 rounded-full w-fit ".concat("dark"===A?"text-blue-300 bg-blue-900/40":"text-blue-700 bg-blue-100"),children:e.jobTitlePrimary||"Not Updated"})]}),!s&&(0,m.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,m.jsxs)("button",{onClick:t=>{t.stopPropagation(),Se(e)},className:"p-1.5 sm:p-2 rounded-lg transition-all duration-200 transform hover:scale-110 ".concat("dark"===A?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"," text-white shadow-md hover:shadow-lg"),title:"Start Chat",children:[" ",(0,m.jsx)(c.NWn,{className:"w-3 h-3 sm:w-4 sm:h-4"})," "]}),q&&q.includes("GET_PUBLIC")&&(0,m.jsxs)("button",{onClick:t=>{t.stopPropagation(),Pe(e)},className:"p-1.5 sm:p-2 rounded-lg transition-all duration-200 transform hover:scale-110 ".concat("dark"===A?"bg-green-600 hover:bg-green-700":"bg-green-500 hover:bg-green-600"," text-white shadow-md hover:shadow-lg"),title:"View Profile",children:[" ",(0,m.jsx)(c.SNd,{className:"w-3 h-3 sm:w-4 sm:h-4"})," "]}),q&&q.includes("EMPLOYEE_VIEW_DOCS")&&(0,m.jsxs)("button",{onClick:t=>{t.stopPropagation(),De(e)},className:"p-1.5 sm:p-2 rounded-lg transition-all duration-200 transform hover:scale-110 ".concat("dark"===A?"bg-yellow-600 hover:bg-yellow-700":"bg-yellow-500 hover:bg-yellow-600"," text-white shadow-md hover:shadow-lg"),title:"Documents",children:[" ",(0,m.jsx)(c.dyP,{className:"w-3 h-3 sm:w-4 sm:h-4"})," "]}),Ee.includes("DELETE_USER")&&(0,m.jsxs)("button",{onClick:t=>{t.stopPropagation(),Le(e)},disabled:s,className:"p-1.5 sm:p-2 rounded-lg transition-all duration-200 transform ".concat(s?"opacity-50 cursor-not-allowed":"hover:scale-110 bg-red-600 hover:bg-red-700"," text-white shadow-md hover:shadow-lg"),title:s?"Cannot terminate your own profile":"Terminate Employee",children:[" ",(0,m.jsx)(c.dW_,{className:"w-3 h-3 sm:w-4 sm:h-4"})," "]})]})]}),(0,m.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1 sm:gap-2 text-xs mt-2",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-1 p-1 sm:p-1.5 rounded-md overflow-hidden ".concat("dark"===A?"bg-gray-700/50 text-gray-300":"bg-gray-100 text-gray-600"),children:[(0,m.jsx)(c.UvE,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===A?"text-orange-400":"text-orange-500")}),(0,m.jsx)("span",{className:"truncate font-mono text-xs",children:e.employeeId})]}),(0,m.jsxs)("div",{className:"flex items-center space-x-1 p-1 sm:p-1.5 rounded-md overflow-hidden ".concat("dark"===A?"bg-gray-700/50 text-gray-300":"bg-gray-100 text-gray-600"),children:[(0,m.jsx)(c.ZDc,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===A?"text-blue-400":"text-blue-500")}),(0,m.jsx)("span",{className:"truncate",children:e.departmentId||"N/A"})]}),(0,m.jsxs)("div",{className:"flex items-center space-x-1 p-1 sm:p-1.5 rounded-md overflow-hidden ".concat("dark"===A?"bg-gray-700/50 text-gray-300":"bg-gray-100 text-gray-600"),children:[(0,m.jsx)(c.o9J,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===A?"text-green-400":"text-green-500")}),(0,m.jsx)("span",{className:"truncate",children:e.location||"N/A"})]}),(0,m.jsxs)("div",{className:"flex items-center space-x-1 p-1 sm:p-1.5 rounded-md overflow-hidden ".concat("dark"===A?"bg-gray-700/50 text-gray-300":"bg-gray-100 text-gray-600"),children:[(0,m.jsx)(c.SOx,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===A?"text-purple-400":"text-purple-500")}),(0,m.jsx)("span",{className:"truncate text-xs",title:e.workEmail||"N/A",children:e.workEmail||"N/A"})]})]})]})]})})},e.employeeId)})})}),(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 sm:mt-8 gap-4 mx-4 sm:mx-0",children:[(0,m.jsxs)("button",{onClick:()=>oe(e=>Math.max(0,e-1)),disabled:0===le,className:"flex items-center space-x-2 px-6 sm:px-8 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-sm transition-all duration-200 ".concat("dark"===A?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"," disabled:opacity-50 disabled:cursor-not-allowed"),children:[(0,m.jsx)(c.NEn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,m.jsx)("span",{children:"Previous"})]}),(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,m.jsxs)("span",{className:"text-xs sm:text-sm ".concat("dark"===A?"text-gray-300":"text-gray-700"),children:["Page ",le+1]}),(0,m.jsxs)("select",{value:ne,onChange:e=>{ie(parseInt(e.target.value)),oe(0)},className:"px-3 sm:px-4 py-2 sm:py-3 border-2 rounded-lg text-xs sm:text-sm ".concat("dark"===A?"bg-gray-700 text-white border-gray-600":"bg-gray-100 text-gray-800 border-gray-300"),children:[(0,m.jsx)("option",{value:"15",children:"15 per page"}),(0,m.jsx)("option",{value:"30",children:"30 per page"}),(0,m.jsx)("option",{value:"50",children:"50 per page"})]})]}),(0,m.jsxs)("button",{onClick:()=>oe(e=>e+1),disabled:Re.length<ne,className:"flex items-center space-x-2 px-6 sm:px-8 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-sm transition-all duration-200 ".concat("dark"===A?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"," disabled:opacity-50 disabled:cursor-not-allowed"),children:[(0,m.jsx)("span",{children:Re.length<ne?"Last Page":"Next"}),Re.length<ne?(0,m.jsx)(c.wKx,{className:"w-3 h-3 sm:w-4 sm:h-4"}):(0,m.jsx)(c.Lqc,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})]})]}),pe&&(()=>{if(!pe)return null;const e="https://hrms.anasolconsultancyservices.com/api",t=(e,t)=>(Array.isArray(t)&&(t=t.join(", ")),(0,m.jsxs)("div",{className:"text-xs",children:[(0,m.jsxs)("span",{className:"font-semibold",children:[e,":"]})," ",t||"N/A"]})),s=(t,s)=>{if(!s)return null;const a=s.startsWith("http")?s:"".concat(e,"/").concat(s);return(0,m.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-xs mt-1 inline-block",children:t})};return(0,m.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-[200] p-2 sm:p-4",children:(0,m.jsxs)(o.P.div,{initial:{y:-50,opacity:0,scale:.9},animate:{y:0,opacity:1,scale:1},exit:{y:-50,opacity:0,scale:.9},transition:{duration:.3},className:"relative w-full max-w-sm sm:max-w-md lg:max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl rounded-xl sm:rounded-2xl ".concat("dark"===A?"bg-gray-800 text-white":"bg-white text-gray-900"),children:[(0,m.jsxs)("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-red-500 to-red-700 text-white relative overflow-hidden",children:[(0,m.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,m.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,m.jsx)("div",{className:"text-lg sm:text-2xl",children:(0,m.jsx)(c.dW_,{})}),(0,m.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,m.jsx)("h2",{className:"text-lg sm:text-xl font-bold break-words",children:"Terminated Employees"}),(0,m.jsxs)("p",{className:"text-white/90 text-xs sm:text-sm break-words",children:["List of employees who have left the company (",Ye.length," found)"]})]})]}),(0,m.jsx)("button",{onClick:()=>he(!1),className:"p-2 hover:bg-white/20 rounded-full transition-all duration-200 group flex-shrink-0",children:(0,m.jsx)(c.$8F,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:rotate-90 transition-transform duration-200"})})]})]}),(0,m.jsx)("div",{className:"px-4 sm:px-6 py-3 border-b ".concat("dark"===A?"border-gray-700":"border-gray-200"),children:(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)(c.ZYA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ".concat("dark"===A?"text-gray-400":"text-gray-500")}),(0,m.jsx)("input",{type:"text",placeholder:"Search terminated employees...",value:Ne,onChange:e=>ke(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 ".concat("dark"===A?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500")})]})}),(0,m.jsxs)("div",{ref:Ie,className:"overflow-y-auto max-h-[calc(95vh-180px)] p-4 sm:p-6",onScroll:ze,children:[Ye.length>0?(0,m.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Ye.map((a,r)=>(0,m.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:r%15*.05},className:"p-4 rounded-lg border ".concat("dark"===A?"bg-gray-700 border-gray-600":"bg-gray-100 border-gray-300"," hover:shadow-lg transition-all duration-300"),children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,m.jsxs)("div",{className:"flex-shrink-0",children:[a.employeeImage?(0,m.jsx)("img",{src:a.employeeImage.startsWith("http")?a.employeeImage:"".concat(e,"/").concat(a.employeeImage),alt:"".concat(a.displayName||"Employee","'s profile"),className:"h-12 w-12 rounded-full object-cover border-2 border-red-300 shadow-md",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,m.jsx)("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-red-500 via-red-600 to-red-700 flex items-center justify-center text-white text-sm font-bold shadow-md ".concat(a.employeeImage?"hidden":"flex"),children:g(a.displayName||a.employeeId||"N/A")})]}),(0,m.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,m.jsx)("h4",{className:"font-semibold text-sm truncate",children:a.displayName||"N/A"}),(0,m.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a.employeeId})]})]}),(0,m.jsxs)("div",{className:"space-y-1",children:[t("Work Email",a.workEmail),t("Work Number",a.workNumber),t("Gender",a.gender),t("Date of Joining",a.dateOfJoining),t("Date of Leaving",a.dateOfLeaving),t("Department",a.departmentId),t("Projects",a.projectId),t("Teams",a.teamId),t("Aadhaar Number",a.aadharNumber),t("PAN Number",a.panNumber),t("Passport Number",a.passportNumber),a.degreeDocuments&&Array.isArray(a.degreeDocuments)&&a.degreeDocuments.map((e,t)=>(0,m.jsx)("div",{children:s("Click for Degree Image ".concat(t+1),e)},t)),(0,m.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[s("Employee Image",a.employeeImage),s("Aadhaar Image",a.aadharImage),s("PAN Image",a.panImage),s("Passport Image",a.passportImage)]})]})]},"".concat(a.employeeId,"-").concat(r)))}):ye?(0,m.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,m.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"}),(0,m.jsx)("span",{className:"ml-3 text-sm",children:"Loading terminated employees..."})]}):(0,m.jsx)("p",{className:"text-center text-sm italic text-gray-500 py-8",children:Ne?"No terminated employees found matching your search.":"No terminated employees found."}),ye&&ue.length>0&&(0,m.jsxs)("div",{className:"flex justify-center items-center py-4 mt-4",children:[(0,m.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-red-500"}),(0,m.jsx)("span",{className:"ml-3 text-sm",children:"Loading more..."})]}),!fe&&ue.length>0&&(0,m.jsx)("div",{className:"text-center py-4 mt-4",children:(0,m.jsxs)("p",{className:"text-sm text-gray-500 italic",children:["\u2014 End of results (",ue.length," total employees) \u2014"]})})]})]})})})(),te.show&&(0,m.jsxs)(x,{onClose:()=>se({show:!1,message:"",type:""}),title:"success"===te.type?"Success":"Error",type:te.type,theme:A,children:[(0,m.jsx)("p",{className:"mb-4 sm:mb-6 text-sm ".concat("dark"===A?"text-gray-300":"text-gray-700"),children:te.message}),(0,m.jsx)("div",{className:"flex justify-end",children:(0,m.jsx)("button",{onClick:()=>se({show:!1,message:"",type:""}),className:"".concat("success"===te.type?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"," text-white font-semibold py-2 px-6 rounded-lg transition-colors text-sm"),children:"OK"})})]}),ae.show&&(0,m.jsxs)(x,{onClose:()=>re({show:!1,employee:null}),title:"Confirm Termination",type:"confirm",theme:A,children:[(0,m.jsxs)("p",{className:"mb-4 sm:mb-6 text-sm ".concat("dark"===A?"text-gray-300":"text-gray-700"),children:["Are you sure you want to Terminate employee ",(0,m.jsx)("strong",{children:null===(s=ae.employee)||void 0===s?void 0:s.displayName}),"? This action cannot be undone and will delete the user's credentials."]}),(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3",children:[(0,m.jsx)("button",{onClick:()=>re({show:!1,employee:null}),className:"w-full sm:w-auto px-6 py-2 rounded-lg font-semibold transition-colors text-sm ".concat("dark"===A?"bg-gray-600 hover:bg-gray-500 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"),children:"Cancel"}),(0,m.jsx)("button",{onClick:async()=>{const{employee:e}=ae;if(!e)return;const t=e.employeeId.toLowerCase();try{await d.yE.delete("employee/".concat(e.employeeId)),await d.ZQ.delete("delete/".concat(t)),w(t=>t.filter(t=>t.employeeId!==e.employeeId)),se({show:!0,message:"Employee ".concat(e.displayName," and associated user credentials have been successfully deleted."),type:"success"})}catch(r){var s,a;console.error("Error deleting employee and user:",r);const e=(null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"The user service may have failed to delete credentials. Please verify the backend logs.";se({show:!0,message:"Failed to complete full deletion. ".concat(e),type:"error"})}finally{re({show:!1,employee:null}),W(null)}},className:"w-full sm:w-auto px-6 py-2 rounded-lg font-semibold text-white bg-red-600 hover:bg-red-700 transition-colors text-sm",children:"Terminate"})]})]}),(0,m.jsx)("style",{jsx:!0,children:"\n                 @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n                 @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }\n                 @keyframes slideIn { from { transform: translateX(-10px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\n                 @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n                 .animate-fadeIn { animation: fadeIn 0.3s ease-out; }\n                 .animate-slideUp { animation: slideUp 0.4s ease-out; }\n                 .animate-slideIn { animation: slideIn 0.3s ease-out; }\n                 .animate-spin { animation: spin 1s linear infinite; }\n             "})]})};var f=s(4880);const w=()=>(0,m.jsxs)(r.BV,{children:[(0,m.jsx)(r.qh,{index:!0,element:(0,m.jsx)(b,{})}),(0,m.jsx)(r.qh,{path:"employee/:id",element:(0,m.jsx)(f.default,{})})]})},9570:(e,t,s)=>{s.d(t,{N:()=>v});var a=s(579),r=s(5043),l=s(2190),o=s(4930),n=s(293),i=s(9379),d=s(9674),c=s(8676),m=s(1051);function x(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function p(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r.useCallback(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return e=>{let s=!1;const a=t.map(t=>{const a=x(t,e);return s||"function"!==typeof a||(s=!0),a});if(s)return()=>{for(let e=0;e<a.length;e++){const s=a[e];"function"===typeof s?s():x(t[e],null)}}}}(...t),t)}class h extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,s=(0,c.s)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:s,anchorX:l,root:o}=e;const n=(0,r.useId)(),i=(0,r.useRef)(null),d=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,r.useContext)(m.Q),x=p(i,null===t||void 0===t?void 0:t.ref);return(0,r.useInsertionEffect)(()=>{const{width:e,height:t,top:a,left:r,right:m}=d.current;if(s||!i.current||!e||!t)return;const x="left"===l?"left: ".concat(r):"right: ".concat(m);i.current.dataset.motionPopId=n;const p=document.createElement("style");c&&(p.nonce=c);const h=null!==o&&void 0!==o?o:document.head;return h.appendChild(p),p.sheet&&p.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(x,"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{h.contains(p)&&h.removeChild(p)}},[s]),(0,a.jsx)(h,{isPresent:s,childRef:i,sizeRef:d,children:r.cloneElement(t,{ref:x})})}const g=e=>{let{children:t,initial:s,isPresent:l,onExitComplete:n,custom:c,presenceAffectsLayout:m,mode:x,anchorX:p,root:h}=e;const g=(0,o.M)(y),b=(0,r.useId)();let f=!0,w=(0,r.useMemo)(()=>(f=!1,{id:b,initial:s,isPresent:l,custom:c,onExitComplete:e=>{g.set(e,!0);for(const t of g.values())if(!t)return;n&&n()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[l,g,n]);return m&&f&&(w=(0,i.A)({},w)),(0,r.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[l]),r.useEffect(()=>{!l&&!g.size&&n&&n()},[l]),"popLayout"===x&&(t=(0,a.jsx)(u,{isPresent:l,anchorX:p,root:h,children:t})),(0,a.jsx)(d.t.Provider,{value:w,children:t})};function y(){return new Map}var b=s(8917);const f=e=>e.key||"";function w(e){const t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}const v=e=>{let{children:t,custom:s,initial:i=!0,onExitComplete:d,presenceAffectsLayout:c=!0,mode:m="sync",propagate:x=!1,anchorX:p="left",root:h}=e;const[u,y]=(0,b.xQ)(x),v=(0,r.useMemo)(()=>w(t),[t]),j=x&&!u?[]:v.map(f),N=(0,r.useRef)(!0),k=(0,r.useRef)(v),I=(0,o.M)(()=>new Map),[E,C]=(0,r.useState)(v),[A,S]=(0,r.useState)(v);(0,n.E)(()=>{N.current=!1,k.current=v;for(let e=0;e<A.length;e++){const t=f(A[e]);j.includes(t)?I.delete(t):!0!==I.get(t)&&I.set(t,!1)}},[A,j.length,j.join("-")]);const P=[];if(v!==E){let e=[...v];for(let t=0;t<A.length;t++){const s=A[t],a=f(s);j.includes(a)||(e.splice(t,0,s),P.push(s))}return"wait"===m&&P.length&&(e=P),S(w(e)),C(v),null}const{forceRender:D}=(0,r.useContext)(l.L);return(0,a.jsx)(a.Fragment,{children:A.map(e=>{const t=f(e),r=!(x&&!u)&&(v===A||j.includes(t));return(0,a.jsx)(g,{isPresent:r,initial:!(N.current&&!i)&&void 0,custom:s,presenceAffectsLayout:c,mode:m,root:h,onExitComplete:r?void 0:()=>{if(!I.has(t))return;I.set(t,!0);let e=!0;I.forEach(t=>{t||(e=!1)}),e&&(null===D||void 0===D||D(),S(k.current),x&&(null===y||void 0===y||y()),d&&d())},anchorX:p,children:e},t)})})}}}]);
//# sourceMappingURL=473.2a31bc78.chunk.js.map