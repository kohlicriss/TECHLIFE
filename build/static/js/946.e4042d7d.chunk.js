"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[946],{4921:(e,t,a)=>{a.d(t,{A:()=>h});var s=a(5043),r=a(9910),n=a(579);const i=["All","Paid","Sick","Casual","Unpaid"],l=["Name (A-Z)","Name (Z-A)","Recently Added","Last Month","This Month","Highest Overtime"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],c=[{employeeId:"EMP001",name:"Rajesh",month:10,year:2025,paid:10,sick:5,casual:3,unpaid:2,paidConsumed:1,sickConsumed:0,casualConsumed:1,unpaidConsumed:0,shiftName:"Day Shift",weekEffectiveHours:40,monthlyEffectiveHours:160,monthlyOnTime:20,monthlyOvertime:{seconds:3600}},{employeeId:"EMP002",name:"Sunitha",month:9,year:2025,paid:15,sick:2,casual:5,unpaid:1,paidConsumed:0,sickConsumed:1,casualConsumed:0,unpaidConsumed:0,shiftName:"Night Shift",weekEffectiveHours:35,monthlyEffectiveHours:140,monthlyOnTime:18,monthlyOvertime:{seconds:7200}},{employeeId:"EMP003",name:"Kiran",month:10,year:2025,paid:8,sick:8,casual:4,unpaid:0,paidConsumed:2,sickConsumed:1,casualConsumed:0,unpaidConsumed:0,shiftName:"Day Shift",weekEffectiveHours:40,monthlyEffectiveHours:160,monthlyOnTime:22,monthlyOvertime:{seconds:1800}},{employeeId:"EMP004",name:"Priya",month:8,year:2025,paid:12,sick:3,casual:6,unpaid:3,paidConsumed:1,sickConsumed:0,casualConsumed:2,unpaidConsumed:1,shiftName:"Night Shift",weekEffectiveHours:38,monthlyEffectiveHours:152,monthlyOnTime:19,monthlyOvertime:{seconds:5400}},{employeeId:"EMP005",name:"Mahesh",month:10,year:2025,paid:10,sick:4,casual:5,unpaid:0,paidConsumed:0,sickConsumed:2,casualConsumed:0,unpaidConsumed:0,shiftName:"Day Shift",weekEffectiveHours:40,monthlyEffectiveHours:160,monthlyOnTime:21,monthlyOvertime:{seconds:0}},{employeeId:"EMP006",name:"Deepika",month:7,year:2025,paid:20,sick:0,casual:10,unpaid:5,paidConsumed:5,sickConsumed:0,casualConsumed:5,unpaidConsumed:2,shiftName:"General",weekEffectiveHours:40,monthlyEffectiveHours:160,monthlyOnTime:15,monthlyOvertime:{seconds:10800}},{employeeId:"EMP007",name:"Harish",month:9,year:2025,paid:10,sick:10,casual:10,unpaid:10,paidConsumed:0,sickConsumed:0,casualConsumed:0,unpaidConsumed:3,shiftName:"Night Shift",weekEffectiveHours:36,monthlyEffectiveHours:144,monthlyOnTime:20,monthlyOvertime:{seconds:4500}},{employeeId:"EMP008",name:"Vamsi",month:10,year:2025,paid:7,sick:3,casual:2,unpaid:1,paidConsumed:1,sickConsumed:1,casualConsumed:0,unpaidConsumed:0,shiftName:"Day Shift",weekEffectiveHours:40,monthlyEffectiveHours:160,monthlyOnTime:17,monthlyOvertime:{seconds:900}}],d=c.length,x=e=>{let{label:t,options:a,value:i,onChange:l}=e;const{theme:o}=(0,s.useContext)(r.ob);return(0,n.jsxs)("div",{className:"flex flex-col w-full md:w-auto",children:[(0,n.jsx)("label",{className:"text-sm font-medium ".concat("dark"===o?" text-gray-50 ":"text-gray-700"," mb-1"),children:t}),(0,n.jsx)("select",{value:i,onChange:e=>l(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 ".concat("dark"===o?"bg-gray-700 text-gray-50":"bg-white"," rounded-lg shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm transition duration-150 ease-in-out"),children:a.map(e=>(0,n.jsx)("option",{value:e,children:e},e))})]})},m=e=>{let{label:t,consumed:a,total:s}=e;return(0,n.jsxs)("div",{className:"flex justify-between text-xs py-1 px-2 rounded-full font-medium",style:{backgroundColor:s>0?"rgba(56, 189, 248, 0.1)":"rgba(255, 99, 71, 0.1)",color:s>0?"#0284c7":"#ef4444"},children:[(0,n.jsxs)("span",{children:[t,":"]}),(0,n.jsxs)("span",{className:"font-bold",children:[a," / ",s]})]})};function h(e){let{onBack:t}=e;const{userData:a,theme:h}=(0,s.useContext)(r.ob),[g,u]=(0,s.useState)(i[0]),[y,p]=(0,s.useState)(l[0]),[b,f]=(0,s.useState)(o[(new Date).getMonth()]),v=(new Date).getFullYear(),j=(0,s.useMemo)(()=>{let e=[...c];if("All"!==b){const t=o.indexOf(b)+1;e=e.filter(e=>e.month===t&&e.year===v)}if("All"!==g){const t="".concat(g.toLowerCase(),"Consumed");e=e.filter(e=>e[t]>0)}if("Name (A-Z)"===y)e.sort((e,t)=>e.name.localeCompare(t.name));else if("Name (Z-A)"===y)e.sort((e,t)=>t.name.localeCompare(e.name));else if("Highest Overtime"===y)e.sort((e,t)=>t.monthlyOvertime.seconds-e.monthlyOvertime.seconds);else if("Recently Added"===y)e.sort((e,t)=>t.employeeId.localeCompare(e.employeeId));else if("This Month"===y)e.sort((e,t)=>t.month===o.indexOf(b)+1?1:-1);else if("Last Month"===y){let t=o.indexOf(b)+1-1;t=0===t?12:t,e.sort((e,a)=>a.month===t?1:-1)}return e},[g,y,b,v]),w=e=>({totalLeaves:e.paid+e.sick+e.casual+e.unpaid,consumedLeaves:e.paidConsumed+e.sickConsumed+e.casualConsumed+e.unpaidConsumed});return(0,n.jsxs)("div",{className:"p-4 md:p-8 ".concat("dark"===h?"bg-gray-900":"bg-gray-50"," min-h-screen"),children:[(0,n.jsx)("h1",{className:"text-3xl font-extrabold ".concat("dark"===h?"text-gray-50":"text-gray-800"," mb-6 border-b-2 border-sky-400 pb-2"),children:"Employee Leave & Attendance Dashboard \ud83d\udcca"}),(0,n.jsx)("button",{onClick:t,className:"mb-4 px-4 py-2 bg-indigo-100 text-blue-600 rounded-lg font-semibold shadow hover:bg-indigo-200 transition",children:"\u2190 Back to Dashboard"}),(0,n.jsx)("div",{className:"mb-8 p-4 md:p-6 ".concat("dark"===h?"bg-gray-700":"bg-white"," rounded-xl shadow-lg border border-gray-100"),children:(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6 items-end",children:[(0,n.jsx)(x,{label:"Leave Type:",options:i,value:g,onChange:u}),(0,n.jsx)(x,{label:"Sorted By:",options:l,value:y,onChange:p}),(0,n.jsx)(x,{label:"Select Month:",options:["All",...o],value:b,onChange:f}),(0,n.jsxs)("div",{className:"col-span-2 md:col-span-1 p-2  ".concat("dark"===h?"bg-gray-700 border border-gray-300":"bg-sky-50"," rounded-lg border-l-4 border-sky-400"),children:[(0,n.jsx)("p",{className:"text-sm ".concat("dark"===h?"text-gray-50":"text-gray-600"," font-medium"),children:"Total Employees"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-sky-700",children:d})]})]})}),(0,n.jsxs)("div",{className:"shadow-2xl sm:rounded-lg overflow-hidden",children:[(0,n.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-sky-600 text-white",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Name / ID"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Leave Balance (Total)"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Consumed Leaves"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Monthly Attendance"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Shift / Hours"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:j.map((e,t)=>{const{totalLeaves:a,consumedLeaves:s}=w(e),r=(e.monthlyOvertime.seconds/3600).toFixed(1);return(0,n.jsxs)("tr",{className:"border-b transition-colors duration-200 ".concat("dark"===h?"bg-gray-700 hover:bg-gray-600":"hover:bg-gray-100"),children:[(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,n.jsx)("div",{className:"text-sm font-semibold ".concat("dark"===h?"text-gray-50":"text-gray-900"),children:e.name}),(0,n.jsx)("div",{className:"text-xs ".concat("dark"===h?"text-gray-50":"text-gray-500"),children:e.employeeId})]}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsxs)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[a," Days"]})}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium ".concat("dark"===h?"text-red-400":"text-red-600"),children:[s," Days"]}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[(0,n.jsx)("span",{className:"font-bold ".concat("dark"===h?"text-sky-400":"text-sky-600"),children:e.monthlyOnTime})," On-Time Entries"]}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat("dark"===h?"text-gray-50":"text-gray-500"),children:[e.shiftName," / ",(0,n.jsxs)("span",{className:"font-medium ".concat("dark"===h?"text-orange-300":"text-orange-600"),children:[r," hrs OT"]})]})]},e.employeeId)})})]})}),(0,n.jsx)("div",{className:"md:hidden divide-y divide-gray-200 ".concat("dark"===h?"bg-gray-700":"bg-white"),children:j.map(e=>{const{totalLeaves:t,consumedLeaves:a}=w(e),s=(e.monthlyOvertime.seconds/3600).toFixed(1);return(0,n.jsxs)("div",{className:"p-4 border-b border-gray-200 ".concat("dark"===h?"bg-gray-700":"bg-white"," shadow-sm"),children:[(0,n.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,n.jsx)("h3",{className:"text-lg font-bold ".concat("dark"===h?"text-sky-300":"text-sky-700"),children:e.name}),(0,n.jsx)("span",{className:"text-sm font-medium ".concat("dark"===h?"text-gray-50 bg-gray-800":"text-gray-500 bg-gray-100"," px-2 py-1 rounded-full"),children:e.employeeId})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,n.jsxs)("div",{className:"font-medium ".concat("dark"===h?"text-gray-50":"text-gray-700"),children:["Total Leaves: ",(0,n.jsx)("span",{className:"".concat("dark"===h?"text-green-300":"text-green-600"," font-bold"),children:t})]}),(0,n.jsxs)("div",{className:"font-medium ".concat("dark"===h?"text-gray-50":"text-gray-700"),children:["Consumed: ",(0,n.jsx)("span",{className:"".concat("dark"===h?"text-red-300":"text-red-600"," font-bold"),children:a})]}),(0,n.jsxs)("div",{className:"font-medium ".concat("dark"===h?"text-gray-50":"text-gray-700"),children:["On-Time: ",(0,n.jsx)("span",{className:"font-bold",children:e.monthlyOnTime})]}),(0,n.jsxs)("div",{className:"font-medium ".concat("dark"===h?"text-gray-50":"text-gray-700"),children:["Overtime: ",(0,n.jsxs)("span",{className:"".concat("dark"===h?"text-orange-300":"text-orange-600"," font-bold"),children:[s," hrs"]})]})]}),(0,n.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[(0,n.jsx)(m,{label:"Paid",consumed:e.paidConsumed,total:e.paid}),(0,n.jsx)(m,{label:"Sick",consumed:e.sickConsumed,total:e.sick}),(0,n.jsx)(m,{label:"Casual",consumed:e.casualConsumed,total:e.casual}),(0,n.jsx)(m,{label:"Unpaid",consumed:e.unpaidConsumed,total:e.unpaid})]})]},e.employeeId)})}),0===j.length&&(0,n.jsxs)("div",{className:"p-6 text-center ".concat("dark"===h?"text-gray-50 bg-gray-800":"text-gray-600 bg-gray-100"," text-lg font-medium"),children:[(0,n.jsx)("span",{role:"img","aria-label":"Not Found",children:"\ud83d\ude14"})," No data found for the selected filters."]})]})]})}},7158:(e,t,a)=>{a.d(t,{A:()=>Z});var s=a(3986),r=a(9379),n=a(5043),i=a(363),l=a(5439),o=a(9570),c=a(6446),d=a(379),x=a(9002),m=a(7869),h=a(6102),g=a(6992),u=a(1175),y=a(2185),p=a(6026),b=a(1474),f=a(184),v=a(5200),j=a(9910),w=a(3156),N=a(8105),k=a(3442),C=a(9722),S=a(579);const A=["label","theme"],T=["label","theme","helperText","type"],P=()=>{(0,l.Zp)();const[e,t]=(0,n.useState)("Today"),a=[{name:"Present",value:60},{name:"Late",value:20},{name:"Permission",value:20},{name:"Absent",value:4}],s={Present:"text-green-600",Late:"text-blue-600",Permission:"text-yellow-600",Absent:"text-red-600"},r=["#4CAF50","#2196F3","#FFC107","#EF5350"],i=[...a],{theme:u}=(0,n.useContext)(j.ob);return(0,S.jsxs)(c.P.div,{className:" p-2 rounded-xl shadow-md border border-gray-200 hover:border-blue-500 hover:shadow-xl transition-all duration-300 ease-in-out h-full ".concat("dark"===u?"bg-gray-600 ":"bg-stone-100 "),initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[(0,S.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,S.jsx)("h2",{className:"text-xl font-bold ".concat("dark"===u?"bg-gradient-to-br from-orange-100 to-orange-400 bg-clip-text text-transparent border-gray-100":"text-gray-800 "),children:"Attendance Overview"}),(0,S.jsx)("div",{className:"relative inline-block text-left mt-1",children:(0,S.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"inline-flex justify-center w-full rounded-md border border-gray-200 shadow-sm px-4 py-2  text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat("dark"===u?"bg-gray-600 text-white  hover:bg-gray-500":"bg-white text-gray-700"),children:[(0,S.jsx)("option",{children:"Today"}),(0,S.jsx)("option",{children:"This Week"}),(0,S.jsx)("option",{children:"This Month"}),(0,S.jsx)("option",{children:"Last Month"})]})})]}),(0,S.jsxs)("div",{className:"relative h-48 -mt-10",children:[(0,S.jsx)(x.u,{width:"100%",height:"100%",children:(0,S.jsxs)(g.r,{children:[(0,S.jsx)(h.F,{data:i,cx:"50%",cy:"100%",startAngle:180,endAngle:0,innerRadius:80,outerRadius:140,paddingAngle:2,dataKey:"value",cornerRadius:5,children:i.map((e,t)=>(0,S.jsx)(m.f,{fill:r[t%r.length]},"cell-".concat(t)))}),(0,S.jsx)(d.m,{})]})}),(0,S.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center mt-18",children:[(0,S.jsx)("p",{className:"text-sm font-medium ".concat("dark"===u?"text-white ":"text-gray-500 "),children:" Total Attendance"}),(0,S.jsx)("p",{className:"text-4xl font-bold ".concat("dark"===u?"text-white ":"text-gray-800 "),children:104})]})]}),(0,S.jsx)("hr",{className:"my-6 border-gray-200"}),(0,S.jsxs)("div",{className:"flex justify-between items-start",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h3",{className:"text-lg font-semibold mb-2 ".concat("dark"===u?"text-white ":"text-gray-800 "),children:"Status"}),(0,S.jsx)("ul",{className:"space-y-2",children:(0,S.jsx)(o.N,{children:a.map((e,t)=>(0,S.jsxs)(c.P.li,{className:"flex items-center  font-medium ".concat("dark"===u?"text-white ":s[e.name]||"text-gray-700 "),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},children:[(0,S.jsx)("span",{className:"inline-block h-3 w-3 rounded-full mr-3 ring-2 ring-white",style:{backgroundColor:r[t%r.length]}}),e.name]},e.name))})})]}),(0,S.jsxs)("div",{className:"text-right",children:[(0,S.jsx)("h3",{className:"text-lg font-semibold  mb-2 ".concat("dark"===u?"text-white ":"text-gray-800 "),children:"Percentage"}),(0,S.jsx)("ul",{className:"space-y-2",children:(0,S.jsx)(o.N,{children:a.map((e,t)=>(0,S.jsxs)(c.P.li,{className:"  font-bold ".concat("dark"===u?"text-white ":"text-gray-700 "),initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1*t},children:[e.value,"%"]},e.name))})})]})]})]})},D=e=>(0,S.jsx)("svg",(0,r.A)((0,r.A)({},e),{},{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,S.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm.87 14.13H11.5v-6h1.37v6zM12 5.5c-3.59 0-6.5 2.91-6.5 6.5s2.91 6.5 6.5 6.5 6.5-2.91 6.5-6.5-2.91-6.5-6.5-6.5zm.5 1.5h-1v5.25l4.5 2.62.75-1.35-3.5-2.02V7z"})})),M=[{Month:"Aug",Year:"25",NoofEmployee:100},{Month:"Sept",Year:"25",NoofEmployee:120},{Month:"Oct",Year:"25",NoofEmployee:80},{Month:"Nov",Year:"25",NoofEmployee:150},{Month:"Dec",Year:"25",NoofEmployee:7}],E=()=>{const[e,t]=(0,n.useState)("This Year"),{theme:a}=(0,n.useContext)(j.ob),s=M.map(e=>({name:"".concat(e.Month,"-").concat(e.Year),employees:e.NoofEmployee})),r="dark"===a?"#FFFFFF":"#000000",i="bg-blue-600 text-white shadow-md",l="dark"===a?"bg-gray-600 text-gray-200 hover:bg-gray-500":"bg-white text-gray-700 hover:bg-gray-100";return(0,S.jsxs)(c.P.div,{className:" rounded-xl  focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-md p-4 w-full font-sans border border-gray-200 h-96 flex flex-col ".concat("dark"===a?"bg-gray-700 text-gray-200 ":"bg-stone-100 text-gray-800"),initial:{opacity:0,y:50},animate:{opacity:1,y:.5,scale:1},transition:{duration:.5,delay:.2},children:[(0,S.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,S.jsxs)("div",{className:"flex items-center",children:[(0,S.jsx)(D,{className:"w-6 h-6 text-blue-600 inline-block mr-2"}),(0,S.jsx)("h2",{className:"text-xl font-semibold text-start",children:"No of Leaves Taken"})]}),(0,S.jsxs)("div",{className:"flex p-0.5 rounded-lg border border-gray-300",children:[(0,S.jsx)("button",{className:"text-xs py-1 px-3 rounded-md transition-colors duration-200 ".concat("This Year"===e?i:l),onClick:()=>t("This Year"),children:"This Year"}),(0,S.jsx)("button",{className:"text-xs py-1 px-3 rounded-md transition-colors duration-200 ".concat("Last Year"===e?i:l),onClick:()=>t("Last Year"),children:"Last Year"})]})]}),(0,S.jsx)(x.u,{width:"100%",height:"90%",children:(0,S.jsxs)(b.E,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[(0,S.jsx)(y.W,{dataKey:"name",stroke:r,tick:{fill:r}}),(0,S.jsx)(p.h,{stroke:r,tick:{fill:r},hide:!0}),(0,S.jsx)(d.m,{contentStyle:{backgroundColor:"dark"===a?"#63676cff":"#fff",border:a?"1px solid #4B5563":"1px solid #ccc"}}),(0,S.jsx)(u.y,{dataKey:"employees",fill:"#ADD8E6"})]})})]})},O=()=>{const[e,t]=(0,n.useState)(new Date),[a,s]=(0,n.useState)(0),{theme:r}=(0,n.useContext)(j.ob),i=e.getMonth(),l=e.getFullYear(),d=new Date,x=((e,t)=>new Date(e,t+1,0).getDate())(l,i),m=((e,t)=>new Date(e,t,1).getDay())(l,i),h=Array.from({length:m},(e,t)=>t),g=Array.from({length:x},(e,t)=>t+1);return(0,S.jsx)("div",{className:"flex justify-center rounded-xl items-center  focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat("dark"===r?"bg-gray-600 ":"bg-stone-100 "," p-2"),children:(0,S.jsxs)(c.P.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full h-96 transform transition-all",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0},children:[(0,S.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,S.jsx)(c.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{s(-1),t(e=>{const t=new Date(e);return t.setMonth(t.getMonth()-1),t})},className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:(0,S.jsx)(N.A,{className:"h-5 w-5"})}),(0,S.jsxs)(c.P.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},className:"text-xl font-semibold text-gray-800 dark:text-gray-100 flex-grow text-center",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][i]," ",l]},i+"-"+l),(0,S.jsx)(c.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{s(1),t(e=>{const t=new Date(e);return t.setMonth(t.getMonth()+1),t})},className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:(0,S.jsx)(k.A,{className:"h-5 w-5"})})]}),(0,S.jsx)("div",{className:"grid grid-cols-7 gap-1 p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e,t)=>(0,S.jsx)("div",{className:"text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:e},t))}),(0,S.jsx)(o.N,{initial:!1,custom:a,children:(0,S.jsxs)(c.P.div,{custom:a,variants:{enter:e=>({x:e>0?300:-300,opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e<0?300:-300,opacity:0})},initial:"enter",animate:"center",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"grid grid-cols-7 gap-1 p-4",children:[h.map((e,t)=>(0,S.jsx)("div",{className:"h-10"},"empty-".concat(t))),g.map(e=>{const t=e===d.getDate()&&i===d.getMonth()&&l===d.getFullYear(),a=(m+e-1)%7===0||(m+e-1)%7===6;return(0,S.jsx)("div",{className:"flex items-center justify-center h-10 w-10  rounded-full text-gray-800 dark:text-gray-200 cursor-pointer \n                              ".concat(t?"bg-blue-600 text-white font-bold shadow-md transform scale-110":"","\n                              ").concat(t||a?"":"hover:bg-gray-100 dark:hover:bg-gray-700","\n                              ").concat(!t&&a?"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700":"","\n                              ").concat(t?"relative z-10":"","\n                              transition-all duration-200 ease-in-out\n                              "),children:e},e)})]},i+"-"+l)})]})})},L=[{title:"Total Present",value:"104/108"},{title:"Paid Leaves",value:"10"},{title:"Unpaid Leaves",value:"10"},{title:"Sick leaves",value:"15"},{title:"Pending Request",value:"15"}],R=e=>{let{title:t,icontextcolor:a,value:s,icon:r,color:i}=e;const{theme:l}=(0,n.useContext)(j.ob);return(0,S.jsxs)(c.P.div,{className:" rounded-xl p-2 shadow-md border border-gray-200 hover:border-blue-500 hover:shadow-xl   transition-shadow duration-300 h-full flex flex-col items-center justify-center text-center  focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat("dark"===l?"bg-gray-500 ":"bg-stone-100 "),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,S.jsx)("div",{className:"w-16 h-16 flex items-center justify-center rounded-full mb-2 p-3 ".concat(i,"  ").concat(a),children:n.cloneElement(r,{className:"w-8 h-8 rounded-full"})}),(0,S.jsxs)("div",{children:[(0,S.jsx)("h3",{className:"text-xl font-semibold  ".concat("dark"===l?"text-white ":"text-gray-800 "),children:t}),(0,S.jsx)("p",{className:"text-3xl font-bold mt-2 ".concat("dark"===l?"text-white ":"text-gray-800 "),children:s})]})]})},F=()=>(0,S.jsx)(c.P.div,{className:"p-6 h-full flex flex-col justify-between",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,S.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-6 gap-6 h-full",children:(0,S.jsxs)(o.N,{children:[(0,S.jsx)(q,{}),L.map((e,t)=>{let a,s,r;switch(e.title){case"Total Present":a=(0,S.jsx)(f.YXz,{className:"w-4 h-4 text-white"}),r="bg-green-100",s="text-green-300";break;case"Paid Leaves":a=(0,S.jsx)(f.VGZ,{className:"w-4 h-4 text-white"}),r="bg-pink-100",s="text-pink-300";break;case"Unpaid Leaves":a=(0,S.jsx)(v.JXP,{className:"w-4 h-4 text-white"}),r="bg-yellow-100",s="text-yellow-300";break;case"Sick leaves":a=(0,S.jsx)(v.JXP,{className:"w-4 h-4 text-white"}),r="bg-purple-100",s="text-purple-300";break;case"Pending Request":a=(0,S.jsx)(f.xvZ,{className:"w-4 h-4 text-white"}),r="bg-blue-100",s="text-blue-300";break;default:a=(0,S.jsx)(i.A,{className:"w-4 h-4 text-white"}),r="bg-gray-100"}return(0,S.jsx)(R,{icon:a,color:r,icontextcolor:s,value:e.value,title:e.title,trends:e.trends,trendPercentage:e.trendPercentage,trendPeriod:e.trendPeriod},t)})]})})}),H=[{title:"Total Present",value:104},{title:"Paid Leaves ",value:10},{title:"Unpaid Leaves",value:6},{title:"Sick leaves",value:5},{title:"Pending Request",value:10}],I=["#3B82F6","#F59E0B","#EF4444","#84CC16","#6B7280"],q=()=>{const{theme:e}=(0,n.useContext)(j.ob),t="dark"===e?"#FFFFFF":"#000000";return(0,S.jsx)("div",{className:"flex justify-center items-center",children:(0,S.jsxs)(g.r,{width:180,height:180,children:[(0,S.jsx)(h.F,{data:H,dataKey:"value",nameKey:"title",cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,children:H.map((e,t)=>(0,S.jsx)(m.f,{fill:I[t%I.length]},"cell-".concat(t)))}),(0,S.jsx)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"text-lg font-small ",stroke:t,children:"Leaves"}),(0,S.jsx)(d.m,{})]})})},Y=e=>{let{leave:t,onClose:a}=e;const{theme:s}=(0,n.useContext)(j.ob);return t?(0,S.jsx)(o.N,{children:(0,S.jsx)(c.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center  bg-opacity-25 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,S.jsxs)(c.P.div,{className:" ".concat("dark"===s?"bg-gray-500 text-gray-200":"bg-stone-100"," rounded-lg shadow-xl p-6 max-w-lg w-full relative"),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[(0,S.jsx)("button",{onClick:a,className:"w-20 h-20 absolute top-3 right-3 ".concat("dark"===s?"text-gray-200":"text-gray-500"," hover:text-gray-700 text-xl"),children:(0,S.jsx)(w.XoR,{className:"w-8 h-8"})}),(0,S.jsx)("h2",{className:"text-2xl font-bold mb-4 ".concat("dark"===s?"text-gray-200":"text-gray-800"),children:"Leave Request Summary"}),(0,S.jsxs)("div",{className:"space-y-2",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Employee ID:"})," ",t.employeeId]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Leave Type:"})," ",t.leaveType]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Status:"})," ",t.status]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Request On:"})," ",t.reqOn]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Request To:"})," ",t.reqTo]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Leave Reason:"}),t.leaveReason||"-"," "]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Rejection Reason:"}),t.rejectionReason||"-"," "]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Approved On:"}),t.approvedOn||"-"," "]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("strong",{children:"Half Day:"}),t.halfDay?"Yes":"No"," "]})]})]})})}):null},B=()=>{const{theme:e}=(0,n.useContext)(j.ob),[t,a]=(0,n.useState)([]),[s,i]=(0,n.useState)("All"),[o,d]=(0,n.useState)("All"),[x,m]=(0,n.useState)("Recently added"),[h,g]=(0,n.useState)(1),[u,y]=(0,n.useState)(10),[p,b]=(0,n.useState)(!1),{empID:v}=(0,l.g)(),[w,N]=(0,n.useState)(null),[k,C]=(0,n.useState)(""),[A,T]=(0,n.useState)(""),[P,D]=(0,n.useState)(null),{userData:M}=(0,n.useContext)(j.ob),E=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(null===w||void 0===w||!w.id)return;const s=w.id;localStorage.setItem("lastActionLeaveId",s);try{"APPROVED"===e?await fetch("https://hrms.anasolconsultancyservices.com/api/attendance/admin/leave/".concat(s,"/approve"),{method:"PUT"}):"rejected"===e&&await fetch("https://hrms.anasolconsultancyservices.com/api/attendance/admin/leave/".concat(s,"/reject?reason=").concat(encodeURIComponent(t)),{method:"PUT"}),a(a=>a.map(a=>a.id===s?(0,r.A)((0,r.A)({},a),{},{status:e,rejectionReason:"rejected"===e?t:a.rejectionReason,approvedOn:"APPROVED"===e?(new Date).toISOString().slice(0,10):a.approvedOn}):a))}catch(n){alert("Failed to update leave status. Please try again.")}},O=["All",...new Set(t.map(e=>e.leaveType))],L=["All",...new Set(t.map(e=>e.status))],R=(()=>{let e=[...t];switch(e=e.filter(e=>("All"===s||e.leaveType===s)&&("All"===o||e.status===o)),x){case"Ascending":e.sort((e,t)=>e.leaveType.localeCompare(t.leaveType));break;case"Descending":e.sort((e,t)=>t.leaveType.localeCompare(e.leaveType));break;case"Last Month":const t=new Date;t.setMonth(t.getMonth()-1),e=e.filter(e=>new Date(e.reqOn)>=t);break;case"Last 7 Days":const a=new Date;a.setDate(a.getDate()-7),e=e.filter(e=>new Date(e.reqOn)>=a);break;default:e.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))}return e})(),F=Math.ceil(R.length/u),H=R.slice((h-1)*u,h*u);return(0,n.useEffect)(()=>{(async()=>{try{const e=await fetch("https://hrms.anasolconsultancyservices.com/api/attendance/admin/pendingLeaveRequests"),t=await e.json();a(Array.isArray(t)?t:[])}catch(e){a([])}})()},[]),(0,S.jsxs)(c.P.div,{className:"shadow-lg rounded-xl p-6 border ".concat("dark"===e?"bg-gray-600 text-gray-200":"bg-white text-gray-900"),initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,S.jsx)("h2",{className:"text-2xl font-bold mb-4 text-left border-b pb-4 ".concat("dark"===e?"bg-gradient-to-br from-green-400 to-green-800 bg-clip-text text-transparent border-gray-100":"text-gray-800 border-gray-200"," "),children:"Leave Requests History"}),(0,S.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[(0,S.jsxs)("div",{className:"relative",children:[(0,S.jsx)("label",{className:"text-base font-semibold mr-2 ".concat("dark"===e?"text-white":"text-gray-700"),children:"Leave Type:"}),(0,S.jsx)("select",{value:s,onChange:e=>i(e.target.value),className:"px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 border ".concat("dark"===e?"border-black  bg-gray-500 text-white":"border-gray-300"),children:O.map(e=>(0,S.jsx)("option",{value:e,children:e},e))})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"text-base font-semibold mr-2 ".concat("dark"===e?"text-white":"text-gray-700"),children:"Status:"}),(0,S.jsx)("select",{value:o,onChange:e=>d(e.target.value),className:"px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 border ".concat("dark"===e?"border-black bg-gray-500 text-white":"border-gray-300"),children:L.map(e=>(0,S.jsx)("option",{value:e,children:e},e))})]}),(0,S.jsxs)("div",{className:"relative",children:[(0,S.jsx)("label",{className:"text-base font-semibold mr-2 ".concat("dark"===e?"text-white":"text-gray-700"),children:"Sort by:"}),(0,S.jsx)("select",{value:x,onChange:e=>m(e.target.value),className:"px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 ".concat("dark"===e?"border-black  bg-gray-500 text-white":"border-gray-300"," border"),children:["Recently added","Ascending","Descending","Last Month","Last 7 Days"].map(e=>(0,S.jsx)("option",{value:e,children:e},e))})]})]}),(0,S.jsx)("div",{className:"overflow-x-auto rounded-xl ",children:(0,S.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200",children:[(0,S.jsx)("thead",{className:"bg-gray-50  ".concat("dark"===e?" bg-gray-500 text-white":""),children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{className:"w-1/6 px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ".concat("dark"===e?"text-white":""),children:"Employee ID"}),(0,S.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ".concat("dark"===e?"text-white":""),children:"Leave Type"}),(0,S.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ".concat("dark"===e?"text-white":""),children:"Status"}),(0,S.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ".concat("dark"===e?"text-white":""),children:"Request On"}),(0,S.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ".concat("dark"===e?"text-white":""),children:"Request To"}),(0,S.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ".concat("dark"===e?"text-white":""),children:"Leave Reason"}),(0,S.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ".concat("dark"===e?"text-white":""),children:"Rejection Reason"}),(0,S.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ".concat("dark"===e?"text-white":""),children:"Approved On"}),(0,S.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ".concat("dark"===e?"text-white":""),children:"Half Day"}),(0,S.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ".concat("dark"===e?"text-white":""),children:"Details"}),(0,S.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider ".concat("dark"===e?"text-white":""),children:"Action"})]})}),(0,S.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[H.length>0?H.map((t,a)=>(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  ".concat("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.employeeId}),(0,S.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  ".concat("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.leaveType}),(0,S.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  ".concat("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:(0,S.jsxs)("span",{className:"px-2 py-1 rounded-full text-white text-xs font-semibold ".concat("APPROVED"===t.status?"bg-green-500":"rejected"===t.status?"bg-red-500":"bg-blue-500"),children:[" ",t.status]})}),(0,S.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  ".concat("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.reqOn}),(0,S.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  ".concat("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.reqTo}),(0,S.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  ".concat("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.leaveReason}),(0,S.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  ".concat("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.rejectionReason||"-"}),(0,S.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  ".concat("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.approvedOn||"-"}),(0,S.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  ".concat("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.halfDay?"Yes":"No"}),(0,S.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center ".concat("dark"===e?" bg-gray-500":""),children:(0,S.jsx)("button",{onClick:()=>{D(t)},className:"text-indigo-600 hover:text-indigo-800 text-lg  px-2 rounded",title:"View Details",children:(0,S.jsx)(f.t69,{className:" ".concat("dark"===e?"text-blue-200":"text-blue-600"," text-lg inline w-6 h-6 md:w-6 md:h-6 transition ")})})}),(0,S.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm ".concat("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:(0,S.jsx)("button",{onClick:()=>N(t),className:"".concat("dark"===e?"text-gray-200":"text-gray-600"," hover:text-gray-800 text-lg"),title:"Take Action",children:"\u22ef"})})]},t.id||a)):(0,S.jsx)("tr",{children:(0,S.jsx)("td",{colSpan:9,className:"text-center py-4 text-gray-500 italic",children:"No leave history found."})}),w&&(0,S.jsx)(c.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-opacity-30",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,S.jsxs)(c.P.div,{className:" rounded-lg shadow-xl p-6 max-w-sm w-full relative ".concat("dark"===e?"bg-gray-800 text-white ":"bg-white text-gray-800 "),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[(0,S.jsx)("button",{onClick:()=>{N(null),C(""),T("")},className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"}),(0,S.jsx)("h2",{className:"text-xl font-bold mb-4 ".concat("dark"===e?"text-white ":"text-gray-800 "),children:"Take Action"}),!k&&(0,S.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,S.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",onClick:()=>C("APPROVED"),children:"Approve"}),(0,S.jsx)("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:()=>C("rejected"),children:"Reject"})]}),"APPROVED"===k&&(0,S.jsx)("div",{className:"mt-4 flex flex-col items-center",children:(0,S.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",onClick:()=>{E("APPROVED"),N(null),C("")},children:"Confirm Approve"})}),"rejected"===k&&(0,S.jsxs)("div",{className:"mt-4 flex flex-col items-center",children:[(0,S.jsx)("textarea",{rows:2,placeholder:"Enter rejection reason...",value:A,onChange:e=>T(e.target.value),className:"border border-gray-300 rounded p-2 w-full mb-2"}),(0,S.jsx)("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:()=>{E("rejected",A),N(null),C(""),T("")},disabled:!A.trim(),children:"Confirm Reject"})]})]})}),(0,S.jsx)(Y,{leave:P,onClose:()=>{D(null)}})]})]})}),(0,S.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2 mb-4 sm:mb-0",children:[(0,S.jsx)("span",{className:"text-sm text-gray-700 ".concat("dark"===e?"text-white":"text-gray-700"),children:"Rows per page:"}),(0,S.jsx)("select",{value:u,onChange:e=>{y(Number(e.target.value)),g(1)},className:"border border-gray-300 px-2 py-1 rounded-md text-sm ".concat("dark"===e?"bg-gray-600 text-white border-gray-500":"bg-white text-gray-800"),children:[10,25,50,100].map(e=>(0,S.jsx)("option",{value:e,children:e},e))})]}),(0,S.jsxs)("nav",{className:"flex items-center gap-2",children:[(0,S.jsx)("button",{onClick:()=>g(e=>Math.max(e-1,1)),disabled:1===h,className:"px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ".concat("dark"===e?"bg-gray-600 text-white border-gray-500 hover:bg-gray-500":"bg-white text-gray-800"," "),children:"Previous"}),(0,S.jsxs)("span",{className:"text-sm text-gray-700 ".concat("dark"===e?"text-white":"text-gray-700"),children:["Page ",h," of ",F]}),(0,S.jsx)("button",{onClick:()=>g(e=>Math.min(e+1,F)),disabled:h===F||0===F,className:"px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ".concat("dark"===e?"bg-gray-600 text-white border-gray-500 hover:bg-gray-500":"bg-white text-gray-800"," "),children:"Next"})]})]})]})},z=e=>{let{label:t,theme:a}=e,n=(0,s.A)(e,A);const i="dark"===a?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-800";return(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===a?"text-gray-200":"text-gray-700"),children:t}),(0,S.jsx)("input",(0,r.A)((0,r.A)({},n),{},{className:"w-full px-4 py-2 border rounded-lg transition duration-300 ease-in-out focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 focus:outline-none ".concat(i)}))]})};function J(e){let{onClose:t,onSubmit:a}=e;const{theme:s}=(0,n.useContext)(j.ob),[i,l]=(0,n.useState)({employeeId:"",month:"",year:"",paid:"",sick:"",casual:"",unpaid:"",shiftName:""}),[d,x]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),g=e=>{const{name:t,value:a}=e.target;l(e=>(0,r.A)((0,r.A)({},e),{},{[t]:a}))},u="dark"===s?"bg-gray-800 text-white border-gray-700":"bg-white text-gray-800 border-green-200";return(0,S.jsx)(c.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:t,children:(0,S.jsxs)(c.P.div,{className:"w-full max-w-2xl mx-auto my-auto max-h-[90vh] overflow-y-auto transform",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.3},onClick:e=>e.stopPropagation(),children:[(0,S.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),x(!0)},className:"relative rounded-3xl shadow-2xl ".concat(u," transition-all duration-300"),children:[(0,S.jsx)("div",{className:"text-center rounded-t-3xl overflow-hidden",children:(0,S.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6",children:(0,S.jsx)("h2",{className:"text-2xl font-extrabold text-white",children:"Add Employee Attendance"})})}),(0,S.jsxs)("div",{className:"space-y-6 p-6",children:[(0,S.jsx)(z,{label:"Employee ID",theme:s,type:"text",name:"employeeId",value:i.employeeId,onChange:g,required:!0}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,S.jsx)(z,{label:"Month (1-12)",theme:s,type:"number",name:"month",value:i.month,onChange:g,required:!0,min:"1",max:"12"}),(0,S.jsx)(z,{label:"Year (e.g., 2025)",theme:s,type:"number",name:"year",value:i.year,onChange:g,required:!0,min:"2000",max:"2100"})]}),(0,S.jsx)("h3",{className:"text-lg font-semibold border-b pb-2 ".concat("dark"===s?"text-gray-300 border-gray-700":"text-gray-700 border-gray-200"),children:"Leave Details (Days)"}),(0,S.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,S.jsx)(z,{label:"Paid Leaves",theme:s,type:"number",name:"paid",value:i.paid,onChange:g,required:!0,min:"0"}),(0,S.jsx)(z,{label:"Sick Leaves",theme:s,type:"number",name:"sick",value:i.sick,onChange:g,required:!0,min:"0"})]}),(0,S.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,S.jsx)(z,{label:"Casual Leaves",theme:s,type:"number",name:"casual",value:i.casual,onChange:g,required:!0,min:"0"}),(0,S.jsx)(z,{label:"Unpaid Leaves",theme:s,type:"number",name:"unpaid",value:i.unpaid,onChange:g,required:!0,min:"0"})]}),(0,S.jsx)(z,{label:"Shift Name",theme:s,type:"text",name:"shiftName",value:i.shiftName,onChange:g,required:!0}),(0,S.jsxs)("div",{className:"pt-4 flex justify-end space-x-3",children:[(0,S.jsx)(c.P.button,{type:"button",onClick:t,className:"px-5 py-2.5 rounded-lg border text-sm font-semibold shadow-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200 dark:border-gray-600",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"}),(0,S.jsx)(c.P.button,{type:"submit",className:"px-5 py-2.5 rounded-lg border border-transparent bg-indigo-600 text-sm font-semibold text-white shadow-md hover:bg-indigo-700 disabled:opacity-50 transition-colors",disabled:m,whileHover:{scale:1.05},whileTap:{scale:.95},children:m?"Processing...":"Submit Attendance"})]})]})]}),(0,S.jsx)(o.N,{children:d&&(0,S.jsx)(c.P.div,{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,S.jsxs)(c.P.div,{className:"rounded-xl shadow-2xl p-8 w-full max-w-sm text-center ".concat("dark"===s?"bg-gray-700 text-white":"bg-white text-gray-800"),initial:{scale:.8,y:-50},animate:{scale:1,y:0},exit:{scale:.8,y:-50},children:[(0,S.jsx)("h3",{className:"text-xl font-extrabold mb-3 text-indigo-600",children:"Confirm Submission"}),(0,S.jsxs)("p",{className:"mb-6 text-gray-600 dark:text-gray-300",children:["Please confirm the attendance record for **Employee ID ",i.employeeId,"**"]}),(0,S.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,S.jsx)(c.P.button,{className:"px-5 py-2 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition disabled:opacity-50",onClick:async()=>{h(!0);try{await C.A.post("https://hrms.anasolconsultancyservices.com/api/attendance/personalleaves/add",i),alert("Attendance added successfully! \ud83c\udf89"),a(i),x(!1),t()}catch(e){console.error("Submission error:",e),alert("Failed to submit attendance. Please check your network and data, then try again.")}finally{h(!1)}},disabled:m,whileHover:{scale:1.05},whileTap:{scale:.95},children:m?"Submitting...":"Yes, Submit"}),(0,S.jsx)(c.P.button,{className:"px-5 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300 transition dark:bg-gray-600 dark:text-gray-200",onClick:()=>x(!1),disabled:m,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"})]})]})})})]})})}const V=e=>{let{label:t,theme:a,helperText:n,type:i="text"}=e,l=(0,s.A)(e,T);const o="dark"===a?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-800";return(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{htmlFor:l.id||l.name,className:"block text-sm font-medium mb-1 ".concat("dark"===a?"text-gray-200":"text-gray-700"),children:t}),(0,S.jsx)("input",(0,r.A)((0,r.A)({type:i},l),{},{className:"w-full px-4 py-2 border rounded-lg transition duration-300 ease-in-out focus:ring-2 focus:ring-indigo-500/40 focus:border-indigo-500 focus:outline-none ".concat(o)})),n&&(0,S.jsx)("p",{className:"text-xs mt-1 italic ".concat("dark"===a?"text-gray-400":"text-gray-500"),children:n})]})},U=e=>{let{onClose:t}=e;const{theme:a}=(0,n.useContext)(j.ob),[s,i]=(0,n.useState)({shiftName:"",startTime:"",endTime:""}),[l,d]=(0,n.useState)(!1),[x,m]=(0,n.useState)(""),h=e=>e&&5===e.length?"".concat(e,":00"):"",g=e=>{const{name:t,value:a}=e.target;i(e=>(0,r.A)((0,r.A)({},e),{},{[t]:a}))},u="dark"===a?"bg-gray-800 text-white border-gray-700":"bg-white text-gray-800 border-gray-100";return(0,S.jsx)(c.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:t,children:(0,S.jsx)(c.P.div,{className:"w-full max-w-lg mx-auto my-auto max-h-[90vh] overflow-y-auto transform",initial:{scale:.9,y:-50},animate:{scale:1,y:0},exit:{scale:.9,y:-50},transition:{duration:.3},onClick:e=>e.stopPropagation(),children:(0,S.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m("");if(!window.confirm("Are you sure you want to submit this shift data?\n"+"Shift Name: ".concat(s.shiftName,"\n")+"Start Time: ".concat(s.startTime,"\n")+"End Time: ".concat(s.endTime)))return;d(!0);const a={shiftName:s.shiftName,startTime:h(s.startTime),endTime:h(s.endTime)};try{const e=await C.A.post("https://hrms.anasolconsultancyservices.com/api/attendance/shifts",a);alert("Shift submitted successfully! \ud83c\udf89\nStatus: ".concat(e.status,"\nMessage: ").concat(e.data.message||"Data received by server.")),m("Success: Shift data submitted!"),i({shiftName:"",startTime:"",endTime:""}),t()}catch(x){var r,n,l,o,c;console.error("Submission Error:",(null===(r=x.response)||void 0===r?void 0:r.data)||x.message),alert("Submission failed! \ud83d\ude14\nError: ".concat((null===(n=x.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)||x.message)),m("Error: Submission failed! ".concat((null===(o=x.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||x.message))}finally{d(!1)}},className:"relative w-full rounded-3xl shadow-3xl overflow-hidden ".concat(u," transition-all duration-300"),children:[(0,S.jsxs)("div",{className:"text-center rounded-t-3xl ".concat("bg-gradient-to-r from-teal-500 to-cyan-600"," p-6"),children:[(0,S.jsxs)("h2",{className:"text-2xl font-extrabold text-white",children:[(0,S.jsx)("i",{className:"fas fa-clock mr-2"})," Create New Shift"]}),(0,S.jsx)("p",{className:"text-sm text-white/90 mt-1",children:"Define the operational hours for a new shift."})]}),(0,S.jsxs)("div",{className:"space-y-6 p-8",children:[(0,S.jsx)(V,{label:"Shift Name",theme:a,type:"text",name:"shiftName",value:s.shiftName,onChange:g,required:!0,placeholder:"e.g., Night Shift, General Duty"}),(0,S.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-2",children:[(0,S.jsx)(V,{label:"Start Time (HH:MM)",theme:a,type:"time",name:"startTime",value:s.startTime,onChange:g,required:!0,helperText:"Submits as: ".concat(h(s.startTime))}),(0,S.jsx)(V,{label:"End Time (HH:MM)",theme:a,type:"time",name:"endTime",value:s.endTime,onChange:g,required:!0,helperText:"Submits as: ".concat(h(s.endTime))})]}),(0,S.jsx)(o.N,{children:x&&(0,S.jsx)(c.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-4 text-center p-3 rounded-lg text-sm font-medium ".concat(x.startsWith("Success")?"bg-green-100 text-green-700 dark:bg-green-800 dark:text-green-100":"bg-red-100 text-red-700 dark:bg-red-800 dark:text-red-100"),children:x})}),(0,S.jsxs)("div",{className:"pt-4 flex justify-end space-x-3 border-t border-gray-200 dark:border-gray-700 -mx-8 px-8",children:[(0,S.jsx)(c.P.button,{type:"button",onClick:t,className:"px-5 py-2.5 rounded-lg border text-sm font-semibold shadow-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200 dark:border-gray-600",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"}),(0,S.jsx)(c.P.button,{type:"submit",className:"px-5 py-2.5 rounded-lg border border-transparent bg-indigo-600 text-sm font-semibold text-white shadow-md hover:bg-indigo-700 disabled:opacity-50 disabled:bg-indigo-400 transition-colors",disabled:l,whileHover:{scale:1.05},whileTap:{scale:.95},children:l?"Creating Shift...":"Create Shift"})]})]})]})})})};const Z=function(e){let{onBack:t}=e;const{theme:a}=(0,n.useContext)(j.ob),[s,r]=(0,n.useState)(),[i,l]=(0,n.useState)(!1),[o,d]=(0,n.useState)(!1);return(0,S.jsxs)(c.P.div,{className:"p-2 sm:p-2 min-h-screen font-sans ".concat("dark"===a?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,S.jsxs)("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between pb-6 mb-2 border-b border-gray-200",children:[(0,S.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold ".concat("dark"===a?"text-white":"text-gray-900"),children:"Leaves Report"}),(0,S.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 sm:items-center",children:[(0,S.jsx)(c.P.button,{className:"px-4 py-2 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition",onClick:()=>l(!0),whileHover:{scale:1.05,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},children:"Add Attendance"}),(0,S.jsx)(c.P.button,{className:"px-4 py-2 rounded-lg bg-pink-600 text-white font-semibold hover:bg-pink-700 transition",onClick:()=>d(!0),whileHover:{scale:1.05,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},children:"Add Shift"}),(0,S.jsxs)(c.P.button,{onClick:t,className:"flex items-center px-4 py-2 text-sm font-semibold text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200",whileHover:{scale:1.05,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},children:[(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:(0,S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})}),"Back to Dashboard"]})]})]}),(0,S.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-6 mb-2",children:(0,S.jsx)(F,{})}),(0,S.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-4",children:[(0,S.jsx)(P,{}),(0,S.jsx)(E,{}),(0,S.jsx)(O,{})]}),(0,S.jsx)("div",{className:"w-full",children:(0,S.jsx)(B,{})}),i&&(0,S.jsx)(J,{onClose:()=>l(!1),onSubmit:e=>{console.log("Attendance Added:",e)}}),o&&(0,S.jsx)(U,{onClose:()=>d(!1)})]})}},7249:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(5043),r=a(579);const n=e=>{let{selectedDate:t,onSelectDate:a,onClose:n}=e;const[i,l]=(0,s.useState)(t||new Date),[o,c]=(0,s.useState)("calendar"),d=i.getFullYear(),x=i.getMonth(),m=["January","February","March","April","May","June","July","August","September","October","November","December"];return(0,r.jsxs)("div",{className:"absolute z-10 bg-white shadow-lg rounded-lg w-full p-4 mt-2 border border-gray-300",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:["calendar"===o&&(0,r.jsx)("button",{onClick:()=>l(new Date(i.getFullYear(),i.getMonth()-1,1)),className:"text-gray-600 hover:text-gray-800",children:"<"}),(0,r.jsxs)("div",{className:"flex-1 flex justify-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>c("month"),className:"font-semibold px-2 py-1 rounded-md hover:bg-gray-100",children:i.toLocaleString("default",{month:"long"})}),(0,r.jsx)("button",{onClick:()=>c("year"),className:"font-semibold px-2 py-1 rounded-md hover:bg-gray-100",children:d})]}),"calendar"===o&&(0,r.jsx)("button",{onClick:()=>l(new Date(i.getFullYear(),i.getMonth()+1,1)),className:"text-gray-600 hover:text-gray-800",children:">"})]}),"calendar"===o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-7 gap-1 text-sm font-medium text-center text-gray-500",children:[(0,r.jsx)("div",{children:"Su"}),(0,r.jsx)("div",{children:"Mo"}),(0,r.jsx)("div",{children:"Tu"}),(0,r.jsx)("div",{children:"We"}),(0,r.jsx)("div",{children:"Th"}),(0,r.jsx)("div",{children:"Fr"}),(0,r.jsx)("div",{children:"Sa"})]}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-1 text-sm",children:(()=>{const e=new Date(d,x+1,0).getDate();const s=((e,t)=>new Date(t,e,1).getDay())(x,d),n=[];for(let t=0;t<s;t++)n.push((0,r.jsx)("div",{className:"text-gray-400 p-2 text-center"},"empty-".concat(t)));for(let i=1;i<=e;i++){const e=new Date(d,x,i),s=t&&e.toDateString()===t.toDateString(),l=e.toDateString()===(new Date).toDateString();n.push((0,r.jsx)("button",{onClick:()=>a(e),className:"p-1 rounded-full text-center hover:bg-gray-200 transition-colors ".concat(l?"bg-orange-500 text-white font-bold":""," ").concat(s&&!l?"bg-blue-200 text-blue-800 font-bold":""),children:i},"day-".concat(i)))}return n})()})]}),"month"===o&&(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2 p-2",children:m.map((e,t)=>(0,r.jsx)("button",{onClick:()=>(l(new Date(d,t,1)),void c("calendar")),className:"p-2 rounded-md text-center hover:bg-gray-200 transition-colors ".concat(t===x?"bg-blue-500 text-white font-bold":""),children:e.substring(0,3)},e))}),"year"===o&&(()=>{const e=10*Math.floor(d/10),t=Array.from({length:12},(t,a)=>e-1+a);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("button",{onClick:()=>l(new Date(e-11,x,1)),className:"text-gray-600 hover:text-gray-800",children:"<"}),(0,r.jsxs)("h3",{className:"font-semibold",children:[e," - ",e+9]}),(0,r.jsx)("button",{onClick:()=>l(new Date(e+11,x,1)),className:"text-gray-600 hover:text-gray-800",children:">"})]}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-2 p-2",children:t.map(t=>(0,r.jsx)("button",{onClick:()=>(l(new Date(t,x,1)),void c("calendar")),className:"p-2 rounded-md text-center hover:bg-gray-200 transition-colors ".concat(t===d?"bg-blue-500 text-white font-bold":"text-gray-700"," ").concat(t<e||t>e+9?"text-gray-400":""),children:t},t))})]})})()]})}}}]);
//# sourceMappingURL=946.e4042d7d.chunk.js.map