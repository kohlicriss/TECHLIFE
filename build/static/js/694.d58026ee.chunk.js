"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[694],{694:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var s=a(5043),l=a(3895),r=a(9657),n=(a(2157),a(108)),i=a(6992),d=a(6102),o=a(7869),c=a(379),x=a(2647),m=a(2291),h=a(2185),u=a(760),g=a(6028),p=a(579);const y=e=>{let{selectedDate:t,onSelectDate:a,onClose:l}=e;const[r,n]=(0,s.useState)(t||new Date),[i,d]=(0,s.useState)("calendar"),o=r.getFullYear(),c=r.getMonth(),x=["January","February","March","April","May","June","July","August","September","October","November","December"];return(0,p.jsxs)("div",{className:"absolute z-10 bg-white shadow-lg rounded-lg p-4 mt-2 border border-gray-300",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-4",children:["calendar"===i&&(0,p.jsx)("button",{onClick:()=>n(new Date(r.getFullYear(),r.getMonth()-1,1)),className:"text-gray-600 hover:text-gray-800",children:"<"}),(0,p.jsxs)("div",{className:"flex-1 flex justify-center space-x-2",children:[(0,p.jsx)("button",{onClick:()=>d("month"),className:"font-semibold px-2 py-1 rounded-md hover:bg-gray-100",children:r.toLocaleString("default",{month:"long"})}),(0,p.jsx)("button",{onClick:()=>d("year"),className:"font-semibold px-2 py-1 rounded-md hover:bg-gray-100",children:o})]}),"calendar"===i&&(0,p.jsx)("button",{onClick:()=>n(new Date(r.getFullYear(),r.getMonth()+1,1)),className:"text-gray-600 hover:text-gray-800",children:">"})]}),"calendar"===i&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"grid grid-cols-7 gap-1 text-sm font-medium text-center text-gray-500",children:[(0,p.jsx)("div",{children:"Su"}),(0,p.jsx)("div",{children:"Mo"}),(0,p.jsx)("div",{children:"Tu"}),(0,p.jsx)("div",{children:"We"}),(0,p.jsx)("div",{children:"Th"}),(0,p.jsx)("div",{children:"Fr"}),(0,p.jsx)("div",{children:"Sa"})]}),(0,p.jsx)("div",{className:"grid grid-cols-7 gap-1 text-sm",children:(()=>{const e=new Date(o,c+1,0).getDate();const s=((e,t)=>new Date(t,e,1).getDay())(c,o),l=[];for(let t=0;t<s;t++)l.push((0,p.jsx)("div",{className:"text-gray-400 p-2 text-center"},`empty-${t}`));for(let r=1;r<=e;r++){const e=new Date(o,c,r),s=t&&e.toDateString()===t.toDateString(),n=e.toDateString()===(new Date).toDateString();l.push((0,p.jsx)("button",{onClick:()=>a(e),className:`p-2 rounded-full text-center hover:bg-gray-200 transition-colors ${n?"bg-orange-500 text-white font-bold":""} ${s&&!n?"bg-blue-200 text-blue-800 font-bold":""}`,children:r},`day-${r}`))}return l})()})]}),"month"===i&&(0,p.jsx)("div",{className:"grid grid-cols-3 gap-2 p-2",children:x.map((e,t)=>(0,p.jsx)("button",{onClick:()=>(n(new Date(o,t,1)),void d("calendar")),className:"p-2 rounded-md text-center hover:bg-gray-200 transition-colors "+(t===c?"bg-blue-500 text-white font-bold":""),children:e.substring(0,3)},e))}),"year"===i&&(()=>{const e=10*Math.floor(o/10),t=Array.from({length:12},(t,a)=>e-1+a);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,p.jsx)("button",{onClick:()=>n(new Date(e-11,c,1)),className:"text-gray-600 hover:text-gray-800",children:"<"}),(0,p.jsxs)("h3",{className:"font-semibold",children:[e," - ",e+9]}),(0,p.jsx)("button",{onClick:()=>n(new Date(e+11,c,1)),className:"text-gray-600 hover:text-gray-800",children:">"})]}),(0,p.jsx)("div",{className:"grid grid-cols-4 gap-2 p-2",children:t.map(t=>(0,p.jsx)("button",{onClick:()=>(n(new Date(t,c,1)),void d("calendar")),className:`p-2 rounded-md text-center hover:bg-gray-200 transition-colors ${t===o?"bg-blue-500 text-white font-bold":"text-gray-700"} ${t<e||t>e+9?"text-gray-400":""}`,children:t},t))})]})})()]})};var b=a(6213),f=a(3721),j=a(9910);const v=e=>{let{onClose:t}=e;const[a,l]=(0,s.useState)(!1),[r,n]=(0,s.useState)(!1),[i,d]=(0,s.useState)(null),[o,c]=(0,s.useState)(null);return(0,p.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center  bg-opacity-25 backdrop-blur-sm",children:(0,p.jsxs)("div",{className:"relative w-full max-w-3xl mx-auto rounded-lg bg-white p-6 shadow-2xl my-auto max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 md:scale-100",children:[(0,p.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"}),(0,p.jsx)("h2",{className:"text-xl font-semibold mb-4 text-center border-b pb-4",children:"Add Leave"}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Employee Name"}),(0,p.jsx)("input",{type:"text",value:"",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Leave Type"}),(0,p.jsxs)("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[(0,p.jsx)("option",{children:"Select"}),(0,p.jsx)("option",{children:"Sick Leave"}),(0,p.jsx)("option",{children:"Casual Leave"}),(0,p.jsx)("option",{children:"Unpaid Leave"}),(0,p.jsx)("option",{children:"Paid Leave"})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"From"}),(0,p.jsxs)("div",{className:"relative mt-1",children:[(0,p.jsx)("input",{type:"text",readOnly:!0,value:i?i.toLocaleDateString("en-GB"):"dd-mm-yyyy",onClick:()=>l(!a),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 cursor-pointer"}),a&&(0,p.jsx)(y,{selectedDate:i,onSelectDate:e=>{d(e),l(!1)},onClose:()=>l(!1)})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"To"}),(0,p.jsxs)("div",{className:"relative mt-1",children:[(0,p.jsx)("input",{type:"text",readOnly:!0,value:o?o.toLocaleDateString("en-GB"):"dd-mm-yyyy",onClick:()=>n(!r),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 cursor-pointer"}),r&&(0,p.jsx)(y,{selectedDate:o,onSelectDate:e=>{c(e),n(!1)},onClose:()=>n(!1)})]})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"No. of Days"}),(0,p.jsx)("input",{readOnly:!0,type:"text",value:i&&o?`${Math.floor((o-i)/864e5)+1} Days`:"0 Days",className:"mt-1 block w-full cursor-not-allowed rounded-md border-gray-300 bg-gray-100 shadow-sm"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Leave Duration"}),(0,p.jsxs)("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[(0,p.jsx)("option",{children:"Select"}),(0,p.jsx)("option",{children:"Full Day"}),(0,p.jsx)("option",{children:"First Half Day"}),(0,p.jsx)("option",{children:"Second Half Day"})]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Remaining Days"}),(0,p.jsx)("input",{type:"text",readOnly:!0,value:"8",className:"mt-1 block w-full cursor-not-allowed rounded-md border-gray-300 bg-gray-100 shadow-sm"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Reason"}),(0,p.jsx)("textarea",{rows:"3",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"})]})]}),(0,p.jsxs)("div",{className:"mt-6 flex justify-end space-x-3 border-t pt-4",children:[(0,p.jsx)("button",{onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Cancel"}),(0,p.jsx)("button",{className:"rounded-md border border-transparent bg-orange-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",children:"Add Leave"})]})]})})},N=e=>{let{title:t,leaveData:a={type:t,consumed:0,remaining:0,total:0},color:s}=e;(0,l.A)("(max-width:500px)");const{type:x,consumed:m,remaining:h,total:u}=a,g=[{name:"Consumed",value:m},{name:"Remaining",value:Math.max(u-m,0)}],y=[s,"#E0E0E0"];return(0,p.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4 h-full flex flex-col items-center justify-center border border-gray-200 hover:border-blue-500 hover:shadow-xl transition-all duration-300 ease-in-out",children:[(0,p.jsx)("h1",{className:"text-xl font-bold mb-4 text-center text-gray-800",children:t}),(0,p.jsxs)(r.A,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",className:"w-full",children:[(0,p.jsx)(n.u,{width:140,height:140,children:(0,p.jsxs)(i.r,{children:[(0,p.jsx)(d.F,{data:g,cx:"50%",cy:"50%",innerRadius:30,outerRadius:60,paddingAngle:3,dataKey:"value",stroke:"none",className:"ml-0",children:g.map((e,t)=>(0,p.jsx)(o.f,{fill:y[t]},`cell-${t}`))}),(0,p.jsx)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"text-large font-semibold text-gray-700",children:x.split(" ")[0]}),(0,p.jsx)(c.m,{})]})}),(0,p.jsxs)("div",{className:"text-center mt-4 space-y-2 text-sm text-gray-700",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Consumed:"})," ",(0,p.jsx)("span",{className:"font-semibold text-sm text-red-600",children:m})," ","days"]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Available:"})," ",(0,p.jsxs)("span",{className:"font-semibold text-sm text-green-600",children:[" ",h]})," ","days"]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("strong",{children:"Total:"})," ",u," days"]})]})]})]})},w=()=>{const e=["#8884d8","#82ca9d","#ffc658","#ff8042","#a4de6c"],{empID:t}=(0,f.g)();(0,s.useEffect)(()=>{b.A.get(`http://192.168.0.123:8081/api/attendance/employee/${t}/personalLeavesData`).then(e=>{const t=e.data.map(e=>({leaveType:e.leaveType,days:e.days}));m(t),console.log("personalleaveData data formatted:",t)})},[]);const[a,m]=(0,s.useState)([]),h=a.map(e=>{let{leaveType:t,days:a}=e;return{name:t,value:a}}),u=(0,l.A)("(max-width:768px)");return(0,p.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4 h-full flex flex-col border border-gray-200 hover:border-blue-500 hover:shadow-xl transition-all duration-300 ease-in-out",children:[(0,p.jsx)("h2",{className:"text-xl font-bold mb-2 text-center text-gray-800",children:"Leave Type Breakdown"}),(0,p.jsx)(r.A,{display:"flex",flexDirection:u?"column":"row",justifyContent:"center",alignItems:"center",height:"100%",gap:2,p:1,children:(0,p.jsx)(n.u,{width:"100%",height:250,children:(0,p.jsxs)(i.r,{children:[(0,p.jsx)(d.F,{data:h,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",dataKey:"value",paddingAngle:2,labelLine:!1,label:e=>{let{name:t,percent:a}=e;return`${t} ${(100*a).toFixed(0)}%`},children:h.map((t,a)=>(0,p.jsx)(o.f,{fill:e[a%e.length]},`cell-${a}`))}),(0,p.jsx)(x.J,{content:()=>(0,p.jsx)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"text-base font-semibold text-gray-700",children:"Leave Types"}),position:"center"}),(0,p.jsx)(c.m,{})]})})})]})},D=()=>{(0,s.useEffect)(()=>{b.A.get(`http://192.168.0.123:8081/api/attendance/employee/${e}/leavesbar-graph`).then(e=>{const t=e.data.map(e=>({Day:e.day,Rate:e.rate}));d(t),console.log("leavesbarchart data formatted:",t)})},[]);const{empID:e}=(0,f.g)(),[t,a]=(0,s.useState)("All"),[i,d]=(0,s.useState)([]),o=(0,l.A)("(max-width:768px)"),x="All"===t?i:i.filter(e=>e.Day===t),y=["All",...i.map(e=>e.Day)];return(0,p.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-4 h-full flex flex-col border border-gray-200 hover:border-blue-500 hover:shadow-xl transition-all duration-300 ease-in-out",children:[(0,p.jsx)("h1",{className:"text-xl font-bold mb-2 text-center text-gray-800",children:"Weekly Leave Pattern"}),(0,p.jsxs)("div",{className:"mb-4 text-center",children:[(0,p.jsx)("label",{className:"mr-2 font-semibold text-gray-700",children:"Day:"}),(0,p.jsx)("select",{value:t,onChange:e=>a(e.target.value),className:"p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-gray-700",children:y.map(e=>(0,p.jsx)("option",{value:e,children:e},e))})]}),(0,p.jsx)(r.A,{display:"flex",flexDirection:o?"column":"row",justifyContent:"center",alignItems:"center",height:"100%",gap:5,p:o?1:2,children:(0,p.jsx)(n.u,{width:"100%",height:230,children:(0,p.jsxs)(m.E,{data:x,margin:{top:10,right:10,left:10,bottom:0},children:[(0,p.jsx)(h.W,{dataKey:"Day",axisLine:!1,tickLine:!1,className:"text-sm text-gray-600"}),(0,p.jsx)(u.h,{hide:!0}),(0,p.jsx)(c.m,{}),(0,p.jsx)(g.y,{dataKey:"Rate",fill:"#4CAF50",radius:[8,8,0,0]})]})})})]})},k=()=>{const[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)("All"),[r,n]=(0,s.useState)("All"),[i,d]=(0,s.useState)("Recently added"),[o,c]=(0,s.useState)(1),[x,m]=(0,s.useState)(10),[h,u]=(0,s.useState)(!1),[g,y]=(0,s.useState)(!0),{empID:j}=(0,f.g)();(0,s.useEffect)(()=>{(async()=>{u(!0);try{const e=await b.A.get(`http://192.168.0.123:8081/api/attendance/employee/${j}/leaves?page=${o-1}&size=${x}`),a=Array.isArray(e.data)?e.data:[];a.length<x?y(!1):y(!0);const s=a.map(e=>({Leave_type:e.leave_type,Leave_On:e.leave_on,status:e.status,Request_By:e.request_By,Details:e.details,Action_Date:e.action_Date,Rejection_Reason:e.rejection_Reason,Action:e.action}));t(e=>[...e,...s])}catch(e){console.error("Failed to fetch leave data:",e)}finally{u(!1)}})()},[o,x]),(0,s.useEffect)(()=>{t([]),c(1)},[a,r,i]);const v=["All",...new Set(e.map(e=>e.Leave_type))],N=["All",...new Set(e.map(e=>e.status))],w=(()=>{let t=[...e];switch(t=t.filter(e=>("All"===a||e.Leave_type===a)&&("All"===r||e.status===r)),i){case"Ascending":t.sort((e,t)=>e.Leave_type.localeCompare(t.Leave_type));break;case"Descending":t.sort((e,t)=>t.Leave_type.localeCompare(e.Leave_type));break;case"Last Month":const e=new Date;e.setMonth(e.getMonth()-1),t=t.filter(t=>new Date(t.Leave_On)>=e);break;case"Last 7 Days":const a=new Date;a.setDate(a.getDate()-7),t=t.filter(e=>new Date(e.Leave_On)>=a);break;default:t.sort((e,t)=>new Date(t.Action_Date)-new Date(e.Action_Date))}return t})();Math.ceil(w.length/x);return(0,p.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6 col-span-full border border-gray-200 hover:border-blue-500 hover:shadow-xl transition-all duration-300 ease-in-out",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Leave Requests History"}),(0,p.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-base font-semibold mr-2 text-gray-700",children:"Leave Type:"}),(0,p.jsx)("select",{value:a,onChange:e=>l(e.target.value),className:"border border-gray-300 px-3 py-1.5 rounded-md focus:ring-blue-500 focus:border-blue-500 text-gray-700",children:v.map(e=>(0,p.jsx)("option",{value:e,children:e},e))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-base font-semibold mr-2 text-gray-700",children:"Status:"}),(0,p.jsx)("select",{value:r,onChange:e=>n(e.target.value),className:"border border-gray-300 px-3 py-1.5 rounded-md focus:ring-blue-500 focus:border-blue-500 text-gray-700",children:N.map(e=>(0,p.jsx)("option",{value:e,children:e},e))})]}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)("label",{className:"text-base font-semibold mr-2 text-gray-700",children:"Sort by:"}),(0,p.jsx)("select",{value:i,onChange:e=>d(e.target.value),className:"border border-gray-300 px-3 py-1.5 rounded-md focus:ring-blue-500 focus:border-blue-500 text-gray-700",children:["Recently added","Ascending","Descending","Last Month","Last 7 Days"].map(e=>(0,p.jsx)("option",{value:e,children:e},e))})]})]}),(0,p.jsx)("div",{className:"overflow-x-auto",children:(0,p.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,p.jsx)("thead",{className:"bg-gray-100",children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Leave Type"}),(0,p.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Leave On"}),(0,p.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Status"}),(0,p.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Request By"}),(0,p.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Details"}),(0,p.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Action Date"}),(0,p.jsx)("th",{className:"px-4 py-3 whitespace-pre-wrap text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Rejection Reason"}),(0,p.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Action"})]})}),(0,p.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.length>0?w.map((e,t)=>(0,p.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,p.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.Leave_type}),(0,p.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.Leave_On}),(0,p.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:(0,p.jsx)("span",{className:"px-2 py-1 rounded-full text-white text-xs font-semibold "+("Approve"===e.status?"bg-green-500":"Reject"===e.status?"bg-red-500":"bg-blue-500"),children:e.status})}),(0,p.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.Request_By||"-"}),(0,p.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:(0,p.jsx)("a",{href:e.Details,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 text-lg",children:"\ud83d\udcc4"})}),(0,p.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.Action_Date}),(0,p.jsx)("td",{className:"px-4 py-3 whitespace-pre-wrap text-sm text-gray-900",children:e.Rejection_Reason||"-"}),(0,p.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:(0,p.jsx)("a",{href:e.Action,target:"_blank",rel:"noreferrer",className:"text-gray-600 hover:text-gray-800 text-lg",children:"\u22ef"})})]},t)):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:"12",className:"text-center py-4 text-gray-500",children:h?"Loading...":"No matching records found."})})})]})}),(0,p.jsx)("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between",children:(0,p.jsx)("nav",{className:"flex items-center gap-2",children:(0,p.jsx)("button",{onClick:()=>c(e=>e+1),disabled:!g||h,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Load More"})})})]})},L=e=>{let{currentUser:t}=e;const{userData:a}=(0,s.useContext)(j.o);return(0,p.jsx)("div",{className:"flex justify-between items-center p-6 bg-white rounded-lg shadow-md mt-4",children:(0,p.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,p.jsx)("div",{className:"w-20 h-20 bg-gray-300 rounded-full overflow-hidden",children:(0,p.jsx)("img",{src:(null===t||void 0===t?void 0:t.avatar)||"https://i.pravatar.cc/100",alt:"Profile",className:"w-20 h-20 object-cover"})}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("h2",{className:"text-2xl font-semibold flex items-center",children:["Welcome, ",null===a||void 0===a?void 0:a.employeeId,", ",null===a||void 0===a?void 0:a.fullName]}),(0,p.jsxs)("p",{className:"text-gray-500 mt-1",children:["You have ",(0,p.jsx)("span",{className:"font-bold text-red-500",children:"10"}),"  Approved &"," ",(0,p.jsx)("span",{className:"font-bold text-red-500",children:"2"})," Rejected"]})]})]})})},S=e=>{let{isSidebarOpen:t}=e;const[a,l]=(0,s.useState)([]),{empID:r}=(0,f.g)();(0,s.useEffect)(()=>{b.A.get(`http://192.168.0.123:8081/api/attendance/employee/${r}/leave-summary`).then(e=>{const t={Casual:"Casual Leave",Paid:"Paid Leave",Unpaid:"Unpaid Leave",sick:"Sick Leave",Sick:"Sick Leave"},a=e.data.map(e=>({type:t[e.type]||e.type,consumed:e.consumed,remaining:e.remaining,total:e.total}));l(a)}).catch(e=>{console.error("Error fetching line chart data:",e)})},[]);const[n,i]=(0,s.useState)(!1),d=a.find(e=>"Casual Leave"===e.type),o=a.find(e=>"Paid Leave"===e.type),c=a.find(e=>"Sick Leave"===e.type),x=a.find(e=>"Unpaid Leave"===e.type);return(0,p.jsxs)("div",{className:"min-h-screen bg-gray-100 p-6 sm:p-6 lg:p-8 font-sans",children:[(0,p.jsxs)("header",{className:"p-3 mb-6 text-left",children:[(0,p.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Leaves Dashboard"}),(0,p.jsx)(L,{})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,p.jsx)(N,{title:"Casual Leave",leaveData:d,color:"#4CAF50"}),(0,p.jsx)(N,{title:"Paid Leave",leaveData:o,color:"#2196F3"}),(0,p.jsx)(N,{title:"Sick Leave",leaveData:c,color:"#FFC107"}),(0,p.jsx)(N,{title:"Unpaid Leave",leaveData:x,color:"#EF5350"})]}),(0,p.jsxs)("div",{className:"dashboard-grid grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,p.jsx)("div",{className:"",children:(0,p.jsx)(w,{})}),(0,p.jsx)("div",{className:"",children:(0,p.jsx)(D,{})})]}),(0,p.jsx)(k,{}),n&&(0,p.jsx)(v,{onClose:()=>{i(!1)}})]})}}}]);
//# sourceMappingURL=694.d58026ee.chunk.js.map