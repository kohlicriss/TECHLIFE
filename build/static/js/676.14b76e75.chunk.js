"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[676],{7676:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var a=t(5043),r=t(3721),l=t(2397),o=t(184),d=t(5394),n=t(9910),i=t(579);const m=e=>{let{isOpen:s,onClose:t,onConfirm:r,title:l,message:d,confirmText:m="Confirm",isConfirming:c}=e;const{theme:x}=(0,a.useContext)(n.o);return s?(0,i.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[250] p-2 sm:p-4",children:(0,i.jsxs)("div",{className:"rounded-xl sm:rounded-2xl w-full max-w-sm sm:max-w-md shadow-xl flex flex-col "+("dark"===x?"bg-gray-800 text-white":"bg-white"),children:[(0,i.jsxs)("div",{className:"p-4 sm:p-6 flex justify-between items-center border-b",style:{borderColor:"dark"===x?"#4b5563":"#e5e7eb"},children:[(0,i.jsxs)("h3",{className:"text-lg sm:text-xl font-bold flex items-center min-w-0 flex-1",children:[(0,i.jsx)(o.BS8,{className:"text-yellow-400 mr-2 sm:mr-3 w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),(0,i.jsx)("span",{className:"break-words",children:l})]}),(0,i.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors flex-shrink-0 ml-2",children:(0,i.jsx)(o.QCr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),(0,i.jsx)("div",{className:"p-4 sm:p-6",children:(0,i.jsx)("p",{className:"text-sm sm:text-base break-words "+("dark"===x?"text-gray-300":"text-gray-600"),children:d})}),(0,i.jsxs)("div",{className:"p-3 sm:p-4 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 border-t "+("dark"===x?"bg-gray-700/50 border-gray-700":"bg-gray-50 border-gray-200"),children:[(0,i.jsx)("button",{onClick:t,className:"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm "+("dark"===x?"bg-gray-600 hover:bg-gray-500 text-gray-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"),children:"Cancel"}),(0,i.jsx)("button",{onClick:r,disabled:c,className:"w-full sm:w-auto px-4 sm:px-6 py-2 rounded-lg font-semibold text-white transition-colors flex items-center justify-center text-sm\n                                    "+(c?"bg-red-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"),children:c?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"h-3 w-3 sm:h-4 sm:w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),(0,i.jsx)("span",{children:"Deleting..."})]}):(0,i.jsx)("span",{children:m})})]})]})}):null};var c=t(3546),x=t(5440);const g=e=>{let{value:s,onChange:t,theme:r,error:n,disabled:m}=e;const[g,h]=(0,a.useState)(!1),[u,y]=(0,a.useState)(""),[b,p]=(0,a.useState)([]),[f,j]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!0),[N,k]=(0,a.useState)(0),C=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!f&&(v||s)){j(!0);try{const t=(await l.yE.get(`employee/${e}/10/projectId/asc/projects`)).data||[];p(e=>s?t:[...e,...t]),k(e),w(10===t.length)}catch(n){console.error("Error fetching projects:",n),w(!1)}finally{j(!1)}}},[]);(0,a.useEffect)(()=>{g&&C(0,!0)},[g,C]);const S=b.filter(e=>{var s,t;return(null===(s=e.title)||void 0===s?void 0:s.toLowerCase().includes(u.toLowerCase()))||(null===(t=e.projectId)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))});return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("div",{onClick:()=>{m||h(!g)},className:`w-full p-3 border-2 rounded-xl transition-all duration-300 cursor-pointer flex items-center justify-between ${n?"border-red-300":"dark"===r?"border-gray-600":"border-gray-200"} ${m?"opacity-50":""} ${"dark"===r?"bg-gray-700 text-white":"bg-white text-gray-900"}`,children:[(0,i.jsx)("span",{className:s?"":"dark"===r?"text-gray-400":"text-gray-500",children:s?s.label:"Select project..."}),(0,i.jsx)(o.Vr3,{className:`w-4 h-4 transition-transform ${g?"rotate-180":""} ${"dark"===r?"text-gray-400":"text-gray-500"}`})]}),(0,i.jsx)(c.N,{children:g&&!m&&(0,i.jsxs)(x.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 border rounded-xl shadow-lg z-50 "+("dark"===r?"bg-gray-700 border-gray-600":"bg-white border-gray-200"),children:[(0,i.jsx)("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(o.KSO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,i.jsx)("input",{type:"text",placeholder:"Search projects...",value:u,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm "+("dark"===r?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500")})]})}),(0,i.jsxs)("div",{className:"max-h-60 overflow-y-auto",onScroll:e=>{const{scrollTop:s,scrollHeight:t,clientHeight:a}=e.target;t-s<=a+50&&v&&!f&&C(N+1)},children:[S.map(e=>{const a=(null===s||void 0===s?void 0:s.value)===e.projectId;return(0,i.jsxs)("div",{onClick:()=>(e=>{t({value:e.projectId,label:`${e.projectId}(${e.title})`}),h(!1)})(e),className:"p-3 cursor-pointer flex items-center justify-between "+(a?"bg-blue-50 dark:bg-blue-900/50":"hover:"+("dark"===r?"bg-gray-600":"bg-gray-50")),children:[(0,i.jsxs)("div",{className:"dark"===r?"text-white":"text-gray-900",children:[(0,i.jsxs)("div",{className:"font-medium",children:[e.projectId,"(",e.title,")"]}),(0,i.jsxs)("div",{className:"text-sm "+("dark"===r?"text-gray-400":"text-gray-500"),children:["Client: ",e.client," \u2022 Status: ",e.projectStatus]})]}),a&&(0,i.jsx)(d.G3G,{className:"w-5 h-5 text-blue-500"})]},e.projectId)}),f&&(0,i.jsx)("div",{className:"p-4 text-center text-sm "+("dark"===r?"text-gray-400":"text-gray-500"),children:"Loading more projects..."}),!v&&b.length>0&&(0,i.jsx)("div",{className:"p-4 text-center text-sm "+("dark"===r?"text-gray-500":"text-gray-400"),children:"No more projects"})]})]})})]})},h=e=>{let{value:s,onChange:t,theme:r,error:m,disabled:g,isMulti:h=!1}=e;const[u,y]=(0,a.useState)(!1),[b,p]=(0,a.useState)(""),[f,j]=(0,a.useState)([]),[v,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!0),[C,S]=(0,a.useState)(0),{userData:I}=(0,a.useContext)(n.o),T=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!v&&(N||s)){w(!0);try{const t=(await l.yE.get(`employee/${e}/15/employeeId/asc/employees`)).data||[];j(e=>s?t:[...e,...t]),S(e),k(15===t.length)}catch(m){console.error("Error fetching employees:",m)}finally{w(!1)}}},[v,N]);(0,a.useEffect)(()=>{u&&T(0,!0)},[u,T]);const E=f.filter(e=>{var s,t;return(null===(s=e.displayName)||void 0===s?void 0:s.toLowerCase().includes(b.toLowerCase()))||(null===(t=e.employeeId)||void 0===t?void 0:t.toLowerCase().includes(b.toLowerCase()))});return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("div",{onClick:()=>{g||y(!u)},className:`w-full p-3 border-2 rounded-xl transition-all duration-300 cursor-pointer flex items-center justify-between ${m?"border-red-300":"dark"===r?"border-gray-600":"border-gray-200"} ${g?"opacity-50":""} ${"dark"===r?"bg-gray-700 text-white":"bg-white text-gray-900"}`,children:[(0,i.jsx)("div",{className:"flex-1",children:(()=>{if(h){const e=Array.isArray(s)?s:[];return 0===e.length?(0,i.jsx)("span",{className:"dark"===r?"text-gray-400":"text-gray-500",children:"Select team members..."}):(0,i.jsx)("div",{className:"flex flex-wrap gap-1",children:e.map(e=>(0,i.jsx)("div",{className:"text-xs font-semibold px-2 py-1 rounded-full "+("dark"===r?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-800"),children:e.label},e.value))})}return s?(0,i.jsx)("span",{children:s.label}):(0,i.jsx)("span",{className:"dark"===r?"text-gray-400":"text-gray-500",children:"Select a team lead..."})})()}),(0,i.jsx)(o.Vr3,{className:`w-4 h-4 transition-transform ${u?"rotate-180":""} ${"dark"===r?"text-gray-400":"text-gray-500"}`})]}),(0,i.jsx)(c.N,{children:u&&!g&&(0,i.jsxs)(x.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 border rounded-xl shadow-lg z-50 "+("dark"===r?"bg-gray-700 border-gray-600":"bg-white border-gray-200"),children:[(0,i.jsx)("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(o.KSO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,i.jsx)("input",{type:"text",placeholder:"Search employees...",value:b,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm "+("dark"===r?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500")})]})}),(0,i.jsxs)("div",{className:"max-h-60 overflow-y-auto",onScroll:e=>{const{scrollTop:s,scrollHeight:t,clientHeight:a}=e.target;t-s<=a+50&&N&&!v&&T(C+1)},children:[E.map(e=>{const a=h?Array.isArray(s)&&s.some(s=>s.value===e.employeeId):(null===s||void 0===s?void 0:s.value)===e.employeeId;return(0,i.jsxs)("div",{onClick:()=>(e=>{if(h){const a=Array.isArray(s)?s:[],r=a.some(s=>s.value===e.employeeId);t(r?a.filter(s=>s.value!==e.employeeId):[...a,{value:e.employeeId,label:`${e.displayName} (${e.employeeId})`}])}else t({value:e.employeeId,label:`${e.displayName} (${e.employeeId})`}),y(!1)})(e),className:"p-3 cursor-pointer flex items-center justify-between "+(a?"bg-blue-50 dark:bg-blue-900/50":"hover:"+("dark"===r?"bg-gray-600":"bg-gray-50")),children:[(0,i.jsxs)("div",{className:"dark"===r?"text-white":"text-gray-900",children:[(0,i.jsx)("div",{className:"font-medium",children:e.displayName}),(0,i.jsx)("div",{className:"text-sm "+("dark"===r?"text-gray-400":"text-gray-500"),children:e.employeeId})]}),a&&(0,i.jsx)(d.G3G,{className:"w-5 h-5 text-blue-500"})]},e.employeeId)}),v&&(0,i.jsx)("div",{className:"p-4 text-center text-sm "+("dark"===r?"text-gray-400":"text-gray-500"),children:"Loading..."})]})]})})]})},u=()=>(0,i.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 sm:h-32 sm:w-32 border-t-2 border-b-2 border-blue-500"})}),y=e=>{let{message:s}=e;return(0,i.jsxs)("div",{className:"text-center p-6 sm:p-8 bg-red-100 text-red-700 rounded-lg",children:[(0,i.jsx)("h3",{className:"font-bold text-base sm:text-lg",children:"Oops! Something went wrong."}),(0,i.jsx)("p",{className:"text-sm sm:text-base",children:s})]})},b=()=>{const[e,s]=(0,a.useState)([]),[t,c]=(0,a.useState)(!0),[x,b]=(0,a.useState)(null),[p,f]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),[k,C]=(0,a.useState)(new Set),[S,I]=(0,a.useState)(""),[T,E]=(0,a.useState)(null),[$,L]=(0,a.useState)(""),[A,D]=(0,a.useState)(null),[M,F]=(0,a.useState)([]),[P,O]=(0,a.useState)(null),[z,R]=(0,a.useState)(!1),[G,_]=(0,a.useState)({}),[H,q]=(0,a.useState)(null),{userData:V,theme:Y}=(0,a.useContext)(n.o),B=(null===V||void 0===V?void 0:V.roles)||[],K=(B.includes("ADMIN")||B.includes("HR")||B.includes("MANAGER"),B.includes("ADMIN")||B.includes("HR")),Q=(0,r.zy)(),U=new URLSearchParams(Q.search),X="true"===U.get("fromContextMenu"),Z=U.get("targetEmployeeId"),J=X&&Z?Z:null===V||void 0===V?void 0:V.employeeId;console.log("\ud83d\udd0d URL Parameters:",{fromContextMenu:X,targetEmployeeId:Z,employeeIdToFetch:J});const W=async()=>{try{if(c(!0),!J)return void b("Employee ID not found. Please login again.");console.log(`\ud83d\ude80 Fetching teams for employee: ${J}`);const e=await l.yE.get(`employee/team/${J}`);console.log("\ud83d\udcca Teams API Response:",e.data);const t=Array.isArray(e.data)?e.data:[e.data];s(t||[]),b(null)}catch(e){console.error("\u274c Error fetching teams:",e),b(`Could not fetch teams data for employee ${J}.`)}finally{c(!1)}};(0,a.useEffect)(()=>{(async()=>{try{var e;let s=await l.ZQ.get(`role-access/${ee}`);console.log("Response From AllTeams for Fetching Permissions Array:",s.data),E(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.permissions)}catch(x){console.log("error from Fetching Error matching Objects:",x)}})()},[]),console.log(T);const ee=null!==V&&void 0!==V&&V.roles[0]?`ROLE_${V.roles[0]}`:null;(0,a.useEffect)(()=>{console.log("\ud83d\udd04 useEffect triggered:",{canCreateTeam:K,employeeIdToFetch:J}),W()},[K,J]);const se=e.filter(e=>e.teamName&&e.teamName.toLowerCase().includes(S.toLowerCase())),te=async e=>{if(e.preventDefault(),!(()=>{const e={};return $.trim()||(e.teamName="Team Name is required."),A||(e.teamLead="Team Lead is required."),0===M.length&&(e.teamMembers="At least one Team Member is required."),P||(e.selectedProject="Project selection is required."),_(e),0===Object.keys(e).length})())return;R(!0),_({});const s={teamName:$,teamDescription:"Default Description",employeeIds:[null===A||void 0===A?void 0:A.value,...M.map(e=>e.value)].filter(Boolean),projectId:null===P||void 0===P?void 0:P.value};console.log("\ud83d\ude80 Creating team with data:",s);try{const e=await l.yE.post("employee/team",s);console.log("\u2705 Team created successfully:",e.data),await W(),f(!1),L(""),D(null),F([]),O(null),alert("Team created successfully!")}catch(r){var t,a;console.error("\u274c Error creating team:",r),_({general:(null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to create team. Please check the data and try again."})}finally{R(!1)}};return(0,i.jsxs)("div",{className:"px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8 min-h-screen "+("dark"===Y?"bg-gray-900":"bg-gray-50"),children:[X&&Z&&(0,i.jsxs)("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 mx-4 sm:mx-0 rounded-none sm:rounded-xl border-l-4 border-blue-500 shadow-md flex items-center space-x-3 "+("dark"===Y?"bg-blue-900/20 text-blue-300":"bg-blue-50 text-blue-800"),children:[(0,i.jsx)(o.Ny1,{className:"flex-shrink-0"}),(0,i.jsxs)("p",{className:"font-semibold text-sm sm:text-base break-words",children:["\ud83d\udd0d Viewing teams for employee: ",(0,i.jsx)("span",{className:"font-mono",children:Z})]})]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 sm:mb-6 gap-4 mx-4 sm:mx-0",children:[(0,i.jsxs)("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold flex items-center "+("dark"===Y?"text-white":"text-gray-800"),children:[(0,i.jsx)(o.YXz,{className:"mr-2 sm:mr-3 text-blue-500"}),X?"Employee Teams":"All Teams"]}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 w-full md:w-auto",children:[(0,i.jsxs)("div",{className:"relative w-full sm:w-64",children:[(0,i.jsx)("input",{type:"text",placeholder:"Search by team name...",value:S,onChange:e=>I(e.target.value),className:"w-full pl-8 sm:pl-10 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/30 transition-colors text-sm "+("dark"===Y?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500")}),(0,i.jsx)(o.KSO,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 "+("dark"===Y?"text-gray-400":"text-gray-500")})]}),(null===T||void 0===T?void 0:T.includes("CREATE_TEAM"))&&!X&&(0,i.jsxs)("button",{onClick:()=>f(!0),className:"w-full sm:w-auto bg-black text-white px-4 sm:px-5 py-2 rounded-lg font-semibold hover:bg-gray-800 transition-colors flex items-center justify-center shadow-md text-sm",children:[(0,i.jsx)(o.OiG,{className:"mr-2"})," Create Team"]})]})]}),t?(0,i.jsx)(u,{}):x?(0,i.jsx)(y,{message:x}):(0,i.jsx)(i.Fragment,{children:0===se.length?(0,i.jsxs)("div",{className:"text-center py-12 sm:py-16 px-4",children:[(0,i.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 "+("dark"===Y?"bg-gray-700":"bg-gray-100"),children:(0,i.jsx)(o.YXz,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),(0,i.jsx)("h2",{className:"text-lg sm:text-xl font-bold mb-2 "+("dark"===Y?"text-white":"text-gray-800"),children:S||X?"No Teams Found":"No Teams Available"}),(0,i.jsx)("p",{className:"text-sm sm:text-base mb-4 max-w-md mx-auto "+("dark"===Y?"text-gray-300":"text-gray-600"),children:S?`Your search for "${S}" did not match any teams.`:X?`Employee ${Z} is not part of any teams yet.`:"No teams have been created yet. Create your first team!"})]}):(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mx-4 sm:mx-0",children:se.map((e,s)=>{var t,a,l,d;const n=e.teamId||s,m=(e=>k.has(e))(n),c=m?e.employees:null===(t=e.employees)||void 0===t?void 0:t.slice(0,5),x=(null===(a=e.employees)||void 0===a?void 0:a.length)>5,g=null===(l=e.employees)||void 0===l?void 0:l.find(e=>"TEAM_LEAD"===e.jobTitlePrimary);return(0,i.jsxs)("div",{className:"rounded-none sm:rounded-lg shadow-lg overflow-hidden border transition-shadow duration-300 flex flex-col "+("dark"===Y?"bg-gray-800 border-gray-700 hover:shadow-blue-500/20":"bg-white border-gray-200 hover:shadow-xl"),children:[(0,i.jsx)("div",{className:"p-4 sm:p-5",children:(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("h2",{className:"text-lg sm:text-xl font-bold break-words "+("dark"===Y?"text-white":"text-gray-900"),children:e.teamName}),g&&(0,i.jsxs)("div",{className:"flex items-center text-sm sm:text-md mt-2 "+("dark"===Y?"text-gray-300":"text-gray-600"),children:[(0,i.jsx)(o.e7y,{className:"mr-2 text-green-500 flex-shrink-0"}),(0,i.jsx)("strong",{children:"Lead:"}),(0,i.jsx)("span",{className:"ml-1 break-words",children:g.displayName})]})]}),(0,i.jsxs)("div",{className:"flex space-x-2 flex-shrink-0",children:[(0,i.jsx)(r.N_,{to:`/teams/${n}`,title:"View Details",className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:(0,i.jsx)(o.Ny1,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),T.includes("TEAM_DELETE_BTN")&&!X&&(0,i.jsx)("button",{onClick:()=>(e=>{console.log("\ud83d\uddd1\ufe0f Delete team clicked:",e),N(e),v(!0)})(e),title:"Delete Team",className:"p-2 text-gray-500 hover:text-red-500 transition-colors",children:(0,i.jsx)(o.qbC,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})}),(0,i.jsxs)("div",{className:"px-4 sm:px-5 py-3 sm:py-4 border-t mt-auto "+("dark"===Y?"bg-gray-800/50 border-gray-700":"bg-gray-50 border-gray-200"),children:[(0,i.jsxs)("h3",{className:"font-semibold mb-2 text-sm sm:text-base "+("dark"===Y?"text-gray-300":"text-gray-700"),children:["Members (",(null===(d=e.employees)||void 0===d?void 0:d.length)||0,")"]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:null===c||void 0===c?void 0:c.map(e=>(0,i.jsxs)("span",{className:"text-xs font-semibold px-2 sm:px-2.5 py-1 rounded-full break-words "+(e.employeeId===J?"dark"===Y?"bg-green-900 text-green-300":"bg-green-100 text-green-800":"dark"===Y?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-800"),children:[e.displayName,e.employeeId===J&&" (You)"]},e.employeeId))}),x&&(0,i.jsx)("button",{onClick:()=>(e=>{const s=new Set(k);s.has(e)?s.delete(e):s.add(e),C(s)})(n),className:"flex items-center space-x-1 text-xs sm:text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:m?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:"Show Less"}),(0,i.jsx)(o.Ucs,{className:"w-3 h-3"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{children:["+",e.employees.length-5," more"]}),(0,i.jsx)(o.Vr3,{className:"w-3 h-3"})]})})]})]})]},n)})})}),p?(0,i.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-2 sm:p-4",children:(0,i.jsxs)("div",{className:"rounded-2xl sm:rounded-3xl w-full max-w-2xl max-h-[95vh] overflow-hidden shadow-2xl flex flex-col "+("dark"===Y?"bg-gray-800":"bg-white"),children:[(0,i.jsx)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r from-blue-500 to-indigo-700 text-white relative",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[(0,i.jsx)("div",{className:"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl flex-shrink-0",children:(0,i.jsx)(o.YXz,{className:"w-6 h-6 sm:w-8 sm:h-8"})}),(0,i.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,i.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold break-words",children:"Create New Team"}),(0,i.jsx)("p",{className:"text-white/90 text-xs sm:text-sm break-words",children:"Organize employees into a new team."})]})]}),(0,i.jsx)("button",{onClick:()=>{f(!1),L(""),D(null),F([]),O(null),_({})},className:"p-2 sm:p-3 hover:bg-white/20 rounded-full transition-all group flex-shrink-0",children:(0,i.jsx)(o.QCr,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform"})})]})}),(0,i.jsx)("div",{className:"overflow-y-auto flex-grow",children:(0,i.jsxs)("form",{className:"p-4 sm:p-6 md:p-8",onSubmit:te,children:[(0,i.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===Y?"text-gray-200":"text-gray-800"),children:["Team Name ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsx)("input",{type:"text",value:$,onChange:e=>L(e.target.value),className:"w-full p-3 border-2 rounded-xl transition-colors "+(G.teamName?"border-red-300":"dark"===Y?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white text-gray-900"),placeholder:"e.g., Development Team"}),G.teamName&&(0,i.jsx)("p",{className:"text-red-500 text-xs mt-1",children:G.teamName})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===Y?"text-gray-200":"text-gray-800"),children:["Project ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsx)(g,{value:P,onChange:O,theme:Y,error:G.selectedProject}),G.selectedProject&&(0,i.jsx)("p",{className:"text-red-500 text-xs mt-1",children:G.selectedProject})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===Y?"text-gray-200":"text-gray-800"),children:["Team Lead ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsx)(h,{value:A,onChange:D,theme:Y,error:G.teamLead}),G.teamLead&&(0,i.jsx)("p",{className:"text-red-500 text-xs mt-1",children:G.teamLead})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 "+("dark"===Y?"text-gray-200":"text-gray-800"),children:["Team Members ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsx)(h,{value:M,onChange:F,theme:Y,error:G.teamMembers,isMulti:!0}),G.teamMembers&&(0,i.jsx)("p",{className:"text-red-500 text-xs mt-1",children:G.teamMembers})]})]}),G.general&&(0,i.jsx)("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 border-l-4 border-red-400 rounded-r-lg "+("dark"===Y?"bg-red-900/20":"bg-red-50"),children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(d.tr_,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400 mr-3 flex-shrink-0"}),(0,i.jsx)("p",{className:"font-medium text-sm "+("dark"===Y?"text-red-300":"text-red-800"),children:G.general})]})})]})}),(0,i.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 "+("dark"===Y?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:[(0,i.jsx)("button",{type:"button",onClick:()=>{f(!1),L(""),D(null),F([]),O(null),_({})},className:"w-full sm:w-auto px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold transition-all text-sm "+("dark"===Y?"border-gray-600 text-gray-300 hover:bg-gray-600":"border-gray-300 text-gray-700 hover:bg-gray-100"),children:"Cancel"}),(0,i.jsx)("button",{type:"button",onClick:te,disabled:z,className:"w-full sm:w-auto px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white font-bold rounded-lg sm:rounded-xl\n                                     hover:shadow-lg transform hover:scale-105 transition-all flex items-center justify-center space-x-2 text-sm\n                                     "+(z?"cursor-not-allowed opacity-75":""),children:z?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"h-4 w-4 sm:h-5 sm:w-5 border-4 border-white border-t-transparent rounded-full animate-spin"}),(0,i.jsx)("span",{children:"Creating..."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.G3G,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,i.jsx)("span",{children:"Create Team"})]})})]})]})}):null,(0,i.jsx)(m,{isOpen:j,onClose:()=>v(!1),onConfirm:async()=>{if(w){R(!0),console.log("\ud83d\ude80 Deleting team:",w.teamId);try{const t=await l.yE.delete(`employee/${w.teamId}/team`);console.log("\u2705 Team deleted successfully:",t.data),s(e.filter(e=>e.teamId!==w.teamId)),v(!1),N(null),alert("Team deleted successfully!")}catch(t){console.error("\u274c Error deleting team:",t),alert("Failed to delete team.")}finally{R(!1)}}},title:"Delete Team",message:`Are you sure you want to delete the team "${null===w||void 0===w?void 0:w.teamName}"? This action cannot be undone.`,confirmText:"Delete",isConfirming:z})]})}}}]);
//# sourceMappingURL=676.14b76e75.chunk.js.map