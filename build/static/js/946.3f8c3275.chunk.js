"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[946],{4921:(e,t,a)=>{a.d(t,{A:()=>h});var s=a(5043),r=a(9910),n=a(579);const i=["All","Paid","Sick","Casual","Unpaid"],l=["Name (A-Z)","Name (Z-A)","Recently Added","Last Month","This Month","Highest Overtime"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],d=[{employeeId:"EMP001",name:"Rajesh",month:10,year:2025,paid:10,sick:5,casual:3,unpaid:2,paidConsumed:1,sickConsumed:0,casualConsumed:1,unpaidConsumed:0,shiftName:"Day Shift",weekEffectiveHours:40,monthlyEffectiveHours:160,monthlyOnTime:20,monthlyOvertime:{seconds:3600}},{employeeId:"EMP002",name:"Sunitha",month:9,year:2025,paid:15,sick:2,casual:5,unpaid:1,paidConsumed:0,sickConsumed:1,casualConsumed:0,unpaidConsumed:0,shiftName:"Night Shift",weekEffectiveHours:35,monthlyEffectiveHours:140,monthlyOnTime:18,monthlyOvertime:{seconds:7200}},{employeeId:"EMP003",name:"Kiran",month:10,year:2025,paid:8,sick:8,casual:4,unpaid:0,paidConsumed:2,sickConsumed:1,casualConsumed:0,unpaidConsumed:0,shiftName:"Day Shift",weekEffectiveHours:40,monthlyEffectiveHours:160,monthlyOnTime:22,monthlyOvertime:{seconds:1800}},{employeeId:"EMP004",name:"Priya",month:8,year:2025,paid:12,sick:3,casual:6,unpaid:3,paidConsumed:1,sickConsumed:0,casualConsumed:2,unpaidConsumed:1,shiftName:"Night Shift",weekEffectiveHours:38,monthlyEffectiveHours:152,monthlyOnTime:19,monthlyOvertime:{seconds:5400}},{employeeId:"EMP005",name:"Mahesh",month:10,year:2025,paid:10,sick:4,casual:5,unpaid:0,paidConsumed:0,sickConsumed:2,casualConsumed:0,unpaidConsumed:0,shiftName:"Day Shift",weekEffectiveHours:40,monthlyEffectiveHours:160,monthlyOnTime:21,monthlyOvertime:{seconds:0}},{employeeId:"EMP006",name:"Deepika",month:7,year:2025,paid:20,sick:0,casual:10,unpaid:5,paidConsumed:5,sickConsumed:0,casualConsumed:5,unpaidConsumed:2,shiftName:"General",weekEffectiveHours:40,monthlyEffectiveHours:160,monthlyOnTime:15,monthlyOvertime:{seconds:10800}},{employeeId:"EMP007",name:"Harish",month:9,year:2025,paid:10,sick:10,casual:10,unpaid:10,paidConsumed:0,sickConsumed:0,casualConsumed:0,unpaidConsumed:3,shiftName:"Night Shift",weekEffectiveHours:36,monthlyEffectiveHours:144,monthlyOnTime:20,monthlyOvertime:{seconds:4500}},{employeeId:"EMP008",name:"Vamsi",month:10,year:2025,paid:7,sick:3,casual:2,unpaid:1,paidConsumed:1,sickConsumed:1,casualConsumed:0,unpaidConsumed:0,shiftName:"Day Shift",weekEffectiveHours:40,monthlyEffectiveHours:160,monthlyOnTime:17,monthlyOvertime:{seconds:900}}],c=d.length,x=e=>{let{label:t,options:a,value:i,onChange:l}=e;const{theme:o}=(0,s.useContext)(r.ob);return(0,n.jsxs)("div",{className:"flex flex-col w-full md:w-auto",children:[(0,n.jsx)("label",{className:`text-sm font-medium ${"dark"===o?" text-gray-50 ":"text-gray-700"} mb-1`,children:t}),(0,n.jsx)("select",{value:i,onChange:e=>l(e.target.value),className:`block w-full pl-3 pr-10 py-2 text-base border border-gray-300 ${"dark"===o?"bg-gray-700 text-gray-50":"bg-white"} rounded-lg shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm transition duration-150 ease-in-out`,children:a.map(e=>(0,n.jsx)("option",{value:e,children:e},e))})]})},m=e=>{let{label:t,consumed:a,total:s}=e;return(0,n.jsxs)("div",{className:"flex justify-between text-xs py-1 px-2 rounded-full font-medium",style:{backgroundColor:s>0?"rgba(56, 189, 248, 0.1)":"rgba(255, 99, 71, 0.1)",color:s>0?"#0284c7":"#ef4444"},children:[(0,n.jsxs)("span",{children:[t,":"]}),(0,n.jsxs)("span",{className:"font-bold",children:[a," / ",s]})]})};function h(e){let{onBack:t}=e;const{userData:a,theme:h}=(0,s.useContext)(r.ob),[g,u]=(0,s.useState)(i[0]),[y,p]=(0,s.useState)(l[0]),[b,f]=(0,s.useState)(o[(new Date).getMonth()]),v=(new Date).getFullYear(),j=(0,s.useMemo)(()=>{let e=[...d];if("All"!==b){const t=o.indexOf(b)+1;e=e.filter(e=>e.month===t&&e.year===v)}if("All"!==g){const t=`${g.toLowerCase()}Consumed`;e=e.filter(e=>e[t]>0)}if("Name (A-Z)"===y)e.sort((e,t)=>e.name.localeCompare(t.name));else if("Name (Z-A)"===y)e.sort((e,t)=>t.name.localeCompare(e.name));else if("Highest Overtime"===y)e.sort((e,t)=>t.monthlyOvertime.seconds-e.monthlyOvertime.seconds);else if("Recently Added"===y)e.sort((e,t)=>t.employeeId.localeCompare(e.employeeId));else if("This Month"===y)e.sort((e,t)=>t.month===o.indexOf(b)+1?1:-1);else if("Last Month"===y){let t=o.indexOf(b)+1-1;t=0===t?12:t,e.sort((e,a)=>a.month===t?1:-1)}return e},[g,y,b,v]),w=e=>({totalLeaves:e.paid+e.sick+e.casual+e.unpaid,consumedLeaves:e.paidConsumed+e.sickConsumed+e.casualConsumed+e.unpaidConsumed});return(0,n.jsxs)("div",{className:`p-4 md:p-8 ${"dark"===h?"bg-gray-900":"bg-gray-50"} min-h-screen`,children:[(0,n.jsx)("h1",{className:`text-3xl font-extrabold ${"dark"===h?"text-gray-50":"text-gray-800"} mb-6 border-b-2 border-sky-400 pb-2`,children:"Employee Leave & Attendance Dashboard \ud83d\udcca"}),(0,n.jsx)("button",{onClick:t,className:"mb-4 px-4 py-2 bg-indigo-100 text-blue-600 rounded-lg font-semibold shadow hover:bg-indigo-200 transition",children:"\u2190 Back to Dashboard"}),(0,n.jsx)("div",{className:`mb-8 p-4 md:p-6 ${"dark"===h?"bg-gray-700":"bg-white"} rounded-xl shadow-lg border border-gray-100`,children:(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6 items-end",children:[(0,n.jsx)(x,{label:"Leave Type:",options:i,value:g,onChange:u}),(0,n.jsx)(x,{label:"Sorted By:",options:l,value:y,onChange:p}),(0,n.jsx)(x,{label:"Select Month:",options:["All",...o],value:b,onChange:f}),(0,n.jsxs)("div",{className:`col-span-2 md:col-span-1 p-2  ${"dark"===h?"bg-gray-700 border border-gray-300":"bg-sky-50"} rounded-lg border-l-4 border-sky-400`,children:[(0,n.jsx)("p",{className:`text-sm ${"dark"===h?"text-gray-50":"text-gray-600"} font-medium`,children:"Total Employees"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-sky-700",children:c})]})]})}),(0,n.jsxs)("div",{className:"shadow-2xl sm:rounded-lg overflow-hidden",children:[(0,n.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-sky-600 text-white",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Name / ID"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Leave Balance (Total)"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Consumed Leaves"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Monthly Attendance"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Shift / Hours"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:j.map((e,t)=>{const{totalLeaves:a,consumedLeaves:s}=w(e),r=(e.monthlyOvertime.seconds/3600).toFixed(1);return(0,n.jsxs)("tr",{className:"border-b transition-colors duration-200 "+("dark"===h?"bg-gray-700 hover:bg-gray-600":"hover:bg-gray-100"),children:[(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,n.jsx)("div",{className:"text-sm font-semibold "+("dark"===h?"text-gray-50":"text-gray-900"),children:e.name}),(0,n.jsx)("div",{className:"text-xs "+("dark"===h?"text-gray-50":"text-gray-500"),children:e.employeeId})]}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsxs)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:[a," Days"]})}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium "+("dark"===h?"text-red-400":"text-red-600"),children:[s," Days"]}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[(0,n.jsx)("span",{className:"font-bold "+("dark"===h?"text-sky-400":"text-sky-600"),children:e.monthlyOnTime})," On-Time Entries"]}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm "+("dark"===h?"text-gray-50":"text-gray-500"),children:[e.shiftName," / ",(0,n.jsxs)("span",{className:"font-medium "+("dark"===h?"text-orange-300":"text-orange-600"),children:[r," hrs OT"]})]})]},e.employeeId)})})]})}),(0,n.jsx)("div",{className:"md:hidden divide-y divide-gray-200 "+("dark"===h?"bg-gray-700":"bg-white"),children:j.map(e=>{const{totalLeaves:t,consumedLeaves:a}=w(e),s=(e.monthlyOvertime.seconds/3600).toFixed(1);return(0,n.jsxs)("div",{className:`p-4 border-b border-gray-200 ${"dark"===h?"bg-gray-700":"bg-white"} shadow-sm`,children:[(0,n.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,n.jsx)("h3",{className:"text-lg font-bold "+("dark"===h?"text-sky-300":"text-sky-700"),children:e.name}),(0,n.jsx)("span",{className:`text-sm font-medium ${"dark"===h?"text-gray-50 bg-gray-800":"text-gray-500 bg-gray-100"} px-2 py-1 rounded-full`,children:e.employeeId})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,n.jsxs)("div",{className:"font-medium "+("dark"===h?"text-gray-50":"text-gray-700"),children:["Total Leaves: ",(0,n.jsx)("span",{className:("dark"===h?"text-green-300":"text-green-600")+" font-bold",children:t})]}),(0,n.jsxs)("div",{className:"font-medium "+("dark"===h?"text-gray-50":"text-gray-700"),children:["Consumed: ",(0,n.jsx)("span",{className:("dark"===h?"text-red-300":"text-red-600")+" font-bold",children:a})]}),(0,n.jsxs)("div",{className:"font-medium "+("dark"===h?"text-gray-50":"text-gray-700"),children:["On-Time: ",(0,n.jsx)("span",{className:"font-bold",children:e.monthlyOnTime})]}),(0,n.jsxs)("div",{className:"font-medium "+("dark"===h?"text-gray-50":"text-gray-700"),children:["Overtime: ",(0,n.jsxs)("span",{className:("dark"===h?"text-orange-300":"text-orange-600")+" font-bold",children:[s," hrs"]})]})]}),(0,n.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[(0,n.jsx)(m,{label:"Paid",consumed:e.paidConsumed,total:e.paid}),(0,n.jsx)(m,{label:"Sick",consumed:e.sickConsumed,total:e.sick}),(0,n.jsx)(m,{label:"Casual",consumed:e.casualConsumed,total:e.casual}),(0,n.jsx)(m,{label:"Unpaid",consumed:e.unpaidConsumed,total:e.unpaid})]})]},e.employeeId)})}),0===j.length&&(0,n.jsxs)("div",{className:`p-6 text-center ${"dark"===h?"text-gray-50 bg-gray-800":"text-gray-600 bg-gray-100"} text-lg font-medium`,children:[(0,n.jsx)("span",{role:"img","aria-label":"Not Found",children:"\ud83d\ude14"})," No data found for the selected filters."]})]})]})}},7158:(e,t,a)=>{a.d(t,{A:()=>B});var s=a(5043),r=a(363),n=a(3721),i=a(3546),l=a(5440),o=a(379),d=a(9002),c=a(7869),x=a(6102),m=a(6992),h=a(7136),g=a(2185),u=a(760),y=a(1474),p=a(184),b=a(5200),f=a(9910),v=a(3156),j=a(8105),w=a(3442),N=a(6213),k=a(579);const C=()=>{(0,n.Zp)();const[e,t]=(0,s.useState)("Today"),a=[{name:"Present",value:60},{name:"Late",value:20},{name:"Permission",value:20},{name:"Absent",value:4}],r={Present:"text-green-600",Late:"text-blue-600",Permission:"text-yellow-600",Absent:"text-red-600"},h=["#4CAF50","#2196F3","#FFC107","#EF5350"],g=[...a],{theme:u}=(0,s.useContext)(f.ob);return(0,k.jsxs)(l.P.div,{className:" p-2 rounded-xl shadow-md border border-gray-200 hover:border-blue-500 hover:shadow-xl transition-all duration-300 ease-in-out h-full "+("dark"===u?"bg-gray-600 ":"bg-stone-100 "),initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[(0,k.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,k.jsx)("h2",{className:"text-xl font-bold "+("dark"===u?"bg-gradient-to-br from-orange-100 to-orange-400 bg-clip-text text-transparent border-gray-100":"text-gray-800 "),children:"Attendance Overview"}),(0,k.jsx)("div",{className:"relative inline-block text-left mt-1",children:(0,k.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"inline-flex justify-center w-full rounded-md border border-gray-200 shadow-sm px-4 py-2  text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+("dark"===u?"bg-gray-600 text-white  hover:bg-gray-500":"bg-white text-gray-700"),children:[(0,k.jsx)("option",{children:"Today"}),(0,k.jsx)("option",{children:"This Week"}),(0,k.jsx)("option",{children:"This Month"}),(0,k.jsx)("option",{children:"Last Month"})]})})]}),(0,k.jsxs)("div",{className:"relative h-48 -mt-10",children:[(0,k.jsx)(d.u,{width:"100%",height:"100%",children:(0,k.jsxs)(m.r,{children:[(0,k.jsx)(x.F,{data:g,cx:"50%",cy:"100%",startAngle:180,endAngle:0,innerRadius:80,outerRadius:140,paddingAngle:2,dataKey:"value",cornerRadius:5,children:g.map((e,t)=>(0,k.jsx)(c.f,{fill:h[t%h.length]},`cell-${t}`))}),(0,k.jsx)(o.m,{})]})}),(0,k.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center mt-18",children:[(0,k.jsx)("p",{className:"text-sm font-medium "+("dark"===u?"text-white ":"text-gray-500 "),children:" Total Attendance"}),(0,k.jsx)("p",{className:"text-4xl font-bold "+("dark"===u?"text-white ":"text-gray-800 "),children:104})]})]}),(0,k.jsx)("hr",{className:"my-6 border-gray-200"}),(0,k.jsxs)("div",{className:"flex justify-between items-start",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"text-lg font-semibold mb-2 "+("dark"===u?"text-white ":"text-gray-800 "),children:"Status"}),(0,k.jsx)("ul",{className:"space-y-2",children:(0,k.jsx)(i.N,{children:a.map((e,t)=>(0,k.jsxs)(l.P.li,{className:`flex items-center  font-medium ${"dark"===u?"text-white ":r[e.name]||"text-gray-700 "}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},children:[(0,k.jsx)("span",{className:"inline-block h-3 w-3 rounded-full mr-3 ring-2 ring-white",style:{backgroundColor:h[t%h.length]}}),e.name]},e.name))})})]}),(0,k.jsxs)("div",{className:"text-right",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold  mb-2 "+("dark"===u?"text-white ":"text-gray-800 "),children:"Percentage"}),(0,k.jsx)("ul",{className:"space-y-2",children:(0,k.jsx)(i.N,{children:a.map((e,t)=>(0,k.jsxs)(l.P.li,{className:"  font-bold "+("dark"===u?"text-white ":"text-gray-700 "),initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1*t},children:[e.value,"%"]},e.name))})})]})]})]})},S=e=>(0,k.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,k.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm.87 14.13H11.5v-6h1.37v6zM12 5.5c-3.59 0-6.5 2.91-6.5 6.5s2.91 6.5 6.5 6.5 6.5-2.91 6.5-6.5-2.91-6.5-6.5-6.5zm.5 1.5h-1v5.25l4.5 2.62.75-1.35-3.5-2.02V7z"})}),T=[{Month:"Aug",Year:"25",NoofEmployee:100},{Month:"Sept",Year:"25",NoofEmployee:120},{Month:"Oct",Year:"25",NoofEmployee:80},{Month:"Nov",Year:"25",NoofEmployee:150},{Month:"Dec",Year:"25",NoofEmployee:7}],P=()=>{const[e,t]=(0,s.useState)("This Year"),{theme:a}=(0,s.useContext)(f.ob),r=T.map(e=>({name:`${e.Month}-${e.Year}`,employees:e.NoofEmployee})),n="dark"===a?"#FFFFFF":"#000000",i="bg-blue-600 text-white shadow-md",c="dark"===a?"bg-gray-600 text-gray-200 hover:bg-gray-500":"bg-white text-gray-700 hover:bg-gray-100";return(0,k.jsxs)(l.P.div,{className:" rounded-xl  focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-md p-4 w-full font-sans border border-gray-200 h-96 flex flex-col "+("dark"===a?"bg-gray-700 text-gray-200 ":"bg-stone-100 text-gray-800"),initial:{opacity:0,y:50},animate:{opacity:1,y:.5,scale:1},transition:{duration:.5,delay:.2},children:[(0,k.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(S,{className:"w-6 h-6 text-blue-600 inline-block mr-2"}),(0,k.jsx)("h2",{className:"text-xl font-semibold text-start",children:"No of Leaves Taken"})]}),(0,k.jsxs)("div",{className:"flex p-0.5 rounded-lg border border-gray-300",children:[(0,k.jsx)("button",{className:`text-xs py-1 px-3 rounded-md transition-colors duration-200 ${"This Year"===e?i:c}`,onClick:()=>t("This Year"),children:"This Year"}),(0,k.jsx)("button",{className:`text-xs py-1 px-3 rounded-md transition-colors duration-200 ${"Last Year"===e?i:c}`,onClick:()=>t("Last Year"),children:"Last Year"})]})]}),(0,k.jsx)(d.u,{width:"100%",height:"90%",children:(0,k.jsxs)(y.E,{data:r,margin:{top:5,right:30,left:20,bottom:5},children:[(0,k.jsx)(g.W,{dataKey:"name",stroke:n,tick:{fill:n}}),(0,k.jsx)(u.h,{stroke:n,tick:{fill:n},hide:!0}),(0,k.jsx)(o.m,{contentStyle:{backgroundColor:"dark"===a?"#63676cff":"#fff",border:a?"1px solid #4B5563":"1px solid #ccc"}}),(0,k.jsx)(h.y,{dataKey:"employees",fill:"#ADD8E6"})]})})]})},D=()=>{const[e,t]=(0,s.useState)(new Date),[a,r]=(0,s.useState)(0),{theme:n}=(0,s.useContext)(f.ob),o=e.getMonth(),d=e.getFullYear(),c=new Date,x=((e,t)=>new Date(e,t+1,0).getDate())(d,o),m=((e,t)=>new Date(e,t,1).getDay())(d,o),h=Array.from({length:m},(e,t)=>t),g=Array.from({length:x},(e,t)=>t+1);return(0,k.jsx)("div",{className:`flex justify-center rounded-xl items-center  focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${"dark"===n?"bg-gray-600 ":"bg-stone-100 "} p-2`,children:(0,k.jsxs)(l.P.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full h-96 transform transition-all",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0},children:[(0,k.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,k.jsx)(l.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{r(-1),t(e=>{const t=new Date(e);return t.setMonth(t.getMonth()-1),t})},className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:(0,k.jsx)(j.A,{className:"h-5 w-5"})}),(0,k.jsxs)(l.P.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},className:"text-xl font-semibold text-gray-800 dark:text-gray-100 flex-grow text-center",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][o]," ",d]},o+"-"+d),(0,k.jsx)(l.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{r(1),t(e=>{const t=new Date(e);return t.setMonth(t.getMonth()+1),t})},className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:(0,k.jsx)(w.A,{className:"h-5 w-5"})})]}),(0,k.jsx)("div",{className:"grid grid-cols-7 gap-1 p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e,t)=>(0,k.jsx)("div",{className:"text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:e},t))}),(0,k.jsx)(i.N,{initial:!1,custom:a,children:(0,k.jsxs)(l.P.div,{custom:a,variants:{enter:e=>({x:e>0?300:-300,opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e<0?300:-300,opacity:0})},initial:"enter",animate:"center",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"grid grid-cols-7 gap-1 p-4",children:[h.map((e,t)=>(0,k.jsx)("div",{className:"h-10"},`empty-${t}`)),g.map(e=>{const t=e===c.getDate()&&o===c.getMonth()&&d===c.getFullYear(),a=(m+e-1)%7===0||(m+e-1)%7===6;return(0,k.jsx)("div",{className:`flex items-center justify-center h-10 w-10  rounded-full text-gray-800 dark:text-gray-200 cursor-pointer \n                              ${t?"bg-blue-600 text-white font-bold shadow-md transform scale-110":""}\n                              ${t||a?"":"hover:bg-gray-100 dark:hover:bg-gray-700"}\n                              ${!t&&a?"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700":""}\n                              ${t?"relative z-10":""}\n                              transition-all duration-200 ease-in-out\n                              `,children:e},e)})]},o+"-"+d)})]})})},A=[{title:"Total Present",value:"104/108"},{title:"Paid Leaves",value:"10"},{title:"Unpaid Leaves",value:"10"},{title:"Sick leaves",value:"15"},{title:"Pending Request",value:"15"}],M=e=>{let{title:t,icontextcolor:a,value:r,icon:n,color:i}=e;const{theme:o}=(0,s.useContext)(f.ob);return(0,k.jsxs)(l.P.div,{className:" rounded-xl p-2 shadow-md border border-gray-200 hover:border-blue-500 hover:shadow-xl   transition-shadow duration-300 h-full flex flex-col items-center justify-center text-center  focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+("dark"===o?"bg-gray-500 ":"bg-stone-100 "),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,k.jsx)("div",{className:`w-16 h-16 flex items-center justify-center rounded-full mb-2 p-3 ${i}  ${a}`,children:s.cloneElement(n,{className:"w-8 h-8 rounded-full"})}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"text-xl font-semibold  "+("dark"===o?"text-white ":"text-gray-800 "),children:t}),(0,k.jsx)("p",{className:"text-3xl font-bold mt-2 "+("dark"===o?"text-white ":"text-gray-800 "),children:r})]})]})},E=()=>(0,k.jsx)(l.P.div,{className:"p-6 h-full flex flex-col justify-between",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-6 gap-6 h-full",children:(0,k.jsxs)(i.N,{children:[(0,k.jsx)(L,{}),A.map((e,t)=>{let a,s,n;switch(e.title){case"Total Present":a=(0,k.jsx)(p.YXz,{className:"w-4 h-4 text-white"}),n="bg-green-100",s="text-green-300";break;case"Paid Leaves":a=(0,k.jsx)(p.VGZ,{className:"w-4 h-4 text-white"}),n="bg-pink-100",s="text-pink-300";break;case"Unpaid Leaves":a=(0,k.jsx)(b.JXP,{className:"w-4 h-4 text-white"}),n="bg-yellow-100",s="text-yellow-300";break;case"Sick leaves":a=(0,k.jsx)(b.JXP,{className:"w-4 h-4 text-white"}),n="bg-purple-100",s="text-purple-300";break;case"Pending Request":a=(0,k.jsx)(p.xvZ,{className:"w-4 h-4 text-white"}),n="bg-blue-100",s="text-blue-300";break;default:a=(0,k.jsx)(r.A,{className:"w-4 h-4 text-white"}),n="bg-gray-100"}return(0,k.jsx)(M,{icon:a,color:n,icontextcolor:s,value:e.value,title:e.title,trends:e.trends,trendPercentage:e.trendPercentage,trendPeriod:e.trendPeriod},t)})]})})}),O=[{title:"Total Present",value:104},{title:"Paid Leaves ",value:10},{title:"Unpaid Leaves",value:6},{title:"Sick leaves",value:5},{title:"Pending Request",value:10}],$=["#3B82F6","#F59E0B","#EF4444","#84CC16","#6B7280"],L=()=>{const{theme:e}=(0,s.useContext)(f.ob),t="dark"===e?"#FFFFFF":"#000000";return(0,k.jsx)("div",{className:"flex justify-center items-center",children:(0,k.jsxs)(m.r,{width:180,height:180,children:[(0,k.jsx)(x.F,{data:O,dataKey:"value",nameKey:"title",cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,children:O.map((e,t)=>(0,k.jsx)(c.f,{fill:$[t%$.length]},`cell-${t}`))}),(0,k.jsx)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"text-lg font-small ",stroke:t,children:"Leaves"}),(0,k.jsx)(o.m,{})]})})},R=e=>{let{leave:t,onClose:a}=e;const{theme:r}=(0,s.useContext)(f.ob);return t?(0,k.jsx)(i.N,{children:(0,k.jsx)(l.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center  bg-opacity-25 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,k.jsxs)(l.P.div,{className:` ${"dark"===r?"bg-gray-500 text-gray-200":"bg-stone-100"} rounded-lg shadow-xl p-6 max-w-lg w-full relative`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[(0,k.jsx)("button",{onClick:a,className:`w-20 h-20 absolute top-3 right-3 ${"dark"===r?"text-gray-200":"text-gray-500"} hover:text-gray-700 text-xl`,children:(0,k.jsx)(v.XoR,{className:"w-8 h-8"})}),(0,k.jsx)("h2",{className:"text-2xl font-bold mb-4 "+("dark"===r?"text-gray-200":"text-gray-800"),children:"Leave Request Summary"}),(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Employee ID:"})," ",t.employeeId]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Leave Type:"})," ",t.leaveType]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Status:"})," ",t.status]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Request On:"})," ",t.reqOn]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Request To:"})," ",t.reqTo]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Leave Reason:"}),t.leaveReason||"-"," "]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Rejection Reason:"}),t.rejectionReason||"-"," "]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Approved On:"}),t.approvedOn||"-"," "]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Half Day:"}),t.halfDay?"Yes":"No"," "]})]})]})})}):null},F=()=>{const{theme:e}=(0,s.useContext)(f.ob),[t,a]=(0,s.useState)([]),[r,i]=(0,s.useState)("All"),[o,d]=(0,s.useState)("All"),[c,x]=(0,s.useState)("Recently added"),[m,h]=(0,s.useState)(1),[g,u]=(0,s.useState)(10),[y,b]=(0,s.useState)(!1),{empID:v}=(0,n.g)(),[j,w]=(0,s.useState)(null),[N,C]=(0,s.useState)(""),[S,T]=(0,s.useState)(""),[P,D]=(0,s.useState)(null),{userData:A}=(0,s.useContext)(f.ob),M=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(null===j||void 0===j||!j.id)return;const s=j.id;localStorage.setItem("lastActionLeaveId",s);try{"APPROVED"===e?await fetch(`https://hrms.anasolconsultancyservices.com/api/attendance/admin/leave/${s}/approve`,{method:"PUT"}):"rejected"===e&&await fetch(`https://hrms.anasolconsultancyservices.com/api/attendance/admin/leave/${s}/reject?reason=${encodeURIComponent(t)}`,{method:"PUT"}),a(a=>a.map(a=>a.id===s?{...a,status:e,rejectionReason:"rejected"===e?t:a.rejectionReason,approvedOn:"APPROVED"===e?(new Date).toISOString().slice(0,10):a.approvedOn}:a))}catch(r){alert("Failed to update leave status. Please try again.")}},E=["All",...new Set(t.map(e=>e.leaveType))],O=["All",...new Set(t.map(e=>e.status))],$=(()=>{let e=[...t];switch(e=e.filter(e=>("All"===r||e.leaveType===r)&&("All"===o||e.status===o)),c){case"Ascending":e.sort((e,t)=>e.leaveType.localeCompare(t.leaveType));break;case"Descending":e.sort((e,t)=>t.leaveType.localeCompare(e.leaveType));break;case"Last Month":const t=new Date;t.setMonth(t.getMonth()-1),e=e.filter(e=>new Date(e.reqOn)>=t);break;case"Last 7 Days":const a=new Date;a.setDate(a.getDate()-7),e=e.filter(e=>new Date(e.reqOn)>=a);break;default:e.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))}return e})(),L=Math.ceil($.length/g),F=$.slice((m-1)*g,m*g);return(0,s.useEffect)(()=>{(async()=>{try{const e=await fetch("https://hrms.anasolconsultancyservices.com/api/attendance/admin/pendingLeaveRequests"),t=await e.json();a(Array.isArray(t)?t:[])}catch(e){a([])}})()},[]),(0,k.jsxs)(l.P.div,{className:"shadow-lg rounded-xl p-6 border "+("dark"===e?"bg-gray-600 text-gray-200":"bg-white text-gray-900"),initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,k.jsx)("h2",{className:`text-2xl font-bold mb-4 text-left border-b pb-4 ${"dark"===e?"bg-gradient-to-br from-green-400 to-green-800 bg-clip-text text-transparent border-gray-100":"text-gray-800 border-gray-200"} `,children:"Leave Requests History"}),(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsx)("label",{className:"text-base font-semibold mr-2 "+("dark"===e?"text-white":"text-gray-700"),children:"Leave Type:"}),(0,k.jsx)("select",{value:r,onChange:e=>i(e.target.value),className:"px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 border "+("dark"===e?"border-black  bg-gray-500 text-white":"border-gray-300"),children:E.map(e=>(0,k.jsx)("option",{value:e,children:e},e))})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"text-base font-semibold mr-2 "+("dark"===e?"text-white":"text-gray-700"),children:"Status:"}),(0,k.jsx)("select",{value:o,onChange:e=>d(e.target.value),className:"px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 border "+("dark"===e?"border-black bg-gray-500 text-white":"border-gray-300"),children:O.map(e=>(0,k.jsx)("option",{value:e,children:e},e))})]}),(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsx)("label",{className:"text-base font-semibold mr-2 "+("dark"===e?"text-white":"text-gray-700"),children:"Sort by:"}),(0,k.jsx)("select",{value:c,onChange:e=>x(e.target.value),className:`px-3 py-1.5 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 ${"dark"===e?"border-black  bg-gray-500 text-white":"border-gray-300"} border`,children:["Recently added","Ascending","Descending","Last Month","Last 7 Days"].map(e=>(0,k.jsx)("option",{value:e,children:e},e))})]})]}),(0,k.jsx)("div",{className:"overflow-x-auto rounded-xl ",children:(0,k.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200",children:[(0,k.jsx)("thead",{className:"bg-gray-50  "+("dark"===e?" bg-gray-500 text-white":""),children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{className:"w-1/6 px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider "+("dark"===e?"text-white":""),children:"Employee ID"}),(0,k.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider "+("dark"===e?"text-white":""),children:"Leave Type"}),(0,k.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider "+("dark"===e?"text-white":""),children:"Status"}),(0,k.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider "+("dark"===e?"text-white":""),children:"Request On"}),(0,k.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider "+("dark"===e?"text-white":""),children:"Request To"}),(0,k.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider "+("dark"===e?"text-white":""),children:"Leave Reason"}),(0,k.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider "+("dark"===e?"text-white":""),children:"Rejection Reason"}),(0,k.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider "+("dark"===e?"text-white":""),children:"Approved On"}),(0,k.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider "+("dark"===e?"text-white":""),children:"Half Day"}),(0,k.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider "+("dark"===e?"text-white":""),children:"Details"}),(0,k.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider "+("dark"===e?"text-white":""),children:"Action"})]})}),(0,k.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[F.length>0?F.map((t,a)=>(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  "+("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.employeeId}),(0,k.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  "+("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.leaveType}),(0,k.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  "+("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:(0,k.jsxs)("span",{className:"px-2 py-1 rounded-full text-white text-xs font-semibold "+("APPROVED"===t.status?"bg-green-500":"rejected"===t.status?"bg-red-500":"bg-blue-500"),children:[" ",t.status]})}),(0,k.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  "+("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.reqOn}),(0,k.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  "+("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.reqTo}),(0,k.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  "+("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.leaveReason}),(0,k.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  "+("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.rejectionReason||"-"}),(0,k.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  "+("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.approvedOn||"-"}),(0,k.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm  "+("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:t.halfDay?"Yes":"No"}),(0,k.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center "+("dark"===e?" bg-gray-500":""),children:(0,k.jsx)("button",{onClick:()=>{D(t)},className:"text-indigo-600 hover:text-indigo-800 text-lg  px-2 rounded",title:"View Details",children:(0,k.jsx)(p.t69,{className:` ${"dark"===e?"text-blue-200":"text-blue-600"} text-lg inline w-6 h-6 md:w-6 md:h-6 transition `})})}),(0,k.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm "+("dark"===e?" bg-gray-500 text-gray-200":"text-gray-900"),children:(0,k.jsx)("button",{onClick:()=>w(t),className:("dark"===e?"text-gray-200":"text-gray-600")+" hover:text-gray-800 text-lg",title:"Take Action",children:"\u22ef"})})]},t.id||a)):(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:9,className:"text-center py-4 text-gray-500 italic",children:"No leave history found."})}),j&&(0,k.jsx)(l.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-opacity-30",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,k.jsxs)(l.P.div,{className:" rounded-lg shadow-xl p-6 max-w-sm w-full relative "+("dark"===e?"bg-gray-800 text-white ":"bg-white text-gray-800 "),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[(0,k.jsx)("button",{onClick:()=>{w(null),C(""),T("")},className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"}),(0,k.jsx)("h2",{className:"text-xl font-bold mb-4 "+("dark"===e?"text-white ":"text-gray-800 "),children:"Take Action"}),!N&&(0,k.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,k.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",onClick:()=>C("APPROVED"),children:"Approve"}),(0,k.jsx)("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:()=>C("rejected"),children:"Reject"})]}),"APPROVED"===N&&(0,k.jsx)("div",{className:"mt-4 flex flex-col items-center",children:(0,k.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",onClick:()=>{M("APPROVED"),w(null),C("")},children:"Confirm Approve"})}),"rejected"===N&&(0,k.jsxs)("div",{className:"mt-4 flex flex-col items-center",children:[(0,k.jsx)("textarea",{rows:2,placeholder:"Enter rejection reason...",value:S,onChange:e=>T(e.target.value),className:"border border-gray-300 rounded p-2 w-full mb-2"}),(0,k.jsx)("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:()=>{M("rejected",S),w(null),C(""),T("")},disabled:!S.trim(),children:"Confirm Reject"})]})]})}),(0,k.jsx)(R,{leave:P,onClose:()=>{D(null)}})]})]})}),(0,k.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-4 sm:mb-0",children:[(0,k.jsx)("span",{className:"text-sm text-gray-700 "+("dark"===e?"text-white":"text-gray-700"),children:"Rows per page:"}),(0,k.jsx)("select",{value:g,onChange:e=>{u(Number(e.target.value)),h(1)},className:"border border-gray-300 px-2 py-1 rounded-md text-sm "+("dark"===e?"bg-gray-600 text-white border-gray-500":"bg-white text-gray-800"),children:[10,25,50,100].map(e=>(0,k.jsx)("option",{value:e,children:e},e))})]}),(0,k.jsxs)("nav",{className:"flex items-center gap-2",children:[(0,k.jsx)("button",{onClick:()=>h(e=>Math.max(e-1,1)),disabled:1===m,className:`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${"dark"===e?"bg-gray-600 text-white border-gray-500 hover:bg-gray-500":"bg-white text-gray-800"} `,children:"Previous"}),(0,k.jsxs)("span",{className:"text-sm text-gray-700 "+("dark"===e?"text-white":"text-gray-700"),children:["Page ",m," of ",L]}),(0,k.jsx)("button",{onClick:()=>h(e=>Math.min(e+1,L)),disabled:m===L||0===L,className:`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${"dark"===e?"bg-gray-600 text-white border-gray-500 hover:bg-gray-500":"bg-white text-gray-800"} `,children:"Next"})]})]})]})},H=e=>{let{label:t,theme:a,...s}=e;const r="dark"===a?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-800";return(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium mb-1 "+("dark"===a?"text-gray-200":"text-gray-700"),children:t}),(0,k.jsx)("input",{...s,className:`w-full px-4 py-2 border rounded-lg transition duration-300 ease-in-out focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 focus:outline-none ${r}`})]})};function I(e){let{onClose:t,onSubmit:a}=e;const{theme:r}=(0,s.useContext)(f.ob),[n,o]=(0,s.useState)({employeeId:"",month:"",year:"",paid:"",sick:"",casual:"",unpaid:"",shiftName:""}),[d,c]=(0,s.useState)(!1),[x,m]=(0,s.useState)(!1),h=e=>{const{name:t,value:a}=e.target;o(e=>({...e,[t]:a}))},g="dark"===r?"bg-gray-800 text-white border-gray-700":"bg-white text-gray-800 border-green-200";return(0,k.jsx)(l.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:t,children:(0,k.jsxs)(l.P.div,{className:"w-full max-w-2xl mx-auto my-auto max-h-[90vh] overflow-y-auto transform",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.3},onClick:e=>e.stopPropagation(),children:[(0,k.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0)},className:`relative rounded-3xl shadow-2xl ${g} transition-all duration-300`,children:[(0,k.jsx)("div",{className:"text-center rounded-t-3xl overflow-hidden",children:(0,k.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6",children:(0,k.jsx)("h2",{className:"text-2xl font-extrabold text-white",children:"Add Employee Attendance"})})}),(0,k.jsxs)("div",{className:"space-y-6 p-6",children:[(0,k.jsx)(H,{label:"Employee ID",theme:r,type:"text",name:"employeeId",value:n.employeeId,onChange:h,required:!0}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsx)(H,{label:"Month (1-12)",theme:r,type:"number",name:"month",value:n.month,onChange:h,required:!0,min:"1",max:"12"}),(0,k.jsx)(H,{label:"Year (e.g., 2025)",theme:r,type:"number",name:"year",value:n.year,onChange:h,required:!0,min:"2000",max:"2100"})]}),(0,k.jsx)("h3",{className:"text-lg font-semibold border-b pb-2 "+("dark"===r?"text-gray-300 border-gray-700":"text-gray-700 border-gray-200"),children:"Leave Details (Days)"}),(0,k.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,k.jsx)(H,{label:"Paid Leaves",theme:r,type:"number",name:"paid",value:n.paid,onChange:h,required:!0,min:"0"}),(0,k.jsx)(H,{label:"Sick Leaves",theme:r,type:"number",name:"sick",value:n.sick,onChange:h,required:!0,min:"0"})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,k.jsx)(H,{label:"Casual Leaves",theme:r,type:"number",name:"casual",value:n.casual,onChange:h,required:!0,min:"0"}),(0,k.jsx)(H,{label:"Unpaid Leaves",theme:r,type:"number",name:"unpaid",value:n.unpaid,onChange:h,required:!0,min:"0"})]}),(0,k.jsx)(H,{label:"Shift Name",theme:r,type:"text",name:"shiftName",value:n.shiftName,onChange:h,required:!0}),(0,k.jsxs)("div",{className:"pt-4 flex justify-end space-x-3",children:[(0,k.jsx)(l.P.button,{type:"button",onClick:t,className:"px-5 py-2.5 rounded-lg border text-sm font-semibold shadow-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200 dark:border-gray-600",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"}),(0,k.jsx)(l.P.button,{type:"submit",className:"px-5 py-2.5 rounded-lg border border-transparent bg-indigo-600 text-sm font-semibold text-white shadow-md hover:bg-indigo-700 disabled:opacity-50 transition-colors",disabled:x,whileHover:{scale:1.05},whileTap:{scale:.95},children:x?"Processing...":"Submit Attendance"})]})]})]}),(0,k.jsx)(i.N,{children:d&&(0,k.jsx)(l.P.div,{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,k.jsxs)(l.P.div,{className:"rounded-xl shadow-2xl p-8 w-full max-w-sm text-center "+("dark"===r?"bg-gray-700 text-white":"bg-white text-gray-800"),initial:{scale:.8,y:-50},animate:{scale:1,y:0},exit:{scale:.8,y:-50},children:[(0,k.jsx)("h3",{className:"text-xl font-extrabold mb-3 text-indigo-600",children:"Confirm Submission"}),(0,k.jsxs)("p",{className:"mb-6 text-gray-600 dark:text-gray-300",children:["Please confirm the attendance record for **Employee ID ",n.employeeId,"**"]}),(0,k.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,k.jsx)(l.P.button,{className:"px-5 py-2 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition disabled:opacity-50",onClick:async()=>{m(!0);try{await N.A.post("https://hrms.anasolconsultancyservices.com/api/attendance/personalleaves/add",n),alert("Attendance added successfully! \ud83c\udf89"),a(n),c(!1),t()}catch(e){console.error("Submission error:",e),alert("Failed to submit attendance. Please check your network and data, then try again.")}finally{m(!1)}},disabled:x,whileHover:{scale:1.05},whileTap:{scale:.95},children:x?"Submitting...":"Yes, Submit"}),(0,k.jsx)(l.P.button,{className:"px-5 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300 transition dark:bg-gray-600 dark:text-gray-200",onClick:()=>c(!1),disabled:x,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"})]})]})})})]})})}const q=e=>{let{label:t,theme:a,helperText:s,type:r="text",...n}=e;const i="dark"===a?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-800";return(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{htmlFor:n.id||n.name,className:"block text-sm font-medium mb-1 "+("dark"===a?"text-gray-200":"text-gray-700"),children:t}),(0,k.jsx)("input",{type:r,...n,className:`w-full px-4 py-2 border rounded-lg transition duration-300 ease-in-out focus:ring-2 focus:ring-indigo-500/40 focus:border-indigo-500 focus:outline-none ${i}`}),s&&(0,k.jsx)("p",{className:"text-xs mt-1 italic "+("dark"===a?"text-gray-400":"text-gray-500"),children:s})]})},Y=e=>{let{onClose:t}=e;const{theme:a}=(0,s.useContext)(f.ob),[r,n]=(0,s.useState)({shiftName:"",startTime:"",endTime:""}),[o,d]=(0,s.useState)(!1),[c,x]=(0,s.useState)(""),m=e=>e&&5===e.length?`${e}:00`:"",h=e=>{const{name:t,value:a}=e.target;n(e=>({...e,[t]:a}))},g="dark"===a?"bg-gray-800 text-white border-gray-700":"bg-white text-gray-800 border-gray-100";return(0,k.jsx)(l.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:t,children:(0,k.jsx)(l.P.div,{className:"w-full max-w-lg mx-auto my-auto max-h-[90vh] overflow-y-auto transform",initial:{scale:.9,y:-50},animate:{scale:1,y:0},exit:{scale:.9,y:-50},transition:{duration:.3},onClick:e=>e.stopPropagation(),children:(0,k.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),x("");if(!window.confirm(`Are you sure you want to submit this shift data?\nShift Name: ${r.shiftName}\nStart Time: ${r.startTime}\nEnd Time: ${r.endTime}`))return;d(!0);const a={shiftName:r.shiftName,startTime:m(r.startTime),endTime:m(r.endTime)};try{const e=await N.A.post("https://hrms.anasolconsultancyservices.com/api/attendance/shifts",a);alert(`Shift submitted successfully! \ud83c\udf89\nStatus: ${e.status}\nMessage: ${e.data.message||"Data received by server."}`),x("Success: Shift data submitted!"),n({shiftName:"",startTime:"",endTime:""}),t()}catch(h){var s,i,l,o,c;console.error("Submission Error:",(null===(s=h.response)||void 0===s?void 0:s.data)||h.message),alert(`Submission failed! \ud83d\ude14\nError: ${(null===(i=h.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||h.message}`),x(`Error: Submission failed! ${(null===(o=h.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||h.message}`)}finally{d(!1)}},className:`relative w-full rounded-3xl shadow-3xl overflow-hidden ${g} transition-all duration-300`,children:[(0,k.jsxs)("div",{className:"text-center rounded-t-3xl bg-gradient-to-r from-teal-500 to-cyan-600 p-6",children:[(0,k.jsxs)("h2",{className:"text-2xl font-extrabold text-white",children:[(0,k.jsx)("i",{className:"fas fa-clock mr-2"})," Create New Shift"]}),(0,k.jsx)("p",{className:"text-sm text-white/90 mt-1",children:"Define the operational hours for a new shift."})]}),(0,k.jsxs)("div",{className:"space-y-6 p-8",children:[(0,k.jsx)(q,{label:"Shift Name",theme:a,type:"text",name:"shiftName",value:r.shiftName,onChange:h,required:!0,placeholder:"e.g., Night Shift, General Duty"}),(0,k.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-2",children:[(0,k.jsx)(q,{label:"Start Time (HH:MM)",theme:a,type:"time",name:"startTime",value:r.startTime,onChange:h,required:!0,helperText:`Submits as: ${m(r.startTime)}`}),(0,k.jsx)(q,{label:"End Time (HH:MM)",theme:a,type:"time",name:"endTime",value:r.endTime,onChange:h,required:!0,helperText:`Submits as: ${m(r.endTime)}`})]}),(0,k.jsx)(i.N,{children:c&&(0,k.jsx)(l.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-4 text-center p-3 rounded-lg text-sm font-medium "+(c.startsWith("Success")?"bg-green-100 text-green-700 dark:bg-green-800 dark:text-green-100":"bg-red-100 text-red-700 dark:bg-red-800 dark:text-red-100"),children:c})}),(0,k.jsxs)("div",{className:"pt-4 flex justify-end space-x-3 border-t border-gray-200 dark:border-gray-700 -mx-8 px-8",children:[(0,k.jsx)(l.P.button,{type:"button",onClick:t,className:"px-5 py-2.5 rounded-lg border text-sm font-semibold shadow-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200 dark:border-gray-600",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"}),(0,k.jsx)(l.P.button,{type:"submit",className:"px-5 py-2.5 rounded-lg border border-transparent bg-indigo-600 text-sm font-semibold text-white shadow-md hover:bg-indigo-700 disabled:opacity-50 disabled:bg-indigo-400 transition-colors",disabled:o,whileHover:{scale:1.05},whileTap:{scale:.95},children:o?"Creating Shift...":"Create Shift"})]})]})]})})})};const B=function(e){let{onBack:t}=e;const{theme:a}=(0,s.useContext)(f.ob),[r,n]=(0,s.useState)(),[i,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1);return(0,k.jsxs)(l.P.div,{className:"p-2 sm:p-2 min-h-screen font-sans "+("dark"===a?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,k.jsxs)("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between pb-6 mb-2 border-b border-gray-200",children:[(0,k.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold "+("dark"===a?"text-white":"text-gray-900"),children:"Leaves Report"}),(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 sm:items-center",children:[(0,k.jsx)(l.P.button,{className:"px-4 py-2 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition",onClick:()=>o(!0),whileHover:{scale:1.05,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},children:"Add Attendance"}),(0,k.jsx)(l.P.button,{className:"px-4 py-2 rounded-lg bg-pink-600 text-white font-semibold hover:bg-pink-700 transition",onClick:()=>c(!0),whileHover:{scale:1.05,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},children:"Add Shift"}),(0,k.jsxs)(l.P.button,{onClick:t,className:"flex items-center px-4 py-2 text-sm font-semibold text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200",whileHover:{scale:1.05,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},children:[(0,k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})}),"Back to Dashboard"]})]})]}),(0,k.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-6 mb-2",children:(0,k.jsx)(E,{})}),(0,k.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-4",children:[(0,k.jsx)(C,{}),(0,k.jsx)(P,{}),(0,k.jsx)(D,{})]}),(0,k.jsx)("div",{className:"w-full",children:(0,k.jsx)(F,{})}),i&&(0,k.jsx)(I,{onClose:()=>o(!1),onSubmit:e=>{console.log("Attendance Added:",e)}}),d&&(0,k.jsx)(Y,{onClose:()=>c(!1)})]})}},7249:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(5043),r=a(579);const n=e=>{let{selectedDate:t,onSelectDate:a,onClose:n}=e;const[i,l]=(0,s.useState)(t||new Date),[o,d]=(0,s.useState)("calendar"),c=i.getFullYear(),x=i.getMonth(),m=["January","February","March","April","May","June","July","August","September","October","November","December"];return(0,r.jsxs)("div",{className:"absolute z-10 bg-white shadow-lg rounded-lg w-full p-4 mt-2 border border-gray-300",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:["calendar"===o&&(0,r.jsx)("button",{onClick:()=>l(new Date(i.getFullYear(),i.getMonth()-1,1)),className:"text-gray-600 hover:text-gray-800",children:"<"}),(0,r.jsxs)("div",{className:"flex-1 flex justify-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>d("month"),className:"font-semibold px-2 py-1 rounded-md hover:bg-gray-100",children:i.toLocaleString("default",{month:"long"})}),(0,r.jsx)("button",{onClick:()=>d("year"),className:"font-semibold px-2 py-1 rounded-md hover:bg-gray-100",children:c})]}),"calendar"===o&&(0,r.jsx)("button",{onClick:()=>l(new Date(i.getFullYear(),i.getMonth()+1,1)),className:"text-gray-600 hover:text-gray-800",children:">"})]}),"calendar"===o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-7 gap-1 text-sm font-medium text-center text-gray-500",children:[(0,r.jsx)("div",{children:"Su"}),(0,r.jsx)("div",{children:"Mo"}),(0,r.jsx)("div",{children:"Tu"}),(0,r.jsx)("div",{children:"We"}),(0,r.jsx)("div",{children:"Th"}),(0,r.jsx)("div",{children:"Fr"}),(0,r.jsx)("div",{children:"Sa"})]}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-1 text-sm",children:(()=>{const e=new Date(c,x+1,0).getDate();const s=((e,t)=>new Date(t,e,1).getDay())(x,c),n=[];for(let t=0;t<s;t++)n.push((0,r.jsx)("div",{className:"text-gray-400 p-2 text-center"},`empty-${t}`));for(let i=1;i<=e;i++){const e=new Date(c,x,i),s=t&&e.toDateString()===t.toDateString(),l=e.toDateString()===(new Date).toDateString();n.push((0,r.jsx)("button",{onClick:()=>a(e),className:`p-1 rounded-full text-center hover:bg-gray-200 transition-colors ${l?"bg-orange-500 text-white font-bold":""} ${s&&!l?"bg-blue-200 text-blue-800 font-bold":""}`,children:i},`day-${i}`))}return n})()})]}),"month"===o&&(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2 p-2",children:m.map((e,t)=>(0,r.jsx)("button",{onClick:()=>(l(new Date(c,t,1)),void d("calendar")),className:"p-2 rounded-md text-center hover:bg-gray-200 transition-colors "+(t===x?"bg-blue-500 text-white font-bold":""),children:e.substring(0,3)},e))}),"year"===o&&(()=>{const e=10*Math.floor(c/10),t=Array.from({length:12},(t,a)=>e-1+a);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("button",{onClick:()=>l(new Date(e-11,x,1)),className:"text-gray-600 hover:text-gray-800",children:"<"}),(0,r.jsxs)("h3",{className:"font-semibold",children:[e," - ",e+9]}),(0,r.jsx)("button",{onClick:()=>l(new Date(e+11,x,1)),className:"text-gray-600 hover:text-gray-800",children:">"})]}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-2 p-2",children:t.map(t=>(0,r.jsx)("button",{onClick:()=>(l(new Date(t,x,1)),void d("calendar")),className:`p-2 rounded-md text-center hover:bg-gray-200 transition-colors ${t===c?"bg-blue-500 text-white font-bold":"text-gray-700"} ${t<e||t>e+9?"text-gray-400":""}`,children:t},t))})]})})()]})}}}]);
//# sourceMappingURL=946.3f8c3275.chunk.js.map