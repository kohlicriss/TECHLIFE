{"version":3,"file":"static/js/404.e4537004.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/EmployeeDashboards/TotalEmployeeAttendance.jsx","TechLife/HRMS/Components/EmployeeDashboards/AttendanceReports.jsx","TechLife/HRMS/Components/EmployeeDashboards/AttendancesDashboard.jsx"],"sourcesContent":["import React, { useState, useMemo, useContext } from 'react';\r\nimport { Context } from '../HrmsContext';\r\n\r\nconst employeeAttendanceData = [\r\n  {\r\n    \"employeeId\": \"ACS00000001\",\r\n    \"name\": \"Arjun Reddy\",\r\n    \"attendanceId\": \"ACS00000001_2025-10-09\",\r\n    \"date\": \"2025-10-09\",\r\n    \"month\": \"October\",\r\n    \"year\": 2025,\r\n    \"mode\": \"Office\",\r\n    \"loginTime\": \"2025-10-09T09:10:00Z\",\r\n    \"logoutTime\": \"2025-10-09T18:05:00Z\",\r\n    \"breaks\": [\r\n      {\r\n        \"startTime\": \"2025-10-09T13:00:00Z\",\r\n        \"endTime\": \"2025-10-09T13:30:00Z\"\r\n      }\r\n    ],\r\n    \"effectiveHours\": \"PT8H25M\",\r\n    \"attended\": true,\r\n    \"leavesTaken\": 2\r\n  },\r\n  {\r\n    \"employeeId\": \"ACS00000002\",\r\n    \"name\": \"Priya Sharma\",\r\n    \"attendanceId\": \"ACS00000002_2025-10-10\",\r\n    \"date\": \"2025-10-10\",\r\n    \"month\": \"October\",\r\n    \"year\": 2025,\r\n    \"mode\": \"Remote\",\r\n    \"loginTime\": \"2025-10-10T09:00:00Z\",\r\n    \"logoutTime\": \"2025-10-10T17:30:00Z\",\r\n    \"breaks\": [],\r\n    \"effectiveHours\": \"PT8H30M\",\r\n    \"attended\": true,\r\n    \"leavesTaken\": 5\r\n  },\r\n  {\r\n    \"employeeId\": \"ACS00000003\",\r\n    \"name\": \"Vikram Singh\",\r\n    \"attendanceId\": \"ACS00000003_2025-09-28\",\r\n    \"date\": \"2025-09-28\",\r\n    \"month\": \"September\",\r\n    \"year\": 2025,\r\n    \"mode\": \"Office\",\r\n    \"loginTime\": \"2025-09-28T09:30:00Z\",\r\n    \"logoutTime\": \"2025-09-28T17:00:00Z\",\r\n    \"breaks\": [\r\n      {\r\n        \"startTime\": \"2025-09-28T12:00:00Z\",\r\n        \"endTime\": \"2025-09-28T12:30:00Z\"\r\n      },\r\n      {\r\n        \"startTime\": \"2025-09-28T15:00:00Z\",\r\n        \"endTime\": \"2025-09-28T15:15:00Z\"\r\n      }\r\n    ],\r\n    \"effectiveHours\": \"PT7H15M\",\r\n    \"attended\": true,\r\n    \"leavesTaken\": 0\r\n  },\r\n  {\r\n    \"employeeId\": \"ACS00000004\",\r\n    \"name\": \"Sita Kumari\",\r\n    \"attendanceId\": \"ACS00000004_2025-10-05\",\r\n    \"date\": \"2025-10-05\",\r\n    \"month\": \"October\",\r\n    \"year\": 2025,\r\n    \"mode\": \"Remote\",\r\n    \"loginTime\": \"2025-10-05T09:45:00Z\",\r\n    \"logoutTime\": \"2025-10-05T18:15:00Z\",\r\n    \"breaks\": [\r\n      {\r\n        \"startTime\": \"2025-10-05T13:15:00Z\",\r\n        \"endTime\": \"2025-10-05T13:45:00Z\"\r\n      }\r\n    ],\r\n    \"effectiveHours\": \"PT7H45M\",\r\n    \"attended\": true,\r\n    \"leavesTaken\": 1\r\n  },\r\n  {\r\n    \"employeeId\": \"ACS00000005\",\r\n    \"name\": \"Rahul Das\",\r\n    \"attendanceId\": \"ACS00000005_2025-08-15\",\r\n    \"date\": \"2025-08-15\",\r\n    \"month\": \"August\",\r\n    \"year\": 2025,\r\n    \"mode\": \"Office\",\r\n    \"loginTime\": \"2025-08-15T08:50:00Z\",\r\n    \"logoutTime\": \"2025-08-15T17:50:00Z\",\r\n    \"breaks\": [],\r\n    \"effectiveHours\": \"PT9H0M\",\r\n    \"attended\": true,\r\n    \"leavesTaken\": 3\r\n  }\r\n];\r\nconst parseEffectiveHours = (effectiveHours) => {\r\n  const match = effectiveHours.match(/PT(?:(\\d+)H)?(?:(\\d+)M)?/);\r\n  const hours = match[1] ? parseInt(match[1], 10) : 0;\r\n  const minutes = match[2] ? parseInt(match[2], 10) : 0;\r\n  return hours * 60 + minutes; //   .\r\n};\r\n\r\n\r\nconst calculateBreakTime = (breaks) => {\r\n  let totalBreakMinutes = 0;\r\n  breaks.forEach(b => {\r\n    const start = new Date(b.startTime);\r\n    const end = new Date(b.endTime);\r\n    const diffMs = end - start;\r\n    totalBreakMinutes += Math.floor(diffMs / (1000 * 60));\r\n  });\r\n  return totalBreakMinutes;\r\n};\r\n\r\n\r\nconst formatMinutesToHHMM = (totalMinutes) => {\r\n    const hours = Math.floor(totalMinutes / 60);\r\n    const minutes = totalMinutes % 60;\r\n    return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;\r\n};\r\n\r\nconst AttendanceTable = ({onBack}) => {\r\n  const [leaveType, setLeaveType] = useState('');\r\n  const [sortBy, setSortBy] = useState('Recantly Added');\r\n  const [selectedMonth, setSelectedMonth] = useState('');\r\n  const {theme}=useContext(Context);\r\n\r\n \r\n  const filteredData = useMemo(() => {\r\n    let result = [...employeeAttendanceData];\r\n\r\n    if (selectedMonth) {\r\n      result = result.filter(item => item.month.toLowerCase() === selectedMonth.toLowerCase());\r\n    }\r\n\r\n    \r\n    if (leaveType) {\r\n    \r\n        result = result.filter(item => item.leavesTaken > 0);\r\n    }\r\n    \r\n\r\n    switch (sortBy) {\r\n      case 'Ascending':\r\n    \r\n        result.sort((a, b) => a.name.localeCompare(b.name));\r\n        break;\r\n      case 'Descending':\r\n        \r\n        result.sort((a, b) => b.name.localeCompare(a.name));\r\n        break;\r\n      case 'Last Month':\r\n      \r\n        const targetMonth = new Date().getMonth() === 0 ? 'December' : new Date(0, new Date().getMonth() - 1).toLocaleString('en-US', { month: 'long' });\r\n        result.sort((a, b) => {\r\n            if (a.month === targetMonth && b.month !== targetMonth) return -1;\r\n            if (a.month !== targetMonth && b.month === targetMonth) return 1;\r\n            return 0;\r\n        });\r\n        break;\r\n      case 'Last 7 days':\r\n      \r\n        result.sort((a, b) => new Date(b.date) - new Date(a.date));\r\n        break;\r\n      case 'This Month':\r\n        \r\n        const currentMonth = new Date().toLocaleString('en-US', { month: 'long' });\r\n        result.sort((a, b) => {\r\n            if (a.month === currentMonth && b.month !== currentMonth) return -1;\r\n            if (a.month !== currentMonth && b.month === currentMonth) return 1;\r\n            return 0;\r\n        });\r\n        break;\r\n      case 'Recantly Added':\r\n      default:\r\n       \r\n        result.sort((a, b) => new Date(b.date) - new Date(a.date));\r\n        break;\r\n    }\r\n    \r\n    return result;\r\n  }, [employeeAttendanceData, leaveType, sortBy, selectedMonth]);\r\n\r\n \r\n  const totalEmployees = useMemo(() => {\r\n    const uniqueIds = new Set(employeeAttendanceData.map(item => item.employeeId));\r\n    return uniqueIds.size;\r\n  }, [employeeAttendanceData]);\r\n\r\n  const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n\r\n  const tableHeaders = [\r\n    'EmployeeId',\r\n    'Date',\r\n    'Mode',\r\n    'Login',\r\n    'Logout',\r\n    'Total Duration',\r\n    'Break Duration',\r\n    'Effective Hours',\r\n    'Leaves Taken',\r\n    'Status'\r\n  ];\r\n\r\n  return (\r\n    <div className={`p-4 sm:p-8 ${theme==='dark'?'bg-gray-400':'bg-gray-50'}min-h-screen`}>\r\n      <h1 className=\"text-3xl font-extrabold text-indigo-800 mb-6 border-b pb-2\">\r\n        <span role=\"img\" aria-label=\"clock\"></span> Employee Attendance Tracker\r\n      </h1>\r\n      <button\r\n        onClick={onBack}\r\n        className=\"mb-4 px-4 py-2 bg-indigo-100 text-blue-600 rounded-lg font-semibold shadow hover:bg-indigo-200 transition\"\r\n      >\r\n         Back to Dashboard\r\n      </button>\r\n\r\n      {/* Overview Section & Dropdowns */}\r\n      <div className={`flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 p-4 ${theme==='dark'?'bg-gray-700':'bg-white'} rounded-xl shadow-lg border-l-4 border-indigo-500`}>\r\n        <div className={`text-lg font-semibold ${theme==='dark'?'text-gray-100':'text-gray-700'} mb-4 sm:mb-0`}>\r\n          Total Employees: <span className=\"text-indigo-600 text-2xl\">{totalEmployees}</span>\r\n        </div>\r\n        \r\n        <div className=\"flex flex-wrap gap-4\">\r\n          \r\n          {/* Leave Type Dropdown */}\r\n          <select\r\n            value={leaveType}\r\n            onChange={(e) => setLeaveType(e.target.value)}\r\n            className={`p-2 border border-gray-300 rounded-lg text-sm ${theme==='dark'?'bg-gray-700 text-gray-50':'bg-white'} hover:border-indigo-500 transition-colors focus:ring-2 focus:ring-indigo-300`}\r\n          >\r\n            <option value=\"\">Leave Type: All</option>\r\n            <option value=\"sick\">Sick</option>\r\n            <option value=\"paid\">Paid</option>\r\n            <option value=\"unpaid\">Unpaid</option>\r\n            <option value=\"casual\">Casual</option>\r\n          </select>\r\n\r\n          {/* Select Month Dropdown */}\r\n          <select\r\n            value={selectedMonth}\r\n            onChange={(e) => setSelectedMonth(e.target.value)}\r\n            className={`p-2 border border-gray-300 rounded-lg text-sm ${theme==='dark'?'bg-gray-700 text-gray-50':'bg-white'} hover:border-indigo-500 transition-colors focus:ring-2 focus:ring-indigo-300`}\r\n          >\r\n            <option value=\"\">Select Month: All</option>\r\n            {months.map(m => (\r\n              <option key={m} value={m}>{m.slice(0, 3)}</option>\r\n            ))}\r\n          </select>\r\n          \r\n          {/* Sorted By Dropdown */}\r\n          <select\r\n            value={sortBy}\r\n            onChange={(e) => setSortBy(e.target.value)}\r\n            className={`p-2 border border-gray-300 rounded-lg text-sm ${theme==='dark'?'bg-gray-700 text-gray-50':'bg-white'} hover:border-indigo-500 transition-colors focus:ring-2 focus:ring-indigo-300`}\r\n          >\r\n            <option value=\"Recantly Added\">Sorted By: Recently Added</option>\r\n            <option value=\"Ascending\">Name: Ascending</option>\r\n            <option value=\"Descending\">Name: Descending</option>\r\n            <option value=\"This Month\">Date: This Month</option>\r\n            <option value=\"Last Month\">Date: Last Month</option>\r\n            <option value=\"Last 7 days\">Date: Last 7 days</option>\r\n          </select>\r\n          \r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto shadow-2xl rounded-xl\">\r\n        <table className=\"min-w-full bg-white border-collapse\">\r\n          \r\n          {/* Table Header (Desktop View) */}\r\n          <thead className=\"bg-indigo-600 text-white sticky top-0\">\r\n            <tr>\r\n              {tableHeaders.map(header => (\r\n                <th key={header} className=\"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 hidden sm:table-cell\">\r\n                  {header}\r\n                </th>\r\n              ))}\r\n       \r\n              <th className=\"py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider border-b border-indigo-500 sm:hidden\">\r\n                Employee Details\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          \r\n          {/* Table Body */}\r\n          <tbody>\r\n            {filteredData.length === 0 ? (\r\n              <tr>\r\n                <td colSpan={10} className={`text-center py-6 ${theme==='dark'?' text-gray-50':'text-gray-500'}  text-lg`}>\r\n                  No attendance records found for the selected filters.\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              filteredData.map((record, index) => {\r\n                const totalMinutesEffective = parseEffectiveHours(record.effectiveHours);\r\n                const breakMinutes = calculateBreakTime(record.breaks);\r\n                \r\n           \r\n                // Total Duration = Effective Hours + Break Duration\r\n                const loginTimeDate = new Date(record.loginTime);\r\n                const logoutTimeDate = new Date(record.logoutTime);\r\n                const totalDurationMinutes = Math.floor((logoutTimeDate - loginTimeDate) / (1000 * 60));\r\n                const totalDurationHHMM = formatMinutesToHHMM(totalDurationMinutes);\r\n                \r\n                const effectiveHoursHHMM = formatMinutesToHHMM(totalMinutesEffective);\r\n                const breakDurationHHMM = formatMinutesToHHMM(breakMinutes);\r\n\r\n                \r\n                const statusColor = record.attended ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800';\r\n\r\n                return (\r\n                  <tr \r\n                    key={record.attendanceId} \r\n                    className={`border-b transition-colors duration-200  ${theme==='dark'?'bg-gray-700 hover:bg-gray-600':'hover:bg-gray-200'}`}\r\n                  >\r\n                    \r\n                    \r\n                    <td className={`py-4 px-4 ${theme==='dark'?' text-gray-50':'text-gray-700'} font-medium hidden sm:table-cell`}>\r\n                      {record.employeeId}\r\n                    </td>\r\n                    <td className={`py-4 px-4 text-sm${theme==='dark'?' text-gray-50':'text-gray-700'}  hidden sm:table-cell`}>\r\n                      {record.date}\r\n                    </td>\r\n                    <td className=\"py-4 px-4 text-sm text-gray-600 hidden sm:table-cell\">\r\n                      <span className={`px-3 py-1 text-xs font-semibold rounded-full ${record.mode === 'Office' ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800'}`}>\r\n                        {record.mode}\r\n                      </span>\r\n                    </td>\r\n                    <td className={`py-4 px-4 text-sm ${theme==='dark'?' text-gray-50':'text-gray-700'}  hidden sm:table-cell`}>\r\n                      {loginTimeDate.toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit', hour12: true, timeZone: 'UTC' })}\r\n                    </td>\r\n                    <td className={`py-4 px-4 text-sm${theme==='dark'?' text-gray-50':'text-gray-700'}  hidden sm:table-cell`}>\r\n                      {logoutTimeDate.toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit', hour12: true, timeZone: 'UTC' })}\r\n                    </td>\r\n                    <td className={`py-4 px-4 text-sm font-semibold ${theme==='dark'?' text-indigo-500':'text-indigo-700'} hidden sm:table-cell`}>\r\n                      {totalDurationHHMM}\r\n                    </td>\r\n                    <td className={`py-4 px-4 text-sm ${theme==='dark'?' text-orange-300':'text-orange-600'} hidden sm:table-cell`}>\r\n                      {breakDurationHHMM}\r\n                    </td>\r\n                    <td className={`py-4 px-4 text-sm font-bold ${theme==='dark'?' text-green-300':'text-green-700'} hidden sm:table-cell`}>\r\n                      {effectiveHoursHHMM}\r\n                    </td>\r\n                    \r\n                    <td className={`py-4 px-4 text-sm ${theme==='dark'?' text-red-300':'text-red-600'} font-medium hidden sm:table-cell`}>\r\n                      {record.leavesTaken}\r\n                    </td>\r\n\r\n                    <td className=\"py-4 px-4 text-sm hidden sm:table-cell\">\r\n                      <span className={`px-3 py-1 text-xs font-semibold rounded-full ${statusColor}`}>\r\n                        {record.attended ? 'Present' : 'Absent'}\r\n                      </span>\r\n                    </td>\r\n\r\n                    {/* Mobile View (sm:hidden) */}\r\n                    <td className=\"py-4 px-4 sm:hidden\">\r\n                      <div className=\"flex flex-col space-y-1\">\r\n                        <span className={`text-base font-bold ${theme==='dark'?' text-indigo-300':'text-indigo-700'}`}>{record.name}</span>\r\n                        <span className={`text-sm ${theme==='dark'?' text-gray-100':'text-gray-600'}`}>Date: {record.date} ({record.mode})</span>\r\n                        <span className={`text-sm ${theme==='dark'?' text-gray-100':'text-gray-600'}`}>\r\n                          {loginTimeDate.toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit', hour12: true, timeZone: 'UTC' })} - \r\n                          {logoutTimeDate.toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit', hour12: true, timeZone: 'UTC' })}\r\n                        </span>\r\n                        <div className=\"text-xs font-medium mt-1\">\r\n                            <span className={`${theme==='dark'?' text-green-400':'text-green-700'} `}>Effective: {effectiveHoursHHMM}</span> | \r\n                            <span className={`${theme==='dark'?' text-red-400':'text-red-700'}`}> Leaves: {record.leavesTaken}</span>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    \r\n                  </tr>\r\n                );\r\n              })\r\n            )}\r\n          </tbody>\r\n          \r\n        </table>\r\n      </div>\r\n      \r\n      <p className={`text-sm ${theme==='dark'?' text-gray-50':'text-gray-700'}  mt-6 text-center`}>\r\n        Data is displayed for **{filteredData.length}** attendance record(s) based on current filters.\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceTable;","import { CalendarDaysIcon, ClockIcon, ArrowPathIcon } from \"@heroicons/react/24/outline\";\r\nimport { Menu, MenuButton, MenuItems, MenuItem, Transition } from '@headlessui/react';\r\nimport { ChevronDownIcon } from '@heroicons/react/20/solid';\r\nimport React, { useMemo, useState, Fragment, useContext, useEffect } from \"react\";\r\nimport { TrendingDownIcon, TrendingUpIcon } from \"lucide-react\";\r\nimport { MdEditCalendar } from \"react-icons/md\";\r\nimport { BiArchiveOut, BiCalendarStar, BiCodeBlock, BiError, BiLogIn, BiSolidCalendarEvent, BiSolidUser } from \"react-icons/bi\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { AiOutlineGift } from \"react-icons/ai\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport { PieChart, Pie, Cell, Tooltip } from \"recharts\";\r\nimport {BarChart,Bar,XAxis,YAxis,CartesianGrid,ResponsiveContainer,} from \"recharts\";\r\n\r\nconst ChartData = [\r\n    {\r\n        title: \"Total ClockIn\",\r\n        value: \"104\",\r\n    },\r\n    {\r\n        title: \"Not ClockIn \",\r\n        value: \"10\",\r\n    },\r\n    {\r\n        title: \"On leave\",\r\n        value: \"6\",\r\n    },\r\n    {\r\n        title: \"Weekly Off\",\r\n        value: \"5\",\r\n       \r\n    },\r\n    {\r\n        title: \"Holiday\",\r\n        value: \"10\", \r\n    },\r\n    {\r\n        title: \"ClockOut\",\r\n        value: \"104\",\r\n       \r\n    }\r\n];\r\n\r\n\r\nconst ChartCard = ({ title, icontextcolor, icon, value, color }) => {\r\n    \r\n    const {theme} = useContext(Context);\r\n    return (\r\n        <motion.div\r\n            className={` rounded-xl p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-300 h-full flex flex-col items-center justify-center text-center space-y-2 ${theme==='dark' ? 'bg-gray-600 ':'bg-stone-100 '}`}\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, ease: \"easeOut\" }}\r\n        >\r\n            \r\n            <div className={`w-16 h-16 flex items-center justify-center rounded-full mb-2 p-2 ${color} ${icontextcolor}`}>\r\n                {React.cloneElement(icon, { className: `w-10 h-10 rounded-full ` })}\r\n            </div>\r\n            <div>\r\n                <p className={`text-3xl font-bold mt-2 ${theme==='dark' ? 'bg-gradient-to-br from-blue-100 to-blue-500 bg-clip-text text-transparent' :'text-gray-800 '}`}>\r\n                    {value}</p>\r\n                <h3 className={`text-sm  ${theme==='dark' ? 'text-white ':'text-gray-800'} `}>{title}</h3>\r\n            </div>\r\n            \r\n        </motion.div>\r\n    );\r\n};\r\nconst DashboardGrid = () => {\r\n    const {theme}= useContext(Context)\r\n    return (\r\n        <div className=\"p-2 h-full flex flex-col justify-between\">\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-7 gap-6 h-full\">\r\n                <EmployeePieChart/>\r\n                {ChartData.map((chart, index) => {\r\n                    let icon, icontextcolor, colorHandler;\r\n\r\n                    switch (chart.title) {\r\n                        case \"Total ClockIn\": icon = <BiArchiveOut className=\"w-8 h-8 text-white\" />; colorHandler = \"bg-orange-100\"; icontextcolor = \"text-orange-400\";  break;\r\n                        case \"Not ClockIn \": icon = < BiError  className=\"w-8 h-8 text-white\" />; colorHandler = \"bg-red-100\"; icontextcolor = \"text-red-400\";  break;\r\n                        case \"On leave\": icon = <BiCodeBlock className=\"w-8 h-8 text-white\" />; colorHandler = \"bg-green-100\"; icontextcolor = \"text-green-400\";  break;\r\n                        case \"Weekly Off\": icon = <BiSolidCalendarEvent className=\"w-8 h-8 text-white\" />; colorHandler = \"bg-blue-100\"; icontextcolor = \"text-blue-400\";  break;\r\n                        case \"Holiday\": icon = <AiOutlineGift  className=\"w-8 h-8 text-white\" />; colorHandler = \"bg-indigo-100\"; icontextcolor = \"text-indigo-400\";  break;\r\n                        case \"ClockOut\": icon = <BiLogIn className=\"w-8 h-8 text-white\" />; colorHandler = \"bg-yellow-100\"; icontextcolor = \"text-yellow-400\";  break;\r\n                        default:  icon = <ArrowPathIcon className=\"w-10 h-10 text-white\" />; colorHandler = \"#D3D3D3\"; icontextcolor = \"text-gray-100\";\r\n                    }\r\n                    return (\r\n                        <ChartCard key={index} icon={icon} color={colorHandler} value={chart.value} title={chart.title} icontextcolor={icontextcolor}/>\r\n                    );\r\n                })}\r\n            </div>\r\n            </div>\r\n        \r\n    );\r\n};\r\n\r\n\r\nconst piechartData = [\r\n  { title: \"Total ClockIn\", value: 104 },\r\n  { title: \"Not ClockIn \", value: 10 },\r\n  { title: \"On leave\", value: 6 },\r\n  { title: \"Weekly Off\", value: 5 },\r\n  { title: \"Holiday\", value: 10 },\r\n  { title: \"ClockOut\", value: 104 },\r\n];\r\n\r\nconst COLORS = [\"#3B82F6\", \"#F59E0B\", \"#EF4444\", \"#84CC16\", \"#6B7280\", \"#22C55E\"];\r\n\r\nconst EmployeePieChart = () => {\r\n    const {theme}=useContext(Context)\r\n  const totalEmployees = piechartData.reduce(\r\n    (sum, entry) => sum + entry.value,\r\n    0\r\n  );\r\n  const textColor = theme==='dark' ? \"white\" : \"black\";\r\n\r\n  return (\r\n    <div className=\"flex justify-center items-center\">\r\n      {/* Chart container */}\r\n      <PieChart width={160} height={160}>\r\n        <Pie\r\n          data={piechartData}\r\n          dataKey=\"value\"\r\n          nameKey=\"title\"\r\n          cx=\"50%\"\r\n          cy=\"50%\"\r\n          innerRadius={55} // Donut chart shape kosam inner radius set cheyyandi\r\n          outerRadius={80}\r\n         \r\n        >\r\n          {piechartData.map((entry, index) => (\r\n            <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n          ))}\r\n        </Pie>\r\n        <text\r\n            x=\"50%\"\r\n            y=\"50%\"\r\n            textAnchor=\"middle\"\r\n            dominantBaseline=\"middle\"\r\n            stroke={textColor}\r\n            className={`text-sm font-small `}\r\n        >\r\n           Total Employees\r\n          <span className={` ${theme==='dark'?'text-gray-200':'text-gray-800'} text-xl font-bold `}>\r\n          {totalEmployees}\r\n        </span>\r\n        </text>\r\n        <Tooltip />\r\n      </PieChart>\r\n    </div>\r\n  );\r\n};\r\nconst employees = [\r\n    {\r\n        name: 'John Doe',\r\n        title: 'UI/UX Designer',\r\n        department: 'UI/UX',\r\n        status: 'Clocked In',\r\n        time: '09:15',\r\n        Arrival:\"On-Time\"\r\n    },\r\n    {\r\n        name: 'Raju',\r\n        title: 'Project Manager',\r\n        department: 'Management',\r\n        status: 'Clocked In',\r\n        time: '09:36',\r\n        Arrival:\"On-Time\"\r\n    },\r\n    {\r\n        name: 'Srilekha',\r\n        title: 'PHP Developer',\r\n        department: 'Development',\r\n        status: 'Clocked In',\r\n        time: '09:15',\r\n        Arrival:\"On-Time\",\r\n        details: {\r\n            clockIn: '10:30 AM',\r\n            clockOut: '09:45 AM',\r\n            production: '09:21 Hrs',\r\n        },\r\n    },\r\n    {\r\n        name: 'Anita',\r\n        title: 'Marketing Head',\r\n        department: 'Marketing',\r\n        Arrival: 'Late',\r\n        lateTime: '30 Min',\r\n        time: '10:35',\r\n    }\r\n\r\n];\r\n\r\n\r\n\r\n\r\nconst departments = ['All Departments', 'UI/UX', 'Development', 'Management', 'HR', 'Marketing'];\r\nconst timeframes = ['Today', 'This week', 'This month', 'Last Month'];\r\n\r\nfunction classNames(...classes) {\r\n    return classes.filter(Boolean).join(' ');\r\n}\r\n\r\nconst ClockInOut = () => {\r\n    const {theme} = useContext(Context);\r\n    const [selectedDepartment, setSelectedDepartment] = useState('All Departments');\r\n    const [selectedTimeframe, setSelectedTimeframe] = useState('Today');\r\n\r\n    return (\r\n        <motion.div\r\n            className={` rounded-xl shadow-md p-2 w-full h-96 font-sans border border-gray-200  flex flex-col ${theme==='dark' ? 'bg-gray-600 ':'bg-stone-100'}`}\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0.5,scale:1 }}\r\n            transition={{ duration: 0.5, delay: 0.2 }}\r\n        >\r\n            <h2 className={`flex items-start justify-start text-lg font-bold text-gray-800  ${theme==='dark' ? 'text-white ':'text-gray-800'}`}><ClockIcon className=\"w-6 h-6 text-blue-600 mr-2\" />\r\n                    Clock-In/Out</h2>\r\n            <div className=\"flex items-end justify-end border-b pb-2 mb-2 border-gray-200 flex-wrap gap-2\">\r\n                \r\n                <div className=\"flex items-end space-x-2\">\r\n                    <Menu as=\"div\" className=\"relative inline-block text-left\">\r\n                        <div>\r\n                            <MenuButton className={`inline-flex justify-end w-full rounded-md border border-gray-200 shadow-sm px-4 py-2 text-sm font-medium  hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${theme==='dark' ? 'bg-gray-600 text-white  hover:bg-gray-700':'bg-white text-gray-700'}`}>\r\n                                {selectedDepartment}\r\n                                <ChevronDownIcon className=\"-mr-1 ml-2 h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\r\n                            </MenuButton>\r\n                        </div>\r\n                        <Transition\r\n                            as={Fragment}\r\n                            enter=\"transition ease-out duration-100\"\r\n                            enterFrom=\"transform opacity-0 scale-95\"\r\n                            enterTo=\"transform opacity-100 scale-100\"\r\n                            leave=\"transition ease-in duration-75\"\r\n                            leaveFrom=\"transform opacity-100 scale-100\"\r\n                            leaveTo=\"transform opacity-0 scale-95\"\r\n                        >\r\n                            <MenuItems className={`origin-top-right absolute right-0 mt-2 w-52 rounded-md shadow-lg  ring-1 ring-black ring-opacity-5 focus:outline-none z-10 ${theme==='dark' ? 'bg-gray-600 text-white':'bg-white text-gray-700'}`}>\r\n                                <div className=\"py-1\">\r\n                                    {departments.map((department) => (\r\n                                        <MenuItem key={department}>\r\n                                            {({ active }) => (\r\n                                                <a\r\n                                                    href=\"#\"\r\n                                                    onClick={() => setSelectedDepartment(department)}\r\n                                                    className={ classNames(\r\n                                                        active ? 'bg-gray-100 text-gray-900' : 'text-gray-200',\r\n                                                        'block px-4 py-2 text-sm'\r\n                                                    )  }\r\n                                                >\r\n                                                    {department}\r\n                                                </a>\r\n                                            )}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </div>\r\n                            </MenuItems>\r\n                        </Transition>\r\n                    </Menu>\r\n\r\n                    <Menu as=\"div\" className=\"relative inline-block text-left\">\r\n                        <div>\r\n                             <MenuButton className={`inline-flex justify-end w-full rounded-md border border-gray-200 shadow-sm px-4 py-2 text-sm font-medium  hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${theme==='dark' ? 'bg-gray-600 text-white  hover:bg-gray-700':'bg-white text-gray-700'}`}>\r\n                                {selectedTimeframe}\r\n                                <ChevronDownIcon className=\"-mr-1 ml-2 h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\r\n                            </MenuButton>\r\n                        </div>\r\n                        <Transition as={Fragment} enter=\"transition ease-out duration-100\" enterFrom=\"transform opacity-0 scale-95\" enterTo=\"transform opacity-100 scale-100\" leave=\"transition ease-in duration-75\" leaveFrom=\"transform opacity-100 scale-100\" leaveTo=\"transform opacity-0 scale-95\">\r\n                            <MenuItems className={`origin-top-right absolute right-0 mt-2 w-52 rounded-md shadow-lg  ring-1 ring-black ring-opacity-5 focus:outline-none z-10 ${theme==='dark' ? 'bg-gray-600 text-white':'bg-white text-gray-700'}`}>\r\n                                <div className=\"py-1\">\r\n                                    {timeframes.map((timeframe) => (\r\n                                        <MenuItem key={timeframe}>\r\n                                            {({ active }) => (\r\n                                                <a\r\n                                                    href=\"#\"\r\n                                                    onClick={() => setSelectedTimeframe(timeframe)}\r\n                                                    className={classNames(\r\n                                                        active ? 'bg-gray-100 text-gray-900' : 'text-gray-200',\r\n                                                        'block px-4 py-2 text-sm'\r\n                                                    )}\r\n                                                >\r\n                                                    {timeframe}\r\n                                                </a>\r\n                                            )}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </div>\r\n                            </MenuItems>\r\n                        </Transition>\r\n                    </Menu>\r\n                </div>\r\n            </div>\r\n            <div className=\"space-y-4 flex-grow overflow-y-auto custom-scrollbar pr-2\">\r\n                <AnimatePresence>\r\n                    {employees.map((employee, index) => (\r\n                        <motion.div    key={index}    className={`flex items-center justify-between rounded-lg p-2 transition-colors duration-200 hover:bg-blue-200 hover:text-gray-800 border ${theme==='dark' ? 'bg-gray-600 border-gray-200':'bg-gray-100 '}`}    \r\n                        initial={{ opacity: 0, y: 20 }}    animate={{ opacity: 1, y: 0 }}    exit={{ opacity: 0, y: -20 }}    transition={{ duration: 0.3, delay: index * 0.05 }}>\r\n                            <div className=\"flex items-center\">\r\n                                <motion.img    className=\"w-10 h-10 rounded-full mr-4 object-cover\"   src={ \"https://randomuser.me/api/portraits/lego/1.jpg\"}    alt={employee.name}    whileHover={{ scale: 1.1 }}/>\r\n                                <div>  <p className={`font-semibold  ${theme==='dark' ? 'text-white  ':'text-gray-800 '}`} >{employee.name}</p>  <p className={`text-sm ${theme==='dark' ? 'text-white  ':'text-gray-800 '}`}>{employee.title}</p> <p className={`text-sm ${theme==='dark' ? 'text-white  ':'text-gray-800 '}`}>{employee.Arrival}</p>  </div>\r\n                            </div>\r\n                            <div className=\"flex items-center space-x-2\">\r\n                                <ClockIcon className={`h-5 w-5 ${theme=== 'dark' ? 'text-gray-200':'text-gray-400'}`} />\r\n                                <div className={`px-3 py-1 rounded-full  text-sm font-medium ${employee.Arrival==='On-Time'?'bg-green-100 text-green-700':'bg-red-100 text-red-700'}`}>\r\n                                    {employee.time}\r\n                                </div>\r\n                            </div>\r\n                        </motion.div>\r\n                    ))}\r\n                </AnimatePresence>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nconst onTimeDate = [\r\n  { Date: \"11\", Month: \"Aug\", Year: \"2025\", NoofEmployee: 100 },\r\n  { Date: \"12\", Month: \"Aug\", Year: \"2025\", NoofEmployee: 120 },\r\n  { Date: \"13\", Month: \"Aug\", Year: \"2025\", NoofEmployee: 80 },\r\n  { Date: \"14\", Month: \"Aug\", Year: \"2025\", NoofEmployee: 150 },\r\n  { Date: \"15\", Month: \"Aug\", Year: \"2025\", NoofEmployee: 7 },\r\n];\r\n\r\nconst EmployeeBarChart = () => {\r\n    const {theme}=useContext(Context);\r\n  // Y-axis lo \"Date-Month\" format kosam data ni format cheyyadam\r\n  const formattedData = onTimeDate.map((item) => ({\r\n    name: `${item.Date}-${item.Month}`,\r\n    employees: item.NoofEmployee,\r\n    \r\n  }));\r\n  const textColor = theme==='dark' ? \"#FFFFFF\" : \"#000000\";\r\n  const backgroundColor = theme==='dark' ? \"bg-gray-800\" : \"bg-white\";\r\n  const barColor = \"#ADD8E6\";\r\n\r\n  return (\r\n    <motion.div\r\n            className={` rounded-xl shadow-md p-2 w-full h-96 font-sans border border-gray-200  flex flex-col ${theme==='dark' ? 'bg-gray-700 text-gray-200 ':'bg-stone-100 text-gray-800'}`}\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0.5,scale:1 }}\r\n            transition={{ duration: 0.5, delay: 0.2 }}\r\n        >\r\n        \r\n      <ClockIcon className=\"w-6 h-6 text-blue-600 inline-block mr-2\" /> <h2 className=\"text-xl font-semibold mb-4 text-start\"> On-Time Employees</h2>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <BarChart\r\n          data={formattedData}\r\n          margin={{\r\n            top: 5,\r\n            right: 30,\r\n            left: 20,\r\n            bottom: 5,\r\n          }}\r\n        >\r\n          <XAxis dataKey=\"name\" stroke={textColor} tick={{ fill: textColor }} />\r\n          <YAxis stroke={textColor} tick={{ fill: textColor }} hide/>\r\n          <Tooltip contentStyle={{ backgroundColor: theme ==='dark' ? \"#63676cff\" : \"#fff\", border: theme ? \"1px solid #4B5563\" : \"1px solid #ccc\" }} />\r\n          <Bar dataKey=\"employees\" fill={barColor} />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n      \r\n    </motion.div>\r\n  );\r\n};\r\n\r\nconst overTimeworkDate = [\r\n  { Date: \"11\", Month: \"Aug\", Year: \"2025\", NoofEmployee: 50, Hour: 3 },\r\n  { Date: \"12\", Month: \"Aug\", Year: \"2025\", NoofEmployee: 60, Hour: 5 },\r\n  { Date: \"13\", Month: \"Aug\", Year: \"2025\", NoofEmployee: 10, Hour: 10 },\r\n  { Date: \"14\", Month: \"Aug\", Year: \"2025\", NoofEmployee: 8, Hour: 15 },\r\n  { Date: \"15\", Month: \"Aug\", Year: \"2025\", NoofEmployee: 40, Hour: 20 },\r\n];\r\n\r\nconst EmployeeOvertimeChart = () => {\r\n  const {theme}=useContext(Context);\r\n  const [chartType, setChartType] = useState(\"hours\");\r\n\r\n  const formattedData = overTimeworkDate.map((item) => ({\r\n    name: `${item.Date}-${item.Month}`,\r\n    hours: item.Hour,\r\n    employees: item.NoofEmployee,\r\n  }));\r\n\r\n  const yAxisDataKey = chartType === \"hours\" ? \"hours\" : \"employees\";\r\n  const yAxisLabel = chartType === \"hours\" ? \"Hours\" : \"No. of Employees\";\r\n\r\n  const handleChartChange = (type) => {\r\n    setChartType(type);\r\n  };\r\n  const textColor = theme==='dark' ? \"#FFFFFF\" : \"#000000\";\r\n  const backgroundColor = theme==='dark' ? \"bg-gray-800\" : \"bg-white\";\r\n  const barColor = \"#B19CD9\";\r\n\r\n  return (\r\n    <motion.div\r\n            className={` rounded-xl shadow-md p-2 w-full h-96 font-sans border border-gray-200  flex flex-col ${theme==='dark' ? 'bg-gray-700 text-gray-200 ':'bg-stone-100 text-gray-800'}`}\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0.5,scale:1 }}\r\n            transition={{ duration: 0.5, delay: 0.2 }}\r\n        >\r\n      <h2 className=\"text-xl font-semibold mb-4 text-start\">\r\n        OverTime\r\n      </h2>\r\n      <div className=\"absolute top-4 right-4 flex space-x-2\">\r\n        <button\r\n          onClick={() => handleChartChange(\"hours\")}\r\n          className={`py-1 px-3 rounded-md text-sm font-medium ${\r\n            chartType === \"hours\"\r\n              ? \"bg-blue-500 text-white\"\r\n              : \"bg-gray-200 text-gray-800\"\r\n          }`}\r\n        >\r\n          Hours\r\n        </button>\r\n        <button\r\n          onClick={() => handleChartChange(\"employees\")}\r\n          className={`py-1 px-3 rounded-md text-sm font-medium ${\r\n            chartType === \"employees\"\r\n              ? \"bg-blue-500 text-white\"\r\n              : \"bg-gray-200 text-gray-800\"\r\n          }`}\r\n        >\r\n          Employees\r\n        </button>\r\n      </div>\r\n\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <BarChart\r\n          data={formattedData}\r\n          margin={{\r\n            top: 40,\r\n            right: 30,\r\n            left: 20,\r\n            bottom: 5,\r\n          }}\r\n        >\r\n          \r\n          <XAxis dataKey=\"name\"  stroke={textColor} tick={{ fill: textColor }} />\r\n          <YAxis label={{ value: yAxisLabel, angle: -90, position: \"insideLeft\" }} stroke={textColor} tick={{ fill: textColor }} hide />\r\n          <Tooltip contentStyle={{ backgroundColor: theme ==='dark' ? \"#63676cff\" : \"#fff\", border: theme ? \"1px solid #4B5563\" : \"1px solid #ccc\" }} />\r\n          <Bar dataKey={yAxisDataKey} fill={barColor} barSize={40} />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    </motion.div>\r\n  );\r\n};\r\nconst AttendanceTable = () => {\r\n    const {theme} = useContext(Context);\r\n    const [selectedMonth, setSelectedMonth] = useState(\"All\");\r\n    const [sortOption, setSortOption] = useState(\"Recently added\");\r\n    const [rowsPerPage, setRowsPerPage] = useState(10);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const sortOptions = [\"Recently added\", \"Ascending\", \"Descending\", \"Last Month\", \"Last 7 Days\", \"This Month\"];\r\n    const rowsPerPageOptions = [10, 25, 50, 100];\r\n    const MONTHS = [\"All\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"];\r\n    const [rawTableData, setRawTableData] = useState(() => {\r\n        // Try to load from localStorage first\r\n        const stored = localStorage.getItem(\"attendanceTableData\");\r\n        return stored ? JSON.parse(stored) : [];\r\n    });\r\n\r\n    // Fetch data from API and store in localStorage\r\n    useEffect(() => {\r\n    const fetchAttendanceData = async () => {\r\n        const today = new Date();\r\n        const day = today.getDate();\r\n        const month = today.getMonth() + 1;\r\n        const year = today.getFullYear();\r\n\r\n        let apiUrl = `https://hrms.anasolconsultancyservices.com/api/attendance/admin/present/${year}/${month}/${day}?page=0&size=${rowsPerPageOptions[rowsPerPageOptions.length - 1]}`;\r\n\r\n        if (sortOption === \"This Month\") {\r\n            apiUrl = `https://hrms.anasolconsultancyservices.com/api/attendance/admin/month/${year}/${month}?page=0&size=${rowsPerPageOptions[rowsPerPageOptions.length - 1]}`;\r\n        }\r\n\r\n        try {\r\n            const response = await fetch(apiUrl);\r\n            const data = await response.json();\r\n            // Some endpoints return { content: [...] }, some return [...]\r\n            let records = [];\r\n            if (Array.isArray(data)) {\r\n                records = data;\r\n            } else if (Array.isArray(data.content)) {\r\n                records = data.content;\r\n            }\r\n            setRawTableData(records);\r\n            localStorage.setItem(\"attendanceTableData\", JSON.stringify(records));\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch attendance data:\", error);\r\n        }\r\n    };\r\n    fetchAttendanceData();\r\n}, [sortOption]);\r\n    const STANDARD_WORKDAY_HOURS = 10;\r\n    const calculateHours = (login, logout) => {\r\n        if (!login || !logout) return 0;\r\n        const loginDate = new Date(`2000-01-01 ${login}`);\r\n        const logoutDate = new Date(`2000-01-01 ${logout}`);\r\n        const diff = (logoutDate - loginDate) / (1000 * 60 * 60);\r\n        return diff > 0 ? diff : 0;\r\n    };\r\n\r\n    const FilterButtonGroup = ({ options, selectedOption, onSelect, className = \"\" }) => (\r\n        <div className={`flex gap-2 sm:gap-3 flex-wrap ${className}`}>\r\n            {options.map((option) => (\r\n                <motion.button\r\n                    key={option}\r\n                    onClick={() => onSelect(option)}\r\n                    className={`px-4 py-2 rounded-lg border text-xs sm:text-sm font-semibold\r\n                    ${selectedOption === option ? \"bg-blue-600 text-white shadow-md border-blue-600\" : \"bg-white text-gray-700 border-gray-300\"}\r\n                    hover:bg-blue-500 hover:text-white transition-colors duration-200 ease-in-out`}\r\n                    whileHover={{ scale: 1.05 }}\r\n                    whileTap={{ scale: 0.95 }}\r\n                >\r\n                    {option}\r\n                </motion.button>\r\n            ))}\r\n        </div>\r\n    );\r\n    const finalAttendanceData = useMemo(() => {\r\n        let data = [...rawTableData];\r\n        if (selectedMonth !== \"All\" && selectedMonth) {\r\n            const selectedMonthIndex = MONTHS.indexOf(selectedMonth) - 1;\r\n            data = data.filter((entry) => new Date(entry.date).getMonth() === selectedMonthIndex);\r\n        }\r\n        switch (sortOption) {\r\n            case \"Ascending\": data.sort((a, b) => new Date(a.date) - new Date(b.date)); break;\r\n            case \"Descending\": data.sort((a, b) => new Date(b.date) - new Date(a.date)); break;\r\n            case \"Last Month\": const lastMonth = new Date(); lastMonth.setMonth(lastMonth.getMonth() - 1); data = data.filter(item => new Date(item.date) >= lastMonth); break;\r\n            case \"Last 7 Days\": const last7Days = new Date(); last7Days.setDate(last7Days.getDate() - 7); data = data.filter(item => new Date(item.date) >= last7Days); break;\r\n            default: data.sort((a, b) => new Date(b.date) - new Date(a.date)); break;\r\n        }\r\n        const formattedData = data.map(entry => ({ ...entry, login_hours: calculateHours(entry.login_time, entry.logout_time), barWidth: `${(calculateHours(entry.login_time, entry.logout_time) / STANDARD_WORKDAY_HOURS) * 100}%` }));\r\n        const totalPages = Math.ceil(formattedData.length / rowsPerPage);\r\n        const paginatedData = formattedData.slice((currentPage - 1) * rowsPerPage, currentPage * rowsPerPage);\r\n        return { paginatedData, totalPages, totalCount: formattedData.length };\r\n    }, [rawTableData, selectedMonth, sortOption, rowsPerPage, currentPage, MONTHS]);\r\n\r\n    const { paginatedData, totalPages } = finalAttendanceData;\r\n\r\n    return (\r\n                                    <motion.div\r\n                                       className={`p-4 sm:p-6  rounded-xl border border-gray-200 shadow-lg mb-2 ${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-stone-100 text-gray-800'}`}\r\n                                       initial={{ opacity: 0, y: 50 }}\r\n                                       animate={{ opacity: 1, y: 0 }}\r\n                                       transition={{ duration: 0.5, delay: 1 }}\r\n                                   >\r\n                                       <section>\r\n                                           <div className=\"flex justify-between items-start sm:items-center mb-5 flex-wrap gap-4\"> {/* Adjusted items-start for mobile wrapping */}\r\n                                                       \r\n                                                       {/* Table Title (Enhanced for prominence) */}\r\n                                                       <h2 className={`text-xl sm:text-2xl font-extrabold ${theme === 'dark' ? 'bg-gradient-to-br from-green-300 to-green-600 bg-clip-text text-transparent' : 'text-gray-800'}`}>\r\n                                                           <CalendarDaysIcon className=\"w-6 h-6 sm:w-7 sm:h-7 inline-block text-indigo-600 mr-2\" /> Attendance Records\r\n                                                       </h2>\r\n                                                       \r\n                                                       {/* Filter and Sort Controls */}\r\n                                                       <div className=\"flex flex-wrap items-center gap-4\">\r\n                                                           \r\n                                                           {/* 1. MONTH SELECTION DROPDOWN (NEW) */}\r\n                                                           <div className=\"relative\">\r\n                                                              <label htmlFor=\"month-select\" className={`text-sm font-semibold mr-2 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>Select Month:</label>\r\n                                                               <select \r\n                                                                   id=\"month-select\"\r\n                                                                   value={selectedMonth} \r\n                                                                   onChange={(e) => { \r\n                                                                       setSelectedMonth(e.target.value); \r\n                                                                       setCurrentPage(1); \r\n                                                                   }} \r\n                                                                   className={`border px-3 py-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium transition-colors cursor-pointer \r\n                                                                              ${theme === 'dark' ? 'bg-gray-700 text-white border-gray-600 hover:border-indigo-500' : 'bg-white text-gray-800 border-gray-300 hover:border-indigo-500'}`}\r\n                                                               >\r\n                                                                   {/* Assuming MONTHS is an array of strings like [\"All\", \"January\", \"February\", ...] */}\r\n                                                                   {MONTHS.map((month) => (\r\n                                                                       <option key={month} value={month}>{month}</option>\r\n                                                                   ))}\r\n                                                               </select>\r\n                                                           </div>\r\n                                           \r\n                                                           {/* 2. SORT OPTION DROPDOWN (Existing, refined styling) */}\r\n                                                           <div className=\"relative\">\r\n                                                               <label htmlFor=\"sort-select\" className={`text-sm font-semibold mr-2 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>Sort by:</label>\r\n                                                               <select \r\n                                                                   id=\"sort-select\"\r\n                                                                   value={sortOption} \r\n                                                                   onChange={(e) => { \r\n                                                                       setSortOption(e.target.value); \r\n                                                                       setCurrentPage(1); \r\n                                                                   }} \r\n                                                                   className={`border px-3 py-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium transition-colors cursor-pointer \r\n                                                                              ${theme === 'dark' ? 'bg-gray-700 text-white border-gray-600 hover:border-indigo-500' : 'bg-white text-gray-800 border-gray-300 hover:border-indigo-500'}`}\r\n                                                               >\r\n                                                                   {sortOptions.map((option) => <option key={option} value={option}>{option}</option>)}\r\n                                                               </select>\r\n                                                           </div>\r\n                                                       </div>\r\n                                                   </div>\r\n                                                   \r\n                                                  <div className=\"overflow-x-auto rounded-lg border border-purple-400\">\r\n                                                      <table className=\"min-w-full divide-y divide-gray-200\">\r\n                                                          <thead className={`${theme === 'dark' ? 'bg-gray-500 text-white' : 'bg-gray-50 text-gray-800'}`}>\r\n                                                              <tr>\r\n                                                                  <th scope=\"col\" className={`px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>Employee ID</th>\r\n                                                                  <th scope=\"col\" className={`px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}><div className=\"flex items-center gap-2\"><CalendarDaysIcon className=\"w-4 h-4 sm:w-5 sm:h-5 text-indigo-500\" /> Date</div></th>\r\n                                                                  <th scope=\"col\"className={`px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}><div className=\"flex items-center gap-2\"><ClockIcon className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-500\" /> Login Time</div></th>\r\n                                                                  <th scope=\"col\" className={`px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}><div className=\"flex items-center gap-2\"><ClockIcon className=\"w-4 h-4 sm:w-5 sm:h-5 text-red-500\" /> Logout Time</div></th>\r\n                                                                  <th scope=\"col\" className={`px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>Login Hours</th>\r\n                                                                  <th scope=\"col\" className={`px-4 py-3 text-left text-xs sm:text-sm font-medium  uppercase tracking-wider ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>Daily Progress</th>\r\n                                                              </tr>\r\n                                                          </thead>\r\n                                                          <tbody className={`${theme === 'dark' ? 'bg-gray-500 text-white' : 'bg-gray-50 text-gray-800'} divide-y divide-gray-200`}>\r\n                                                              <AnimatePresence>\r\n                                                                  {paginatedData.length > 0 ? (\r\n                                                                      paginatedData.map((entry, idx) => (\r\n                                                                          <motion.tr\r\n                                                                              key={idx}\r\n                                                                              className=\"hover:bg-indigo-200 transition-colors duration-150\"\r\n                                                                              initial={{ opacity: 0, y: 20 }}\r\n                                                                              animate={{ opacity: 1, y: 0 }}\r\n                                                                              exit={{ opacity: 0, y: -20 }}\r\n                                                                              transition={{ duration: 0.3, delay: idx * 0.05 }}\r\n                                                                          >\r\n                                                                              <td className={`px-4 py-3 text-sm  whitespace-nowrap ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>{entry.employee_id}</td>\r\n                                                                              <td className={`px-4 py-3 text-sm  whitespace-nowrap ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>{entry.date}</td>\r\n                                                                              <td className={`px-4 py-3 text-sm  whitespace-nowrap ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>{entry.login_time || <span className=\"text-red-500 font-semibold\">Absent</span>}</td>\r\n                                                                              <td className={`px-4 py-3 text-sm  whitespace-nowrap ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>{entry.logout_time || <span className=\"text-red-500 font-semibold\">Absent</span>}</td>\r\n                                                                              <td className={`px-4 py-3 text-sm  whitespace-nowrap ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}><span className={`font-semibold text-indigo-700 ${theme === 'dark' ? 'text-white' : 'text-indigo-700'}`}>{entry.login_hours.toFixed(2)}</span> hrs</td>\r\n                                                                              <td className={`px-4 py-3 text-sm  whitespace-nowrap ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>\r\n                                                                                  <div className=\"relative rounded-full h-4 w-full bg-indigo-100 overflow-hidden\">\r\n                                                                                      <motion.div\r\n                                                                                          className=\"bg-blue-300 h-full rounded-full\"\r\n                                                                                          initial={{ width: 0 }}\r\n                                                                                          animate={{ width: entry.barWidth }}\r\n                                                                                          transition={{ duration: 0.8, ease: \"easeOut\" }}\r\n                                                                                      />\r\n                                                                                      <span className=\"absolute inset-0 flex items-center justify-center text-xs font-semibold text-white mix-blend-difference\">{entry.login_hours.toFixed(1)}h</span>\r\n                                                                                  </div>\r\n                                                                              </td>\r\n                                                                          </motion.tr>\r\n                                                                      ))\r\n                                                                  ) : (\r\n                                                                      <tr><td colSpan=\"5\"className={`px-4 py-3 text-center  whitespace-nowrap ${theme === 'dark' ? 'text-white' : 'text-gray-600'}italic`}>No attendance records found for the selected options.</td></tr>\r\n                                                                  )}\r\n                                                              </AnimatePresence>\r\n                                                          </tbody>\r\n                                                      </table>\r\n                                                  </div>\r\n                                        <div className=\"mt-4 flex flex-col sm:flex-row items-center justify-between\">\r\n                                        <div className=\"flex items-center gap-2 mb-4 sm:mb-0\">\r\n                                            <span className={`text-sm text-gray-700 ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>Rows per page:</span>\r\n                                            <select value={rowsPerPage} onChange={(e) => { setRowsPerPage(Number(e.target.value)); setCurrentPage(1); }} className={`border border-gray-300 px-2 py-1 rounded-md text-sm ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500' : 'bg-white text-gray-800'}`}>\r\n                                                {rowsPerPageOptions.map((option) => <option key={option} value={option}>{option}</option>)}\r\n                                            </select>\r\n                                        </div>\r\n                                        <nav className=\"flex items-center gap-2\">\r\n                                            <button onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))} disabled={currentPage === 1} className={`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500 hover:bg-gray-500' : 'bg-white text-gray-800'} `}>Previous</button>\r\n                                            <span  className={`text-sm text-gray-700 ${theme === 'dark' ? 'text-white' : 'text-gray-700'}`}>Page {currentPage} of {totalPages}</span>\r\n                                            <button onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))} disabled={currentPage === totalPages || totalPages === 0} className={`px-4 py-2 text-sm font-medium  border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500 hover:bg-gray-500' : 'bg-white text-gray-800'} `}>Next</button>\r\n                                        </nav>\r\n                                    </div>\r\n                                </section>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nfunction AttendanceReports({ onBack }) {\r\n    return (\r\n        <div className=\"p-2 sm:p-4 min-h-screen font-sans\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n            <button\r\n                onClick={onBack}\r\n                className=\"mb-4 px-4 py-2 bg-indigo-100 text-blue-600 rounded-lg font-semibold shadow hover:bg-indigo-200 transition\"\r\n            >\r\n                 Back to Dashboard\r\n            </button>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-1 gap-6 mb-2\">\r\n                <DashboardGrid />\r\n                \r\n                \r\n            </div>\r\n             <div className=\"grid grid-cols-1 lg:grid-cols-3  gap-6 mb-8\">\r\n                <ClockInOut />\r\n                <EmployeeBarChart/>\r\n                <EmployeeOvertimeChart/>\r\n            </div>\r\n\r\n            <div className=\"w-full\">\r\n                <AttendanceTable  />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default AttendanceReports;","import React, { useState, useEffect, useMemo, useContext, useCallback,useRef } from \"react\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport {CalendarDaysIcon,ClockIcon,ArrowLeftIcon,BriefcaseIcon,ChartBarIcon,ChartPieIcon,XCircleIcon,} from \"@heroicons/react/24/outline\";\r\nimport {PieChart,Pie,Cell,Tooltip,ResponsiveContainer,Legend,BarChart,Bar,XAxis,YAxis,} from \"recharts\";\r\nimport { LineChart, Line, } from 'recharts'; \r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from 'axios';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { SidebarOpen } from \"lucide-react\";\r\nimport { FaBuilding, FaHome } from \"react-icons/fa\"\r\nimport AttendanceReports from \"./AttendanceReports\";\r\nimport { authApi, dashboardApi, publicinfoApi } from \"../../../../axiosInstance\";\r\nimport { IoPersonOutline } from \"react-icons/io5\";\r\nimport AttendanceTable from \"./TotalEmployeeAttendance\";\r\nimport { LiaFileAlt } from \"react-icons/lia\";\r\n\r\n\r\n\r\nconst PIE_COLORS = [\"#4F46E5\", \"#F97316\"]; \r\nconst BAR_COLORS = { work: \"#4F46E5\", break: \"#F97316\" };\r\nconst STANDARD_WORKDAY_HOURS = 8;\r\n\r\n// Assuming these icons (Calendar, Clock, CheckCircle, AlertTriangle, ChevronLeft, ChevronRight, Edit, X) are imported from a library like 'lucide-react' or similar.\r\n// Since the imports aren't provided, I will define simple placeholders for them.\r\nconst Calendar = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/><line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"/><line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"/><line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"/></svg>;\r\nconst Clock = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><polyline points=\"12 6 12 12 16 14\"/></svg>;\r\nconst CheckCircle = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"/><polyline points=\"22 4 12 14.01 9 11.01\"/></svg>;\r\nconst AlertTriangle = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"/><line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"/><line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"/></svg>;\r\nconst ChevronLeft = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"15 18 9 12 15 6\"/></svg>;\r\nconst ChevronRight = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"9 18 15 12 9 6\"/></svg>;\r\nconst Edit = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z\"/></svg>;\r\nconst X = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"/><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"/></svg>;\r\n\r\nconst ATTENDANCE_DATA = [\r\n    { employeeId: \"EMP001\", date: \"15-10-2025\", effectiveHour: \"09:00:00\", isPresent: \"Present\", day: \"Wednesday\", login: \"09:00:00\", logout: \"17:00:00\" },\r\n    { employeeId: \"EMP001\", date: \"16-10-2025\", effectiveHour: \"09:05:00\", isPresent: \"Present\", day: \"Thursday\", login: \"09:05:00\", logout: \"17:05:00\" },\r\n    { employeeId: \"EMP001\", date: \"17-10-2025\", effectiveHour: \"N/A\",      isPresent: \"Absent\",  day: \"Friday\",   login: \"N/A\", logout: \"N/A\" },\r\n    { employeeId: \"EMP001\", date: \"20-10-2025\", effectiveHour: \"N/A\",      isPresent: \"Holiday\", day: \"Monday\", holiday: \"Yes\", login: \"N/A\", logout: \"N/A\" },\r\n    { employeeId: \"EMP001\", date: \"21-10-2025\", effectiveHour: \"08:58:00\", isPresent: \"Present\", day: \"Tuesday\", login: \"08:58:00\", logout: \"16:58:00\" },\r\n    { employeeId: \"EMP001\", date: \"22-10-2025\", effectiveHour: \"09:10:00\", isPresent: \"Present\", day: \"Wednesday\", login: \"09:10:00\", logout: \"17:10:00\" },\r\n    { employeeId: \"EMP001\", date: \"23-10-2025\", effectiveHour: \"N/A\",      isPresent: \"Absent\",  day: \"Thursday\", login: \"N/A\", logout: \"N/A\" },\r\n    { employeeId: \"EMP001\", date: \"24-10-2025\", effectiveHour: \"09:00:00\", isPresent: \"Present\", day: \"Friday\", login: \"09:00:00\", logout: \"17:00:00\" },\r\n    { employeeId: \"EMP001\", date: \"25-10-2025\", effectiveHour: \"09:15:00\", isPresent: \"Present\", day: \"Saturday\", login: \"09:15:00\", logout: \"17:15:00\" },\r\n];\r\nconst getDaysInMonth = (year, month) => new Date(year, month + 1, 0).getDate();\r\nconst getFirstDayOfMonth = (year, month) => new Date(year, month, 1).getDay();\r\nconst MONTHS = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\nconst DAYS_OF_WEEK = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n\r\n\r\nconst toIsoDate = (dateString) => {\r\n    if (!dateString) return '';\r\n    const parts = dateString.split('-');\r\n    if (parts.length === 3) {\r\n        return `${parts[2]}-${parts[1]}-${parts[0]}`;\r\n    }\r\n    return dateString;\r\n};\r\n\r\nconst toStandardDate = (isoDateString) => {\r\n    if (!isoDateString) return '';\r\n    const parts = isoDateString.split('-');\r\n    if (parts.length === 3) {\r\n        return `${parts[2]}-${parts[1]}-${parts[0]}`;\r\n    }\r\n    return isoDateString;\r\n};\r\n\r\n\r\n// --- New Component for Day Details ---\r\n\r\nconst DayDetailsModal = ({ dayData, eventsOnThisDay, onClose }) => {\r\n    if (dayData.type === 'blank') return null;\r\n\r\n    const { dateString, attendance } = dayData;\r\n    \r\n    // Fallback data for dates without explicit ATTENDANCE_DATA\r\n    const displayAttendance = {\r\n        employeeId: attendance.employeeId || \"EMP001 (Default)\",\r\n        date: attendance.date || dateString,\r\n        effectiveHour: attendance.effectiveHour || \"N/A\",\r\n        isPresent: attendance.isPresent === 'N/A' ? \"Not Logged\" : attendance.isPresent,\r\n        login: attendance.login || \"N/A\",\r\n        logout: attendance.logout || \"N/A\",\r\n    };\r\n\r\n    return (\r\n        <div className=\"absolute inset-0 flex justify-center items-center z-50 p-4 bg-white/50 bg-opacity-40 backdrop-blur-sm\">\r\n            <div className=\"bg-white p-6 rounded-xl shadow-2xl w-full max-w-lg transform transition-all duration-300 scale-100\">\r\n                <div className=\"flex justify-between items-center border-b pb-3 mb-4\">\r\n                    <h2 className=\"text-2xl font-bold text-indigo-700 flex items-center\">\r\n                        <Calendar className=\"mr-2 w-6 h-6\" /> Details for {displayAttendance.date}\r\n                    </h2>\r\n                    <button onClick={onClose} className=\"p-1 rounded-full text-gray-500 hover:bg-gray-200 transition\">\r\n                        <X className=\"w-6 h-6\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Attendance Details */}\r\n                <div className=\"mb-6 p-4 border rounded-lg bg-indigo-50\">\r\n                    <h3 className=\"text-xl font-semibold text-indigo-800 mb-3 border-b pb-1\">Attendance</h3>\r\n                    <div className=\"space-y-2 text-gray-700\">\r\n                        <p><strong>Employee ID:</strong> <span className=\"font-medium\">{displayAttendance.employeeId}</span></p>\r\n                        <p><strong>Status:</strong> \r\n                            <span className={`font-bold ml-1 px-2 py-0.5 rounded-full text-sm ${\r\n                                displayAttendance.isPresent === 'Present' ? 'bg-green-200 text-green-800' :\r\n                                displayAttendance.isPresent === 'Absent' ? 'bg-red-200 text-red-800' :\r\n                                displayAttendance.isPresent === 'Holiday' ? 'bg-yellow-200 text-yellow-800' : 'bg-gray-200 text-gray-800'\r\n                            }`}>\r\n                                {displayAttendance.isPresent}\r\n                            </span>\r\n                        </p>\r\n                        <p><strong>Effective Hour:</strong> <span className=\"font-medium\">{displayAttendance.effectiveHour}</span></p>\r\n                        <p><strong>Login Time:</strong> <span className=\"font-medium\">{displayAttendance.login}</span></p>\r\n                        <p><strong>Logout Time:</strong> <span className=\"font-medium\">{displayAttendance.logout}</span></p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Event Details */}\r\n                <div className=\"p-4 border rounded-lg bg-teal-50\">\r\n                    <h3 className=\"text-xl font-semibold text-teal-800 mb-3 border-b pb-1\">Events ({eventsOnThisDay.length})</h3>\r\n                    {eventsOnThisDay.length === 0 ? (\r\n                        <p className=\"text-gray-500 italic\">No events scheduled for this day.</p>\r\n                    ) : (\r\n                        <div className=\"space-y-3 max-h-40 overflow-y-auto\">\r\n                            {eventsOnThisDay.map((event, index) => (\r\n                                <div key={index} className=\"border-l-4 border-teal-400 pl-3 bg-white p-2 rounded shadow-sm\">\r\n                                    <p className=\"font-bold text-gray-800\">{event.event}</p>\r\n                                    <p className=\"text-sm text-gray-600 italic truncate\">{event.description}</p>\r\n                                    {event.startDate !== event.endDate && (\r\n                                        <p className=\"text-xs text-teal-600 mt-1\">\r\n                                            Multi-day event: {event.startDate} - {event.endDate}\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"flex justify-end mt-6\">\r\n                    <button onClick={onClose} className=\"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition duration-150\">\r\n                        Got It\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// --- App Component ---\r\n\r\nfunction App() {\r\n    const [currentDate, setCurrentDate] = useState(new Date());\r\n    const [events, setEvents] = useState([]);\r\n    const [selectedDateForForm, setSelectedDateForForm] = useState({ start: null, end: null });\r\n    const [showEventForm, setShowEventForm] = useState(false);\r\n    const [showEventsList, setShowEventsList] = useState(false);\r\n    // New State for Day Details Modal\r\n    const [showDayDetails, setShowDayDetails] = useState(null); // Stores dayData object when open\r\n    // New State for Edit Mode\r\n    const [isEditing, setIsEditing] = useState(false);\r\n\r\n\r\n    const currentYear = currentDate.getFullYear();\r\n    const currentMonth = currentDate.getMonth();\r\n\r\n    const calendarDays = useMemo(() => {\r\n        const totalDays = getDaysInMonth(currentYear, currentMonth);\r\n        const firstDay = getFirstDayOfMonth(currentYear, currentMonth);\r\n        const days = [];\r\n        for (let i = 0; i < firstDay; i++) {\r\n            days.push({ key: `blank-${i}`, type: 'blank' });\r\n        }\r\n        for (let day = 1; day <= totalDays; day++) {\r\n            const dateString = `${String(day).padStart(2, '0')}-${String(currentMonth + 1).padStart(2, '0')}-${currentYear}`;\r\n            // Added login/logout time to attendance data for detail modal\r\n            const attendance = ATTENDANCE_DATA.find(data => data.date === dateString) || { isPresent: 'N/A', login: 'N/A', logout: 'N/A' };\r\n            days.push({ date: dateString, type: 'day', day: day, dateString, attendance });\r\n        }\r\n        return days;\r\n    }, [currentYear, currentMonth]);\r\n\r\n    const changeMonth = useCallback((amount) => {\r\n        setCurrentDate(prevDate => new Date(prevDate.getFullYear(), prevDate.getMonth() + amount, 1));\r\n        // Close any open modals when changing month\r\n        setShowDayDetails(null);\r\n        setShowEventForm(false);\r\n        setShowEventsList(false);\r\n    }, []);\r\n\r\n    // Updated handleDayClick logic\r\n    const handleDayClick = (dayData) => {\r\n        if (dayData.type === 'blank') return;\r\n\r\n        if (isEditing) {\r\n            // Edit mode: Open Event Form\r\n            setSelectedDateForForm({ start: dayData.dateString, end: dayData.dateString });\r\n            setShowEventForm(true);\r\n            setIsEditing(false); // Optionally turn off edit mode after one click\r\n        } else {\r\n            // Default mode: Open Day Details Modal\r\n            setShowDayDetails(dayData);\r\n        }\r\n    };\r\n\r\n    const handleFormSubmit = (e) => {\r\n        e.preventDefault();\r\n        const event = e.target.event.value;\r\n        const description = e.target.description.value;\r\n        const startDate = toStandardDate(e.target.startDate.value);\r\n        const endDate = toStandardDate(e.target.endDate.value);\r\n\r\n        const newEvent = {\r\n            startDate,\r\n            endDate,\r\n            event,\r\n            description\r\n        };\r\n\r\n        setEvents(prevEvents => [...prevEvents, newEvent]);\r\n\r\n        setShowEventForm(false);\r\n        e.target.reset();\r\n    };\r\n\r\n    // Event form component (No change in internal structure, just moved outside App for cleanliness if possible, but kept here per original structure)\r\n    const EventFormModal = () => (\r\n        <div className=\"absolute inset-0 flex justify-center items-center z-50 p-4 bg-white/50 bg-opacity-40 backdrop-blur-sm\"> \r\n            <form onSubmit={handleFormSubmit} className=\"bg-white p-4 rounded-lg shadow-2xl w-full max-w-md transform transition-all duration-300 scale-100\">\r\n                <h2 className=\"text-2xl font-bold text-indigo-700 mb-3 border-b pb-2 flex items-center\">\r\n                    <Calendar className=\"mr-2\" /> Add/Edit Event\r\n                </h2>\r\n\r\n                <div className=\"mb-2\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"start_date\">Start Date</label>\r\n                    <input\r\n                        id=\"startDate\"\r\n                        name=\"startDate\"\r\n                        type=\"date\"\r\n                        required\r\n                        defaultValue={toIsoDate(selectedDateForForm.start)}\r\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"mb-2\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"end_date\">End Date</label>\r\n                    <input\r\n                        id=\"endDate\"\r\n                        name=\"endDate\"\r\n                        type=\"date\"\r\n                        required\r\n                        defaultValue={toIsoDate(selectedDateForForm.end)}\r\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"mb-2\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"event\">Event Title</label>\r\n                    <input\r\n                        id=\"event\"\r\n                        name=\"event\"\r\n                        type=\"text\"\r\n                        required\r\n                        placeholder=\"e.g., Team Meeting\"\r\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"mb-3\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\" htmlFor=\"Description\">Description</label>\r\n                    <textarea\r\n                        id=\"description\"\r\n                        name=\"description\"\r\n                        rows=\"3\"\r\n                        required\r\n                        placeholder=\"Details about the event...\"\r\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150\"\r\n                    ></textarea>\r\n                </div>\r\n\r\n                <div className=\"flex justify-end space-x-4\">\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => setShowEventForm(false)}\r\n                        className=\"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition duration-150\"\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition duration-150 shadow-md\"\r\n                    >\r\n                        Submit\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n    // Event List Component (Updated to use fixed positioning for the modal)\r\n    const EventListModal = () => {\r\n        const currentMonthEvents = events\r\n            .filter(event => {\r\n                const eventStart = new Date(event.startDate.split('-').reverse().join('-'));\r\n                const eventEnd = new Date(event.endDate.split('-').reverse().join('-'));\r\n                const targetMonthStart = new Date(currentYear, currentMonth, 1);\r\n                const targetMonthEnd = new Date(currentYear, currentMonth + 1, 0);\r\n\r\n                const startsBeforeMonthEnd = eventStart <= targetMonthEnd;\r\n                const endsAfterMonthStart = eventEnd >= targetMonthStart;\r\n\r\n                return startsBeforeMonthEnd && endsAfterMonthStart;\r\n            })\r\n            .sort((a, b) => new Date(a.startDate.split('-').reverse().join('-')) - new Date(b.startDate.split('-').reverse().join('-')));\r\n\r\n        return (\r\n            <div className=\"absolute inset-0 flex justify-center items-center z-50 p-4 bg-white/50 bg-opacity-40 backdrop-blur-sm\"> \r\n                <div className=\"bg-white p-8 rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n                    <div className=\"flex justify-between items-center border-b-4 border-teal-300 pb-3 mb-6\">\r\n                        <h2 className=\"text-3xl font-extrabold text-teal-600 flex items-center\">\r\n                            <Calendar className=\"mr-3 w-7 h-7\" /> Events for {MONTHS[currentMonth]} {currentYear}\r\n                        </h2>\r\n                        <button onClick={() => setShowEventsList(false)} className=\"p-1 rounded-full text-gray-500 hover:bg-gray-200 transition\">\r\n                            <X className=\"w-6 h-6\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    {currentMonthEvents.length === 0 ? (\r\n                        <p className=\"text-gray-500 text-lg text-center py-10\">No events added for this month yet. </p>\r\n                    ) : (\r\n                        <div className=\"space-y-6\">\r\n                            {currentMonthEvents.map((event, index) => (\r\n                                <div key={`${event.startDate}-${index}`} className=\"border border-teal-200 rounded-xl p-4 shadow-sm transition duration-200 bg-teal-50\">\r\n                                    <p className=\"text-lg font-bold text-teal-700 mb-1 border-b border-teal-100 pb-1\">\r\n                                        <Clock className=\"inline w-4 h-4 mr-2\" />\r\n                                        Date: {event.startDate} {event.startDate !== event.endDate && (`- ${event.endDate}`)}\r\n                                    </p>\r\n                                    <p className=\"text-xl font-semibold text-gray-800 mb-2\">{event.event}</p>\r\n                                    <p className=\"text-gray-600 italic border-l-4 border-teal-400 pl-3\">{event.description}</p>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n\r\n                    <button\r\n                        onClick={() => setShowEventsList(false)}\r\n                        className=\"mt-8 px-6 py-2 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition duration-150 shadow-lg float-right\"\r\n                    >\r\n                        Close\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // Calendar Day Box Component (Updated onClick handler)\r\n    const DayBox = ({ dayData }) => {\r\n        if (dayData.type === 'blank') {\r\n            return <div className=\"p-2 border border-gray-100 bg-gray-50 min-h-[20px] sm:min-h-[40px]\"></div>;\r\n        }\r\n\r\n        const { day, dateString, attendance } = dayData;\r\n        const isToday = dateString === new Date().toLocaleDateString('en-GB').replace(/\\//g, '-');\r\n\r\n        const eventsOnThisDay = events.filter(event => {\r\n            const eventStart = new Date(event.startDate.split('-').reverse().join('-'));\r\n            const eventEnd = new Date(event.endDate.split('-').reverse().join('-'));\r\n            const current = new Date(dateString.split('-').reverse().join('-'));\r\n\r\n            eventStart.setHours(0, 0, 0, 0);\r\n            eventEnd.setHours(0, 0, 0, 0);\r\n            current.setHours(0, 0, 0, 0);\r\n\r\n            return current >= eventStart && current <= eventEnd;\r\n        });\r\n\r\n        const hasEvents = eventsOnThisDay.length > 0;\r\n        let statusColor = 'bg-white';\r\n        let statusIcon = null;\r\n\r\n        if (attendance.isPresent === 'Present') {\r\n            statusColor = 'bg-green-100 border-green-300';\r\n            statusIcon = <CheckCircle className=\"w-4 h-4 text-green-600\" />;\r\n        } else if (attendance.isPresent === 'Absent') {\r\n            statusColor = 'bg-red-100 border-red-300';\r\n            statusIcon = <AlertTriangle className=\"w-4 h-4 text-red-600\" />;\r\n        } else if (attendance.isPresent === 'Holiday') {\r\n            statusColor = 'bg-yellow-100 border-yellow-300';\r\n            statusIcon = <AlertTriangle className=\"w-4 h-4 text-yellow-600\" />;\r\n        }\r\n\r\n        const AttendanceHover = () => (\r\n            <div className=\"absolute top-full left-1/2 -translate-x-1/2 mt-2 p-3 bg-white border border-indigo-300 rounded-lg shadow-xl z-10 w-48 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none text-left\">\r\n                <p className=\"text-xs font-semibold text-indigo-600 border-b pb-1 mb-1\">Attendance Info</p>\r\n                <div className=\"text-sm space-y-1\">\r\n                    <p> Date: <span className=\"font-medium\">{attendance.date || dateString}</span></p>\r\n                    <p> Hour: <span className=\"font-medium\">{attendance.effectiveHour || 'N/A'}</span></p>\r\n                    <p> Present: <span className={`font-bold ${attendance.isPresent === 'Present' ? 'text-green-600' : 'text-red-600'}`}>\r\n                        {attendance.isPresent}\r\n                    </span></p>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        return (\r\n            <div\r\n                className={`relative group p-2 sm:p-3 border border-gray-300 transition-all duration-200 cursor-pointer ${statusColor} ${isToday ? 'ring-4 ring-indigo-400 font-bold' : ''} ${hasEvents ? 'shadow-lg border-2 border-indigo-500' : 'hover:shadow-lg'} min-h-[50px] sm:min-h-[70px] flex flex-col justify-start ${isEditing ? 'cursor-crosshair ring-2 ring-pink-500' : ''}`}\r\n                // IMPORTANT: Pass the full dayData object\r\n                onClick={() => handleDayClick(dayData)} \r\n            >\r\n                {/* Date and Icon (Top of Box) */}\r\n                <div className=\"flex justify-between items-start mb-1\">\r\n                    <span className={`text-lg sm:text-xl ${isToday ? 'text-indigo-700' : 'text-gray-900'}`}>{day}</span>\r\n                    <div className='flex-shrink-0'>{statusIcon}</div>\r\n                </div>\r\n\r\n                {/* Event Indicator (Bottom of Box) */}\r\n                {hasEvents && (\r\n                    <div className='mt-auto'>\r\n                           <p className={`text-xs text-indigo-700 font-semibold truncate ${eventsOnThisDay.length > 1 ? 'border-t border-indigo-300 pt-1' : ''}`}>\r\n                            {eventsOnThisDay.length} {eventsOnThisDay.length > 1 ? 'Events' : 'Event'}\r\n                        </p>\r\n                    </div>\r\n                )}\r\n                <AttendanceHover />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4 sm:p-8\">\r\n            <div className=\"w-full max-w-4xl mx-auto bg-white shadow-2xl rounded-xl p-4 sm:p-6 relative\">\r\n\r\n                {/* Modals are fixed position outside the calendar flow */}\r\n                {showEventForm && <EventFormModal />}\r\n                {showEventsList && <EventListModal />}\r\n                {showDayDetails && (\r\n                    <DayDetailsModal \r\n                        dayData={showDayDetails} \r\n                        eventsOnThisDay={events.filter(event => {\r\n                            const eventStart = new Date(event.start_date.split('-').reverse().join('-'));\r\n                            const eventEnd = new Date(event.end_date.split('-').reverse().join('-'));\r\n                            const current = new Date(showDayDetails.dateString.split('-').reverse().join('-'));\r\n                            eventStart.setHours(0, 0, 0, 0);\r\n                            eventEnd.setHours(0, 0, 0, 0);\r\n                            current.setHours(0, 0, 0, 0);\r\n                            return current >= eventStart && current <= eventEnd;\r\n                        })}\r\n                        onClose={() => setShowDayDetails(null)} \r\n                    />\r\n                )}\r\n\r\n                <div className={`${(showEventForm || showEventsList || showDayDetails) ? 'pointer-events-none opacity-50' : ''}`}>\r\n                    <div className=\"flex flex-col sm:flex-row justify-between items-center mb-6 border-b pb-4\">\r\n                        <h1 className=\"text-2xl sm:text-3xl font-extrabold text-gray-800 mb-4 sm:mb-0\">\r\n                            {MONTHS[currentMonth]} <span className=\"text-indigo-600\">{currentYear}</span>\r\n                        </h1>\r\n\r\n                        <div className=\"flex space-x-2 sm:space-x-4\">\r\n                            {/* New Edit Button */}\r\n                            <button\r\n                                onClick={() => setIsEditing(prev => !prev)}\r\n                                className={`flex items-center px-3 py-2 sm:px-4 sm:py-2 text-white font-semibold text-sm rounded-lg shadow-md transition duration-150 transform hover:scale-105 ${isEditing ? 'bg-indigo-700 hover:bg-indigo-800 ring-2 ring-pink-300' : 'bg-indigo-500 hover:bg-indigo-600'}`}\r\n                            >\r\n                                <Edit className=\"w-4 h-4 mr-1 sm:mr-2\"/> {isEditing ? 'Cancel Edit' : 'Edit '}\r\n                            </button>\r\n\r\n                            <button\r\n                                onClick={() => setShowEventsList(true)}\r\n                                className=\"flex items-center px-3 py-2 sm:px-4 sm:py-2 bg-pink-500 text-white font-semibold text-sm rounded-lg shadow-md hover:bg-pink-600 transition duration-150 transform hover:scale-105\"\r\n                            >\r\n                                <Calendar className=\"w-4 h-4 mr-1 sm:mr-2\"/> Events\r\n                            </button>\r\n\r\n                            <button\r\n                                onClick={() => changeMonth(-1)}\r\n                                className=\"p-2 bg-gray-200 text-gray-600 rounded-full hover:bg-gray-300 transition duration-150\"\r\n                            >\r\n                                <ChevronLeft className=\"w-5 h-5\" />\r\n                            </button>\r\n                            <button\r\n                                onClick={() => changeMonth(1)}\r\n                                className=\"p-2 bg-gray-200 text-gray-600 rounded-full hover:bg-gray-300 transition duration-150\"\r\n                            >\r\n                                <ChevronRight className=\"w-5 h-5\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Days of Week Header */}\r\n                    <div className=\"grid grid-cols-7 gap-1 mb-1\">\r\n                        {DAYS_OF_WEEK.map(day => (\r\n                            <div key={day} className=\"text-center font-semibold text-xs sm:text-sm text-indigo-700 p-2 bg-indigo-100 rounded\">\r\n                                {day}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Calendar Grid */}\r\n                    <div className=\"grid grid-cols-7 gap-1\">\r\n                        {calendarDays.map((day, index) => (\r\n                            <DayBox key={day.key || day.dateString || `day-${index}`} dayData={day} />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// export default App; // Uncomment if exporting\r\n\r\nconst calculateHours = (login, logout) => {\r\n    if (!login || !logout) return 0;\r\n    const loginDate = new Date(`2000-01-01 ${login}`);\r\n    const logoutDate = new Date(`2000-01-01 ${logout}`);\r\n    const diff = (logoutDate - loginDate) / (1000 * 60 * 60);\r\n    return diff > 0 ? diff : 0;\r\n};\r\n\r\nconst formatClockTime = (date) => {\r\n    const hours = String(date.getHours()).padStart(2, \"0\");\r\n    const minutes = String(date.getMinutes()).padStart(2, \"0\");\r\n    const seconds = String(date.getSeconds()).padStart(2, \"0\");\r\n    return `${hours}:${minutes}:${seconds}`;\r\n};\r\n\r\nconst FilterButtonGroup = ({ options, selectedOption, onSelect, className = \"\" }) => {\r\n    const {theme} = useContext(Context);\r\n    return(\r\n    <div className={`flex gap-2 sm:gap-3 flex-wrap ${className}`}>\r\n        {options.map((option) => (\r\n            <motion.button\r\n                key={option}\r\n                onClick={() => onSelect(option)}\r\n                className={`px-3 py-2  rounded-lg border text-sm sm:text-base font-semibold     \r\n                ${selectedOption === option ? \"bg-indigo-600 text-white shadow-md\" : \"bg-white text-gray-700 border-gray-300\"}\r\n                ${theme === 'dark' ? (selectedOption === option ? 'bg-indigo-500 text-white shadow-md' : 'bg-gray-800 text-gray-300 border-gray-600') : ''}\r\n                hover:bg-indigo-500 hover:text-white transition-colors duration-200 ease-in-out`}\r\n                aria-pressed={selectedOption === option}\r\n                whileHover={{ scale: 1.05 }}\r\n                whileTap={{ scale: 0.95 }}\r\n            >\r\n                {option}\r\n            </motion.button>\r\n        ))}\r\n    </div>\r\n)};\r\n\r\nconst TrendingUpIcon = ({className }) => (\r\n    <svg className={`${className}  `} fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" >\r\n        <motion.polyline\r\n            points=\"23 6 13.5 15.5 8.5 10.5 1 18\"\r\n            initial={{ pathLength: 0, opacity: 0 }}\r\n            animate={{ pathLength: 1, opacity: 1 }}\r\n            transition={{ duration: 1, ease: \"easeInOut\" }}\r\n        />\r\n        <motion.polyline\r\n            points=\"17 6 23 6 23 12\"\r\n            initial={{ pathLength: 0, opacity: 0 }}\r\n            animate={{ pathLength: 1, opacity: 1 }}\r\n            transition={{ duration: 1, ease: \"easeInOut\" }}\r\n        />\r\n    </svg>\r\n);\r\n\r\nconst TrendingDownIcon = ({ className,theme }) => (\r\n    <svg className={`${className}  ${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" >\r\n        <motion.polyline\r\n            points=\"23 18 13.5 8.5 8.5 13.5 1 6\"\r\n            initial={{ pathLength: 0, opacity: 0 }}\r\n            animate={{ pathLength: 1, opacity: 1 }}\r\n            transition={{ duration: 1, ease: \"easeInOut\" }}\r\n        />\r\n        <motion.polyline\r\n            points=\"17 18 23 18 23 12\"\r\n            initial={{ pathLength: 0, opacity: 0 }}\r\n            animate={{ pathLength: 1, opacity: 1 }}\r\n            transition={{ duration: 1, ease: \"easeInOut\" }}\r\n        />\r\n    </svg>\r\n);\r\nconst backendData = [\r\n    {\r\n        id: 1,\r\n        title: \"Total Hours Today\",\r\n        currentValue: 8.5,\r\n        targetValue: 10,\r\n        trend: \"up\",\r\n        trendPercentage: \"5\",\r\n        trendPeriod: \"This week\",\r\n        chartData: [{name:\"1\",hours: 7}, {name:\"2\",hours: 8}, {name:\"3\",hours: 7.5}, {name:\"4\",hours: 9}, {name:\"5\",hours: 8.5}], \r\n        chartColor: \"#8884d8\", \r\n    },\r\n    {\r\n        id: 2,\r\n        title: \"Total Hours Week\",\r\n        currentValue: 40.5,\r\n        targetValue: 50,\r\n        trend: \"up\",\r\n        trendPercentage: \"7\",\r\n        trendPeriod: \"Last week\",\r\n        chartData: [{name:\"1\",hours: 30}, {name:\"2\",hours: 40.5}, {name:\"3\",hours: 38}, {name:\"4\",hours: 45}, {name:\"5\",hours: 40.5}], \r\n        chartColor: \"#4ADE80\", \r\n    },\r\n    {\r\n        id: 3,\r\n        title: \"Total Hours Month\",\r\n        currentValue: 162,\r\n        targetValue: 200,\r\n        trend: \"down\",\r\n        trendPercentage: \"8\",\r\n        trendPeriod: \"Last Month\",\r\n        iconColor: \"text-blue-500\", \r\n    },\r\n    {\r\n        id: 4,\r\n        title: \"Overtime this Month\",\r\n        currentValue: 16,\r\n        targetValue: 28,\r\n        trend: \"down\",\r\n        trendPercentage: \"6\",\r\n        trendPeriod: \"Last Month\",\r\n        chartData: null,\r\n        iconColor: \"text-pink-500\",\r\n    }\r\n];\r\n\r\n//const dates = [\"All\", \"11\", \"12\", \"13\", \"14\", \"15\"];\r\n//const rawTableData = [\r\n//    { employee_id: \"E_01\", date: \"2025-06-30\", login_time: \"10:00 AM\", logout_time: \"08:00 PM\" },\r\n//    { employee_id: \"E_01\", date: \"2025-06-29\", login_time: null, logout_time: null },\r\n//    { employee_id: \"E_01\", date: \"2025-06-28\", login_time: \"10:00 AM\", logout_time: \"08:00 PM\" },\r\n//    { employee_id: \"E_01\", date: \"2025-06-27\", login_time: \"10:00 AM\", logout_time: \"08:00 PM\" },\r\n//    { employee_id: \"E_01\", date: \"2025-06-26\", login_time: null, logout_time: null },\r\n//    { employee_id: \"E_01\", date: \"2025-06-25\", login_time: \"10:00 AM\", logout_time: \"08:00 PM\" },\r\n//    { employee_id: \"E_01\", date: \"2025-06-24\", login_time: \"10:00 AM\", logout_time: \"08:00 PM\" },\r\n//    { employee_id: \"E_01\", date: \"2025-06-23\", login_time: \"10:00 AM\", logout_time: \"07:00 PM\" },\r\n//];\r\n//const rawPieData = [\r\n//    { EmployeeId: \"ACS000001\", Date: \"11\", Month: \"Aug\", Year: \"2025\", Working_hour: 8.3, Break_hour: 1.7 },\r\n//    { EmployeeId: \"ACS000001\", Date: \"12\", Month: \"Aug\", Year: \"2025\", Working_hour: 8.4, Break_hour: 1.6 },\r\n//    { EmployeeId: \"ACS000001\", Date: \"13\", Month: \"Aug\", Year: \"2025\", Working_hour: 8.2, Break_hour: 1.8 },\r\n//    { EmployeeId: \"ACS000001\", Date: \"14\", Month: \"Aug\", Year: \"2025\", Working_hour: 9.0, Break_hour: 1.0 },\r\n//    { EmployeeId: \"ACS000001\", Date: \"15\", Month: \"Aug\", Year: \"2025\", Working_hour: 8.0, Break_hour: 2.0 },\r\n//];\r\n//const barChartData = [\r\n//    { EmployeeId: \"ACS000001\", Date: \"11\", Month: \"Aug\", Year: \"2025\", Working_hour: 8.3, Break_hour: 1.7 },\r\n//    { EmployeeId: \"ACS000001\", Date: \"12\", Month: \"Aug\", Year: \"2025\", Working_hour: 8.4, Break_hour: 1.6 },\r\n//    { EmployeeId: \"ACS000001\", Date: \"13\", Month: \"Aug\", Year: \"2025\", Working_hour: 8.2, Break_hour: 1.8 },\r\n//    { EmployeeId: \"ACS000001\", Date: \"14\", Month: \"Aug\", Year: \"2025\", Working_hour: 9.0, Break_hour: 1.0 },\r\n//    { EmployeeId: \"ACS000001\", Date: \"15\", Month: \"Aug\", Year: \"2025\", Working_hour: 8.0, Break_hour: 2.0 },\r\n//];\r\n//const Data = [\r\n//    { EmployeeId: \"ACS000001\", Date: \"11\", Month: \"Aug\", Year: \"2025\", Start_time: \"10:00\", End_time: \"20:00\", Break_hour: [{ Time: \"13:00 - 14:00\", hour: 1.0 }, { Time: \"16:30 - 17:00\", hours: 0.5 }, { Time: \"18:40 - 19:00\", hours: 0.2 }] },\r\n//    { EmployeeId: \"ACS000001\", Date: \"12\", Month: \"Aug\", Year: \"2025\", Start_time: \"10:00\", End_time: \"20:00\", Break_hour: [{ Time: \"13:00 - 14:00\", hour: 1.0 }, { Time: \"16:40 - 17:10\", hours: 0.5 }, { Time: \"19:20 - 19:40\", hours: 0.2 }] },\r\n//    { EmployeeId: \"ACS000001\", Date: \"13\", Month: \"Aug\", Year: \"2025\", Start_time: \"10:00\", End_time: \"20:00\", Break_hour: [{ Time: \"13:00 - 14:00\", hour: 1.0 }, { Time: \"16:30 - 17:00\", hours: 0.5 }, { Time: \"19:00 - 19:20\", hours: 0.2 }] },\r\n//    { EmployeeId: \"ACS000001\", Date: \"14\", Month: \"Aug\", Year: \"2025\", Start_time: \"10:00\", End_time: \"20:00\", Break_hour: [{ Time: \"13:00 - 14:00\", hour: 1.0 }, { Time: \"16:30 - 17:00\", hours: 0.5 }, { Time: \"18:40 - 18:50\", hours: 0.1 }] },\r\n//    { EmployeeId: \"ACS000001\", Date: \"15\", Month: \"Aug\", Year: \"2025\", Start_time: \"10:00\", End_time: \"20:00\", Break_hour: [{ Time: \"13:00 - 14:00\", hour: 1.0 }, { Time: \"16:30 - 17:00\", hours: 0.5 }, { Time: \"17:40 - 18:00\", hours: 0.2 }] },\r\n//];\r\n\r\n\r\nconst ProfessionalStatCard = ({ icon, iconBgColor, iconTextColor, value, description, trend, trendPercentage, trendPeriod, chartData, chartColor }) => {\r\n    const isUp = trend === 'up';\r\n    const {theme}=useContext(Context);\r\n    return (\r\n        <div className={`rounded-xl p-2 shadow-lg border border-gray-100   ${theme === 'dark' ? 'bg-gray-700' : 'bg-white'}  transition-all duration-300 hover:shadow-xl`}>\r\n            <div className=\"flex items-start justify-between\">\r\n                <div>\r\n                    <div className={`w-12 h-12 flex items-center justify-center rounded-lg mb-3 ${iconBgColor} ${iconTextColor} p-2`}>\r\n                        {React.cloneElement(icon, { className: 'w-8 h-8' })}\r\n                    </div>\r\n                    <p className={`text-sm font-medium ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>{description}</p>\r\n                    <p className={`text-2xl font-bold mt-1  ${theme === 'dark' ? 'bg-gradient-to-br from-indigo-200 to-indigo-600 bg-clip-text text-transparent' : 'text-gray-800'}`}>\r\n                        {value}\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"w-full h-40\">\r\n                \r\n                    <ResponsiveContainer width=\"100%\" height=\"80%\">\r\n                        <LineChart data={chartData} margin={{ top: 50, right: 20, left: 15, bottom: 5 }}>\r\n\r\n                            \r\n                           <XAxis \r\n                                dataKey=\"name\" \r\n                                stroke={theme === 'dark' ? '#E5E7EB' : '#4B5563'} \r\n                                padding={{ left: 10, right: 10 }} \r\n                                // axisLine={false} \r\n                                // tickLine={false} \r\n                            />\r\n                            \r\n                            <YAxis \r\n                                dataKey=\"hours\" \r\n                                stroke={theme === 'dark' ? 'rgba(229, 231, 235, 1)' : '#4B5563'}  hide\r\n                            />\r\n                            \r\n                           \r\n                            <Tooltip\r\n                                contentStyle={{ backgroundColor: '#333', border: 'none', borderRadius: '5px' }}\r\n                                labelStyle={{ color: '#fff' }}\r\n                                formatter={(value, name) => [`${value} hours`, name]}\r\n                            />\r\n                            <Line\r\n                                type=\"monotone\"\r\n                                dataKey=\"hours\"\r\n                                stroke={chartColor}\r\n                                strokeWidth={2}\r\n                                dot={{ r: 3, fill: chartColor, strokeWidth: 1 }} \r\n                             \r\n                            />\r\n                        </LineChart>\r\n                    </ResponsiveContainer>\r\n                </div>\r\n            </div>\r\n\r\n            \r\n            <div className=\"flex items-center mt-4\">\r\n                <span className={`text-sm font-semibold ${isUp ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}`}>\r\n                    {isUp ? <TrendingUpIcon className=\"w-4 h-4 inline mr-1\" /> : <TrendingDownIcon className=\"w-4 h-4 inline mr-1\" />}\r\n                    {trendPercentage}%\r\n                </span>\r\n                <span className=\"ml-2 text-xs text-gray-500 dark:text-gray-400\">\r\n                    {trendPeriod} \r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nconst ProgressBarCard = ({ currentValue, targetValue, description, icon,iconBgColor, iconColor, trend, trendPercentage, trendPeriod }) => {\r\n    const {theme}=useContext(Context);\r\n    const percentage = Math.round((currentValue / targetValue) * 100);\r\n    const isUp = trend === 'up';\r\n\r\n    return (\r\n        <div className={`rounded-xl p-5 shadow-lg border border-gray-100 ${theme === 'dark' ? 'bg-gray-700' : 'bg-white'} `}>\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n                <div>\r\n                    <div className={`w-10 h-10 flex items-center justify-center rounded-full mr-3 ${iconBgColor} `}>\r\n                        {React.cloneElement(icon, { className: `w-6 h-6 ${iconColor}` })}\r\n                    </div>\r\n                    <p className={`text-lg font-semibold ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>{description}</p>\r\n                     <span className={`text-2xl font-bold ${theme === 'dark' ? 'bg-gradient-to-br from-indigo-200 to-indigo-600 bg-clip-text text-transparent' : 'text-gray-800'}`}>\r\n                    {currentValue}/{targetValue}\r\n                </span>\r\n                </div>\r\n            </div>\r\n\r\n            \r\n            <div className=\"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 mb-2\">\r\n                <div\r\n                    className={`h-2.5 rounded-full`}\r\n                    style={{ width: `${percentage > 100 ? 100 : percentage}%`, backgroundColor: iconColor.split('-')[1] === 'blue' ? '#3B82F6' : '#10B981' }} // Tailwind   \r\n                ></div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400\">\r\n                <span>{percentage}% Completed</span>\r\n                <span className={`font-medium ${isUp ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}`}>\r\n                    {isUp ? '' : ''} {trendPercentage}% {trendPeriod} compare\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Sub-Component for Hours and Schedule Bar ---\r\nconst MyComponent = ({ Data, selectedMetricDate }) => { // <--- PROP NAME CHANGED\r\n    const [hoveredHour, setHoveredHour] = useState(null);\r\n    const {theme} = useContext(Context);\r\n\r\n    // Helper to get start/end hour from time string\r\n    const getHourValue = useCallback((timeString) => {\r\n        const [start, end] = timeString.split(' - ');\r\n        const [startHour, startMinute] = start.split(':').map(Number);\r\n        const [endHour, endMinute] = end.split(':').map(Number);\r\n        return {\r\n            start: startHour + startMinute / 60,\r\n            end: endHour + endMinute / 60\r\n        };\r\n    }, []);\r\n\r\n    // Format seconds to hh mm ss\r\n    const formatDuration = (totalSeconds) => {\r\n        const hours = Math.floor(totalSeconds / 3600);\r\n        const minutes = Math.floor((totalSeconds % 3600) / 60);\r\n        const seconds = Math.floor(totalSeconds % 60);\r\n        let result = \"\";\r\n        if (hours > 0) result += `${String(hours).padStart(2, '0')}h `;\r\n        if (minutes > 0) result += `${String(minutes).padStart(2, '0')}m `;\r\n        if (seconds > 0) result += `${String(seconds).padStart(2, '0')}s`;\r\n        return result.trim() || '0s';\r\n    };\r\n\r\n    // Calculate metrics for selected date\r\n    const calculateMetrics = useMemo(() => {\r\n        if (!Data || selectedMetricDate === \"All\") return null; // <--- USE selectedMetricDate\r\n        const dayData = Data.find(d => `${d.Date}-${d.Month}-${d.Year}` === selectedMetricDate); // <--- USE selectedMetricDate\r\n        if (!dayData || !dayData.End_time || !dayData.Start_time) return null;\r\n\r\n        const totalWorkingSeconds =\r\n            (new Date(`2000/01/01 ${dayData.End_time}`) - new Date(`2000/01/01 ${dayData.Start_time}`)) / 1000;\r\n        let breakSeconds = 0;\r\n        if (dayData.Break_hour) {\r\n            dayData.Break_hour.forEach(b => {\r\n                const [start, end] = b.Time.split(' - ');\r\n                breakSeconds += (new Date(`2000/01/01 ${end}`) - new Date(`2000/01/01 ${start}`)) / 1000;\r\n            });\r\n        }\r\n        const productiveSeconds = totalWorkingSeconds - breakSeconds;\r\n        const standardDaySeconds = 8 * 3600;\r\n        const overtimeSeconds = Math.max(0, productiveSeconds - standardDaySeconds);\r\n\r\n        return {\r\n            totalWorkingHours: formatDuration(totalWorkingSeconds),\r\n            productiveHours: formatDuration(productiveSeconds),\r\n            breakHours: formatDuration(breakSeconds),\r\n            overtime: formatDuration(overtimeSeconds)\r\n        };\r\n    }, [selectedMetricDate, Data]); // <--- USE selectedMetricDate\r\n    const scaleHour = useCallback((hour) => ((hour - 10) / 10) * 100, []);\r\n    const renderScheduleBar = useCallback(() => {\r\n        if (!Data || selectedMetricDate === \"All\") // <--- USE selectedMetricDate\r\n            return <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 0.5 }} className={`text-center py-4 italic ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>Select a specific day to view the timeline.</motion.div>;\r\n        const dayData = Data.find(d => `${d.Date}-${d.Month}-${d.Year}` === selectedMetricDate); // <--- USE selectedMetricDate\r\n        if (!dayData)\r\n            return <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 0.5 }} className={`text-gray-500 text-center py-4 italic ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>No schedule available for {selectedMetricDate}.</motion.div>; // <--- USE selectedMetricDate\r\n        const timePoints = new Set();\r\n    if (dayData.Start_time) {\r\n        timePoints.add(dayData.Start_time);\r\n    }\r\n    if (dayData.End_time) {\r\n        timePoints.add(dayData.End_time);\r\n    }\r\n    if (dayData.Break_hour)\r\n        dayData.Break_hour.forEach(b => {\r\n            if (b.Time) { \r\n                const [start, end] = b.Time.split(' - ');\r\n                if (start) timePoints.add(start);\r\n                if (end) timePoints.add(end);\r\n            }\r\n        });\r\n        const sortedTimes = Array.from(timePoints).sort(\r\n            (a, b) => new Date(`2000/01/01 ${a}`) - new Date(`2000/01/01 ${b}`)\r\n        );\r\n       const formatTimelineTime = (timeStr) => {\r\n    if (!timeStr) {\r\n        console.error(\"formatTimelineTime received a null or empty time string.\");\r\n        return 'Invalid Time'; \r\n    }\r\n    const [hours, minutes] = timeStr.split(':').map(Number);\r\n    const period = hours >= 12 ? 'PM' : 'AM';\r\n    const formattedHours = hours % 12 === 0 ? 12 : hours % 12;\r\n    return `${formattedHours}${minutes > 0 ? `:${minutes}` : ''} ${period}`;\r\n};\r\n        const calculateDuration = (startTime, endTime) =>\r\n            (new Date(`2000/01/01 ${endTime}`) - new Date(`2000/01/01 ${startTime}`)) / (1000 * 60 * 60);\r\n        const workingHoursSegment = {\r\n            type: 'working',\r\n            time: `${dayData.Start_time} - ${dayData.End_time}`,\r\n            duration: calculateDuration(dayData.Start_time, dayData.End_time)\r\n        };\r\n        const breakHours = (dayData.Break_hour || []).map(h => ({\r\n            type: 'break',\r\n            time: h.Time,\r\n            duration: h.hour\r\n        }));\r\n        const allHours = [workingHoursSegment, ...breakHours].sort(\r\n            (a, b) => getHourValue(a.time).start - getHourValue(b.time).start\r\n        );\r\n        return (\r\n            <div>\r\n                <motion.div\r\n                    className=\"w-full  h-10 bg-gray-200 relative rounded-xl overflow-hidden border border-gray-300\"\r\n                    initial={{ opacity: 0, scaleX: 0 }}\r\n                    animate={{ opacity: 1, scaleX: 1 }}\r\n                    transition={{ duration: 0.8, ease: \"easeOut\" }}\r\n                    style={{ transformOrigin: \"left\" }}\r\n                >\r\n                    {allHours.map((hour, index) => {\r\n                        const { start, end } = getHourValue(hour.time);\r\n                        const leftPosition = scaleHour(start);\r\n                        const widthPercentage = scaleHour(end) - scaleHour(start);\r\n                        const colorClass = hour.type === 'working' ? 'bg-green-300' : 'bg-yellow-300';\r\n                        return (\r\n                            <motion.div\r\n                                key={index}\r\n                                className={`absolute h-full cursor-pointer transition-all duration-300 ${colorClass}`}\r\n                                style={{ left: `${leftPosition}%`, width: `${widthPercentage}%` }}\r\n                                onMouseEnter={() => setHoveredHour(hour)}\r\n                                onMouseLeave={() => setHoveredHour(null)}\r\n                                initial={{ opacity: 0, scaleY: 0 }}\r\n                                animate={{ opacity: 1, scaleY: 1 }}\r\n                                transition={{ delay: 0.3 + index * 0.1, duration: 0.5 }}\r\n                            >\r\n                                {hoveredHour === hour && (\r\n                                    <div\r\n                                        className=\"absolute bottom-full mb-2 p-2 rounded-md shadow-lg bg-gray-800 text-white text-xs whitespace-nowrap\"\r\n                                        style={{ left: '50%', transform: 'translateX(-50%)' }}\r\n                                    >\r\n                                        <p>{hour.type === 'working' ? 'Working' : 'Break'}</p>\r\n                                        <p>Time: {hour.time}</p>\r\n                                        <p>Duration: {hour.duration.toFixed(2)} hours</p>\r\n                                    </div>\r\n                                )}\r\n                            </motion.div>\r\n                        );\r\n                    })}\r\n                </motion.div>\r\n                <div className={`flex justify-between text-xs sm:text-sm  mt-2  ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>\r\n                    {sortedTimes.map((time, index) => (\r\n                        <motion.span\r\n                            key={index}\r\n                            initial={{ opacity: 0, y: 10 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            transition={{ delay: 0.8 + index * 0.1, duration: 0.3 }}\r\n                        >\r\n                            {formatTimelineTime(time)}\r\n                        </motion.span>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }, [selectedMetricDate, Data, hoveredHour, getHourValue, scaleHour]); // <--- USE selectedMetricDate\r\n\r\n    return (\r\n        <motion.div\r\n            className=\"p-4\"\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            transition={{ duration: 0.5 }}\r\n        >\r\n            <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\r\n                <motion.div\r\n                    className=\"flex flex-col items-center p-2 rounded-lg bg-gray-50 border border-gray-200 shadow-sm\"\r\n                    whileHover={{ scale: 1.05 }}\r\n                    transition={{ type: \"spring\", stiffness: 300 }}\r\n                >\r\n                    <div className=\"flex items-center text-gray-500 mb-2\">\r\n                        <span className=\"w-3 h-3 bg-gray-500 rounded-full mr-2\"></span>\r\n                        <span className=\"text-sm font-medium\">Total</span>\r\n                    </div>\r\n                    <span className=\"text-lg sm:text-xl font-bold text-gray-800\">\r\n                        {calculateMetrics?.totalWorkingHours || 'N/A'}\r\n                    </span>\r\n                </motion.div>\r\n                <motion.div\r\n                    className=\"flex flex-col items-center p-2 rounded-lg bg-green-50 border border-green-200 shadow-sm\"\r\n                    whileHover={{ scale: 1.05 }}\r\n                    transition={{ type: \"spring\", stiffness: 300 }}\r\n                >\r\n                    <div className=\"flex items-center text-green-700 mb-2\">\r\n                        <span className=\"w-3 h-3 bg-green-500 rounded-full mr-2\"></span>\r\n                        <span className=\"text-sm font-medium\">Productive</span>\r\n                    </div>\r\n                    <span className=\"text-lg sm:text-xl font-bold text-green-800\">\r\n                        {calculateMetrics?.productiveHours || 'N/A'}\r\n                    </span>\r\n                </motion.div>\r\n                <motion.div\r\n                    className=\"flex flex-col items-center p-2 rounded-lg bg-yellow-50 border border-yellow-200 shadow-sm\"\r\n                    whileHover={{ scale: 1.05 }}\r\n                    transition={{ type: \"spring\", stiffness: 300 }}\r\n                >\r\n                    <div className=\"flex items-center text-yellow-700 mb-2\">\r\n                        <span className=\"w-3 h-3 bg-yellow-500 rounded-full mr-2\"></span>\r\n                        <span className=\"text-sm font-medium\">Break</span>\r\n                    </div>\r\n                    <span className=\"text-lg sm:text-xl font-bold text-yellow-800\">\r\n                        {calculateMetrics?.breakHours || 'N/A'}\r\n                    </span>\r\n                </motion.div>\r\n                <motion.div\r\n                    className=\"flex flex-col items-center p-2 rounded-lg bg-blue-50 border border-blue-200 shadow-sm\"\r\n                    whileHover={{ scale: 1.05 }}\r\n                    transition={{ type: \"spring\", stiffness: 300 }}\r\n                >\r\n                    <div className=\"flex items-center text-blue-700 mb-2\">\r\n                        <span className=\"w-3 h-3 bg-blue-500 rounded-full mr-2\"></span>\r\n                        <span className=\"text-sm font-medium\">Overtime</span>\r\n                    </div>\r\n                    <span className=\"text-lg sm:text-xl font-bold text-blue-800\">\r\n                        {calculateMetrics?.overtime || 'N/A'}\r\n                    </span>\r\n                </motion.div>\r\n            </div>\r\n            {renderScheduleBar()}\r\n        </motion.div>\r\n    );\r\n};\r\n\r\n// --- Main Attendance Dashboard Component ---\r\nconst AttendancesDashboard = ({ onBack, currentUser }) => {\r\n    const { empID } = useParams();\r\n    const { userData,theme } = useContext(Context);\r\n    const role = (userData?.roles?.[0] || \"\").toUpperCase();\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n     const [sidebarView, setSidebarView] = useState(null);\r\n    const [showAttendanceReports, setShowAttendanceReports] = useState(false);\r\n    const [showMainDashboard,setShowMainDashboard]=useState(false);\r\n    const showSidebar = [\"TEAM_LEAD\", \"HR\", \"MANAGER\",\"ADMIN\"].includes(role);\r\n    const [selectedMonth, setSelectedMonth] = useState(\"All\");\r\n    const [selectedDate, setSelectedDate] = useState(\"All\");\r\n    const [selectedMetricDate, setSelectedMetricDate] = useState(\"All\");\r\n    const isMobile = useMediaQuery('(max-width:768px)');\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const [startTime, setStartTime] = useState(null);\r\n    const [endTime, setEndTime] = useState(null);\r\n    const [mode, setMode] = useState(\"office\");\r\n    const [currentTime, setCurrentTime] = useState(new Date());\r\n    const [grossHours, setGrossHours] = useState(0);\r\n    const [effectiveHours, setEffectiveHours] = useState(0);\r\n    const [showModeConfirm, setShowModeConfirm] = useState(false);\r\n    const [isLogoutConfirmed, setIsLogoutConfirmed] = useState(false);\r\n    const [sortOption, setSortOption] = useState(\"Recently added\");\r\n    const [isLoading,setIsLoading]=useState(false);\r\n    const [rowsPerPage, setRowsPerPage] = useState(10);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const datesPerPage = 5;\r\n    const [loggedInUserProfile, setLoggedInUserProfile] = useState({\r\n        image: null,\r\n        initials: \"  \"\r\n      });\r\n      const intervalRef = useRef(null);\r\n       const clockTimerRef = useRef(null); \r\n       \r\n    const [rawTableData , setRawTableData] = useState(  [\r\n     //{ employee_id: \"E_01\", date: \"2025-06-30\", login_time: \"10:00 AM\", logout_time: \"08:00 PM\" },\r\n     //{ employee_id: \"E_02\", date: \"2025-06-29\", login_time: null, logout_time: null },\r\n     //{ employee_id: \"E_03\", date: \"2025-06-28\", login_time: \"10:00 AM\", logout_time: \"08:00 PM\" },\r\n     //{ employee_id: \"E_04\", date: \"2025-06-27\", login_time: \"10:00 AM\", logout_time: \"08:00 PM\" },\r\n     //{ employee_id: \"E_05\", date: \"2025-06-26\", login_time: null, logout_time: null },\r\n     //{ employee_id: \"E_06\", date: \"2025-06-25\", login_time: \"10:00 AM\", logout_time: \"08:00 PM\" },\r\n     //{ employee_id: \"E_07\", date: \"2025-06-24\", login_time: \"10:00 AM\", logout_time: \"08:00 PM\" },\r\n     //{ employee_id: \"E_08\", date: \"2025-06-23\", login_time: \"10:00 AM\", logout_time: \"07:00 PM\" },\r\n]);\r\n\r\n    const sortOptions = [\"Recently added\", \"Ascending\", \"Descending\", \"Last Month\", \"Last 7 Days\"];\r\n    const rowsPerPageOptions = [10, 25, 50, 100];\r\n    const MONTHS = [\"All\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"];\r\n    const textColor = theme === 'dark' ? \"#FFFFFF\" : \"#000000\";\r\n     const [loggedPermissiondata,setLoggedPermissionData]=useState([]);\r\n              const [matchedArray,setMatchedArray]=useState(null);\r\n               const LoggedUserRole=userData?.roles[0]?`ROLE_${userData?.roles[0]}`:null\r\n        \r\n        \r\n               useEffect(()=>{\r\n                 let fetchedData=async()=>{\r\n                         let response = await authApi.get(`role-access/${LoggedUserRole}`);\r\n                         console.log(\"from Projects :\",response.data);\r\n                         setLoggedPermissionData(response.data);\r\n                 }\r\n                 fetchedData();\r\n                 },[])\r\n            \r\n                 useEffect(()=>{\r\n                 if(loggedPermissiondata){\r\n                     setMatchedArray(loggedPermissiondata?.permissions)\r\n                 }\r\n                 },[loggedPermissiondata]);\r\n                 console.log(matchedArray);\r\n    \r\n        const [hasAccess,setHasAccess]=useState([])\r\n            useEffect(()=>{\r\n                setHasAccess(userData?.permissions)\r\n            },[userData])\r\n            console.log(\"permissions from userdata:\",hasAccess)\r\n    \r\n\r\n    const [barChartData, setBarChartData] = useState([]);\r\n    const [rawPieData, setRawPieData] = useState([]);\r\n    const [dates, setDates] = useState([]);\r\n    const [Data, setData] = useState([])\r\n    const [cardData, setCardData] = useState([]);\r\n    const[startIndex,setStartIndex]=useState(null)\r\n    const ATTENDANCE_ID_STORAGE_KEY = 'currentAttendanceId';\r\n    const CLOCKIN_TIME_STORAGE_KEY = `attendanceClockInTime_${userData?.employeeId}`;\r\n    const [profileData, setProfileData] = useState({\r\n       mode: \"\",\r\n       shift: \"\",\r\n       onTime: 0,\r\n       avgWorkingHours: 0,\r\n       loginTime: null,\r\n       logoutTime: null,\r\n       grossTimeDay: \"\",\r\n       effectiveTimeDay: \"\",\r\n     });\r\nconst SHIFT_OPTIONS = [\"Day Shift\", \"Night Shift\"];\r\nconst updateProfileField = async (field, value) => {\r\n    const today = new Date();\r\n    const day = today.getDate();\r\n    const month = today.getMonth() + 1;\r\n    const year = today.getFullYear();\r\n    const url = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/profile/${day}/${month}/${year}`;\r\n    try {\r\n        await dashboardApi.get(url, { [field]: value });\r\n        setProfileData(prev => ({ ...prev, [field]: value }));\r\n    } catch (error) {\r\n        console.error(`Error updating ${field}:`, error);\r\n    }\r\n};\r\nconst handleShiftChange = (e) => {\r\n    const selectedShift = e.target.value;\r\n    updateProfileField(\"shift\", selectedShift);\r\n};\r\n    const [currentAttendanceId, setCurrentAttendanceId] = useState(() => {\r\n    return localStorage.getItem(ATTENDANCE_ID_STORAGE_KEY) || null;\r\n   });\r\n   useEffect(() => {\r\n    const storedAttendanceId = localStorage.getItem(ATTENDANCE_ID_STORAGE_KEY);\r\n    \r\n    if (storedAttendanceId) {\r\n        setCurrentAttendanceId(storedAttendanceId);\r\n        // setIsLoggedIn(true); \r\n    }\r\n}, []);\r\n\r\n    // 1. Bar Chart Data\r\n    useEffect(() => {\r\n        const url = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/bar-chart?page=0&size=5`;\r\n        dashboardApi.get(url).then(response => {\r\n            const formatted = response.data.map(item => ({ Date: item.date, Month: item.month, Year: item.year, Work_Hours: item.working_hour, Break_Hours: item.break_hour }));\r\n            setBarChartData(formatted);\r\n            const dates = [\"All\", ...formatted.map(item => item.Date)];\r\n            setDates(dates);\r\n        }).catch(error => console.error('Error fetching bar chart data:', error));\r\n    }, [empID]);\r\n\r\n    // 2. Attendance Table Data\r\n    useEffect(() => {\r\n        const url = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/attendance?page=0&size=10`;\r\n        dashboardApi.get(url).then(response => {\r\n            setRawTableData(response.data);\r\n            const dates = [\"All\", ...response.map(item => item.Date)];\r\n            setDates(dates);\r\n        }).catch(error => console.error('Error fetching attendance data:', error));\r\n    }, [empID]);\r\n\r\n    // 3. Pie Chart Data\r\n    useEffect(() => {\r\n        const url = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/pie-chart`;\r\n        dashboardApi.get(url).then(response => {\r\n            const formatted = response.data.map(item => ({ Date: item.date, Month: item.month, Year: item.year, Working_hour: item.working_hour, Break_hour: item.break_hour, EmployeeId: item.employeeId }));\r\n            setRawPieData(formatted);\r\n            const dates = [\"All\", ...formatted.map(item => item.Date)];\r\n            setDates(dates);\r\n        }).catch(error => console.error('Error fetching pie chart data:', error));\r\n    }, [empID]);\r\n\r\n    // 4. Line Graph/Schedule Bar Data (Data)\r\n    useEffect(() => {\r\n        const url = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/line-graph?page=0&size=5`;\r\n        dashboardApi.get(url).then(response => {\r\n            const formatted = response.data.map(item => ({ EmployeeId: item.employeeId, Date: item.date, Month: item.month, Year: item.year, Start_time: item.start_time, End_time: item.end_time, Break_hour: item.breaks.map(b => ({ Time: b.time, hour: b.hour })) }));\r\n            setData(formatted);\r\n            const dates = [\"All\", ...formatted.map(item => item.Date)];\r\n            setDates(dates);\r\n        }).catch(error => console.error('Error fetching line graph data:', error));\r\n    }, [empID]);\r\n\r\n    // 5. Stat Card Data\r\n    //useEffect(() => {\r\n    //    const url = `https://hrms.anasolconsultancyservices.com/api/attendance/attendance/leaves/dashboard/${empID}`;\r\n    //    dashboardApi.get(url).then(response => {\r\n    //        setCardData(response.data);\r\n    //    }).catch(error => console.error('Error fetching card data:', error));\r\n    //}, [empID]);\r\n   useEffect(() => {\r\n       const userPayload = JSON.parse(localStorage.getItem(\"emppayload\"));\r\n       const userImage = localStorage.getItem(\"loggedInUserImage\");\r\n   \r\n       const initials = (userPayload?.displayName || \"  \")\r\n         .split(\" \")\r\n         .map((word) => word[0])\r\n         .join(\"\")\r\n         .substring(0, 2);\r\n   \r\n       setLoggedInUserProfile({\r\n         image: userImage,\r\n         initials: initials,\r\n       });\r\n     }, [userData]);\r\n  \r\nuseEffect(() => {\r\n    const CLOCKIN_TIME_STORAGE_KEY = `attendanceClockInTime_${userData?.employeeId}`;\r\n    const savedClockIn = localStorage.getItem(CLOCKIN_TIME_STORAGE_KEY);\r\n    if (savedClockIn) {\r\n        setIsLoggedIn(true);\r\n        setStartTime(new Date(savedClockIn));\r\n    } else {\r\n        setIsLoggedIn(false);\r\n        setStartTime(null);\r\n    }\r\n}, [userData?.employeeId]);\r\n    useEffect(() => {\r\n    // 1. Gross/Effective Hours Timer Logic:\r\n    if (isLoggedIn && startTime) {\r\n        \r\n        if (intervalRef.current) {\r\n            clearInterval(intervalRef.current);\r\n        }\r\n        \r\n        \r\n        intervalRef.current = setInterval(() => {\r\n            const now = new Date();\r\n            const diffInSeconds = (now - startTime) / 1000;\r\n            setGrossHours(diffInSeconds);\r\n            setEffectiveHours(diffInSeconds);\r\n        }, 1000);\r\n    } else { \r\n        setGrossHours(0); \r\n        setEffectiveHours(0); \r\n        if (intervalRef.current) {\r\n            clearInterval(intervalRef.current);\r\n            intervalRef.current = null;\r\n        }\r\n    }\r\n    \r\n    // 2. Clock Timer Logic (Keep this separate from the gross/effective timer logic)\r\n    if (!clockTimerRef.current) {\r\n        clockTimerRef.current = setInterval(() => setCurrentTime(new Date()), 1000);\r\n    }\r\n\r\n    // 3. Browser/Screen State Management (NEW LOGIC)\r\n    const employeeId = userData?.employeeId;\r\n    const attendanceId = currentAttendanceId;\r\n\r\n    const handleDisconnect = async () => {\r\n        if (isLoggedIn && employeeId && attendanceId) {\r\n            console.log(\"Disconnecting due to visibility change or unload...\");\r\n            const apiUrl = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${employeeId}/${attendanceId}/disconnected`;\r\n            try {\r\n                await fetch(apiUrl, { method: 'PUT', headers: { 'accept': '*/*' } });\r\n                console.log(\"Disconnected endpoint hit successfully.\");\r\n            } catch (error) {\r\n                console.error(\"Disconnected API call failed:\", error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleConnect = async () => {\r\n        if (isLoggedIn && employeeId && attendanceId) {\r\n            console.log(\"Connecting due to visibility change...\");\r\n            const apiUrl = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${employeeId}/${attendanceId}/connected`;\r\n            try {\r\n                await fetch(apiUrl, { method: 'PUT', headers: { 'accept': '*/*' } });\r\n                console.log(\"Connected endpoint hit successfully.\");\r\n            } catch (error) {\r\n                console.error(\"Connected API call failed:\", error);\r\n            }\r\n        }\r\n    };\r\n    const handleVisibilityChange = () => {\r\n        if (document.visibilityState === 'hidden') {\r\n            if (isLoggedIn) {\r\n                console.log(\"User moved to another tab/window is minimized. Only showing alert.\");\r\n            }\r\n        } else if (document.visibilityState === 'visible') {\r\n            handleConnect();\r\n        }\r\n    };\r\n    \r\n    document.addEventListener('visibilitychange', handleVisibilityChange);\r\n    const handleBeforeUnload = (event) => {\r\n        if (isLoggedIn) {\r\n            console.log(\"Disconnecting due to beforeunload (closing tab/window or refresh)...\");\r\n            handleDisconnect(); \r\n        }\r\n    };\r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n    return () => { \r\n        if (intervalRef.current) {\r\n            clearInterval(intervalRef.current);\r\n            intervalRef.current = null;\r\n        }\r\n        if (clockTimerRef.current) {\r\n            clearInterval(clockTimerRef.current);\r\n            clockTimerRef.current = null;\r\n        }\r\n        document.removeEventListener('visibilitychange', handleVisibilityChange);\r\n        window.removeEventListener('beforeunload', handleBeforeUnload); // Cleanup  add \r\n    };\r\n}, [isLoggedIn, startTime, currentAttendanceId]);\r\n   \r\n    const handleModeChange = (newMode) => {  updateProfileField(\"mode\", newMode); setMode(newMode); setShowModeConfirm(false); };\r\nconst handleRefresh = () => {\r\n    const currentState = isLoggedIn;\r\n    setIsLoggedIn(false); \r\n    setTimeout(() => setIsLoggedIn(currentState), 0); \r\n};   \r\nconst ATTENDANCE_RECORDS_KEY = `attendanceRecords_${userData?.employeeId}`;\r\nconst handleLogin = () => {\r\n    const now = new Date();\r\n    setIsLoggedIn(true);\r\n    setStartTime(now);\r\n    setEndTime(null);\r\n    setGrossHours(0);\r\n    setEffectiveHours(0);\r\n\r\n   localStorage.setItem(CLOCKIN_TIME_STORAGE_KEY, now.toISOString());\r\n\r\n    const newRecord = {\r\n        employee_id: userData?.employeeId,\r\n        date: now.toLocaleDateString(),\r\n        login_time: formatClockTime(now),\r\n        logout_time: null,\r\n        login_hours: 0,\r\n        barWidth: \"0%\",\r\n    };\r\n\r\n    const records = JSON.parse(localStorage.getItem(ATTENDANCE_RECORDS_KEY)) || [];\r\n    localStorage.setItem(ATTENDANCE_RECORDS_KEY, JSON.stringify([...records, newRecord]));\r\n    setRawTableData(prev => [...prev, newRecord]);\r\n    const apiUrl = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/${mode}/clock-in`;\r\n\r\n    fetch(apiUrl, {\r\n        method: 'PUT',\r\n        headers: {\r\n            'accept': '*/*',\r\n        },\r\n    })\r\n    .then(response => {\r\n         if (!response.ok) {\r\n            if (response.status === 500) {\r\n                 return response.text().then(errorText => {\r\n                     throw new Error(`HTTP error! Status: ${response.status}. Server response: ${errorText || 'No detailed server message available.'}`);\r\n                 });\r\n            }\r\n            \r\n            throw new Error(`HTTP error! status: ${response.status}.`);\r\n        }\r\n        return response.json(); \r\n    })\r\n       \r\n    .then(data => {\r\n        console.log(\"Clock-in successful:\", data);\r\n        const attendanceIdFromResponse = data.attendanceId; \r\n        if (attendanceIdFromResponse) {\r\n            setCurrentAttendanceId(attendanceIdFromResponse);\r\n            localStorage.setItem(ATTENDANCE_ID_STORAGE_KEY, attendanceIdFromResponse);\r\n            console.log(`Stored Attendance ID: ${attendanceIdFromResponse}`);\r\n        } else {\r\n            console.warn(\"Attendance ID not received in clock-in response.\");\r\n        }\r\n    })\r\n    .catch(error => {\r\n        console.error(\"Clock-in failed:\", error);\r\n        // Revert login state if API fails\r\n        setIsLoggedIn(false); \r\n        setStartTime(null);\r\n    });\r\n};\r\nconst handleShowAttendances = () => {\r\n        setSidebarView('attendances');\r\n       setIsSidebarOpen(false);\r\n    };\r\nconst handleShowAttendance = () => {\r\n        setSidebarView('attendance');\r\n       setIsSidebarOpen(false);\r\n    };\r\n    const handleShowAttendanceReport = () => {\r\n        setSidebarView('attendanceReport');\r\n       setIsSidebarOpen(false);\r\n    };\r\nconst handleLogout = () => { setIsLogoutConfirmed(true); };\r\nconst handleConfirmLogout = async () => { \r\n    const now = new Date(); \r\n    const clockOutData = {\r\n        employee_id:[`${userData?.employeeId}`],\r\n        clock_out_time: now.toISOString(), // ISO format is best for backend storage\r\n        \r\n    };\r\n    try {\r\n        const apiUrl = `https://hrms.anasolconsultancyservices.com/api/attendance/employee/${userData?.employeeId}/clock-out`;\r\n\r\n        const response = await fetch(apiUrl, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(clockOutData),\r\n        });\r\n\r\n        if (!response.ok) {\r\n            \r\n            const errorText = await response.text();\r\n            console.error('Clock-out API call failed:', response.status, errorText);\r\n            alert('Failed to record clock-out time on the server. Please try again or contact support.');\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error('Error during clock-out API call:', error);\r\n        alert('A network error occurred while clocking out. You have been logged out locally, but the server record might be missing.');\r\n    } finally {\r\n        // NEW: Clear Attendance ID from state and local storage on logout\r\n        setCurrentAttendanceId(null);\r\n        localStorage.removeItem(ATTENDANCE_ID_STORAGE_KEY);\r\n        localStorage.removeItem(CLOCKIN_TIME_STORAGE_KEY);\r\n\r\n       setIsLoggedIn(false);\r\n    setIsLogoutConfirmed(false);\r\n    setEndTime(now);\r\n\r\n    setRawTableData(prev => {\r\n        if (prev.length === 0) return prev;\r\n        const lastIndex = prev.length - 1;\r\n        const lastRecord = prev[lastIndex];\r\n        if (\r\n            lastRecord.date === now.toLocaleDateString() &&\r\n            !lastRecord.logout_time\r\n        ) {\r\n            const loginDate = new Date(`2000-01-01 ${lastRecord.login_time}`);\r\n            const logoutDate = now;\r\n            const loginHours = ((logoutDate - loginDate) / (1000 * 60 * 60));\r\n            const updatedRecord = {\r\n                ...lastRecord,\r\n                logout_time: formatClockTime(now),\r\n                login_hours: loginHours > 0 ? loginHours : 0,\r\n                barWidth: `${(loginHours / STANDARD_WORKDAY_HOURS) * 100}%`,\r\n            };\r\n\r\n            // Update localStorage\r\n            const records = JSON.parse(localStorage.getItem(ATTENDANCE_RECORDS_KEY)) || [];\r\n            records[lastIndex] = updatedRecord;\r\n            localStorage.setItem(ATTENDANCE_RECORDS_KEY, JSON.stringify(records));\r\n\r\n            return [\r\n                ...prev.slice(0, lastIndex),\r\n                updatedRecord\r\n            ];\r\n        }\r\n        return prev;\r\n    });\r\n    \r\n};\r\n};\r\n\r\nuseEffect(() => {\r\n    const records = (JSON.parse(localStorage.getItem(ATTENDANCE_RECORDS_KEY)) || []).filter(r => r && r.date);\r\n    if (records.length > 0) {\r\n        setRawTableData(records);\r\n    }\r\n}, [userData?.employeeId]);\r\n\r\nconst handleCancel = () => { setIsLogoutConfirmed(false); };\r\nconst formatHours = (seconds) => {\r\n    const h = Math.floor(seconds / 3600);\r\n    const m = Math.floor((seconds % 3600) / 60);\r\n    const s = Math.floor(seconds % 60);\r\n    return `${String(h).padStart(2, \"0\")}h ${String(m).padStart(2, \"0\")}m ${String(s).padStart(2, \"0\")}s`;\r\n};\r\nconst grossHoursFormatted = formatHours(grossHours);\r\nconst effectiveHoursFormatted = formatHours(effectiveHours);\r\nconst maxHoursInSeconds = 8 * 3600;\r\n    const progress = (grossHours / maxHoursInSeconds) * 100;\r\n    const finalAttendanceData = useMemo(() => {\r\n        let data = [...rawTableData];\r\n        if (selectedMonth !== \"All\" && selectedMonth) {\r\n            const selectedMonthIndex = MONTHS.indexOf(selectedMonth) - 1;\r\n            data = data.filter((entry) => new Date(entry.date).getMonth() === selectedMonthIndex);\r\n        }\r\n        switch (sortOption) {\r\n            case \"Ascending\": data.sort((a, b) => new Date(a.date) - new Date(b.date)); break;\r\n            case \"Descending\": data.sort((a, b) => new Date(b.date) - new Date(a.date)); break;\r\n            case \"Last Month\": const lastMonth = new Date(); lastMonth.setMonth(lastMonth.getMonth() - 1); data = data.filter(item => new Date(item.date) >= lastMonth); break;\r\n            case \"Last 7 Days\": const last7Days = new Date(); last7Days.setDate(last7Days.getDate() - 7); data = data.filter(item => new Date(item.date) >= last7Days); break;\r\n            default: data.sort((a, b) => new Date(b.date) - new Date(a.date)); break;\r\n        }\r\n        const formattedData = data.map(entry => ({ ...entry, login_hours: calculateHours(entry.login_time, entry.logout_time), barWidth: `${(calculateHours(entry.login_time, entry.logout_time) / STANDARD_WORKDAY_HOURS) * 100}%` }));\r\n        const totalPages = Math.ceil(formattedData.length / rowsPerPage);\r\n        const paginatedData = formattedData.slice((currentPage - 1) * rowsPerPage, currentPage * rowsPerPage);\r\n        return { paginatedData, totalPages, totalCount: formattedData.length };\r\n    }, [rawTableData, selectedMonth, sortOption, rowsPerPage, currentPage, MONTHS]);\r\n    const { paginatedData, totalPages } = finalAttendanceData;\r\n    const filteredPieData = useMemo(() => {\r\n        const dataToProcess = selectedDate === \"All\" ? rawPieData : rawPieData.filter((d) => `${d.Date}-${d.Month}-${d.Year}` === selectedDate);\r\n        const totalWorking = dataToProcess.reduce((sum, row) => sum + row.Working_hour, 0);\r\n        const totalBreak = dataToProcess.reduce((sum, row) => sum + row.Break_hour, 0);\r\n        return [{ name: \"Working Hours\", value: totalWorking }, { name: \"Break Hours\", value: totalBreak }];\r\n    }, [selectedDate, rawPieData]);\r\n\r\n    const filteredBarChartData = useMemo(() => {\r\n        return selectedDate === \"All\" ? barChartData : barChartData.filter((d) => `${d.Date}-${d.Month}-${d.Year}` === selectedDate);\r\n    }, [selectedDate, barChartData]);\r\n\r\n    if (isLoading) {\r\n        return (\r\n          <div className={`min-h-screen ${theme === 'dark' ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'}`}>\r\n            <div className=\"min-h-screen flex items-center justify-center px-4\">\r\n              <div className=\"text-center\">\r\n                <div className=\"relative\">\r\n                  <div className=\"animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4\"></div>\r\n                  <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                    <IoPersonOutline className=\"w-5 h-5 sm:w-6 sm:h-6 text-blue-500\" />\r\n                  </div>\r\n                </div>\r\n                <h2 className={`text-lg sm:text-xl font-bold mb-2 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>Loading Employee Attendance</h2>\r\n                <p className={`text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-600'}`}>Discovering your colleagues...</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n    return (\r\n        <div className={`min-h-screen ${theme === 'dark'? 'bg-gray-900': 'bg-gray-50'} font-sans text-gray-800 relative`}>\r\n            {/* Sidebar */}\r\n             <AnimatePresence>\r\n            {(matchedArray || []).includes(\"VIEW_ATTENDANCE_REPORTS\") && !isSidebarOpen && (\r\n              \r\n                    <motion.button onClick={() => setIsSidebarOpen(true)}  className=\"fixed right-0 top-1/2 transform -translate-y-1/2 bg-indigo-600 text-white p-2 rounded-l-lg shadow-lg z-50 hover:bg-indigo-700 transition-colors\"\r\n                        aria-label=\"Open Sidebar\"\r\n                         >\r\n                        <ChevronLeft  />\r\n                    </motion.button>\r\n                    )}\r\n                    {showSidebar && isSidebarOpen && (\r\n                    <motion.div\r\n                                            key=\"sidebar\"\r\n                                            className={`fixed inset-y-0 right-0 w-80 ${theme==='dark'?'bg-gray-900':'bg-stone-100'} shadow-xl z-40 p-4 flex flex-col`}\r\n                                        >\r\n                        <motion.h3\r\n                             className={`text-lg font-bold mt-20  cursor-pointer mb-1 p-2 rounded-md  hover:bg-blue-100 transition-colors duration-200 ${theme === 'dark' ? 'text-white hover:bg-gray-900' : 'text-gray-800'}`}\r\n                             onClick={handleShowAttendance}\r\n                            whileHover={{ scale: 1.05 }}\r\n                            whileTap={{ scale: 0.95 }}\r\n                        >\r\n                            <LiaFileAlt className=\"w-5 h-5 inline-block mr-2\"  />Total Employee Attendance \r\n                        </motion.h3>  \r\n                       <motion.h3\r\n                            className={`text-lg font-bold   cursor-pointer mb-4 p-2 rounded-md  hover:bg-blue-100 transition-colors duration-200 ${theme === 'dark' ? 'text-white hover:bg-gray-900' : 'text-gray-800'}`}\r\n                            onClick={handleShowAttendanceReport}\r\n                            whileHover={{ scale: 1.05 }}\r\n                            whileTap={{ scale: 0.95 }}\r\n                        >\r\n                            <ChartBarIcon className=\"w-5 h-5 inline-block mr-2\" /> Attendance Reports\r\n                        </motion.h3> \r\n                        \r\n                        <button onClick={() => setIsSidebarOpen(false)} className=\"absolute left-0 top-1/2 -translate-x-1/2 -translate-y-1/2 p-2 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition-colors z-50\"\r\n                            aria-label=\"Close Sidebar\">\r\n                            <ChevronRight />\r\n                        </button>\r\n                    </motion.div>                   \r\n              \r\n            )}\r\n            </AnimatePresence>\r\n            {/* Main Content Wrapper */}\r\n            <div className={`flex-1 transition-all duration-300 p-4 sm:p-6 lg:p-8`}>\r\n         \r\n              {isSidebarOpen && <div className=\"md:hidden fixed inset-0 bg-black opacity-50 z-30\" onClick={() => setIsSidebarOpen(false)}></div>}\r\n            <main className={`p-2 sm:p-2 lg:p-4 ${isSidebarOpen && showSidebar ? 'filter blur-sm' : ''}`}>\r\n                <header className=\"flex items-center justify-between mb-1\">\r\n                    <motion.h1\r\n                        className={`text-2xl sm:text-4xl font-extrabold ${theme === 'dark'? 'text-white': 'text-gray-900'}`}\r\n                        initial={{ opacity: 0, x: -20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        transition={{ duration: 0.5 }}\r\n                    >\r\n                        {showAttendanceReports ? \"Attendance Reports\" : \"\"}\r\n                        \r\n                    </motion.h1>\r\n                    \r\n                </header>\r\n                {/* Conditional Rendering of Main Content */}\r\n                <AnimatePresence mode=\"wait\">\r\n                    {sidebarView === 'attendance' && (\r\n                        <motion.div\r\n                            key=\"attendance\"\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: -20 }}\r\n                            transition={{ duration: 0.3 }}\r\n                        >\r\n                            <AttendanceTable onBack={() => setSidebarView(null)} />\r\n                        </motion.div>\r\n                    )}\r\n                    {sidebarView==='attendanceReport' && (\r\n                        <motion.div\r\n                            key=\"reports\"\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: -20 }}\r\n                            transition={{ duration: 0.3 }}\r\n                            className=\"\"\r\n                        >\r\n                            <AttendanceReports rawTableData={rawTableData} role={role.toLowerCase()} onBack={() => setSidebarView(null)} />\r\n                          \r\n                        </motion.div>\r\n                    )} \r\n                     {sidebarView === null && (\r\n                        <motion.div\r\n                            key=\"dashboard\"\r\n                        >\r\n                           <div className=\"grid grid-cols-1 lg:grid-cols-1 xl:grid-cols-2 gap-6 mb-2\">\r\n   <motion.div\r\n        className=\"p-2 flex items-center justify-center w-full\"\r\n        animate={{ opacity: 1, scale: 1 }}\r\n    >\r\n        <div className={`rounded-3xl shadow-2xl p-4 w-full max-w-lg md:max-w-3xl transition-all hover:shadow-3xl duration-300 relative overflow-hidden \r\n                ${theme === 'dark' ? 'bg-gray-800 border border-indigo-500/50' : 'bg-white border border-gray-200'}`}>\r\n\r\n            <div className=\"absolute -top-12 -right-12 w-48 h-48 rounded-full bg-gradient-to-tr from-purple-100 via-pink-200 to-red-300 opacity-30 z-0 animate-pulse-slow\"></div>\r\n            <div className=\"absolute -bottom-10 -left-10 w-24 h-24 rounded-full bg-gradient-to-tr from-green-100 via-blue-200 to-purple-300 opacity-30 z-0 animate-pulse-slow-reverse\"></div>\r\n            <div className=\"flex flex-row items-start justify-between mb-2 relative z-10\">\r\n                <div className=\"flex items-start space-x-3 md:space-x-4\">\r\n                    <div className=\"relative mt-1\"> {/* Adjusted margin top */}\r\n                        <motion.div\r\n                            className={`w-14 h-14 md:w-16 md:h-16 rounded-full overflow-hidden border-4 flex items-center justify-center shadow-xl cursor-pointer \r\n                                ${theme === 'dark' ? 'border-gray-700 bg-gray-600' : 'border-white bg-indigo-500'}`}\r\n                            transition={{ type: \"spring\", stiffness: 400, damping: 10 }}\r\n                        >\r\n                            {loggedInUserProfile.image ? (\r\n                                <img\r\n                                    src={loggedInUserProfile.image}\r\n                                    alt=\"Profile\"\r\n                                    className=\"w-full h-full object-cover\"\r\n                                />\r\n                            ) : (\r\n                                <span\r\n                                    className={`text-lg md:text-xl font-bold ${\r\n                                        theme === \"dark\" ? \"text-white\" : \"text-white\" // White text for contrast\r\n                                    } flex items-center justify-center w-full h-full`}\r\n                                >\r\n                                    {loggedInUserProfile.initials}\r\n                                </span>\r\n                            )}\r\n                        </motion.div>\r\n                        <motion.div\r\n                            className={`absolute bottom-0 right-0 w-4 h-4 md:w-5 md:h-5 rounded-full flex items-center justify-center border-2 \r\n                                ${theme === 'dark' ? 'border-gray-800' : 'border-white'} transition-colors \r\n                                ${mode === \"office\" ? \"bg-blue-500\" : \"bg-green-500\"}`}\r\n                            initial={{ scale: 0 }}\r\n                            animate={{ scale: 1 }}\r\n                            transition={{ type: \"spring\", stiffness: 500, damping: 20 }}\r\n                        >\r\n                            {mode === \"office\" ? (\r\n                                <FaBuilding className=\"text-white text-xs\" />\r\n                            ) : (\r\n                                <FaHome className=\"text-white text-xs\" />\r\n                            )}\r\n                        </motion.div>\r\n                    </div>\r\n\r\n                    {/* Welcome Text */}\r\n                    <motion.div\r\n                        className=\"text-start mt-2\"\r\n                        initial={{ opacity: 0, x: -20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        transition={{ delay: 0.1, duration: 0.5 }}\r\n                    >\r\n                        <p className={`text-xs md:text-sm font-semibold mb-0 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                            Welcome Back!\r\n                        </p>\r\n                        <h2 className={`text-lg md:text-xl font-bold ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>\r\n                            {`${userData?.fullName || 'Employee'}`} \r\n                        </h2>\r\n                    </motion.div>\r\n                </div>\r\n                <div className=\"flex space-x-1 md:space-x-2 mt-1\">\r\n                    {/* Refresh Button - Smaller icon/padding on mobile */}\r\n                    <motion.button\r\n                        onClick={handleRefresh}\r\n                        className={`p-2 rounded-full hover:shadow-lg flex items-center justify-center text-sm font-medium transition-transform duration-300 \r\n                            ${theme === 'dark' ? 'bg-gray-700 text-indigo-400 border border-gray-600' : 'bg-gray-100 text-indigo-600 border border-gray-300'}`}\r\n                        whileTap={{ scale: 0.9 }}\r\n                        aria-label=\"Refresh Timer\"\r\n                    >\r\n                        <motion.svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 md:h-5 md:w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2} initial={{ rotate: 0 }}\r\n                            animate={{ rotate: showModeConfirm ? 180 : 0 }}>\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.001 8.001 0 01-15.357-2m15.357 2H15\" />\r\n                        </motion.svg>\r\n                        <span className=\"hidden sm:inline ml-1 text-xs\">Refresh</span> {/* Smaller text on desktop */}\r\n                    </motion.button>\r\n\r\n                    {/* Mode Toggle Button - Smaller text/padding on mobile */}\r\n                    <div className=\"relative\">\r\n                        <motion.button\r\n                            onClick={() => setShowModeConfirm(!showModeConfirm)}\r\n                            className={`px-2 py-1.5 md:px-4 md:py-2 rounded-full flex items-center justify-center gap-1 md:gap-2 text-sm font-medium shadow-md transition-transform duration-300 \r\n                                ${theme === 'dark' ? 'bg-indigo-600 text-white' : 'bg-gradient-to-br from-indigo-100 to-indigo-200 text-indigo-700 border border-indigo-300'}`}\r\n                            whileTap={{ scale: 0.9 }}\r\n                        >\r\n                            {/* Mode icon */}\r\n                            {mode === \"office\" ? (\r\n                                <motion.div className=\"w-4 h-4 md:w-5 md:h-5 rounded-full bg-blue-500 flex items-center justify-center\" whileHover={{ rotate: 360 }}>\r\n                                    <FaBuilding className=\"text-white text-xs\" />\r\n                                </motion.div>\r\n                            ) : (\r\n                                <motion.div className=\"w-4 h-4 md:w-5 md:h-5 rounded-full bg-green-500 flex items-center justify-center\" whileHover={{ rotate: 360 }}>\r\n                                    <FaHome className=\"text-white text-xs\" />\r\n                                </motion.div>\r\n                            )}\r\n                            <span className=\"capitalize hidden sm:inline text-sm\">{mode}</span> {/* Kept hidden on mobile, smaller on desktop */}\r\n                            <motion.svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                className=\"h-3 w-3 md:h-4 md:w-4 ml-0.5 transition-transform duration-200 hidden sm:block\"\r\n                                fill=\"none\"\r\n                                viewBox=\"0 0 24 24\"\r\n                                stroke=\"currentColor\"\r\n                                initial={{ rotate: 0 }}\r\n                                animate={{ rotate: showModeConfirm ? 180 : 0 }}\r\n                            >\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                            </motion.svg>\r\n                        </motion.button>\r\n                        <AnimatePresence>\r\n                            {showModeConfirm && (\r\n                                <motion.div\r\n                                    className={`absolute top-full right-0 mt-2 w-48 p-3 border rounded-xl shadow-xl z-30 \r\n                                        ${theme === 'dark' ? 'bg-gray-700 text-white border-gray-600' : 'bg-white text-gray-800 border-gray-300'}`}\r\n                                    initial={{ opacity: 0, y: -20, scale: 0.9 }}\r\n                                    animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                                    exit={{ opacity: 0, y: -20, scale: 0.9 }}\r\n                                    transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\r\n                                >\r\n                                    <p className={`${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'} font-medium text-xs mb-3 text-center`}>\r\n                                        Switch to {mode === \"office\" ? \"Remote\" : \"Office\"} mode?\r\n                                    </p>\r\n                                    <div className=\"flex space-x-2\">\r\n                                        <motion.button\r\n                                            onClick={() => handleModeChange(mode === \"office\" ? \"home\" : \"office\")}\r\n                                            className=\"flex-1 px-3 py-1.5 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 transition-colors font-semibold text-sm\"\r\n                                            whileTap={{ scale: 0.95 }}\r\n                                        >\r\n                                            Confirm\r\n                                        </motion.button>\r\n                                        <motion.button\r\n                                            onClick={() => setShowModeConfirm(false)}\r\n                                            className=\"flex-1 px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium text-sm\"\r\n                                            whileTap={{ scale: 0.95 }}\r\n                                        >\r\n                                            Cancel\r\n                                        </motion.button>\r\n                                    </div>\r\n                                </motion.div>\r\n                            )}\r\n                        </AnimatePresence>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div className={`grid grid-cols-1 md:grid-cols-1`}>\r\n    {/* Other Stats */}\r\n    <div className={`flex flex-col items-start p-3 rounded-xl   shadow w-full ${theme==='dark'?'bg-gray-800':'bg-gradient-to-br from-orange-50 via-white to-orange-100'}`}>\r\n        <span className=\"text-lg font-semibold text-green-500 mb-1\">Attendance % (Ontime)</span>\r\n        <span className={`font-bold text-lg md:text-xl mb-2 ${profileData.onTime >= 75 ? 'text-green-500' : profileData.onTime >= 50 ? 'text-yellow-500' : 'text-red-500'}`}>{profileData.onTime || 0}%</span>\r\n        <div  className=\"flex flex-col items-start\">\r\n            <div className={`grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4 w-full`}>\r\n        <span className={`text-sm  ${theme==='dark'?'text-gray-400':'text-gray-500'}`}>shift: <span className={`font-bold  ${theme==='dark'?'text-gray-400':'text-gray-500'}`}>{profileData.shift || '-'}</span></span>\r\n        <span className={`text-sm  ${theme==='dark'?'text-gray-400':'text-gray-500'}`}>Login: <span className={`font-bold  ${theme==='dark'?'text-gray-400':'text-gray-500'}`}>{profileData.loginTime ? new Date(profileData.loginTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : '-'}</span></span>   \r\n        <span className={`text-sm  ${theme==='dark'?'text-gray-400':'text-gray-500'}`}>Avg. Working Hours: <span className={`font-bold  ${theme==='dark'?'text-gray-400':'text-gray-500'}`}>{profileData.avgWorkingHours || 0}</span></span>\r\n        <span className={`text-sm  ${theme==='dark'?'text-gray-400':'text-gray-500'}`}>Mode: <span className={`font-bold  ${theme==='dark'?'text-gray-400':'text-gray-500'}`}>{profileData.mode || '-'}</span></span> \r\n        <span className={`text-sm  ${theme==='dark'?'text-gray-400':'text-gray-500'}`}>Logout: <span className={`font-bold  ${theme==='dark'?'text-gray-400':'text-gray-500'}`}>{profileData.logoutTime ? new Date(profileData.logoutTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : '-'}</span></span>\r\n        </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n            \r\n            <div className=\"relative my-2 w-full flex justify-center\">\r\n                <div className=\"absolute inset-0 flex items-center\" aria-hidden=\"true\">\r\n                    <motion.div\r\n                        className={`w-full border-t ${theme === 'dark' ? 'border-gray-600' : 'border-gray-300'}`}\r\n                        initial={{ scaleX: 0 }}\r\n                        animate={{ scaleX: 1 }}\r\n                        transition={{ delay: 0.6, duration: 0.8 }}\r\n                        style={{ transformOrigin: \"left\" }}\r\n                    />\r\n                </div>\r\n                <span className={`px-2 text-xs font-semibold z-10 ${theme === 'dark' ? 'bg-gray-800 text-indigo-400' : 'bg-white text-indigo-600'}`}>\r\n                    CURRENT CLOCK\r\n                </span>\r\n            </div>\r\n\r\n            {/* Time display section: Increased font size for clock, better centered */}\r\n            <div className=\"w-full flex flex-col items-center text-center mb-4 relative z-10\">\r\n\r\n                <div className=\"mb-4\">\r\n                    <motion.div\r\n                        className=\"flex items-center justify-center gap-2 text-indigo-600 font-medium mb-1\"\r\n                        initial={{ opacity: 0, y: 10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ delay: 0.8, duration: 0.5 }}\r\n                    >\r\n                        <ClockIcon className=\"w-5 h-5 text-indigo-500\" /> {/* Slightly smaller icon */}\r\n                        <span className='text-sm'>Current Time</span>\r\n                    </motion.div>\r\n                    <motion.p\r\n                        // Central clock is now larger for focus, scales down well on mobile\r\n                        className={`text-3xl md:text-3xl lg:text-3xl font-extrabold tracking-tight mb-1 ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        transition={{ delay: 1, duration: 0.5 }}\r\n                    >\r\n                        {formatClockTime(currentTime)}\r\n                    </motion.p>\r\n                    <motion.p\r\n                        className={`text-sm md:text-base font-medium ${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}\r\n                        initial={{ opacity: 0, y: 10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ delay: 1.2, duration: 0.5 }}\r\n                    >\r\n                        {currentTime.toLocaleDateString(undefined, { weekday: \"long\", month: \"long\", day: \"numeric\", year: \"numeric\" })}\r\n                    </motion.p>\r\n                </div>\r\n                <div className=\"grid grid-cols-2 gap-3 w-full max-w-xs md:max-w-md\">\r\n                    <motion.div\r\n                        className={`rounded-xl p-2 shadow-sm text-center ${theme === 'dark' ? 'bg-gray-700 text-white border border-indigo-500/50' : 'bg-indigo-50 border border-indigo-200'}`}\r\n                        transition={{ type: \"spring\", stiffness: 300 }}\r\n                    >\r\n                        <p className={`text-xs font-small mb-1 uppercase ${theme === 'dark' ? 'text-indigo-400' : 'text-indigo-600'}`}>Gross Time (Day)</p>\r\n                        <p className={`text-lg font-bold ${theme === 'dark' ? 'text-white' : 'text-purple-700'}`}>{grossHoursFormatted}</p>\r\n                    </motion.div>\r\n                    <motion.div\r\n                        className={`rounded-xl p-2 shadow-sm text-center ${theme === 'dark' ? 'bg-gray-700 text-white border border-pink-500/50' : 'bg-pink-50 border border-pink-200'}`}\r\n                        transition={{ type: \"spring\", stiffness: 300 }}\r\n                    >\r\n                        <p className={`text-xs font-small mb-1 uppercase ${theme === 'dark' ? 'text-pink-400' : 'text-pink-600'}`}>Effective Time (Day)</p>\r\n                        <p className={`text-lg font-bold ${theme === 'dark' ? 'text-white' : 'text-orange-700'}`}>{effectiveHoursFormatted}</p>\r\n                    </motion.div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Action Buttons - Reduced size and centered for mobile */}\r\n            <div className=\"w-full flex justify-center mt-4 relative z-10\">\r\n                {!isLoggedIn ? (\r\n                    <motion.button\r\n                        onClick={handleLogin}\r\n                        // Reduced size and font\r\n                        className=\"flex items-center justify-center w-36 py-1.5 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:from-green-600 hover:to-green-700 font-bold text-lg\"\r\n                        whileTap={{ scale: 0.95 }}\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                    >\r\n                        <ClockIcon className=\"w-5 h-5 mr-1.5\" /> \r\n                        Clock In\r\n                    </motion.button>\r\n                ) : (\r\n                    <div className=\"flex flex-col sm:flex-row gap-3 justify-center w-full max-w-sm\"> \r\n                        <AnimatePresence mode=\"wait\">\r\n                            {isLogoutConfirmed ? (\r\n                                <>\r\n                                    <motion.button\r\n                                        key=\"confirm\"\r\n                                        onClick={handleConfirmLogout}\r\n                                        // Reduced size and font\r\n                                        className=\"flex-1 items-center justify-center py-1 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 font-semibold text-sm\"\r\n                                        initial={{ opacity: 0, x: -20 }}\r\n                                        animate={{ opacity: 1, x: 0 }}\r\n                                        exit={{ opacity: 0, x: -20 }}\r\n                                        whileTap={{ scale: 0.95 }}\r\n                                    >\r\n                                        Confirm Logout\r\n                                    </motion.button>\r\n                                    <motion.button\r\n                                        key=\"cancel\"\r\n                                        onClick={handleCancel}\r\n                                        className={`flex-1 items-center justify-center py-1 rounded-xl shadow-sm transition-all duration-200 font-medium text-sm \r\n                                            ${theme === 'dark' ? 'bg-gray-600 text-gray-300 hover:bg-gray-500' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}\r\n                                        initial={{ opacity: 0, x: 20 }}\r\n                                        animate={{ opacity: 1, x: 0 }}\r\n                                        exit={{ opacity: 0, x: 20 }}\r\n                                        whileTap={{ scale: 0.95 }}\r\n                                    >\r\n                                        Cancel\r\n                                    </motion.button>\r\n                                </>\r\n                            ) : (\r\n                                <motion.button\r\n                                    key=\"logout\"\r\n                                    onClick={handleLogout}\r\n                                    // Reduced size and font\r\n                                    className=\"flex items-center justify-center w-36 py-1.5 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:from-red-600 hover:to-red-700 font-bold text-lg\"\r\n                                    initial={{ opacity: 0, scale: 0.8 }}\r\n                                    animate={{ opacity: 1, scale: 1 }}\r\n                                    exit={{ opacity: 0, scale: 0.8 }}\r\n                                    whileTap={{ scale: 0.95 }}\r\n                                >\r\n                                    <ClockIcon className=\"w-5 h-5 mr-1.5\" /> \r\n                                    Clock Out\r\n                                </motion.button>\r\n                            )}\r\n                        </AnimatePresence>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    </motion.div>\r\n                                {/* Stat Cards Grid */}\r\n                      { /*  <motion.div\r\n                            className=\"p-6 h-full flex flex-col justify-between\"\r\n                            initial={{ opacity: 0, x: 50 }}\r\n                            animate={{ opacity: 1, x: 0 }}\r\n                            transition={{ duration: 0.5, delay: 0.4 }}\r\n                        >\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-6 h-full\">\r\n                                {backendData.map((data) => {\r\n                                    let icon, iconBgColor, iconTextColor;\r\n                \r\n                                    switch (data.title) {\r\n                                        case \"Total Hours Today\": icon = <ClockIcon />; iconBgColor = \"bg-purple-100\"; iconTextColor = \"text-purple-500\"; break;\r\n                                        case \"Total Hours Week\": icon = <CalendarDaysIcon />; iconBgColor = \"bg-teal-100\"; iconTextColor = \"text-teal-500\"; break;\r\n                                        case \"Total Hours Month\": icon = <BriefcaseIcon />; iconBgColor = \"bg-blue-100\"; iconTextColor = \"text-blue-500\"; break;\r\n                                        case \"Overtime this Month\": icon = <TrendingUpIcon />; iconBgColor = \"bg-pink-100\"; iconTextColor = \"text-pink-500\"; break;\r\n                                        default: icon = <BriefcaseIcon />; iconBgColor = \"bg-gray-100\"; iconTextColor = \"text-gray-900\";\r\n                                    }\r\n                \r\n                               \r\n                                    if (data.title === \"Total Hours Month\" || data.title === \"Overtime this Month\") {\r\n                                        return (\r\n                                            <ProgressBarCard\r\n                                                key={data.id}\r\n                                                icon={icon}\r\n                                                iconTextColor={iconTextColor}\r\n                                                iconColor={data.iconColor}\r\n                                                currentValue={data.currentValue}\r\n                                                targetValue={data.targetValue}\r\n                                                description={data.title}\r\n                                                trend={data.trend}\r\n                                                trendPercentage={data.trendPercentage}\r\n                                                trendPeriod={data.trendPeriod}\r\n                                            />\r\n                                        );\r\n                                    }\r\n                                    return (\r\n                                        <ProfessionalStatCard\r\n                                            key={data.id}\r\n                                            icon={icon}\r\n                                            iconBgColor={iconBgColor}\r\n                                            iconTextColor={iconTextColor}\r\n                                            value={`${data.currentValue}/${data.targetValue}`}\r\n                                            description={data.title}\r\n                                            trend={data.trend}\r\n                                            trendPercentage={data.trendPercentage}\r\n                                            trendPeriod={data.trendPeriod}\r\n                                            chartData={data.chartData}\r\n                                            chartColor={data.chartColor}\r\n                                        />\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </motion.div> */}\r\n                        <App/>\r\n                    </div>\r\n                    \r\n\r\n                            {/* Charts Grid */}\r\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n                                <motion.section\r\n                                    className={`rounded-xl shadow-lg p-6 border border-gray-200 flex flex-col justify-between min-h-[450px] ${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-stone-100 text-gray-800'}`}\r\n                                    initial={{ opacity: 0, x: -50 }}\r\n                                    animate={{ opacity: 1, x: 0 }}\r\n                                    transition={{ duration: 0.5, delay: 0.6 }}\r\n                                >\r\n                                    <h2 className={`text-xl sm:text-2xl font-bold  mb-4 text-center ${theme === 'dark' ? 'bg-gradient-to-br from-blue-200 to-blue-600 bg-clip-text text-transparent' : 'text-gray-800'}`}>\r\n                                        <ChartPieIcon className=\"w-6 h-6 inline-block mr-2 text-indigo-600\" /> Daily Activity Breakdown\r\n                                    </h2>\r\n                                    <div className=\"mb-6 flex justify-center gap-2 flex-wrap\">\r\n                                       <div className=\"mb-6 flex justify-center gap-2 flex-wrap\">\r\n                                       {/* Previous Button */}\r\n                                       {startIndex > 0 && (\r\n                                        <motion.button\r\n                                           onClick={() => setStartIndex(prev => Math.max(0, prev - datesPerPage))}\r\n                                           className={`w-10 h-10 sm:w-12 sm:h-12 rounded-full text-base sm:text-sm font-small flex items-center justify-center bg-gray-200 text-gray-700 ${theme === 'dark' ? \"bg-gray-400 text-gray-300\" : \"\"} cursor-pointer hover:bg-indigo-500 hover:text-white transition-colors duration-200 ease-in-out`}\r\n                                           whileHover={{ scale: 1.1 }}\r\n                                           whileTap={{ scale: 0.9 }}\r\n                                           aria-label=\"Previous dates\"\r\n                                        >\r\n                                          <ChevronLeft className=\"w-5 h-5\" />\r\n                                        </motion.button>\r\n                                       )}\r\n                                       {dates.filter(date => date !== \"All\").slice(startIndex, startIndex + datesPerPage).map((date) => {\r\n                                          const pieItem = rawPieData.find((item) => item.Date === date);\r\n                                          const barItem = barChartData.find((item) => item.Date === date);\r\n                                          const dataItem = pieItem || barItem;\r\n                                          const dateToSet = dataItem ? `${dataItem.Date}-${dataItem.Month}-${dataItem.Year}` : date;\r\n                                          return (\r\n                                             <motion.button\r\n                                                key={date}\r\n                                                onClick={() => setSelectedMetricDate(dateToSet)} \r\n                                                className={`w-10 h-10 sm:w-12 sm:h-12 rounded-full text-base sm:text-sm font-small flex items-center justify-center bg-gray-200 text-gray-700 ${theme === 'dark' ? \"bg-gray-400 text-gray-300\" : \"\"} cursor-pointer hover:bg-indigo-500 hover:text-white transition-colors duration-200 ease-in-out`}\r\n                                                whileHover={{ scale: 1.1 }}\r\n                                                whileTap={{ scale: 0.9 }}\r\n                                             >\r\n                                                {date}\r\n                                             </motion.button>\r\n                                          );\r\n                                       })}\r\n                                       \r\n                                       {/* Next Button */}\r\n                                       {startIndex + datesPerPage < dates.length && (\r\n                                           <motion.button\r\n                                               onClick={() => setStartIndex(prev => prev + datesPerPage)}\r\n                                               className={`w-10 h-10 sm:w-12 sm:h-12 rounded-full text-base sm:text-sm font-small flex items-center justify-center bg-gray-200 text-gray-700 ${theme === 'dark' ? \"bg-gray-400 text-gray-300\" : \"\"} cursor-pointer hover:bg-indigo-500 hover:text-white transition-colors duration-200 ease-in-out`}\r\n                                               whileHover={{ scale: 1.1 }}\r\n                                               whileTap={{ scale: 0.9 }}\r\n                                               aria-label=\"Next dates\"\r\n                                           >\r\n                                             <ChevronRight className=\"w-5 h-5\" /> \r\n                                           </motion.button>\r\n                                       )}\r\n                                    </div>\r\n                                     </div>\r\n                                     \r\n                                     <MyComponent Data={Data} selectedMetricDate={selectedMetricDate} />\r\n                                    <div className=\"flex-grow flex items-center justify-center\">\r\n                                        <ResponsiveContainer width=\"100%\" height={isMobile ? 180 : 200}>\r\n                                            <PieChart>\r\n                                                <Pie data={filteredPieData} dataKey=\"value\" nameKey=\"name\" outerRadius={isMobile ? 60 : 80} label={({ percent }) => `${(percent * 100).toFixed(0)}%`} paddingAngle={2}>\r\n                                                    {filteredPieData.map((entry, index) => (\r\n                                                        <Cell key={`cell-${index}`} fill={PIE_COLORS[index % PIE_COLORS.length]} />\r\n                                                    ))}\r\n                                                </Pie>\r\n                                                <Tooltip formatter={(value) => `${value.toFixed(1)} hours`} />\r\n                                                <Legend iconType=\"circle\" wrapperStyle={{ paddingTop: \"10px\" }} />\r\n                                            </PieChart>\r\n                                        </ResponsiveContainer>\r\n                                    </div>\r\n                                </motion.section>\r\n                                <motion.section\r\n                                    className={`rounded-xl shadow-lg p-6 border border-gray-200 flex flex-col justify-between min-h-[450px] ${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-stone-100 text-gray-800'}`}\r\n                                    initial={{ opacity: 0, x: 50 }}\r\n                                    animate={{ opacity: 1, x: 0 }}\r\n                                    transition={{ duration: 0.5, delay: 0.8 }}\r\n                                >\r\n                                    <h2 className={`text-xl sm:text-2xl font-bold  mb-4 text-center ${theme === 'dark' ? 'bg-gradient-to-br from-pink-200 to-pink-600 bg-clip-text text-transparent' : 'text-gray-800'}`}>\r\n                                        <ChartBarIcon className=\"w-6 h-6 inline-block mr-2 text-indigo-600\" /> Weekly Login & Break Hours\r\n                                    </h2>\r\n                                    <div className=\"flex-grow flex items-center justify-center\">\r\n                                        <ResponsiveContainer width=\"100%\" height={isMobile ? 300 : 400}>\r\n                                            <BarChart data={filteredBarChartData} margin={{ top: 20, right: 10, left: 5, bottom: 5 }}>\r\n                                                 <XAxis\r\n                                                     dataKey=\"Date\"\r\n                                                     stroke={textColor}\r\n                                                     axisLine={false}\r\n                                                     tickLine={false}\r\n                                                     padding={{ left: 10, right: 10 }}\r\n                                                     tickFormatter={(tick, index) =>\r\n                                                         filteredBarChartData[index]\r\n                                                             ? `${filteredBarChartData[index].Date}-${filteredBarChartData[index].Month}`\r\n                                                             : tick\r\n                                                     }\r\n                                                     className={`text-sm ${theme === 'dark' ? 'text-white' : 'text-gray-500'}`}\r\n                                                 />\r\n                                                 <YAxis allowDecimals={false} hide />\r\n                                                 <Tooltip cursor={{ fill: 'rgba(0,0,0,0.05)' }} />\r\n                                                 <Legend wrapperStyle={{ paddingTop: \"10px\" }} />\r\n                                                 <Bar dataKey=\"Work_Hours\" stackId=\"a\" fill={BAR_COLORS.work} name=\"Work Hours\" />\r\n                                                 <Bar dataKey=\"Break_Hours\" stackId=\"a\" fill={BAR_COLORS.break} name=\"Break Hours\" />\r\n                                             </BarChart>\r\n                                        </ResponsiveContainer>\r\n                                    </div>\r\n                                </motion.section>\r\n                            </div>\r\n                            {/* Attendance Records Table */}\r\n                            <motion.div\r\n    className={`p-4 sm:p-6 rounded-xl border border-gray-200 shadow-lg mb-8 ${theme === 'dark' ? 'bg-gray-800 text-white border-gray-700' : 'bg-white text-gray-800 border-gray-200'}`} // Enhanced dark mode border/bg\r\n    initial={{ opacity: 0, y: 50 }}\r\n    animate={{ opacity: 1, y: 0 }}\r\n    transition={{ duration: 0.5, delay: 1 }}\r\n>\r\n    <section>\r\n        <div className=\"flex justify-between items-start sm:items-center mb-5 flex-wrap gap-4\"> \r\n            <h2 className={`text-xl sm:text-2xl font-extrabold ${theme === 'dark' ? 'bg-gradient-to-br from-green-300 to-green-600 bg-clip-text text-transparent' : 'text-gray-800'}`}>\r\n                <CalendarDaysIcon className=\"w-6 h-6 sm:w-7 sm:h-7 inline-block text-indigo-600 mr-2\" /> Attendance Records\r\n            </h2>\r\n            <div className=\"flex flex-wrap items-center gap-4\">\r\n                <div className=\"relative\">\r\n                   <label htmlFor=\"month-select\" className={`text-sm font-semibold mr-2 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>Select Month:</label>\r\n                    <select \r\n                        id=\"month-select\"\r\n                        value={selectedMonth} \r\n                        onChange={(e) => { \r\n                            setSelectedMonth(e.target.value); \r\n                            setCurrentPage(1); \r\n                        }} \r\n                        className={`border px-3 py-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium transition-colors cursor-pointer \r\n                                   ${theme === 'dark' ? 'bg-gray-700 text-white border-gray-600 hover:border-indigo-500' : 'bg-white text-gray-800 border-gray-300 hover:border-indigo-500'}`}\r\n                    >\r\n                        {MONTHS.map((month) => (\r\n                            <option key={month} value={month}>{month}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <div className=\"relative\">\r\n                    <label htmlFor=\"sort-select\" className={`text-sm font-semibold mr-2 ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>Sort by:</label>\r\n                    <select \r\n                        id=\"sort-select\"\r\n                        value={sortOption} \r\n                        onChange={(e) => { \r\n                            setSortOption(e.target.value); \r\n                            setCurrentPage(1); \r\n                        }} \r\n                        className={`border px-3 py-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium transition-colors cursor-pointer \r\n                                   ${theme === 'dark' ? 'bg-gray-700 text-white border-gray-600 hover:border-indigo-500' : 'bg-white text-gray-800 border-gray-300 hover:border-indigo-500'}`}\r\n                    >\r\n                        {sortOptions.map((option) => <option key={option} value={option}>{option}</option>)}\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div className=\"overflow-x-auto rounded-xl border border-gray-300 shadow-md\"> \r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className={`${theme === 'dark' ? 'bg-gray-700 text-indigo-400' : 'bg-indigo-50 text-indigo-700'}`}>\r\n                    <tr>\r\n                        <th scope=\"col\" className={`px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider`}>\r\n                            <div className=\"flex items-center gap-2\"><CalendarDaysIcon className=\"w-4 h-4 sm:w-5 sm:h-5 text-indigo-500\" /> Date</div>\r\n                        </th>\r\n                        <th scope=\"col\" className={`px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider`}>\r\n                            <div className=\"flex items-center gap-2\"><ClockIcon className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-500\" /> Login Time</div>\r\n                        </th>\r\n                        <th scope=\"col\" className={`px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider`}>\r\n                            <div className=\"flex items-center gap-2\"><ClockIcon className=\"w-4 h-4 sm:w-5 sm:h-5 text-red-500\" /> Logout Time</div>\r\n                        </th>\r\n                        <th scope=\"col\" className={`px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider`}>Login Hours</th>\r\n                        <th scope=\"col\" className={`px-4 py-3 text-left text-xs sm:text-sm font-semibold uppercase tracking-wider`}>Daily Progress</th>\r\n                    </tr>\r\n                </thead>\r\n               <tbody className={`${theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-white text-gray-800'} divide-y divide-gray-200`}>\r\n    <AnimatePresence>\r\n        {paginatedData.length > 0 ? (\r\n            paginatedData\r\n                .filter(entry => entry && entry.date) \r\n                .map((entry, idx) => (\r\n                    <motion.tr\r\n                        key={idx}\r\n                        className={`${theme === 'dark' ? 'hover:bg-gray-600' : 'hover:bg-indigo-50'} transition-colors duration-150`}\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        exit={{ opacity: 0, y: -20 }}\r\n                        transition={{ duration: 0.3, delay: idx * 0.05 }}\r\n                    >\r\n                        <td className={`px-4 py-3 text-sm whitespace-nowrap ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>{entry.date}</td>\r\n                        <td className={`px-4 py-3 text-sm whitespace-nowrap ${theme === 'dark' ? 'text-green-400' : 'text-green-600'}`}>{entry.login_time || <span className=\"text-red-500 font-semibold\">Absent</span>}</td>\r\n                        <td className={`px-4 py-3 text-sm whitespace-nowrap ${theme === 'dark' ? 'text-red-400' : 'text-red-600'}`}>{entry.logout_time || <span className=\"text-red-500 font-semibold\">-</span>}</td>\r\n                        <td className={`px-4 py-3 text-sm whitespace-nowrap ${theme === 'dark' ? 'text-white' : 'text-indigo-700'}`}><span className=\"font-bold\">{entry.login_hours.toFixed(2)}</span> hrs</td>\r\n                        <td className={`px-4 py-3 text-sm whitespace-nowrap ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>\r\n                            <div className=\"relative rounded-full h-4 w-full bg-gray-200 overflow-hidden\">\r\n                                <motion.div\r\n                                    className=\"bg-indigo-400 h-full rounded-full\"\r\n                                    initial={{ width: 0 }}\r\n                                    animate={{ width: entry.barWidth }}\r\n                                    transition={{ duration: 0.8, ease: \"easeOut\" }}\r\n                                />\r\n                                <span className=\"absolute inset-0 flex items-center justify-center text-xs font-semibold text-white\">{entry.login_hours.toFixed(1)}h</span>\r\n                            </div>\r\n                        </td>\r\n                    </motion.tr>\r\n                ))\r\n        ) : (\r\n            <tr><td colSpan=\"5\" className={`px-4 py-3 text-center whitespace-nowrap ${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'} italic`}>No attendance records found for the selected options.</td></tr>\r\n        )}\r\n    </AnimatePresence>\r\n</tbody>\r\n            </table>\r\n        </div>\r\n        \r\n        {/* Pagination Controls (Refined spacing) */}\r\n        <div className=\"mt-6 flex flex-col sm:flex-row items-center justify-between\"> \r\n            <div className=\"flex items-center gap-2 mb-4 sm:mb-0\">\r\n                <span className={`text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>Rows per page:</span>\r\n                <select value={rowsPerPage} onChange={(e) => { setRowsPerPage(Number(e.target.value)); setCurrentPage(1); }} className={`border px-2 py-1 rounded-md text-sm cursor-pointer ${theme === 'dark' ? 'bg-gray-700 text-white border-gray-600' : 'bg-white text-gray-800 border-gray-300'}`}>\r\n                    {rowsPerPageOptions.map((option) => <option key={option} value={option}>{option}</option>)}\r\n                </select>\r\n            </div>\r\n            <nav className=\"flex items-center gap-2\">\r\n                <button onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))} disabled={currentPage === 1} className={`px-4 py-2 text-sm font-medium border rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500 hover:bg-gray-500' : 'bg-white text-gray-800 border-gray-300 hover:bg-gray-100'}`}>Previous</button>\r\n                <span className={`text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>Page {currentPage} of {totalPages}</span>\r\n                <button onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))} disabled={currentPage === totalPages || totalPages === 0} className={`px-4 py-2 text-sm font-medium border rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${theme === 'dark' ? 'bg-gray-600 text-white border-gray-500 hover:bg-gray-500' : 'bg-white text-gray-800 border-gray-300 hover:bg-gray-100'}`}>Next</button>\r\n            </nav>\r\n        </div>\r\n    </section>\r\n</motion.div>\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </main>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AttendancesDashboard;"],"names":["employeeAttendanceData","formatMinutesToHHMM","totalMinutes","hours","Math","floor","minutes","concat","String","padStart","_ref","onBack","leaveType","setLeaveType","useState","sortBy","setSortBy","selectedMonth","setSelectedMonth","theme","useContext","Context","filteredData","useMemo","result","filter","item","month","toLowerCase","leavesTaken","sort","a","b","name","localeCompare","targetMonth","Date","getMonth","toLocaleString","date","currentMonth","totalEmployees","Set","map","employeeId","size","_jsxs","className","children","_jsx","role","onClick","value","onChange","e","target","m","slice","header","length","colSpan","record","index","totalMinutesEffective","effectiveHours","match","parseInt","parseEffectiveHours","breakMinutes","breaks","totalBreakMinutes","forEach","start","startTime","diffMs","endTime","calculateBreakTime","loginTimeDate","loginTime","logoutTimeDate","logoutTime","totalDurationMinutes","totalDurationHHMM","effectiveHoursHHMM","breakDurationHHMM","statusColor","attended","mode","toLocaleTimeString","hour","minute","hour12","timeZone","attendanceId","ChartData","title","ChartCard","icontextcolor","icon","color","motion","div","initial","opacity","y","animate","transition","duration","ease","React","DashboardGrid","EmployeePieChart","chart","colorHandler","BiArchiveOut","BiError","BiCodeBlock","BiSolidCalendarEvent","AiOutlineGift","BiLogIn","ArrowPathIcon","piechartData","COLORS","reduce","sum","entry","textColor","PieChart","width","height","Pie","data","dataKey","nameKey","cx","cy","innerRadius","outerRadius","Cell","fill","x","textAnchor","dominantBaseline","stroke","Tooltip","employees","department","status","time","Arrival","details","clockIn","clockOut","production","lateTime","departments","timeframes","classNames","_len","arguments","classes","Array","_key","Boolean","join","ClockInOut","selectedDepartment","setSelectedDepartment","selectedTimeframe","setSelectedTimeframe","scale","delay","ClockIcon","Menu","as","MenuButton","ChevronDownIcon","Transition","Fragment","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","MenuItems","MenuItem","_ref2","active","href","timeframe","_ref3","AnimatePresence","employee","exit","img","src","alt","whileHover","onTimeDate","Month","Year","NoofEmployee","EmployeeBarChart","formattedData","ResponsiveContainer","BarChart","margin","top","right","left","bottom","XAxis","tick","YAxis","hide","contentStyle","backgroundColor","border","Bar","overTimeworkDate","Hour","EmployeeOvertimeChart","chartType","setChartType","yAxisDataKey","yAxisLabel","handleChartChange","type","label","angle","position","barSize","AttendanceTable","sortOption","setSortOption","rowsPerPage","setRowsPerPage","currentPage","setCurrentPage","rowsPerPageOptions","MONTHS","rawTableData","setRawTableData","stored","localStorage","getItem","JSON","parse","useEffect","async","today","day","getDate","year","getFullYear","apiUrl","response","fetch","json","records","isArray","content","setItem","stringify","error","console","fetchAttendanceData","calculateHours","login","logout","loginDate","diff","finalAttendanceData","selectedMonthIndex","indexOf","lastMonth","setMonth","last7Days","setDate","_objectSpread","login_hours","login_time","logout_time","barWidth","totalPages","ceil","paginatedData","totalCount","CalendarDaysIcon","htmlFor","id","option","scope","idx","tr","employee_id","toFixed","Number","prev","max","disabled","min","_ref5","PIE_COLORS","BAR_COLORS","Calendar","props","xmlns","viewBox","strokeWidth","strokeLinecap","strokeLinejoin","rx","ry","x1","y1","x2","y2","Clock","r","points","CheckCircle","d","AlertTriangle","ChevronLeft","ChevronRight","Edit","X","ATTENDANCE_DATA","effectiveHour","isPresent","holiday","DAYS_OF_WEEK","toIsoDate","dateString","parts","split","toStandardDate","isoDateString","DayDetailsModal","dayData","eventsOnThisDay","onClose","attendance","displayAttendance","event","description","startDate","endDate","App","currentDate","setCurrentDate","events","setEvents","selectedDateForForm","setSelectedDateForForm","end","showEventForm","setShowEventForm","showEventsList","setShowEventsList","showDayDetails","setShowDayDetails","isEditing","setIsEditing","currentYear","calendarDays","totalDays","firstDay","getFirstDayOfMonth","getDay","days","i","push","key","find","changeMonth","useCallback","amount","prevDate","handleFormSubmit","preventDefault","newEvent","prevEvents","reset","EventFormModal","onSubmit","required","defaultValue","placeholder","rows","EventListModal","currentMonthEvents","eventStart","reverse","eventEnd","targetMonthStart","DayBox","isToday","toLocaleDateString","replace","current","setHours","hasEvents","statusIcon","AttendanceHover","handleDayClick","start_date","end_date","formatClockTime","getHours","getMinutes","seconds","getSeconds","MyComponent","_ref8","Data","selectedMetricDate","hoveredHour","setHoveredHour","getHourValue","timeString","startHour","startMinute","endHour","endMinute","formatDuration","totalSeconds","trim","calculateMetrics","End_time","Start_time","totalWorkingSeconds","breakSeconds","Break_hour","Time","productiveSeconds","overtimeSeconds","totalWorkingHours","productiveHours","breakHours","overtime","scaleHour","renderScheduleBar","timePoints","add","sortedTimes","from","formatTimelineTime","timeStr","period","calculateDuration","allHours","h","scaleX","style","transformOrigin","leftPosition","widthPercentage","colorClass","onMouseEnter","onMouseLeave","scaleY","transform","span","stiffness","_ref9","_userData$roles","currentUser","empID","useParams","userData","roles","toUpperCase","isSidebarOpen","setIsSidebarOpen","sidebarView","setSidebarView","showAttendanceReports","setShowAttendanceReports","showMainDashboard","setShowMainDashboard","showSidebar","includes","selectedDate","setSelectedDate","setSelectedMetricDate","isMobile","useMediaQuery","isLoggedIn","setIsLoggedIn","setStartTime","setEndTime","setMode","currentTime","setCurrentTime","grossHours","setGrossHours","setEffectiveHours","showModeConfirm","setShowModeConfirm","isLogoutConfirmed","setIsLogoutConfirmed","isLoading","setIsLoading","loggedInUserProfile","setLoggedInUserProfile","image","initials","intervalRef","useRef","clockTimerRef","loggedPermissiondata","setLoggedPermissionData","matchedArray","setMatchedArray","LoggedUserRole","authApi","get","log","fetchedData","permissions","hasAccess","setHasAccess","barChartData","setBarChartData","rawPieData","setRawPieData","dates","setDates","setData","cardData","setCardData","startIndex","setStartIndex","ATTENDANCE_ID_STORAGE_KEY","CLOCKIN_TIME_STORAGE_KEY","profileData","setProfileData","shift","onTime","avgWorkingHours","grossTimeDay","effectiveTimeDay","updateProfileField","field","url","dashboardApi","currentAttendanceId","setCurrentAttendanceId","storedAttendanceId","then","formatted","Work_Hours","working_hour","Break_Hours","break_hour","catch","Working_hour","EmployeeId","start_time","end_time","userPayload","userImage","displayName","word","substring","savedClockIn","clearInterval","setInterval","diffInSeconds","handleVisibilityChange","document","visibilityState","method","headers","handleConnect","addEventListener","handleBeforeUnload","handleDisconnect","window","removeEventListener","ATTENDANCE_RECORDS_KEY","formatHours","s","grossHoursFormatted","effectiveHoursFormatted","filteredPieData","dataToProcess","row","filteredBarChartData","IoPersonOutline","button","h3","handleShowAttendance","whileTap","LiaFileAlt","handleShowAttendanceReport","ChartBarIcon","h1","AttendanceReports","damping","FaBuilding","FaHome","fullName","handleRefresh","currentState","setTimeout","svg","rotate","handleModeChange","newMode","p","undefined","weekday","_Fragment","now","clockOutData","clock_out_time","toISOString","body","ok","errorText","text","alert","removeItem","lastIndex","lastRecord","loginHours","updatedRecord","handleCancel","handleLogout","handleLogin","newRecord","Error","attendanceIdFromResponse","warn","section","ChartPieIcon","pieItem","barItem","dataItem","dateToSet","_ref0","percent","paddingAngle","formatter","Legend","iconType","wrapperStyle","paddingTop","axisLine","tickLine","padding","tickFormatter","allowDecimals","cursor","stackId"],"sourceRoot":""}