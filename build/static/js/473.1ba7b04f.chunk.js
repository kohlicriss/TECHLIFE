"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[473,880],{4880:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var s=a(5043),r=a(1357),l=a(7234),n=a(6446),o=a(5200),d=a(2397),i=a(579);const c=e=>{if(!e)return"";const t=e.split(" ");return t.length>1?(t[0][0]+t[t.length-1][0]).toUpperCase():t[0][0].toUpperCase()},m=e=>{let{icon:t,label:a,value:s,isMail:r=!1,theme:l}=e;return(0,i.jsxs)(n.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.4},className:"flex items-start space-x-3 sm:space-x-4",children:[(0,i.jsx)("div",{className:"mt-1 text-base sm:text-lg flex-shrink-0 ".concat("dark"===l?"text-gray-400":"text-gray-600"),children:t}),(0,i.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,i.jsx)("p",{className:"text-xs uppercase break-words ".concat("dark"===l?"text-gray-400":"text-gray-500"),children:a}),r?(0,i.jsx)("a",{href:"mailto:".concat(s),className:"font-semibold text-sm sm:text-base transition-colors break-words ".concat("dark"===l?"text-white hover:text-red-400":"text-gray-900 hover:text-red-500"),children:s||"N/A"}):(0,i.jsx)("p",{className:"font-semibold text-sm sm:text-base break-words ".concat("dark"===l?"text-white":"text-gray-900"),children:s||"N/A"})]})]})},x=()=>{var e,t;const{empID:a,employeeID:x}=(0,r.g)(),p=(0,r.Zp)(),{theme:u}=(0,s.useContext)(l.ob),[h,g]=(0,s.useState)(null),[y,b]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{if(!x)return void b(!1);(async()=>{b(!0);try{let e=await d.yE.get("employee/public/".concat(x,"/details"));console.log("Employee details:",e.data),g(e.data)}catch(e){console.error("Failed to fetch employee details:",e),g(null)}finally{b(!1)}})()},[x]),y?(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4 ".concat("dark"===u?"bg-gray-900":"bg-white"),children:(0,i.jsx)("p",{className:"text-base sm:text-lg md:text-xl font-mono animate-pulse text-center ".concat("dark"===u?"text-white":"text-gray-800"),children:"LOADING..."})}):h?(0,i.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen font-sans px-0 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8 ".concat("dark"===u?"bg-gray-900 text-white":"bg-white text-gray-900"),children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,i.jsxs)(n.P.button,{onClick:()=>p(-1),className:"mb-6 sm:mb-8 inline-flex items-center cursor-pointer transition-colors px-4 sm:px-0 text-sm sm:text-base ".concat("dark"===u?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"),whileHover:{x:-10},children:[(0,i.jsx)(o.kRp,{className:"mr-2 w-4 h-4 sm:w-5 sm:h-5"})," BACK"]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 md:gap-12",children:[(0,i.jsxs)("div",{className:"col-span-1 border-b-2 md:border-b-0 md:border-r-2 pb-6 md:pb-0 md:pr-8 lg:pr-12 ".concat("dark"===u?"border-gray-600":"border-gray-300"),children:[(0,i.jsx)(n.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"w-32 h-32 sm:w-36 sm:h-36 md:w-40 md:h-40 rounded-full overflow-hidden mx-auto md:mx-0 mb-4 sm:mb-6 border-4 ".concat("dark"===u?"border-white":"border-gray-900"),children:h.employeeImage?(0,i.jsx)("img",{src:h.employeeImage,alt:"".concat(h.displayName||h.name,"'s profile picture"),className:"w-full h-full object-cover"}):(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center text-2xl sm:text-3xl md:text-4xl font-bold ".concat("dark"===u?"bg-gray-700 text-white":"bg-gray-200 text-gray-900"),children:c(h.displayName||h.name)})}),(0,i.jsxs)(n.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},className:"px-4 md:px-0",children:[(0,i.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold text-center md:text-left break-words ".concat("dark"===u?"text-white":"text-gray-900"),children:h.displayName||h.name||"N/A"}),(0,i.jsx)("p",{className:"text-base sm:text-lg font-medium text-red-500 text-center md:text-left mt-2 break-words",children:h.jobTitlePrimary||"N/A"})]})]}),(0,i.jsxs)("div",{className:"col-span-1 md:col-span-2 px-4 md:px-0",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 sm:gap-8",children:[(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,i.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-4 ".concat("dark"===u?"text-white":"text-gray-900"),children:"DETAILS"}),(0,i.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,i.jsx)(m,{icon:(0,i.jsx)(o.Qz2,{}),label:"Employee ID",value:h.employeeId,theme:u}),(0,i.jsx)(m,{icon:(0,i.jsx)(o.qYx,{}),label:"Department",value:h.departmentId,theme:u}),(0,i.jsx)(m,{icon:(0,i.jsx)(o.HzC,{}),label:"Location",value:h.location,theme:u})]})]}),(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[(0,i.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-4 ".concat("dark"===u?"text-white":"text-gray-900"),children:"CONTACT"}),(0,i.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,i.jsx)(m,{icon:(0,i.jsx)(o.pHD,{}),label:"Email",value:h.workEmail,isMail:!0,theme:u}),(0,i.jsx)(m,{icon:(0,i.jsx)(o.QFc,{}),label:"Contact",value:h.contact,theme:u})]})]})]}),(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mt-8 sm:mt-12 pt-6 sm:pt-8 border-t-2 ".concat("dark"===u?"border-gray-600":"border-gray-300"),children:[(0,i.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-4 sm:mb-6 ".concat("dark"===u?"text-white":"text-gray-900"),children:"ACHIEVEMENTS"}),(0,i.jsx)("div",{className:"space-y-4 sm:space-y-6 max-h-80 sm:max-h-96 overflow-y-auto pr-2",children:(null===(e=h.achievements)||void 0===e?void 0:e.length)>0?h.achievements.map((e,t)=>(0,i.jsxs)(n.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"border-2 p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 rounded-lg ".concat("dark"===u?"border-gray-600":"border-gray-300"),children:[(0,i.jsx)(o.TPq,{className:"text-lg sm:text-xl text-yellow-500 flex-shrink-0"}),(0,i.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,i.jsx)("h3",{className:"text-base sm:text-lg font-bold break-words ".concat("dark"===u?"text-white":"text-gray-900"),children:e.certificationName||"N/A"}),(0,i.jsxs)("p",{className:"mt-1 text-xs sm:text-sm break-words ".concat("dark"===u?"text-gray-300":"text-gray-600"),children:[(0,i.jsx)("span",{className:"font-semibold",children:"Issuing Authority:"})," ",e.issuingAuthorityName||"N/A"]})]})]},t)):(0,i.jsx)("p",{className:"italic text-sm sm:text-base ".concat("dark"===u?"text-gray-400":"text-gray-500"),children:"No achievements available"})})]}),(0,i.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mt-8 sm:mt-12 pt-6 sm:pt-8 border-t-2 ".concat("dark"===u?"border-gray-600":"border-gray-300"),children:[(0,i.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold mb-4 sm:mb-6 ".concat("dark"===u?"text-white":"text-gray-900"),children:"PROJECTS"}),(0,i.jsx)("div",{className:"space-y-4 sm:space-y-6 max-h-80 sm:max-h-96 overflow-y-auto pr-2",children:(null===(t=h.projects)||void 0===t?void 0:t.length)>0?h.projects.map((e,t)=>(0,i.jsxs)(n.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"border-2 p-3 sm:p-4 rounded-lg ".concat("dark"===u?"border-gray-600":"border-gray-300"),children:[(0,i.jsx)("h3",{className:"text-base sm:text-lg font-bold break-words ".concat("dark"===u?"text-white":"text-gray-900"),children:e.projectName||"N/A"}),(0,i.jsx)("p",{className:"mt-2 text-xs sm:text-sm break-words ".concat("dark"===u?"text-gray-300":"text-gray-600"),children:e.projectDescription||"N/A"})]},t)):(0,i.jsx)("p",{className:"italic text-sm sm:text-base ".concat("dark"===u?"text-gray-400":"text-gray-500"),children:"No projects available"})})]})]})]})]})}):(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-8 ".concat("dark"===u?"bg-gray-900":"bg-white"),children:(0,i.jsxs)("div",{className:"text-center max-w-sm sm:max-w-md",children:[(0,i.jsx)("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold font-mono mb-4 break-words ".concat("dark"===u?"text-white":"text-gray-900"),children:"EMPLOYEE NOT FOUND"}),(0,i.jsx)("p",{className:"mb-4 sm:mb-6 font-mono text-sm sm:text-base break-words ".concat("dark"===u?"text-gray-300":"text-gray-600"),children:"Data unavailable for this employee ID."}),(0,i.jsxs)("button",{onClick:()=>p(-1),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 sm:px-6 py-2 sm:py-3 border-2 text-sm sm:text-base font-bold font-mono transition-colors rounded-lg ".concat("dark"===u?"border-white text-white hover:bg-white hover:text-gray-900":"border-gray-900 text-gray-900 hover:bg-gray-900 hover:text-white"),children:[(0,i.jsx)(o.kRp,{className:"mr-2 w-4 h-4 sm:w-5 sm:h-5"})," BACK TO DIRECTORY"]})]})})}},5473:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(5043),r=a(1357),l=a(9379),n=a(7234),o=a(2397),d=a(5394),i=a(579);const c=e=>{let{children:t,onClose:a,title:s,type:r,theme:l}=e,n="",o=null;return"success"===r?(n="text-green-600",o=(0,i.jsx)(d.G3G,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-500"})):"error"===r?(n="text-red-600",o=(0,i.jsx)(d.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-500"})):"confirm"===r?(n="text-yellow-600",o=(0,i.jsx)(d.tr_,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500"})):"default"===r&&(n="dark"===l?"text-white":"text-gray-900",o=(0,i.jsx)(d.tEG,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-500"})),(0,i.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 sm:p-6 z-[1000]",children:(0,i.jsx)("div",{className:"w-full max-w-md rounded-2xl sm:rounded-3xl shadow-2xl ".concat("dark"===l?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"),children:(0,i.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 mb-4 sm:mb-6",children:[o&&(0,i.jsx)("span",{className:"mr-2 sm:mr-3",children:o}),(0,i.jsx)("h3",{className:"text-lg sm:text-xl font-bold ".concat(n," ").concat("dark"===l?"text-white":"text-gray-800"),children:s}),a&&(0,i.jsx)("button",{onClick:a,className:"ml-auto p-1 rounded-full ".concat("dark"===l?"text-gray-400 hover:bg-gray-700":"text-gray-500 hover:bg-gray-100"),children:(0,i.jsx)(d.$8F,{className:"w-5 h-5"})})]}),(0,i.jsx)("div",{className:"space-y-4 sm:space-y-6",children:t})]})})})},m=e=>{let{name:t,label:a,type:s="text",required:r=!1,hint:l,placeholder:n,value:o,onChange:c,onBlur:m,isError:x,options:p=[],multiple:u=!1,accept:h,theme:g,maxLength:y,disabled:b=!1}=e;const f=null===o||void 0===o?"":o,N="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ".concat(x?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===g?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white"," disabled:bg-gray-100 dark:disabled:bg-gray-700 dark:disabled:text-gray-400 disabled:cursor-not-allowed"),w="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl resize-none h-24 sm:h-32 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ".concat(x?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===g?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white"," disabled:bg-gray-100 dark:disabled:bg-gray-700 dark:disabled:text-gray-400 disabled:cursor-not-allowed"),j="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl appearance-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ".concat(x?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===g?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white"," disabled:bg-gray-100 dark:disabled:bg-gray-700 dark:disabled:text-gray-400 disabled:cursor-not-allowed");return(0,i.jsxs)("div",{className:"group relative",children:[(0,i.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ".concat("dark"===g?"text-gray-200":"text-gray-800"),children:[a,r&&(0,i.jsx)("span",{className:"text-red-500 ml-1 text-sm sm:text-base",children:"*"})]}),l&&(0,i.jsx)("p",{className:"text-xs mb-2 ".concat("dark"===g?"text-gray-400":"text-gray-500"),children:l}),"select"===s?(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("select",{name:t,value:f,onChange:c,onBlur:m,className:j,required:r,disabled:b,children:[(0,i.jsxs)("option",{value:"",children:["Select ",a.toLowerCase()]}),p.map((e,t)=>(0,i.jsx)("option",{value:e.value||e,children:e.label||e},t))]}),(0,i.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none ".concat("dark"===g?"text-gray-400":"text-gray-500"),children:(0,i.jsx)("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]}):"textarea"===s?(0,i.jsx)("textarea",{name:t,value:f,onChange:c,onBlur:m,placeholder:n,className:w,required:r,rows:4,maxLength:y,disabled:b}):"file"===s?(0,i.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg sm:rounded-xl ".concat(x?"border-red-300 bg-red-50":"dark"===g?"border-gray-600 bg-gray-800":"border-gray-300 bg-gray-50"," ").concat(b?"cursor-not-allowed opacity-60":"cursor-pointer"),children:[(0,i.jsx)("input",{type:"file",name:t,accept:h,multiple:u,onChange:c,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",disabled:b}),(0,i.jsxs)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center",children:[(0,i.jsx)(d.xvb,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 mb-3 sm:mb-4 ".concat("dark"===g?"text-gray-500":"text-gray-400")}),(0,i.jsxs)("p",{className:"text-xs sm:text-sm font-medium mb-1 ".concat("dark"===g?"text-gray-300":"text-gray-600"),children:["Drop your file here, or"," ",(0,i.jsx)("span",{className:"text-blue-600",children:"browse"})]}),(0,i.jsx)("p",{className:"text-xs ".concat("dark"===g?"text-gray-500":"text-gray-400"),children:h||"All file types supported"})]})]}):(0,i.jsx)("input",{type:s,name:t,value:f,onChange:c,onBlur:m,placeholder:n,className:N,required:r,maxLength:y,disabled:b}),x&&(0,i.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600",children:[(0,i.jsx)(d.tr_,{className:"w-4 h-4 flex-shrink-0"}),(0,i.jsx)("p",{className:"text-xs sm:text-sm font-medium",children:x})]})]},t)},x=[{label:"Full Name",name:"fullName",type:"text",required:!0,hint:"Enter the full name for the user account."},{label:"Username",name:"username",type:"text",required:!0,hint:"Must start with 'ACS' and match Employee ID (8-30 chars).",maxLength:30},{label:"Password",name:"password",type:"password",required:!0,hint:"Temporary password (8-30 characters).",maxLength:30},{label:"Role",name:"role",type:"select",required:!0,options:["ROLE_HR","ROLE_MANAGER","ROLE_EMPLOYEE","ROLE_ADMIN","ROLE_TEAM_LEAD"],hint:"Select the role for the user account."},{label:"Email",name:"email",type:"email",required:!0,hint:"Employee email address."},{label:"Phone Number",name:"phoneNumber",type:"text",required:!1,hint:"Contact phone number."}],p=[{label:"Employee ID",name:"employeeId",type:"text",required:!0,hint:"Must start with 'ACS' and match Username (8-30 chars).",maxLength:30},{label:"First Name",name:"firstName",type:"text",required:!0,hint:"Enter employee's first name."},{label:"Display Name",name:"displayName",type:"text",required:!1,hint:"Name to display in the system (optional)."},{label:"Marital Status",name:"maritalStatus",type:"select",required:!0,options:["Single","Married","Divorced","Widowed"],hint:"Select employee's marital status."},{label:"Department ID",name:"departmentId",type:"department-dropdown",required:!0,hint:"Select department from the list."},{label:"Employee Role",name:"employeeRole",type:"text",required:!1,disabled:!0,hint:"This is set automatically from the User Credentials role."}],u=[{label:"Employee Name",name:"empNameDisplay",type:"text",required:!0,disabled:!0,hint:"Auto-filled from Employee Form."},{label:"Employee ID",name:"employeeIdDisplay",type:"text",required:!0,disabled:!0,hint:"Auto-filled from Employee Form."},{label:"Email",name:"email",type:"email",required:!0,disabled:!0,hint:"Employee email address."},{label:"Phone Number",name:"phoneNumber",type:"text",required:!1,disabled:!0,hint:"Contact phone number."},{label:"Annual Salary",name:"annualSalary",type:"number",required:!0,hint:"Annual salary amount."},{label:"Stipend",name:"stipend",type:"number",required:!1,hint:"Monthly stipend amount (Required for Interns)."},{label:"Account Number",name:"accountNumber",type:"text",required:!0,hint:"Bank account number."},{label:"IFSC Code",name:"ifsccode",type:"text",required:!0,hint:"IFSC code for bank."},{label:"Bank Name",name:"bankName",type:"text",required:!0,hint:"Name of the bank."},{label:"PF Number",name:"pfnum",type:"text",required:!1,hint:"Provident Fund number."},{label:"PAN Number",name:"panNumber",type:"text",required:!0,hint:"Permanent Account Number."},{label:"Aadhar Number",name:"aadharNumber",type:"text",required:!0,hint:"Aadhar ID number."},{label:"UAN Number",name:"uanNumber",type:"text",required:!1,hint:"Universal Account Number."},{label:"Department",name:"department",type:"department-dropdown",required:!0,hint:"Select department from the list."},{label:"Designation",name:"designation",type:"text",required:!0,hint:"Job designation."},{label:"Job Type",name:"jobType",type:"select",required:!0,options:["Full-time","Part-time","Contract","Intern"],hint:"Select job type."},{label:"Level",name:"level",type:"select",required:!0,options:["Senior","Junior","Mid-Level","Lead","Manager"],hint:"Select job level."},{label:"Start Date",name:"startDate",type:"date",required:!0,hint:"Employment start date."}],h=[{label:"Employee ID",name:"employeeIdDisplay4",type:"text",required:!0,disabled:!0,hint:"Auto-filled."},{label:"Shift Name",name:"shiftName",type:"shift-dropdown",required:!0,hint:"Select the employee's shift."},{label:"Month",name:"month",type:"number",required:!0,hint:"1 (Jan) to 12 (Dec).",min:1,max:12},{label:"Year",name:"year",type:"number",required:!0,hint:"E.g., 2024.",min:2020},{label:"Paid Leaves",name:"paid",type:"number",required:!0,hint:"Total paid leave days.",min:0},{label:"Sick Leaves",name:"sick",type:"number",required:!0,hint:"Total sick leave days.",min:0},{label:"Casual Leaves",name:"casual",type:"number",required:!0,hint:"Total casual leave days.",min:0},{label:"Unpaid Leaves",name:"unpaid",type:"number",required:!0,hint:"Total unpaid leave days.",min:0},{name:"latitude",type:"text",label:"Latitude",required:!0,disabled:!0,hint:"Auto-filled from location."},{name:"longitude",type:"text",label:"Longitude",required:!0,disabled:!0,hint:"Auto-filled from location."},{name:"timezone",type:"text",label:"Timezone",required:!0,disabled:!0,hint:"Auto-filled ('Asia/Kolkata')."}],g=e=>{if(!e)return"";const t=e.split(" ");return t.length>1?(t[0][0]+t[t.length-1][0]).toUpperCase():t[0][0].toUpperCase()},y=e=>{let{value:t,onChange:a,theme:r,isError:l,hint:n,name:c}=e;const[m,x]=(0,s.useState)(!1),[p,u]=(0,s.useState)([]),[h,g]=(0,s.useState)(!1),[y,b]=(0,s.useState)(!0),[f,N]=(0,s.useState)(0),[w,j]=(0,s.useState)(""),v=(0,s.useRef)(null),k=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!h&&(y||t)){g(!0);try{const a=(await o.yE.get("employee/".concat(e,"/").concat(10,"/departmentId/asc/all/departments"))).data.content||[];u(e=>t?a:[...e,...a]),N(e),b(10===a.length)}catch(a){console.error("Error fetching departments:",a)}finally{g(!1)}}},[h,y]);(0,s.useEffect)(()=>{m&&0===p.length&&k(0,!0)},[m,k,p.length]);const E=p.filter(e=>{if(!w)return!0;const t=w.toLowerCase();return e.departmentId.toLowerCase().includes(t)||e.departmentName.toLowerCase().includes(t)});(0,s.useEffect)(()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return(0,i.jsxs)("div",{className:"group relative",ref:v,children:[(0,i.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ".concat("dark"===r?"text-gray-200":"text-gray-800"),children:["Department",(0,i.jsx)("span",{className:"text-red-500 ml-1 text-sm sm:text-base",children:"*"})]}),n&&(0,i.jsx)("p",{className:"text-xs mb-2 ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:n}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("button",{type:"button",onClick:()=>x(!m),className:"w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl text-left focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\n                        ".concat(l?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===r?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white"),children:(0,i.jsx)("span",{className:t?"":"text-gray-500",children:(()=>{if(!t)return"Choose Department ID";const e=p.find(e=>e.departmentId===t);return e?"".concat(e.departmentId,"(").concat(e.departmentName,")"):t})()})}),(0,i.jsx)("div",{className:"absolute right-4 sm:right-5 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,i.jsx)(d.EUj,{className:"w-4 h-4 sm:w-5 sm:h-5 ".concat(m?"rotate-180":""," ").concat("text-gray-400")})}),m&&(0,i.jsxs)("div",{className:"absolute z-50 w-full mt-1 border rounded-lg sm:rounded-xl shadow-lg max-h-64 ".concat("dark"===r?"bg-gray-700 border-gray-600":"bg-white border-gray-300"),children:[(0,i.jsx)("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(d.ZYA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ".concat("dark"===r?"text-gray-400":"text-gray-500")}),(0,i.jsx)("input",{type:"text",placeholder:"Search departments...",value:w,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ".concat("dark"===r?"bg-gray-600 border-gray-500 text-white placeholder-gray-400":"bg-gray-50 border-gray-300 text-gray-800 placeholder-gray-500")})]})}),(0,i.jsxs)("div",{className:"overflow-y-auto max-h-48",onScroll:e=>{const{scrollTop:t,scrollHeight:a,clientHeight:s}=e.target;a-t<=s+50&&y&&!h&&k(f+1)},children:[E.length>0?E.map((e,s)=>(0,i.jsx)("button",{type:"button",onClick:()=>{a(e.departmentId,c),x(!1)},className:"w-full px-4 py-3 text-left text-sm ".concat(t===e.departmentId?"dark"===r?"bg-blue-700 text-white":"bg-blue-100 text-blue-800":"dark"===r?"text-gray-200":"text-gray-800"),children:(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("span",{className:"font-semibold",children:[e.departmentId,"(",e.departmentName,")"]}),(0,i.jsx)("span",{className:"text-xs mt-1 ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:e.departmentDescription})]})},"".concat(e.departmentId,"-").concat(s))):h?null:(0,i.jsx)("div",{className:"px-4 py-8 text-center text-sm ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:w?"No departments found matching your search.":"No departments available."}),h&&(0,i.jsxs)("div",{className:"flex justify-center items-center py-4",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,i.jsx)("span",{className:"ml-2 text-sm ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:"Loading departments..."})]}),!y&&p.length>0&&(0,i.jsxs)("div",{className:"text-center py-2 text-xs text-gray-500 dark:text-gray-500",children:["\u2014 End of results (",p.length," departments) \u2014"]})]})]})]}),l&&(0,i.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600",children:[(0,i.jsx)(d.tr_,{className:"w-4 h-4 flex-shrink-0"}),(0,i.jsx)("p",{className:"text-xs sm:text-sm font-medium",children:l})]})]})},b=e=>{let{value:t,onChange:a,theme:r,isError:l,hint:n,name:c}=e;const[m,x]=(0,s.useState)(!1),[p,u]=(0,s.useState)([]),[h,g]=(0,s.useState)(!1),y=(0,s.useRef)(null),b=(0,s.useCallback)(async()=>{g(!0);try{const e=((await o.Gt.get("/shifts")).data||[]).map(e=>e.name);u(e)}catch(e){console.error("Error fetching shifts:",e)}finally{g(!1)}},[]);(0,s.useEffect)(()=>{m&&0===p.length&&b()},[m,p.length,b]),(0,s.useEffect)(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return(0,i.jsxs)("div",{className:"group relative",ref:y,children:[(0,i.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold mb-2 sm:mb-3 flex items-center ".concat("dark"===r?"text-gray-200":"text-gray-800"),children:["Shift Name",(0,i.jsx)("span",{className:"text-red-500 ml-1 text-sm sm:text-base",children:"*"})]}),n&&(0,i.jsx)("p",{className:"text-xs mb-2 ".concat("dark"===r?"text-gray-400":"text-gray-500"),children:n}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("button",{type:"button",onClick:()=>x(!m),disabled:h,className:"w-full px-4 sm:px-5 py-3 sm:py-4 border-2 rounded-lg sm:rounded-xl text-left focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\n                        ".concat(l?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":"dark"===r?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white"," ").concat(h?"opacity-70":""),children:(0,i.jsx)("span",{className:t?"":"text-gray-500",children:h?"Loading Shifts...":t||"Select Shift"})}),(0,i.jsx)("div",{className:"absolute right-4 sm:right-5 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,i.jsx)(d.EUj,{className:"w-4 h-4 sm:w-5 sm:h-5 ".concat(m?"rotate-180":""," ").concat("text-gray-400")})}),m&&(0,i.jsx)("div",{className:"absolute z-50 w-full mt-1 border rounded-lg sm:rounded-xl shadow-lg max-h-64 overflow-y-auto ".concat("dark"===r?"bg-gray-700 border-gray-600":"bg-white border-gray-300"),children:p.length>0?p.map((e,s)=>(0,i.jsx)("button",{type:"button",onClick:()=>{a({target:{name:c,value:e}}),x(!1)},className:"w-full px-4 py-3 text-left text-sm ".concat(t===e?"dark"===r?"bg-blue-700 text-white":"bg-blue-100 text-blue-800":"dark"===r?"text-gray-200":"text-gray-800"),children:e},s)):h?(0,i.jsx)("div",{className:"flex justify-center items-center py-4",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})}):(0,i.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No shifts found."})})]}),l&&(0,i.jsxs)("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-red-600",children:[(0,i.jsx)(d.tr_,{className:"w-4 h-4 flex-shrink-0"}),(0,i.jsx)("p",{className:"text-xs sm:text-sm font-medium",children:l})]})]})};const f=function(){var e,t,a;const f=(0,r.Zp)(),[N,w]=(0,s.useState)(null),[j,v]=(0,s.useState)([]),[k,E]=(0,s.useState)(!0),[I,A]=(0,s.useState)("grid"),{userprofiledata:C,theme:S,userData:D}=(0,s.useContext)(n.ob),{empID:L}=(0,r.g)(),[P,q]=(0,s.useState)(""),[T,F]=(0,s.useState)({}),[O,M]=(0,s.useState)([]),[_,z]=(0,s.useState)(null),R=null!==D&&void 0!==D&&D.roles[0]?"ROLE_".concat(null===D||void 0===D?void 0:D.roles[0]):null,[U,Z]=(0,s.useState)(null),[Y,B]=(0,s.useState)({visible:!1,x:0,y:0,employee:null}),[G,W]=(0,s.useState)(!1),[$,J]=(0,s.useState)(!1),[H,K]=(0,s.useState)(""),[V,Q]=(0,s.useState)(""),[X,ee]=(0,s.useState)(1),te=(0,s.useCallback)(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude;re(e=>(0,l.A)((0,l.A)({},e),{},{latitude:String(t),longitude:String(a),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Kolkata"}))},e=>{console.error("Geolocation error:",e),re(e=>(0,l.A)((0,l.A)({},e),{},{latitude:"0",longitude:"0"}))}):(console.error("Geolocation is not supported by this browser."),re(e=>(0,l.A)((0,l.A)({},e),{},{latitude:"0",longitude:"0"})))},[]),ae={fullName:"",username:"",password:"",role:"",email:"",phoneNumber:"",employeeId:"",firstName:"",displayName:"",maritalStatus:"",departmentId:"",employeeRole:"",empNameDisplay:"",employeeIdDisplay:"",annualSalary:"",stipend:"",accountNumber:"",ifsccode:"",bankName:"",pfnum:"",panNumber:"",aadharNumber:"",uanNumber:"",department:"",designation:"",jobType:"",level:"",startDate:"",empName:"",employeeIdDisplay4:"",month:(new Date).getMonth()+1,year:(new Date).getFullYear(),paid:0,sick:0,casual:0,unpaid:0,shiftName:"",latitude:"0",longitude:"0",timezone:"Asia/Kolkata"},[se,re]=(0,s.useState)(ae),[le,ne]=(0,s.useState)({}),[oe,de]=(0,s.useState)({show:!1,message:"",type:""}),[ie,ce]=(0,s.useState)({show:!1,employee:null}),[me,xe]=(0,s.useState)(0),[pe,ue]=(0,s.useState)(15),[he,ge]=(0,s.useState)("employeeId"),[ye,be]=(0,s.useState)("asc"),[fe,Ne]=(0,s.useState)(!1),[we,je]=(0,s.useState)([]),[ve,ke]=(0,s.useState)(!1),[Ee,Ie]=(0,s.useState)(!0),[Ae,Ce]=(0,s.useState)(0),Se=(0,s.useRef)(null),[De,Le]=(0,s.useState)([]),Pe=null===D||void 0===D||null===(e=D.roles)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase();["ADMIN","MANAGER","HR"].includes(Pe),(0,s.useEffect)(()=>{G&&te()},[G,te]),(0,s.useEffect)(()=>{(async()=>{try{let e=await o.ZQ.get("role-access/".concat(R));M(e.data)}catch(e){console.error("Error fetching role access data:",e)}})()},[R]),(0,s.useEffect)(()=>{O&&z(null===O||void 0===O?void 0:O.permissions)},[O]),(0,s.useEffect)(()=>{Le(null===D||void 0===D?void 0:D.permissions)},[D]),(0,s.useEffect)(()=>{const e=()=>{Y.visible&&B((0,l.A)((0,l.A)({},Y),{},{visible:!1})),U&&Z(null)};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[Y,U]);const qe=async e=>{e&&(f("/chat/".concat(L,"/with?id=").concat(e.employeeId),{state:{newChatTarget:{chatId:e.employeeId,name:e.displayName,profile:e.employeeImage,type:"private",isOnline:null,lastMessage:"",unreadMessageCount:0}}}),Y.visible&&B((0,l.A)((0,l.A)({},Y),{},{visible:!1})),U&&Z(null))},Te=e=>{e&&(f("/employees/".concat(L,"/public/").concat(e.employeeId)),B((0,l.A)((0,l.A)({},Y),{},{visible:!1})),Z(null))},Fe=e=>{e&&(f("/profile/".concat(L,"/documents?fromContextMenu=true&targetEmployeeId=").concat(e.employeeId)),B((0,l.A)((0,l.A)({},Y),{},{visible:!1})),Z(null))},Oe=e=>{ce({show:!0,employee:e})},Me=(0,s.useCallback)(async()=>{try{E(!0);const e=await o.yE.get("employee/".concat(me,"/").concat(pe,"/").concat(he,"/").concat(ye,"/employees"));w(e.data.content)}catch(e){console.error("Error fetching employees:",e)}finally{E(!1)}},[me,pe,he,ye]);(0,s.useEffect)(()=>{Me()},[Me]),(0,s.useEffect)(()=>{if(N){const e=[...new Set(N.map(e=>e.jobTitlePrimary).filter(Boolean))],t=[...new Set(N.map(e=>e.departmentId).filter(Boolean))],a=[...new Set(N.map(e=>e.location).filter(Boolean))],s=[{name:"Role",options:["All Roles",...e],icon:d.ZDc},{name:"Department",options:["All Departments",...t],icon:d.JDl},{name:"Location",options:["All Locations",...a],icon:d.o9J}];v(s);const r=s.reduce((e,t)=>(0,l.A)((0,l.A)({},e),{},{[t.name]:t.options[0]}),{});F(r)}},[N]);const _e=N?N.filter(e=>{const t=P.toLowerCase(),a=e.displayName&&e.displayName.toLowerCase().includes(t)||e.workEmail&&e.workEmail.toLowerCase().includes(t)||e.employeeId&&e.employeeId.toLowerCase().includes(t),s=Object.entries(T).every(t=>{let[a,s]=t;if(!s||s.startsWith("All"))return!0;switch(a){case"Role":return e.jobTitlePrimary===s;case"Department":return e.departmentId===s;case"Location":return e.location===s;default:return!0}});return a&&s}):[],ze=()=>{q("");const e=j.reduce((e,t)=>(0,l.A)((0,l.A)({},e),{},{[t.name]:t.options[0]}),{});F(e)},Re=e=>{const{name:t,value:a}=e.target;re(e=>{const s=(0,l.A)((0,l.A)({},e),{},{[t]:a});return"fullName"===t&&(s.firstName=a.split(" ")[0]||"",s.displayName=a,s.empName=a,s.empNameDisplay=a),"employeeId"===t&&(s.employeeIdDisplay=a,s.employeeIdDisplay4=a),"role"===t&&(s.employeeRole=a),["month","year","paid","sick","casual","unpaid","annualSalary","stipend","latitude","longitude"].includes(t)&&(s[t]=""===a?"":"month"===t||"year"===t?parseInt(a):parseFloat(a)),s}),le[t]&&ne(e=>{const a=(0,l.A)({},e);return delete a[t],a})},Ue=(e,t)=>{re(a=>(0,l.A)((0,l.A)({},a),{},{[t]:e})),(le.departmentId||le.department)&&ne(e=>{const t=(0,l.A)({},e);return delete t.departmentId,delete t.department,t})},Ze=e=>{const{name:t,value:a}=e.target;let s="";if("fullName"===t&&(a.trim()?a.trim().length<2?s="Full name must be at least 2 characters.":/^[a-zA-Z\s\'-]+$/.test(a)||(s="Full name can only contain letters, spaces, hyphens, and apostrophes."):s="Full name is required."),"username"!==t&&"employeeId"!==t||(a&&!a.startsWith("ACS")?s="Incorrect format. Must start with 'ACS'.":a&&(a.length<8||a.length>30)?s="Must be between 8 and 30 characters.":a&&!/^[A-Z0-9_]+$/.test(a)&&(s="Can only contain uppercase letters, numbers, and underscores.")),"password"===t&&(a&&(a.length<8||a.length>30)?s="Password must be 8-30 characters.":a&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(a)&&(s="Password must contain uppercase, lowercase, and numbers.")),"email"===t){a&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)&&(s="Invalid email format.")}if("annualSalary"===t&&a&&(isNaN(a)||parseFloat(a)<=0)&&(s="Annual salary must be a positive number."),"panNumber"===t&&a&&!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(a)&&(s="Invalid PAN format (e.g., ABCDE1234F)."),"aadharNumber"===t&&a&&!/^[0-9]{12}$/.test(a)&&(s="Aadhar must be 12 digits."),"phoneNumber"===t&&a&&!/^[0-9]{10}$/.test(a)&&(s="Phone number must be 10 digits."),"month"===t){const e=parseInt(a);a&&(isNaN(e)||e<1||e>12)&&(s="Month must be between 1 and 12.")}if("year"===t){const e=parseInt(a);a&&(isNaN(e)||e<2020||e>(new Date).getFullYear()+1)&&(s="Invalid year.")}if(["paid","sick","casual","unpaid"].includes(t)){const e=parseFloat(a);a&&(isNaN(e)||e<0)&&(s="Leave days must be zero or a positive number.")}"stipend"===t&&"Intern"===se.jobType&&(!a||parseFloat(a)<=0)&&(s="Stipend is required for Interns."),ne(e=>{const a=(0,l.A)({},e);return s?a[t]=s:delete a[t],a})},Ye=e=>{const t={};let a=[];1===e?a=[...x.map(e=>e.name)]:2===e?a=[...p.map(e=>e.name).filter(e=>"employeeRole"!==e)]:3===e?a=[...u.map(e=>e.name).filter(e=>!e.endsWith("Display"))]:4===e&&(a=h.filter(e=>!e.hidden&&!e.name.endsWith("Display4")).map(e=>e.name),a.push("latitude","longitude","timezone"));const s=[...x,...p,...u,...h];return a.forEach(e=>{const a=s.find(t=>t.name===e);let r=(null===a||void 0===a?void 0:a.required)||["latitude","longitude","timezone"].includes(e);"stipend"===e&&"Intern"===se.jobType&&(r=!0);const l=se[e],n=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&!t&&0!==t&&"0"!==t)return"".concat(e," is required.");if("fullName"===e){if(t&&t.trim().length<2)return"Full name must be at least 2 characters.";if(t&&!/^[a-zA-Z\s\'-]+$/.test(t))return"Full name can only contain letters, spaces, hyphens, and apostrophes."}if("username"===e||"employeeId"===e){if(t&&!t.startsWith("ACS"))return"Incorrect format. Must start with 'ACS'.";if(t&&(t.length<8||t.length>30))return"Must be between 8 and 30 characters.";if(t&&!/^[A-Z0-9_]+$/.test(t))return"Can only contain uppercase letters, numbers, and underscores."}if("password"===e){if(t&&(t.length<8||t.length>30))return"Password must be 8-30 characters.";if(t&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(t))return"Password must contain uppercase, lowercase, and numbers."}if("email"===e&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return"Invalid email format.";if("annualSalary"===e&&t&&(isNaN(parseFloat(t))||parseFloat(t)<=0))return"Annual salary must be a positive number.";if("accountNumber"===e&&t&&t.length<10)return"Account number must be at least 10 digits.";if("ifsccode"===e&&t&&!/^[A-Z]{4}0[A-Z0-9]{6}$/.test(t))return"Invalid IFSC format.";if("panNumber"===e&&t&&!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(t))return"Invalid PAN format (e.g., ABCDE1234F).";if("aadharNumber"===e&&t&&!/^[0-9]{12}$/.test(t))return"Aadhar must be 12 digits.";if("phoneNumber"===e&&t&&!/^[0-9]{10}$/.test(t))return"Phone number must be 10 digits.";if("month"===e){const e=parseInt(t);if(t&&(isNaN(e)||e<1||e>12))return"Month must be between 1 and 12."}if("year"===e){const e=parseInt(t);if(t&&(isNaN(e)||e<2020||e>(new Date).getFullYear()+1))return"Invalid year."}if(["paid","sick","casual","unpaid"].includes(e)){const e=parseFloat(t);if(""!==t&&null!==t&&(isNaN(e)||e<0))return"Leave days must be zero or a positive number."}return"shiftName"!==e||t.trim()?"latitude"!==e&&"longitude"!==e||""!==t&&!isNaN(parseFloat(t))?"timezone"!==e||t?"stipend"===e&&"Intern"===se.jobType&&(!t||parseFloat(t)<=0)?"Stipend is required for Interns.":"":"Timezone is required (auto-filled).":"".concat(e," could not be determined. Please contact support."):"Shift Name is required."}(e,l,r);n&&(t[e]=n)}),se.username&&se.employeeId&&se.username!==se.employeeId&&(t.employeeId="Employee ID must match Username from Step 1."),t},Be=async()=>{1===X&&se.username&&!se.employeeId&&re(e=>(0,l.A)((0,l.A)({},e),{},{employeeId:e.username,employeeIdDisplay:e.username,employeeIdDisplay4:e.username})),ee(e=>e+1)},Ge=()=>{ee(e=>e-1),ne({})},We=async e=>{e.preventDefault();let t={};const a=Ye(1),s=Ye(2),r=Ye(3),n=Ye(4);if(t=(0,l.A)((0,l.A)((0,l.A)((0,l.A)({},a),s),r),n),0===Object.keys(t).length){const e=await(async()=>{let e=new Set,t=0,a=!0;for(;a;)try{const s=await o.yE.get("employee/".concat(t,"/").concat(1e3,"/employeeId/asc/terminated/employees")),r=s.data.content||[];r.forEach(t=>{t.employeeId&&e.add(t.employeeId)}),r.length<1e3||!0===s.data.last?a=!1:t++}catch(s){console.error("Error fetching all terminated employee IDs:",s),a=!1}return e})(),a=se.employeeId||se.username;e.has(a)&&(t.employeeId="ID already in use by a terminated employee.",de({show:!0,message:"Employee ID ".concat(a," is already in use."),type:"error"}),ee(2))}if(Object.keys(t).length>0)return ne(t),void(Object.keys(a).length>0?ee(1):Object.keys(s).length>0?ee(2):Object.keys(r).length>0?ee(3):Object.keys(n).length>0&&ee(4));J(!0),ne({}),K("Creating User...");try{const e={fullName:se.fullName,username:se.username,password:se.password,role:se.role.toUpperCase(),email:se.email,phoneNumber:se.phoneNumber};await o.ZQ.post("/register",e),K("Creating Employee...");const t={employeeId:se.employeeId,firstName:se.firstName,displayName:se.displayName||se.fullName,maritalStatus:se.maritalStatus,departmentId:se.departmentId,role:se.role.toUpperCase()};await o.yE.post("employee",t),K("Creating Payroll Details...");const a={employeeId:se.employeeId,empName:se.empName,email:se.email,phoneNumber:se.phoneNumber,annualSalary:parseFloat(se.annualSalary),accountNumber:se.accountNumber,ifsccode:se.ifsccode,bankName:se.bankName,pfnum:se.pfnum,panNumber:se.panNumber,aadharNumber:se.aadharNumber,uanNumber:se.uanNumber,department:se.department,designation:se.designation,jobType:se.jobType,level:se.level,startDate:se.startDate,stipend:se.stipend?parseFloat(se.stipend):0};await o.Ct.post("payroll/jobdetails/create",a),K("Adding Leave/Attendance Details...");const s={employeeId:se.employeeId,month:parseInt(se.month),year:parseInt(se.year),paid:parseFloat(se.paid),sick:parseFloat(se.sick),casual:parseFloat(se.casual),unpaid:parseFloat(se.unpaid),shiftName:se.shiftName,latitude:parseFloat(se.latitude),longitude:parseFloat(se.longitude),timezone:se.timezone};await o.Gt.post("personalleaves/add",s),de({show:!0,message:"Employee onboarding completed successfully!",type:"success"}),W(!1),re(ae),ee(1),Me()}catch(c){var d,i;console.error("Error creating employee:",c);const e=(null===(d=c.response)||void 0===d||null===(i=d.data)||void 0===i?void 0:i.message)||"An unexpected error occurred. Please check the data and try again.";ne({general:e}),de({show:!0,message:e,type:"error"})}finally{J(!1),K("")}},$e=()=>{W(!1),re(ae),ne({}),ee(1)},Je=()=>{const e={employeeId:se.employeeId,month:se.month,year:se.year,paid:se.paid,sick:se.sick,casual:se.casual,unpaid:se.unpaid,shiftName:se.shiftName,latitude:se.latitude,longitude:se.longitude,timezone:se.timezone};console.log("--- DEBUG: Leaves/Attendance Payload ---"),console.log(JSON.stringify(e,null,2)),console.log("---------------------------------------------------------"),de({show:!0,message:"Leaves/Attendance payload printed to console for debugging.",type:"default"})},He=(e,t,a,s)=>{const{label:r,name:l,type:n,required:o,options:d=[],hint:c,maxLength:x,disabled:p=!1,hidden:u=!1}=e,h=t[l];if(u)return null;if("department-dropdown"===n){const e=e=>Ue(e,l),t=se[l];return(0,i.jsx)(y,{name:l,value:t,onChange:e,theme:S,isError:h,hint:c},l)}if("shift-dropdown"===n)return(0,i.jsx)(b,{name:l,value:s,onChange:a,theme:S,isError:h,hint:c},l);let g=o;return"stipend"===l&&"Intern"===se.jobType&&(g=!0),(0,i.jsx)(m,{name:l,label:r,type:n,required:g,hint:c,placeholder:"Enter ".concat(r.toLowerCase(),"..."),value:s,onChange:Re,onBlur:Ze,isError:h,options:d,theme:S,maxLength:x,disabled:p},l)},Ke=()=>{if(!G)return null;const e=e=>1===e?"User Credentials":2===e?"Employee Information":3===e?"Payroll & Job Details":4===e?"Leave/Attendance":void 0,t=e=>1===e?"from-blue-500 to-purple-600":2===e?"from-purple-500 to-pink-600":3===e?"from-green-500 to-teal-600":4===e?"from-cyan-500 to-blue-500":void 0,a=[1,2,3,4];return(0,i.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[200] p-2 sm:p-4",children:(0,i.jsxs)("div",{className:"rounded-2xl sm:rounded-3xl w-full max-w-2xl max-h-[95vh] overflow-hidden shadow-2xl flex flex-col ".concat("dark"===S?"bg-gray-800":"bg-white"),children:[(0,i.jsx)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 bg-gradient-to-r ".concat(t(X)," text-white flex-shrink-0"),children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,i.jsx)("div",{className:"text-xl sm:text-2xl",children:(s=X,1===s?(0,i.jsx)(d.itB,{className:"w-5 h-5 mr-2"}):2===s?(0,i.jsx)(d.SNd,{className:"w-5 h-5 mr-2"}):3===s?(0,i.jsx)(d.ZDc,{className:"w-5 h-5 mr-2"}):4===s?(0,i.jsx)(d.nih,{className:"w-5 h-5 mr-2"}):void 0)}),(0,i.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,i.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:"Add New Employee"}),(0,i.jsxs)("p",{className:"text-xs sm:text-sm opacity-90 mt-1",children:["Step ",X," of ",a.length,":"," ",e(X)]})]})]}),(0,i.jsx)("button",{onClick:$e,className:"p-2 hover:bg-white/20 rounded-lg",children:(0,i.jsx)(d.$8F,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})}),(0,i.jsx)("div",{className:"flex justify-between px-4 sm:px-6 md:px-8 py-3 sm:py-4 border-b ".concat("dark"===S?"border-gray-700 bg-gray-900/40":"bg-gray-200 bg-gray-50"),children:a.map(a=>{const s=(e=>e<X)(a);return(0,i.jsxs)("button",{type:"button",onClick:()=>{return e=a,ne({}),ee(e),void(e>1&&1===X&&se.username&&!se.employeeId&&re(e=>(0,l.A)((0,l.A)({},e),{},{employeeId:e.username,employeeIdDisplay:e.username,employeeIdDisplay4:e.username})));var e},className:"flex-1 p-2 mx-1 sm:mx-2 text-sm sm:text-base font-semibold transition-all duration-300 rounded-lg flex items-center justify-center space-x-2 cursor-pointer ".concat(a===X?"text-white ".concat(t(a)," shadow-md"):s?"text-green-500 hover:text-green-600 dark:text-green-400 dark:hover:text-green-300":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"," hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,i.jsx)("span",{className:"w-6 h-6 rounded-full flex items-center justify-center border-2 transition-all duration-300 ".concat(a===X?"border-white bg-transparent":s?"border-green-500 bg-green-500 text-white":"border-gray-400 dark:border-gray-500"),children:a}),(0,i.jsx)("span",{className:"hidden sm:inline",children:e(a).split("/")[0]}),s&&(0,i.jsx)(d.G3G,{className:"w-4 h-4 text-white"})]},a)})}),(0,i.jsx)("div",{className:"flex-1 overflow-hidden flex flex-col",children:(0,i.jsx)("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 md:px-8 py-4 sm:py-6",children:(0,i.jsxs)("form",{onSubmit:We,className:"space-y-6",children:[1===X&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center ".concat("dark"===S?"text-blue-400":"text-blue-600"),children:[(0,i.jsx)(d.itB,{className:"w-5 h-5 mr-2"}),"User Credentials"]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:x.map(e=>(0,i.jsx)("div",{children:He(e,le,Re,se[e.name])},e.name))})]}),2===X&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center ".concat("dark"===S?"text-purple-400":"text-purple-600"),children:[(0,i.jsx)(d.SNd,{className:"w-5 h-5 mr-2"}),"Employee Information"]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:p.map(e=>(0,i.jsx)("div",{children:He(e,le,"department-dropdown"===e.type?Ue:Re,se[e.name])},e.name))})]}),3===X&&(0,i.jsxs)("div",{className:"p-4 sm:p-6 rounded-lg border-2 border-green-500/50 bg-green-50 dark:bg-green-900/20",children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center ".concat("dark"===S?"text-green-400":"text-green-600"),children:[(0,i.jsx)(d.ZDc,{className:"w-5 h-5 mr-2"}),"Payroll & Job Details"]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:u.map(e=>(0,i.jsx)("div",{children:He(e,le,"department-dropdown"===e.type?Ue:Re,se[e.name])},e.name))})]}),4===X&&(0,i.jsxs)("div",{className:"p-4 sm:p-6 rounded-lg border-2 border-cyan-500/50 bg-cyan-50 dark:bg-cyan-900/20",children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center ".concat("dark"===S?"text-cyan-400":"text-cyan-600"),children:[(0,i.jsx)(d.nih,{className:"w-5 h-5 mr-2"}),"Leave/Attendance Details"]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:h.filter(e=>!e.hidden).map(e=>(0,i.jsx)("div",{children:He(e,le,Re,se[e.name])},e.name))})]}),le.general&&(0,i.jsx)("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 border-l-4 border-red-400 rounded-r-lg ".concat("dark"===S?"bg-red-900/20":"bg-red-50"),children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(d.tr_,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400 mr-3"}),(0,i.jsx)("p",{className:"font-medium text-sm ".concat("dark"===S?"text-red-300":"text-red-800"),children:le.general})]})})]})})}),(0,i.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-t flex-shrink-0 ".concat("dark"===S?"border-gray-700 bg-gray-900/50":"bg-gray-200 bg-gray-50/50"," flex flex-col sm:flex-row justify-between space-y-3 sm:space-y-0 sm:space-x-4"),children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[(0,i.jsx)("button",{type:"button",onClick:$e,className:"px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold text-sm ".concat("dark"===S?"border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500":"border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400"),children:"Cancel"}),4===X&&(0,i.jsxs)("button",{type:"button",onClick:Je,className:"px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold text-sm sm:text-base flex items-center justify-center space-x-2 ".concat("dark"===S?"border-yellow-600 text-yellow-400 hover:bg-yellow-900/30":"border-yellow-300 text-yellow-700 hover:bg-yellow-100"),children:[(0,i.jsx)(d.tEG,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"Debug Payload"})]}),X>1&&(0,i.jsxs)("button",{type:"button",onClick:Ge,className:"px-6 sm:px-8 py-2 sm:py-3 border-2 rounded-lg sm:rounded-xl font-semibold text-sm ".concat("dark"===S?"border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500":"border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400"),children:[(0,i.jsx)(d.NEn,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"Previous"})]})]}),(0,i.jsx)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:X<4?(0,i.jsxs)("button",{type:"button",onClick:Be,className:"px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-lg sm:rounded-xl shadow-lg text-sm sm:text-base flex items-center justify-center space-x-2",children:[(0,i.jsx)("span",{children:"Next"}),(0,i.jsx)(d.Lqc,{className:"w-4 h-4"})]}):(0,i.jsx)("button",{type:"submit",onClick:We,disabled:$,className:"px-8 sm:px-10 py-2 sm:py-3 bg-gradient-to-r from-green-500 to-teal-600 text-white font-bold rounded-lg sm:rounded-xl shadow-lg text-sm sm:text-base flex items-center justify-center space-x-2 ".concat($?"cursor-not-allowed opacity-75":""),children:$?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"h-3 w-3 sm:h-4 sm:w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,i.jsx)("span",{children:H||"Creating..."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.G3G,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"Create Employee"})]})})})]})]})});var s},Ve=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!ve&&(Ee||t)){ke(!0);try{const a=(await o.yE.get("employee/".concat(e,"/").concat(15,"/employeeId/asc/terminated/employees"))).data.content||[];je(e=>t?a:[...e,...a]),Ce(e),Ie(15===a.length)}catch(a){console.error("Error fetching terminated employees:",a),t&&alert("Failed to fetch terminated employees. Check console for details.")}finally{ke(!1)}}},[ve,Ee]),Qe=e=>{const{scrollTop:t,scrollHeight:a,clientHeight:s}=e.target;a-t<=s+50&&Ee&&!ve&&Ve(Ae+1)},Xe=we.filter(e=>{if(!V)return!0;const t=V.toLowerCase();return e.displayName&&e.displayName.toLowerCase().includes(t)||e.employeeId&&e.employeeId.toLowerCase().includes(t)||e.workEmail&&e.workEmail.toLowerCase().includes(t)});return k?(0,i.jsx)("div",{className:"min-h-screen ".concat("dark"===S?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,i.jsx)(d.SNd,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"})})]}),(0,i.jsx)("h2",{className:"text-lg sm:text-xl font-bold mb-2 ".concat("dark"===S?"text-white":"text-gray-800"),children:"Loading Employee Directory"}),(0,i.jsx)("p",{className:"text-sm ".concat("dark"===S?"text-gray-300":"text-gray-600"),children:"Discovering your colleagues..."})]})})}):G?(0,i.jsxs)(i.Fragment,{children:[Ke(),(0,i.jsx)("div",{className:"min-h-screen absolute inset-0 filter blur-sm ".concat("dark"===S?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100")})]}):(0,i.jsxs)("div",{className:"min-h-screen px-0 sm:px-4 lg:px-6 xl:px-8 py-4 sm:py-6 lg:py-8 ".concat("dark"===S?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"),children:[(0,i.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,i.jsxs)("div",{className:"rounded-none sm:rounded-xl md:rounded-2xl p-3 sm:p-4 md:p-5 shadow-lg border mb-4 sm:mb-6 mx-2 sm:mx-0 ".concat("dark"===S?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,i.jsx)("div",{className:"mb-3",children:(0,i.jsxs)("div",{className:"relative group max-w-full sm:max-w-sm md:max-w-md",children:[(0,i.jsx)("div",{className:"absolute inset-y-0 left-0 pl-2.5 flex items-center pointer-events-none",children:(0,i.jsx)(d.ZYA,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 ".concat("text-gray-400")})}),(0,i.jsx)("input",{type:"text",className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 pl-7 sm:pl-8 border rounded-md sm:rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none placeholder-gray-500 text-xs sm:text-sm ".concat("dark"===S?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-200 text-gray-800"),placeholder:"Search...",value:P,onChange:e=>q(e.target.value)})]})}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 items-stretch sm:items-center justify-between",children:[(0,i.jsx)("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:j.map(e=>{const t=e.icon;return(0,i.jsxs)("div",{className:"relative group min-w-0 flex-1 sm:flex-initial",children:[(0,i.jsx)("div",{className:"absolute inset-y-0 left-0 pl-1.5 sm:pl-2 flex items-center pointer-events-none",children:(0,i.jsx)(t,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 ".concat("text-gray-400")})}),(0,i.jsx)("select",{className:"px-3 sm:px-4 py-2 sm:py-2.5 pl-6 sm:pl-7 pr-4 sm:pr-5 border rounded-md sm:rounded-lg appearance-none cursor-pointer min-w-[100px] sm:min-w-[120px] text-xs truncate focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none ".concat("dark"===S?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-200 text-gray-700"),value:T[e.name]||e.options[0],onChange:t=>F((0,l.A)((0,l.A)({},T),{},{[e.name]:t.target.value})),children:e.options.map(e=>(0,i.jsx)("option",{value:e,children:e},e))}),(0,i.jsx)("div",{className:"absolute inset-y-0 right-0 pr-1.5 sm:pr-2 flex items-center pointer-events-none",children:(0,i.jsx)(d.EUj,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 ".concat("text-gray-400")})})]},e.name)})}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-1.5 sm:gap-2",children:[(0,i.jsxs)("button",{onClick:ze,className:"px-4 sm:px-5 py-1.5 sm:py-2 border rounded-md sm:rounded-lg font-medium text-xs flex items-center justify-center space-x-1.5 ".concat("dark"===S?"border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500":"border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400"),children:[(0,i.jsx)(d.mzO,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),(0,i.jsx)("span",{children:"Clear"})]}),_&&_.includes("EMPLOYEES_ADD")&&(0,i.jsxs)("button",{onClick:()=>W(!0),className:"px-4 sm:px-5 py-1.5 sm:py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium rounded-md sm:rounded-lg shadow-md text-xs flex items-center justify-center space-x-1.5",children:[(0,i.jsx)(d.QwN,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),(0,i.jsx)("span",{children:"Add"})]}),_&&_.includes("EMPLOYEES_TERMINATE")&&(0,i.jsxs)("button",{onClick:async()=>{je([]),Ce(0),Ie(!0),Q(""),Ne(!0),Ve(0,!0)},className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md text-xs flex items-center justify-center space-x-1.5",children:[(0,i.jsx)(d.dW_,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),(0,i.jsx)("span",{children:"Terminate"})]}),(0,i.jsxs)("div",{className:"flex rounded-md p-0.5 ".concat("dark"===S?"bg-gray-700":"bg-gray-100"),children:[(0,i.jsx)("button",{onClick:()=>A("grid"),className:"p-1 sm:p-1.5 rounded-sm ".concat("grid"===I?"dark"===S?"bg-gray-600 text-blue-400 shadow-sm":"bg-white text-blue-600 shadow-sm":"dark"===S?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"),children:(0,i.jsx)(d.R_j,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})}),(0,i.jsx)("button",{onClick:()=>A("list"),className:"p-1 sm:p-1.5 rounded-sm ".concat("list"===I?"dark"===S?"bg-gray-600 text-blue-400 shadow-sm":"bg-white text-blue-600 shadow-sm":"dark"===S?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"),children:(0,i.jsx)(d.X9N,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})})]})]})]})]}),(0,i.jsx)("div",{className:"flex items-center justify-between mb-4 sm:mb-3 mx-4 sm:mx-0",children:(0,i.jsxs)("h3",{className:"text-base sm:text-lg font-semibold ".concat("dark"===S?"text-white":"text-gray-800"),children:[_e.length," Employee",1!==_e.length?"s":""," Found"]})}),0===_e.length?(0,i.jsxs)("div",{className:"text-center py-12 sm:py-16 px-4",children:[(0,i.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 ".concat("dark"===S?"bg-gray-700":"bg-gray-100"),children:(0,i.jsx)(d.SNd,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),(0,i.jsx)("h2",{className:"text-lg sm:text-xl font-bold mb-2 ".concat("dark"===S?"text-white":"text-gray-800"),children:"No Employees Found"}),(0,i.jsx)("p",{className:"text-sm sm:text-base mb-4 ".concat("dark"===S?"text-gray-300":"text-gray-600"),children:"Try adjusting your search terms or filters."}),(0,i.jsx)("button",{onClick:ze,className:"px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-lg sm:rounded-xl shadow-lg text-sm sm:text-base",children:"Clear All Filters"})]}):(0,i.jsx)("div",{className:"grid"===I?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 mx-4 sm:mx-0":"space-y-3 sm:space-y-4 mx-4 sm:mx-0",children:_e.map((e,t)=>{const a=e.employeeId===L;return(0,i.jsx)("div",{className:"relative",children:"grid"===I?(0,i.jsx)("div",{className:"w-full h-72 rounded-xl shadow-lg border cursor-pointer ".concat("dark"===S?"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700":"bg-gradient-to-br from-white to-gray-50 border-gray-200"),onClick:t=>{t.stopPropagation(),Z(t=>t===e.employeeId?null:e.employeeId)},children:U===e.employeeId?(0,i.jsx)("div",{className:"flex flex-col h-72 p-4 sm:p-5",children:a?(0,i.jsxs)("div",{className:"text-center space-y-4 w-full flex-1 flex flex-col items-center justify-center",children:[(0,i.jsx)(d.SNd,{className:"w-10 h-10 ".concat("dark"===S?"text-green-400":"text-green-600")}),(0,i.jsx)("h3",{className:"text-xl sm:text-2xl font-bold ".concat("dark"===S?"text-green-400":"text-green-700"),children:"This is Your Profile"}),(0,i.jsx)("p",{className:"text-sm ".concat("dark"===S?"text-gray-300":"text-gray-600"),children:"Use the main navigation links to manage your information."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"text-center mb-3 sm:mb-4 pb-3 border-b border-gray-500/30",children:[(0,i.jsx)("h3",{className:"text-base sm:text-lg font-bold mb-1 ".concat("dark"===S?"text-white":"text-gray-900"),children:"Card Options"}),(0,i.jsxs)("p",{className:"text-xs ".concat("dark"===S?"text-gray-400":"text-gray-600"),children:["Actions for ",e.displayName]})]}),(0,i.jsxs)("div",{className:"overflow-y-auto flex-1 space-y-1 sm:space-y-2",children:[(0,i.jsxs)("button",{onClick:t=>{t.stopPropagation(),qe(e)},className:"px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-lg text-xs sm:text-sm w-full flex items-center justify-center space-x-2",children:[(0,i.jsx)(d.NWn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,i.jsx)("span",{children:"Start Chat"})]}),_&&_.includes("GET_PUBLIC")&&(0,i.jsxs)("button",{onClick:t=>{t.stopPropagation(),Te(e)},className:"px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-green-500 to-teal-600 text-white font-bold rounded-lg text-xs sm:text-sm w-full flex items-center justify-center space-x-2",children:[(0,i.jsx)(d.SNd,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,i.jsx)("span",{children:"View Profile"})]}),_&&_.includes("EMPLOYEE_VIEW_DOCS")&&(0,i.jsxs)("button",{onClick:t=>{t.stopPropagation(),Fe(e)},className:"px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-bold rounded-lg text-xs sm:text-sm w-full flex items-center justify-center space-x-2",children:[(0,i.jsx)(d.dyP,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,i.jsx)("span",{children:"Documents"})]}),(0,i.jsxs)("button",{onClick:t=>{t.stopPropagation(),(e=>{e&&(f("/payroll/employee/".concat(e.employeeId)),B((0,l.A)((0,l.A)({},Y),{},{visible:!1})),Z(null))})(e)},className:"px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-teal-500 to-cyan-600 text-white font-bold rounded-lg text-xs sm:text-sm w-full flex items-center justify-center space-x-2",children:[(0,i.jsx)(d.IV3,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,i.jsx)("span",{children:"View Payroll"})]}),_.includes("EMPLOYEES_EMPLOYEE_TERMINATE_EMPLOYEE")&&(0,i.jsxs)("button",{onClick:t=>{t.stopPropagation(),Oe(e)},className:"px-4 sm:px-6 py-2 sm:py-2.5 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg text-xs sm:text-sm w-full flex items-center justify-center space-x-2",children:[(0,i.jsx)(d.dW_,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,i.jsx)("span",{children:"Terminate"})]})]})]})}):(0,i.jsxs)("div",{className:"flex flex-col h-full p-3 sm:p-4 relative overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute top-0 right-0 w-16 h-16 opacity-10 pointer-events-none",children:(0,i.jsx)("div",{className:"w-full h-full rounded-full ".concat("dark"===S?"bg-blue-400":"bg-blue-500"," transform translate-x-8 -translate-y-8")})}),(0,i.jsxs)("div",{className:"flex flex-col items-center text-center mb-3 z-10",children:[(0,i.jsx)("div",{className:"relative mb-2",children:e.employeeImage?(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:e.employeeImage,alt:"".concat(e.displayName,"'s profile picture"),className:"h-14 w-14 sm:h-16 sm:w-16 rounded-xl object-cover border-3 border-blue-400 shadow-lg"}),(0,i.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white shadow-sm"})]}):(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"h-14 w-14 sm:h-16 sm:w-16 rounded-xl bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 flex items-center justify-center text-white text-sm sm:text-lg font-bold shadow-lg",children:g(e.displayName)}),(0,i.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white shadow-sm"})]})}),(0,i.jsxs)("div",{className:"w-full px-1",children:[(0,i.jsx)("h3",{className:"text-sm sm:text-base font-bold mb-1 truncate ".concat("dark"===S?"text-white":"text-gray-900"),children:e.displayName}),(0,i.jsx)("p",{className:"text-xs font-semibold px-2 py-0.5 rounded-full truncate ".concat("dark"===S?"text-blue-300 bg-blue-900/40":"text-blue-700 bg-blue-100"),children:e.jobTitlePrimary||"Not Updated Job Title"})]})]}),(0,i.jsx)("div",{className:"flex-1 flex flex-col justify-end min-h-0",children:(0,i.jsxs)("div",{className:"space-y-1 px-1",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 p-1.5 rounded-lg overflow-hidden ".concat("dark"===S?"bg-gray-700/50 text-gray-300":"bg-gray-100/50 text-gray-600"),children:[(0,i.jsx)(d.UvE,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===S?"text-orange-400":"text-orange-500")}),(0,i.jsx)("span",{className:"truncate font-mono text-xs min-w-0",children:e.employeeId})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 p-1.5 rounded-lg overflow-hidden ".concat("dark"===S?"bg-gray-700/50 text-gray-300":"bg-gray-100/50 text-gray-600"),children:[(0,i.jsx)(d.ZDc,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===S?"text-blue-400":"text-blue-500")}),(0,i.jsx)("span",{className:"truncate text-xs min-w-0",children:e.departmentId||"N/A"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 p-1.5 rounded-lg overflow-hidden ".concat("dark"===S?"bg-gray-700/50 text-gray-300":"bg-gray-100/50 text-gray-600"),children:[(0,i.jsx)(d.o9J,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===S?"text-green-400":"text-green-500")}),(0,i.jsx)("span",{className:"truncate text-xs min-w-0",children:e.location||"N/A"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 p-1.5 rounded-lg overflow-hidden ".concat("dark"===S?"bg-gray-700/50 text-gray-300":"bg-gray-100/50 text-gray-600"),children:[(0,i.jsx)(d.SOx,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===S?"text-purple-400":"text-purple-500")}),(0,i.jsx)("span",{className:"truncate text-xs min-w-0",title:e.workEmail||"N/A",children:e.workEmail||"N/A"})]})]})})]})}):(0,i.jsx)("div",{className:"rounded-xl p-3 sm:p-4 shadow-lg border cursor-pointer ".concat(a?"border-green-500 ring-2 ring-green-500/50":"dark"===S?"bg-gradient-to-r from-gray-800 to-gray-900 border-gray-700":"bg-gradient-to-r from-white to-gray-50 border-gray-200"),onClick:()=>f("/employees/".concat(L,"/public/").concat(e.employeeId)),children:(0,i.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 relative overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute top-0 right-0 w-16 sm:w-20 h-16 sm:h-20 opacity-10 pointer-events-none",children:(0,i.jsx)("div",{className:"w-full h-full rounded-full ".concat("dark"===S?"bg-blue-400":"bg-blue-500"," transform translate-x-8 sm:translate-x-10 -translate-y-8 sm:-translate-y-10")})}),(0,i.jsx)("div",{className:"flex-shrink-0 relative z-10",children:e.employeeImage?(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:e.employeeImage,alt:"".concat(e.displayName,"'s profile picture"),className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl object-cover border-4 border-blue-200 shadow-lg"}),(0,i.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white"})]}):(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs sm:text-sm font-bold shadow-lg",children:g(e.displayName)}),(0,i.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white"})]})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0 z-10",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[(0,i.jsxs)("div",{className:"min-w-0 flex-1 mb-2 sm:mb-0",children:[(0,i.jsxs)("h3",{className:"text-sm sm:text-lg font-bold truncate mb-1 ".concat("dark"===S?"text-white":"text-gray-900"),children:[e.displayName,a&&(0,i.jsx)("span",{className:"ml-2 text-xs font-bold ".concat("dark"===S?"text-green-400":"text-green-600"),children:"(Your Profile)"})]}),(0,i.jsx)("p",{className:"text-xs font-semibold px-2 py-1 rounded-full w-fit ".concat("dark"===S?"text-blue-300 bg-blue-900/40":"text-blue-700 bg-blue-100"),children:e.jobTitlePrimary||"Not Updated"})]}),!a&&(0,i.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,i.jsx)("button",{onClick:t=>{t.stopPropagation(),qe(e)},className:"p-1.5 sm:p-2 rounded-lg ".concat("dark"===S?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"," text-white shadow-md"),children:(0,i.jsx)(d.NWn,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),_&&_.includes("GET_PUBLIC")&&(0,i.jsx)("button",{onClick:t=>{t.stopPropagation(),Te(e)},className:"p-1.5 sm:p-2 rounded-lg ".concat("dark"===S?"bg-green-600 hover:bg-green-700":"bg-green-500 hover:bg-green-600"," text-white shadow-md"),children:(0,i.jsx)(d.SNd,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),_&&_.includes("EMPLOYEE_VIEW_DOCS")&&(0,i.jsx)("button",{onClick:t=>{t.stopPropagation(),Fe(e)},className:"p-1.5 sm:p-2 rounded-lg ".concat("dark"===S?"bg-yellow-600 hover:bg-yellow-700":"bg-yellow-500 hover:bg-yellow-600"," text-white shadow-md"),children:(0,i.jsx)(d.dyP,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),_.includes("EMPLOYEES_EMPLOYEE_TERMINATE_EMPLOYEE")&&(0,i.jsx)("button",{onClick:t=>{t.stopPropagation(),Oe(e)},disabled:a,className:"p-1.5 sm:p-2 rounded-lg text-white shadow-md ".concat(a?"opacity-50 cursor-not-allowed":"bg-red-600 hover:bg-red-700"),children:(0,i.jsx)(d.dW_,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1 sm:gap-2 text-xs mt-2",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-1 p-1 sm:p-1.5 rounded-md overflow-hidden ".concat("dark"===S?"bg-gray-700/50 text-gray-300":"bg-gray-100 text-gray-600"),children:[(0,i.jsx)(d.UvE,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===S?"text-orange-400":"text-orange-500")}),(0,i.jsx)("span",{className:"truncate font-mono text-xs",children:e.employeeId})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-1 p-1 sm:p-1.5 rounded-md overflow-hidden ".concat("dark"===S?"bg-gray-700/50 text-gray-300":"bg-gray-100 text-gray-600"),children:[(0,i.jsx)(d.ZDc,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===S?"text-blue-400":"text-blue-500")}),(0,i.jsx)("span",{className:"truncate",children:e.departmentId||"N/A"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-1 p-1 sm:p-1.5 rounded-md overflow-hidden ".concat("dark"===S?"bg-gray-700/50 text-gray-300":"bg-gray-100 text-gray-600"),children:[(0,i.jsx)(d.o9J,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===S?"text-green-400":"text-green-500")}),(0,i.jsx)("span",{className:"truncate",children:e.location||"N/A"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-1 p-1 sm:p-1.5 rounded-md overflow-hidden ".concat("dark"===S?"bg-gray-700/50 text-gray-300":"bg-gray-100 text-gray-600"),children:[(0,i.jsx)(d.SOx,{className:"w-3 h-3 flex-shrink-0 ".concat("dark"===S?"text-purple-400":"text-purple-500")}),(0,i.jsx)("span",{className:"truncate text-xs",title:e.workEmail||"N/A",children:e.workEmail||"N/A"})]})]})]})]})})},e.employeeId)})}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 sm:mt-8 gap-4 mx-4 sm:mx-0",children:[(0,i.jsxs)("button",{onClick:()=>xe(e=>Math.max(0,e-1)),disabled:0===me,className:"flex items-center space-x-2 px-6 sm:px-8 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-sm ".concat("dark"===S?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"," disabled:opacity-50 disabled:cursor-not-allowed"),children:[(0,i.jsx)(d.NEn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,i.jsx)("span",{children:"Previous"})]}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,i.jsxs)("span",{className:"text-xs sm:text-sm ".concat("dark"===S?"text-gray-300":"text-gray-700"),children:["Page ",me+1]}),(0,i.jsxs)("select",{value:pe,onChange:e=>{ue(parseInt(e.target.value)),xe(0)},className:"px-3 sm:px-4 py-2 sm:py-3 border-2 rounded-lg text-xs sm:text-sm ".concat("dark"===S?"bg-gray-700 text-white border-gray-600":"bg-gray-100 text-gray-800 border-gray-300"),children:[(0,i.jsx)("option",{value:"15",children:"15 per page"}),(0,i.jsx)("option",{value:"30",children:"30 per page"}),(0,i.jsx)("option",{value:"50",children:"50 per page"})]})]}),(0,i.jsxs)("button",{onClick:()=>xe(e=>e+1),disabled:_e.length<pe,className:"flex items-center space-x-2 px-6 sm:px-8 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-sm ".concat("dark"===S?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"," disabled:opacity-50 disabled:cursor-not-allowed"),children:[(0,i.jsx)("span",{children:_e.length<pe?"Last Page":"Next"}),_e.length<pe?(0,i.jsx)(d.wKx,{className:"w-3 h-3 sm:w-4 sm:h-4"}):(0,i.jsx)(d.Lqc,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})]})]}),fe&&(()=>{if(!fe)return null;const e="https://hrms.anasolconsultancyservices.com/api",t=(e,t)=>(Array.isArray(t)&&(t=t.join(", ")),(0,i.jsxs)("div",{className:"text-xs",children:[(0,i.jsxs)("span",{className:"font-semibold",children:[e,":"]})," ",t||"N/A"]}));return(0,i.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center z-[200] p-2 sm:p-4",children:(0,i.jsxs)("div",{className:"relative w-full max-w-sm sm:max-w-md lg:max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl rounded-xl sm:rounded-2xl ".concat("dark"===S?"bg-gray-800 text-white":"bg-white text-gray-900"),children:[(0,i.jsxs)("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-red-500 to-red-700 text-white relative overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,i.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,i.jsx)("div",{className:"text-lg sm:text-2xl",children:(0,i.jsx)(d.dW_,{})}),(0,i.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,i.jsx)("h2",{className:"text-lg sm:text-xl font-bold break-words",children:"Terminated Employees"}),(0,i.jsxs)("p",{className:"text-white/90 text-xs sm:text-sm break-words",children:["List of employees who have left the company (",Xe.length," found)"]})]})]}),(0,i.jsx)("button",{onClick:()=>Ne(!1),className:"p-2 hover:bg-white/20 rounded-full flex-shrink-0",children:(0,i.jsx)(d.$8F,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),(0,i.jsx)("div",{className:"px-4 sm:px-6 py-3 border-b ".concat("dark"===S?"border-gray-700":"border-gray-200"),children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(d.ZYA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ".concat("dark"===S?"text-gray-400":"text-gray-500")}),(0,i.jsx)("input",{type:"text",placeholder:"Search terminated employees...",value:V,onChange:e=>Q(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 focus:outline-none ".concat("dark"===S?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-800 placeholder-gray-500")})]})}),(0,i.jsxs)("div",{ref:Se,className:"overflow-y-auto max-h-[calc(95vh-180px)] p-4 sm:p-6",onScroll:Qe,children:[Xe.length>0?(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Xe.map((a,s)=>(0,i.jsxs)("div",{className:"p-4 rounded-lg border ".concat("dark"===S?"bg-gray-700 border-gray-600":"bg-gray-100 border-gray-300"," shadow-md"),children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,i.jsxs)("div",{className:"flex-shrink-0",children:[a.employeeImage?(0,i.jsx)("img",{src:a.employeeImage.startsWith("http")?a.employeeImage:"".concat(e,"/").concat(a.employeeImage),alt:"".concat(a.displayName||"Employee","'s profile"),className:"h-12 w-12 rounded-full object-cover border-2 border-red-300 shadow-md",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,i.jsx)("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-red-500 via-red-600 to-red-700 flex items-center justify-center text-white text-sm font-bold shadow-md ".concat(a.employeeImage?"hidden":"flex"),children:g(a.displayName||a.employeeId||"N/A")})]}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("h4",{className:"font-semibold text-sm truncate",children:a.displayName||"N/A"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a.employeeId})]})]}),(0,i.jsxs)("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:[t("Work Email",a.workEmail),t("Work Number",a.workNumber),t("Gender",a.gender),t("Date of Joining",a.dateOfJoining),t("Date of Leaving",a.dateOfLeaving),t("Department",a.departmentId),t("Projects",a.projectId),t("Teams",a.teamId)]})]},"".concat(a.employeeId,"-").concat(s)))}):ve?(0,i.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"}),(0,i.jsx)("span",{className:"ml-3 text-sm",children:"Loading terminated employees..."})]}):(0,i.jsx)("p",{className:"text-center text-sm italic text-gray-500 py-8",children:V?"No terminated employees found matching your search.":"No terminated employees found."}),ve&&we.length>0&&(0,i.jsxs)("div",{className:"flex justify-center items-center py-4 mt-4",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-red-500"}),(0,i.jsx)("span",{className:"ml-3 text-sm",children:"Loading more..."})]}),!Ee&&we.length>0&&(0,i.jsx)("div",{className:"text-center py-4 mt-4",children:(0,i.jsxs)("p",{className:"text-sm text-gray-500 italic",children:["\u2014 End of results (",we.length," total employees) \u2014"]})})]})]})})})(),oe.show&&(0,i.jsxs)(c,{onClose:()=>de({show:!1,message:"",type:""}),title:"success"===oe.type?"Success":"default"===oe.type?"Information":"Error",type:oe.type,theme:S,children:[(0,i.jsx)("p",{className:"mb-4 sm:mb-6 text-sm ".concat("dark"===S?"text-gray-300":"text-gray-700"),children:oe.message}),(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsx)("button",{onClick:()=>de({show:!1,message:"",type:""}),className:"".concat("success"===oe.type?"bg-green-600 hover:bg-green-700":"default"===oe.type?"bg-blue-600 hover:bg-blue-700":"bg-red-600 hover:bg-red-700"," text-white font-semibold py-2 px-6 rounded-lg text-sm"),children:"OK"})})]}),ie.show&&(0,i.jsxs)(c,{onClose:()=>ce({show:!1,employee:null}),title:"Confirm Termination",type:"confirm",theme:S,children:[(0,i.jsxs)("p",{className:"mb-4 sm:mb-6 text-sm ".concat("dark"===S?"text-gray-300":"text-gray-700"),children:["Are you sure you want to Terminate employee"," ",(0,i.jsx)("strong",{children:null===(a=ie.employee)||void 0===a?void 0:a.displayName}),"? This action cannot be undone."]}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3",children:[(0,i.jsx)("button",{onClick:()=>ce({show:!1,employee:null}),className:"w-full sm:w-auto px-6 py-2 rounded-lg font-semibold text-sm ".concat("dark"===S?"bg-gray-600 hover:bg-gray-500 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"),children:"Cancel"}),(0,i.jsx)("button",{onClick:async()=>{const{employee:e}=ie;if(!e)return;const t=e.employeeId.toLowerCase();try{await o.yE.delete("employee/".concat(e.employeeId)),await o.ZQ.delete("delete/".concat(t)),await o.Ct.delete("payroll/jobdetails/".concat(t,"/delete")),w(t=>t.filter(t=>t.employeeId!==e.employeeId)),de({show:!0,message:"Employee ".concat(e.displayName," and associated user credentials have been successfully deleted."),type:"success"})}catch(r){var a,s;console.error("Error deleting employee and user:",r);const e=(null===(a=r.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"The user service may have failed to delete credentials. Please verify the backend logs.";de({show:!0,message:"Failed to complete full deletion. ".concat(e),type:"error"})}finally{ce({show:!1,employee:null}),Z(null)}},className:"w-full sm:w-auto px-6 py-2 rounded-lg font-semibold text-white bg-red-600 hover:bg-red-700 text-sm",children:"Terminate"})]})]})]})};var N=a(4880);const w=()=>(0,i.jsxs)(r.BV,{children:[(0,i.jsx)(r.qh,{index:!0,element:(0,i.jsx)(f,{})}),(0,i.jsx)(r.qh,{path:"employee/:id",element:(0,i.jsx)(N.default,{})})]})}}]);
//# sourceMappingURL=473.1ba7b04f.chunk.js.map