"use strict";(self.webpackChunktechlife=self.webpackChunktechlife||[]).push([[416],{1416:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(9379),s=a(5043),l=(a(7234),a(9722)),o=a(5439),r=a(6396),i=a(5239),d=a.n(i),c=a(579);const m=s.memo(e=>{let{label:t,name:a,value:n,isEditing:l,onChange:o,type:r="text",placeholder:i="",showLPA:d=!1}=e;const[m,p]=(0,s.useState)(n||""),x=(0,s.useRef)(null);(0,s.useEffect)(()=>{n!==m&&p(n||"")},[n]);return(0,s.useEffect)(()=>()=>{x.current&&clearTimeout(x.current)},[]),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("label",{className:"text-sm font-medium text-gray-600 mb-1",children:t}),l?(0,c.jsx)("input",{type:r,name:a,value:m,onChange:e=>{const t=e.target.value;p(t),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{if(o){o({target:{name:a,value:t,type:r}})}},2e3)},placeholder:i,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}):(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("span",{className:"px-3 py-2 bg-gray-50 rounded-md text-gray-800 block min-h-[42px] flex items-center",children:n||"N/A"}),d&&(0,c.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm font-medium",children:"LPA"})]})]})}),p=()=>{const{empId:e}=(0,o.g)();console.log("Employee ID from URL (empId):",e);const[t,a]=(0,s.useState)({month:"",year:""}),[i,p]=(0,s.useState)(null),[x,b]=(0,s.useState)(!1),[h,g]=(0,s.useState)([]),[y,u]=(0,s.useState)(null),[f,N]=(0,s.useState)(!0),[j,v]=(0,s.useState)(null),[w,A]=(0,s.useState)(!1),[S,E]=(0,s.useState)(!1),[C,D]=(0,s.useState)({}),[I,k]=(0,s.useState)(!1),[T,L]=(0,s.useState)(null),P=localStorage.getItem("accessToken"),F=["January","February","March","April","May","June","July","August","September","October","November","December"],R=(new Date).getFullYear(),M=Array.from({length:5},(e,t)=>R-t);(0,s.useEffect)(()=>{(async()=>{if(!P||!e)return console.error("No empId found in URL"),v("Employee ID not found in URL."),void N(!1);try{N(!0),console.log("Fetching data for employee ID:",e);const t=await l.A.get("https://hrms.anasolconsultancyservices.com/api/payroll/payroll/employee/".concat(e),{headers:{Authorization:"Bearer ".concat(P)}});if(console.log("Payroll API Response:",t.data),t.data){const e=t.data.data||t.data.payroll||t.data;g(Array.isArray(e)?e:[])}else g([]);await O()}catch(n){var t,a;console.error("Error fetching payroll data:",n),v("Failed to fetch payroll data: ".concat((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||n.message)),g([])}finally{N(!1)}})()},[e]);const O=async()=>{try{const t=await l.A.get("https://hrms.anasolconsultancyservices.com/api/payroll/employee/".concat(e),{headers:{Authorization:"Bearer ".concat(P)}});if(console.log("Employee details response:",t.data),t.data){const e=t.data.data||t.data;u(e),D(e)}else u(null)}catch(t){console.error("Error fetching employee details:",t)}},U=e=>{a(e)},Y=async e=>{try{if(!y)return void alert("Employee data not available");const t=document.createElement("div");t.style.position="absolute",t.style.left="-9999px",t.style.width="800px",t.style.padding="10px",t.style.backgroundColor="white";const a=(e.basicSalary||0)+(e.hraAmount||0)+(e.conveyanceAllowance||0)+(e.medicalAllowance||0)+(e.specialAllowance||0)+(e.bonusAmount||0),n=(e.providentFund||0)+(e.professionalTax||0)+(e.incomeTax||0),s=e.netSalary||a-n;t.innerHTML='\n        <div style="font-family: \'Arial\', sans-serif; max-width: 800px; margin: 0 auto;">\n          \x3c!-- Company Header --\x3e\n          <div style="background: linear-gradient(135deg, #1e40af, #3730a3); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; text-align: center;">\n            <div style="font-size: 28px; font-weight: bold; margin-bottom: 8px;">ANASOL CONSULTANCY SERVICES PVT LTD</div>\n            <div style="font-size: 22px; opacity: 0.9; margin-bottom: 12px;">SALARY SLIP</div>\n            <div style="background: rgba(255,255,255,0.2); padding: 8px 20px; border-radius: 20px; display: inline-block; font-weight: bold;">\n              '.concat(_(e),'\n            </div>\n          </div>\n\n          \x3c!-- Employee Information --\x3e\n          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">\n            <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;">\n              <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;">\n                <span style="font-weight: 600; color: #4b5563;">Employee Name:</span>\n                <span style="font-weight: 500; color: #1f2937;">').concat(y.empName,'</span>\n              </div>\n              <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;">\n                <span style="font-weight: 600; color: #4b5563;">Employee ID:</span>\n                <span style="font-weight: 500; color: #1f2937;">').concat(y.employeeId,'</span>\n              </div>\n              <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;">\n                <span style="font-weight: 600; color: #4b5563;">Designation:</span>\n                <span style="font-weight: 500; color: #1f2937;">').concat(y.designation||"N/A",'</span>\n              </div>\n              <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;">\n                <span style="font-weight: 600; color: #4b5563;">Department:</span>\n                <span style="font-weight: 500; color: #1f2937;">').concat(y.department||"N/A",'</span>\n              </div>\n              <div style="display: flex; justify-content: space-between; padding: 8px 0;">\n                <span style="font-weight: 600; color: #4b5563;">Phone No:</span>\n                <span style="font-weight: 500; color: #1f2937;">').concat(y.phoneNumber||"N/A",'</span>\n              </div>\n            </div>\n\n            <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;">\n              <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;">\n                <span style="font-weight: 600; color: #4b5563;">Bank A/C Name:</span>\n                <span style="font-weight: 500; color: #1f2937;">').concat(y.empName,'</span>\n              </div>\n              <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;">\n                <span style="font-weight: 600; color: #4b5563;">PAN No:</span>\n                <span style="font-weight: 500; color: #1f2937;">').concat(y.panNumber||"N/A",'</span>\n              </div>\n              <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;">\n                <span style="font-weight: 600; color: #4b5563;">PF No:</span>\n                <span style="font-weight: 500; color: #1f2937;">').concat(y.pfnum||"N/A",'</span>\n              </div>\n              <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;">\n                <span style="font-weight: 600; color: #4b5563;">IFSC Code:</span>\n                <span style="font-weight: 500; color: #1f2937;">').concat(y.ifsccode||"N/A",'</span>\n              </div>\n              <div style="display: flex; justify-content: space-between; padding: 8px 0;">\n                <span style="font-weight: 600; color: #4b5563;">Email:</span>\n                <span style="font-weight: 500; color: #1f2937;">').concat(y.email||"N/A",'</span>\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- Salary Details --\x3e\n          <div style="margin: 20px 0;">\n            <div style="font-size: 18px; font-weight: bold; color: #1e40af; margin-bottom: 12px; border-left: 4px solid #1e40af; padding-left: 10px;">SALARY DETAILS</div>\n            \n            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">\n              \x3c!-- Earnings --\x3e\n              <div>\n                <div style="font-size: 16px; font-weight: bold; color: #1e40af; margin-bottom: 8px; border-left: 4px solid #1e40af; padding-left: 10px;">EARNINGS</div>\n                <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px;">\n                  <thead>\n                    <tr style="background: linear-gradient(135deg, #1e40af, #3730a3); color: white;">\n                      <th style="padding: 12px; text-align: left; font-weight: 600;">Description</th>\n                      <th style="padding: 12px; text-align: right; font-weight: 600;">Amount (\u20b9)</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr style="border-bottom: 1px solid #e5e7eb;">\n                      <td style="padding: 12px;">Basic Salary</td>\n                      <td style="padding: 12px; text-align: right;">').concat(J(e.basicSalary||0),'</td>\n                    </tr>\n                    <tr style="border-bottom: 1px solid #e5e7eb;">\n                      <td style="padding: 12px;">HRA</td>\n                      <td style="padding: 12px; text-align: right;">').concat(J(e.hraAmount||0),'</td>\n                    </tr>\n                    <tr style="border-bottom: 1px solid #e5e7eb;">\n                      <td style="padding: 12px;">Conveyance Allowance</td>\n                      <td style="padding: 12px; text-align: right;">').concat(J(e.conveyanceAllowance||0),'</td>\n                    </tr>\n                    <tr style="border-bottom: 1px solid #e5e7eb;">\n                      <td style="padding: 12px;">Medical Allowance</td>\n                      <td style="padding: 12px; text-align: right;">').concat(J(e.medicalAllowance||0),'</td>\n                    </tr>\n                    <tr style="border-bottom: 1px solid #e5e7eb;">\n                      <td style="padding: 12px;">Special Allowance</td>\n                      <td style="padding: 12px; text-align: right;">').concat(J(e.specialAllowance||0),"</td>\n                    </tr>\n                    ").concat(e.bonusAmount>0?'\n                    <tr style="border-bottom: 1px solid #e5e7eb;">\n                      <td style="padding: 12px;">Bonus</td>\n                      <td style="padding: 12px; text-align: right;">'.concat(J(e.bonusAmount||0),"</td>\n                    </tr>\n                    "):"",'\n                    <tr style="background: #dbeafe; font-weight: bold;">\n                      <td style="padding: 12px;"><strong>GROSS EARNINGS</strong></td>\n                      <td style="padding: 12px; text-align: right;"><strong>').concat(J(a),'</strong></td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n\n              \x3c!-- Deductions --\x3e\n              <div>\n                <div style="font-size: 16px; font-weight: bold; color: #1e40af; margin-bottom: 8px; border-left: 4px solid #1e40af; padding-left: 10px;">DEDUCTIONS</div>\n                <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px;">\n                  <thead>\n                    <tr style="background: linear-gradient(135deg, #1e40af, #3730a3); color: white;">\n                      <th style="padding: 12px; text-align: left; font-weight: 600;">Description</th>\n                      <th style="padding: 12px; text-align: right; font-weight: 600;">Amount (\u20b9)</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr style="border-bottom: 1px solid #e5e7eb;">\n                      <td style="padding: 12px;">Provident Fund</td>\n                      <td style="padding: 12px; text-align: right;">').concat(J(e.providentFund||0),'</td>\n                    </tr>\n                    <tr style="border-bottom: 1px solid #e5e7eb;">\n                      <td style="padding: 12px;">Professional Tax</td>\n                      <td style="padding: 12px; text-align: right;">').concat(J(e.professionalTax||0),'</td>\n                    </tr>\n                    <tr style="border-bottom: 1px solid #e5e7eb;">\n                      <td style="padding: 12px;">Income Tax</td>\n                      <td style="padding: 12px; text-align: right;">').concat(J(e.incomeTax||0),'</td>\n                    </tr>\n                    <tr style="background: #dbeafe; font-weight: bold;">\n                      <td style="padding: 12px;"><strong>TOTAL DEDUCTIONS</strong></td>\n                      <td style="padding: 12px; text-align: right;"><strong>').concat(J(n),'</strong></td>\n                    </tr>\n                    <tr style="background: #dcfce7; font-weight: bold; color: #166534; font-size: 18px;">\n                      <td style="padding: 12px;"><strong>NET SALARY</strong></td>\n                      <td style="padding: 12px; text-align: right;"><strong>').concat(J(s),'</strong></td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- Footer --\x3e\n          <div style="text-align: center; margin-top: 25px; padding-top: 15px; border-top: 2px solid #e5e7eb; color: #6b7280; font-size: 14px;">\n            <p>#1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039</p>\n            <p>Ph: 9632091726 | Email: hr@anasolconsultancy.com | www.anasol.com</p>\n            <p style="margin-top: 8px; color: #9ca3af; font-style: italic;">\n              This is a computer-generated document and does not require a signature\n            </p>\n          </div>\n        </div>\n      '),document.body.appendChild(t);const l=await d()(t,{scale:2,useCORS:!0,logging:!1});document.body.removeChild(t);const o=l.toDataURL("image/png"),i=new r.Ay("p","mm","a4"),c=210,m=l.height*c/l.width;i.addImage(o,"PNG",0,0,c,m);const p=F[e.month-1],x="Payslip_".concat(y.empName,"_").concat(p,"_").concat(e.year,".pdf");i.save(x)}catch(t){alert("Failed to generate PDF payslip: ".concat(t.message))}},B=async()=>{A(!0),y||await O()},z=()=>{E(!0),L(null)},V=(0,s.useCallback)(e=>{const{name:t,value:a}=e.target;D(e=>(0,n.A)((0,n.A)({},e),{},{[t]:a}))},[]),G=async()=>{try{k(!0);const t={empName:C.empName,email:C.email,phoneNumber:C.phoneNumber,accountNumber:C.accountNumber,bankName:C.bankName,panNumber:C.panNumber,aadharNumber:C.aadharNumber,ifsccode:C.ifsccode,pfnum:C.pfnum,uanNumber:C.uanNumber,department:C.department,designation:C.designation};console.log("Updating employee data:",t);const a=await l.A.put("https://hrms.anasolconsultancyservices.com/api/payroll/employee/".concat(e,"/update"),t,{headers:{Authorization:"Bearer ".concat(P)}});a.data&&a.data.success?(u(C),E(!1),alert("Employee details updated successfully!")):alert("Failed to update employee details")}catch(t){console.error("Error updating employee details:",t),alert("Failed to update employee details: ".concat(t.message))}finally{k(!1)}},H=()=>{E(!1),D(y)},J=e=>e?new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"\u20b90",_=e=>{if(!e)return"N/A";const t=e.month,a=e.year;return"".concat(F[t-1]," ").concat(a)},q=e=>e?e.year.toString():"",X=Array.isArray(h)?h.filter(e=>{if(!e)return!1;const a=e.month?e.month.toString():"",n=e.year?e.year.toString():"";return console.log("Filtering item:",{itemMonth:a,itemYear:n,filters:t}),(!t.month||a===t.month)&&(!t.year||n===t.year)}):[];console.log("Final filtered data count:",X.length);const W=()=>y?(0,c.jsxs)("div",{className:"p-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,c.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"My Details"}),(0,c.jsxs)("div",{className:"flex space-x-3",children:[S?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("button",{onClick:G,disabled:I,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:I?"Saving...":"Save Changes"}),(0,c.jsx)("button",{onClick:H,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]}):(0,c.jsx)("button",{onClick:z,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit Details"}),(0,c.jsx)("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,c.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 border-b pb-2",children:"Personal Information"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsx)(m,{label:"Employee ID",value:y.employeeId,isEditing:!1},"employeeId"),(0,c.jsx)(m,{label:"Full Name",name:"empName",value:S?C.empName:y.empName,isEditing:S,onChange:V},"empName"),(0,c.jsx)(m,{label:"Email",name:"email",value:S?C.email:y.email,isEditing:S,onChange:V,type:"email"},"email"),(0,c.jsx)(m,{label:"Phone Number",name:"phoneNumber",value:S?C.phoneNumber:y.phoneNumber,isEditing:S,onChange:V,type:"tel"},"phoneNumber"),(0,c.jsx)(m,{label:"Aadhar Number",name:"aadharNumber",value:S?C.aadharNumber:y.aadharNumber,isEditing:S,onChange:V,type:"number"},"aadharNumber"),(0,c.jsx)(m,{label:"PAN Number",name:"panNumber",value:S?C.panNumber:y.panNumber,isEditing:S,onChange:V},"panNumber")]})]}),(0,c.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 border-b pb-2",children:"Employment Details"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsx)(m,{label:"Department",name:"department",value:S?C.department:y.department,isEditing:S,onChange:V},"department"),(0,c.jsx)(m,{label:"Designation",name:"designation",value:S?C.designation:y.designation,isEditing:S,onChange:V,placeholder:"Enter designation"},"designation"),(0,c.jsx)(m,{label:"Job Type",value:y.jobType,isEditing:!1},"jobType"),(0,c.jsx)(m,{label:"Level",value:y.level,isEditing:!1},"level"),(0,c.jsx)(m,{label:"Start Date",value:y.startDate?new Date(y.startDate).toLocaleDateString("en-IN"):"N/A",isEditing:!1},"startDate")]})]}),(0,c.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 border-b pb-2",children:"Bank & Salary Information"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsx)(m,{label:"Bank Name",name:"bankName",value:S?C.bankName:y.bankName,isEditing:S,onChange:V},"bankName"),(0,c.jsx)(m,{label:"Account Number",name:"accountNumber",value:S?C.accountNumber:y.accountNumber,isEditing:S,onChange:V,type:"number"},"accountNumber"),(0,c.jsx)(m,{label:"IFSC Code",name:"ifsccode",value:S?C.ifsccode:y.ifsccode,isEditing:S,onChange:V},"ifsccode"),(0,c.jsx)(m,{label:"PF Number",name:"pfnum",value:S?C.pfnum:y.pfnum,isEditing:S,onChange:V},"pfnum"),(0,c.jsx)(m,{label:"UAN Number",name:"uanNumber",value:S?C.uanNumber:y.uanNumber,isEditing:S,onChange:V},"uanNumber"),(0,c.jsx)(m,{label:"Monthly Salary",value:J(y.monthlySalary),isEditing:!1},"monthlySalary"),(0,c.jsx)(m,{label:"Annual Salary",value:J(y.annualSalary),isEditing:!1,showLPA:!0},"annualSalary")]})]})]})]}):(0,c.jsx)("div",{className:"p-6",children:(0,c.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No employee details found."})}),K=()=>(0,c.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,c.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),(0,c.jsxs)("select",{className:"w-40 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:e=>{U((0,n.A)((0,n.A)({},t),{},{month:e.target.value}))},value:t.month,children:[(0,c.jsx)("option",{value:"",children:"All Months"}),F.map((e,t)=>(0,c.jsx)("option",{value:t+1,children:e},e))]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),(0,c.jsxs)("select",{className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:e=>{U((0,n.A)((0,n.A)({},t),{},{year:e.target.value}))},value:t.year,children:[(0,c.jsx)("option",{value:"",children:"All Years"}),M.map(e=>(0,c.jsx)("option",{value:e,children:e},e))]})]}),(0,c.jsxs)("div",{className:"ml-auto flex space-x-3",children:[(0,c.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:B,children:"View My Details"}),(0,c.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>U({month:"",year:""}),children:"Clear Filters"})]})]})}),Q=()=>f?(0,c.jsx)("div",{className:"p-6",children:(0,c.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,c.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,c.jsx)("span",{className:"ml-4 text-gray-600",children:"Loading payroll data..."})]})}):j?(0,c.jsx)("div",{className:"p-6",children:(0,c.jsx)("div",{className:"text-center py-8 text-red-600",children:j})}):e?(0,c.jsxs)("div",{className:"p-6",children:[(0,c.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:["Payroll History ",y&&"- ".concat(y.empName)]}),(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"w-full border-collapse",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"bg-gradient-to-r from-blue-800 to-indigo-800 text-white",children:[(0,c.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Month"}),(0,c.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Year"}),(0,c.jsx)("th",{className:"px-4 py-3 text-right font-semibold",children:"Net Salary"}),(0,c.jsx)("th",{className:"px-4 py-3 text-right font-semibold",children:"Bonus"}),(0,c.jsx)("th",{className:"px-4 py-3 text-center font-semibold",children:"Actions"})]})}),(0,c.jsx)("tbody",{children:X.map(e=>{return(0,c.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[(0,c.jsx)("td",{className:"px-4 py-3 font-medium text-gray-700",children:(t=e,t?F[t.month-1]:"")}),(0,c.jsx)("td",{className:"px-4 py-3 text-gray-600",children:q(e)}),(0,c.jsx)("td",{className:"px-4 py-3 text-right font-semibold text-green-600",children:J(e.netSalary)}),(0,c.jsx)("td",{className:"px-4 py-3 text-right font-medium text-orange-600",children:J(e.bonusAmount||0)}),(0,c.jsx)("td",{className:"px-4 py-3",children:(0,c.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,c.jsx)("button",{onClick:()=>(p(e),void b(!0)),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"View"}),(0,c.jsx)("button",{onClick:()=>Y(e),className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition-colors text-sm",children:"Download"})]})})]},e.payrollId);var t})})]})}),0===X.length&&!f&&(0,c.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No payroll records found for the selected filters."})]}):(0,c.jsx)("div",{className:"p-6",children:(0,c.jsx)("div",{className:"text-center py-8 text-red-600",children:"Employee ID not available. Please check your login."})}),Z=()=>{if(!i||!y)return null;const e=(i.basicSalary||0)+(i.hraAmount||0)+(i.conveyanceAllowance||0)+(i.medicalAllowance||0)+(i.specialAllowance||0),t=(i.providentFund||0)+(i.professionalTax||0)+(i.incomeTax||0),a=[{description:"BASIC",monthlyRate:J(i.basicSalary),currentMonth:J(i.basicSalary),arrear:"0",total:J(i.basicSalary)},{description:"HRA",monthlyRate:J(i.hraAmount),currentMonth:J(i.hraAmount),arrear:"0",total:J(i.hraAmount)},{description:"CONVEYANCE",monthlyRate:J(i.conveyanceAllowance),currentMonth:J(i.conveyanceAllowance),arrear:"0",total:J(i.conveyanceAllowance)},{description:"MEDICAL",monthlyRate:J(i.medicalAllowance),currentMonth:J(i.medicalAllowance),arrear:"0",total:J(i.medicalAllowance)},{description:"SPECIAL ALLOWANCE",monthlyRate:J(i.specialAllowance),currentMonth:J(i.specialAllowance),arrear:"0",total:J(i.specialAllowance)}],n=[{description:"PROVIDENT FUND",amount:J(i.providentFund)},{description:"PROFESSIONAL TAX",amount:J(i.professionalTax)},{description:"INCOME TAX",amount:J(i.incomeTax)}];return i.bonusAmount>0&&a.push({description:"BONUS",monthlyRate:J(i.bonusAmount),currentMonth:J(i.bonusAmount),arrear:"0",total:J(i.bonusAmount)}),(0,c.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,c.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,c.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Payslip - ",_(i)]}),(0,c.jsx)("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,c.jsxs)("div",{className:"p-6",children:[(0,c.jsx)("div",{className:"bg-gradient-to-r from-blue-800 to-indigo-800 text-white rounded-xl p-6 mb-6",children:(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-2xl font-bold",children:"ANASOL CONSULTANCY SERVICES PVT LTD"}),(0,c.jsx)("div",{className:"text-xl font-semibold opacity-90 mt-1",children:"SALARY SLIP"}),(0,c.jsx)("div",{className:"bg-white/20 px-4 py-1 rounded-full text-sm font-medium mt-2 inline-block",children:_(i)})]}),(0,c.jsx)("div",{className:"w-20 h-20 bg-white/20 rounded-lg flex items-center justify-center text-white font-bold",children:(0,c.jsx)("img",{src:"/assets/anasol-logo.png",alt:"Anasol Logo",className:"w-20 h-20 object-contain"})})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,c.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-blue-100 shadow-sm",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-600",children:"Employee Name:"}),(0,c.jsx)("span",{className:"font-medium",children:y.empName})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-600",children:"Employee ID:"}),(0,c.jsx)("span",{className:"font-medium",children:y.employeeId})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-600",children:"Designation:"}),(0,c.jsx)("span",{className:"font-medium",children:y.designation||"N/A"})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-600",children:"Department:"}),(0,c.jsx)("span",{className:"font-medium",children:y.department||"N/A"})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-600",children:"Phone No:"}),(0,c.jsx)("span",{className:"font-medium",children:y.phoneNumber||"N/A"})]})]}),(0,c.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-blue-100 shadow-sm",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-600",children:"Bank A/C Name:"}),(0,c.jsx)("span",{className:"font-medium",children:y.empName})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-600",children:"PAN No:"}),(0,c.jsx)("span",{className:"font-medium",children:y.panNumber||"N/A"})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-600",children:"PF No:"}),(0,c.jsx)("span",{className:"font-medium",children:y.pfnum||"N/A"})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-600",children:"IFSC Code:"}),(0,c.jsx)("span",{className:"font-medium",children:y.ifsccode||"N/A"})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-600",children:"Email:"}),(0,c.jsx)("span",{className:"font-medium",children:y.email||"N/A"})]})]})]}),(0,c.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Salary Details"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-bold text-gray-700 mb-2 border-l-4 border-blue-600 pl-2",children:"EARNINGS"}),(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"w-full border-collapse",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"bg-gradient-to-r from-blue-800 to-indigo-800 text-white",children:[(0,c.jsx)("th",{className:"px-3 py-2 font-semibold text-sm",children:"Description"}),(0,c.jsx)("th",{className:"px-3 py-2 font-semibold text-sm",children:"Monthly Rate"}),(0,c.jsx)("th",{className:"px-3 py-2 font-semibold text-sm",children:"Current Month"}),(0,c.jsx)("th",{className:"px-3 py-2 font-semibold text-sm",children:"Arrear (+/-)"}),(0,c.jsx)("th",{className:"px-3 py-2 font-semibold text-sm",children:"Total"})]})}),(0,c.jsxs)("tbody",{children:[a.map((e,t)=>(0,c.jsxs)("tr",{className:"border-b",children:[(0,c.jsx)("td",{className:"px-3 py-2 text-sm",children:e.description}),(0,c.jsx)("td",{className:"px-3 py-2 text-sm text-right",children:e.monthlyRate}),(0,c.jsx)("td",{className:"px-3 py-2 text-sm text-right",children:e.currentMonth}),(0,c.jsx)("td",{className:"px-3 py-2 text-sm text-right",children:e.arrear}),(0,c.jsx)("td",{className:"px-3 py-2 text-sm text-right font-medium",children:e.total})]},t)),(0,c.jsxs)("tr",{className:"bg-blue-50 font-semibold",children:[(0,c.jsx)("td",{colSpan:"4",className:"px-3 py-2 text-sm",children:"GROSS EARNINGS"}),(0,c.jsx)("td",{className:"px-3 py-2 text-sm text-right",children:J(e+(i.bonusAmount||0))})]})]})]})})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-bold text-gray-700 mb-2 border-l-4 border-blue-600 pl-2",children:"DEDUCTIONS"}),(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"w-full border-collapse",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"bg-gradient-to-r from-blue-800 to-indigo-800 text-white",children:[(0,c.jsx)("th",{className:"px-3 py-2 font-semibold text-sm",children:"Description"}),(0,c.jsx)("th",{className:"px-3 py-2 font-semibold text-sm",children:"Amount"})]})}),(0,c.jsxs)("tbody",{children:[n.map((e,t)=>(0,c.jsxs)("tr",{className:"border-b",children:[(0,c.jsx)("td",{className:"px-3 py-2 text-sm",children:e.description}),(0,c.jsx)("td",{className:"px-3 py-2 text-sm text-right",children:e.amount})]},t)),(0,c.jsxs)("tr",{className:"bg-blue-50 font-semibold",children:[(0,c.jsx)("td",{className:"px-3 py-2 text-sm",children:"TOTAL DEDUCTIONS"}),(0,c.jsx)("td",{className:"px-3 py-2 text-sm text-right",children:J(t)})]}),(0,c.jsxs)("tr",{className:"bg-green-50 font-bold text-green-700",children:[(0,c.jsx)("td",{className:"px-3 py-2",children:"NET SALARY"}),(0,c.jsx)("td",{className:"px-3 py-2 text-right",children:J(i.netSalary)})]})]})]})})]})]}),(0,c.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center text-gray-600 text-sm",children:[(0,c.jsx)("p",{children:"#1016, 11th Floor, DSL Abacus IT Park, Uppal Hyderabad-500039"}),(0,c.jsx)("p",{children:"Ph: 9632091726 | Email: info@anasol.com | www.anasol.com"}),(0,c.jsx)("p",{className:"mt-2 text-gray-400",children:"This is a computer-generated document and does not require a signature"})]})]}),(0,c.jsxs)("div",{className:"p-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,c.jsx)("button",{onClick:()=>Y(i),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Download PDF"}),(0,c.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]})})};return(0,c.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,c.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,c.jsx)("header",{className:"bg-gradient-to-r from-blue-800 to-indigo-800 text-white rounded-t-2xl mb-8",children:(0,c.jsxs)("div",{className:"px-6 py-4 flex justify-between items-center",children:[(0,c.jsx)("div",{children:y?(0,c.jsxs)("div",{className:"mt-2",children:[(0,c.jsxs)("p",{className:"text-blue-200 text-sm",children:[(0,c.jsx)("strong",{children:" Employee:"})," ",y.empName," | ID: ",y.employeeId]}),(0,c.jsxs)("p",{className:"text-blue-200 text-sm",children:[(0,c.jsx)("strong",{children:"Department:"})," ",y.department||"N/A"," | ",(0,c.jsx)("strong",{children:"Designation:"})," ",y.designation||"N/A"]})]}):(0,c.jsxs)("p",{className:"text-blue-200 text-sm mt-1",children:["Loading employee ",e," details..."]})}),(0,c.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-lg flex items-center justify-center text-white font-bold",children:(0,c.jsx)("img",{src:"/assets/anasol-logo.png",alt:"Anasol Logo",className:"w-20 h-20 object-contain"})})]})}),(0,c.jsx)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:w?(0,c.jsx)(W,{}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(K,{}),(0,c.jsx)(Q,{})]})})]}),x&&(0,c.jsx)(Z,{})]})}}}]);
//# sourceMappingURL=416.5e01d620.chunk.js.map