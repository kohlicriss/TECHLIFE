{"version":3,"file":"static/js/492.c53c36de.chunk.js","mappings":"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","sources":["TechLife/HRMS/Components/Profile/tabs/About.jsx","TechLife/HRMS/Components/Profile/tabs/Profile.jsx","TechLife/HRMS/Components/Profile/tabs/Job.jsx","TechLife/HRMS/Components/Profile/tabs/Document.jsx","TechLife/HRMS/Components/Profile/tabs/Achievements.jsx","TechLife/HRMS/Components/Profile/Profiles.jsx","axiosInstance.js"],"sourcesContent":["// src/TechLife/HRMS/Components/Profile/tabs/About.jsx\r\n\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport { Context } from \"../../HrmsContext\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport { IoEye } from \"react-icons/io5\";\r\n\r\nconst About = () => {\r\n  const { theme } = useContext(Context);\r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n  const isReadOnly = fromContextMenu && targetEmployeeId && targetEmployeeId !== empID;\r\n\r\n  const [responses, setResponses] = useState(() => {\r\n    const savedResponses = localStorage.getItem(\"aboutResponses\");\r\n    return savedResponses\r\n      ? JSON.parse(savedResponses)\r\n      : {\r\n          about: { text: \"\", isEditing: false },\r\n          jobLove: { text: \"\", isEditing: false },\r\n          interests: { text: \"\", isEditing: false },\r\n        };\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"aboutResponses\", JSON.stringify(responses));\r\n  }, [responses]);\r\n\r\n  const handleEdit = (field) => {\r\n    setResponses((prev) => ({\r\n      ...prev,\r\n      [field]: { ...prev[field], isEditing: true },\r\n    }));\r\n  };\r\n\r\n  const handleSave = (field, value) => {\r\n    setResponses((prev) => ({\r\n      ...prev,\r\n      [field]: { text: value, isEditing: false },\r\n    }));\r\n  };\r\n\r\n  const handleCancel = (field) => {\r\n    setResponses((prev) => ({\r\n      ...prev,\r\n      [field]: { ...prev[field], isEditing: false },\r\n    }));\r\n  };\r\n\r\n  const renderResponseSection = (field, title) => {\r\n    const { text, isEditing } = responses[field];\r\n\r\n    if (!text && !isEditing) {\r\n      return (\r\n        <button\r\n          onClick={() => handleEdit(field)}\r\n          className={`border rounded-md px-4 py-2 transition-colors duration-200 ${\r\n            theme === 'dark'\r\n              ? 'text-purple-400 border-purple-400 hover:bg-purple-900/20'\r\n              : 'text-purple-600 border-purple-600 hover:bg-purple-50'\r\n          }`}\r\n        >\r\n          Add your response\r\n        </button>\r\n      );\r\n    }\r\n\r\n    if (isEditing) {\r\n      return (\r\n        <div className=\"space-y-2\">\r\n          <textarea\r\n            className={`w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 transition-colors duration-200 ${\r\n              theme === 'dark'\r\n                ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400'\r\n                : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\r\n            }`}\r\n            rows=\"4\"\r\n            defaultValue={text}\r\n            id={`${field}-textarea`}\r\n            placeholder=\"Type your response here...\"\r\n          />\r\n          <div className=\"flex justify-end space-x-2\">\r\n            <button\r\n              onClick={() => handleCancel(field)}\r\n              className={`px-4 py-2 rounded-md transition-colors duration-200 ${\r\n                theme === 'dark'\r\n                  ? 'text-gray-300 hover:bg-gray-700'\r\n                  : 'text-gray-600 hover:bg-gray-100'\r\n              }`}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={() =>\r\n                handleSave(\r\n                  field,\r\n                  document.getElementById(`${field}-textarea`).value\r\n                )\r\n              }\r\n              className={`px-4 py-2 rounded-md transition-colors duration-200 ${\r\n                theme === 'dark'\r\n                  ? 'bg-purple-600 text-white hover:bg-purple-700'\r\n                  : 'bg-purple-600 text-white hover:bg-purple-700'\r\n              }`}\r\n            >\r\n              Save\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className={`p-4 rounded-md relative group transition-colors duration-200 ${\r\n        theme === 'dark'\r\n          ? 'bg-gray-800 border border-gray-700'\r\n          : 'bg-gray-50 border border-gray-200'\r\n      }`}>\r\n        <p className={`whitespace-pre-wrap ${\r\n          theme === 'dark' ? 'text-gray-200' : 'text-gray-700'\r\n        }`}>{text}</p>\r\n        <button\r\n          onClick={() => handleEdit(field)}\r\n          className={`absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all duration-200\r\n            px-3 py-1 border rounded-md shadow-sm ${\r\n            theme === 'dark'\r\n              ? 'bg-gray-700 border-gray-600 text-gray-300 hover:text-gray-100 hover:border-gray-500'\r\n              : 'bg-white border-gray-200 text-gray-600 hover:text-gray-800 hover:border-gray-300'\r\n          }`}\r\n        >\r\n          Edit\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`p-6 transition-colors duration-200 ${\r\n      theme === 'dark' ? 'bg-gray-900' : 'bg-white'\r\n    }`}>\r\n\r\n      {fromContextMenu && (\r\n        <div className={`mb-6 p-4 rounded-2xl border-l-4 border-blue-500 shadow-lg ${\r\n          theme === 'dark' ? 'bg-blue-900/20 border-blue-400' : 'bg-blue-50 border-blue-500'\r\n        }`}>\r\n          <div className=\"flex items-center space-x-3\">\r\n            <IoEye className={`w-5 h-5 ${theme === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} />\r\n            <div>\r\n              <p className={`font-semibold ${theme === 'dark' ? 'text-blue-400' : 'text-blue-800'}`}>\r\n                Viewing Employee About Details\r\n              </p>\r\n              <p className={`text-sm ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                Employee ID: {targetEmployeeId}\r\n                {isReadOnly && \"  Read-only access\"}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"space-y-6\">\r\n        <h2 className={`text-xl font-semibold ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n        }`}>About</h2>\r\n\r\n        <div className=\"space-y-6\">\r\n          {renderResponseSection(\"about\", \"About\")}\r\n\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <h3 className={`text-lg font-medium mb-4 ${\r\n                theme === 'dark' ? 'text-gray-200' : 'text-gray-900'\r\n              }`}>\r\n                What I love about my job?\r\n              </h3>\r\n              {renderResponseSection(\"jobLove\", \"Job Love\")}\r\n            </div>\r\n\r\n            <div>\r\n              <h3 className={`text-lg font-medium mb-4 ${\r\n                theme === 'dark' ? 'text-gray-200' : 'text-gray-900'\r\n              }`}>\r\n                My interests and hobbies\r\n              </h3>\r\n              {renderResponseSection(\"interests\", \"Interests\")}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { IoClose, IoPersonOutline, IoCheckmarkCircle, IoWarning, IoAdd, IoMailOutline, IoLocationOutline, IoSchoolOutline, IoPeopleOutline, IoBriefcaseOutline, IoCloudUpload, IoEye, IoTrashOutline } from \"react-icons/io5\";\r\nimport { Context } from \"../../HrmsContext\";\r\nimport { publicinfoApi } from \"../../../../../axiosInstance\";\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\n\r\n// Default Profile (Only static relations/identity)\r\nconst defaultProfile = {\r\n  relations: {\r\n    fatherName: \"Albert Smith\",\r\n    motherName: \"Marry Smith\",\r\n    spouseName: \"Jane Smith\",\r\n    children: \"2\",\r\n    siblings: \"1\",\r\n  },\r\n};\r\n\r\nconst sectionFields = {\r\n  primaryDetails: [\r\n    { label: \"First Name\", name: \"firstName\", type: \"text\", required: true },\r\n    { label: \"Middle Name\", name: \"middleName\", type: \"text\" },\r\n    { label: \"Last Name\", name: \"lastName\", type: \"text\", required: true },\r\n    {\r\n      label: \"Display Name\",\r\n      name: \"displayName\",\r\n      type: \"text\",\r\n      required: true,\r\n    },\r\n    {\r\n      label: \"Gender\",\r\n      name: \"gender\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"Male\", \"Female\", \"Other\"],\r\n    },\r\n    {\r\n      label: \"Date of Birth\",\r\n      name: \"dateOfBirth\",\r\n      type: \"date\",\r\n      required: true,\r\n    },\r\n    {\r\n      label: \"Marital Status\",\r\n      name: \"maritalStatus\",\r\n      type: \"select\",\r\n      options: [\"Single\", \"Married\", \"Divorced\"],\r\n    },\r\n    {\r\n      label: \"Blood Group\",\r\n      name: \"bloodGroup\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"O+ (O Positive)\", \"A+\", \"B+\", \"AB+\", \"O-\", \"A-\", \"B-\", \"AB-\"],\r\n    },\r\n    {\r\n      label: \"Physically Handicapped\",\r\n      name: \"physicallyHandicapped\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"Yes\", \"No\"],\r\n    },\r\n    {\r\n      label: \"Nationality\",\r\n      name: \"nationality\",\r\n      type: \"select\",\r\n      required: true,\r\n      options: [\"United States\", \"India\", \"Canada\"],\r\n    },\r\n  ],\r\n  contactDetails: [\r\n    { label: \"Work Email\", name: \"workEmail\", type: \"email\", required: true },\r\n    { label: \"Personal Email\", name: \"personalEmail\", type: \"email\" },\r\n    { label: \"Mobile Number\", name: \"mobileNumber\", type: \"text\", required: true },\r\n    { label: \"Work Number\", name: \"workNumber\", type: \"text\" },\r\n  ],\r\n  address: [\r\n    { label: \"Street\", name: \"street\", type: \"text\", required: true },\r\n    { label: \"City\", name: \"city\", type: \"text\", required: true },\r\n    { label: \"State\", name: \"state\", type: \"text\", required: true },\r\n    { label: \"Zip\", name: \"zip\", type: \"text\", required: true },\r\n    { label: \"Country\", name: \"country\", type: \"text\", required: true },\r\n    { label: \"District\", name: \"district\", type: \"text\", required: true },\r\n  ],\r\n  relations: [\r\n    { label: \"Father Name\", name: \"fatherName\", type: \"text\" },\r\n    { label: \"Mother Name\", name: \"motherName\", type: \"text\" },\r\n    { label: \"Spouse Name\", name: \"spouseName\", type: \"text\" },\r\n    { label: \"Children\", name: \"children\", type: \"number\" },\r\n    { label: \"Siblings\", name: \"siblings\", type: \"number\" },\r\n  ],\r\n  education: [\r\n    { label: \"Degree Type\", name: \"degreeType\", type: \"text\", required: true },\r\n    { label: \"Institution\", name: \"universityOrCollege\", type: \"text\", required: true },\r\n    { label: \"Specialization\", name: \"branchOrSpecialization\", type: \"text\", required: true },\r\n    { label: \"Start Year\", name: \"startYear\", type: \"text\", required: true },\r\n    { label: \"End Year\", name: \"endYear\", type: \"text\", required: true },\r\n    { label: \"CGPA/Percentage\", name: \"cgpaOrPercentage\", type: \"text\" },\r\n    { label: \"Degree Certificate\", name: \"addFiles\", type: \"file\", required: true },\r\n  ],\r\n  experience: [\r\n    { label: \"Company Name\", name: \"companyName\", type: \"text\", required: true },\r\n    { label: \"Job Title\", name: \"jobTitle\", type: \"text\", required: true },\r\n    { label: \"Location\", name: \"location\", type: \"text\" },\r\n    { label: \"Description\", name: \"description\", type: \"text\" },\r\n    { label: \"Start Date\", name: \"startMonth\", type: \"text\", required: true },\r\n    { label: \"Start Year\", name: \"startYear\", type: \"text\", required: true },\r\n    { label: \"End Date\", name: \"endMonth\", type: \"text\" },\r\n    { label: \"End Year\", name: \"endYear\", type: \"text\" },\r\n  ],\r\n};\r\n\r\n// Section configurations with icons and colors\r\nconst sectionConfig = {\r\n  primaryDetails: {\r\n    icon: IoPersonOutline,\r\n    color: 'from-blue-500 to-blue-700',\r\n    bgColor: 'bg-blue-50',\r\n    darkBgColor: 'bg-blue-900/20',\r\n    borderColor: 'border-blue-200',\r\n    darkBorderColor: 'border-blue-700',\r\n    textColor: 'text-blue-700',\r\n    darkTextColor: 'text-blue-400',\r\n    title: 'Primary Details',\r\n    description: 'Personal information and basic details'\r\n  },\r\n  contactDetails: {\r\n    icon: IoMailOutline,\r\n    color: 'from-green-500 to-green-700',\r\n    bgColor: 'bg-green-50',\r\n    darkBgColor: 'bg-green-900/20',\r\n    borderColor: 'border-green-200',\r\n    darkBorderColor: 'border-green-700',\r\n    textColor: 'text-green-700',\r\n    darkTextColor: 'text-green-400',\r\n    title: 'Contact Details',\r\n    description: 'Email addresses and phone numbers'\r\n  },\r\n  address: {\r\n    icon: IoLocationOutline,\r\n    color: 'from-orange-500 to-orange-700',\r\n    bgColor: 'bg-orange-50',\r\n    darkBgColor: 'bg-orange-900/20',\r\n    borderColor: 'border-orange-200',\r\n    darkBorderColor: 'border-orange-700',\r\n    textColor: 'text-orange-700',\r\n    darkTextColor: 'text-orange-400',\r\n    title: 'Address Information',\r\n    description: 'Current residential address'\r\n  },\r\n  relations: {\r\n    icon: IoPeopleOutline,\r\n    color: 'from-purple-500 to-purple-700',\r\n    bgColor: 'bg-purple-50',\r\n    darkBgColor: 'bg-purple-900/20',\r\n    borderColor: 'border-purple-200',\r\n    darkBorderColor: 'border-purple-700',\r\n    textColor: 'text-purple-700',\r\n    darkTextColor: 'text-purple-400',\r\n    title: 'Family Relations',\r\n    description: 'Family members and relationships'\r\n  },\r\n  education: {\r\n    icon: IoSchoolOutline,\r\n    color: 'from-yellow-500 to-amber-700',\r\n    bgColor: 'bg-yellow-50',\r\n    darkBgColor: 'bg-yellow-900/20',\r\n    borderColor: 'border-yellow-200',\r\n    darkBorderColor: 'border-yellow-700',\r\n    textColor: 'text-yellow-700',\r\n    darkTextColor: 'text-yellow-400',\r\n    title: 'Education Details',\r\n    description: 'Academic qualifications and achievements'\r\n  },\r\n  experience: {\r\n    icon: IoBriefcaseOutline,\r\n    color: 'from-indigo-500 to-indigo-700',\r\n    bgColor: 'bg-indigo-50',\r\n    darkBgColor: 'bg-indigo-900/20',\r\n    borderColor: 'border-indigo-200',\r\n    darkBorderColor: 'border-indigo-700',\r\n    textColor: 'text-indigo-700',\r\n    darkTextColor: 'text-indigo-400',\r\n    title: 'Previous Experience',\r\n    description: 'Professional work history'\r\n  },\r\n};\r\n\r\nfunction Profile() {\r\n  const [editingSection, setEditingSection] = useState(null);\r\n  const [primarydata, setPrimaryData] = useState(null);\r\n  const [contactdetails, setContactDetails] = useState(null);\r\n  const [addressData, setAddressData] = useState(null);\r\n  const [eduData, setEduData] = useState([]);\r\n  const [experience, setExperience] = useState([]);\r\n  const { theme, userData } = useContext(Context);\r\n  const [editingData, setEditingData] = useState({});\r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n  const [loading, setLoading] = useState(true);\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n  const [completionStats, setCompletionStats] = useState({ completed: 0, total: 6 });\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n  const profileEmployeeId = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n\r\n  const isAdmin = userData?.roles?.[0]?.toUpperCase() === 'ADMIN';\r\n\r\n  const isReadOnly = fromContextMenu && targetEmployeeId && targetEmployeeId !== empID && !isAdmin;\r\n\r\n  useEffect(() => {\r\n    if (fromContextMenu && targetEmployeeId) {\r\n      console.log(\"Viewing profile from context menu for employee:\", targetEmployeeId);\r\n    }\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const [primaryRes, contactRes, addressRes, eduRes, expRes] = await Promise.all([\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/primary/details`).catch(err => ({ data: null })),\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/contact`).catch(err => ({ data: null })),\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/address`).catch(err => ({ data: null })),\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/degreeDetails`).catch(err => ({ data: [] })),\r\n          publicinfoApi.get(`employee/${profileEmployeeId}/previousExperience`).catch(err => ({ data: [] })),\r\n        ]);\r\n\r\n        setPrimaryData(primaryRes.data);\r\n        setContactDetails(contactRes.data);\r\n        setAddressData(addressRes.data);\r\n        setEduData(eduRes.data);\r\n        setExperience(expRes.data);\r\n\r\n        const sections = [primaryRes.data, contactRes.data, addressRes.data, eduRes.data.length > 0, expRes.data.length > 0, defaultProfile.relations];\r\n        const completed = sections.filter(Boolean).length;\r\n        setCompletionStats({ completed, total: 6 });\r\n\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch data:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (profileEmployeeId) {\r\n      fetchData();\r\n    }\r\n  }, [profileEmployeeId, fromContextMenu, targetEmployeeId]);\r\n\r\n  const openEditSection = (section) => {\r\n    if (isReadOnly) {\r\n      alert(\"You can only view this employee's profile. Editing is not allowed.\");\r\n      return;\r\n    }\r\n    setErrors({});\r\n    let dataToEdit = {};\r\n    if (section === \"primaryDetails\") {\r\n      dataToEdit = primarydata;\r\n    } else if (section === \"contactDetails\") {\r\n      dataToEdit = contactdetails;\r\n    } else if (section === \"address\") {\r\n      dataToEdit = addressData;\r\n    } else if (section === \"relations\") {\r\n      dataToEdit = defaultProfile.relations;\r\n    } else if (section === \"education\") {\r\n      dataToEdit = eduData && eduData.length > 0 ? eduData[0] : {};\r\n    } else if (section === \"experience\") {\r\n      dataToEdit = experience && experience.length > 0 ? experience[0] : {};\r\n    }\r\n\r\n    setEditingData(dataToEdit || {});\r\n    setSelectedFile(null);\r\n    setEditingSection({ section });\r\n  };\r\n\r\n  const handleDelete = async (sectionKey) => {\r\n    const sectionTitle = sectionConfig[sectionKey].title;\r\n    if (!window.confirm(`Are you sure you want to delete the ${sectionTitle} for employee ${profileEmployeeId}? This action cannot be undone.`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      let url = '';\r\n\r\n      switch (sectionKey) {\r\n        case 'primaryDetails':\r\n          url = `employee/${profileEmployeeId}/primary/details`;\r\n          break;\r\n        case 'contactDetails':\r\n          url = `employee/${profileEmployeeId}/contact`;\r\n          break;\r\n        case 'address':\r\n          url = `employee/${profileEmployeeId}/address`;\r\n          break;\r\n        case 'education':\r\n          alert(\"Education deletion should be done per entry. This feature needs backend support for bulk deletion.\");\r\n          return;\r\n        case 'experience':\r\n          alert(\"Experience deletion should be done per entry. This feature needs backend support for bulk deletion.\");\r\n          return;\r\n        case 'relations':\r\n          alert(\"Relations cannot be deleted as they are static data.\");\r\n          return;\r\n        default:\r\n          throw new Error(\"Invalid section for deletion\");\r\n      }\r\n\r\n      await publicinfoApi.delete(url);\r\n      alert(`${sectionTitle} deleted successfully.`);\r\n\r\n      switch (sectionKey) {\r\n        case 'primaryDetails':\r\n          setPrimaryData(null);\r\n          break;\r\n        case 'contactDetails':\r\n          setContactDetails(null);\r\n          break;\r\n        case 'address':\r\n          setAddressData(null);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n\r\n      const sections = [\r\n        sectionKey === 'primaryDetails' ? null : primarydata,\r\n        sectionKey === 'contactDetails' ? null : contactdetails,\r\n        sectionKey === 'address' ? null : addressData,\r\n        eduData.length > 0,\r\n        experience.length > 0,\r\n        defaultProfile.relations\r\n      ];\r\n      const completed = sections.filter(Boolean).length;\r\n      setCompletionStats({ completed, total: 6 });\r\n\r\n    } catch (err) {\r\n      console.error(`Failed to delete ${sectionTitle}:`, err);\r\n      alert(`Error deleting ${sectionTitle}. You may not have the required permissions.`);\r\n    }\r\n  };\r\n\r\n  const handleEditFieldChange = (field, value) => {\r\n    setEditingData((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n    if (errors[field]) {\r\n      setErrors((prev) => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[field];\r\n        return newErrors;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (file) => {\r\n    setSelectedFile(file);\r\n  };\r\n\r\n  const handleUpdatePrimaryDetails = async () => {\r\n    try {\r\n      const url = `/employee/${profileEmployeeId}/primary/details`;\r\n      await publicinfoApi.put(url, editingData);\r\n      const updatedData = await publicinfoApi.get(url);\r\n      setPrimaryData(updatedData.data);\r\n      setCompletionStats(prev => ({ ...prev, completed: [updatedData.data, contactdetails, addressData, eduData.length > 0, experience.length > 0, defaultProfile.relations].filter(Boolean).length }));\r\n      return true;\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 400) setErrors(error.response.data);\r\n      else setErrors({ general: \"An unexpected error occurred while updating Primary Details.\" });\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleUpdateContactDetails = async () => {\r\n    try {\r\n      const url = `/employee/${profileEmployeeId}/contact`;\r\n      await publicinfoApi.put(url, editingData);\r\n      const updatedData = await publicinfoApi.get(url);\r\n      setContactDetails(updatedData.data);\r\n      setCompletionStats(prev => ({ ...prev, completed: [primarydata, updatedData.data, addressData, eduData.length > 0, experience.length > 0, defaultProfile.relations].filter(Boolean).length }));\r\n      return true;\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 400) setErrors(error.response.data);\r\n      else setErrors({ general: \"An unexpected error occurred while updating Contact Details.\" });\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleUpdateAddress = async () => {\r\n    try {\r\n      const url = `/employee/${profileEmployeeId}/address`;\r\n      await publicinfoApi.put(url, editingData);\r\n      const updatedData = await publicinfoApi.get(url);\r\n      setAddressData(updatedData.data);\r\n      setCompletionStats(prev => ({ ...prev, completed: [primarydata, contactdetails, updatedData.data, eduData.length > 0, experience.length > 0, defaultProfile.relations].filter(Boolean).length }));\r\n      return true;\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 400) setErrors(error.response.data);\r\n      else setErrors({ general: \"An unexpected error occurred while updating Address.\" });\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleUpdateEducation = async () => {\r\n    try {\r\n      const isUpdate = !!(editingData && editingData.id);\r\n      const method = isUpdate ? 'put' : 'post';\r\n      const url = isUpdate\r\n        ? `/employee/${profileEmployeeId}/degreeDetails/${editingData.id}`\r\n        : `/employee/${profileEmployeeId}/degreeDetails`;\r\n\r\n      const formData = new FormData();\r\n      if (selectedFile) {\r\n        formData.append(\"addFiles\", selectedFile);\r\n      }\r\n      formData.append(\"degree\", new Blob([JSON.stringify(editingData)], { type: \"application/json\" }));\r\n\r\n      await publicinfoApi[method](url, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n\r\n      const updatedEduRes = await publicinfoApi.get(`employee/${profileEmployeeId}/degreeDetails`);\r\n      setEduData(updatedEduRes.data);\r\n\r\n      setCompletionStats(prev => ({ ...prev, completed: [primarydata, contactdetails, addressData, updatedEduRes.data.length > 0, experience.length > 0, defaultProfile.relations].filter(Boolean).length }));\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Failed to update education details:\", error);\r\n      if (error.response && error.response.status === 400) setErrors(error.response.data);\r\n      else setErrors({ general: \"An unexpected error occurred while updating Education.\" });\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleUpdateExperience = async () => {\r\n    try {\r\n      const isUpdate = !!(editingData && editingData.id);\r\n      const url = `/employee/${profileEmployeeId}/previousExperience/${editingData.id}`;\r\n      const method = isUpdate ? 'put' : 'post';\r\n\r\n      if (isUpdate) {\r\n        await publicinfoApi.put(url, editingData);\r\n      } else {\r\n        await publicinfoApi.post(`/employee/${profileEmployeeId}/previousExperience`, editingData);\r\n      }\r\n\r\n      const updatedExperienceRes = await publicinfoApi.get(`employee/${profileEmployeeId}/previousExperience`);\r\n      setExperience(updatedExperienceRes.data);\r\n\r\n      setCompletionStats(prev => ({ ...prev, completed: [primarydata, contactdetails, addressData, eduData.length > 0, updatedExperienceRes.data.length > 0, defaultProfile.relations].filter(Boolean).length }));\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Failed to update experience details:\", error);\r\n      if (error.response && error.response.status === 400) setErrors(error.response.data);\r\n      else setErrors({ general: \"An unexpected error occurred while updating Experience.\" });\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleUpdateRelations = () => {\r\n    console.error(\"Backend endpoint for updating relations does not exist in your controller.\");\r\n    alert(\"This section cannot be updated yet. A backend API endpoint is missing.\");\r\n    setEditingSection(null);\r\n  };\r\n\r\n  const handleSubmit = async (section) => {\r\n    setIsUpdating(true);\r\n    let success = false;\r\n    try {\r\n      switch (section) {\r\n        case \"primaryDetails\":\r\n          success = await handleUpdatePrimaryDetails();\r\n          break;\r\n        case \"contactDetails\":\r\n          success = await handleUpdateContactDetails();\r\n          break;\r\n        case \"address\":\r\n          success = await handleUpdateAddress();\r\n          break;\r\n        case \"relations\":\r\n          handleUpdateRelations();\r\n          break;\r\n        case \"education\":\r\n          success = await handleUpdateEducation();\r\n          break;\r\n        case \"experience\":\r\n          success = await handleUpdateExperience();\r\n          break;\r\n        default:\r\n          console.error(\"Unknown section:\", section);\r\n          setErrors({ general: \"Unknown section selected for update.\" });\r\n      }\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n\r\n    if (success) {\r\n      setEditingSection(null);\r\n      setErrors({});\r\n    }\r\n  };\r\n  \r\n  const renderField = (label, name, type = \"text\", required = false, options = []) => {\r\n    const isError = errors[name];\r\n    const fieldValue = editingData[name] || \"\";\r\n    \r\n    if (type === \"file\") {\r\n      return (\r\n        <div className=\"group relative\" key={name}>\r\n          <label className={`block text-sm font-semibold mb-3 flex items-center ${\r\n            theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n          }`}>\r\n            {label}\r\n            {required && <span className=\"text-red-500 ml-1 text-base\">*</span>}\r\n          </label>\r\n          <div className={`relative border-2 border-dashed rounded-xl transition-all duration-300 \r\n              ${isError \r\n                  ? 'border-red-300 bg-red-50' \r\n                  : theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-800 hover:border-blue-400 hover:bg-blue-900/20'\r\n                  : 'border-gray-300 bg-gray-50 hover:border-blue-400 hover:bg-blue-50'\r\n              }`}>\r\n            <input\r\n              type=\"file\"\r\n              onChange={(e) => handleFileChange(e.target.files?.[0])}\r\n              className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\r\n              accept=\".jpg,.jpeg,.png,.pdf\"\r\n              required={required}\r\n            />\r\n            <div className=\"px-6 py-8 text-center\">\r\n              <IoCloudUpload className={`mx-auto h-12 w-12 mb-4 ${\r\n                theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n              }`} />\r\n              <p className={`text-sm font-medium mb-1 ${\r\n                theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n              }`}>\r\n                Drop your file here, or <span className=\"text-blue-600\">browse</span>\r\n              </p>\r\n              <p className={`text-xs ${\r\n                theme === 'dark' ? 'text-gray-500' : 'text-gray-500'\r\n              }`}>PNG, JPG, PDF up to 10MB</p>\r\n              {selectedFile && (\r\n                  <p className={`mt-2 text-sm font-medium ${theme === 'dark' ? 'text-green-400' : 'text-green-600'}`}>\r\n                      Selected: {selectedFile.name}\r\n                  </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div className=\"group relative\" key={name}>\r\n        <label className={`block text-sm font-semibold mb-3 flex items-center ${\r\n          theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n        }`}>\r\n          {label}\r\n          {required && <span className=\"text-red-500 ml-1 text-base\">*</span>}\r\n        </label>\r\n        \r\n        {type === \"select\" ? (\r\n          <div className=\"relative\">\r\n            <select \r\n              value={fieldValue} \r\n              onChange={(e) => handleEditFieldChange(name, e.target.value)} \r\n              className={`w-full px-5 py-4 border-2 rounded-xl transition-all duration-300 appearance-none \r\n                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n                ${isError \r\n                  ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20' \r\n                  : theme === 'dark'\r\n                  ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                  : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n                }`}\r\n            >\r\n              <option value=\"\">Choose {label}</option>\r\n              {options.map((opt) => (<option key={opt} value={opt}>{opt}</option>))}\r\n            </select>\r\n            <div className=\"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none\">\r\n              <svg className={`w-5 h-5 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        ) : type === \"date\" ? (\r\n          <input \r\n            type=\"date\" \r\n            value={fieldValue} \r\n            onChange={(e) => handleEditFieldChange(name, e.target.value)} \r\n            className={`w-full px-5 py-4 border-2 rounded-xl transition-all duration-300\r\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n              ${isError \r\n                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20' \r\n                : theme === 'dark'\r\n                ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n              }`}\r\n          />\r\n        ) : (\r\n          <input \r\n            type={type} \r\n            value={fieldValue} \r\n            onChange={(e) => handleEditFieldChange(name, e.target.value)} \r\n            className={`w-full px-5 py-4 border-2 rounded-xl transition-all duration-300\r\n              focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n              ${isError \r\n                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20' \r\n                : theme === 'dark'\r\n                ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n              }`}\r\n            placeholder={`Enter ${label.toLowerCase()}...`} \r\n            required={required} \r\n          />\r\n        )}\r\n        \r\n        {isError && (\r\n          <div className=\"mt-3 flex items-center space-x-2 text-red-600 animate-slideIn\">\r\n            <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n            <p className=\"text-sm font-medium\">{isError}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n    \r\n  const renderEditModal = () => {\r\n    if (!editingSection) return null;\r\n    const { section } = editingSection;\r\n    const fields = sectionFields[section] || [];\r\n    const config = sectionConfig[section];\r\n    const IconComponent = config.icon;\r\n    \r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-4 animate-fadeIn\">\r\n        <div className={`rounded-3xl w-full max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl animate-slideUp flex flex-col ${\r\n          theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n        }`}>\r\n          <div className={`px-8 py-6 bg-gradient-to-r ${config.color} text-white relative overflow-hidden`}>\r\n            <div className=\"absolute inset-0 bg-black/10\"></div>\r\n            <div className=\"relative flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-4\">\r\n                <div className=\"p-3 bg-white/20 rounded-xl\">\r\n                  <IconComponent className=\"w-8 h-8\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-2xl font-bold\">\r\n                    Edit {config.title}\r\n                  </h2>\r\n                  <p className=\"text-white/90 text-sm\">{config.description}</p>\r\n                </div>\r\n              </div>\r\n              <button \r\n                onClick={() => setEditingSection(null)} \r\n                className=\"p-3 hover:bg-white/20 rounded-full transition-all duration-200 group\" \r\n                aria-label=\"Close\"\r\n              >\r\n                <IoClose className=\"w-6 h-6 group-hover:rotate-90 transition-transform duration-200\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"overflow-y-auto flex-grow\">\r\n            <form className=\"p-8\" onSubmit={(e) => { e.preventDefault(); handleSubmit(section); }}>\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n                {fields.map((f) => renderField(f.label, f.name, f.type, f.required, f.options))}\r\n              </div>\r\n              \r\n              {errors.general && (\r\n                <div className={`mt-6 p-5 border-l-4 border-red-400 rounded-r-xl animate-slideIn ${\r\n                  theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'\r\n                }`}>\r\n                  <div className=\"flex items-center\">\r\n                    <IoWarning className=\"w-6 h-6 text-red-400 mr-3\" />\r\n                    <p className={`font-medium ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>{errors.general}</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </form>\r\n          </div>\r\n          \r\n          <div className={`px-8 py-6 border-t flex justify-end space-x-4 ${\r\n            theme === 'dark' \r\n              ? 'bg-gray-700 border-gray-600' \r\n              : 'bg-gray-50 border-gray-200'\r\n          }`}>\r\n            <button \r\n              type=\"button\" \r\n              onClick={() => setEditingSection(null)} \r\n              className={`px-8 py-3 border-2 rounded-xl font-semibold transition-all duration-200 focus:ring-4 focus:ring-gray-500/20 ${\r\n                theme === 'dark'\r\n                  ? 'border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500'\r\n                  : 'border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400'\r\n              }`}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button \r\n              type=\"button\" \r\n              onClick={() => handleSubmit(section)}\r\n              disabled={isUpdating}\r\n              className={`px-10 py-3 bg-gradient-to-r ${config.color} text-white font-bold rounded-xl\r\n                          hover:shadow-lg transform hover:scale-105 transition-all duration-200 \r\n                          focus:ring-4 focus:ring-blue-500/30 flex items-center space-x-2\r\n                          ${isUpdating ? 'cursor-not-allowed opacity-75' : ''}`}\r\n            >\r\n              {isUpdating ? (\r\n                <>\r\n                  <div className=\"h-5 w-5 border-4 border-white border-t-transparent rounded-full animate-spin-slow\"></div>\r\n                  <span>Updating...</span>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <IoCheckmarkCircle className=\"w-5 h-5\" />\r\n                  <span>Update Information</span>\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  const DetailItem = ({ label, value }) => (\r\n    <div className={`group p-4 rounded-xl border transition-all duration-300 hover:scale-105 ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600 hover:shadow-md hover:shadow-blue-500/20'\r\n        : 'bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100 hover:shadow-md'\r\n    }`}>\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex-1\">\r\n          <span className={`text-xs font-bold uppercase tracking-wider block mb-2 ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n          }`}>\r\n            {label}\r\n          </span>\r\n          <p className={`text-sm font-semibold leading-relaxed ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n          }`}>\r\n            {value || (\r\n              <span className={`italic ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>Not provided</span>\r\n            )}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const Section = ({ sectionKey, title, children, data }) => {\r\n    const config = sectionConfig[sectionKey];\r\n    const IconComponent = config.icon;\r\n    const hasData = Array.isArray(data) ? data.length > 0 : !!data;\r\n    \r\n    return (\r\n      <div className={`border-2 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 \r\n                       overflow-hidden group hover:scale-[1.02] mb-8 ${\r\n        theme === 'dark'\r\n          ? `bg-gray-800 ${config.darkBorderColor} hover:shadow-blue-500/20`\r\n          : `bg-white ${config.borderColor}`\r\n      }`}>\r\n        <div className={`px-8 py-6 border-b-2 relative overflow-hidden ${\r\n          theme === 'dark'\r\n            ? `${config.darkBgColor} ${config.darkBorderColor}`\r\n            : `${config.bgColor} ${config.borderColor}`\r\n        }`}>\r\n          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent to-white/30\"></div>\r\n          <div className=\"relative flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className={`p-3 rounded-xl shadow-md transform group-hover:scale-110 transition-transform duration-300 ${\r\n                theme === 'dark' ? 'bg-gray-700' : 'bg-white'\r\n              }`}>\r\n                <IconComponent className={`w-8 h-8 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                }`} />\r\n              </div>\r\n              <div>\r\n                <h4 className={`text-xl font-bold flex items-center space-x-2 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                }`}>\r\n                  <span>{title}</span>\r\n                  {hasData && (\r\n                    <div className=\"flex items-center space-x-1\">\r\n                      <IoCheckmarkCircle className=\"w-5 h-5 text-green-500\" />\r\n                      <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium\">\r\n                        Complete\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </h4>\r\n                <p className={`text-sm mt-1 ${\r\n                  theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n                }`}>{config.description}</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-2\">\r\n              {fromContextMenu && isAdmin && hasData && !['education', 'experience', 'relations'].includes(sectionKey) && (\r\n                <button\r\n                  onClick={() => handleDelete(sectionKey)}\r\n                  className={`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 focus:ring-4 focus:ring-red-500/20 shadow-md hover:shadow-lg ${\r\n                    theme === 'dark'\r\n                      ? 'text-red-400 bg-gray-700 border-2 border-red-800 hover:bg-red-900/50'\r\n                      : 'text-red-600 bg-white border-2 border-red-200 hover:bg-red-50'\r\n                  }`}\r\n                >\r\n                  <IoTrashOutline className=\"w-4 h-4\" />\r\n                  <span>Delete</span>\r\n                </button>\r\n              )}\r\n\r\n              {(!isReadOnly || isAdmin) && (\r\n                <button \r\n                  onClick={() => openEditSection(sectionKey)} \r\n                  className={`flex items-center space-x-2 px-6 py-3 cursor-pointer rounded-xl font-semibold transition-all duration-300 \r\n                              transform hover:scale-105 focus:ring-4 focus:ring-blue-500/20 shadow-md hover:shadow-lg\r\n                              ${hasData \r\n                                ? theme === 'dark'\r\n                                  ? `${config.darkTextColor} bg-gray-700 border-2 ${config.darkBorderColor} hover:bg-gray-600`\r\n                                  : `${config.textColor} bg-white border-2 ${config.borderColor} hover:bg-gray-50`\r\n                                : 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:from-blue-600 hover:to-indigo-700'\r\n                              }`}\r\n                >\r\n                  {hasData ? (\r\n                    <>\r\n                      <IconComponent className=\"w-4 h-4\" />\r\n                      <span>Edit Details</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <IoAdd className=\"w-4 h-4\" />\r\n                      <span>Add Information</span>\r\n                    </>\r\n                  )}\r\n                </button>\r\n              )}\r\n            </div>\r\n            \r\n            {isReadOnly && !isAdmin && (\r\n              <div className={`px-6 py-3 rounded-xl font-semibold ${\r\n                theme === 'dark' \r\n                  ? 'bg-gray-700 text-gray-400 border-2 border-gray-600' \r\n                  : 'bg-gray-100 text-gray-500 border-2 border-gray-300'\r\n              }`}>\r\n                <IoEye className=\"w-4 h-4 inline mr-2\" />\r\n                <span>View Only</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"p-8\">\r\n          {hasData ? (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">\r\n              {children}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-12\">\r\n              <div className={`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ${\r\n                theme === 'dark' ? config.darkBgColor : config.bgColor\r\n              }`}>\r\n                <IconComponent className={`w-10 h-10 opacity-50 ${\r\n                  theme === 'dark' ? config.darkTextColor : config.textColor\r\n                }`} />\r\n              </div>\r\n              <h3 className={`text-lg font-semibold mb-2 ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n              }`}>No {title} Added</h3>\r\n              <p className={`text-sm mb-6 max-w-sm mx-auto ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>\r\n                {isReadOnly \r\n                  ? `This employee hasn't added their ${title.toLowerCase()} information yet.`\r\n                  : `Add your ${title.toLowerCase()} to complete your profile information.`\r\n                }\r\n              </p>\r\n              {!isReadOnly && (\r\n                <button \r\n                  onClick={() => openEditSection(sectionKey)}\r\n                  className=\"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 \r\n                               text-white font-semibold rounded-xl hover:from-blue-600 hover:to-indigo-700 \r\n                               transform hover:scale-105 transition-all duration-300 shadow-lg\"\r\n                >\r\n                  <IoAdd className=\"w-4 h-4\" />\r\n                  <span>Add {title}</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const ProgressIndicator = () => {\r\n    const profileSections = [\r\n      primarydata,\r\n      contactdetails,\r\n      addressData,\r\n      eduData.length > 0,\r\n      experience.length > 0\r\n    ];\r\n    const completedCount = profileSections.filter(Boolean).length;\r\n    const totalCount = profileSections.length;\r\n    const percentage = totalCount > 0 ? (completedCount / totalCount) * 100 : 0;\r\n    \r\n    return (\r\n      <div className={`rounded-2xl p-6 shadow-lg border ${\r\n        theme === 'dark' \r\n          ? 'bg-gray-800 border-gray-700' \r\n          : 'bg-white border-gray-200'\r\n      }`}>\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className={`text-lg font-bold ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n          }`}>\r\n            {isReadOnly ? 'Profile Status' : 'Profile Completion'}\r\n          </h3>\r\n          <span className={`text-sm font-medium ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n          }`}>\r\n            {completedCount}/{totalCount} Sections\r\n          </span>\r\n        </div>\r\n        <div className={`w-full rounded-full h-3 mb-4 overflow-hidden ${\r\n          theme === 'dark' ? 'bg-gray-700' : 'bg-gray-200'\r\n        }`}>\r\n          <div \r\n            className=\"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-700 ease-out\"\r\n            style={{ width: `${percentage}%` }}\r\n          ></div>\r\n        </div>\r\n        <div className=\"flex justify-between text-sm\">\r\n          <span className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>{percentage.toFixed(0)}% Complete</span>\r\n          {percentage === 100 && (\r\n            <span className=\"text-green-600 font-semibold flex items-center\">\r\n              <IoCheckmarkCircle className=\"w-4 h-4 mr-1\" />\r\n              All Set!\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`min-h-screen ${\r\n      theme === 'dark' \r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      {loading ? (\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <div className=\"text-center\">\r\n            <div className=\"relative\">\r\n              <div className=\"animate-spin rounded-full h-20 w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-6\"></div>\r\n              <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                <IoPersonOutline className=\"w-8 h-8 text-blue-500\" />\r\n              </div>\r\n            </div>\r\n            <h2 className={`text-2xl font-bold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>Loading Profile</h2>\r\n            <p className={`${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n            }`}>Fetching profile information...</p>\r\n            <div className=\"flex justify-center space-x-2 mt-4\">\r\n              {[...Array(4)].map((_, i) => (\r\n                <div key={i} className={`w-2 h-2 rounded-full bg-blue-500 animate-pulse`} \r\n                     style={{ animationDelay: `${i * 0.2}s` }}></div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"max-w-8xl mx-auto px-6 sm:px-8 lg:px-12 py-12\">\r\n          {fromContextMenu && (\r\n            <div className={`mb-6 p-4 rounded-2xl border-l-4 border-blue-500 shadow-lg ${\r\n              theme === 'dark' ? 'bg-blue-900/20 border-blue-400' : 'bg-blue-50 border-blue-500'\r\n            }`}>\r\n              <div className=\"flex items-center space-x-3\">\r\n                <IoEye className={`w-5 h-5 ${theme === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} />\r\n                <div>\r\n                  <p className={`font-semibold ${theme === 'dark' ? 'text-blue-400' : 'text-blue-800'}`}>\r\n                    Viewing Employee Profile\r\n                  </p>\r\n                  <p className={`text-sm ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                    Employee ID: {targetEmployeeId} \r\n                    {isReadOnly && \"  Read-only access\"}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mb-12\">\r\n            <ProgressIndicator />\r\n          </div>\r\n\r\n          <div className=\"space-y-8\">\r\n            <>\r\n              <Section sectionKey=\"primaryDetails\" title=\"Primary Details\" data={primarydata}>\r\n                <DetailItem label=\"First Name\" value={primarydata?.firstName} />\r\n                <DetailItem label=\"Middle Name\" value={primarydata?.middleName} />\r\n                <DetailItem label=\"Last Name\" value={primarydata?.lastName} />\r\n                <DetailItem label=\"Display Name\" value={primarydata?.displayName} />\r\n                <DetailItem label=\"Gender\" value={primarydata?.gender} />\r\n                <DetailItem label=\"Date of Birth\" value={primarydata?.dateOfBirth} />\r\n                <DetailItem label=\"Marital Status\" value={primarydata?.maritalStatus} />\r\n                <DetailItem label=\"Blood Group\" value={primarydata?.bloodGroup} />\r\n                <DetailItem label=\"Physically Handicapped\" value={primarydata?.physicallyHandicapped} />\r\n                <DetailItem label=\"Nationality\" value={primarydata?.nationality} />\r\n              </Section>\r\n              <Section sectionKey=\"contactDetails\" title=\"Contact Details\" data={contactdetails}>\r\n                <DetailItem label=\"Work Email\" value={contactdetails?.workEmail} />\r\n                <DetailItem label=\"Personal Email\" value={contactdetails?.personalEmail} />\r\n                <DetailItem label=\"Mobile Number\" value={contactdetails?.mobileNumber} />\r\n                <DetailItem label=\"Work Number\" value={contactdetails?.workNumber} />\r\n              </Section>\r\n              <Section sectionKey=\"address\" title=\"Address Information\" data={addressData}>\r\n                <DetailItem label=\"Street\" value={addressData?.street} />\r\n                <DetailItem label=\"City\" value={addressData?.city} />\r\n                <DetailItem label=\"State\" value={addressData?.state} />\r\n                <DetailItem label=\"Zip\" value={addressData?.zip} />\r\n                <DetailItem label=\"Country\" value={addressData?.country} />\r\n                <DetailItem label=\"District\" value={addressData?.district} />\r\n              </Section>\r\n              <Section sectionKey=\"relations\" title=\"Family Relations\" data={defaultProfile.relations}>\r\n                <DetailItem label=\"Father Name\" value={defaultProfile.relations?.fatherName} />\r\n                <DetailItem label=\"Mother Name\" value={defaultProfile.relations?.motherName} />\r\n                <DetailItem label=\"Spouse Name\" value={defaultProfile.relations?.spouseName} />\r\n                <DetailItem label=\"Children\" value={defaultProfile.relations?.children} />\r\n                <DetailItem label=\"Siblings\" value={defaultProfile.relations?.siblings} />\r\n              </Section>\r\n\r\n              <Section sectionKey=\"education\" title=\"Education Details\" data={eduData}>\r\n                {eduData?.map((edu, index) => (\r\n                  <div key={index} className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    <DetailItem label=\"Degree\" value={edu.degreeType} />\r\n                    <DetailItem label=\"Institution\" value={edu.universityOrCollege} />\r\n                    <DetailItem label=\"Specialization\" value={edu.branchOrSpecialization} />\r\n                    <DetailItem label=\"Years\" value={`${edu.startYear} - ${edu.endYear}`} />\r\n                    <DetailItem label=\"CGPA/Percentage\" value={edu.cgpaOrPercentage} />\r\n                    {edu.addFiles && (\r\n                       <div className=\"md:col-span-2 lg:col-span-1\">\r\n                         <a href={edu.addFiles} target=\"_blank\" rel=\"noopener noreferrer\" className={`p-4 rounded-xl border flex items-center justify-center space-x-2 transition-all duration-300 hover:scale-105 ${\r\n                           theme === 'dark' \r\n                             ? 'bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600 hover:shadow-md hover:shadow-blue-500/20' \r\n                             : 'bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100 hover:shadow-md'\r\n                         }`}>\r\n                           <IoCheckmarkCircle className=\"w-5 h-5 text-green-500\" />\r\n                           <span className={`font-semibold ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>View Certificate</span>\r\n                         </a>\r\n                       </div>\r\n                     )}\r\n                  </div>\r\n                ))}\r\n              </Section>\r\n              \r\n              <Section sectionKey=\"experience\" title=\"Previous Experience\" data={experience}>\r\n                {experience?.map((exp, index) => (\r\n                  <div key={exp.id || index} className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    <DetailItem label=\"Company Name\" value={exp.companyName} />\r\n                    <DetailItem label=\"Job Title\" value={exp.jobTitle} />\r\n                    <DetailItem label=\"Location\" value={exp.location} />\r\n                    <DetailItem label=\"Duration\" value={`${exp.startMonth} ${exp.startYear} - ${exp.endMonth ? exp.endMonth + ' ' + exp.endYear : 'Present'}`} />\r\n                    <DetailItem label=\"Description\" value={exp.description} />\r\n                  </div>\r\n                ))}\r\n              </Section>\r\n            </>\r\n          </div>\r\n          \r\n          {renderEditModal()}\r\n        </div>\r\n      )}\r\n      \r\n      <style jsx>{`\r\n        @keyframes fadeIn {\r\n          from { opacity: 0; }\r\n          to { opacity: 1; }\r\n        }\r\n        @keyframes slideUp {\r\n          from { transform: translateY(20px); opacity: 0; }\r\n          to { transform: translateY(0); opacity: 1; }\r\n        }\r\n        @keyframes slideIn {\r\n          from { transform: translateX(-10px); opacity: 0; }\r\n          to { transform: translateX(0); opacity: 1; }\r\n        }\r\n        .animate-fadeIn { animation: fadeIn 0.3s ease-out; }\r\n        .animate-slideUp { animation: slideUp 0.4s ease-out; }\r\n        .animate-slideIn { animation: slideIn 0.3s ease-out; }\r\n        .animate-spin-slow {\r\n            animation: spin 1s linear infinite;\r\n        }\r\n        @keyframes spin {\r\n            from { transform: rotate(0deg); }\r\n            to { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","// src/TechLife/HRMS/Components/Profile/tabs/Job.jsx\r\n\r\nimport React, { useEffect, useState, useContext } from 'react';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport { Context } from '../../HrmsContext';\r\nimport { publicinfoApi } from '../../../../../axiosInstance';\r\nimport { \r\n  IoBriefcaseOutline, \r\n  IoTimeOutline, \r\n  IoDocumentTextOutline, \r\n  IoBusinessOutline, \r\n  IoCheckmarkCircle, \r\n  IoWarning,\r\n  IoEye\r\n} from 'react-icons/io5';\r\n\r\n\r\n// Static data for other sections\r\nconst employeeTime = [\r\n  { label: \"SHIFT\", value: \"10 AM - 8 PM\" },\r\n  { label: \"WEEKLY OFF POLICY\", value: \"All Sat - Sun\" },\r\n  { label: \"LEAVE PLAN\", value: \"Leave Plan\" },\r\n  { label: \"HOLIDAY CALENDAR\", value: \"Anasol Holiday Plan\" },\r\n  { label: \"ATTENDANCE NUMBER\", value: \"-\" },\r\n  { label: \"PAYROLL TIME SOURCE\", value: \"Attendance\" },\r\n  { label: \"ATTENDANCE CAPTURE SCHEME\", value: \"Capture Scheme Anasol\" },\r\n  { label: \"ATTENDANCE PENALIZATION POLICY\", value: \"Anasol Penalization Policy\" },\r\n  { label: \"SHIFT WEEKLY OFF RULE\", value: \"-Not Set-\" },\r\n  { label: \"SHIFT ALLOWANCE POLICY\", value: \"-Not Set-\" },\r\n  { label: \"OVERTIME\", value: \"-Not Set-\" },\r\n];\r\n\r\n\r\nconst otherPolicies = [\r\n  { label: \"EXPENSE POLICY\", value: \"-\" },\r\n  { label: \"TIMESHEET POLICY\", value: \"-\" },\r\n  { label: \"LOAN POLICY\", value: \"-\" },\r\n  { label: \"AIR TICKET POLICY\", value: \"-\" },\r\n];\r\n\r\n\r\nconst organizationDetails = [\r\n  { label: \"BUSINESS UNIT\", value: \"-\" },\r\n  { label: \"DEPARTMENT\", value: \"Software Development\" },\r\n  { label: \"LOCATION\", value: \"ANASOL CONSULTANCY SERVICES PRIVATE...\" },\r\n  { label: \"COST CENTER\", value: \"-Not Set-\" },\r\n  { label: \"LEGAL ENTITY\", value: \"ANASOL PRIVATE LIMITED\" },\r\n  { label: \"REPORTS TO\", value: \"-\" },\r\n  { label: \"MANAGER OF MANAGER (L2 MANAGER)\", value: \"-\" },\r\n  { label: \"DIRECT REPORTS\", value: \"0 Employees\" },\r\n];\r\n\r\n\r\n// Section configurations with icons and colors\r\nconst sectionConfig = {\r\n  jobDetails: {\r\n    icon: IoBriefcaseOutline,\r\n    color: 'from-blue-500 to-blue-700',\r\n    bgColor: 'bg-blue-50',\r\n    darkBgColor: 'bg-blue-900/20',\r\n    borderColor: 'border-blue-200',\r\n    darkBorderColor: 'border-blue-700',\r\n    textColor: 'text-blue-700',\r\n    darkTextColor: 'text-blue-400',\r\n    title: 'Job Details',\r\n    description: 'Employment information and job specifications'\r\n  },\r\n  employeeTime: {\r\n    icon: IoTimeOutline,\r\n    color: 'from-green-500 to-green-700',\r\n    bgColor: 'bg-green-50',\r\n    darkBgColor: 'bg-green-900/20',\r\n    borderColor: 'border-green-200',\r\n    darkBorderColor: 'border-green-700',\r\n    textColor: 'text-green-700',\r\n    darkTextColor: 'text-green-400',\r\n    title: 'Employee Time',\r\n    description: 'Work schedule and attendance policies'\r\n  },\r\n  otherPolicies: {\r\n    icon: IoDocumentTextOutline,\r\n    color: 'from-orange-500 to-orange-700',\r\n    bgColor: 'bg-orange-50',\r\n    darkBgColor: 'bg-orange-900/20',\r\n    borderColor: 'border-orange-200',\r\n    darkBorderColor: 'border-orange-700',\r\n    textColor: 'text-orange-700',\r\n    darkTextColor: 'text-orange-400',\r\n    title: 'Other Policies',\r\n    description: 'Additional company policies and guidelines'\r\n  },\r\n  organizationDetails: {\r\n    icon: IoBusinessOutline,\r\n    color: 'from-purple-500 to-purple-700',\r\n    bgColor: 'bg-purple-50',\r\n    darkBgColor: 'bg-purple-900/20',\r\n    borderColor: 'border-purple-200',\r\n    darkBorderColor: 'border-purple-700',\r\n    textColor: 'text-purple-700',\r\n    darkTextColor: 'text-purple-400',\r\n    title: 'Organization Details',\r\n    description: 'Departmental and reporting structure'\r\n  },\r\n};\r\n\r\n\r\nconst DetailItem = ({ label, value, note, status, theme }) => (\r\n  <div className={`group p-4 rounded-xl border transition-all duration-300 hover:scale-105 ${\r\n    theme === 'dark'\r\n      ? 'bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600 hover:shadow-md hover:shadow-blue-500/20'\r\n      : 'bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100 hover:shadow-md'\r\n  }`}>\r\n    <div className=\"flex items-start justify-between\">\r\n      <div className=\"flex-1\">\r\n        <span className={`text-xs font-bold uppercase tracking-wider block mb-2 ${\r\n          theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n        }`}>\r\n          {label}\r\n        </span>\r\n        {status === \"active\" ? (\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\r\n              <span className={`text-sm font-semibold ${\r\n                theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n              }`}>{value}</span>\r\n            </div>\r\n            {note && (\r\n              <span className={`text-xs px-2 py-1 rounded-full ${\r\n                theme === 'dark' ? 'text-gray-400 bg-gray-700' : 'text-gray-500 bg-gray-100'\r\n              }`}>\r\n                {note}\r\n              </span>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <p className={`text-sm font-semibold leading-relaxed ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n            }`}>\r\n              {value || (\r\n                <span className={`italic ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>Not provided</span>\r\n              )}\r\n            </p>\r\n            {note && (\r\n              <p className={`text-xs mt-1 px-2 py-1 rounded-md inline-block ${\r\n                theme === 'dark' ? 'bg-blue-900/40 text-blue-300' : 'bg-blue-50 text-blue-700'\r\n              }`}>\r\n                {note}\r\n              </p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n\r\nconst Section = ({ sectionKey, title, data, children, theme }) => {\r\n  const config = sectionConfig[sectionKey];\r\n  const IconComponent = config.icon;\r\n  const hasData = data && data.length > 0;\r\n  \r\n  return (\r\n    <div className={`border-2 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 \r\n                   overflow-hidden group hover:scale-[1.02] mb-8 ${\r\n      theme === 'dark'\r\n        ? `bg-gray-800 ${config.darkBorderColor} hover:shadow-blue-500/20`\r\n        : `bg-white ${config.borderColor}`\r\n    }`}>\r\n      <div className={`px-8 py-6 border-b-2 relative overflow-hidden ${\r\n        theme === 'dark'\r\n          ? `${config.darkBgColor} ${config.darkBorderColor}`\r\n          : `${config.bgColor} ${config.borderColor}`\r\n      }`}>\r\n        <div className=\"absolute inset-0 bg-gradient-to-r from-transparent to-white/30\"></div>\r\n        <div className=\"relative flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className={`p-3 rounded-xl shadow-md transform group-hover:scale-110 transition-transform duration-300 ${\r\n              theme === 'dark' ? 'bg-gray-700' : 'bg-white'\r\n            }`}>\r\n              <IconComponent className={`w-8 h-8 ${\r\n                theme === 'dark' ? config.darkTextColor : config.textColor\r\n              }`} />\r\n            </div>\r\n            <div>\r\n              <h4 className={`text-xl font-bold flex items-center space-x-2 ${\r\n                theme === 'dark' ? config.darkTextColor : config.textColor\r\n              }`}>\r\n                <span>{title}</span>\r\n                {hasData && (\r\n                  <div className=\"flex items-center space-x-1\">\r\n                    <IoCheckmarkCircle className=\"w-5 h-5 text-green-500\" />\r\n                    <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium\">\r\n                      Active\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </h4>\r\n              <p className={`text-sm mt-1 ${\r\n                theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n              }`}>{config.description}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"p-8\">\r\n        {hasData ? (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-4\">\r\n            {data.map((item, index) => (\r\n              <DetailItem \r\n                key={index} \r\n                label={item.label} \r\n                value={item.value} \r\n                note={item.note} \r\n                status={item.status} \r\n                theme={theme}\r\n              />\r\n            ))}\r\n            {children}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-12\">\r\n            <div className={`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ${\r\n              theme === 'dark' ? config.darkBgColor : config.bgColor\r\n            }`}>\r\n              <IconComponent className={`w-10 h-10 opacity-50 ${\r\n                theme === 'dark' ? config.darkTextColor : config.textColor\r\n              }`} />\r\n            </div>\r\n            <h3 className={`text-lg font-semibold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>No {title} Available</h3>\r\n            <p className={`text-sm mb-6 max-w-sm mx-auto ${\r\n              theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n            }`}>\r\n              {title} information is not currently available or configured.\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst ProgressIndicator = ({ completedSections, totalSections, theme }) => {\r\n  const percentage = (completedSections / totalSections) * 100;\r\n  \r\n  return (\r\n    <div className={`rounded-2xl p-6 shadow-lg border ${\r\n      theme === 'dark' \r\n        ? 'bg-gray-800 border-gray-700' \r\n        : 'bg-white border-gray-200'\r\n    }`}>\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className={`text-lg font-bold ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n        }`}>Job Information</h3>\r\n        <span className={`text-sm font-medium ${\r\n          theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n        }`}>\r\n          {completedSections}/{totalSections} Sections\r\n        </span>\r\n      </div>\r\n      <div className={`w-full rounded-full h-3 mb-4 overflow-hidden ${\r\n        theme === 'dark' ? 'bg-gray-700' : 'bg-gray-200'\r\n      }`}>\r\n        <div \r\n          className=\"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-700 ease-out\"\r\n          style={{ width: `${percentage}%` }}\r\n        ></div>\r\n      </div>\r\n      <div className=\"flex justify-between text-sm\">\r\n        <span className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>{percentage.toFixed(0)}% Complete</span>\r\n        {percentage === 100 && (\r\n          <span className=\"text-green-600 font-semibold flex items-center\">\r\n            <IoCheckmarkCircle className=\"w-4 h-4 mr-1\" />\r\n            All Set!\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst SkeletonCard = ({ theme }) => (\r\n  <div className={`border rounded-2xl shadow-sm overflow-hidden animate-pulse ${\r\n    theme === 'dark' \r\n      ? 'bg-gray-800 border-gray-700' \r\n      : 'bg-white border-gray-200'\r\n  }`}>\r\n    <div className={`p-6 border-b ${\r\n      theme === 'dark' \r\n        ? 'bg-gray-700 border-gray-600' \r\n        : 'bg-gray-100 border-gray-200'\r\n    }`}>\r\n      <div className=\"flex items-center space-x-4\">\r\n        <div className={`w-12 h-12 rounded-xl ${\r\n          theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n        }`}></div>\r\n        <div>\r\n          <div className={`h-5 rounded w-32 mb-2 ${\r\n            theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n          }`}></div>\r\n          <div className={`h-3 rounded w-48 ${\r\n            theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n          }`}></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div className=\"p-6\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        {[...Array(6)].map((_, i) => (\r\n          <div key={i} className={`p-4 rounded-xl ${\r\n            theme === 'dark' ? 'bg-gray-700' : 'bg-gray-50'\r\n          }`}>\r\n            <div className={`h-3 rounded w-20 mb-2 ${\r\n              theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n            }`}></div>\r\n            <div className={`h-4 rounded w-32 ${\r\n              theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n            }`}></div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n\r\nconst AttendanceToggle = ({ theme }) => {\r\n  const [isDisabled, setIsDisabled] = useState(false);\r\n  \r\n  return (\r\n    <div className={`col-span-2 p-6 rounded-xl border ${\r\n      theme === 'dark'\r\n        ? 'bg-gradient-to-br from-indigo-900/30 to-purple-900/30 border-indigo-700'\r\n        : 'bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-200'\r\n    }`}>\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h4 className={`text-sm font-semibold mb-1 ${\r\n            theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n          }`}>Attendance Tracking</h4>\r\n          <p className={`text-xs ${\r\n            theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n          }`}>Control automated attendance monitoring</p>\r\n        </div>\r\n        <label className=\"relative inline-flex items-center cursor-pointer group\">\r\n          <input \r\n            type=\"checkbox\" \r\n            className=\"sr-only peer\" \r\n            checked={isDisabled}\r\n            onChange={(e) => setIsDisabled(e.target.checked)}\r\n          />\r\n          <div className={`w-14 h-8 rounded-full peer transition-all duration-300 \r\n                         peer-checked:after:translate-x-6 peer-checked:after:border-white \r\n                         after:content-[''] after:absolute after:top-1 after:left-1 \r\n                         after:bg-white after:border after:rounded-full \r\n                         after:h-6 after:w-6 after:transition-all after:shadow-md\r\n                         peer-checked:bg-gradient-to-r peer-checked:from-purple-500 peer-checked:to-indigo-600\r\n                         group-hover:shadow-lg ${\r\n            theme === 'dark' \r\n              ? 'bg-gray-600 after:border-gray-500' \r\n              : 'bg-gray-200 after:border-gray-300'\r\n          }`}>\r\n          </div>\r\n          <span className={`ml-3 text-sm font-medium ${\r\n            theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n          }`}>\r\n            {isDisabled ? 'Disabled' : 'Enabled'}\r\n          </span>\r\n        </label>\r\n      </div>\r\n      {isDisabled && (\r\n        <div className={`mt-3 p-3 border rounded-lg ${\r\n          theme === 'dark'\r\n            ? 'bg-yellow-900/30 border-yellow-700'\r\n            : 'bg-yellow-50 border-yellow-200'\r\n        }`}>\r\n          <div className=\"flex items-center space-x-2\">\r\n            <IoWarning className=\"w-4 h-4 text-yellow-600\" />\r\n            <p className={`text-xs ${\r\n              theme === 'dark' ? 'text-yellow-300' : 'text-yellow-700'\r\n            }`}>\r\n              Attendance tracking is currently disabled for this employee\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst Job = () => {\r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n  const { theme } = useContext(Context);\r\n  const [jobdetails, setJobDetails] = useState(null);\r\n  const [displayJobDetails, setDisplayJobDetails] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [completionStats, setCompletionStats] = useState({ completed: 0, total: 4 });\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n  const jobEmployeeId = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n  const isReadOnly = fromContextMenu && targetEmployeeId && targetEmployeeId !== empID;\r\n\r\n  useEffect(() => {\r\n    let jobDetailsFetch = async () => {\r\n      try {\r\n        let response = await publicinfoApi.get(`employee/${jobEmployeeId}/job/details`);\r\n        console.log(\"job data : \", response.data);\r\n        setJobDetails(response.data);\r\n      } catch (error) {\r\n        console.log(\"job error : \", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    jobDetailsFetch();\r\n  }, [jobEmployeeId]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (jobdetails) {\r\n      const formattedData = [\r\n        { label: \"EMPLOYEE NUMBER\", value: jobdetails.employeeId },\r\n        { label: \"DATE OF JOINING\", value: jobdetails.dateOfJoining },\r\n        { label: \"JOB TITLE - PRIMARY\", value: jobdetails.jobTitlePrimary },\r\n        { label: \"JOB TITLE - SECONDARY\", value: jobdetails.jobTitleSecondary || \"-\" },\r\n        {\r\n          label: \"IN PROBATION?\",\r\n          value: `${jobdetails.inProbation} ${jobdetails.probationStartDate || \"-\"} - ${jobdetails.probationEndDate || \"-\"}`,\r\n          note: jobdetails.probationPolicy || \"Default Probation Policy\"\r\n        },\r\n        { label: \"NOTICE PERIOD\", value: \"-\" },\r\n        { label: \"WORKER TYPE\", value: jobdetails.workerType || \"Intern\" },\r\n        { label: \"TIME TYPE\", value: jobdetails.timeType },\r\n        {\r\n          label: \"CONTRACT STATUS\",\r\n          value: jobdetails.contractStatus,\r\n          note: jobdetails.contractStartDate,\r\n          status: jobdetails.contractStatus === \"Active\" ? \"active\" : \"\"\r\n        },\r\n      ];\r\n      setDisplayJobDetails(formattedData);\r\n\r\n      const sections = [jobdetails, employeeTime, otherPolicies, organizationDetails];\r\n      const completed = sections.filter(section => section && section.length > 0).length;\r\n      setCompletionStats({ completed: completed || 1, total: 4 });\r\n    }\r\n  }, [jobdetails]);\r\n\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className={`min-h-screen ${\r\n        theme === 'dark' \r\n          ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n          : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n      }`}>\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <div className=\"text-center\">\r\n            <div className=\"relative\">\r\n              <div className=\"animate-spin rounded-full h-20 w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-6\"></div>\r\n              <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                <IoBriefcaseOutline className=\"w-8 h-8 text-blue-500\" />\r\n              </div>\r\n            </div>\r\n            <h2 className={`text-2xl font-bold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>Loading Job Information</h2>\r\n            <p className={`${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n            }`}>Fetching employment details and policies...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  if (!displayJobDetails) {\r\n    return (\r\n      <div className={`min-h-screen ${\r\n        theme === 'dark' \r\n          ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n          : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n      }`}>\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <div className=\"text-center\">\r\n            <div className={`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ${\r\n              theme === 'dark' ? 'bg-red-900/30' : 'bg-red-100'\r\n            }`}>\r\n              <IoWarning className=\"w-10 h-10 text-red-500\" />\r\n            </div>\r\n            <h2 className={`text-2xl font-bold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>Unable to Load Job Details</h2>\r\n            <p className={`${\r\n              theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n            }`}>Job information is not available for this employee.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={`min-h-screen ${\r\n      theme === 'dark' \r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"max-w-8xl mx-auto px-6 sm:px-8 lg:px-12 py-12\">\r\n        {fromContextMenu && (\r\n          <div className={`mb-6 p-4 rounded-2xl border-l-4 border-blue-500 shadow-lg ${\r\n            theme === 'dark' ? 'bg-blue-900/20 border-blue-400' : 'bg-blue-50 border-blue-500'\r\n          }`}>\r\n            <div className=\"flex items-center space-x-3\">\r\n              <IoEye className={`w-5 h-5 ${theme === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} />\r\n              <div>\r\n                <p className={`font-semibold ${theme === 'dark' ? 'text-blue-400' : 'text-blue-800'}`}>\r\n                  Viewing Employee Job Details\r\n                </p>\r\n                <p className={`text-sm ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                  Employee ID: {targetEmployeeId} \r\n                  {isReadOnly && \"  Read-only access\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"mb-12\">\r\n          <ProgressIndicator \r\n            completedSections={completionStats.completed} \r\n            totalSections={completionStats.total} \r\n            theme={theme}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-8\">\r\n            <>\r\n              <Section sectionKey=\"jobDetails\" title=\"Job Details\" data={displayJobDetails} theme={theme} />\r\n              <Section sectionKey=\"employeeTime\" title=\"Employee Time\" data={employeeTime} theme={theme}>\r\n                <AttendanceToggle theme={theme} />\r\n              </Section>\r\n              <Section sectionKey=\"otherPolicies\" title=\"Other Policies\" data={otherPolicies} theme={theme} />\r\n              <Section sectionKey=\"organizationDetails\" title=\"Organization Details\" data={organizationDetails} theme={theme} />\r\n            </>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default Job;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { IoClose, IoDocumentText, IoCheckmarkCircle, IoWarning, IoEye, IoAdd, IoCloudUpload, IoTrashOutline } from \"react-icons/io5\";\r\nimport { Context } from \"../../HrmsContext\";\r\nimport { publicinfoApi } from \"../../../../../axiosInstance\";\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\n\r\nconst identityFields = {\r\n    aadhaar: [\r\n        { label: \"Aadhaar Number\", name: \"aadhaarNumber\", type: \"text\", required: true, pattern: \"^[2-9]{1}[0-9]{11}$\", message: \"Invalid Aadhaar number format\" },\r\n        { label: \"Enrollment Number\", name: \"enrollmentNumber\", type: \"text\", required: true, pattern: \"^[0-9]{4}/[0-9]{5}/[0-9]{7}$\", message: \"Invalid enrollment number format\" },\r\n        { label: \"Date of Birth\", name: \"dateOfBirth\", type: \"date\", required: true },\r\n        { label: \"Name\", name: \"aadhaarName\", type: \"text\", required: true },\r\n        { label: \"Address\", name: \"address\", type: \"textarea\", required: true },\r\n        { label: \"Gender\", name: \"gender\", type: \"select\", options: [\"Male\", \"Female\", \"Other\"], required: true },\r\n        { label: \"Aadhaar Image\", name: \"aadhaarImage\", type: \"file\" },\r\n    ],\r\n    pan: [\r\n        { label: \"PAN Number\", name: \"panNumber\", type: \"text\", required: true, pattern: \"[A-Z]{5}[0-9]{4}[A-Z]{1}\", message: \"Invalid PAN format (e.g., ABCDE1234F)\" },\r\n        { label: \"PAN Name\", name: \"panName\", type: \"text\", required: true },\r\n        { label: \"Date of Birth\", name: \"dateOfBirth\", type: \"date\", required: true },\r\n        { label: \"Parents Name\", name: \"parentsName\", type: \"text\", required: true },\r\n        { label: \"PAN Image\", name: \"panImage\", type: \"file\" },\r\n    ],\r\n    drivingLicense: [\r\n        { label: \"License Number\", name: \"licenseNumber\", type: \"text\", required: true },\r\n        { label: \"Name\", name: \"name\", type: \"text\", required: true },\r\n        { label: \"Date of Birth\", name: \"dateOfBirth\", type: \"date\", required: true },\r\n        { label: \"Blood Group\", name: \"bloodGroup\", type: \"select\", options: [\"A+\", \"A-\", \"B+\", \"B-\", \"AB+\", \"AB-\", \"O+\", \"O-\"], required: true },\r\n        { label: \"Father's Name\", name: \"fatherName\", type: \"text\", required: true },\r\n        { label: \"Issue Date\", name: \"issueDate\", type: \"date\", required: true },\r\n        { label: \"Expiry Date\", name: \"expiresOn\", type: \"date\", required: true },\r\n        { label: \"Address\", name: \"address\", type: \"textarea\", required: true },\r\n        { label: \"License Image\", name: \"licenseImage\", type: \"file\" },\r\n    ],\r\n    passport: [\r\n        { label: \"Passport Number\", name: \"passportNumber\", type: \"text\", required: true, pattern: \"^[A-Z0-9]{6,9}$\", message: \"Invalid passport number format\" },\r\n        { label: \"Country Code\", name: \"countryCode\", type: \"text\", required: true, size: [2, 3] },\r\n        { label: \"Passport Type\", name: \"passportType\", type: \"text\", required: true },\r\n        { label: \"Date of Birth\", name: \"dateOfBirth\", type: \"date\", required: true },\r\n        { label: \"Name\", name: \"name\", type: \"text\", required: true },\r\n        { label: \"Gender\", name: \"gender\", type: \"select\", options: [\"Male\", \"Female\", \"Other\"], required: true },\r\n        { label: \"Date of Issue\", name: \"dateOfIssue\", type: \"date\", required: true },\r\n        { label: \"Place of Issue\", name: \"placeOfIssue\", type: \"text\", required: true },\r\n        { label: \"Place of Birth\", name: \"placeOfBirth\", type: \"text\", required: true },\r\n        { label: \"Date of Expiration\", name: \"dateOfExpiration\", type: \"date\", required: true },\r\n        { label: \"Address\", name: \"address\", type: \"textarea\", required: true },\r\n        { label: \"Passport Image\", name: \"passportImage\", type: \"file\" },\r\n    ],\r\n    voter: [\r\n        { label: \"Voter ID Number\", name: \"voterIdNumber\", type: \"text\", required: true, pattern: \"^[A-Z]{3}[0-9]{7}$\", message: \"Invalid Voter ID format (e.g., ABC1234567)\" },\r\n        { label: \"Full Name\", name: \"fullName\", type: \"text\", required: true },\r\n        { label: \"Relation Name\", name: \"relationName\", type: \"text\", required: true },\r\n        { label: \"Gender\", name: \"gender\", type: \"select\", options: [\"Male\", \"Female\", \"Other\"], required: true },\r\n        { label: \"Date of Birth\", name: \"dateOfBirth\", type: \"date\", required: true },\r\n        { label: \"Address\", name: \"address\", type: \"textarea\", required: true },\r\n        { label: \"Issued Date\", name: \"issuedDate\", type: \"date\", required: true },\r\n        { label: \"Voter Image\", name: \"uploadVoter\", type: \"file\" },\r\n    ],\r\n};\r\n\r\nconst documentConfig = {\r\n    aadhaar: {\r\n        icon: <IoDocumentText />,\r\n        color: 'from-blue-500 to-blue-700',\r\n        bgColor: 'bg-blue-50',\r\n        darkBgColor: 'bg-blue-900/20',\r\n        borderColor: 'border-blue-200',\r\n        darkBorderColor: 'border-blue-700',\r\n        textColor: 'text-blue-700',\r\n        darkTextColor: 'text-blue-400',\r\n        title: 'Aadhaar Card',\r\n        description: 'Government issued identity document'\r\n    },\r\n    pan: {\r\n        icon: <IoDocumentText />,\r\n        color: 'from-green-500 to-green-700',\r\n        bgColor: 'bg-green-50',\r\n        darkBgColor: 'bg-green-900/20',\r\n        borderColor: 'border-green-200',\r\n        darkBorderColor: 'border-green-700',\r\n        textColor: 'text-green-700',\r\n        darkTextColor: 'text-green-400',\r\n        title: 'PAN Card',\r\n        description: 'Permanent Account Number for taxation'\r\n    },\r\n    drivingLicense: {\r\n        icon: <IoDocumentText />,\r\n        color: 'from-orange-500 to-orange-700',\r\n        bgColor: 'bg-orange-50',\r\n        darkBgColor: 'bg-orange-900/20',\r\n        borderColor: 'border-orange-200',\r\n        darkBorderColor: 'border-orange-700',\r\n        textColor: 'text-orange-700',\r\n        darkTextColor: 'text-orange-400',\r\n        title: 'Driving License',\r\n        description: 'Valid driving permit document'\r\n    },\r\n    passport: {\r\n        icon: <IoDocumentText />,\r\n        color: 'from-purple-500 to-purple-700',\r\n        bgColor: 'bg-purple-50',\r\n        darkBgColor: 'bg-purple-900/20',\r\n        borderColor: 'border-purple-200',\r\n        darkBorderColor: 'border-purple-700',\r\n        textColor: 'text-purple-700',\r\n        darkTextColor: 'text-purple-400',\r\n        title: 'Passport',\r\n        description: 'International travel document'\r\n    },\r\n    voter: {\r\n        icon: <IoDocumentText />,\r\n        color: 'from-red-500 to-red-700',\r\n        bgColor: 'bg-red-50',\r\n        darkBgColor: 'bg-red-900/20',\r\n        borderColor: 'border-red-200',\r\n        darkBorderColor: 'border-red-700',\r\n        textColor: 'text-red-700',\r\n        darkTextColor: 'text-red-400',\r\n        title: 'Voter ID Card',\r\n        description: 'Electoral identity verification'\r\n    },\r\n};\r\n\r\nconst Document = () => {\r\n    const [editingSection, setEditingSection] = useState(null);\r\n    const [identityData, setIdentityData] = useState({});\r\n    const [editingData, setEditingData] = useState({});\r\n    const { empID } = useParams();\r\n    const location = useLocation();\r\n    const { theme, userData } = useContext(Context);\r\n    const [loading, setLoading] = useState(true);\r\n    const [errors, setErrors] = useState({});\r\n    const [searchFilter, setSearchFilter] = useState('');\r\n    const [completionStats, setCompletionStats] = useState({ completed: 0, total: 5 });\r\n    const [isUpdating, setIsUpdating] = useState(false);\r\n\r\n    const searchParams = new URLSearchParams(location.search);\r\n    const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n    const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n    const documentEmployeeId = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n    \r\n    const isReadOnly = false;\r\n    \r\n    const isAdmin = userData?.roles?.[0]?.toUpperCase() === 'ADMIN';\r\n\r\n    const validatePanData = (data) => {\r\n        const errors = {};\r\n        if (!data.panNumber) {\r\n            errors.panNumber = \"PAN number is required\";\r\n        } else if (!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(data.panNumber)) {\r\n            errors.panNumber = \"Invalid PAN format (e.g., ABCDE1234F)\";\r\n        }\r\n        if (!data.panName) {\r\n            errors.panName = \"PAN name is required\";\r\n        } else if (data.panName.length < 3 || data.panName.length > 100) {\r\n            errors.panName = \"PAN name must be between 3 and 100 characters\";\r\n        }\r\n        if (!data.dateOfBirth) {\r\n            errors.dateOfBirth = \"Date of birth is required\";\r\n        } else if (!/^\\d{4}-\\d{2}-\\d{2}$/.test(data.dateOfBirth)) {\r\n            errors.dateOfBirth = \"Date of birth must be in YYYY-MM-DD format\";\r\n        }\r\n        if (!data.parentsName) {\r\n            errors.parentsName = \"Parent's name is required\";\r\n        }\r\n        return errors;\r\n    };\r\n\r\n    const validateAadhaarData = (data) => {\r\n        const errors = {};\r\n        if (!data.aadhaarNumber) {\r\n            errors.aadhaarNumber = \"Aadhaar number is required\";\r\n        } else if (!/^[2-9]{1}[0-9]{11}$/.test(data.aadhaarNumber)) {\r\n            errors.aadhaarNumber = \"Invalid Aadhaar number format\";\r\n        }\r\n        if (!data.enrollmentNumber) {\r\n            errors.enrollmentNumber = \"Enrollment number is required\";\r\n        } else if (!/^[0-9]{4}\\/[0-9]{5}\\/[0-9]{7}$/.test(data.enrollmentNumber)) {\r\n            errors.enrollmentNumber = \"Invalid enrollment number format\";\r\n        }\r\n        if (!data.dateOfBirth) {\r\n            errors.dateOfBirth = \"Date of birth is required\";\r\n        }\r\n        if (!data.aadhaarName) {\r\n            errors.aadhaarName = \"Name is required\";\r\n        }\r\n        if (!data.address) {\r\n            errors.address = \"Address is required\";\r\n        }\r\n        if (!data.gender) {\r\n            errors.gender = \"Gender is required\";\r\n        }\r\n        return errors;\r\n    };\r\n\r\n    const validateDrivingLicenseData = (data) => {\r\n        const errors = {};\r\n        if (!data.licenseNumber) {\r\n            errors.licenseNumber = \"License number is required\";\r\n        }\r\n        if (!data.name) {\r\n            errors.name = \"Name is required\";\r\n        }\r\n        if (!data.dateOfBirth) {\r\n            errors.dateOfBirth = \"Date of birth is required\";\r\n        }\r\n        if (!data.bloodGroup) {\r\n            errors.bloodGroup = \"Blood group is required\";\r\n        }\r\n        if (!data.fatherName) {\r\n            errors.fatherName = \"Father's name is required\";\r\n        }\r\n        if (!data.issueDate) {\r\n            errors.issueDate = \"Issue date is required\";\r\n        }\r\n        if (!data.expiresOn) {\r\n            errors.expiresOn = \"Expiry date is required\";\r\n        }\r\n        if (!data.address) {\r\n            errors.address = \"Address is required\";\r\n        }\r\n        return errors;\r\n    };\r\n\r\n    const validatePassportData = (data) => {\r\n        const errors = {};\r\n        if (!data.passportNumber) {\r\n            errors.passportNumber = \"Passport number is required\";\r\n        } else if (!/^[A-Z0-9]{6,9}$/.test(data.passportNumber)) {\r\n            errors.passportNumber = \"Invalid passport number format\";\r\n        }\r\n        if (!data.countryCode) {\r\n            errors.countryCode = \"Country code is required\";\r\n        } else if (data.countryCode.length < 2 || data.countryCode.length > 3) {\r\n            errors.countryCode = \"Country code must be 2-3 characters\";\r\n        }\r\n        if (!data.passportType) {\r\n            errors.passportType = \"Passport type is required\";\r\n        }\r\n        if (!data.dateOfBirth) {\r\n            errors.dateOfBirth = \"Date of birth is required\";\r\n        }\r\n        if (!data.name) {\r\n            errors.name = \"Name is required\";\r\n        }\r\n        if (!data.gender) {\r\n            errors.gender = \"Gender is required\";\r\n        }\r\n        if (!data.dateOfIssue) {\r\n            errors.dateOfIssue = \"Date of issue is required\";\r\n        }\r\n        if (!data.placeOfIssue) {\r\n            errors.placeOfIssue = \"Place of issue is required\";\r\n        }\r\n        if (!data.placeOfBirth) {\r\n            errors.placeOfBirth = \"Place of birth is required\";\r\n        }\r\n        if (!data.dateOfExpiration) {\r\n            errors.dateOfExpiration = \"Date of expiration is required\";\r\n        }\r\n        if (!data.address) {\r\n            errors.address = \"Address is required\";\r\n        }\r\n        return errors;\r\n    };\r\n\r\n    const validateVoterData = (data) => {\r\n        const errors = {};\r\n        if (!data.voterIdNumber) {\r\n            errors.voterIdNumber = \"Voter ID number is required\";\r\n        } else if (!/^[A-Z]{3}[0-9]{7}$/.test(data.voterIdNumber)) {\r\n            errors.voterIdNumber = \"Invalid Voter ID format (e.g., ABC1234567)\";\r\n        }\r\n        if (!data.fullName) {\r\n            errors.fullName = \"Full name is required\";\r\n        }\r\n        if (!data.relationName) {\r\n            errors.relationName = \"Relation name is required\";\r\n        }\r\n        if (!data.gender) {\r\n            errors.gender = \"Gender is required\";\r\n        }\r\n        if (!data.dateOfBirth) {\r\n            errors.dateOfBirth = \"Date of birth is required\";\r\n        }\r\n        if (!data.address) {\r\n            errors.address = \"Address is required\";\r\n        }\r\n        if (!data.issuedDate) {\r\n            errors.issuedDate = \"Issued date is required\";\r\n        }\r\n        return errors;\r\n    };\r\n\r\n    const validateFormData = (subSection, data) => {\r\n        switch (subSection) {\r\n            case 'pan': return validatePanData(data);\r\n            case 'aadhaar': return validateAadhaarData(data);\r\n            case 'drivingLicense': return validateDrivingLicenseData(data);\r\n            case 'passport': return validatePassportData(data);\r\n            case 'voter': return validateVoterData(data);\r\n            default: return {};\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (fromContextMenu && targetEmployeeId) {\r\n            console.log(\"clicked user from context\", targetEmployeeId);\r\n        }\r\n        const fetchIdentityData = async () => {\r\n            setLoading(true);\r\n            try {\r\n                const identityPromises = [\r\n                    publicinfoApi.get(`employee/${documentEmployeeId}/aadhaar`).catch(() => ({ data: null })),\r\n                    publicinfoApi.get(`employee/${documentEmployeeId}/pan`).catch(() => ({ data: null })),\r\n                    publicinfoApi.get(`employee/${documentEmployeeId}/driving`).catch(() => ({ data: null })),\r\n                    publicinfoApi.get(`employee/${documentEmployeeId}/passport`).catch(() => ({ data: null })),\r\n                    publicinfoApi.get(`employee/${documentEmployeeId}/voter`).catch(() => ({ data: null })),\r\n                ];\r\n                const [aadhaarRes, panRes, drivingRes, passportRes, voterRes] = await Promise.all(identityPromises);\r\n                const data = {\r\n                    aadhaar: aadhaarRes.data,\r\n                    pan: panRes.data,\r\n                    drivingLicense: drivingRes.data,\r\n                    passport: passportRes.data,\r\n                    voter: voterRes.data,\r\n                };\r\n                setIdentityData(data);\r\n                const completed = Object.values(data).filter(Boolean).length;\r\n                setCompletionStats({ completed, total: 5 });\r\n            } catch (err) {\r\n                console.error(\"Failed to fetch identity data:\", err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        if (documentEmployeeId) {\r\n            fetchIdentityData();\r\n        }\r\n    }, [documentEmployeeId, fromContextMenu, targetEmployeeId]);\r\n\r\n    const openEditSection = (subSection) => {\r\n        if (isReadOnly) {\r\n            alert(\"You can only view this employee's documents. Editing is not allowed.\");\r\n            return;\r\n        }\r\n        setErrors({});\r\n        const dataToEdit = identityData[subSection] || {};\r\n        setEditingData(dataToEdit);\r\n        setEditingSection({ subSection });\r\n    };\r\n\r\n    const handleEditFieldChange = (field, value) => {\r\n        setEditingData((prev) => ({ ...prev, [field]: value }));\r\n        if (errors[field]) {\r\n            setErrors((prev) => {\r\n                const newErrors = { ...prev };\r\n                delete newErrors[field];\r\n                return newErrors;\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleFileChange = (field, file) => {\r\n        setEditingData((prev) => ({ ...prev, [field]: file }));\r\n    };\r\n\r\n    const handleUpdate = async (subSection) => {\r\n        setIsUpdating(true);\r\n        try {\r\n            const validationErrors = validateFormData(subSection, editingData);\r\n            if (Object.keys(validationErrors).length > 0) {\r\n                setErrors(validationErrors);\r\n                setIsUpdating(false);\r\n                return;\r\n            }\r\n\r\n            const existingData = identityData[subSection];\r\n            const method = existingData ? 'put' : 'post';\r\n            const formData = new FormData();\r\n\r\n            const filePartNames = {\r\n                aadhaar: 'aadhaarImage', pan: 'panImage', drivingLicense: 'licenseImage',\r\n                passport: 'passportImage', voter: 'voterImage'\r\n            };\r\n\r\n            const fileInputNames = {\r\n                aadhaar: 'aadhaarImage', pan: 'panImage', drivingLicense: 'licenseImage',\r\n                passport: 'passportImage', voter: 'uploadVoter'\r\n            };\r\n            \r\n            let backendDtoPartName;\r\n            switch (subSection) {\r\n                case 'pan':\r\n                    backendDtoPartName = (method === 'post') ? 'panDetails' : 'panDTO';\r\n                    break;\r\n                case 'voter':\r\n                    backendDtoPartName = (method === 'post') ? 'voterDetails' : 'voterDTO';\r\n                    break;\r\n                case 'aadhaar':\r\n                    backendDtoPartName = 'aadhaar';\r\n                    break;\r\n                case 'drivingLicense':\r\n                    backendDtoPartName = 'drivingLicense';\r\n                    break;\r\n                case 'passport':\r\n                    backendDtoPartName = 'passportDetails';\r\n                    break;\r\n                default:\r\n                    throw new Error(\"Invalid subsection for DTO part name\");\r\n            }\r\n\r\n            const fileInputField = fileInputNames[subSection];\r\n            const file = editingData[fileInputField];\r\n            if (file && file instanceof File) {\r\n                formData.append(filePartNames[subSection], file);\r\n            }\r\n            \r\n            const dto = { ...editingData };\r\n            delete dto[fileInputField];\r\n            formData.append(backendDtoPartName, new Blob([JSON.stringify(dto)], { type: \"application/json\" }));\r\n\r\n            const updateEmployeeId = documentEmployeeId;\r\n            let url;\r\n            switch (subSection) {\r\n                case 'aadhaar': url = `/employee/${method === 'put' ? `${updateEmployeeId}/aadhaar` : `aadhaar/${updateEmployeeId}`}`; break;\r\n                case 'pan': url = `/employee/${updateEmployeeId}/pan`; break;\r\n                case 'drivingLicense': url = `/employee/${method === 'put' ? `${updateEmployeeId}/driving` : `driving/license/${updateEmployeeId}`}`; break;\r\n                case 'passport': url = `/employee/${method === 'put' ? `${updateEmployeeId}/passport` : `passport/details/${updateEmployeeId}`}`; break;\r\n                case 'voter': url = `/employee/${updateEmployeeId}/voter`; break;\r\n                default: throw new Error(\"Invalid subsection for URL\");\r\n            }\r\n\r\n            await publicinfoApi[method](url, formData, {\r\n                headers: { 'Content-Type': 'multipart/form-data' }\r\n            });\r\n\r\n            setEditingSection(null);\r\n            setErrors({});\r\n\r\n            const getUrlKey = subSection === 'drivingLicense' ? 'driving' : subSection;\r\n            const updatedIdentityData = await publicinfoApi.get(`employee/${documentEmployeeId}/${getUrlKey}`);\r\n            setIdentityData(prev => {\r\n                const newData = { ...prev, [subSection]: updatedIdentityData.data };\r\n                const completed = Object.values(newData).filter(Boolean).length;\r\n                setCompletionStats({ completed, total: 5 });\r\n                return newData;\r\n            });\r\n\r\n        } catch (error) {\r\n            console.error(`Update for ${subSection} failed:`, error);\r\n            if (error.response) {\r\n                const { status, data } = error.response;\r\n                if (status === 400) {\r\n                    if (data && typeof data === 'object' && !data.timestamp) {\r\n                        setErrors(data);\r\n                    } else {\r\n                        const message = (data && data.message) ? data.message : \"Validation failed. Please check your input.\";\r\n                        setErrors({ general: message });\r\n                    }\r\n                } else {\r\n                    setErrors({ general: \"An unexpected error occurred. Please try again.\" });\r\n                }\r\n            } else {\r\n                setErrors({ general: \"Network error. Please check your internet connection.\" });\r\n            }\r\n        } finally {\r\n            setIsUpdating(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (subSectionKey) => {\r\n        const docTitle = documentConfig[subSectionKey].title;\r\n        if (!window.confirm(`Are you sure you want to delete the ${docTitle} for employee ${documentEmployeeId}? This action cannot be undone.`)) {\r\n            return;\r\n        }\r\n        try {\r\n            let urlKey = subSectionKey;\r\n            if (subSectionKey === 'drivingLicense') {\r\n                urlKey = 'driving';\r\n            }\r\n            const url = `employee/${documentEmployeeId}/${urlKey}`;\r\n            \r\n            await publicinfoApi.delete(url);\r\n\r\n            alert(`${docTitle} deleted successfully.`);\r\n            setIdentityData(prev => {\r\n                const updatedData = { ...prev, [subSectionKey]: null };\r\n                const completed = Object.values(updatedData).filter(Boolean).length;\r\n                setCompletionStats({ completed, total: 5 });\r\n                return updatedData;\r\n            });\r\n        } catch (err) {\r\n            console.error(`Failed to delete ${docTitle}:`, err);\r\n            alert(`Error deleting ${docTitle}. You may not have the required permissions.`);\r\n        }\r\n    };\r\n\r\n    const SkeletonCard = () => (\r\n        <div className={`border rounded-2xl shadow-sm overflow-hidden animate-pulse ${\r\n            theme === 'dark' \r\n                ? 'bg-gray-800 border-gray-700' \r\n                : 'bg-white border-gray-200'\r\n        }`}>\r\n            <div className={`p-6 border-b ${\r\n                theme === 'dark' \r\n                    ? 'bg-gray-700 border-gray-600' \r\n                    : 'bg-gray-100 border-gray-200'\r\n            }`}>\r\n                <div className=\"flex justify-between items-center\">\r\n                    <div className=\"flex items-center space-x-4\">\r\n                        <div className={`w-12 h-12 rounded-xl ${\r\n                            theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n                        }`}></div>\r\n                        <div>\r\n                            <div className={`h-5 rounded w-32 mb-2 ${\r\n                                theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n                            }`}></div>\r\n                            <div className={`h-3 rounded w-48 ${\r\n                                theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n                            }`}></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={`h-9 rounded-lg w-20 ${\r\n                        theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n                    }`}></div>\r\n                </div>\r\n            </div>\r\n            <div className=\"p-6\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    {[...Array(6)].map((_, i) => (\r\n                        <div key={i} className={`p-4 rounded-xl ${\r\n                            theme === 'dark' ? 'bg-gray-700' : 'bg-gray-50'\r\n                        }`}>\r\n                            <div className={`h-3 rounded w-20 mb-2 ${\r\n                                theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n                            }`}></div>\r\n                            <div className={`h-4 rounded w-32 ${\r\n                                theme === 'dark' ? 'bg-gray-600' : 'bg-gray-300'\r\n                            }`}></div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderField = (label, name, type = \"text\", required = false, options = [], isDisabled = false) => {\r\n        const isError = errors[name];\r\n        const fieldValue = editingData[name] || \"\";\r\n\r\n        const handleLocalFieldChange = (value) => {\r\n            handleEditFieldChange(name, value);\r\n            if (name === 'panNumber' && value) {\r\n                if (!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(value)) {\r\n                    setErrors(prev => ({ ...prev, [name]: \"PAN format: 5 letters + 4 digits + 1 letter (e.g., ABCDE1234F)\" }));\r\n                }\r\n            } else if (name === 'aadhaarNumber' && value) {\r\n                if (!/^[2-9]{1}[0-9]{11}$/.test(value)) {\r\n                    setErrors(prev => ({ ...prev, [name]: \"Aadhaar must be 12 digits starting with 2-9\" }));\r\n                }\r\n            } else if (name === 'voterIdNumber' && value) {\r\n                if (!/^[A-Z]{3}[0-9]{7}$/.test(value)) {\r\n                    setErrors(prev => ({ ...prev, [name]: \"Voter ID format: 3 letters + 7 digits (e.g., ABC1234567)\" }));\r\n                }\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div className=\"group relative\" key={name}>\r\n                <label className={`block text-sm font-semibold mb-3 flex items-center ${\r\n                    theme === 'dark' ? 'text-gray-200' : 'text-gray-800'\r\n                }`}>\r\n                    {label}\r\n                    {required && <span className=\"text-red-500 ml-1 text-base\">*</span>}\r\n                    {isDisabled && (\r\n                        <span className={`ml-2 px-2 py-1 text-xs rounded-full ${\r\n                            theme === 'dark' ? 'bg-gray-700 text-gray-400' : 'bg-gray-100 text-gray-500'\r\n                        }`}>\r\n                            Read Only\r\n                        </span>\r\n                    )}\r\n                </label>\r\n\r\n                {type === \"select\" ? (\r\n                    <div className=\"relative\">\r\n                        <select\r\n                            value={fieldValue}\r\n                            onChange={(e) => handleLocalFieldChange(e.target.value)}\r\n                            className={`w-full px-5 py-4 border-2 rounded-xl transition-all duration-300 appearance-none\r\n                                focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n                                ${isError \r\n                                    ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20' \r\n                                    : theme === 'dark'\r\n                                    ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                                    : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n                                }\r\n                                ${isDisabled ? theme === 'dark' ? 'bg-gray-800 cursor-not-allowed opacity-60' : 'bg-gray-50 cursor-not-allowed opacity-60' : ''}`}\r\n                            disabled={isDisabled}\r\n                        >\r\n                            <option value=\"\">Choose {label}</option>\r\n                            {options.map((opt) => (<option key={opt} value={opt}>{opt}</option>))}\r\n                        </select>\r\n                        <div className=\"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none\">\r\n                            <svg className={`w-5 h-5 ${theme === 'dark' ? 'text-gray-400' : 'text-gray-400'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                ) : type === \"date\" ? (\r\n                    <input\r\n                        type=\"date\"\r\n                        value={fieldValue}\r\n                        onChange={(e) => handleLocalFieldChange(e.target.value)}\r\n                        className={`w-full px-5 py-4 border-2 rounded-xl transition-all duration-300\r\n                            focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n                            ${isError \r\n                                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20' \r\n                                : theme === 'dark'\r\n                                ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                                : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n                            }\r\n                            ${isDisabled ? theme === 'dark' ? 'bg-gray-800 cursor-not-allowed opacity-60' : 'bg-gray-50 cursor-not-allowed opacity-60' : ''}`}\r\n                        disabled={isDisabled}\r\n                    />\r\n                ) : type === \"file\" ? (\r\n                    <div className={`relative border-2 border-dashed rounded-xl transition-all duration-300\r\n                        ${isError \r\n                            ? 'border-red-300 bg-red-50' \r\n                            : theme === 'dark'\r\n                            ? 'border-gray-600 bg-gray-800 hover:border-blue-400 hover:bg-blue-900/20'\r\n                            : 'border-gray-300 bg-gray-50 hover:border-blue-400 hover:bg-blue-50'\r\n                        }\r\n                        ${isDisabled ? 'opacity-60 cursor-not-allowed' : 'cursor-pointer'}`}>\r\n                        <input\r\n                            type=\"file\"\r\n                            onChange={(e) => handleFileChange(name, e.target.files?.[0])}\r\n                            className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\r\n                            disabled={isDisabled}\r\n                            accept=\".jpg,.jpeg,.png,.pdf\"\r\n                        />\r\n                        <div className=\"px-6 py-8 text-center\">\r\n                            <IoCloudUpload className={`mx-auto h-12 w-12 mb-4 ${\r\n                                theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                            }`} />\r\n                            <p className={`text-sm font-medium mb-1 ${\r\n                                theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                            }`}>\r\n                                Drop your file here, or <span className=\"text-blue-600\">browse</span>\r\n                            </p>\r\n                            <p className={`text-xs ${\r\n                                theme === 'dark' ? 'text-gray-500' : 'text-gray-500'\r\n                            }`}>PNG, JPG, PDF up to 10MB</p>\r\n                        </div>\r\n                    </div>\r\n                ) : type === \"textarea\" ? (\r\n                    <textarea\r\n                        value={fieldValue}\r\n                        onChange={(e) => handleLocalFieldChange(e.target.value)}\r\n                        className={`w-full px-5 py-4 border-2 rounded-xl transition-all duration-300 resize-none h-32\r\n                            focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n                            ${isError \r\n                                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20' \r\n                                : theme === 'dark'\r\n                                ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                                : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n                            }\r\n                            ${isDisabled ? theme === 'dark' ? 'bg-gray-800 cursor-not-allowed opacity-60' : 'bg-gray-50 cursor-not-allowed opacity-60' : ''}`}\r\n                        placeholder={`Enter ${label.toLowerCase()}...`}\r\n                        required={required}\r\n                        disabled={isDisabled}\r\n                    />\r\n                ) : (\r\n                    <input\r\n                        type={type}\r\n                        value={fieldValue}\r\n                        onChange={(e) => handleLocalFieldChange(e.target.value)}\r\n                        className={`w-full px-5 py-4 border-2 rounded-xl transition-all duration-300\r\n                            focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 focus:outline-none\r\n                            ${isError \r\n                                ? 'border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20' \r\n                                : theme === 'dark'\r\n                                ? 'border-gray-600 bg-gray-700 text-white hover:border-gray-500 group-hover:border-blue-400'\r\n                                : 'border-gray-200 bg-white hover:border-gray-300 group-hover:border-blue-300'\r\n                            }\r\n                            ${isDisabled ? theme === 'dark' ? 'bg-gray-800 cursor-not-allowed opacity-60' : 'bg-gray-50 cursor-not-allowed opacity-60' : ''}`}\r\n                        placeholder={`Enter ${label.toLowerCase()}...`}\r\n                        required={required}\r\n                        disabled={isDisabled}\r\n                    />\r\n                )}\r\n                {isError && (\r\n                    <div className=\"mt-3 flex items-center space-x-2 text-red-600 animate-slideIn\">\r\n                        <IoWarning className=\"w-4 h-4 flex-shrink-0\" />\r\n                        <p className=\"text-sm font-medium\">{isError}</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderEditModal = () => {\r\n        if (!editingSection) return null;\r\n        const { subSection } = editingSection;\r\n        const fields = identityFields[subSection] || [];\r\n        const isUpdate = !!identityData[subSection];\r\n        const config = documentConfig[subSection];\r\n\r\n        return (\r\n            <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-[200] p-4 animate-fadeIn\">\r\n                <div className={`rounded-3xl w-full max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl animate-slideUp ${\r\n                    theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n                }`}>\r\n                    <div className={`px-8 py-6 bg-gradient-to-r ${config.color} text-white relative overflow-hidden`}>\r\n                        <div className=\"absolute inset-0 bg-black/10\"></div>\r\n                        <div className=\"relative flex items-center justify-between\">\r\n                            <div className=\"flex items-center space-x-4\">\r\n                                <div className=\"text-4xl\">{config.icon}</div>\r\n                                <div>\r\n                                    <h2 className=\"text-2xl font-bold\">{isUpdate ? 'Update' : 'Add'} {config.title}</h2>\r\n                                    <p className=\"text-white/90 text-sm\">{config.description}</p>\r\n                                </div>\r\n                            </div>\r\n                            <button onClick={() => setEditingSection(null)} className=\"p-3 hover:bg-white/20 rounded-full transition-all duration-200 group\" aria-label=\"Close\">\r\n                                <IoClose className=\"w-6 h-6 group-hover:rotate-90 transition-transform duration-200\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"overflow-y-auto max-h-[calc(95vh-200px)]\">\r\n                        <form className=\"p-8\" onSubmit={(e) => { e.preventDefault(); handleUpdate(subSection); }}>\r\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n                                {fields.map((f) => {\r\n                                    const isIdField = ['aadhaarNumber', 'panNumber', 'licenseNumber', 'passportNumber', 'voterIdNumber'].includes(f.name);\r\n                                    const isDisabled = isUpdate && isIdField;\r\n                                    return renderField(f.label, f.name, f.type, f.required, f.options, isDisabled);\r\n                                })}\r\n                            </div>\r\n                            {errors.general && (\r\n                                <div className={`mt-6 p-5 border-l-4 border-red-400 rounded-r-xl animate-slideIn ${\r\n                                    theme === 'dark' ? 'bg-red-900/20' : 'bg-red-50'\r\n                                }`}>\r\n                                    <div className=\"flex items-center\">\r\n                                        <IoWarning className=\"w-6 h-6 text-red-400 mr-3\" />\r\n                                        <p className={`font-medium ${theme === 'dark' ? 'text-red-300' : 'text-red-800'}`}>{errors.general}</p>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </form>\r\n                    </div>\r\n                    \r\n                    <div className={`px-8 py-6 border-t flex justify-end space-x-4 ${\r\n                        theme === 'dark' \r\n                            ? 'bg-gray-700 border-gray-600' \r\n                            : 'bg-gray-50 border-gray-200'\r\n                    }`}>\r\n                        <button \r\n                            type=\"button\" \r\n                            onClick={() => setEditingSection(null)} \r\n                            className={`px-8 py-3 border-2 rounded-xl font-semibold transition-all duration-200 focus:ring-4 focus:ring-gray-500/20 ${\r\n                                theme === 'dark'\r\n                                    ? 'border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500'\r\n                                    : 'border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400'\r\n                            }`}\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button \r\n                            type=\"button\" \r\n                            onClick={() => handleUpdate(subSection)}\r\n                            disabled={isUpdating}\r\n                            className={`px-10 py-3 bg-gradient-to-r ${config.color} text-white font-bold rounded-xl\r\n                                            hover:shadow-lg transform hover:scale-105 transition-all duration-200 \r\n                                            focus:ring-4 focus:ring-blue-500/30 flex items-center space-x-2\r\n                                            ${isUpdating ? 'cursor-not-allowed opacity-75' : ''}`}\r\n                        >\r\n                            {isUpdating ? (\r\n                                <>\r\n                                    <div className=\"h-5 w-5 border-4 border-white border-t-transparent rounded-full animate-spin-slow\"></div>\r\n                                    <span>Updating...</span>\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <IoCheckmarkCircle className=\"w-5 h-5\" />\r\n                                    <span>{isUpdate ? 'Update Document' : 'Save Document'}</span>\r\n                                </>\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const DetailItem = ({ label, value }) => (\r\n        <div className={`group p-4 rounded-xl border transition-all duration-300 hover:scale-105 ${\r\n            theme === 'dark'\r\n                ? 'bg-gradient-to-br from-gray-700 to-gray-800 border-gray-600 hover:shadow-md hover:shadow-blue-500/20'\r\n                : 'bg-gradient-to-br from-gray-50 to-gray-100 border-gray-100 hover:shadow-md'\r\n        }`}>\r\n            <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex-1\">\r\n                    <span className={`text-xs font-bold uppercase tracking-wider block mb-2 ${\r\n                        theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                    }`}>{label}</span>\r\n                    <p className={`text-sm font-semibold leading-relaxed ${\r\n                        theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                    }`}>\r\n                        {value || (\r\n                            <span className={`italic ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>Not provided</span>\r\n                        )}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const DetailItemWithLink = ({ label, link }) => (\r\n        <div className={`group p-4 rounded-xl border transition-all duration-300 hover:scale-105 ${\r\n            theme === 'dark'\r\n                ? 'bg-gradient-to-br from-blue-900/30 to-indigo-900/30 border-blue-700'\r\n                : 'bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-100'\r\n        }`}>\r\n            <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex-1\">\r\n                    <span className={`text-xs font-bold uppercase tracking-wider block mb-2 ${\r\n                        theme === 'dark' ? 'text-blue-400' : 'text-blue-600'\r\n                    }`}>{label}</span>\r\n                    {link ? (\r\n                        <a href={link} target=\"_blank\" rel=\"noopener noreferrer\" className={`inline-flex items-center space-x-2 text-sm font-semibold hover:underline transition-all duration-200 group ${\r\n                            theme === 'dark' ? 'text-blue-300 hover:text-blue-200' : 'text-blue-700 hover:text-blue-900'\r\n                        }`}>\r\n                            <IoEye className=\"w-4 h-4\" />\r\n                            <span>View Document</span>\r\n                            <svg className=\"w-3 h-3 group-hover:translate-x-1 transition-transform duration-200\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                            </svg>\r\n                        </a>\r\n                    ) : (\r\n                        <p className={`text-sm font-medium italic ${\r\n                            theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                        }`}>Document not uploaded</p>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const IdentitySubSection = ({ title, data, onEdit, subSectionKey, onDelete, isAdmin }) => {\r\n        const config = documentConfig[subSectionKey];\r\n        const hasData = !!data;\r\n        return (\r\n            <div className={`border-2 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 overflow-hidden group hover:scale-[1.02] ${\r\n                theme === 'dark'\r\n                    ? `bg-gray-800 ${config.darkBorderColor} hover:shadow-blue-500/20`\r\n                    : `bg-white ${config.borderColor}`\r\n            }`}>\r\n                <div className={`px-8 py-6 border-b-2 relative overflow-hidden ${\r\n                    theme === 'dark'\r\n                        ? `${config.darkBgColor} ${config.darkBorderColor}`\r\n                        : `${config.bgColor} ${config.borderColor}`\r\n                }`}>\r\n                    <div className=\"absolute inset-0 bg-gradient-to-r from-transparent to-white/30\"></div>\r\n                    <div className=\"relative flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-4\">\r\n                            <div className=\"text-4xl transform group-hover:scale-110 transition-transform duration-300\">{config.icon}</div>\r\n                            <div>\r\n                                <h4 className={`text-xl font-bold flex items-center space-x-2 ${\r\n                                    theme === 'dark' ? config.darkTextColor : config.textColor\r\n                                }`}>\r\n                                    <span>{title}</span>\r\n                                    {hasData && (\r\n                                        <div className=\"flex items-center space-x-1\">\r\n                                            <IoCheckmarkCircle className=\"w-5 h-5 text-green-500\" />\r\n                                            <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium\">\r\n                                                Verified\r\n                                            </span>\r\n                                        </div>\r\n                                    )}\r\n                                </h4>\r\n                                <p className={`text-sm mt-1 ${\r\n                                    theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n                                }`}>{config.description}</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-2\">\r\n                           {fromContextMenu && isAdmin && hasData && (\r\n                                <button\r\n                                    onClick={() => onDelete(subSectionKey)}\r\n                                    className={`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 focus:ring-4 focus:ring-red-500/20 shadow-md hover:shadow-lg ${\r\n                                        theme === 'dark'\r\n                                            ? 'text-red-400 bg-gray-700 border-2 border-red-800 hover:bg-red-900/50'\r\n                                            : 'text-red-600 bg-white border-2 border-red-200 hover:bg-red-50'\r\n                                    }`}\r\n                                >\r\n                                    <IoTrashOutline className=\"w-4 h-4\" />\r\n                                    <span>Delete</span>\r\n                                </button>\r\n                            )}\r\n\r\n                            {!isReadOnly && (\r\n                                <button onClick={() => onEdit(subSectionKey)} className={`flex items-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 focus:ring-4 focus:ring-blue-500/20 shadow-md hover:shadow-lg ${\r\n                                    hasData\r\n                                        ? theme === 'dark'\r\n                                            ? `${config.darkTextColor} bg-gray-700 border-2 ${config.darkBorderColor} hover:bg-gray-600`\r\n                                            : `${config.textColor} bg-white border-2 ${config.borderColor} hover:bg-gray-50`\r\n                                        : 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:from-blue-600 hover:to-indigo-700'\r\n                                    }`}>\r\n                                    {hasData ? (\r\n                                        <>\r\n                                            <IoDocumentText className=\"w-4 h-4\" />\r\n                                            <span>Edit Details</span>\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <IoAdd className=\"w-4 h-4\" />\r\n                                            <span>Add Document</span>\r\n                                        </>\r\n                                    )}\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"p-8\">\r\n                    {hasData ? (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">\r\n                            {Object.keys(data).map(key => {\r\n                                if (key === 'employee') return null;\r\n                                if (key === 'uploadAadhaar' || key === 'panImage' || key === 'licenseImage' || key === 'passportImage' || key === 'uploadVoter') {\r\n                                    return <DetailItemWithLink key={key} label={key.replace(/([A-Z])/g, \" $1\")} link={data[key]} />;\r\n                                }\r\n                                return <DetailItem key={key} label={key.replace(/([A-Z])/g, \" $1\")} value={data[key]} />;\r\n                            })}\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"text-center py-12\">\r\n                            <div className={`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ${\r\n                                theme === 'dark' ? config.darkBgColor : config.bgColor\r\n                            }`}>\r\n                                <div className={`text-3xl opacity-50 ${\r\n                                    theme === 'dark' ? config.darkTextColor : config.textColor\r\n                                }`}>{config.icon}</div>\r\n                            </div>\r\n                            <h3 className={`text-lg font-semibold mb-2 ${\r\n                                theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                            }`}>No {title} Added</h3>\r\n                            <p className={`text-sm mb-6 max-w-sm mx-auto ${\r\n                                theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                            }`}>\r\n                                {isReadOnly\r\n                                    ? `This employee hasn't added their ${title.toLowerCase()} information yet.`\r\n                                    : `Add your ${title.toLowerCase()} information to complete your profile and enhance security.`\r\n                                }\r\n                            </p>\r\n                            {!isReadOnly && (\r\n                                <button onClick={() => onEdit(subSectionKey)} className=\"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-indigo-700 transform hover:scale-105 transition-all duration-300 shadow-lg\">\r\n                                    <IoAdd className=\"w-4 h-4\" />\r\n                                    <span>Add {title}</span>\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const ProgressIndicator = () => {\r\n        const percentage = (completionStats.completed / completionStats.total) * 100;\r\n        return (\r\n            <div className={`rounded-2xl p-6 shadow-lg border ${\r\n                theme === 'dark' \r\n                    ? 'bg-gray-800 border-gray-700' \r\n                    : 'bg-white border-gray-200'\r\n            }`}>\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                    <h3 className={`text-lg font-bold ${\r\n                        theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                    }`}>\r\n                        {isReadOnly ? 'Document Status' : 'Profile Completion'}\r\n                    </h3>\r\n                    <span className={`text-sm font-medium ${\r\n                        theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n                    }`}>{completionStats.completed}/{completionStats.total} Documents</span>\r\n                </div>\r\n                <div className={`w-full rounded-full h-3 mb-4 overflow-hidden ${\r\n                    theme === 'dark' ? 'bg-gray-700' : 'bg-gray-200'\r\n                }`}>\r\n                    <div className=\"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-700 ease-out\" style={{ width: `${percentage}%` }}></div>\r\n                </div>\r\n                <div className=\"flex justify-between text-sm\">\r\n                    <span className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>{percentage.toFixed(0)}% Complete</span>\r\n                    {percentage === 100 && (\r\n                        <span className=\"text-green-600 font-semibold flex items-center\">\r\n                            <IoCheckmarkCircle className=\"w-4 h-4 mr-1\" />\r\n                            All Set!\r\n                        </span>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const filteredSections = Object.keys(documentConfig).filter(key =>\r\n        documentConfig[key].title.toLowerCase().includes(searchFilter.toLowerCase()) ||\r\n        documentConfig[key].description.toLowerCase().includes(searchFilter.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className={`min-h-screen ${\r\n            theme === 'dark' \r\n                ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n                : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n        }`}>\r\n            {loading ? (\r\n                <div className=\"min-h-screen flex items-center justify-center\">\r\n                    <div className=\"text-center\">\r\n                        <div className=\"relative\">\r\n                            <div className=\"animate-spin rounded-full h-20 w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-6\"></div>\r\n                            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                                <IoDocumentText className=\"w-8 h-8 text-blue-500\" />\r\n                            </div>\r\n                        </div>\r\n                        <h2 className={`text-2xl font-bold mb-2 ${\r\n                            theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                        }`}>Loading Documents</h2>\r\n                        <p className={`${\r\n                            theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n                        }`}>Fetching identity information securely...</p>\r\n                        <div className=\"flex justify-center space-x-2 mt-4\">\r\n                            {[...Array(5)].map((_, i) => (\r\n                                <div key={i} className={`w-2 h-2 rounded-full bg-blue-500 animate-pulse`} style={{ animationDelay: `${i * 0.2}s` }}></div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"max-w-8xl mx-auto px-6 sm:px-8 lg:px-12 py-12\">\r\n                    {fromContextMenu && (\r\n                        <div className={`mb-6 p-4 rounded-2xl border-l-4 border-blue-500 shadow-lg ${\r\n                            theme === 'dark' ? 'bg-blue-900/20 border-blue-400' : 'bg-blue-50 border-blue-500'\r\n                        }`}>\r\n                            <div className=\"flex items-center space-x-3\">\r\n                                <IoEye className={`w-5 h-5 ${theme === 'dark' ? 'text-blue-400' : 'text-blue-600'}`} />\r\n                                <div>\r\n                                    <p className={`font-semibold ${theme === 'dark' ? 'text-blue-400' : 'text-blue-800'}`}>\r\n                                        Viewing Employee Documents\r\n                                    </p>\r\n                                    <p className={`text-sm ${theme === 'dark' ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                                        Employee ID: {targetEmployeeId} \r\n                                        {isReadOnly && \"  Read-only access\"}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12\">\r\n                        <div className=\"lg:col-span-2\">\r\n                            <ProgressIndicator />\r\n                        </div>\r\n                        <div className={`rounded-2xl p-6 shadow-lg border ${\r\n                            theme === 'dark' \r\n                                ? 'bg-gray-800 border-gray-700' \r\n                                : 'bg-white border-gray-200'\r\n                        }`}>\r\n                            <div className=\"relative\">\r\n                                <input \r\n                                    type=\"text\" \r\n                                    placeholder=\"Search documents...\" \r\n                                    value={searchFilter} \r\n                                    onChange={(e) => setSearchFilter(e.target.value)} \r\n                                    className={`w-full px-5 py-4 pl-12 border-2 rounded-xl focus:ring-4 focus:ring-blue-500/20 transition-all duration-300 ${\r\n                                        theme === 'dark'\r\n                                            ? 'border-gray-600 bg-gray-700 text-white placeholder-gray-400 focus:border-blue-500'\r\n                                            : 'border-gray-200 bg-white text-black placeholder-gray-500 focus:border-blue-500'\r\n                                    }`} \r\n                                />\r\n                                <svg className={`absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 ${\r\n                                    theme === 'dark' ? 'text-gray-400' : 'text-gray-400'\r\n                                }`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                                </svg>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-8\">\r\n                        {filteredSections.map(key => (\r\n                            <IdentitySubSection \r\n                                key={key} \r\n                                title={documentConfig[key].title} \r\n                                data={identityData[key]} \r\n                                onEdit={openEditSection} \r\n                                subSectionKey={key}\r\n                                onDelete={handleDelete}\r\n                                isAdmin={isAdmin}\r\n                            />\r\n                        ))}\r\n                        {filteredSections.length === 0 && searchFilter && (\r\n                            <div className=\"text-center py-16\">\r\n                                <div className={`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${\r\n                                    theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'\r\n                                }`}>\r\n                                    <svg className={`w-8 h-8 ${\r\n                                        theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n                                    }`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <h3 className={`text-lg font-semibold mb-2 ${\r\n                                    theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                                }`}>No documents found</h3>\r\n                                <p className={`${\r\n                                    theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                                }`}>Try adjusting your search terms</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {renderEditModal()}\r\n                </div>\r\n            )}\r\n            \r\n            <style jsx>{`\r\n                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n                @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }\r\n                @keyframes slideIn { from { transform: translateX(-10px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n                .animate-fadeIn { animation: fadeIn 0.3s ease-out; }\r\n                .animate-slideUp { animation: slideUp 0.4s ease-out; }\r\n                .animate-slideIn { animation: slideIn 0.3s ease-out; }\r\n                .animate-spin-slow {\r\n                    animation: spin 1s linear infinite;\r\n                }\r\n                @keyframes spin {\r\n                    from { transform: rotate(0deg); }\r\n                    to { transform: rotate(360deg); }\r\n                }\r\n            `}</style>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Document;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport { publicinfoApi } from '../../../../../axiosInstance';\r\nimport { FaTrophy, FaCalendarAlt, FaExternalLinkAlt, FaBuilding, FaIdBadge, FaPencilAlt, FaTrash, FaPlus } from 'react-icons/fa';\r\nimport { Context } from '../../HrmsContext';\r\n\r\nconst Achievements = () => {\r\n  const [achievements, setAchievements] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  \r\n  const { empID } = useParams();\r\n  const location = useLocation();\r\n  const { userData, theme } = useContext(Context);  \r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [selectedAchievement, setSelectedAchievement] = useState(null);\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n  const employeeIdToFetch = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n  \r\n  //  Updated permission logic: Allow editing for own profile or if user has management access\r\n  const userRole = userData?.roles?.[0]?.toUpperCase();\r\n  const hasManagementAccess = [\"ADMIN\", \"MANAGER\", \"HR\"].includes(userRole);\r\n  const isOwnProfile = employeeIdToFetch === empID;\r\n  const canEdit = isOwnProfile || hasManagementAccess;\r\n\r\n  useEffect(() => {\r\n    const fetchAchievements = async () => {\r\n      if (!employeeIdToFetch) return;\r\n      try {\r\n        setLoading(true);\r\n        const response = await publicinfoApi.get(`/employee/${employeeIdToFetch}/achievements`);\r\n        console.log(`Fetching achievements for: ${employeeIdToFetch}`, response.data);\r\n        setAchievements(response.data);\r\n        setError(null);\r\n      } catch (err) {\r\n        setError('Failed to fetch achievements. Please try again later.');\r\n        console.error(\"Error fetching achievements:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchAchievements();\r\n  }, [employeeIdToFetch]);\r\n\r\n  const handleOpenModal = (achievement = null) => {\r\n    if (achievement) {\r\n      setSelectedAchievement(achievement);\r\n      setIsEditMode(true);\r\n    } else {\r\n      setSelectedAchievement({\r\n        certificationName: '',\r\n        issuingAuthorityName: '',\r\n        certificationURL: '',\r\n        issueMonth: '',\r\n        issueYear: '',\r\n        expirationMonth: '',\r\n        expirationYear: '',\r\n        licenseNumber: ''\r\n      });\r\n      setIsEditMode(false);\r\n    }\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsModalOpen(false);\r\n    setSelectedAchievement(null);\r\n  };\r\n\r\n  const handleDelete = async (certificateId) => {\r\n    const confirmMessage = hasManagementAccess \r\n      ? 'Are you sure you want to delete this achievement?' \r\n      : 'Are you sure you want to delete your achievement?';\r\n      \r\n    if (window.confirm(confirmMessage)) {\r\n      try {\r\n        await publicinfoApi.delete(`/employee/${employeeIdToFetch}/${certificateId}/achievements`);\r\n        setAchievements(achievements.filter(ach => ach.id !== certificateId));\r\n        alert('Achievement deleted successfully!');\r\n      } catch (err) {\r\n        console.error('Error deleting achievement:', err);\r\n        alert('Failed to delete achievement. Please try again.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSave = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);\r\n    const achievementDTO = Object.fromEntries(formData.entries());\r\n\r\n    const submissionData = new FormData();\r\n    submissionData.append('achievementDTO', new Blob([JSON.stringify(achievementDTO)], { type: 'application/json' }));\r\n\r\n    try {\r\n        let response;\r\n        if (isEditMode) {\r\n            //  CORRECTED ENDPOINT for UPDATE\r\n            const url = `/employee/${employeeIdToFetch}/${selectedAchievement.id}/achievements`;\r\n            response = await publicinfoApi.put(url, submissionData, {\r\n                headers: { 'Content-Type': 'multipart/form-data' }\r\n            });\r\n            setAchievements(achievements.map(ach => ach.id === selectedAchievement.id ? response.data : ach));\r\n            alert('Achievement updated successfully!');\r\n        } else {\r\n            //  CORRECTED ENDPOINT for CREATE\r\n            const url = `/employee/achievements/${employeeIdToFetch}`;\r\n            response = await publicinfoApi.post(url, submissionData, {\r\n                headers: { 'Content-Type': 'multipart/form-data' }\r\n            });\r\n            setAchievements([...achievements, response.data]);\r\n            alert('Achievement added successfully!');\r\n        }\r\n        handleCloseModal();\r\n    } catch (err) {\r\n        console.error('Error saving achievement:', err.response?.data || err.message);\r\n        alert('Failed to save achievement. Please check your input and try again.');\r\n    }\r\n  };\r\n\r\n  if (loading) return (\r\n    <div className={`min-h-screen flex items-center justify-center ${\r\n      theme === 'dark' \r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"text-center\">\r\n        <div className=\"relative\">\r\n          <div className=\"animate-spin rounded-full h-20 w-20 border-4 border-blue-500 border-t-transparent mx-auto mb-6\"></div>\r\n          <div className=\"absolute inset-0 flex items-center justify-center\">\r\n            <FaTrophy className=\"w-8 h-8 text-blue-500\" />\r\n          </div>\r\n        </div>\r\n        <h2 className={`text-2xl font-bold mb-2 ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n        }`}>Loading Achievements</h2>\r\n        <p className={`${\r\n          theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n        }`}>Fetching certifications and achievements...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (error) return (\r\n    <div className={`min-h-screen flex items-center justify-center ${\r\n      theme === 'dark' \r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"text-center\">\r\n        <div className={`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ${\r\n          theme === 'dark' ? 'bg-red-900/30' : 'bg-red-100'\r\n        }`}>\r\n          <FaTrophy className=\"w-10 h-10 text-red-500\" />\r\n        </div>\r\n        <h2 className={`text-2xl font-bold mb-2 ${\r\n          theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n        }`}>Error Loading Achievements</h2>\r\n        <p className={`${\r\n          theme === 'dark' ? 'text-red-300' : 'text-red-500'\r\n        }`}>{error}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className={`min-h-screen ${\r\n      theme === 'dark' \r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100'\r\n    }`}>\r\n      <div className=\"max-w-8xl mx-auto px-6 sm:px-8 lg:px-12 py-12\">\r\n        {/* Header Section */}\r\n        <div className={`rounded-2xl p-6 shadow-lg border mb-8 ${\r\n          theme === 'dark' \r\n            ? 'bg-gray-800 border-gray-700' \r\n            : 'bg-white border-gray-200'\r\n        }`}>\r\n          <div className=\"flex justify-between items-center\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className={`p-3 rounded-xl shadow-md ${\r\n                theme === 'dark' ? 'bg-gray-700' : 'bg-white'\r\n              }`}>\r\n                <FaTrophy className={`w-8 h-8 ${\r\n                  theme === 'dark' ? 'text-yellow-400' : 'text-yellow-500'\r\n                }`} />\r\n              </div>\r\n              <div>\r\n                <h2 className={`text-2xl font-bold ${\r\n                  theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                }`}>\r\n                  Achievements & Certifications\r\n                </h2>\r\n                <p className={`text-sm ${\r\n                  theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n                }`}>\r\n                  {isOwnProfile ? 'Your professional certifications and achievements' : 'Professional certifications and achievements'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            {canEdit && (\r\n              <button \r\n                onClick={() => handleOpenModal()} \r\n                className={`px-6 py-3 rounded-xl font-semibold flex items-center space-x-2 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 ${\r\n                  theme === 'dark'\r\n                    ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700'\r\n                    : 'bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700'\r\n                }`}\r\n                title={isOwnProfile ? \"Add your achievement\" : \"Add achievement\"}\r\n              >\r\n                <FaPlus className=\"w-4 h-4\" />\r\n                <span>{isOwnProfile ? 'Add My Achievement' : 'Add Achievement'}</span>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Achievements Grid */}\r\n        {achievements.length === 0 ? (\r\n          <div className={`text-center py-16 px-6 rounded-2xl shadow-lg border ${\r\n            theme === 'dark' \r\n              ? 'bg-gray-800 border-gray-700' \r\n              : 'bg-white border-gray-200'\r\n          }`}>\r\n            <div className={`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ${\r\n              theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100'\r\n            }`}>\r\n              <FaTrophy className={`w-10 h-10 ${\r\n                theme === 'dark' ? 'text-gray-500' : 'text-gray-400'\r\n              }`} />\r\n            </div>\r\n            <h3 className={`text-xl font-semibold mb-2 ${\r\n              theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n            }`}>\r\n              {isOwnProfile ? 'No Achievements Yet' : 'No Achievements Found'}\r\n            </h3>\r\n            <p className={`text-sm max-w-md mx-auto ${\r\n              theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n            }`}>\r\n              {isOwnProfile \r\n                ? 'No achievements have been recorded yet. Add your certifications and accomplishments to showcase your expertise.'\r\n                : 'This employee has not added any achievements or certifications yet.'\r\n              }\r\n            </p>\r\n            {canEdit && isOwnProfile && (\r\n              <button \r\n                onClick={() => handleOpenModal()} \r\n                className={`mt-6 px-6 py-3 rounded-xl font-semibold flex items-center space-x-2 mx-auto transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 ${\r\n                  theme === 'dark'\r\n                    ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700'\r\n                    : 'bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700'\r\n                }`}\r\n              >\r\n                <FaPlus className=\"w-4 h-4\" />\r\n                <span>Add Your First Achievement</span>\r\n              </button>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-1 gap-6\">\r\n            {achievements.map((ach) => (\r\n              <div key={ach.id} className={`p-6 rounded-2xl shadow-lg border hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] relative group ${\r\n                theme === 'dark' \r\n                  ? 'bg-gray-800 border-gray-700 hover:shadow-blue-500/20' \r\n                  : 'bg-white border-gray-200'\r\n              }`}>\r\n                {canEdit && (\r\n                  <div className=\"absolute top-6 right-6 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n                    <button \r\n                      onClick={() => handleOpenModal(ach)} \r\n                      className={`p-2 rounded-lg transition-all duration-200 transform hover:scale-110 ${\r\n                        theme === 'dark'\r\n                          ? 'text-gray-400 hover:text-blue-400 hover:bg-gray-700'\r\n                          : 'text-gray-500 hover:text-blue-600 hover:bg-blue-50'\r\n                      }`}\r\n                      title={isOwnProfile ? \"Edit your achievement\" : \"Edit achievement\"}\r\n                    >\r\n                      <FaPencilAlt className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button \r\n                      onClick={() => handleDelete(ach.id)} \r\n                      className={`p-2 rounded-lg transition-all duration-200 transform hover:scale-110 ${\r\n                        theme === 'dark'\r\n                          ? 'text-gray-400 hover:text-red-400 hover:bg-gray-700'\r\n                          : 'text-gray-500 hover:text-red-600 hover:bg-red-50'\r\n                      }`}\r\n                      title={isOwnProfile ? \"Delete your achievement\" : \"Delete achievement\"}\r\n                    >\r\n                      <FaTrash className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                )}\r\n                \r\n                <div className=\"flex items-start space-x-6\">\r\n                  <div className={`p-4 rounded-xl shadow-md ${\r\n                    theme === 'dark' ? 'bg-gray-700' : 'bg-gradient-to-br from-blue-50 to-purple-50'\r\n                  }`}>\r\n                    <FaTrophy className={`text-3xl ${\r\n                      theme === 'dark' ? 'text-yellow-400' : 'text-yellow-500'\r\n                    }`} />\r\n                  </div>\r\n                  \r\n                  <div className=\"flex-1\">\r\n                    <div className=\"mb-4\">\r\n                      <h3 className={`text-xl font-bold mb-2 ${\r\n                        theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                      }`}>\r\n                        {ach.certificationName}\r\n                      </h3>\r\n                      <p className={`text-md flex items-center ${\r\n                        theme === 'dark' ? 'text-gray-300' : 'text-gray-600'\r\n                      }`}>\r\n                        <FaBuilding className=\"mr-2\" />\r\n                        {ach.issuingAuthorityName}\r\n                      </p>\r\n                    </div>\r\n                    \r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm\">\r\n                      <div className={`p-3 rounded-lg ${\r\n                        theme === 'dark' ? 'bg-gray-700/50' : 'bg-gray-50'\r\n                      }`}>\r\n                        <div className=\"flex items-center mb-1\">\r\n                          <FaCalendarAlt className={`mr-2 text-xs ${\r\n                            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                          }`} />\r\n                          <span className={`text-xs font-semibold uppercase tracking-wide ${\r\n                            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                          }`}>\r\n                            Issued\r\n                          </span>\r\n                        </div>\r\n                        <span className={`font-medium ${\r\n                          theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                        }`}>\r\n                          {ach.issueMonth} {ach.issueYear}\r\n                        </span>\r\n                      </div>\r\n                      \r\n                      <div className={`p-3 rounded-lg ${\r\n                        theme === 'dark' ? 'bg-gray-700/50' : 'bg-gray-50'\r\n                      }`}>\r\n                        <div className=\"flex items-center mb-1\">\r\n                          <FaCalendarAlt className={`mr-2 text-xs ${\r\n                            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                          }`} />\r\n                          <span className={`text-xs font-semibold uppercase tracking-wide ${\r\n                            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                          }`}>\r\n                            Expires\r\n                          </span>\r\n                        </div>\r\n                        <span className={`font-medium ${\r\n                          theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                        }`}>\r\n                          {ach.expirationMonth && ach.expirationYear \r\n                            ? `${ach.expirationMonth} ${ach.expirationYear}` \r\n                            : 'No Expiration'\r\n                          }\r\n                        </span>\r\n                      </div>\r\n                      \r\n                      <div className={`p-3 rounded-lg md:col-span-2 lg:col-span-1 ${\r\n                        theme === 'dark' ? 'bg-gray-700/50' : 'bg-gray-50'\r\n                      }`}>\r\n                        <div className=\"flex items-center mb-1\">\r\n                          <FaIdBadge className={`mr-2 text-xs ${\r\n                            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                          }`} />\r\n                          <span className={`text-xs font-semibold uppercase tracking-wide ${\r\n                            theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\r\n                          }`}>\r\n                            License No\r\n                          </span>\r\n                        </div>\r\n                        <span className={`font-medium ${\r\n                          theme === 'dark' ? 'text-white' : 'text-gray-900'\r\n                        }`}>\r\n                          {ach.licenseNumber || 'N/A'}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {ach.certificationURL && (\r\n                      <div className=\"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n                        <a \r\n                          href={ach.certificationURL} \r\n                          target=\"_blank\" \r\n                          rel=\"noopener noreferrer\" \r\n                          className={`inline-flex items-center px-4 py-2 rounded-lg font-semibold transition-all duration-300 hover:scale-105 ${\r\n                            theme === 'dark'\r\n                              ? 'text-blue-400 bg-blue-900/20 hover:bg-blue-900/40 border border-blue-700'\r\n                              : 'text-blue-600 bg-blue-50 hover:bg-blue-100 border border-blue-200'\r\n                          }`}\r\n                        >\r\n                          <span>View Credential</span>\r\n                          <FaExternalLinkAlt className=\"ml-2 w-4 h-4\" />\r\n                        </a>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Modal */}\r\n        {isModalOpen && (\r\n          <div className=\"fixed inset-0 backdrop-blur-sm bg-black bg-opacity-50 flex justify-center items-center z-[200] p-4\">\r\n            <div className={`rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto ${\r\n              theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n            }`}>\r\n              <div className={`px-8 py-6 border-b ${\r\n                theme === 'dark' ? 'border-gray-700' : 'border-gray-200'\r\n              }`}>\r\n                <h2 className={`text-2xl font-bold ${\r\n                  theme === 'dark' ? 'text-white' : 'text-gray-800'\r\n                }`}>\r\n                  {isEditMode \r\n                    ? (isOwnProfile ? 'Edit Your Achievement' : 'Edit Achievement')\r\n                    : (isOwnProfile ? 'Add Your Achievement' : 'Add New Achievement')\r\n                  }\r\n                </h2>\r\n                <p className={`text-sm mt-1 ${\r\n                  theme === 'dark' ? 'text-gray-400' : 'text-gray-600'\r\n                }`}>\r\n                  {isEditMode \r\n                    ? 'Update the achievement details below'\r\n                    : 'Fill in the details to add a new certification or achievement'\r\n                  }\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"p-8\">\r\n                <form onSubmit={handleSave} className=\"space-y-6\">\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <div>\r\n                      <label className={`block text-sm font-semibold mb-2 ${\r\n                        theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                      }`}>\r\n                        Certification Name *\r\n                      </label>\r\n                      <input \r\n                        name=\"certificationName\" \r\n                        defaultValue={selectedAchievement?.certificationName} \r\n                        placeholder=\"e.g., AWS Certified Solutions Architect\" \r\n                        className={`w-full p-3 rounded-lg border transition-colors ${\r\n                          theme === 'dark'\r\n                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500'\r\n                            : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500'\r\n                        } focus:outline-none focus:ring-2 focus:ring-blue-500/20`}\r\n                        required \r\n                      />\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className={`block text-sm font-semibold mb-2 ${\r\n                        theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                      }`}>\r\n                        Issuing Authority *\r\n                      </label>\r\n                      <input \r\n                        name=\"issuingAuthorityName\" \r\n                        defaultValue={selectedAchievement?.issuingAuthorityName} \r\n                        placeholder=\"e.g., Amazon Web Services\" \r\n                        className={`w-full p-3 rounded-lg border transition-colors ${\r\n                          theme === 'dark'\r\n                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500'\r\n                            : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500'\r\n                        } focus:outline-none focus:ring-2 focus:ring-blue-500/20`}\r\n                        required \r\n                      />\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className={`block text-sm font-semibold mb-2 ${\r\n                        theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                      }`}>\r\n                        Issue Month *\r\n                      </label>\r\n                      <select \r\n                        name=\"issueMonth\" \r\n                        defaultValue={selectedAchievement?.issueMonth} \r\n                        className={`w-full p-3 rounded-lg border transition-colors ${\r\n                          theme === 'dark'\r\n                            ? 'bg-gray-700 border-gray-600 text-white focus:border-blue-500'\r\n                            : 'bg-white border-gray-300 text-gray-900 focus:border-blue-500'\r\n                        } focus:outline-none focus:ring-2 focus:ring-blue-500/20`}\r\n                        required\r\n                      >\r\n                        <option value=\"\">Select Month</option>\r\n                        {['January', 'February', 'March', 'April', 'May', 'June', \r\n                          'July', 'August', 'September', 'October', 'November', 'December'\r\n                        ].map(month => (\r\n                          <option key={month} value={month}>{month}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className={`block text-sm font-semibold mb-2 ${\r\n                        theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                      }`}>\r\n                        Issue Year *\r\n                      </label>\r\n                      <input \r\n                        name=\"issueYear\" \r\n                        type=\"number\"\r\n                        min=\"1990\"\r\n                        max={new Date().getFullYear()}\r\n                        defaultValue={selectedAchievement?.issueYear} \r\n                        placeholder=\"e.g., 2023\" \r\n                        className={`w-full p-3 rounded-lg border transition-colors ${\r\n                          theme === 'dark'\r\n                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500'\r\n                            : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500'\r\n                        } focus:outline-none focus:ring-2 focus:ring-blue-500/20`}\r\n                        required \r\n                      />\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className={`block text-sm font-semibold mb-2 ${\r\n                        theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                      }`}>\r\n                        Expiration Month\r\n                      </label>\r\n                      <select \r\n                        name=\"expirationMonth\" \r\n                        defaultValue={selectedAchievement?.expirationMonth} \r\n                        className={`w-full p-3 rounded-lg border transition-colors ${\r\n                          theme === 'dark'\r\n                            ? 'bg-gray-700 border-gray-600 text-white focus:border-blue-500'\r\n                            : 'bg-white border-gray-300 text-gray-900 focus:border-blue-500'\r\n                        } focus:outline-none focus:ring-2 focus:ring-blue-500/20`}\r\n                      >\r\n                        <option value=\"\">Select Month (Optional)</option>\r\n                        {['January', 'February', 'March', 'April', 'May', 'June', \r\n                          'July', 'August', 'September', 'October', 'November', 'December'\r\n                        ].map(month => (\r\n                          <option key={month} value={month}>{month}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className={`block text-sm font-semibold mb-2 ${\r\n                        theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                      }`}>\r\n                        Expiration Year\r\n                      </label>\r\n                      <input \r\n                        name=\"expirationYear\" \r\n                        type=\"number\"\r\n                        min={new Date().getFullYear()}\r\n                        max=\"2050\"\r\n                        defaultValue={selectedAchievement?.expirationYear} \r\n                        placeholder=\"e.g., 2026\" \r\n                        className={`w-full p-3 rounded-lg border transition-colors ${\r\n                          theme === 'dark'\r\n                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500'\r\n                            : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500'\r\n                        } focus:outline-none focus:ring-2 focus:ring-blue-500/20`}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className={`block text-sm font-semibold mb-2 ${\r\n                      theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                    }`}>\r\n                      License Number\r\n                    </label>\r\n                    <input \r\n                      name=\"licenseNumber\" \r\n                      defaultValue={selectedAchievement?.licenseNumber} \r\n                      placeholder=\"e.g., AWS-ASA-12345\" \r\n                      className={`w-full p-3 rounded-lg border transition-colors ${\r\n                        theme === 'dark'\r\n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500'\r\n                          : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500'\r\n                      } focus:outline-none focus:ring-2 focus:ring-blue-500/20`}\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className={`block text-sm font-semibold mb-2 ${\r\n                      theme === 'dark' ? 'text-gray-300' : 'text-gray-700'\r\n                    }`}>\r\n                      Certification URL\r\n                    </label>\r\n                    <input \r\n                      name=\"certificationURL\" \r\n                      type=\"url\"\r\n                      defaultValue={selectedAchievement?.certificationURL} \r\n                      placeholder=\"https://...\" \r\n                      className={`w-full p-3 rounded-lg border transition-colors ${\r\n                        theme === 'dark'\r\n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500'\r\n                          : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500'\r\n                      } focus:outline-none focus:ring-2 focus:ring-blue-500/20`}\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"flex justify-end space-x-4 pt-6\">\r\n                    <button \r\n                      type=\"button\" \r\n                      onClick={handleCloseModal} \r\n                      className={`px-6 py-3 rounded-lg font-semibold transition-all duration-200 ${\r\n                        theme === 'dark'\r\n                          ? 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                          : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n                      }`}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button \r\n                      type=\"submit\" \r\n                      className={`px-6 py-3 rounded-lg font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 ${\r\n                        theme === 'dark'\r\n                          ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700'\r\n                          : 'bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700'\r\n                      }`}\r\n                    >\r\n                      {isEditMode ? 'Update' : 'Save'} Achievement\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Achievements;\r\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { Context } from \"../HrmsContext\";\r\nimport {\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n  useLocation,\r\n  useNavigate,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport About from \"./tabs/About\";\r\nimport Profile from \"./tabs/Profile\";\r\nimport Job from \"./tabs/Job\";\r\nimport Document from \"./tabs/Document\";\r\nimport Achievements from \"./tabs/Achievements\";\r\nimport { HiIdentification, HiPencil } from \"react-icons/hi\";\r\nimport {\r\n  MdWork,\r\n  MdBusiness,\r\n  MdEmail,\r\n  MdPerson,\r\n  MdChevronLeft,\r\n  MdChevronRight,\r\n  MdStar,\r\n} from \"react-icons/md\";\r\nimport { FaPhone, FaBuilding, FaCamera, FaTrash, FaTimes } from \"react-icons/fa\"; // Added new icons\r\nimport { publicinfoApi } from \"../../../../axiosInstance\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nconst Profiles = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { empID } = useParams();\r\n  const { userprofiledata, setUserProfileData, theme } = useContext(Context);\r\n\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const fromContextMenu = searchParams.get('fromContextMenu') === 'true';\r\n  const targetEmployeeId = searchParams.get('targetEmployeeId');\r\n\r\n  const profileEmployeeId = fromContextMenu && targetEmployeeId ? targetEmployeeId : empID;\r\n  \r\n  const isReadOnly = fromContextMenu && targetEmployeeId && targetEmployeeId !== empID;\r\n\r\n  const [activeTab, setActiveTab] = useState(location.pathname);\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  \r\n  const [profileImagePreview, setProfileImagePreview] = useState(null); \r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [employeeData, setEmployeeData] = useState({});\r\n  const [viewedEmployeeData, setViewedEmployeeData] = useState(null);\r\n\r\n  //  New state for the image management modal\r\n  const [isImageModalOpen, setIsImageModalOpen] = useState(false);\r\n  const fileInputRef = useRef(null); // To trigger file input click\r\n\r\n  useEffect(() => {\r\n    if (!profileEmployeeId) return;\r\n\r\n    const fetchEmployeeDetails = async () => {\r\n      try {\r\n        const response = await publicinfoApi.get(`/employee/${profileEmployeeId}`);\r\n        if (fromContextMenu && targetEmployeeId && targetEmployeeId !== empID) {\r\n          setViewedEmployeeData(response.data);\r\n        } else {\r\n          setUserProfileData(response.data);\r\n          setEmployeeData(response.data); \r\n        }\r\n      } catch (err) {\r\n        console.error(\" Error fetching employee details:\", err);\r\n      }\r\n    };\r\n\r\n    fetchEmployeeDetails();\r\n  }, [profileEmployeeId, setUserProfileData, fromContextMenu, targetEmployeeId, empID]);\r\n\r\n  useEffect(() => {\r\n    setActiveTab(location.pathname);\r\n  }, [location.pathname]);\r\n\r\n  const displayData = isReadOnly ? viewedEmployeeData : userprofiledata;\r\n\r\n  const initials = (displayData?.displayName || \"  \")\r\n    .split(\" \")\r\n    .map((word) => word[0])\r\n    .join(\"\")\r\n    .substring(0,2);\r\n\r\n  const tabs = [\r\n    { name: \"About\", path: `about`, icon: MdPerson },\r\n    { name: \"Profile\", path: `profile`, icon: HiIdentification },\r\n    { name: \"Job\", path: `job`, icon: MdWork },\r\n    { name: \"Documents\", path: `documents`, icon: MdBusiness },\r\n    { name: \"Achievements\", path: 'achievements', icon: MdStar },\r\n  ];\r\n\r\n  const handleImageUpload = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => setProfileImagePreview(reader.result);\r\n      reader.readAsDataURL(file);\r\n\r\n      const formData = new FormData();\r\n      formData.append('employeeImage', file);\r\n\r\n      try {\r\n        const response = await publicinfoApi.post(`/employee/${profileEmployeeId}/upload`, formData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' },\r\n        });\r\n        setUserProfileData(response.data);\r\n        alert('Profile picture updated successfully!');\r\n        setIsImageModalOpen(false); // Close modal on success\r\n      } catch (err) {\r\n        console.error(\"Error uploading image:\", err);\r\n        alert('Failed to upload image. Please try again.');\r\n        setProfileImagePreview(null); \r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDeleteImage = async () => {\r\n    if (window.confirm(\"Are you sure you want to delete your profile picture? This action cannot be undone.\")) {\r\n        try {\r\n            await publicinfoApi.delete(`/employee/${profileEmployeeId}/deleteImage`);\r\n            setUserProfileData({ ...userprofiledata, employeeImage: null });\r\n            setProfileImagePreview(null);\r\n            alert('Profile picture deleted successfully.');\r\n            setIsImageModalOpen(false);\r\n        } catch (err) {\r\n            console.error(\"Error deleting image:\", err);\r\n            alert('Failed to delete image. Please try again.');\r\n        }\r\n    }\r\n  };\r\n\r\n  const handleEditClick = () => {\r\n    if (isReadOnly) return;\r\n    setEmployeeData(displayData);\r\n    setIsEditing(true);\r\n  };\r\n  \r\n  const handleSave = (e) => {\r\n    e.preventDefault();\r\n    setIsEditing(false);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setEmployeeData((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleTabClick = (path) => {\r\n    const basePath = `/profile/${empID}/${path}`;\r\n    navigate(fromContextMenu && targetEmployeeId ? `${basePath}?fromContextMenu=true&targetEmployeeId=${targetEmployeeId}` : basePath);\r\n  };\r\n  \r\n  return (\r\n    <div className={`min-h-screen flex flex-col ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n      <div className={`h-48 relative ${theme === 'dark' ? 'bg-gray-800' : 'bg-[#B7D4FF]'}`}>\r\n        {!isReadOnly && (\r\n          <div className=\"absolute top-4 right-8\">\r\n            <button\r\n              onClick={handleEditClick}\r\n              className={`p-2 cursor-pointer rounded transition-colors ${theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600 text-gray-300' : 'bg-white hover:bg-gray-100 text-gray-600'}`}\r\n              title=\"Edit Profile\"\r\n            >\r\n              <HiPencil className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex items-start pt-4 px-8\">\r\n          {/*  UPDATED: Image container now opens the modal */}\r\n          <div \r\n            className=\"relative group cursor-pointer\"\r\n            onClick={() => !isReadOnly && setIsImageModalOpen(true)}\r\n          >\r\n            {(profileImagePreview || displayData?.employeeImage) ? (\r\n              <img\r\n                src={profileImagePreview || displayData.employeeImage}\r\n                alt=\"Profile\"\r\n                className=\"w-32 h-32 rounded-full bg-white border-2 border-white shadow-lg object-cover\"\r\n              />\r\n            ) : (\r\n              <div className={`w-32 h-32 rounded-full border-2 border-white shadow-lg flex items-center justify-center text-2xl font-medium ${theme === 'dark' ? 'bg-gray-600 text-white' : 'bg-gray-200 text-gray-600'}`}>\r\n                {initials}\r\n              </div>\r\n            )}\r\n\r\n            {!isReadOnly && (\r\n              <div className=\"absolute inset-0 rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity\">\r\n                <FaCamera className=\"text-white text-2xl\"/>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* ... rest of the header content ... */}\r\n          <div className={`ml-8 ${theme === 'dark' ? 'text-white' : 'text-gray-800'}`}>\r\n            <h1 className=\"text-3xl font-bold tracking-wide mb-4\">{displayData?.displayName}</h1>\r\n            <div className={`grid grid-cols-2 gap-x-12 gap-y-2 text-sm ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>\r\n              <div className=\"flex items-center space-x-2\"><HiIdentification className=\"w-5 h-5\" /><p>{displayData?.employeeId}</p></div>\r\n              <div className=\"flex items-center space-x-2\"><FaBuilding className=\"w-5 h-5\" /><p>{displayData?.location}</p></div>\r\n              <div className=\"flex items-center space-x-2\"><MdWork className=\"w-5 h-5\" /><p>{displayData?.jobTitlePrimary}</p></div>\r\n              <div className=\"flex items-center space-x-2\"><MdEmail className=\"w-5 h-5\" /><p>{displayData?.workEmail}</p></div>\r\n              <div className=\"flex items-center space-x-2\"><FaPhone className=\"w-5 h-5\" /><p>{displayData?.workNumber}</p></div>\r\n              <div className=\"flex items-center space-x-2\"><MdPerson className=\"w-5 h-5\" /><p>{displayData?.jobTitleSecondary}</p></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-1\">\r\n        <main className={`flex-1 p-6 ${theme === 'dark' ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n          <Routes>\r\n            <Route index element={<Navigate to=\"profile\" replace />} />\r\n            <Route path=\"about\" element={<About />} />\r\n            <Route path=\"profile\" element={<Profile />} />\r\n            <Route path=\"job\" element={<Job />} />\r\n            <Route path=\"documents\" element={<Document />} />\r\n            <Route path=\"achievements\" element={<Achievements />} /> \r\n          </Routes>\r\n        </main>\r\n\r\n        <div className={`transition-all duration-300 ${sidebarOpen ? \"w-64\" : \"w-20\"} border-l min-h-full relative ${theme === 'dark' ? 'bg-gray-900 border-gray-700' : 'bg-gray-50 border-gray-200'}`}>\r\n            <button onClick={() => setSidebarOpen(!sidebarOpen)} className={`absolute -left-3 top-4 border rounded-full p-1 shadow z-10 ${theme === 'dark' ? 'bg-gray-800 border-gray-600 hover:bg-gray-700 text-white' : 'bg-white border-gray-300 hover:bg-gray-100 text-gray-600'}`}>\r\n                {sidebarOpen ? <MdChevronRight /> : <MdChevronLeft />}\r\n            </button>\r\n            <nav className=\"p-4 sticky top-0\">\r\n                <div className=\"space-y-1\">\r\n                    {tabs.map((tab) => {\r\n                        const isActive = location.pathname.endsWith(tab.path);\r\n                        return (\r\n                            <div key={tab.path} onClick={() => handleTabClick(tab.path)} className={`cursor-pointer flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${isActive ? (theme === 'dark' ? \"bg-blue-600 text-white\" : \"bg-black text-white\") : (theme === 'dark' ? \"text-gray-300 hover:bg-gray-800\" : \"text-gray-700 hover:bg-gray-100\")}`}>\r\n                                <tab.icon className={`w-5 h-5 ${isActive ? \"text-white\" : (theme === 'dark' ? \"text-gray-400\" : \"text-gray-500\")}`} />\r\n                                {sidebarOpen && <span className=\"font-medium\">{tab.name}</span>}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/*  IMAGE MANAGEMENT MODAL */}\r\n      <AnimatePresence>\r\n        {isImageModalOpen && (\r\n            <motion.div\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                exit={{ opacity: 0 }}\r\n                className=\"fixed inset-0 backdrop-blur-sm bg-opacity-75 flex items-center justify-center z-[200] p-4\"\r\n                onClick={() => setIsImageModalOpen(false)}\r\n            >\r\n                <motion.div\r\n                    initial={{ scale: 0.9, y: 20 }}\r\n                    animate={{ scale: 1, y: 0 }}\r\n                    exit={{ scale: 0.9, y: 20 }}\r\n                    className={`relative rounded-2xl shadow-xl p-8 text-center ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}\r\n                    onClick={(e) => e.stopPropagation()} // Prevent closing modal when clicking inside\r\n                >\r\n                    <button onClick={() => setIsImageModalOpen(false)} className={`absolute top-4 right-4 p-2 rounded-full ${theme === 'dark' ? 'text-gray-400 hover:bg-gray-700' : 'text-gray-500 hover:bg-gray-200'}`}>\r\n                        <FaTimes/>\r\n                    </button>\r\n                    <h3 className={`text-2xl font-bold mb-4 ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>Profile Picture</h3>\r\n                    <div className=\"mb-6\">\r\n                        {(profileImagePreview || displayData?.employeeImage) ? (\r\n                            <img src={profileImagePreview || displayData.employeeImage} alt=\"Profile Preview\" className=\"w-48 h-48 rounded-full object-cover mx-auto shadow-lg\" />\r\n                        ) : (\r\n                            <div className={`w-48 h-48 rounded-full mx-auto shadow-lg flex items-center justify-center text-5xl font-medium ${theme === 'dark' ? 'bg-gray-600 text-white' : 'bg-gray-200 text-gray-600'}`}>\r\n                                {initials}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"flex justify-center space-x-4\">\r\n                        <button \r\n                            onClick={() => fileInputRef.current.click()}\r\n                            className=\"flex items-center space-x-2 px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-transform transform hover:scale-105\"\r\n                        >\r\n                            <FaCamera/>\r\n                            <span>Change</span>\r\n                        </button>\r\n                        {displayData?.employeeImage && (\r\n                            <button\r\n                                onClick={handleDeleteImage}\r\n                                className=\"flex items-center space-x-2 px-6 py-3 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition-transform transform hover:scale-105\"\r\n                            >\r\n                                <FaTrash/>\r\n                                <span>Delete</span>\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                    <input\r\n                        type=\"file\"\r\n                        ref={fileInputRef}\r\n                        onChange={handleImageUpload}\r\n                        accept=\"image/*\"\r\n                        className=\"hidden\"\r\n                    />\r\n                </motion.div>\r\n            </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {isEditing && !isReadOnly && (\r\n        <div className=\"fixed inset-0 backdrop-blur-sm bg-opacity-100 flex items-center justify-center z-[200]\">\r\n          <div className={`rounded-lg p-6 w-[500px] shadow-2xl ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}>\r\n            <h2 className={`text-2xl font-bold mb-4 ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>Edit Profile</h2>\r\n            <form onSubmit={handleSave}>\r\n              <div className=\"space-y-4\">\r\n                {[\"name\", \"empId\", \"company\", \"department\", \"email\", \"contact\", \"role\"].map((field) => (\r\n                  <div key={field}>\r\n                    <label className={`block text-sm font-medium capitalize ${theme === 'dark' ? 'text-gray-300' : 'text-gray-700'}`}>{field}</label>\r\n                    <input\r\n                      type={field === \"email\" ? \"email\" : \"text\"}\r\n                      name={field}\r\n                      value={employeeData[field] || ''}\r\n                      onChange={handleInputChange}\r\n                      className={`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-blue-500'}`}\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"mt-6 flex justify-end space-x-3\">\r\n                <button type=\"button\" onClick={() => setIsEditing(false)} className={`px-4 py-2 border rounded-md transition-colors ${theme === 'dark' ? 'border-gray-600 text-gray-300 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-50'}`}>Cancel</button>\r\n                <button type=\"submit\" className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\">Save Changes</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profiles;","import axios from 'axios';\r\n \r\nconst AUTH_API_URL = 'http://hrms.anasolconsultancyservices.com/api/auth/refresh-token';\r\n \r\nfunction cloneFormData(formData) {\r\n    const newFormData = new FormData();\r\n    for (let [key, value] of formData.entries()) {\r\n        newFormData.append(key, value);\r\n    }\r\n    return newFormData;\r\n}\r\n \r\nlet isRefreshing = false;\r\nlet failedQueue = [];\r\n \r\nconst processQueue = (error, token = null) => {\r\n    failedQueue.forEach(prom => {\r\n        if (error) {\r\n            prom.reject(error);\r\n        } else {\r\n            prom.resolve(token);\r\n        }\r\n    });\r\n    failedQueue = [];\r\n};\r\n \r\nconst createAxiosInstance = (baseURL) => {\r\n    const instance = axios.create({\r\n        baseURL: baseURL,\r\n    });\r\n \r\n   \r\n    instance.interceptors.request.use(\r\n        (config) => {\r\n            const token = localStorage.getItem('accessToken');\r\n            if (token) {\r\n                config.headers['Authorization'] = `Bearer ${token}`;\r\n            }\r\n            return config;\r\n        },\r\n        (error) => Promise.reject(error)\r\n    );\r\n \r\n    instance.interceptors.response.use(\r\n        (response) => response,\r\n        async (error) => {\r\n            const originalRequest = error.config;\r\n \r\n            if (error.response?.status === 401 && !originalRequest._retry) {\r\n                if (isRefreshing) {\r\n                    return new Promise((resolve, reject) => {\r\n                        failedQueue.push({ resolve, reject });\r\n                    })\r\n                    .then(token => {\r\n                        originalRequest.headers['Authorization'] = `Bearer ${token}`;\r\n                        return instance(originalRequest);\r\n                    })\r\n                    .catch(err => Promise.reject(err));\r\n                }\r\n \r\n                originalRequest._retry = true;\r\n                isRefreshing = true;\r\n \r\n                const oldToken = localStorage.getItem('accessToken');\r\n                console.log(` Token expired for ${baseURL}. Old Token:`, oldToken);\r\n \r\n                try {\r\n                    const refreshResponse = await axios.post(\r\n                        AUTH_API_URL,\r\n                        {},\r\n                        { withCredentials: true }\r\n                    );\r\n \r\n                    const { accessToken } = refreshResponse.data;\r\n                    localStorage.setItem('accessToken', accessToken);\r\n                    console.log(` New Token for ${baseURL}:`, accessToken);\r\n \r\n                    if (originalRequest.data instanceof FormData) {\r\n                        originalRequest.data = cloneFormData(originalRequest.data);\r\n                    }\r\n \r\n                    processQueue(null, accessToken);\r\n \r\n                    const newInstance = createAxiosInstance(baseURL);\r\n                    originalRequest.headers['Authorization'] = `Bearer ${accessToken}`;\r\n \r\n                    return newInstance(originalRequest);\r\n \r\n                } catch (refreshError) {\r\n                    console.error(\"Refresh token failed. Logging out.\", refreshError);\r\n                    localStorage.clear();\r\n                    window.location.href = '/login';\r\n                    processQueue(refreshError);\r\n                    return Promise.reject(refreshError);\r\n \r\n                } finally {\r\n                    isRefreshing = false;\r\n                }\r\n            }\r\n \r\n            return Promise.reject(error);\r\n        }\r\n    );\r\n \r\n    return instance;\r\n};\r\n \r\nwindow.addEventListener('storage', (event) => {\r\n    if (event.key === 'accessToken') {\r\n        console.log(\" Token updated in another tab:\", event.newValue);\r\n    }\r\n});\r\n \r\nexport const tasksApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api');\r\nexport const publicinfoApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api');\r\nexport const chatApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api');\r\nexport const notificationsApi = createAxiosInstance('http://hrms.anasolconsultancyservices.com/api/notification');\r\nexport const ticketsApi = createAxiosInstance('http://localhost:8088/api/ticket')"],"names":["About","theme","useContext","Context","empID","useParams","location","useLocation","searchParams","URLSearchParams","search","fromContextMenu","get","targetEmployeeId","isReadOnly","responses","setResponses","useState","savedResponses","localStorage","getItem","JSON","parse","about","text","isEditing","jobLove","interests","useEffect","setItem","stringify","handleEdit","field","prev","renderResponseSection","title","_jsxs","className","children","_jsx","rows","defaultValue","id","placeholder","onClick","handleCancel","handleSave","value","document","getElementById","IoEye","defaultProfile","relations","fatherName","motherName","spouseName","siblings","sectionFields","primaryDetails","label","name","type","required","options","contactDetails","address","education","experience","sectionConfig","icon","IoPersonOutline","color","bgColor","darkBgColor","borderColor","darkBorderColor","textColor","darkTextColor","description","IoMailOutline","IoLocationOutline","IoPeopleOutline","IoSchoolOutline","IoBriefcaseOutline","_userData$roles","_userData$roles$","_defaultProfile$relat","_defaultProfile$relat2","_defaultProfile$relat3","_defaultProfile$relat4","_defaultProfile$relat5","editingSection","setEditingSection","primarydata","setPrimaryData","contactdetails","setContactDetails","addressData","setAddressData","eduData","setEduData","setExperience","userData","editingData","setEditingData","loading","setLoading","isUpdating","setIsUpdating","errors","setErrors","completionStats","setCompletionStats","completed","total","selectedFile","setSelectedFile","profileEmployeeId","isAdmin","roles","toUpperCase","console","log","async","primaryRes","contactRes","addressRes","eduRes","expRes","Promise","all","publicinfoApi","catch","err","data","length","filter","Boolean","error","fetchData","openEditSection","section","alert","dataToEdit","handleEditFieldChange","newErrors","handleSubmit","success","url","put","updatedData","response","status","general","handleUpdatePrimaryDetails","handleUpdateContactDetails","handleUpdateAddress","isUpdate","method","formData","FormData","append","Blob","headers","updatedEduRes","handleUpdateEducation","post","updatedExperienceRes","handleUpdateExperience","renderField","arguments","undefined","isError","fieldValue","onChange","e","_e$target$files","file","target","files","accept","IoCloudUpload","map","opt","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","toLowerCase","IoWarning","DetailItem","_ref","Section","_ref2","sectionKey","config","IconComponent","hasData","Array","isArray","IoCheckmarkCircle","includes","sectionTitle","window","confirm","Error","delete","handleDelete","IoTrashOutline","_Fragment","IoAdd","ProgressIndicator","profileSections","completedCount","totalCount","percentage","style","width","toFixed","_","i","animationDelay","firstName","middleName","lastName","displayName","gender","dateOfBirth","maritalStatus","bloodGroup","physicallyHandicapped","nationality","workEmail","personalEmail","mobileNumber","workNumber","street","city","state","zip","country","district","edu","index","degreeType","universityOrCollege","branchOrSpecialization","startYear","endYear","cgpaOrPercentage","addFiles","href","rel","exp","companyName","jobTitle","startMonth","endMonth","renderEditModal","fields","IoClose","onSubmit","preventDefault","f","disabled","jsx","employeeTime","otherPolicies","organizationDetails","jobDetails","IoTimeOutline","IoDocumentTextOutline","IoBusinessOutline","note","item","_ref3","completedSections","totalSections","AttendanceToggle","_ref5","isDisabled","setIsDisabled","checked","Job","jobdetails","setJobDetails","displayJobDetails","setDisplayJobDetails","isLoading","setIsLoading","jobEmployeeId","jobDetailsFetch","formattedData","employeeId","dateOfJoining","jobTitlePrimary","jobTitleSecondary","inProbation","probationStartDate","probationEndDate","probationPolicy","workerType","timeType","contractStatus","contractStartDate","identityFields","aadhaar","pattern","message","pan","drivingLicense","passport","size","voter","documentConfig","IoDocumentText","Document","identityData","setIdentityData","searchFilter","setSearchFilter","documentEmployeeId","identityPromises","aadhaarRes","panRes","drivingRes","passportRes","voterRes","Object","values","fetchIdentityData","subSection","handleUpdate","validationErrors","validateFormData","panNumber","test","panName","parentsName","validatePanData","aadhaarNumber","enrollmentNumber","aadhaarName","validateAadhaarData","licenseNumber","issueDate","expiresOn","validateDrivingLicenseData","passportNumber","countryCode","passportType","dateOfIssue","placeOfIssue","placeOfBirth","dateOfExpiration","validatePassportData","voterIdNumber","fullName","relationName","issuedDate","validateVoterData","keys","filePartNames","fileInputNames","backendDtoPartName","fileInputField","File","dto","updateEmployeeId","getUrlKey","updatedIdentityData","newData","timestamp","docTitle","subSectionKey","urlKey","handleLocalFieldChange","DetailItemWithLink","link","IdentitySubSection","onEdit","onDelete","key","replace","filteredSections","isIdField","Achievements","achievements","setAchievements","setError","isModalOpen","setIsModalOpen","selectedAchievement","setSelectedAchievement","isEditMode","setIsEditMode","employeeIdToFetch","userRole","hasManagementAccess","isOwnProfile","canEdit","fetchAchievements","handleOpenModal","achievement","certificationName","issuingAuthorityName","certificationURL","issueMonth","issueYear","expirationMonth","expirationYear","handleCloseModal","FaTrophy","FaPlus","ach","FaPencilAlt","confirmMessage","certificateId","FaTrash","FaBuilding","FaCalendarAlt","FaIdBadge","FaExternalLinkAlt","achievementDTO","fromEntries","entries","submissionData","_err$response","month","min","max","Date","getFullYear","Profiles","navigate","useNavigate","userprofiledata","setUserProfileData","activeTab","setActiveTab","pathname","sidebarOpen","setSidebarOpen","profileImagePreview","setProfileImagePreview","setIsEditing","employeeData","setEmployeeData","viewedEmployeeData","setViewedEmployeeData","isImageModalOpen","setIsImageModalOpen","fileInputRef","useRef","fetchEmployeeDetails","displayData","initials","split","word","join","substring","tabs","path","MdPerson","HiIdentification","MdWork","MdBusiness","MdStar","handleInputChange","handleEditClick","HiPencil","employeeImage","src","alt","FaCamera","MdEmail","FaPhone","Routes","Route","element","Navigate","to","Profile","MdChevronRight","MdChevronLeft","tab","isActive","endsWith","basePath","handleTabClick","AnimatePresence","motion","div","initial","opacity","animate","exit","scale","y","stopPropagation","FaTimes","current","click","ref","event","reader","FileReader","onloadend","result","readAsDataURL","isRefreshing","failedQueue","processQueue","token","forEach","prom","reject","resolve","createAxiosInstance","baseURL","instance","axios","create","interceptors","request","use","_error$response","originalRequest","_retry","push","then","oldToken","refreshResponse","withCredentials","accessToken","newFormData","cloneFormData","newInstance","refreshError","clear","addEventListener","newValue","tasksApi","chatApi","notificationsApi","ticketsApi"],"sourceRoot":""}